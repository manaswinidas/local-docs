<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>2.&nbsp;What's New</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Spring Web Flow Reference Guide"><link rel="up" href="index.html" title="Spring Web Flow Reference Guide"><link rel="prev" href="introduction.html" title="1.&nbsp;Introduction"><link rel="next" href="defining-flows.html" title="3.&nbsp;Defining Flows"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.&nbsp;What's New</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="introduction.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="defining-flows.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="whatsnew" href="#whatsnew"></a>2.&nbsp;What's New</h1></div></div></div>
	

	<div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="whatsnew-swf-250" href="#whatsnew-swf-250"></a>2.1.&nbsp;Spring Web Flow 2.5</h2></div></div></div>
		
		<p>
			This release provides an upgrade path to Spring Framework 5 that in turn requires
			Java 8+, Servlet 3.1, Hibernate 5, Tiles 3. See the
			<a class="ulink" href="https://github.com/spring-projects/spring-framework/wiki/What%27s-New-in-Spring-Framework-5.x" target="_top">Spring Framework wiki</a>
			for more details. The <a class="ulink" href="https://github.com/spring-projects/spring-webflow-samples" target="_top">samples repository</a>
			has been upgraded to Spring Web Flow 2.5.
		</p>
		<p>
			As of 2.5 there is no longer a <span class="emphasis"><em>spring-js</em></span> module. The classes from that module
			have been kept but moved to new packages in the <span class="emphasis"><em>spring-webflow</em></span> module.
			The <span class="emphasis"><em>spring-js-resources</em></span> module is available as an optional module that
			must be included explicitly.
		</p>
		<p>This release requires JSF 2.2 or higher.</p>
	</div>

	<div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="whatsnew-swf-240" href="#whatsnew-swf-240"></a>2.2.&nbsp;Spring Web Flow 2.4</h2></div></div></div>
		
		<p>This release requires JDK 1.6.</p>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-swf-java-config" href="#whatsnew-swf-java-config"></a>2.2.1.&nbsp;Java-based Configuration</h3></div></div></div>
			
			<p>
				Web Flow now supports a Java-based alternative for its system configuration.
				See the updated <a class="xref" href="system-setup.html" title="10.&nbsp;System Setup">Chapter&nbsp;10, <i>System Setup</i></a>.
			</p>
			<p>
				Also see the
				<a class="ulink" href="https://github.com/spring-projects/spring-webflow-samples/tree/master/booking-mvc" target="_top">booking-mvc</a> and
				<a class="ulink" href="https://github.com/spring-projects/spring-webflow-samples/tree/master/booking-faces" target="_top">booking-faces</a>
				samples that have been updated to use all Java config.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-swf-mvcflash" href="#whatsnew-swf-mvcflash"></a>2.2.2.&nbsp;Spring MVC Flash Scope Integration</h3></div></div></div>
			
			<p>
				When a flow ends it can now redirect to a Spring MVC controller after saving
				attributes in Spring MVC's flash scope for the controller to access.
			</p>
			<p>
				See <a class="xref" href="spring-mvc.html#spring-mvc-flash-output" title="11.8.&nbsp;Saving Flow Output to MVC Flash Scope">Section&nbsp;11.8, &#8220;Saving Flow Output to MVC Flash Scope&#8221;</a>.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-partial-validation" href="#whatsnew-partial-validation"></a>2.2.3.&nbsp;Partial JSR-303 Bean Validation</h3></div></div></div>
			
			<p>
				A flow definition can apply partial validation on the model through the validation-hints
				attribute supported on view state and transition elements.
			</p>
			<p>
				See <a class="xref" href="views.html#view-validation-jsr303-partial" title="Partial Validation">the section called &#8220;Partial Validation&#8221;</a>.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-hibernate4" href="#whatsnew-hibernate4"></a>2.2.4.&nbsp;Hibernate Support</h3></div></div></div>
			
			<p>
				The <code class="classname">HibernateFlowExecutionListener</code> now supports Hibernate 4 in addition to Hibernate 3.
			</p>
			<p>
				As of 2.4.4 the <code class="classname">HibernateFlowExecutionListener</code> also works with Hibernate 5.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-tiles3" href="#whatsnew-tiles3"></a>2.2.5.&nbsp;Tiles 3 Support</h3></div></div></div>
			
			<p>
				The <code class="classname">AjaxTilesView</code> now supports Tiles 3 in addition to Tiles 2.2.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-swf-jsf20" href="#whatsnew-swf-jsf20"></a>2.2.6.&nbsp;Minimum JSF 2.0 Requirement</h3></div></div></div>
			
			<p>
				Java ServerFaces version 1.2 and earlier are no longer supported by Spring Web Flow, if you have not done so already you will need to upgrade to JSF 2.0 or above.
				In addition the Spring Faces components that were previously provided with JSF 1.2 for progressive AJAX enhancements have been removed in this release.
			</p>
			<p>
				See <a class="xref" href="">???</a>.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-swf-jsf20-portlet" href="#whatsnew-swf-jsf20-portlet"></a>2.2.7.&nbsp;Portlet API 2.0 and JSF 2.0 support</h3></div></div></div>
			
			<p>
				The internal Portlet integration introduced in Spring Web Flow 2.2 has been upgraded for JSF 2.0 compatibility.
				Some of the more advanced JSF 2.0 features, such as partial state saving, are not supported in a Portlet environment, however, existing application can now upgrade to the minimum required JSF version.
				Upgraded projects will need to ensure that the <code class="code">&lt;faces:resources&gt;</code> elements is
				included as part of their Spring configuration.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-deprecation" href="#whatsnew-deprecation"></a>2.2.8.&nbsp;Deprecations</h3></div></div></div>
			
			<p>
				This release deprecates <span class="emphasis"><em>Spring.js</em></span>. The deprecation includes the entire
				<span class="emphasis"><em>spring-js-resources</em></span> module including <span class="emphasis"><em>Spring.js</em></span> and
				<span class="emphasis"><em>Spring-Dojo.js</em></span> and the bundled Dojo and CSS Framework.
				Also deprecated is the <code class="classname">SpringJavascriptAjaxHandler</code>
				from the <span class="emphasis"><em>spring-js</em></span> module. The rest of <span class="emphasis"><em>spring-js</em></span>,
				e.g. <code class="classname">AjaxHandler</code>, <code class="classname">AjaxTilesView</code>, will be
				folded into <span class="emphasis"><em>spring-webflow</em></span> in a future release.
			</p>
			<p>
				OGNL support is now deprecated.
			</p>
		</div>
	</div>
	<div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="whatsnew-swf-230" href="#whatsnew-swf-230"></a>2.3.&nbsp;Spring Web Flow 2.3</h2></div></div></div>
		
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-swf-embedded-flow" href="#whatsnew-swf-embedded-flow"></a>2.3.1.&nbsp;Embedding A Flow On A Page</h3></div></div></div>
			
			<p>
				By default Web Flow does a client-side redirect upon entering every view state.
				That makes it impossible to embed a flow on a page or within a modal dialog and execute more than one view state without causing a full-page refresh.
				Web Flow now supports launching a flow in "embedded" mode.
				In this mode a flow can transition to other view states without a client-side redirect during Ajax requests.
				See <a class="xref" href="spring-mvc.html#spring-mvc-embedded-flow" title="11.7.&nbsp;Embedding A Flow On A Page">Section&nbsp;11.7, &#8220;Embedding A Flow On A Page&#8221;</a> and <a class="xref" href="spring-faces.html#spring-faces-embedded-mode" title="13.6.&nbsp;Embedding a Flow On a Page">Section&nbsp;13.6, &#8220;Embedding a Flow On a Page&#8221;</a>.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-jsr303" href="#whatsnew-jsr303"></a>2.3.2.&nbsp;Support For JSR-303 Bean Validation</h3></div></div></div>
			
			<p>
				Support for the JSR-303 Bean Validation API is now available building on equivalent support available in Spring MVC.
				See <a class="xref" href="views.html#view-validate" title="5.10.&nbsp;Validating a model">Section&nbsp;5.10, &#8220;Validating a model&#8221;</a> for more details.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-pc-propagation" href="#whatsnew-pc-propagation"></a>2.3.3.&nbsp;Flow-Managed Persistence Context Propagation</h3></div></div></div>
			
			<p>
				Starting with Web Flow 2.3 a flow managed <code class="code">PersistenceContext</code> is automatically extended (propagated) to sub-flows assuming the subflow also has the feature enabled as well.
				See <a class="xref" href="flow-managed-persistence.html#flow-managed-persistence-propagation" title="7.3.&nbsp;Flow Managed Persistence And Sub-Flows">Section&nbsp;7.3, &#8220;Flow Managed Persistence And Sub-Flows&#8221;</a>.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-portlet-resource-requests" href="#whatsnew-portlet-resource-requests"></a>2.3.4.&nbsp;Portlet 2.0 Resource Requests</h3></div></div></div>
			
			<p>
				Support for Portlet 2.0 resource requests has now been added enabling Ajax requests with partial rendering.
				URLs for such requests can be prepared with the <code class="code">&lt;portlet:resourceURL&gt;</code> tag in JSP pages.
				Server-side processing is similar to a combined an action and a render requests but combined in a single request.
				Unlike a render request, the response from a resource request includes content from the target portlet only.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-conversation-manager" href="#whatsnew-conversation-manager"></a>2.3.5.&nbsp;Custom ConversationManager</h3></div></div></div>
			
			<p>
				The <code class="code">&lt;flow-execution-repository&gt;</code> element now provides a conversation-manager attribute accepting a reference to a ConversationManager instance.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-redirect-in-same-state" href="#whatsnew-redirect-in-same-state"></a>2.3.6.&nbsp;Redirect In Same State</h3></div></div></div>
			
			<p>
		    	By default Web Flow does a client-side redirect when remaining in the same view state as long as the current request is not an Ajax request.
		    	This is useful after form validation failure.
		    	Hitting Refresh or Back won't result in browser warnings.
				Hence this behavior is usually desirable.
				However a new flow execution attribute makes it possible to disable it and that may also be necessary in some cases specific to JSF applications.
				See <a class="xref" href="spring-faces.html#spring-faces-redirect-in-same-state" title="13.7.&nbsp;Redirect In Same State">Section&nbsp;13.7, &#8220;Redirect In Same State&#8221;</a>.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-samples" href="#whatsnew-samples"></a>2.3.7.&nbsp;Samples</h3></div></div></div>
			
			<p>
				The process for building the samples included with the distribution has been simplified.
				Maven can be used to build all samples in one step.
				Eclipse settings include source code references to simplify debugging.
			</p>
			<p>
				Additional samples can be accessed as follows:
</p><pre class="programlisting">mkdir spring-samples
cd spring-samples
svn co https://src.springframework.org/svn/spring-samples/webflow-primefaces-showcase
cd webflow-primefaces-showcase
mvn package
# import into Eclipse
</pre><p>

</p><pre class="programlisting">mkdir spring-samples
cd spring-samples
svn co https://src.springframework.org/svn/spring-samples/webflow-showcase
cd webflow-showcase
mvn package
# import into Eclipse
</pre><p>
			</p>
		</div>
	</div>

	<div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="whatsnew-swf-220" href="#whatsnew-swf-220"></a>2.4.&nbsp;Spring Web Flow 2.2</h2></div></div></div>
		
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-jsf2" href="#whatsnew-jsf2"></a>2.4.1.&nbsp;JSF 2 Support</h3></div></div></div>
			
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="d5e180" href="#d5e180"></a>Comprehensive JSF 2 Support</h4></div></div></div>
				
				<p>
					Building on 2.1, Spring Web Flow version 2.2 adds support for core JSF 2 features
					The following features that were not supported in 2.1 are now available:
					partial state saving, JSF 2 resource request, handling, and JSF 2 Ajax requests.
					At this point support for JSF 2 is considered
					comprehensive although not covering every JSF 2 feature --
					excluded are mostly features that overlap with the core value Web Flow provides
					such as those relating to navigation and state management.
				</p>
				<p>
					See <a class="xref" href="spring-faces.html#spring-faces-webflow-config" title="13.3.&nbsp;Configuring Web Flow for use with JSF">Section&nbsp;13.3, &#8220;Configuring Web Flow for use with JSF&#8221;</a> for important configuration changes.
					Note that partial state saving is only supported with Sun Mojarra 2.0.3 or later.
					It is not yet supported with Apache MyFaces. This is due to the
					fact MyFaces was not as easy to customize with regards to how component state is stored.
					We will work with Apache MyFaces to provide this support. In the mean time you will need to use
					the <code class="code">javax.faces.PARTIAL_STATE_SAVING</code> context parameter in <code class="code">web.xml</code>
					to disable partial state saving with Apache MyFaces.
				</p>
			</div>
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="d5e187" href="#d5e187"></a>Travel Sample With the PrimeFaces Components</h4></div></div></div>
				
				<p>
					The main Spring Travel sample demonstrating Spring Web Flow and JSF support
					is now built on JSF 2 and components from the PrimeFaces component library.
					Please check out the booking-faces sample in the distribution.
				</p>
				<p>
					Additional samples can be found at the Spring Web Flow - Prime Faces
					<a class="ulink" href="https://src.springframework.org/svn/spring-samples/webflow-primefaces-showcase" target="_top">
						Showcase</a>, an SVN repository within the
						<a class="ulink" href="https://src.springframework.org/svn/spring-samples" target="_top">spring-samples</a>
						repository. Use these commands to check out and build:
				</p>
	<pre class="programlisting">svn co https://src.springframework.org/svn/spring-samples/webflow-primefaces-showcase
	cd webflow-primefaces-showcase
	mvn package
	</pre>

			</div>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-sec" href="#whatsnew-sec"></a>2.4.2.&nbsp;Spring Security Facelets Tag Library</h3></div></div></div>
			
			<p>
				A new Spring Security tag library is available for use with with JSF 2.0 or with JSF 1.2 Facelets views.
				It provides an &lt;authorize&gt; tag as well as several EL functions.
				See <a class="xref" href="spring-faces.html#spring-faces-security-taglib" title="13.9.&nbsp;Using the Spring Security Facelets Tag Library">Section&nbsp;13.9, &#8220;Using the Spring Security Facelets Tag Library&#8221;</a> for more details.
			</p>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-versions" href="#whatsnew-versions"></a>2.4.3.&nbsp;Spring JavaScript Updates</h3></div></div></div>
			
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="d5e200" href="#d5e200"></a>Deprecated ResourcesServlet</h4></div></div></div>
				
				<p>
					Starting with Spring 3.0.4, the Spring Framework includes
					a replacement for the ResourcesServlet. Please see
					the Spring Framework documentation for details on the custom mvc namespace,
					specifically the new
					<a class="ulink" href="http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-static-resources" target="_top">"resources"</a>
					element.
				</p>
			</div>
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="d5e204" href="#d5e204"></a>Dojo 1.5 and dojox</h4></div></div></div>
				
				<p>
					The bundled custom Dojo build is upgraded to version 1.5. It now includes dojox.
				</p>
				<p>
					Note that applications are generally encouraged to prepare their own custom
					Dojo build for optimized performance depending on what parts of Dojo are
					commonly used together. For examples see the
					<a class="ulink" href="https://src.springframework.org/svn/spring-webflow/branches/spring-webflow-2.2-maintenance/spring-js-resources/scripts/dojo" target="_top">scripts</a>
					used by Spring Web Flow to prepare its own custom Dojo build.
				</p>
			</div>
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="d5e209" href="#d5e209"></a>Two Spring JS artifacts</h4></div></div></div>
				
				<p>
					The <code class="code">spring-js</code> artifact has been split in two -- the new artifact
					(<code class="code">spring-js-resources</code>) contains client side resource (.js, .css, etc.) while
					the existing artifact (<code class="code">spring-js</code>) contains server-side Java code only.
				</p>
				<p>
					Applications preparing their own custom Dojo build have an option now to
					avoid including <code class="code">spring-js-resources</code> and put <code class="code">Spring.js</code> and
					<code class="code">Spring-Dojo.js</code> directly under the root of their web application.
				</p>
			</div>
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="d5e219" href="#d5e219"></a>Client resources moved into META-INF/web-resources</h4></div></div></div>
				
				<p>
					Bundled client resources (.js, .css, etc.)
					have been moved to <code class="code">META-INF/web-resources</code> from their previous location
					under <code class="code">META-INF</code>. This change is transparent for applications but will result
					in simpler and safer configuration when using the new resource handling
					mechanism available in Spring 3.0.4.
				</p>
			</div>
		</div>
		<div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="whatsnew-jsf-portlet" href="#whatsnew-jsf-portlet"></a>2.4.4.&nbsp;JSF Portlet Support</h3></div></div></div>
			
			<div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="d5e226" href="#d5e226"></a>Portlet API 2.0 and JSF 1.2 support</h4></div></div></div>
				
				<p>
					In previous versions of Spring Web Flow support for JSF Portlets relied on
					a Portlet Bridge for JSF implementation and was considered experimental.
					Spring Web Flow 2.2 adds support for JSF Portlets based on its own internal
					Portlet integration targeting Portlet API 2.0 and JSF 1.2 environments.
					See <a class="xref" href="">???</a> for more details.
					The Spring Web Flow Travel JSF Portlets sample has been successfully
					tested on the Apache Pluto portal container.
				</p>
			</div>
		</div>
	</div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="introduction.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="defining-flows.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.&nbsp;Introduction&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;3.&nbsp;Defining Flows</td></tr></table></div></body></html>