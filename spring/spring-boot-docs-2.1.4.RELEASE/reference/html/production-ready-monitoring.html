<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>54.&nbsp;Monitoring and Management over HTTP</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Spring Boot Reference Guide"><link rel="up" href="production-ready.html" title="Part&nbsp;V.&nbsp;Spring Boot Actuator: Production-ready features"><link rel="prev" href="production-ready-endpoints.html" title="53.&nbsp;Endpoints"><link rel="next" href="production-ready-jmx.html" title="55.&nbsp;Monitoring and Management over JMX"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">54.&nbsp;Monitoring and Management over HTTP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="production-ready-endpoints.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;V.&nbsp;Spring Boot Actuator: Production-ready features</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="production-ready-jmx.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="production-ready-monitoring" href="#production-ready-monitoring"></a>54.&nbsp;Monitoring and Management over HTTP</h2></div></div></div><p>If you are developing a web application, Spring Boot Actuator auto-configures all
enabled endpoints to be exposed over HTTP. The default convention is to use the <code class="literal">id</code> of
the endpoint with a prefix of <code class="literal">/actuator</code> as the URL path. For example, <code class="literal">health</code> is
exposed as <code class="literal">/actuator/health</code>.
TIP: Actuator is supported natively with Spring MVC, Spring WebFlux, and Jersey.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-customizing-management-server-context-path" href="#production-ready-customizing-management-server-context-path"></a>54.1&nbsp;Customizing the Management Endpoint Paths</h2></div></div></div><p>Sometimes, it is useful to customize the prefix for the management endpoints. For
example, your application might already use <code class="literal">/actuator</code> for another purpose. You can
use the <code class="literal">management.endpoints.web.base-path</code> property to change the prefix for your
management endpoint, as shown in the following example:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.web.base-path</span>=/manage</pre><p>The preceding <code class="literal">application.properties</code> example changes the endpoint from
<code class="literal">/actuator/{id}</code> to <code class="literal">/manage/{id}</code> (for example, <code class="literal">/manage/info</code>).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Unless the management port has been configured to
<a class="link" href="production-ready-monitoring.html#production-ready-customizing-management-server-port" title="54.2&nbsp;Customizing the Management Server Port">expose endpoints by using a
different HTTP port</a>, <code class="literal">management.endpoints.web.base-path</code> is relative to
<code class="literal">server.servlet.context-path</code>. If <code class="literal">management.server.port</code> is configured,
<code class="literal">management.endpoints.web.base-path</code> is relative to
<code class="literal">management.server.servlet.context-path</code>.</p></td></tr></table></div><p>If you want to map endpoints to a different path, you can use the
<code class="literal">management.endpoints.web.path-mapping</code> property.</p><p>The following example remaps <code class="literal">/actuator/health</code> to <code class="literal">/healthcheck</code>:</p><p><b>application.properties.&nbsp;</b>
</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.web.base-path</span>=/
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.web.path-mapping.health</span>=healthcheck</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-customizing-management-server-port" href="#production-ready-customizing-management-server-port"></a>54.2&nbsp;Customizing the Management Server Port</h2></div></div></div><p>Exposing management endpoints by using the default HTTP port is a sensible choice for
cloud-based deployments. If, however, your application runs inside your own data center,
you may prefer to expose endpoints by using a different HTTP port.</p><p>You can set the <code class="literal">management.server.port</code> property to change the HTTP port, as shown in
the following example:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.port</span>=8081</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>On Cloud Foundry, applications only receive requests on port 8080 for both HTTP and TCP
routing, by default. If you want to use a custom management port on Cloud Foundry, you will need
to explicitly set up the application&#8217;s routes to forward traffic to the custom port.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-management-specific-ssl" href="#production-ready-management-specific-ssl"></a>54.3&nbsp;Configuring Management-specific SSL</h2></div></div></div><p>When configured to use a custom port, the management server can also be configured with
its own SSL by using the various <code class="literal">management.server.ssl.*</code> properties. For example, doing
so lets a management server be available over HTTP while the main application uses HTTPS,
as shown in the following property settings:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">server.port</span>=8443
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">server.ssl.enabled</span>=true
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">server.ssl.key-store</span>=classpath:store.jks
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">server.ssl.key-password</span>=secret
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.port</span>=8080
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.ssl.enabled</span>=false</pre><p>Alternatively, both the main server and the management server can use SSL but with
different key stores, as follows:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">server.port</span>=8443
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">server.ssl.enabled</span>=true
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">server.ssl.key-store</span>=classpath:main.jks
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">server.ssl.key-password</span>=secret
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.port</span>=8080
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.ssl.enabled</span>=true
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.ssl.key-store</span>=classpath:management.jks
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.ssl.key-password</span>=secret</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-customizing-management-server-address" href="#production-ready-customizing-management-server-address"></a>54.4&nbsp;Customizing the Management Server Address</h2></div></div></div><p>You can customize the address that the management endpoints are available on by setting
the <code class="literal">management.server.address</code> property. Doing so can be useful if you want to listen
only on an internal or ops-facing network or to listen only for connections from
<code class="literal">localhost</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can listen on a different address only when the port differs from the main
server port.</p></td></tr></table></div><p>The following example <code class="literal">application.properties</code> does not allow remote management
connections:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.port</span>=8081
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.address</span>=127.0.0.1</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-disabling-http-endpoints" href="#production-ready-disabling-http-endpoints"></a>54.5&nbsp;Disabling HTTP Endpoints</h2></div></div></div><p>If you do not want to expose endpoints over HTTP, you can set the management port to
<code class="literal">-1</code>, as shown in the following example:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.server.port</span>=-1</pre><p>This can be achieved using the <code class="literal">management.endpoints.web.exposure.exclude</code> property as well, as shown in
following example:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.web.exposure.exclude</span>=*</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="production-ready-endpoints.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="production-ready.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="production-ready-jmx.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">53.&nbsp;Endpoints&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;55.&nbsp;Monitoring and Management over JMX</td></tr></table></div></body></html>