<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>53.&nbsp;Endpoints</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Spring Boot Reference Guide"><link rel="up" href="production-ready.html" title="Part&nbsp;V.&nbsp;Spring Boot Actuator: Production-ready features"><link rel="prev" href="production-ready-enabling.html" title="52.&nbsp;Enabling Production-ready Features"><link rel="next" href="production-ready-monitoring.html" title="54.&nbsp;Monitoring and Management over HTTP"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">53.&nbsp;Endpoints</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="production-ready-enabling.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;V.&nbsp;Spring Boot Actuator: Production-ready features</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="production-ready-monitoring.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="production-ready-endpoints" href="#production-ready-endpoints"></a>53.&nbsp;Endpoints</h2></div></div></div><p>Actuator endpoints let you monitor and interact with your application. Spring Boot
includes a number of built-in endpoints and lets you add your own. For example, the
<code class="literal">health</code> endpoint provides basic application health information.</p><p>Each individual endpoint can be <a class="link" href="production-ready-endpoints.html#production-ready-endpoints-enabling-endpoints" title="53.1&nbsp;Enabling Endpoints">enabled
or disabled</a>. This controls whether or not the endpoint is created and its bean exists in
the application context. To be remotely accessible an endpoint also has to be
<a class="link" href="production-ready-endpoints.html#production-ready-endpoints-exposing-endpoints" title="53.2&nbsp;Exposing Endpoints">exposed via JMX or HTTP</a>. Most
applications choose HTTP, where the ID of the endpoint along with a prefix of <code class="literal">/actuator</code>
is mapped to a URL. For example, by default, the <code class="literal">health</code> endpoint is mapped to
<code class="literal">/actuator/health</code>.</p><p>The following technology-agnostic endpoints are available:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Description</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Enabled by default</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">auditevents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Exposes audit events information for the current application.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">beans</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Displays a complete list of all the Spring beans in your application.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">caches</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Exposes available caches.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">conditions</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Shows the conditions that were evaluated on configuration and auto-configuration
classes and the reasons why they did or did not match.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">configprops</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Displays a collated list of all <code class="literal">@ConfigurationProperties</code>.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">env</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Exposes properties from Spring&#8217;s <code class="literal">ConfigurableEnvironment</code>.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">flyway</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Shows any Flyway database migrations that have been applied.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">health</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Shows application health information.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">httptrace</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Displays HTTP trace information (by default, the last 100 HTTP request-response
exchanges).</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">info</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Displays arbitrary application info.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">integrationgraph</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Shows the Spring Integration graph.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">loggers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Shows and modifies the configuration of loggers in the application.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">liquibase</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Shows any Liquibase database migrations that have been applied.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Shows &#8216;metrics&#8217; information for the current application.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">mappings</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Displays a collated list of all <code class="literal">@RequestMapping</code> paths.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">scheduledtasks</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Displays the scheduled tasks in your application.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">sessions</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Allows retrieval and deletion of user sessions from a Spring Session-backed session
store. Not available when using Spring Session&#8217;s support for reactive web applications.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">shutdown</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Lets the application be gracefully shutdown.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">threaddump</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top"><p>Performs a thread dump.</p></td><td style="" align="left" valign="top"><p>Yes</p></td></tr></tbody></table></div><p>If your application is a web application (Spring MVC, Spring WebFlux, or Jersey), you can
use the following additional endpoints:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Description</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Enabled by default</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">heapdump</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Returns an <code class="literal">hprof</code> heap dump file.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">jolokia</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Exposes JMX beans over HTTP (when Jolokia is on the classpath, not available for WebFlux).</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">logfile</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Returns the contents of the logfile (if <code class="literal">logging.file</code> or <code class="literal">logging.path</code> properties have
been set). Supports the use of the HTTP <code class="literal">Range</code> header to retrieve part of the log file&#8217;s
content.</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">prometheus</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top"><p>Exposes metrics in a format that can be scraped by a Prometheus server.</p></td><td style="" align="left" valign="top"><p>Yes</p></td></tr></tbody></table></div><p>To learn more about the Actuator&#8217;s endpoints and their request and response formats,
please refer to the separate API documentation (<a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.4.RELEASE/actuator-api//html" target="_top">HTML</a> or
<a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.4.RELEASE/actuator-api//pdf/spring-boot-actuator-web-api.pdf" target="_top">PDF</a>).</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-endpoints-enabling-endpoints" href="#production-ready-endpoints-enabling-endpoints"></a>53.1&nbsp;Enabling Endpoints</h2></div></div></div><p>By default, all endpoints except for <code class="literal">shutdown</code> are enabled. To configure the enablement
of an endpoint, use its <code class="literal">management.endpoint.&lt;id&gt;.enabled</code> property. The following
example enables the <code class="literal">shutdown</code> endpoint:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoint.shutdown.enabled</span>=true</pre><p>If you prefer endpoint enablement to be opt-in rather than opt-out, set the
<code class="literal">management.endpoints.enabled-by-default</code> property to <code class="literal">false</code> and use individual endpoint
<code class="literal">enabled</code> properties to opt back in. The following example enables the <code class="literal">info</code> endpoint and
disables all other endpoints:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.enabled-by-default</span>=false
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoint.info.enabled</span>=true</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Disabled endpoints are removed entirely from the application context. If you want
to change only the technologies over which an endpoint is exposed, use the
<a class="link" href="production-ready-endpoints.html#production-ready-endpoints-exposing-endpoints" title="53.2&nbsp;Exposing Endpoints"><code class="literal">include</code> and <code class="literal">exclude</code> properties</a>
instead.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-endpoints-exposing-endpoints" href="#production-ready-endpoints-exposing-endpoints"></a>53.2&nbsp;Exposing Endpoints</h2></div></div></div><p>Since Endpoints may contain sensitive information, careful consideration should be given
about when to expose them. The following table shows the default exposure for the built-in
endpoints:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">JMX</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Web</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">auditevents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">beans</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">caches</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">conditions</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">configprops</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">env</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">flyway</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">health</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">heapdump</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>N/A</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">httptrace</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">info</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">integrationgraph</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">jolokia</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>N/A</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">logfile</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>N/A</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">loggers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">liquibase</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">mappings</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">prometheus</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>N/A</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">scheduledtasks</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">sessions</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">shutdown</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">threaddump</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top"><p>Yes</p></td><td style="" align="left" valign="top"><p>No</p></td></tr></tbody></table></div><p>To change which endpoints are exposed, use the following technology-specific <code class="literal">include</code> and
<code class="literal">exclude</code> properties:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Property</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Default</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">management.endpoints.jmx.exposure.exclude</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top">&nbsp;</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">management.endpoints.jmx.exposure.include</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">*</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">management.endpoints.web.exposure.exclude</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top">&nbsp;</td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">management.endpoints.web.exposure.include</code></p></td><td style="" align="left" valign="top"><p><code class="literal">info, health</code></p></td></tr></tbody></table></div><p>The <code class="literal">include</code> property lists the IDs of the endpoints that are exposed. The <code class="literal">exclude</code>
property lists the IDs of the endpoints that should not be exposed.  The <code class="literal">exclude</code>
property takes precedence over the <code class="literal">include</code> property. Both <code class="literal">include</code> and <code class="literal">exclude</code>
properties can be configured with a list of endpoint IDs.</p><p>For example, to stop exposing all endpoints over JMX and only expose the <code class="literal">health</code> and
<code class="literal">info</code> endpoints, use the following property:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.jmx.exposure.include</span>=health,info</pre><p><code class="literal">*</code> can be used to select all endpoints. For example, to expose everything over HTTP
except the <code class="literal">env</code> and <code class="literal">beans</code> endpoints, use the following properties:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.web.exposure.include</span>=*
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.web.exposure.exclude</span>=env,beans</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><code class="literal">*</code> has a special meaning in YAML, so be sure to add quotes if you want to include (or
exclude) all endpoints, as shown in the following example:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management</span>:
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">  endpoints</span>:
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">    web</span>:
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">      exposure</span>:
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">        include</span>: <span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"*"</span></pre></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If your application is exposed publicly, we strongly recommend that you also
<a class="link" href="production-ready-endpoints.html#production-ready-endpoints-security" title="53.3&nbsp;Securing HTTP Endpoints">secure your endpoints</a>.</p></td></tr></table></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>If you want to implement your own strategy for when endpoints are exposed, you can
register an <code class="literal">EndpointFilter</code> bean.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-endpoints-security" href="#production-ready-endpoints-security"></a>53.3&nbsp;Securing HTTP Endpoints</h2></div></div></div><p>You should take care to secure HTTP endpoints in the same way that you would any other
sensitive URL. If Spring Security is present, endpoints are secured by default using
Spring Security&#8217;s content-negotiation strategy. If you wish to configure custom security
for HTTP endpoints, for example, only allow users with a certain role to access them,
Spring Boot provides some convenient <code class="literal">RequestMatcher</code> objects that can be used in
combination with Spring Security.</p><p>A typical Spring Security configuration might look something like the following example:</p><pre class="programlisting"><xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Configuration</xslthl:annotation>
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">public</span> <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">class</span> ActuatorSecurity <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">extends</span> WebSecurityConfigurerAdapter {

	<xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Override</xslthl:annotation>
	<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">protected</span> <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">void</span> configure(HttpSecurity http) <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">throws</span> Exception {
		http.requestMatcher(EndpointRequest.toAnyEndpoint()).authorizeRequests()
				.anyRequest().hasRole(<span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"ENDPOINT_ADMIN"</span>)
				.and()
			.httpBasic();
	}

}</pre><p>The preceding example uses <code class="literal">EndpointRequest.toAnyEndpoint()</code> to match a request to any
endpoint and then ensures that all have the <code class="literal">ENDPOINT_ADMIN</code> role. Several other matcher
methods are also available on <code class="literal">EndpointRequest</code>. See the API documentation
(<a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.4.RELEASE/actuator-api//html" target="_top">HTML</a> or
<a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.4.RELEASE/actuator-api//pdf/spring-boot-actuator-web-api.pdf" target="_top">PDF</a>) for details.</p><p>If you deploy applications behind a firewall, you may prefer that all your actuator
endpoints can be accessed without requiring authentication. You can do so by changing the
<code class="literal">management.endpoints.web.exposure.include</code> property, as follows:</p><p><b>application.properties.&nbsp;</b>
</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.web.exposure.include</span>=*</pre><p>
</p><p>Additionally, if Spring Security is present, you would need to add custom security
configuration that allows unauthenticated access to the endpoints as shown in the
following example:</p><pre class="programlisting"><xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Configuration</xslthl:annotation>
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">public</span> <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">class</span> ActuatorSecurity <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">extends</span> WebSecurityConfigurerAdapter {

	<xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Override</xslthl:annotation>
	<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">protected</span> <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">void</span> configure(HttpSecurity http) <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">throws</span> Exception {
		http.requestMatcher(EndpointRequest.toAnyEndpoint()).authorizeRequests()
			.anyRequest().permitAll();
	}

}</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-endpoints-caching" href="#production-ready-endpoints-caching"></a>53.4&nbsp;Configuring Endpoints</h2></div></div></div><p>Endpoints automatically cache responses to read operations that do not take any
parameters. To configure the amount of time for which an endpoint will cache a response,
use its <code class="literal">cache.time-to-live</code> property. The following example sets the time-to-live of
the <code class="literal">beans</code> endpoint&#8217;s cache to 10 seconds:</p><p><b>application.properties.&nbsp;</b>
</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoint.beans.cache.time-to-live</span>=10s</pre><p>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The prefix <code class="literal">management.endpoint.&lt;name&gt;</code> is used to uniquely identify the
endpoint that is being configured.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>When making an authenticated HTTP request, the <code class="literal">Principal</code> is considered as input to
the endpoint and, therefore, the response will not be cached.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-endpoints-hypermedia" href="#production-ready-endpoints-hypermedia"></a>53.5&nbsp;Hypermedia for Actuator Web Endpoints</h2></div></div></div><p>A &#8220;discovery page&#8221; is added with links to all the endpoints. The &#8220;discovery page&#8221; is
available on <code class="literal">/actuator</code> by default.</p><p>When a custom management context path is configured, the &#8220;discovery page&#8221; automatically
moves from <code class="literal">/actuator</code> to the root of the management context. For example, if the
management context path is <code class="literal">/management</code>, then the discovery page is available from
<code class="literal">/management</code>. When the management context path is set to <code class="literal">/</code>, the discovery page is
disabled to prevent the possibility of a clash with other mappings.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-endpoints-cors" href="#production-ready-endpoints-cors"></a>53.6&nbsp;CORS Support</h2></div></div></div><p><a class="link" href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" target="_top">Cross-origin resource sharing</a>
(CORS) is a <a class="link" href="https://www.w3.org/TR/cors/" target="_top">W3C specification</a> that lets you specify in a
flexible way what kind of cross-domain requests are authorized. If you use Spring MVC or
Spring WebFlux, Actuator&#8217;s web endpoints can be configured to support such scenarios.</p><p>CORS support is disabled by default and is only enabled once the
<code class="literal">management.endpoints.web.cors.allowed-origins</code> property has been set. The following
configuration permits <code class="literal">GET</code> and <code class="literal">POST</code> calls from the <code class="literal">example.com</code> domain:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.web.cors.allowed-origins</span>=https://example.com
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.endpoints.web.cors.allowed-methods</span>=GET,POST</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>See
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/web/CorsEndpointProperties.java" target="_top">CorsEndpointProperties</a>
for a complete list of options.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-endpoints-custom" href="#production-ready-endpoints-custom"></a>53.7&nbsp;Implementing Custom Endpoints</h2></div></div></div><p>If you add a <code class="literal">@Bean</code> annotated with <code class="literal">@Endpoint</code>, any methods annotated with
<code class="literal">@ReadOperation</code>, <code class="literal">@WriteOperation</code>, or <code class="literal">@DeleteOperation</code> are automatically exposed over
JMX and, in a web application, over HTTP as well. Endpoints can be exposed over HTTP using
Jersey, Spring MVC, or Spring WebFlux.</p><p>You can also write technology-specific endpoints by using <code class="literal">@JmxEndpoint</code> or
<code class="literal">@WebEndpoint</code>. These endpoints are restricted to their respective technologies. For
example, <code class="literal">@WebEndpoint</code> is exposed only over HTTP and not over JMX.</p><p>You can write technology-specific extensions by using <code class="literal">@EndpointWebExtension</code> and
<code class="literal">@EndpointJmxExtension</code>. These annotations let you provide technology-specific operations
to augment an existing endpoint.</p><p>Finally, if you need access to web-framework-specific functionality, you can implement
Servlet or Spring <code class="literal">@Controller</code> and <code class="literal">@RestController</code> endpoints at the cost of them not
being available over JMX or when using a different web framework.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="production-ready-endpoints-custom-input" href="#production-ready-endpoints-custom-input"></a>53.7.1&nbsp;Receiving Input</h3></div></div></div><p>Operations on an endpoint receive input via their parameters. When exposed via the web,
the values for these parameters are taken from the URL&#8217;s query parameters and from the
JSON request body. When exposed via JMX, the parameters are mapped to the parameters of
the MBean&#8217;s operations. Parameters are required by default. They can be made optional
by annotating them with <code class="literal">@org.springframework.lang.Nullable</code>.</p><p>Each root property in the JSON request body can be mapped to a parameter of the endpoint.
Consider the following JSON request body:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">{</span>
	<span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"name"</span>: <span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"test"</span><span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">,</span>
	<span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"counter"</span>: <xslthl:number xmlns:xslthl="http://xslthl.sourceforge.net/">42</xslthl:number>
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">}</span></pre><p>This can be used to invoke a write operation that takes <code class="literal">String name</code> and <code class="literal">int counter</code>
parameters.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>Because endpoints are technology agnostic, only simple types can be specified in the
method signature. In particular declaring a single parameter with a custom type defining a
<code class="literal">name</code> and <code class="literal">counter</code> properties is not supported.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>To allow the input to be mapped to the operation method&#8217;s parameters, Java code
implementing an endpoint should be compiled with <code class="literal">-parameters</code>, and Kotlin code
implementing an endpoint should be compiled with <code class="literal">-java-parameters</code>. This will happen
automatically if you are using Spring Boot&#8217;s Gradle plugin or if you are using Maven and
<code class="literal">spring-boot-starter-parent</code>.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="production-ready-endpoints-custom-input-conversion" href="#production-ready-endpoints-custom-input-conversion"></a>Input type conversion</h4></div></div></div><p>The parameters passed to endpoint operation methods are, if necessary, automatically
converted to the required type. Before calling an operation method, the input received via
JMX or an HTTP request is converted to the required types using an instance of
<code class="literal">ApplicationConversionService</code>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="production-ready-endpoints-custom-web" href="#production-ready-endpoints-custom-web"></a>53.7.2&nbsp;Custom Web Endpoints</h3></div></div></div><p>Operations on an <code class="literal">@Endpoint</code>, <code class="literal">@WebEndpoint</code>, or <code class="literal">@EndpointWebExtension</code> are automatically
exposed over HTTP using Jersey, Spring MVC, or Spring WebFlux.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="production-ready-endpoints-custom-web-predicate" href="#production-ready-endpoints-custom-web-predicate"></a>Web Endpoint Request Predicates</h4></div></div></div><p>A request predicate is automatically generated for each operation on a web-exposed
endpoint.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="production-ready-endpoints-custom-web-predicate-path" href="#production-ready-endpoints-custom-web-predicate-path"></a>Path</h4></div></div></div><p>The path of the predicate is determined by the ID of the endpoint and the base path of
web-exposed endpoints. The default base path is <code class="literal">/actuator</code>. For example, an endpoint with
the ID <code class="literal">sessions</code> will use <code class="literal">/actuator/sessions</code> as its path in the predicate.</p><p>The path can be further customized by annotating one or more parameters of the operation
method with <code class="literal">@Selector</code>. Such a parameter is added to the path predicate as a path
variable. The variable&#8217;s value is passed into the operation method when the endpoint
operation is invoked.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="production-ready-endpoints-custom-web-predicate-http-method" href="#production-ready-endpoints-custom-web-predicate-http-method"></a>HTTP method</h4></div></div></div><p>The HTTP method of the predicate is determined by the operation type, as shown in
the following table:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Operation</th><th style="border-bottom: 1px solid ; " align="left" valign="top">HTTP method</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">@ReadOperation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">GET</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">@WriteOperation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">POST</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">@DeleteOperation</code></p></td><td style="" align="left" valign="top"><p><code class="literal">DELETE</code></p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="production-ready-endpoints-custom-web-predicate-consumes" href="#production-ready-endpoints-custom-web-predicate-consumes"></a>Consumes</h4></div></div></div><p>For a <code class="literal">@WriteOperation</code> (HTTP <code class="literal">POST</code>) that uses the request body, the consumes clause of
the predicate is <code class="literal">application/vnd.spring-boot.actuator.v2+json, application/json</code>. For
all other operations the consumes clause is empty.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="production-ready-endpoints-custom-web-predicate-produces" href="#production-ready-endpoints-custom-web-predicate-produces"></a>Produces</h4></div></div></div><p>The produces clause of the predicate can be determined by the <code class="literal">produces</code> attribute of the
<code class="literal">@DeleteOperation</code>, <code class="literal">@ReadOperation</code>, and <code class="literal">@WriteOperation</code> annotations. The attribute is
optional. If it is not used, the produces clause is determined automatically.</p><p>If the operation method returns <code class="literal">void</code> or <code class="literal">Void</code> the produces clause is empty. If the
operation method returns a <code class="literal">org.springframework.core.io.Resource</code>, the produces clause is
<code class="literal">application/octet-stream</code>. For all other operations the produces clause is
<code class="literal">application/vnd.spring-boot.actuator.v2+json, application/json</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="production-ready-endpoints-custom-web-response-status" href="#production-ready-endpoints-custom-web-response-status"></a>Web Endpoint Response Status</h4></div></div></div><p>The default response status for an endpoint operation depends on the operation type (read,
write, or delete) and what, if anything, the operation returns.</p><p>A <code class="literal">@ReadOperation</code> returns a value, the response status will be 200 (OK). If it does not
return a value, the response status will be 404 (Not Found).</p><p>If a <code class="literal">@WriteOperation</code> or <code class="literal">@DeleteOperation</code> returns a value, the response status will be
200 (OK). If it does not return a value the response status will be 204 (No Content).</p><p>If an operation is invoked without a required parameter, or with a parameter that cannot
be converted to the required type, the operation method will not be called and the
response status will be 400 (Bad Request).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="production-ready-endpoints-custom-web-range-requests" href="#production-ready-endpoints-custom-web-range-requests"></a>Web Endpoint Range Requests</h4></div></div></div><p>An HTTP range request can be used to request part of an HTTP resource. When using Spring
MVC or Spring Web Flux, operations that return a <code class="literal">org.springframework.core.io.Resource</code>
automatically support range requests.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Range requests are not supported when using Jersey.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="production-ready-endpoints-custom-web-security" href="#production-ready-endpoints-custom-web-security"></a>Web Endpoint Security</h4></div></div></div><p>An operation on a web endpoint or a web-specific endpoint extension can receive the
current <code class="literal">java.security.Principal</code> or
<code class="literal">org.springframework.boot.actuate.endpoint.SecurityContext</code> as a method parameter. The
former is typically used in conjunction with <code class="literal">@Nullable</code> to provide different behaviour
for authenticated and unauthenticated users. The latter is typically used to perform
authorization checks using its <code class="literal">isUserInRole(String)</code> method.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="production-ready-endpoints-custom-servlet" href="#production-ready-endpoints-custom-servlet"></a>53.7.3&nbsp;Servlet endpoints</h3></div></div></div><p>A <code class="literal">Servlet</code> can be exposed as an endpoint by implementing a class annotated with
<code class="literal">@ServletEndpoint</code> that also implements <code class="literal">Supplier&lt;EndpointServlet&gt;</code>. Servlet endpoints
provide deeper integration with the Servlet container but at the expense of portability.
They are intended to be used to expose an existing <code class="literal">Servlet</code> as an endpoint. For new
endpoints, the <code class="literal">@Endpoint</code> and <code class="literal">@WebEndpoint</code> annotations should be preferred whenever
possible.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="production-ready-endpoints-custom-controller" href="#production-ready-endpoints-custom-controller"></a>53.7.4&nbsp;Controller endpoints</h3></div></div></div><p><code class="literal">@ControllerEndpoint</code> and <code class="literal">@RestControllerEndpoint</code> can be used to implement an endpoint
that is only exposed by Spring MVC or Spring WebFlux. Methods are mapped using the
standard annotations for Spring MVC and Spring WebFlux such as <code class="literal">@RequestMapping</code>
and <code class="literal">@GetMapping</code>, with the endpoint&#8217;s ID being used as a prefix for the path. Controller
endpoints provide deeper integration with Spring&#8217;s web frameworks but at the expense of
portability. The <code class="literal">@Endpoint</code> and <code class="literal">@WebEndpoint</code> annotations should be preferred whenever
possible.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-health" href="#production-ready-health"></a>53.8&nbsp;Health Information</h2></div></div></div><p>You can use health information to check the status of your running application. It is
often used by monitoring software to alert someone when a production system goes down.
The information exposed by the <code class="literal">health</code> endpoint depends on the
<code class="literal">management.endpoint.health.show-details</code> property which can be configured with one of the
following values:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Name</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">never</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Details are never shown.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">when-authorized</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Details are only shown to authorized users. Authorized roles can be configured using
<code class="literal">management.endpoint.health.roles</code>.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">always</code></p></td><td style="" align="left" valign="top"><p>Details are shown to all users.</p></td></tr></tbody></table></div><p>The default value is <code class="literal">never</code>. A user is considered to be authorized when they
are in one or more of the endpoint&#8217;s roles. If the endpoint has no configured roles
(the default) all authenticated users are considered to be authorized. The roles can
be configured using the <code class="literal">management.endpoint.health.roles</code> property.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you have secured your application and wish to use <code class="literal">always</code>, your security
configuration must permit access to the health endpoint for both authenticated and
unauthenticated users.</p></td></tr></table></div><p>Health information is collected from the content of a
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicatorRegistry.java" target="_top">
<code class="literal">HealthIndicatorRegistry</code></a> (by default all
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicator.java" target="_top"><code class="literal">HealthIndicator</code></a> instances
defined in your <code class="literal">ApplicationContext</code>. Spring Boot includes a number of auto-configured
<code class="literal">HealthIndicators</code> and you can also write your own. By default, the final system state is
derived by the <code class="literal">HealthAggregator</code> which sorts the statuses from each <code class="literal">HealthIndicator</code>
based on an ordered list of statuses. The first status in the sorted list is used as the
overall health status. If no <code class="literal">HealthIndicator</code> returns a status that is known to the
<code class="literal">HealthAggregator</code>, an <code class="literal">UNKNOWN</code> status is used.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>The <code class="literal">HealthIndicatorRegistry</code> can be used to register and unregister health
indicators at runtime.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_auto_configured_healthindicators" href="#_auto_configured_healthindicators"></a>53.8.1&nbsp;Auto-configured HealthIndicators</h3></div></div></div><p>The following <code class="literal">HealthIndicators</code> are auto-configured by Spring Boot when appropriate:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Name</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/cassandra/CassandraHealthIndicator.java" target="_top"><code class="literal">CassandraHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a Cassandra database is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/couchbase/CouchbaseHealthIndicator.java" target="_top"><code class="literal">CouchbaseHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a Couchbase cluster is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/system/DiskSpaceHealthIndicator.java" target="_top"><code class="literal">DiskSpaceHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks for low disk space.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/jdbc/DataSourceHealthIndicator.java" target="_top"><code class="literal">DataSourceHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a connection to <code class="literal">DataSource</code> can be obtained.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/elasticsearch/ElasticsearchHealthIndicator.java" target="_top"><code class="literal">ElasticsearchHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that an Elasticsearch cluster is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/influx/InfluxDbHealthIndicator.java" target="_top"><code class="literal">InfluxDbHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that an InfluxDB server is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/jms/JmsHealthIndicator.java" target="_top"><code class="literal">JmsHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a JMS broker is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mail/MailHealthIndicator.java" target="_top"><code class="literal">MailHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a mail server is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mongo/MongoHealthIndicator.java" target="_top"><code class="literal">MongoHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a Mongo database is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/neo4j/Neo4jHealthIndicator.java" target="_top"><code class="literal">Neo4jHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a Neo4j server is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/amqp/RabbitHealthIndicator.java" target="_top"><code class="literal">RabbitHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a Rabbit server is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/redis/RedisHealthIndicator.java" target="_top"><code class="literal">RedisHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a Redis server is up.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/solr/SolrHealthIndicator.java" target="_top"><code class="literal">SolrHealthIndicator</code></a></p></td><td style="" align="left" valign="top"><p>Checks that a Solr server is up.</p></td></tr></tbody></table></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>You can disable them all by setting the <code class="literal">management.health.defaults.enabled</code>
property.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_writing_custom_healthindicators" href="#_writing_custom_healthindicators"></a>53.8.2&nbsp;Writing Custom HealthIndicators</h3></div></div></div><p>To provide custom health information, you can register Spring beans that implement the
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicator.java" target="_top"><code class="literal">HealthIndicator</code></a> interface.
You need to provide an implementation of the <code class="literal">health()</code> method and return a <code class="literal">Health</code>
response. The <code class="literal">Health</code> response should include a status and can optionally include
additional details to be displayed. The following code shows a sample <code class="literal">HealthIndicator</code>
implementation:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">import</span> org.springframework.boot.actuate.health.Health;
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">import</span> org.springframework.boot.actuate.health.HealthIndicator;
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">import</span> org.springframework.stereotype.Component;

<xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Component</xslthl:annotation>
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">public</span> <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">class</span> MyHealthIndicator <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">implements</span> HealthIndicator {

	<xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Override</xslthl:annotation>
	<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">public</span> Health health() {
		<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">int</span> errorCode = check(); <span xmlns:d="http://docbook.org/ns/docbook" class="hl-comment">// perform some specific health check</span>
		<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">if</span> (errorCode != <xslthl:number xmlns:xslthl="http://xslthl.sourceforge.net/">0</xslthl:number>) {
			<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">return</span> Health.down().withDetail(<span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"Error Code"</span>, errorCode).build();
		}
		<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">return</span> Health.up().build();
	}

}</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The identifier for a given <code class="literal">HealthIndicator</code> is the name of the bean without the
<code class="literal">HealthIndicator</code> suffix, if it exists. In the preceding example, the health information
is available in an entry named <code class="literal">my</code>.</p></td></tr></table></div><p>In addition to Spring Boot&#8217;s predefined
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/Status.java" target="_top"><code class="literal">Status</code></a> types, it is also possible for
<code class="literal">Health</code> to return a custom <code class="literal">Status</code> that represents a new system state. In such cases, a
custom implementation of the
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthAggregator.java" target="_top"><code class="literal">HealthAggregator</code></a> interface
also needs to be provided, or the default implementation has to be configured by using
the <code class="literal">management.health.status.order</code> configuration property.</p><p>For example, assume a new <code class="literal">Status</code> with code <code class="literal">FATAL</code> is being used in one of your
<code class="literal">HealthIndicator</code> implementations. To configure the severity order, add the following
property to your application properties:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.health.status.order</span>=FATAL, DOWN, OUT_OF_SERVICE, UNKNOWN, UP</pre><p>The HTTP status code in the response reflects the overall health status (for example,
<code class="literal">UP</code> maps to 200, while <code class="literal">OUT_OF_SERVICE</code> and <code class="literal">DOWN</code> map to 503). You might also want to
register custom status mappings if you access the health endpoint over HTTP. For example,
the following property maps <code class="literal">FATAL</code> to 503 (service unavailable):</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.health.status.http-mapping.FATAL</span>=503</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>If you need more control, you can define your own <code class="literal">HealthStatusHttpMapper</code> bean.</p></td></tr></table></div><p>The following table shows the default status mappings for the built-in statuses:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Status</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Mapping</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>DOWN</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>SERVICE_UNAVAILABLE (503)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>OUT_OF_SERVICE</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>SERVICE_UNAVAILABLE (503)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>UP</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>No mapping by default, so http status is 200</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p>UNKNOWN</p></td><td style="" align="left" valign="top"><p>No mapping by default, so http status is 200</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="reactive-health-indicators" href="#reactive-health-indicators"></a>53.8.3&nbsp;Reactive Health Indicators</h3></div></div></div><p>For reactive applications, such as those using Spring WebFlux, <code class="literal">ReactiveHealthIndicator</code>
provides a non-blocking contract for getting application health. Similar to a traditional
<code class="literal">HealthIndicator</code>, health information is collected from the content of a
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthIndicatorRegistry.java" target="_top">
<code class="literal">ReactiveHealthIndicatorRegistry</code></a> (by default all
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicator.java" target="_top"><code class="literal">HealthIndicator</code></a> and
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthIndicator.java" target="_top">
<code class="literal">ReactiveHealthIndicator</code></a> instances defined in your <code class="literal">ApplicationContext</code>. Regular
<code class="literal">HealthIndicator</code> that do not check against a reactive API are executed on the elastic
scheduler.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>In a reactive application, The <code class="literal">ReactiveHealthIndicatorRegistry</code> can be used to
register and unregister health indicators at runtime.</p></td></tr></table></div><p>To provide custom health information from a reactive API, you can register Spring beans
that implement the
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthIndicator.java" target="_top"><code class="literal">ReactiveHealthIndicator</code></a>
interface. The following code shows a sample <code class="literal">ReactiveHealthIndicator</code> implementation:</p><pre class="programlisting"><xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Component</xslthl:annotation>
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">public</span> <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">class</span> MyReactiveHealthIndicator <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">implements</span> ReactiveHealthIndicator {

	<xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Override</xslthl:annotation>
	<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">public</span> Mono&lt;Health&gt; health() {
		<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">return</span> doHealthCheck() <span xmlns:d="http://docbook.org/ns/docbook" class="hl-comment">//perform some specific health check that returns a Mono&lt;Health&gt;</span>
			.onErrorResume(ex -&gt; Mono.just(<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">new</span> Health.Builder().down(ex).build())));
	}

}</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>To handle the error automatically, consider extending from
<code class="literal">AbstractReactiveHealthIndicator</code>.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_auto_configured_reactivehealthindicators" href="#_auto_configured_reactivehealthindicators"></a>53.8.4&nbsp;Auto-configured ReactiveHealthIndicators</h3></div></div></div><p>The following <code class="literal">ReactiveHealthIndicators</code> are auto-configured by Spring Boot when
appropriate:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Name</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/cassandra/CassandraReactiveHealthIndicator.java" target="_top"><code class="literal">CassandraReactiveHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a Cassandra database is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/couchbase/CouchbaseReactiveHealthIndicator.java" target="_top"><code class="literal">CouchbaseReactiveHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a Couchbase cluster is up.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mongo/MongoReactiveHealthIndicator.java" target="_top"><code class="literal">MongoReactiveHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Checks that a Mongo database is up.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/redis/RedisReactiveHealthIndicator.java" target="_top"><code class="literal">RedisReactiveHealthIndicator</code></a></p></td><td style="" align="left" valign="top"><p>Checks that a Redis server is up.</p></td></tr></tbody></table></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>If necessary, reactive indicators replace the regular ones. Also, any
<code class="literal">HealthIndicator</code> that is not handled explicitly is wrapped automatically.</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="production-ready-application-info" href="#production-ready-application-info"></a>53.9&nbsp;Application Information</h2></div></div></div><p>Application information exposes various information collected from all
<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/InfoContributor.java" target="_top"><code class="literal">InfoContributor</code></a> beans defined
in your <code class="literal">ApplicationContext</code>. Spring Boot includes a number of auto-configured
<code class="literal">InfoContributor</code> beans, and you can write your own.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="production-ready-application-info-autoconfigure" href="#production-ready-application-info-autoconfigure"></a>53.9.1&nbsp;Auto-configured InfoContributors</h3></div></div></div><p>The following <code class="literal">InfoContributor</code> beans are auto-configured by Spring Boot, when
appropriate:</p><div class="informaltable"><table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Name</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/EnvironmentInfoContributor.java" target="_top"><code class="literal">EnvironmentInfoContributor</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Exposes any key from the <code class="literal">Environment</code> under the <code class="literal">info</code> key.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/GitInfoContributor.java" target="_top"><code class="literal">GitInfoContributor</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Exposes git information if a <code class="literal">git.properties</code> file is available.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/BuildInfoContributor.java" target="_top"><code class="literal">BuildInfoContributor</code></a></p></td><td style="" align="left" valign="top"><p>Exposes build information if a <code class="literal">META-INF/build-info.properties</code> file is available.</p></td></tr></tbody></table></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>It is possible to disable them all by setting the <code class="literal">management.info.defaults.enabled</code>
property.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="production-ready-application-info-env" href="#production-ready-application-info-env"></a>53.9.2&nbsp;Custom Application Information</h3></div></div></div><p>You can customize the data exposed by the <code class="literal">info</code> endpoint by setting <code class="literal">info.*</code> Spring
properties. All <code class="literal">Environment</code> properties under the <code class="literal">info</code> key are automatically exposed.
For example, you could add the following settings to your <code class="literal">application.properties</code> file:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">info.app.encoding</span>=UTF-8
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">info.app.java.source</span>=1.8
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">info.app.java.target</span>=1.8</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>Rather than hardcoding those values, you could also
<a class="link" href="howto-properties-and-configuration.html#howto-automatic-expansion" title="77.1&nbsp;Automatically Expand Properties at Build Time">expand info properties at build time</a>.</p><p>Assuming you use Maven, you could rewrite the preceding example as follows:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">info.app.encoding</span>=@project.build.sourceEncoding@
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">info.app.java.source</span>=@java.version@
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">info.app.java.target</span>=@java.version@</pre></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="production-ready-application-info-git" href="#production-ready-application-info-git"></a>53.9.3&nbsp;Git Commit Information</h3></div></div></div><p>Another useful feature of the <code class="literal">info</code> endpoint is its ability to publish information about
the state of your <code class="literal">git</code> source code repository when the project was built. If a
<code class="literal">GitProperties</code> bean is available, the <code class="literal">git.branch</code>, <code class="literal">git.commit.id</code>, and
<code class="literal">git.commit.time</code> properties are exposed.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>A <code class="literal">GitProperties</code> bean is auto-configured if a <code class="literal">git.properties</code> file is available at
the root of the classpath. See
"<a class="link" href="howto-build.html#howto-git-info" title="91.2&nbsp;Generate Git Information">Generate git information</a>" for more details.</p></td></tr></table></div><p>If you want to display the full git information (that is, the full content of
<code class="literal">git.properties</code>), use the <code class="literal">management.info.git.mode</code> property, as follows:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">management.info.git.mode</span>=full</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="production-ready-application-info-build" href="#production-ready-application-info-build"></a>53.9.4&nbsp;Build Information</h3></div></div></div><p>If a <code class="literal">BuildProperties</code> bean is available, the <code class="literal">info</code> endpoint can also publish
information about your build. This happens if a <code class="literal">META-INF/build-info.properties</code> file is
available in the classpath.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>The Maven and Gradle plugins can both generate that file. See
"<a class="link" href="howto-build.html#howto-build-info" title="91.1&nbsp;Generate Build Information">Generate build information</a>" for more details.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="production-ready-application-info-custom" href="#production-ready-application-info-custom"></a>53.9.5&nbsp;Writing Custom InfoContributors</h3></div></div></div><p>To provide custom application information, you can register Spring beans that implement
the <a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.4.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/InfoContributor.java" target="_top"><code class="literal">InfoContributor</code></a> interface.</p><p>The following example contributes an <code class="literal">example</code> entry with a single value:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">import</span> java.util.Collections;

<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">import</span> org.springframework.boot.actuate.info.Info;
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">import</span> org.springframework.boot.actuate.info.InfoContributor;
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">import</span> org.springframework.stereotype.Component;

<xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Component</xslthl:annotation>
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">public</span> <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">class</span> ExampleInfoContributor <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">implements</span> InfoContributor {

	<xslthl:annotation xmlns:xslthl="http://xslthl.sourceforge.net/">@Override</xslthl:annotation>
	<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">public</span> <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">void</span> contribute(Info.Builder builder) {
		builder.withDetail(<span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"example"</span>,
				Collections.singletonMap(<span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"key"</span>, <span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"value"</span>));
	}

}</pre><p>If you reach the <code class="literal">info</code> endpoint, you should see a response that contains the following
additional entry:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">{</span>
	<span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"example"</span>: <span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">{</span>
		<span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"key"</span> : <span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"value"</span>
	<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">}</span>
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">}</span></pre></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="production-ready-enabling.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="production-ready.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="production-ready-monitoring.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">52.&nbsp;Enabling Production-ready Features&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;54.&nbsp;Monitoring and Management over HTTP</td></tr></table></div></body></html>