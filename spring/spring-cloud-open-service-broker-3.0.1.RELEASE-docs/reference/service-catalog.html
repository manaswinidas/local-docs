<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Advertising Services</title>
<link rel="stylesheet" href="css//spring.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
</head>
<body class="book">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="service-catalog"><a class="anchor" href="#service-catalog"></a>1. Advertising Services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The {osbspec}#catalog-management[service broker catalog] provides a set of metadata that describes the available services along with attributes such as cost and capabilities.
The catalog is made available to the platform&#8217;s services marketplace through the service broker <code>/v2/catalog</code> endpoint.</p>
</div>
<div class="paragraph">
<p>The service broker can either provide a Spring bean of type {scosb-api}/org/springframework/cloud/servicebroker/model/catalog/Catalog.html[Catalog] or implement the service {scosb-api-services}CatalogService.html[CatalogService].</p>
</div>
<div class="sect2">
<h3 id="providing-a-catalog-bean"><a class="anchor" href="#providing-a-catalog-bean"></a>1.1. Providing a Catalog Bean</h3>
<div class="paragraph">
<p>The service broker catalog can be exposed by creating a Spring bean and contribute it to the Spring
application context. This can be done in a Spring <code>@Configuration</code> class as in this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">Unresolved directive in service-catalog.adoc - include::{examples-dir}/ExampleCatalogConfiguration.java[]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="providing-a-catalog-using-properties"><a class="anchor" href="#providing-a-catalog-using-properties"></a>1.2. Providing a Catalog Using Properties</h3>
<div class="paragraph">
<p>A catalog may be configured with Spring Boot externalized configuration within a Java properties file or YAML file.
The catalog is parsed and made available as a <code>Catalog</code> bean during autoconfiguration.</p>
</div>
<div class="paragraph">
<p>The following example shows a YAML file that configures a catalog:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml" data-lang="yaml">Unresolved directive in service-catalog.adoc - include::{examples-dir}/catalog-minimal.yml[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows a properties file that configures a catalog:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties" data-lang="properties">Unresolved directive in service-catalog.adoc - include::{examples-dir}/catalog-minimal.properties[]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="implementing-a-catalog-service"><a class="anchor" href="#implementing-a-catalog-service"></a>1.3. Implementing a Catalog Service</h3>
<div class="paragraph">
<p>A service broker can take more control over the catalog by implementing the <code>CatalogService</code> interface.
This might be required if some details of the catalog metadata need to be read from the environment or from an external data source.</p>
</div>
<div class="paragraph">
<p>The following example shows an implementation of the <code>CatalogService</code> interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java" data-lang="java">Unresolved directive in service-catalog.adoc - include::{examples-dir}/ExampleCatalogService.java[]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="js/tocbot/tocbot.min.js"></script>
<script type="text/javascript" src="js/toc.js"></script>
<link rel="stylesheet" href="js/highlight/styles/atom-one-dark-reasonable.min.css">
<script src="js/highlight/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>