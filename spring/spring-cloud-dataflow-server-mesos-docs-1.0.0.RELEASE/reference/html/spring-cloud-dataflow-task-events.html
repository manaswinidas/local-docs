<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>31.&nbsp;Subscribing to Task/Batch Events</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Spring Cloud Data Flow Server for Apache Mesos"><link rel="up" href="spring-cloud-task.html" title="Part&nbsp;V.&nbsp;Tasks"><link rel="prev" href="spring-cloud-dataflow-task-repository.html" title="30.&nbsp;Task Repository"><link rel="next" href="spring-cloud-dataflow-launch-tasks-from-stream.html" title="32.&nbsp;Launching Tasks from a Stream"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">31.&nbsp;Subscribing to Task/Batch Events</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="spring-cloud-dataflow-task-repository.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;V.&nbsp;Tasks</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="spring-cloud-dataflow-launch-tasks-from-stream.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="spring-cloud-dataflow-task-events" href="#spring-cloud-dataflow-task-events"></a>31.&nbsp;Subscribing to Task/Batch Events</h2></div></div></div><p>You can also tap into various task/batch events when the task is launched.
If the task is enabled to generate task and/or batch events (with the additional dependencies <code class="literal">spring-cloud-task-stream</code> and <code class="literal">spring-cloud-stream-binder-kafka</code>, in the case of Kafka as the binder), those events are published during the task lifecycle.
By default, the destination names for those published events on the broker (rabbit, kafka etc.,) are the event names themselves (for instance: <code class="literal">task-events</code>, <code class="literal">job-execution-events</code> etc.,).</p><pre class="screen">dataflow:&gt;task create myTask --definition &#8220;myBatchJob"
dataflow:&gt;task launch myTask
dataflow:&gt;stream create task-event-subscriber1 --definition ":task-events &gt; log" --deploy</pre><p>You can control the destination name for those events by specifying explicit names when launching the task such as:</p><pre class="screen">dataflow:&gt;task launch myTask --properties "spring.cloud.stream.bindings.task-events.destination=myTaskEvents"
dataflow:&gt;stream create task-event-subscriber2 --definition ":myTaskEvents &gt; log" --deploy</pre><p>The default Task/Batch event and destination names on the broker are enumerated below:</p><div class="table"><a name="d0e2050" href="#d0e2050"></a><p class="title"><b>Table&nbsp;31.1.&nbsp;Task/Batch Event Destinations</b></p><div class="table-contents"><table summary="Task/Batch Event Destinations" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><span class="strong"><strong>Event</strong></span></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p><span class="strong"><strong>Destination</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>Task events</p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">task-events</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>Job Execution events</p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">job-execution-events</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>Step Execution events</p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">step-execution-events</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>Item Read events</p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">item-read-events</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>Item Process events</p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">item-process-events</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>Item Write events</p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">item-write-events</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; " align="left" valign="top"><p>Skip events</p></td><td style="" align="left" valign="top"><p><code class="literal">skip-events</code></p></td></tr></tbody></table></div></div><br class="table-break"></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="spring-cloud-dataflow-task-repository.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="spring-cloud-task.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="spring-cloud-dataflow-launch-tasks-from-stream.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">30.&nbsp;Task Repository&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;32.&nbsp;Launching Tasks from a Stream</td></tr></table></div></body></html>