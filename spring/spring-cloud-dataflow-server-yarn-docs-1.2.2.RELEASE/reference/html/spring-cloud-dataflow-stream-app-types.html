<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>28.&nbsp;Other Source and Sink Application Types</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Spring Cloud Data Flow for Apache YARN"><link rel="up" href="streams.html" title="Part&nbsp;V.&nbsp;Streams"><link rel="prev" href="spring-cloud-dataflow-deploy-undeploy-stream.html" title="27.&nbsp;Deploying and Undeploying Streams"><link rel="next" href="spring-cloud-dataflow-simple-stream.html" title="29.&nbsp;Simple Stream Processing"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">28.&nbsp;Other Source and Sink Application Types</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="spring-cloud-dataflow-deploy-undeploy-stream.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;V.&nbsp;Streams</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="spring-cloud-dataflow-simple-stream.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="spring-cloud-dataflow-stream-app-types" href="#spring-cloud-dataflow-stream-app-types"></a>28.&nbsp;Other Source and Sink Application Types</h2></div></div></div><p>Let&#8217;s try something a bit more complicated and swap out the <code class="literal">time</code> source for something else. Another supported source type is <code class="literal">http</code>, which accepts data for ingestion over HTTP POSTs. Note that the <code class="literal">http</code> source accepts data on a different port from the Data Flow Server (default 8080). By default the port is randomly assigned.</p><p>To create a stream using an <code class="literal">http</code> source, but still using the same <code class="literal">log</code> sink, we would change the original command above to</p><pre class="screen">dataflow:&gt; stream create --definition "http | log" --name myhttpstream --deploy</pre><p>which will produce the following output from the server</p><pre class="screen">2016-06-01 09:47:58.920  INFO 79016 --- [io-9393-exec-10] o.s.c.d.spi.local.LocalAppDeployer       : deploying app myhttpstream.log instance 0
   Logs will be in /var/folders/wn/8jxm_tbd1vj28c8vj37n900m0000gn/T/spring-cloud-dataflow-912434582726479179/myhttpstream-1464788878747/myhttpstream.log
2016-06-01 09:48:06.396  INFO 79016 --- [io-9393-exec-10] o.s.c.d.spi.local.LocalAppDeployer       : deploying app myhttpstream.http instance 0
   Logs will be in /var/folders/wn/8jxm_tbd1vj28c8vj37n900m0000gn/T/spring-cloud-dataflow-912434582726479179/myhttpstream-1464788886383/myhttpstream.http</pre><p>Note that we don&#8217;t see any other output this time until we actually post some data (using a shell command). In order to see the randomly assigned port on which the http source is listening, execute:</p><pre class="screen">dataflow:&gt; runtime apps</pre><p>You should see that the corresponding http source has a <code class="literal">url</code> property containing the host and port information on which it is listening. You are now ready to post to that url, e.g.:</p><pre class="screen">dataflow:&gt; http post --target http://localhost:1234 --data "hello"
dataflow:&gt; http post --target http://localhost:1234 --data "goodbye"</pre><p>and the stream will then funnel the data from the http source to the output log implemented by the log sink</p><pre class="screen">2016-06-01 09:50:22.121  INFO 79654 --- [  kafka-binder-] log.sink    : hello
2016-06-01 09:50:26.810  INFO 79654 --- [  kafka-binder-] log.sink    : goodbye</pre><p>Of course, we could also change the sink implementation. You could pipe the output to a file (<code class="literal">file</code>), to hadoop (<code class="literal">hdfs</code>) or to any of the other sink apps which are available. You can also define your own apps.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="spring-cloud-dataflow-deploy-undeploy-stream.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="streams.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="spring-cloud-dataflow-simple-stream.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">27.&nbsp;Deploying and Undeploying Streams&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;29.&nbsp;Simple Stream Processing</td></tr></table></div></body></html>