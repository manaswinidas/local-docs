<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_201) on Wed Apr 03 09:18:47 UTC 2019 -->
<title>MessageChannelPartitionHandler (Spring Batch 4.1.2.RELEASE API)</title>
<meta name="date" content="2019-04-03">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MessageChannelPartitionHandler (Spring Batch 4.1.2.RELEASE API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Spring Batch</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/springframework/batch/integration/partition/BeanFactoryStepLocator.html" title="class in org.springframework.batch.integration.partition"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/springframework/batch/integration/partition/RemotePartitioningMasterStepBuilder.html" title="class in org.springframework.batch.integration.partition"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html" target="_top">Frames</a></li>
<li><a href="MessageChannelPartitionHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.springframework.batch.integration.partition</div>
<h2 title="Class MessageChannelPartitionHandler" class="title">Class MessageChannelPartitionHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.springframework.batch.integration.partition.MessageChannelPartitionHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/springframework/batch/core/partition/PartitionHandler.html" title="interface in org.springframework.batch.core.partition">PartitionHandler</a>, org.springframework.beans.factory.InitializingBean</dd>
</dl>
<hr>
<br>
<pre>@MessageEndpoint
public class <span class="typeNameLabel">MessageChannelPartitionHandler</span>
extends java.lang.Object
implements <a href="../../../../../org/springframework/batch/core/partition/PartitionHandler.html" title="interface in org.springframework.batch.core.partition">PartitionHandler</a>, org.springframework.beans.factory.InitializingBean</pre>
<div class="block">A <a href="../../../../../org/springframework/batch/core/partition/PartitionHandler.html" title="interface in org.springframework.batch.core.partition"><code>PartitionHandler</code></a> that uses <code>MessageChannel</code> instances to send instructions to remote workers and
 receive their responses. The <code>MessageChannel</code> provides a nice abstraction so that the location of the workers
 and the transport used to communicate with them can be changed at run time. The communication with the remote workers
 does not need to be transactional or have guaranteed delivery, so a local thread pool based implementation works as
 well as a remote web service or JMS implementation. If a remote worker fails, the job will fail and can be restarted
 to pick up missing messages and processing. The remote workers need access to the Spring Batch <a href="../../../../../org/springframework/batch/core/repository/JobRepository.html" title="interface in org.springframework.batch.core.repository"><code>JobRepository</code></a>
 so that the shared state across those restarts can be managed centrally.

 While a <code>MessageChannel</code> is used for sending the requests to the workers, the
 worker's responses can be obtained in one of two ways:
 <ul>
     <li>A reply channel - Slaves will respond with messages that will be aggregated via this component.</li>
     <li>Polling the job repository - Since the state of each slave is maintained independently within the job
     repository, we can poll the store to determine the state without the need of the slaves to formally respond.</li>
 </ul>

 Note: The reply channel for this is instance based.  Sharing this component across
 multiple step instances may result in the crossing of messages.  It's recommended that
 this component be step or job scoped.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Dave Syer, Will Schipp, Michael Minella, Mahmoud Ben Hassine</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#MessageChannelPartitionHandler--">MessageChannelPartitionHandler</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#afterPropertiesSet--">afterPropertiesSet</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#aggregate-java.util.List-">aggregate</a></span>(java.util.List&lt;?&gt;&nbsp;messages)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core">StepExecution</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#handle-org.springframework.batch.core.partition.StepExecutionSplitter-org.springframework.batch.core.StepExecution-">handle</a></span>(<a href="../../../../../org/springframework/batch/core/partition/StepExecutionSplitter.html" title="interface in org.springframework.batch.core.partition">StepExecutionSplitter</a>&nbsp;stepExecutionSplitter,
      <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core">StepExecution</a>&nbsp;masterStepExecution)</code>
<div class="block">Sends <a href="../../../../../org/springframework/batch/integration/partition/StepExecutionRequest.html" title="class in org.springframework.batch.integration.partition"><code>StepExecutionRequest</code></a> objects to the request channel of the <code>MessagingTemplate</code>, and then
 receives the result back as a list of <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a> on a reply channel.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#setDataSource-javax.sql.DataSource-">setDataSource</a></span>(javax.sql.DataSource&nbsp;dataSource)</code>
<div class="block"><code>DataSource</code> pointing to the job repository</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#setGridSize-int-">setGridSize</a></span>(int&nbsp;gridSize)</code>
<div class="block">Passed to the <a href="../../../../../org/springframework/batch/core/partition/StepExecutionSplitter.html" title="interface in org.springframework.batch.core.partition"><code>StepExecutionSplitter</code></a> in the <a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#handle-org.springframework.batch.core.partition.StepExecutionSplitter-org.springframework.batch.core.StepExecution-"><code>handle(StepExecutionSplitter, StepExecution)</code></a> method,
 instructing it how many <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a> instances are required, ideally.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#setJobExplorer-org.springframework.batch.core.explore.JobExplorer-">setJobExplorer</a></span>(<a href="../../../../../org/springframework/batch/core/explore/JobExplorer.html" title="interface in org.springframework.batch.core.explore">JobExplorer</a>&nbsp;jobExplorer)</code>
<div class="block"><a href="../../../../../org/springframework/batch/core/explore/JobExplorer.html" title="interface in org.springframework.batch.core.explore"><code>JobExplorer</code></a> to use to query the job repository.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#setMessagingOperations-org.springframework.integration.core.MessagingTemplate-">setMessagingOperations</a></span>(org.springframework.integration.core.MessagingTemplate&nbsp;messagingGateway)</code>
<div class="block">A pre-configured gateway for sending and receiving messages to the remote workers.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#setPollInterval-long-">setPollInterval</a></span>(long&nbsp;pollInterval)</code>
<div class="block">How often to poll the job repository for the status of the slaves.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#setReplyChannel-org.springframework.messaging.PollableChannel-">setReplyChannel</a></span>(org.springframework.messaging.PollableChannel&nbsp;replyChannel)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#setStepName-java.lang.String-">setStepName</a></span>(java.lang.String&nbsp;stepName)</code>
<div class="block">The name of the <a href="../../../../../org/springframework/batch/core/Step.html" title="interface in org.springframework.batch.core"><code>Step</code></a> that will be used to execute the partitioned <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#setTimeout-long-">setTimeout</a></span>(long&nbsp;timeout)</code>
<div class="block">When using job repository polling, the time limit to wait.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MessageChannelPartitionHandler--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MessageChannelPartitionHandler</h4>
<pre>public&nbsp;MessageChannelPartitionHandler()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="afterPropertiesSet--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterPropertiesSet</h4>
<pre>public&nbsp;void&nbsp;afterPropertiesSet()
                        throws java.lang.Exception</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>afterPropertiesSet</code>&nbsp;in interface&nbsp;<code>org.springframework.beans.factory.InitializingBean</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="setTimeout-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeout</h4>
<pre>public&nbsp;void&nbsp;setTimeout(long&nbsp;timeout)</pre>
<div class="block">When using job repository polling, the time limit to wait.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - milliseconds to wait, defaults to -1 (no timeout).</dd>
</dl>
</li>
</ul>
<a name="setJobExplorer-org.springframework.batch.core.explore.JobExplorer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setJobExplorer</h4>
<pre>public&nbsp;void&nbsp;setJobExplorer(<a href="../../../../../org/springframework/batch/core/explore/JobExplorer.html" title="interface in org.springframework.batch.core.explore">JobExplorer</a>&nbsp;jobExplorer)</pre>
<div class="block"><a href="../../../../../org/springframework/batch/core/explore/JobExplorer.html" title="interface in org.springframework.batch.core.explore"><code>JobExplorer</code></a> to use to query the job repository.  Either this or
 a <code>DataSource</code> is required when using job repository polling.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jobExplorer</code> - <a href="../../../../../org/springframework/batch/core/explore/JobExplorer.html" title="interface in org.springframework.batch.core.explore"><code>JobExplorer</code></a> to use for lookups</dd>
</dl>
</li>
</ul>
<a name="setPollInterval-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPollInterval</h4>
<pre>public&nbsp;void&nbsp;setPollInterval(long&nbsp;pollInterval)</pre>
<div class="block">How often to poll the job repository for the status of the slaves.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pollInterval</code> - milliseconds between polls, defaults to 10000 (10 seconds).</dd>
</dl>
</li>
</ul>
<a name="setDataSource-javax.sql.DataSource-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDataSource</h4>
<pre>public&nbsp;void&nbsp;setDataSource(javax.sql.DataSource&nbsp;dataSource)</pre>
<div class="block"><code>DataSource</code> pointing to the job repository</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataSource</code> - <code>DataSource</code> that points to the job repository's store</dd>
</dl>
</li>
</ul>
<a name="setMessagingOperations-org.springframework.integration.core.MessagingTemplate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMessagingOperations</h4>
<pre>public&nbsp;void&nbsp;setMessagingOperations(org.springframework.integration.core.MessagingTemplate&nbsp;messagingGateway)</pre>
<div class="block">A pre-configured gateway for sending and receiving messages to the remote workers. Using this property allows a
 large degree of control over the timeouts and other properties of the send. It should have channels set up
 internally: <ul> <li>request channel capable of accepting <a href="../../../../../org/springframework/batch/integration/partition/StepExecutionRequest.html" title="class in org.springframework.batch.integration.partition"><code>StepExecutionRequest</code></a> payloads</li> <li>reply
 channel that returns a list of <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a> results</li> </ul> The timeout for the reply should be set
 sufficiently long that the remote steps have time to complete.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messagingGateway</code> - the <code>MessagingTemplate</code> to set</dd>
</dl>
</li>
</ul>
<a name="setGridSize-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGridSize</h4>
<pre>public&nbsp;void&nbsp;setGridSize(int&nbsp;gridSize)</pre>
<div class="block">Passed to the <a href="../../../../../org/springframework/batch/core/partition/StepExecutionSplitter.html" title="interface in org.springframework.batch.core.partition"><code>StepExecutionSplitter</code></a> in the <a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#handle-org.springframework.batch.core.partition.StepExecutionSplitter-org.springframework.batch.core.StepExecution-"><code>handle(StepExecutionSplitter, StepExecution)</code></a> method,
 instructing it how many <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a> instances are required, ideally. The <a href="../../../../../org/springframework/batch/core/partition/StepExecutionSplitter.html" title="interface in org.springframework.batch.core.partition"><code>StepExecutionSplitter</code></a>
 is allowed to ignore the grid size in the case of a restart, since the input data partitions must be preserved.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>gridSize</code> - the number of step executions that will be created</dd>
</dl>
</li>
</ul>
<a name="setStepName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStepName</h4>
<pre>public&nbsp;void&nbsp;setStepName(java.lang.String&nbsp;stepName)</pre>
<div class="block">The name of the <a href="../../../../../org/springframework/batch/core/Step.html" title="interface in org.springframework.batch.core"><code>Step</code></a> that will be used to execute the partitioned <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a>. This is a
 regular Spring Batch step, with all the business logic required to complete an execution based on the input
 parameters in its <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a> context. The name will be translated into a <a href="../../../../../org/springframework/batch/core/Step.html" title="interface in org.springframework.batch.core"><code>Step</code></a> instance by the
 remote worker.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stepName</code> - the name of the <a href="../../../../../org/springframework/batch/core/Step.html" title="interface in org.springframework.batch.core"><code>Step</code></a> instance to execute business logic</dd>
</dl>
</li>
</ul>
<a name="aggregate-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregate</h4>
<pre>@Aggregator(sendPartialResultsOnExpiry="true")
public&nbsp;java.util.List&lt;?&gt;&nbsp;aggregate(@Payloads
                                                                                  java.util.List&lt;?&gt;&nbsp;messages)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messages</code> - the messages to be aggregated</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list as it was passed in</dd>
</dl>
</li>
</ul>
<a name="setReplyChannel-org.springframework.messaging.PollableChannel-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReplyChannel</h4>
<pre>public&nbsp;void&nbsp;setReplyChannel(org.springframework.messaging.PollableChannel&nbsp;replyChannel)</pre>
</li>
</ul>
<a name="handle-org.springframework.batch.core.partition.StepExecutionSplitter-org.springframework.batch.core.StepExecution-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handle</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core">StepExecution</a>&gt;&nbsp;handle(<a href="../../../../../org/springframework/batch/core/partition/StepExecutionSplitter.html" title="interface in org.springframework.batch.core.partition">StepExecutionSplitter</a>&nbsp;stepExecutionSplitter,
                                                  <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core">StepExecution</a>&nbsp;masterStepExecution)
                                           throws java.lang.Exception</pre>
<div class="block">Sends <a href="../../../../../org/springframework/batch/integration/partition/StepExecutionRequest.html" title="class in org.springframework.batch.integration.partition"><code>StepExecutionRequest</code></a> objects to the request channel of the <code>MessagingTemplate</code>, and then
 receives the result back as a list of <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a> on a reply channel. Use the <a href="../../../../../org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html#aggregate-java.util.List-"><code>aggregate(List)</code></a>
 method as an aggregator of the individual remote replies. The receive timeout needs to be set realistically in
 the <code>MessagingTemplate</code> <b>and</b> the aggregator, so that there is a good chance of all work being done.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/springframework/batch/core/partition/PartitionHandler.html#handle-org.springframework.batch.core.partition.StepExecutionSplitter-org.springframework.batch.core.StepExecution-">handle</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/springframework/batch/core/partition/PartitionHandler.html" title="interface in org.springframework.batch.core.partition">PartitionHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stepExecutionSplitter</code> - a strategy for generating a collection of
 <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a> instances</dd>
<dd><code>masterStepExecution</code> - the master step execution for the whole partition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a collection of completed <a href="../../../../../org/springframework/batch/core/StepExecution.html" title="class in org.springframework.batch.core"><code>StepExecution</code></a> instances</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if anything goes wrong. This allows implementations to
 be liberal and rely on the caller to translate an exception into a step
 failure as necessary.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/springframework/batch/core/partition/PartitionHandler.html#handle-org.springframework.batch.core.partition.StepExecutionSplitter-org.springframework.batch.core.StepExecution-"><code>PartitionHandler.handle(StepExecutionSplitter, StepExecution)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Spring Batch</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/springframework/batch/integration/partition/BeanFactoryStepLocator.html" title="class in org.springframework.batch.integration.partition"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/springframework/batch/integration/partition/RemotePartitioningMasterStepBuilder.html" title="class in org.springframework.batch.integration.partition"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html" target="_top">Frames</a></li>
<li><a href="MessageChannelPartitionHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
