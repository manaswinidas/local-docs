<html lang="en-US"  xmlns="http://www.w3.org/1999/xhtml"><head></head><body  onload="load()">﻿
        <title>Synth外观（Java™教程>使用JFC / Swing创建GUI>修改外观）</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="description" content="This Swing Java Tutorial describes developing graphical user interfaces (GUIs) for applications and applets using Swing components">
     <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface, swing components, swing events, swing layout  ">
        
<style type="text/css">body {
        margin-left:10px;
        margin-right:10px;
        line-height: 1.5;
        FONT-FAMILY: Arial, Helvetica, sans-serif; 
        font-size: 0.8em;
    }
    
    a:link{text-decoration:none; color:#09569d;}
    a:visited{text-decoration:none; color: #3a87cf;}
    a:hover{text-decoration:underline; }
        
    code{
        font-family:Monaco,Courier,"Courier New";
    }
    
    .header-container {
        background-color: #fff;
        border-bottom: 1px solid #C1CFDA;
        -webkit-box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
        box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
    }
    
    .bookwrapper {
        width: auto;
        margin: auto;
    }
    
    .clearfix {
    }
    
    .clearfloat {
        clear: both;
        overflow: auto;
        height: 0px;
        font-size: 1px;
        line-height: 0px;
    }
    
    #brandProdName {
        width: auto;
        height: auto;
    }
    
    #logocover {
        display: block;
        background: transparent url(../../images/oracle-java-logo.png) 0px 0px no-repeat;
        height: 50px;
        width: 229px;
        float: left;
    }
    
    #productName {
        font-size: 16px;
        position: relative;
        top: 19px;
        padding-left: 3px;
        color: #457798;
        white-space: nowrap;
        width: 340px;
    }


    .FigureCaption   { 
        font-family: sans-serif; 
        text-align: center;
    }
    
    #TopBar_bl {        
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        margin-left: -110px;
        margin-right: -100px;       
		align: left;
        height: 60px;
    }
    #TopBar_tr {
        width: 100%;
        height: 60px;
    }
    
    #TopBar {
        min-width:700px;
        padding:25px 100px 10px;
        margin-bottom:25px;
        clear:both;
        
        border-bottom:1px solid #d2dde5;
        border-radius: 3px;
    
        background:#efefef; /* Old browsers */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMmVmZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top,  #ffffff 0%, #e2eff9 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e2eff9)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #ffffff 0%,#e2eff9 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e2eff9',GradientType=0 ); /* IE6-8 */
        
    }
    
    #TopBar_left {
        line-height: 14px;
        position: absolute;
        padding-top: 30px;
        padding-right: 30px;
        padding-left: 30px;
        text-align: left;
        font: 13px/20px Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 20px;
        color: #333;
    }
    
    #TopBar_right {
        line-height: 12px;
        float: right;
        padding-top: 10px;
        padding-right: 30px;
        text-align: left;
    }
    

    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    
     
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 10px;
        margin: 3px;
        padding: 0;
    }
 
    #BreadCrumbs {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    
    #BreadCrumbs a {
        color:#09569d;
    }
    
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }
    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    
    .LeftBar_shown {
        width: 13em;
        float: left;
    }
    
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    
    .LeftBar_hidden {
        display: none;
    }
    
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;       
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }

    .NavBit  {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    
    @media print {
        .NavBit {
            display: none;
        }
    }
    
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    
    #Contents a, .NavBit a, #TagNotes a {
        color:#09569d;
    }
    
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em;
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #333;
		
		
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
	
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #333;
        
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
		font-size:12px;
		font-family:Monaco,Courier,"Courier New";
    }
    
    .tocli {
        list-style-type:none;
    }

    .betadraft {
        color: red;
    }</style>
<script type="text/javascript">/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */</script>


    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script>

    <noscript>要使此页面正常运行，需要启用JavaScript的浏览器。
    </noscript>
        <!-- header -->
    <div class="header-container">
        <div class="bookwrapper  clearfix">       
            <div id="brandProdName">
                <div id="logocover"></div>
                <div id="productName">文献资料</div>
            </div> 
            <br class="clearfloat">
        </div>
    </div>
    
    <div id="TopBar">
        <div id="TopBar_tr">
            <div id="TopBar_tl">
                <div id="TopBar_br"> <div id="TopBar_bl"> 
                    <div id="TopBar_left">Java™教程</div>
                        <div id="TopBar_right"> 
                            <!--
                            <a href="URL" target="_blank">External Link</a><br/>
                            --> <a href="javascript:void(0);" id="ToggleLeft">隐藏目录</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">修改外观</a></div>
<div class="linkAHEAD"><a href="plaf.html">如何设置外观</a></div>
<div class="nolinkAHEAD">合成器外观</div>
<div class="linkBHEAD"><a href="synthExample.html">合成器示例</a></div>
<div class="linkAHEAD"><a href="nimbus.html">灵气外观</a></div>
<div class="linkBHEAD"><a href="custom.html">改变雨云的外观</a></div>
<div class="linkBHEAD"><a href="size.html">调整组件大小</a></div>
<div class="linkBHEAD"><a href="color.html">更改颜色主题</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
    <div class="PrintHeaders">
        <b>Trail：</b>使用JFC / Swing创建GUI<br><b>课程：</b>修改外观</div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">主页</a> > <a href="../index.html" target="_top">使用JFC / Swing创建GUI</a> > <a href="index.html" target="_top">修改外观</a>
            </div>
            <div class="NavBit">
                <a href="plaf.html" target="_top">«上一个</a> • <a href="../TOC.html" target="_top">追踪</a> • <a href="synthExample.html" target="_top">下一个»</a>
            </div>
            <div class="Banner"><p style="background-color:rgb(247,248,249);border-width:1px;padding:10px;font-style:italic;border-style:solid;border-color:rgb(64,74,91)">Java教程是为JDK 8编写的。此页面中描述的示例和实践没有利用更高版本中引入的改进。</p></div>
            <div id="PageTitle"><h1>合成器外观</h1></div>
            <div id="PageContent">

<!--  Synth look and Feel -->
<p>创建自定义外观或修改现有外观可能是一项艰巨的任务。的<a class="APILink" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/synth/package-summary.html" target="_blank"><code>javax.swing.plaf.synth</code></a>包可用于轻松创建自定义外观。您可以通过编程或使用外部XML文件来创建Synth外观。下面的讨论致力于使用外部XML文件创建Synth外观。API文档中讨论了以编程方式创建Synth c的过程。</p>
<p>利用Synth的外观，您可以提供“外观”。 Synth本身提供了“感觉”。因此，您可以将Synth L＆F视为“皮肤”。</p>
<h2>合成器架构</h2>
<p><!--Recall from the previous topic that it is the responsibility of each L&F to provide a concrete 
implementation for each of the many <code>ComponentUI</code> subclasses defined by Swing. With the Synth L&F, 
by comparison, you must create a 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/synth/SynthStyle.html"><code>SynthStyle</code></a> for every component.
<p>
In order to use Synth you need to provide a 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/synth/SynthStyleFactory.html"><code>SynthStyleFactory</code></a>and <code>SynthStyles</code>, either directly 
(that is, programatically) or indirectly (from an XML file). Synth itself creates the necessary 
<code>ComponentUI</code> implementations from the <code>SynthStyles</code>. 
<p>
Each <code>ComponentUI</code> implementation in Synth derives from one <code>SynthStyle</code> per 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/synth/Region.html"><code>Region</code></a>—most components only have one <code>Region</code> and therefor only one 
<code>SynthStyle</code>. <code>SynthStyle</code> is 
 used to access all style related properties: fonts, colors and other component properties. 
 In addition <code>SynthStyles</code> are used to obtain 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/synth/SynthPainter.html"><code>SynthPainters</code></a> for painting the background, 
 border, focus and other portions of a component. 
 <p>
The <code>ComponentUIs</code> obtain <code>SynthStyles</code> from the 
<code>getStyle(JComponent c, Region id)</code> method of a 
<code>SynthStyleFactory</code>. A <code>SynthStyleFactory</code> can be provided directly 
(programatically) by
<div class="codeblock"><pre>
SynthLookAndFeel.setStyleFactory(javax.swing.plaf.synth.SynthStyleFactory)
</pre></div>
 or indirectly (external file) by:
<div class="codeblock"><pre>
SynthLookAndFeel.load(java.io.InputStream, java.lang.Class)
</pre></div>
<p>When you use an external XML file, you define <style> elements which Synth maps to the <code>SynthStyles</code>.
<p>-->回顾上一个主题，每个L＆F都有责任为许多<code>ComponentUI</code> Swing定义的子类。Synth L＆F会为您解决这个问题。要使用Synth，您无需创建任何<code>ComponentUI</code> s-而是只需要指定每个组件的绘制方式，以及影响布局和大小的各种属性。</p>
<p>Synth的运行比组件的运行更细化-此细化水平称为“区域”。每个组件都有一个或多个区域。许多组件只有一个区域，例如<code>JButton</code> 。其他人有多个区域，例如<code>JScrollBar</code> 。每一个<code>ComponentUIs</code>由Synth合作伙伴提供<code>SynthStyle</code>每个区域都由<code>ComponentUI</code> 。例如，Synth定义了三个区域<code>JScrollBar</code> ：轨道，拇指和滚动条本身。的<code>ScrollBarUI</code> （ <code>ComponentUI</code>定义的子类<code>JScrollBar</code> ）为Synth员工实施<code>SynthStyle</code>这些区域中的每一个。</p>
<center><img src="../../figures/uiswing/lookandfeel/synthArch.gif" width="672" height="531" align="bottom" alt="Synth建筑图。"></center><p><code>SynthStyle</code>提供合成器使用的样式信息<code>ComponentUI</code>实施。例如， <code>SynthStyle</code>定义前景色和背景色，字体信息等。另外，每个<code>SynthStyle</code>有个<code>SynthPainter</code>用于绘制区域。例如， <code>SynthPainter</code>定义两种方法<code>paintScrollBarThumbBackground</code>和<code>paintScrollBarThumbBorder</code> ，用于绘制滚动条的拇指区域。</p>
<p>每一个<code>ComponentUIs</code>在Synth中获得<code>SynthStyles</code>用一个<code>SynthStyleFactory</code> 。有两种方法可以定义<code>SynthStyleFactory</code> ：通过Synth XML文件或以编程方式。以下代码显示了如何加载指示Synth外观的XML文件-在封面的下面创建了一个<code>SynthStyleFactory</code>实施中填充<code>SynthStyles</code>从XML文件：</p>
<div class="codeblock"><pre>SynthLookAndFeel laf = new SynthLookAndFeel();
  laf.load(MyClass.class.getResourceAsStream("laf.xml"), MyClass.class);
  UIManager.setLookAndFeel(laf);</pre></div>
<p>程序化路线涉及创建以下实现<code>SynthStyleFactory</code>返回<code>SynthStyles</code> 。以下代码创建一个自定义<code>SynthStyleFactory</code>返回独特的<code>SynthStyles</code>对于按钮和树：</p>
<div class="codeblock"><pre>class MyStyleFactory extends SynthStyleFactory {
     public SynthStyle getStyle(JComponent c, Region id) {
         if (id == Region.BUTTON) {
             return buttonStyle;
         }
         else if (id == Region.TREE) {
             return treeStyle;
         }
         return defaultStyle;
     }
 }
 SynthLookAndFeel laf = new SynthLookAndFeel();
 UIManager.setLookAndFeel(laf);
 SynthLookAndFeel.setStyleFactory(new MyStyleFactory());</pre></div>
<!--
<h2>Using an External XML File</h2>
<p>
Choosing a Synth look and feel for your application is simple. This code loads the XML file into Synth from an input 
stream and then sets the current look and feel to Synth:
<div class="codeblock"><pre>
SynthLookAndFeel laf = new SynthLookAndFeel();
laf.load(MyApp.class.getResourceAsStream("synth_def.xml"), MyApp.class);
UIManager.setLookAndFeel(laf);
</pre></div>
<p>
The Synth feel (or, "skin"), is defined in the external file, <code>synth_def.xml</code>, which must be loaded 
as shown. The second parameter in the <code>load()</code> method defines the path to the XML file and any images used, 
indicating that they are 
to be found with the same path as the <code>MyApp.class</code> file.
<p>
<div class="note"><hr /><strong>Note:</strong> It is also possible to load a Synth XML file from an arbitrary URL:
<div class="codeblock"><pre>
SynthLookAndFeel laf = new SynthLookAndFeel();
laf.load(new URL("file:///C:/java/synth/laf/synth_def.xml"));
UIManager.setLookAndFeel(laf);
</pre></div>
<hr /></div>

<p>
The <code>load()</code> method throws a checked exception, <code>ParseException</code>, so the 
<code>laf.load(MyApp.class.getResourceAsStream("synth_def.xml"), MyApp.class);</code> 
statement should be in a <code>try</code> block. A more robust example is this <code>initLookAndFeel()</code> 
method in the <code>MyApp</code> class that will override the default look and feel to 
create a Synth look and feel from the external XML file.:

<div class="codeblock"><pre>
private static void initLookAndFeel() {
   SynthLookAndFeel laf = new SynthLookAndFeel();
 
   try {
      laf.load(MyApp.class.getResourceAsStream("synth_def.xml"), MyApp.class);
      UIManager.setLookAndFeel(laf);
   } 

   catch (ParseException e) {
      System.err.println("Couldn't get specified look and feel ("
                                   + lookAndFeel + "), for some reason.");
      System.err.println("Using the default look and feel.");
      e.printStackTrace();
   }

}
</pre></div>
If the load method fails, or the XML file is not well formed, the Synth look and feel will not be installed and 
you will get the default look and feel.
-->
<h2>XML文件</h2>
<p>有关Synth XML文件的DTD的说明，请参见： <a class="APILink" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/plaf/synth/doc-files/synthFileFormat.html" target="_blank"><code>javax.swing.plaf.synth/doc-files/synthFileFormat.html</code> 。</a></p>
<p>当您加载Synth外观时，仅呈现为其定义了定义（绑定到该区域的“样式”，如下所述）的那些GUI组件（或区域）。没有任何组件的默认行为-在Synth XML文件中没有样式定义，GUI是一块空白画布。</p>
<p>要指定组件（或区域）的呈现方式，您的XML文件必须包含一个<style></style></p></div></div></body></html>