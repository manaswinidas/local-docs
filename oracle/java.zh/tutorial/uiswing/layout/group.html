<html lang="en-US"  xmlns="http://www.w3.org/1999/xhtml"><head></head><body  onload="load()">﻿
        <title>如何使用GroupLayout（Java™教程>使用JFC / Swing创建GUI>在容器中布置组件）</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="description" content="This Swing Java Tutorial describes developing graphical user interfaces (GUIs) for applications and applets using Swing components">
     <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface, swing components, swing events, swing layout  ">
        
<style type="text/css">
    body {
        margin-left:10px;
        margin-right:10px;
        line-height: 1.5;
        FONT-FAMILY: Arial, Helvetica, sans-serif; 
        font-size: 0.8em;
    }
    
    a:link{text-decoration:none; color:#09569d;}
    a:visited{text-decoration:none; color: #3a87cf;}
    a:hover{text-decoration:underline; }
        
    code{
        font-family:Monaco,Courier,"Courier New";
    }
    
    .header-container {
        background-color: #fff;
        border-bottom: 1px solid #C1CFDA;
        -webkit-box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
        box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
    }
    
    .bookwrapper {
        width: auto;
        margin: auto;
    }
    
    .clearfix {
    }
    
    .clearfloat {
        clear: both;
        overflow: auto;
        height: 0px;
        font-size: 1px;
        line-height: 0px;
    }
    
    #brandProdName {
        width: auto;
        height: auto;
    }
    
    #logocover {
        display: block;
        background: transparent url(../../images/oracle-java-logo.png) 0px 0px no-repeat;
        height: 50px;
        width: 229px;
        float: left;
    }
    
    #productName {
        font-size: 16px;
        position: relative;
        top: 19px;
        padding-left: 3px;
        color: #457798;
        white-space: nowrap;
        width: 340px;
    }


    .FigureCaption   { 
        font-family: sans-serif; 
        text-align: center;
    }
    
    #TopBar_bl {        
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        margin-left: -110px;
        margin-right: -100px;       
		align: left;
        height: 60px;
    }
    #TopBar_tr {
        width: 100%;
        height: 60px;
    }
    
    #TopBar {
        min-width:700px;
        padding:25px 100px 10px;
        margin-bottom:25px;
        clear:both;
        
        border-bottom:1px solid #d2dde5;
        border-radius: 3px;
    
        background:#efefef; /* Old browsers */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMmVmZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top,  #ffffff 0%, #e2eff9 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e2eff9)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #ffffff 0%,#e2eff9 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e2eff9',GradientType=0 ); /* IE6-8 */
        
    }
    
    #TopBar_left {
        line-height: 14px;
        position: absolute;
        padding-top: 30px;
        padding-right: 30px;
        padding-left: 30px;
        text-align: left;
        font: 13px/20px Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 20px;
        color: #333;
    }
    
    #TopBar_right {
        line-height: 12px;
        float: right;
        padding-top: 10px;
        padding-right: 30px;
        text-align: left;
    }
    

    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    
     
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 10px;
        margin: 3px;
        padding: 0;
    }
 
    #BreadCrumbs {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    
    #BreadCrumbs a {
        color:#09569d;
    }
    
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }
    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    
    .LeftBar_shown {
        width: 13em;
        float: left;
    }
    
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    
    .LeftBar_hidden {
        display: none;
    }
    
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;       
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }

    .NavBit  {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    
    @media print {
        .NavBit {
            display: none;
        }
    }
    
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    
    #Contents a, .NavBit a, #TagNotes a {
        color:#09569d;
    }
    
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em;
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #333;
		
		
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
	
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #333;
        
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
		font-size:12px;
		font-family:Monaco,Courier,"Courier New";
    }
    
    .tocli {
        list-style-type:none;
    }

    .betadraft {
        color: red;
    }

</style>
<script type="text/javascript">
/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */    
</script>


    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script>

    <noscript>要使此页面正常运行，需要启用JavaScript的浏览器。
    </noscript>
        <!-- header -->
    <div class="header-container">
        <div class="bookwrapper  clearfix">       
            <div id="brandProdName">
                <div id="logocover"></div>
                <div id="productName">文献资料</div>
            </div> 
            <br class="clearfloat">
        </div>
    </div>
    
    <div id="TopBar">
        <div id="TopBar_tr">
            <div id="TopBar_tl">
                <div id="TopBar_br"> <div id="TopBar_bl"> 
                    <div id="TopBar_left">Java™教程</div>
                        <div id="TopBar_right"> 
                            <!--
                            <a href="URL" target="_blank">External Link</a><br/>
                            --> <a href="javascript:void(0);" id="ToggleLeft">隐藏目录</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">布置容器中的组件</a></div>
<div class="linkAHEAD"><a href="visual.html">布局管理器的可视指南</a></div>
<div class="linkAHEAD"><a href="using.html">使用布局管理器</a></div>
<div class="linkAHEAD"><a href="howLayoutWorks.html">布局管理如何工作</a></div>
<div class="linkAHEAD"><a href="layoutlist.html">如何使用各种布局管理器</a></div>
<div class="linkAHEAD"><a href="border.html">如何使用BorderLayout</a></div>
<div class="linkAHEAD"><a href="box.html">如何使用BoxLayout</a></div>
<div class="linkAHEAD"><a href="card.html">如何使用CardLayout</a></div>
<div class="linkAHEAD"><a href="flow.html">如何使用FlowLayout</a></div>
<div class="linkAHEAD"><a href="gridbag.html">如何使用GridBagLayout</a></div>
<div class="linkAHEAD"><a href="grid.html">如何使用GridLayout</a></div>
<div class="nolinkAHEAD">如何使用GroupLayout</div>
<div class="linkBHEAD"><a href="groupExample.html">一个GroupLayout示例</a></div>
<div class="linkAHEAD"><a href="spring.html">如何使用SpringLayout</a></div>
<div class="linkAHEAD"><a href="custom.html">创建自定义布局管理器</a></div>
<div class="linkAHEAD"><a href="none.html">在没有布局管理器的情况下进行操作（绝对定位）</a></div>
<div class="linkAHEAD"><a href="problems.html">解决常见的布局问题</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
    <div class="PrintHeaders">
        <b>Trail：</b>使用JFC / Swing创建GUI<br><b>课程：</b>在容器中布置组件</div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">主页</a> > <a href="../index.html" target="_top">使用JFC / Swing创建GUI</a> > <a href="index.html" target="_top">在容器中布置组件</a>
            </div>
            <div class="NavBit">
                <a href="grid.html" target="_top">«上一个</a> • <a href="../TOC.html" target="_top">追踪</a> • <a href="groupExample.html" target="_top">下一个»</a>
            </div>
            <div class="Banner"><p style="background-color:rgb(247,248,249);border-width:1px;padding:10px;font-style:italic;border-style:solid;border-color:rgb(64,74,91)">Java教程是为JDK 8编写的。此页面中描述的示例和实践没有利用更高版本中引入的改进。</p></div>
            <div id="PageTitle"><h1>如何使用GroupLayout</h1></div>
            <div id="PageContent">

<p><code>GroupLayout</code>是一个布局管理器，是为Matisse等GUI构建器开发的，Matisse是NetBeans IDE随附的GUI构建器。尽管布局管理器最初是为满足GUI构建器的需求而设计的，但它对于手动编码也很有效。此讨论将教您如何<code>GroupLayout</code>并向您展示如何使用<code>GroupLayout</code>无论您选择使用Matisse这样的GUI构建器还是编写自己的代码来构建GUI。</p>

<div class="note"><hr><strong>注意：</strong>本课程涵盖手工编写布局代码，这可能会很困难。如果您对学习布局管理的所有细节都不感兴趣，则可以使用<code>GroupLayout</code>布局管理器与构建器工具相结合，以布置您的GUI。 <a class="TutorialLink" href="../learn/index.html" target="_top">NetBeans IDE</a>就是这样一种构建器工具。否则，如果您想手工编码而又不想使用<code>GroupLayout</code> ， 然后<code>GridBagLayout</code>建议将其作为下一个最灵活，功能最强大的布局管理器。
<hr></div> 

<p>如果您对使用JavaFX创建GUI感兴趣，请参阅使用JavaFX中的<a class="OutsideLink" href="https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html" target="_blank">布局</a> 。</p>


<h2>设计原理：独立尺寸</h2>
<p><code>GroupLayout</code>分别与水平和垂直布局一起使用。分别为每个尺寸定义布局。定义<i>水平</i>布局时，您无需担心<i>垂直</i>尺寸，反之亦然，因为沿每个轴的布局完全独立于沿另一个轴的布局。</p>
<p>当只关注一个维度时，您只需一次解决一半的问题。这比一次处理两个尺寸要容易。当然，这意味着每个组件需要在布局中定义两次。如果您忘记这样做， <code>GroupLayout</code>会产生异常。</p>
<h2>布局组织：层次组</h2>
<p><code>GroupLayout</code>使用两种类型的安排-顺序安排和并行安排，并结合层次结构。</p>
<ol>
<li>通过<b>顺序</b>排列，组件可以简单地一个接一个地放置，就像<code>BoxLayout</code>要么<code>FlowLayout</code>会沿着一个轴做。每个组件的位置都定义为相对于先前的组件。</li>
<li>第二种方式将组件<b>并行</b>放置-在同一空间中彼此重叠。它们可以沿垂直轴基线对齐，顶部对齐或底部对齐。如果组件的尺寸不相同，则沿水平轴可以左对齐，右对齐或居中对齐。</li>
</ol>
<p>通常，在一个维度上平行放置的组件在另一个维度上按顺序排列，因此它们不会重叠。</p>
<p>使这两种安排功能强大的原因在于它们可以分层嵌套。以此目的<code>GroupLayout</code>定义<b>布局组</b> 。一个组可以是连续的，也可以是并行的，并且可以包含组件，其他组和间隙（在下面讨论）。</p>
<p>顺序组的大小是所包含元素的大小之和，而平行组的大小则对应于最大元素的大小（尽管取决于元素和基线所处的位置，基线的大小对齐的组可能比最大元素大一些）。</p>
<p>定义布局意味着通过组合顺序排列和并行排列来定义应如何对组件进行分组。</p>
<p>让我们使用一个简单的示例来查看它在实践中如何工作。</p>
<h2>一个例子</h2>
<p>让我们从简单的内容开始，仅连续三个部分：</p>
<center><img src="../../figures/uiswing/layout/example1a.PNG" width="151" height="31" align="bottom" alt="连续三个部分。"></center><p>我们将使用组来表达此布局。从水平轴开始，很容易看到<i>从左到右依次</i>排列的3个组件。沿着垂直轴，存在由相同的三个组件组成的<i>平行组</i> ，它们具有相同的位置，大小和基线：</p>
<center><img src="../../figures/uiswing/layout/groups1a.PNG" width="397" height="69" align="bottom" alt="组1a。"></center><p>在伪代码中，布局规范可能看起来像这样（实际代码在下面的“ <i>编写代码”</i>部分中）：</p>
<div class="codeblock"><pre>
horizontal layout = sequential group { c1, c2, c3 }
vertical layout = parallel group (BASELINE) { c1, c2, c3 }
</pre></div>
<p>这说明了前面提到的原理：在一维中按顺序分组的组件通常在另一维中形成并行组。</p>
<p>现在让我们再添加一个与C3左对齐的组件C4：</p>
<center><img src="../../figures/uiswing/layout/example1b.PNG" width="160" height="62" align="bottom" alt="范例1b。"></center><p>沿着水平轴，新组件与C3占据相同的水平空间，因此它与C3形成平行组。沿着垂直轴C4与三个组件的原始平行组形成一个顺序组。</p>
<center><img src="../../figures/uiswing/layout/groups1b.PNG" width="413" height="112" align="bottom" alt="组1b。"></center><p>用伪代码，布局规范现在看起来像这样：</p>
<div class="codeblock"><pre>
horizontal layout = sequential group { c1, c2, <b>parallel group (LEFT) { </b>c3,<b> c4 }</b> }
vertical layout = <b>sequential group {</b> parallel group (BASELINE) { c1, c2, c3 }, <b>c4 }</b>
</pre></div>
<p>现在您了解了使用以下方法设计布局的最重要方面<code>GroupLayout</code> 。这里仅需解释一些细节：如何添加间隙，如何定义大小和调整大小行为，如何定义合理的布局以及如何编写实际代码。</p>
<h2>缝隙</h2>
<p>间隙可以认为是一定大小的不可见成分。可以将任意大小的间隙添加到组中，就像组件或其他组一样。使用间隙，您可以精确控制组件之间或到容器边界的距离。</p>
<p><code>GroupLayout</code>还定义了<i>自动</i>间隙，该间隙对应于相邻组件之间（或组件与容器边界之间）的<i>首选距离</i> 。根据应用程序正在使用的外观和感觉（例如<code>LayoutStyle</code>类用于此）。使用自动（首选）间隙有两个优点：不必指定间隙的像素大小，它们会自动调整以适应UI的运行外观，从而反映实际的外观准则。</p>
<p><code>GroupLayout</code>区分（a）两个组件之间的首选间隙和（b）组件与容器边界之间的首选间隙。有相应的方法<code>GroupLayout</code>用于增加这些差距的API（ <code>addPreferredGap</code>和<code>addContainerGap</code> ）。组件差距有三种类型： <b>相关</b> ， <b>不相关</b>和<b>缩进</b> 。的<code>LayoutStyle.ComponentPlacement</code>枚举定义了相应的常量，以用作<code>addPreferredGap</code>方法： <code>RELATED</code> ， <code>UNRELATED</code>和<code>INDENT</code> 。相关间隙和不相关间隙之间的差异只是大小上不相关的组件之间的距离要大一些。<i>缩进</i>表示当两个组件中的一个通过凹口位于第二个组件下方时，两个组件的首选水平距离。</p>
<center><img src="../../figures/uiswing/layout/gaps.PNG" width="340" height="77" align="bottom" alt="差距。"></center><p>正如刚才提到的， <code>GroupLayout</code>可以自动插入间隔-如果您未明确添加自己的间隔，则会为您添加<i>相关的</i>首选间隔。但是，这不是默认行为。您必须通过调用启用此功能<code>setAutoCreateGaps(true)</code>和<code>setAutoCreateContainerGaps(true)</code>在<code>GroupLayout</code> 。然后，您将自动获得正确的间距。</p>
<h2>编写代码</h2>
<p>现在，让我们看一下创建上述布局的实际代码。</p>
<p>让我们假设我们有一个名为<code>panel</code>并且已经介绍了相同的四个组件（ <code>c1</code> ， <code>c2</code> ， <code>c3</code>和<code>c4</code> ）。首先，我们创建一个新的<code>GroupLayout</code>对象并将其与面板关联：</p>
<div class="codeblock"><pre>
GroupLayout layout = new GroupLayout(panel);
 panel.setLayout(layout);
</pre></div>
<p>我们指定自动插入间隙：</p>
<div class="codeblock"><pre>
layout.setAutoCreateGaps(true);
layout.setAutoCreateContainerGaps(true);
</pre></div>
<p>然后，我们定义组并添加组件。我们使用<code>setHorizontalGroup</code>和<code>setVerticalGroup</code>方法。组通过创建<code>createSequentialGroup</code>和<code>createParallelGroup</code>方法。使用以下命令将组件添加到组中<code>addComponent</code>方法。</p>
<div class="codeblock"><pre>
layout.setHorizontalGroup(
   layout.createSequentialGroup()
      .addComponent(c1)
      .addComponent(c2)
      .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)
           .addComponent(c3)
           .addComponent(c4))
);
layout.setVerticalGroup(
   layout.createSequentialGroup()
      .addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
           .addComponent(c1)
           .addComponent(c2)
           .addComponent(c3))
      .addComponent(c4)
);
</pre></div>
<p>您可以为平行组指定对齐方式。它可以是以下内容中定义的常量之一<code>GroupLayout.Alignment</code>枚举： <code>LEADING</code> ， <code>TRAILING</code> ， <code>CENTER</code>和<code>BASELINE</code> 。这些常数在两个维度上都使用，并取决于组件方向是从左到右还是从右到左（从上到下或从下到上）。例如，如果水平（垂直）组件方向是从左到右（从上到下） <code>LEADING</code>表示左（上）时<code>TRAILING</code>表示正确（底部）。 <code>CENTER</code>表示在两个维度上都“居中”。如果您未指定对齐方式， <code>LEADING</code>将会被使用。的<code>BASELINE</code>对齐仅在垂直尺寸上有效。</p>
<div class="note"><hr><strong>注意：</strong> <p>组布局中的对齐仅对不同大小的组件有意义。尺寸相同的组件将针对每个<code>GroupLayout.Alignment</code>常数。</p>
<hr></div>
<p>有关代码的一些注释：</p>
<ul>
<li>您不需要将组件直接添加到容器中-使用addComponent方法之一隐式为您完成。</li>
<li>请注意链式调用<code>addComponent</code>用于填充组的方法。的<code>addComponent</code>方法始终返回调用它的组。因此，您不需要使用局部变量来保存组。</li>
<li>缩进代码是个好主意，这样很容易看到组的层次结构。给每个组件换行，为层次结构中的每个新组添加一个缩进级别。好的源代码编辑器将帮助您配对括号以关闭<code>createXXXGroup</code>方法。通过遵循这些简单的规则，可以更轻松地添加新组件或删除现有组件。</li>
</ul>
<h2>组件尺寸和可调整大小</h2>
<p>布局中可调整大小的组件数量没有限制。</p>
<p>一个组件中每个组件的大小<code>GroupLayout</code>受三个值约束；最小尺寸，首选尺寸和最大尺寸。这些大小控制组件在布局中如何调整大小。的<code>GroupLayout.addComponent(...)</code>方法允许指定大小限制。</p>
<p>如果未明确指定，则布局会向组件询问其默认大小（通过使用组件的<code>getMinimumSize()</code> ， <code>getPreferredSize()</code>和<code>getMaximumSize()</code>方法）。您无需为大多数组件指定任何内容，例如<code>JTextField</code>可调整大小或<code>JButton</code>已修复，因为组件本身具有默认的所需调整大小行为。另一方面，您可以覆盖默认行为。例如，您可以<code>JTextField</code>固定或<code>JButton</code>可调整大小。</p>
<p><code>GroupLayout</code>定义可以精确控制调整大小行为的常量。它们可以用作<code>addComponent(Component comp, int min, int pref, int max)</code>方法。这是两个示例：</p>
<ol>
<li>强制调整组件大小（允许缩小和增长）：<div class="codeblock"><pre>
<i>group</i>.addComponent(component, 0, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE) ...
</pre></div>
<p>这允许组件将大小调整为零（最小）到任意大小（ <code>Short.MAX_VALUE</code>因为最大尺寸表示“无限”）。如果我们希望组件不缩小到其默认最小尺寸以下，则可以使用<code>GroupLayout.DEFAULT_SIZE</code>代替<code>0</code>在第二个参数中。</p>
</li>
<li>要使组件固定大小（禁止调整大小）：<div class="codeblock"><pre>
group.addComponent(component, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE,
          GroupLayout.PREFERRED_SIZE) ...
</pre></div>
</li>
</ol>
<p>在这些示例中，组件的初始大小未更改，其默认大小是组件的首选大小。如果我们想要组件的特定大小，则可以在第二个参数中指定它，而不是使用<code>GroupLayout.DEFAULT_SIZE</code> 。</p>
<p style="font-weight:bold">可调整的差距</p>
<p>指定大小和可缩放性也适用于间隙，包括首选间隙。例如，您可以指定两个组件之间的首选间隙，其作用就像是一个<i>弹簧，</i>将组件彼此推开（移向容器的相对侧）。这两个分量的首选距离仅用作间隙的最小大小。请参见以下代码段：</p>
<div class="codeblock"><pre>
layout.createSequentialGroup()
    .addComponent(c1)
    .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED,
                     GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
    .addComponent(c2);
</pre></div>
<h2>并行组中的大小</h2>
<p>放置在平行组中的可调整大小的元素会拉伸以填充由组中最大元素确定的组空间，因此它们最终以相同的大小对齐。 <code>GroupLayout</code>还可以控制封闭的并行组本身是否应调整大小。如果抑制了组大小调整，则会阻止包含的元素在组的首选大小上增长。这样，您可以使一组零件在两侧对齐，或将单个零件约束为具有相同的大小。</p>
<p>让我们尝试从示例中为两个组件实现相同的尺寸（ <code>c3</code>和<code>c4</code>在水平尺寸）：</p>
<div class="codeblock"><pre>
layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
  .addComponent(c3, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
  .addComponent(c4, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE);
</pre></div>
<p>底层机制的工作方式如下：</p>
<ol>
<li>并行组的大小设置为最大元素的首选大小；所以到首选大小<code>c4</code>在我们的示例中。</li>
<li>可调整大小的元素被拉伸到组的大小。在我们的示例中，仅<code>c3</code>有效地拉伸， <code>c4</code>已经对应于组的大小。</li>
</ol>
<p>结果是， <code>c3</code>和<code>c4</code>将具有相同的宽度。组件将无法进一步调整大小，因为并行组本身不可调整大小（ <code>createParallelGroup</code>上面的方法是<code>false</code> ）。</p>
<center><img src="../../figures/uiswing/layout/same_size_stretched.PNG" width="160" height="62" align="bottom" alt="舒展。"></center><p>细心读者的问题：为什么在此示例中将并行组中的两个组件都定义为可调整大小的？似乎只有<code>c3</code>可调整大小，因为<code>c4</code>反正也不舒展...</p>
<p>答案是：由于平台和本地化的独立性。否则我们将不得不依靠<code>c4</code>分量总是大于<code>c3</code> 。但是，当应用程序在不同平台上运行或翻译为另一种语言时，这可能会改变。通过使两个组件可调整大小，它们可以相互调整，而不管给定时刻哪个更大。</p>
<h2>使组件尺寸相同</h2>
<p>前一种情况是特殊的，因为组件在同一并行组中。但是，如果我们希望不相关的组件具有相同的大小怎么办？显然，不能总是通过分组来确保相同的大小。对话框底部连续的“确定”和“取消”按钮就是一个很好的例子。以此目的<code>GroupLayout</code>提供一个<code>linkSize</code>方法。此方法允许链接任意组件的大小，而不管它们放在何处。链接的组件的最终大小是根据最大的组件设置的。例如：</p>
<div class="codeblock"><pre>
layout.linkSize(SwingConstants.HORIZONTAL, c3, c4);
</pre></div>
<p>在此示例中，尺寸针对水平尺寸进行选择性链接。</p>
<h2>您的GUI的运行时更改</h2>
<p>在运行时可以使用两种重要的方法来更改GUI， <code>replace()</code>和<code>setHonorsVisibility()</code> 。使用这两种方法，您可以在运行时交换组件或更改组件的可见性，并使GUI相应地重新排列。</p>
<p><code>replace(Component existingComponent, Component newComponent)</code>用新组件替换现有组件。动态布局所需的常见操作之一是能够替换这样的组件。例如，也许一个复选框会在显示图形或树的组件之间切换。 <code>GroupLayout</code>通过<code>replace()</code>方法。您可以交换组件而无需重新创建所有组。</p>
<p>用户界面中的另一种常见操作是动态更改组件的可见性。可能仅在用户完成表单的较早部分时才显示组件。为了避免组件在这种情况下混乱，无论组件的可见性如何，都应占用空间。 <code>GroupLayout</code>提供了两种方法来配置不可见组件的处理方式。的<code>setHonorsVisibility(boolean)</code>方法全局设置不可见组件的处理方式。默认值true表示不可见的组件被视为不存在。另一方面，false值为不可见的组件提供了空间，将它们视为可见。的<code>setHonorsVisibility(Component,Boolean)</code>方法可用于在特定组件级别配置行为。为了确定可见性的处理方式， <code>GroupLayout</code>首先检查是否已为Component指定值，否则，将检查global属性的设置。</p>
<div class="note"><hr><strong>一些历史：</strong> <p><code>GroupLayout</code> Java Standard Edition 6中的Java包含三个不同的工作主体：获得组件基准的能力，获得组件之间的首选差距的能力（ <code>LayoutStyle</code> ），以及<code>GroupLayout</code> 。这项工作最初是作为一个开源项目完成的，位于<a class="OutsideLink" href="http://java.net/projects/swing-layout/" target="_blank">http://java.net/projects/swing-layout/</a></p>
<p>NetBeans 5.0支持<code>GroupLayout</code>通过秋千布局项目。由于这项工作的成功，所有三个部分都已汇总为<code>GroupLayout</code>在Java Standard Edition版本6中。两者之间的主要区别<code>GroupLayout</code>在Java SE 6中，swing-layout在程序包名称和方法名称中。NetBeans 5.5提供了针对<code>GroupLayout</code>在Java SE 6中，或者<code>GroupLayout</code>在秋千上。NetBeans所针对的版本取决于您的项目所针对的Java平台的版本。针对Java SE 6的项目使用<code>GroupLayout</code>在Java SE中，否则<code>GroupLayout</code>在秋千布局中使用。</p>
<hr></div>


        </div>
        <div class="NavBit">
            <a href="grid.html" target="_top">«上一个</a> • <a href="../TOC.html" target="_top">追踪</a> • <a href="groupExample.html" target="_top">下一个»</a>
        </div>
    </div>
    
<hr class="clearfloat">

<div id="Footer">

<p class="footertext">
<a href="http://www.oracle.com/corporate/index.html">关于Oracle</a> | <a href="http://www.oracle.com/us/corporate/contact/index.html">联系我们</a> | <a href="http://www.oracle.com/us/legal/index.html">法律声明</a> | <a href="http://www.oracle.com/us/legal/terms/index.html">使用条款</a> | <a href="http://www.oracle.com/us/legal/privacy/index.html">您的隐私权</a></p>

<p class="footertext"><a href="http://www.oracle.com/pls/topic/lookup?ctx=cpyr&id=en-US">版权所有©1995、2017 Oracle和/或其分支机构。版权所有。</a></p>
       
</div>    
    <div class="PrintHeaders">
        <b>上一页：</b>如何使用GridLayout<br><b>下一页：</b> GroupLayout示例</div>
<!-- Start SiteCatalyst code -->
<script type="application/javascript" src="https://www.oracleimg.com/us/assets/metrics/ora_docs.js"></script>
<!-- End SiteCatalyst code --> 

 
</body></html>