<html lang="en-US"  xmlns="http://www.w3.org/1999/xhtml"><head></head><body  onload="load()">﻿
        <title>如何使用BoxLayout（Java™教程>使用JFC / Swing创建GUI>在容器中布置组件）</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="description" content="This Swing Java Tutorial describes developing graphical user interfaces (GUIs) for applications and applets using Swing components">
     <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface, swing components, swing events, swing layout  ">
        
<style type="text/css">
    body {
        margin-left:10px;
        margin-right:10px;
        line-height: 1.5;
        FONT-FAMILY: Arial, Helvetica, sans-serif; 
        font-size: 0.8em;
    }
    
    a:link{text-decoration:none; color:#09569d;}
    a:visited{text-decoration:none; color: #3a87cf;}
    a:hover{text-decoration:underline; }
        
    code{
        font-family:Monaco,Courier,"Courier New";
    }
    
    .header-container {
        background-color: #fff;
        border-bottom: 1px solid #C1CFDA;
        -webkit-box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
        box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
    }
    
    .bookwrapper {
        width: auto;
        margin: auto;
    }
    
    .clearfix {
    }
    
    .clearfloat {
        clear: both;
        overflow: auto;
        height: 0px;
        font-size: 1px;
        line-height: 0px;
    }
    
    #brandProdName {
        width: auto;
        height: auto;
    }
    
    #logocover {
        display: block;
        background: transparent url(../../images/oracle-java-logo.png) 0px 0px no-repeat;
        height: 50px;
        width: 229px;
        float: left;
    }
    
    #productName {
        font-size: 16px;
        position: relative;
        top: 19px;
        padding-left: 3px;
        color: #457798;
        white-space: nowrap;
        width: 340px;
    }


    .FigureCaption   { 
        font-family: sans-serif; 
        text-align: center;
    }
    
    #TopBar_bl {        
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        margin-left: -110px;
        margin-right: -100px;       
		align: left;
        height: 60px;
    }
    #TopBar_tr {
        width: 100%;
        height: 60px;
    }
    
    #TopBar {
        min-width:700px;
        padding:25px 100px 10px;
        margin-bottom:25px;
        clear:both;
        
        border-bottom:1px solid #d2dde5;
        border-radius: 3px;
    
        background:#efefef; /* Old browsers */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMmVmZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top,  #ffffff 0%, #e2eff9 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e2eff9)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #ffffff 0%,#e2eff9 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e2eff9',GradientType=0 ); /* IE6-8 */
        
    }
    
    #TopBar_left {
        line-height: 14px;
        position: absolute;
        padding-top: 30px;
        padding-right: 30px;
        padding-left: 30px;
        text-align: left;
        font: 13px/20px Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 20px;
        color: #333;
    }
    
    #TopBar_right {
        line-height: 12px;
        float: right;
        padding-top: 10px;
        padding-right: 30px;
        text-align: left;
    }
    

    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    
     
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 10px;
        margin: 3px;
        padding: 0;
    }
 
    #BreadCrumbs {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    
    #BreadCrumbs a {
        color:#09569d;
    }
    
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }
    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    
    .LeftBar_shown {
        width: 13em;
        float: left;
    }
    
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    
    .LeftBar_hidden {
        display: none;
    }
    
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;       
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }

    .NavBit  {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    
    @media print {
        .NavBit {
            display: none;
        }
    }
    
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    
    #Contents a, .NavBit a, #TagNotes a {
        color:#09569d;
    }
    
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em;
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #333;
		
		
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
	
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #333;
        
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
		font-size:12px;
		font-family:Monaco,Courier,"Courier New";
    }
    
    .tocli {
        list-style-type:none;
    }

    .betadraft {
        color: red;
    }

</style>
<script type="text/javascript">
/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */    
</script>


    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script>

    <noscript>要使此页面正常运行，需要启用JavaScript的浏览器。
    </noscript>
        <!-- header -->
    <div class="header-container">
        <div class="bookwrapper  clearfix">       
            <div id="brandProdName">
                <div id="logocover"></div>
                <div id="productName">文献资料</div>
            </div> 
            <br class="clearfloat">
        </div>
    </div>
    
    <div id="TopBar">
        <div id="TopBar_tr">
            <div id="TopBar_tl">
                <div id="TopBar_br"> <div id="TopBar_bl"> 
                    <div id="TopBar_left">Java™教程</div>
                        <div id="TopBar_right"> 
                            <!--
                            <a href="URL" target="_blank">External Link</a><br/>
                            --> <a href="javascript:void(0);" id="ToggleLeft">隐藏目录</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">布置容器中的组件</a></div>
<div class="linkAHEAD"><a href="visual.html">布局管理器的可视指南</a></div>
<div class="linkAHEAD"><a href="using.html">使用布局管理器</a></div>
<div class="linkAHEAD"><a href="howLayoutWorks.html">布局管理如何工作</a></div>
<div class="linkAHEAD"><a href="layoutlist.html">如何使用各种布局管理器</a></div>
<div class="linkAHEAD"><a href="border.html">如何使用BorderLayout</a></div>
<div class="nolinkAHEAD">如何使用BoxLayout</div>
<div class="linkAHEAD"><a href="card.html">如何使用CardLayout</a></div>
<div class="linkAHEAD"><a href="flow.html">如何使用FlowLayout</a></div>
<div class="linkAHEAD"><a href="gridbag.html">如何使用GridBagLayout</a></div>
<div class="linkAHEAD"><a href="grid.html">如何使用GridLayout</a></div>
<div class="linkAHEAD"><a href="group.html">如何使用GroupLayout</a></div>
<div class="linkBHEAD"><a href="groupExample.html">一个GroupLayout示例</a></div>
<div class="linkAHEAD"><a href="spring.html">如何使用SpringLayout</a></div>
<div class="linkAHEAD"><a href="custom.html">创建自定义布局管理器</a></div>
<div class="linkAHEAD"><a href="none.html">在没有布局管理器的情况下进行操作（绝对定位）</a></div>
<div class="linkAHEAD"><a href="problems.html">解决常见的布局问题</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
    <div class="PrintHeaders">
        <b>Trail：</b>使用JFC / Swing创建GUI<br><b>课程：</b>在容器中布置组件</div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">主页</a> > <a href="../index.html" target="_top">使用JFC / Swing创建GUI</a> > <a href="index.html" target="_top">在容器中布置组件</a>
            </div>
            <div class="NavBit">
                <a href="border.html" target="_top">«上一个</a> • <a href="../TOC.html" target="_top">追踪</a> • <a href="card.html" target="_top">下一个»</a>
            </div>
            <div class="Banner"><p style="background-color:rgb(247,248,249);border-width:1px;padding:10px;font-style:italic;border-style:solid;border-color:rgb(64,74,91)">Java教程是为JDK 8编写的。此页面中描述的示例和实践没有利用更高版本中引入的改进。</p></div>
            <div id="PageTitle"><h1>如何使用BoxLayout</h1></div>
            <div id="PageContent">


<div class="note"><hr><strong>注意：</strong>本课程涵盖手工编写布局代码，这可能会很困难。如果您对学习布局管理的所有细节都不感兴趣，则可以使用<code>GroupLayout</code>布局管理器与构建器工具相结合，以布置您的GUI。 <a class="TutorialLink" href="../learn/index.html" target="_top">NetBeans IDE</a>就是这样一种构建器工具。否则，如果您想手工编码而又不想使用<code>GroupLayout</code> ， 然后<code>GridBagLayout</code>建议将其作为下一个最灵活，功能最强大的布局管理器。
<hr></div> 

<p>如果您对使用JavaFX创建GUI感兴趣，请参阅使用JavaFX中的<a class="OutsideLink" href="https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html" target="_blank">布局</a> 。</p>



<p>Swing软件包包括一个通用布局管理器，名为<a class="APILink" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/BoxLayout.html" target="_blank"><code>BoxLayout</code></a> 。 <code>BoxLayout</code>您可以选择将其组件堆叠在一起或将它们排成一排。您可能会认为它是<a href="flow.html"><code>FlowLayout</code></a> ，但功能更强大。这是演示如何使用的应用程序的图片<code>BoxLayout</code>显示组件的居中列：</p>
<center><img src="../../figures/uiswing/layout/BoxLayoutDemo.png" width="203" height="164" align="bottom" alt="BoxLayoutDemo的快照"></center><p>单击启动按钮以使用<a class="OutsideLink" href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html" target="_blank">Java™Web Start</a>运行BoxLayoutDemo（ <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">下载JDK 7或更高版本</a> ）。另外，要自己编译并运行示例，请参考<a href="../examples/layout/index.html#BoxLayoutDemo">示例索引</a> 。</p>
<a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/BoxLayoutDemoProject/BoxLayoutDemo.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="启动BoxLayoutDemo示例"></a><br>
<p>您可以在中看到代码<a class="SourceLink" href="../examples/layout/BoxLayoutDemoProject/src/layout/BoxLayoutDemo.java" target="_blank" onclick="showCode('../../displayCode.html', '../examples/layout/BoxLayoutDemoProject/src/layout/BoxLayoutDemo.java'); return false;"><code>BoxLayoutDemo.java</code></a> 。</p>
<p>下图显示了使用两个实例的GUI。 <code>BoxLayout</code> 。在GUI的顶部，从顶部到底部的框布局在滚动窗格上方放置了一个标签。在GUI的底部，从左到右的方框布局将两个按钮彼此相邻放置。一种<code>BorderLayout</code>结合了GUI的两个部分，并确保将多余的空间分配给滚动窗格。</p>
<center><img src="../../figures/uiswing/layout/ListDialogMetal.png" width="278" height="191" align="bottom" alt="同时使用从左到右和从上到下的框布局"></center><p>您可以在使用Swing组件的<a class="TutorialLink" href="../components/../examples/components/index.html#ListDialog" target="_top">示例索引中</a>找到运行ListDialog及其源文件的链接。</p>
<p>以下代码摘自<a class="SourceLink" href="../examples/components/ListDialogRunnerProject/src/components/ListDialog.java" target="_blank" onclick="showCode('../../displayCode.html', '../examples/components/ListDialogRunnerProject/src/components/ListDialog.java'); return false;"><code><code>ListDialog.java</code></code></a> ，布置了GUI。此代码在对话框的构造函数中，该对话框的实现形式为<code>JDialog</code>子类。粗体代码行设置了框布局并向其中添加了组件。</p>
<div class="codeblock"><pre>
JScrollPane listScroller = new JScrollPane(list);
listScroller.setPreferredSize(new Dimension(250, 80));
listScroller.setAlignmentX(LEFT_ALIGNMENT);
...
//Lay out the label and scroll pane from top to bottom.
JPanel listPane = new JPanel();
<b>listPane.setLayout(new BoxLayout(listPane, BoxLayout.PAGE_AXIS));</b>
JLabel label = new JLabel(labelText);
...
<b>listPane.add(label);</b>
<b>listPane.add(Box.createRigidArea(new Dimension(0,5)));</b>
<b>listPane.add(listScroller);</b>
listPane.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));

//Lay out the buttons from left to right.
JPanel buttonPane = new JPanel();
<b>buttonPane.setLayout(new BoxLayout(buttonPane, BoxLayout.LINE_AXIS));</b>
buttonPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 10, 10));
<b>buttonPane.add(Box.createHorizontalGlue());</b>
<b>buttonPane.add(cancelButton);</b>
<b>buttonPane.add(Box.createRigidArea(new Dimension(10, 0)));</b>
<b>buttonPane.add(setButton);</b>

//Put everything together, using the content pane's BorderLayout.
Container contentPane = getContentPane();
contentPane.add(listPane, BorderLayout.CENTER);
contentPane.add(buttonPane, BorderLayout.PAGE_END);
</pre></div>
<p>第一行粗线创建了一个从上到下的框布局，并将其设置为以下内容的布局管理器<code>listPane</code> 。的两个论点<code>BoxLayout</code>构造函数是它管理的容器，以及将沿其布置组件的轴。的<code>PAGE_AXIS</code>常量指定组件应按照目标容器的行确定的方向在页面上流线的方向进行布局<code>ComponentOrientation</code>属性。的<code>LINE_AXIS</code>常量指定应按目标容器的文本确定的文本方向布置组件<code>ComponentOrientation</code>属性。这些常量允许国际化，方法是按照其所用语言从左到右，从右到左或从上到下的正确方向对组件进行布局。</p>
<p>接下来的三行粗线将标签和滚动窗格添加到容器中，并用一个<em>刚性区域</em>将它们分隔开-一个不可见的组件，用于在组件之间增加空间。在这种情况下，刚性区域没有宽度，并且在标签和滚动窗格之间恰好放置了5个像素。后面将在“ <a href="#filler">使用不可见的组件作为填充器”</a>中讨论刚性区域。</p>
<p>下一个粗体代码块将创建一个从左到右的框布局，并将其设置为<code>buttonPane</code>容器。然后，代码将两个按钮添加到容器中，并使用一个刚性区域在按钮之间放置10个像素。为了将按钮放置在容器的右侧，添加到容器中的第一个组件是<em>胶水</em> 。这种胶水是一种不可见的成分，可以根据需要增长以吸收容器中的多余空间。在<a href="#filler">使用不可见组件作为填充剂中</a>讨论了胶水。</p>
<p>作为使用不可见组件的替代方法，有时可以使用空白边框在组件（尤其是面板）周围创建空间。例如，前面的代码段使用空白边框在对话框的所有侧面与其内容之间以及内容的两个部分之间放置10个像素。边框完全独立于布局管理器。它们只是Swing组件绘制边缘的方式，并在组件内容和边缘之间提供填充。有关更多信息，请参见<a class="TutorialLink" href="../components/border.html" target="_top">如何使用边框</a> 。</p>
<p>以下各节讨论<code>BoxLayout</code>更详细地：</p>

<ul>
<li><a href="#features">盒子布局特征</a></li>
<li><a href="#filler">使用不可见的成分作为填充物</a></li>
<li><a href="#alignment">解决对齐问题</a></li>
<li><a href="#size">指定组件尺寸</a></li>
<li><a href="#api">盒子布局API</a></li>
<li><a href="#eg">使用框布局的示例</a></li>
</ul>
<p>不要让长度<code>BoxLayout</code>讨论吓到你了！您可能可以使用<code>BoxLayout</code>与您已经拥有的信息。如果您遇到麻烦或想要利用<code>BoxLayout</code>的力量，继续阅读。</p>
<h2><a name="features" id="features">包装盒布局特征</a></h2>
<p>如前所述<code>BoxLayout</code>将组件彼此重叠或连续排列。在盒式布局排列组件时，它会考虑组件的对齐方式以及最小，首选和最大尺寸。在本节中，我们将讨论从上到下的布局。相同的概念适用于从左到右或从右到左的布局。您只需将X替换为Y，将高度替换为宽度，依此类推。</p>
<div class="note"><hr><strong>版本说明：</strong>在JDK 1.4 <strong>版</strong>之前，不存在用于以可本地化的方式指定框布局的轴的常量。相反，您指定了<code>X_AXIS</code> （从左到右）或<code>Y_AXIS</code> （从上到下）创建<code>BoxLayout</code> 。我们的示例现在使用常量<code>LINE_AXIS</code>和<code>PAGE_AXIS</code> ，因为它们使程序能够适应具有不同方向的语言，所以它们是首选。在默认的从左到右方向上， <code>LINE_AXIS</code>指定从左到右的布局，并<code>PAGE_AXIS</code>指定从上到下的布局。
<hr></div>
<p>当一个<code>BoxLayout</code>从上到下对组件进行布局，它会尝试按组件的首选高度调整每个组件的大小。如果布局的垂直空间与首选高度的总和不匹配，则<code>BoxLayout</code>尝试调整组件的大小以填充空间。组件会增大或缩小以填充空间， <code>BoxLayout</code>遵守每个组件的最小和最大尺寸。容器底部会出现任何多余的空间。</p>
<p>对于顶部到底部的框布局，容器的首选宽度是子级的最大首选宽度。如果容器被迫变宽， <code>BoxLayout</code>尝试将每个组件的宽度调整为容器宽度的宽度（减去插图）。如果组件的最大尺寸小于容器的宽度，则X对齐起作用。</p>
<p>X对齐方式不仅影响组件相对于彼此的位置，还影响组件（作为一个组）在其容器内的位置。下图说明了具有最大宽度限制的组件的对齐方式。</p>
<img src="../../figures/uiswing/layout/BoxLayoutDemo-left.png" width="124" height="181" alt="三个左对齐的组件">  
<img src="../../figures/uiswing/layout/BoxLayoutDemo-center.png" width="126" height="181" alt="三个中心对齐的组件">  
<img src="../../figures/uiswing/layout/BoxLayoutDemo-right.png" width="124" height="181" alt="三个右对齐的组件"><p>在第一个图中，所有三个分量的X对齐为0.0（ <code>Component.LEFT_ALIGNMENT</code> ）。这意味着组件的左侧应对齐。此外，这意味着所有三个组件都尽可能地位于其容器的最左侧。</p>
<p>在第二张图中，所有三个分量的X对齐为0.5（ <code>Component.CENTER_ALIGNMENT</code> ）。这意味着组件的中心应对齐，并且组件应位于其容器的水平中心。</p>
<p>在第三张图中，组件的X对齐为1.0（ <code>Component.RIGHT_ALIGNMENT</code> ）。您可以猜测这对于组件相对于其容器的对齐和位置意味着什么。</p>
<p>您可能想知道当零部件的最大尺寸受到限制并且X对齐方式不同时会发生什么。下图显示了一个示例：</p>
<center><img src="../../figures/uiswing/layout/BoxLayoutDemo-wacky.png" width="249" height="181" align="bottom" alt="具有混合X对齐的三个分量"></center><p>如您所见，组件的左侧的X对齐为0.0（ <code>Component.LEFT_ALIGNMENT</code> ）与具有0.5 X对齐（ <code>Component.CENTER_ALIGNMENT</code> ），其与X对齐为1.0的组件的右侧对齐（ <code>Component.RIGHT_ALIGNMENT</code> ）。这样的混合路线将在“ <a href="#alignment">修复路线问题”</a>中进一步讨论。</p>
<p>如果所有组件都没有最大宽度怎么办？在这种情况下，如果所有组件都具有相同的X对齐，则将所有组件制作得与其容器一样宽。如果X对齐方式不同，则X对齐方式为0.0（左）或1.0（右）的任何分量都将较小。具有中间X对齐（例如中心）的所有组件的宽度将与其容器一样宽。这是两个示例：</p>
<img src="../../figures/uiswing/layout/BoxLayoutDemo-left2.png" width="200" height="181" alt="具有混合X对齐且没有最大尺寸的三个组件">  
<img src="../../figures/uiswing/layout/BoxLayoutDemo-wacky2.png" width="202" height="181" alt="具有混合X对齐且没有最大尺寸的三个组件"><p>结识<code>BoxLayout</code>更好的是，您可以使用BoxLayoutDemo2运行自己的实验。</p>
<div class="note"><hr><strong>尝试这个：</strong> <ol>
<li>单击启动按钮以使用<a class="OutsideLink" href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html" target="_blank">Java™Web Start</a> （ <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">下载JDK 7或更高版本</a> ）运行BoxLayoutDemo2。另外，要自己编译并运行示例，请参考<a href="../examples/layout/index.html#BoxLayoutDemo2">示例索引</a> 。<a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/BoxLayoutDemo2Project/BoxLayoutDemo2.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="启动BoxLayoutDemo2示例"></a><br>
<p>您可以在中看到代码<a class="SourceLink" href="../examples/layout/BoxLayoutDemo2Project/src/layout/BoxLayoutDemo2.java" target="_blank" onclick="showCode('../../displayCode.html', '../examples/layout/BoxLayoutDemo2Project/src/layout/BoxLayoutDemo2.java'); return false;"><code>BoxLayoutDemo2.java</code></a> 。<br>您将看到一个类似于上面的窗口，其中包含三个矩形。每个矩形都是<code>BLDComponent</code> ，这是一个<code>JComponent</code>子类。</p>
</li>
<li>在一个矩形内单击。<br>这就是更改矩形的X对齐方式的方式。</li>
<li>单击窗口底部的复选框。<br>这将关闭所有矩形的受限大小。</li>
<li>使窗户更高。<br>这使矩形的容器大于矩形的首选大小的总和。容器是一个<code>JPanel</code>带有红色轮廓，以便您可以知道容器的边缘在哪里。</li>
</ol>
<hr></div>
<h2><a name="filler" id="filler">使用不可见的零部件作为填充物</a></h2>
<p>由盒式布局控制的每个组件都紧靠其相邻组件。如果要在组件之间留有空间，则可以为一个或两个组件添加一个空<a href="border.html">边框</a> ，或者插入不可见的组件以提供空间。您可以借助<code>Box</code>类。</p>
<p>的<a class="APILink" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/Box.html" target="_blank"><code>Box</code></a>类定义了一个嵌套类， <a class="APILink" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/Box.Filler.html" target="_blank"><code>Box.Filler</code></a> ，这是一个透明的组件，不绘制任何内容，并用于在其他组件之间提供空间。然而， <code>Filler</code>实际上不是隐形的，因为<code>setVisible(false)</code>不被调用。的<code>Box</code>类提供了方便的方法来帮助您创建常见的填充物。下表提供了有关使用以下命令创建不可见组件的详细信息： <code>Box</code>和<code>Box.Filler</code> 。</p>
<table border="1" summary="Details about creating invisible components with Box or Box.Filler">
<tbody><tr>
<th>类型</th>
<th>尺寸限制</th>
<th>如何建立</th>
</tr>
<tr>
<td><a href="#rigidarea">刚性区域</a></td>
<td>
<img src="../../figures/uiswing/layout/7fill.gif" width="42" height="42" alt="具有混合X对齐且没有最大尺寸的三个组件"><br></td>
<td><code>Box.createRigidArea(size)</code></td>
</tr>
<tr>
<td><a href="#glue">胶水</a></td>
<td>
<img src="../../figures/uiswing/layout/9fill.gif" width="60" height="13" alt="具有混合X对齐且没有最大尺寸的三个组件"><br></td>
<td><code>Box.createHorizontalGlue()</code></td>
</tr>
<tr>
<td>垂直<a href="#glue">胶</a></td>
<td>
<img src="../../figures/uiswing/layout/8fill.gif" width="13" height="60" alt="具有混合X对齐且没有最大尺寸的三个组件"><br></td>
<td><code>Box.createVerticalGlue()</code></td>
</tr>
<tr>
<td><a href="#box.filler">习俗<code>Box.Filler</code></a></td>
<td><em>（作为指定）</em></td>
<td><code>new Box.Filler(minSize, prefSize, maxSize)</code></td>
</tr>
</tbody></table>
<p>以下是您通常使用每种填充物的方式：</p>
<dl>
<dt><a name="rigidarea" id="rigidarea"><strong>刚性区域</strong></a></dt>
<dd>当您希望两个组件之间有固定大小的空间时，请使用此选项。例如，要在从左到右的两个组件之间放置5个像素，可以使用以下代码：<div class="codeblock"><pre>
container.add(firstComponent);
container.add(Box.createRigidArea(new Dimension(5,0)));
container.add(secondComponent);
</pre></div>
<p>
<img src="../../figures/uiswing/layout/3fill.gif" width="169" height="95" alt="没有刚性区域"><img src="../../figures/uiswing/layout/6fill.gif" width="168" height="95" alt="刚性区域"></p>
<hr>
<p><strong>注意：</strong> <code>Box</code> class提供了另一种用于在组件之间放置固定空间的填充物：垂直或水平支撑。不幸的是，撑杆具有无限的最大高度或宽度（分别用于水平和垂直撑杆）。这意味着，例如，如果在垂直框中使用水平框，则水平框有时可能会变得过高。因此，我们建议您使用刚性区域而不是支柱。</p>
<hr></dd>
<dt><a name="glue" id="glue"><strong>胶</strong></a></dt>
<dd>使用此选项可以指定布局中多余的空间。可以将其视为一种弹性胶水-可拉伸且可扩展，但除非将其所粘附的组件拆开，否则不会占用空间。例如，通过在左右框中的两个组件之间放置水平胶水，可以在这些组件之间留出多余的空间，而不是在所有组件的右边。这是一个使左右框中的空间位于两个组件之间而不是组件右侧的示例：<div class="codeblock"><pre>
container.add(firstComponent);
container.add(Box.createHorizontalGlue());
container.add(secondComponent);
</pre></div>
<p>
<img src="../../figures/uiswing/layout/2fill.gif" width="171" height="99" alt="无水平胶"><img src="../../figures/uiswing/layout/5fill.gif" width="171" height="99" alt="用胶水"></p>
</dd>
<dt><a name="box.filler" id="box.filler"><strong>自订<code>Box.Filler</code></strong></a></dt>
<dd>使用此选项可以指定具有所需最小，首选和最大尺寸的组件。例如，要以从左到右的布局创建一些填充物，以在两个组件之间放置至少5个像素，并确保容器的最小高度为100像素，则可以使用以下代码：<div class="codeblock"><pre>
container.add(firstComponent);
Dimension minSize = new Dimension(5, 100);
Dimension prefSize = new Dimension(5, 100);
Dimension maxSize = new Dimension(Short.MAX_VALUE, 100);
container.add(new Box.Filler(minSize, prefSize, maxSize));
container.add(secondComponent);

</pre></div>
<p>
<img src="../../figures/uiswing/layout/1fill.gif" width="171" height="99" alt="无定制填料"> 
<img src="../../figures/uiswing/layout/4fill.gif" width="166" height="121" alt="带定制填充物"></p>
</dd>
</dl>
<h2><a name="alignment" id="alignment">解决对齐问题</a></h2>
<p>有时会出现两种类型的对齐问题<code>BoxLayout</code> ：</p>
<ul>
<li>一组组件都具有相同的对齐方式，但是您想更改它们的对齐方式以使它们看起来更好。例如，您可能希望按钮的底部对齐，而不是将一组左右按钮的中心全部排成一行。这是一个例子：<p>
<img src="../../figures/uiswing/layout/AlignmentDemo-0.png" width="458" height="214" alt="自定义对齐"></p>
</li>
<li>一个或多个组件控制两个或多个<code>BoxLayout</code>具有不同的默认对齐方式，这将导致它们未对齐。例如，如下所示，如果标签和面板处于自上而下的盒子布局中，则默认情况下，标签的左边缘与面板的中心对齐。
<p>
<img src="../../figures/uiswing/layout/AlignmentDemo-1.png" width="458" height="214" alt="X对齐不匹配"></p>
</li>
</ul>
<p>通常，所有组件都由上到下控制<code>BoxLayout</code>对象应具有相同的X对齐方式。同样，所有组件都由左至右控制<code>Boxlayout</code>通常应具有相同的Y对齐方式。您可以设置一个<code>JComponent</code>通过调用X的X对齐<code>setAlignmentX</code>方法。所有组件可用的替代方法是覆盖<code>getAlignmentX</code>组件类的自定义子类中的方法。同样，您可以通过调用<code>setAlignmentY</code>方法或通过覆盖<code>getAlignmentY</code> 。</p>
<p>这是一个示例，摘自一个名为<a href="../examples/layout/index.html#BoxAlignmentDemo"><code>BoxAlignmentDemo</code></a> ，更改两个按钮的Y对齐方式，以使按钮的底部对齐：</p>
<div class="codeblock"><pre>
button1.setAlignmentY(Component.BOTTOM_ALIGNMENT);
button2.setAlignmentY(Component.BOTTOM_ALIGNMENT);
</pre></div>
<p>单击启动按钮以使用<a class="OutsideLink" href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html" target="_blank">Java™Web Start</a> （ <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">下载JDK 7或更高版本</a> ）运行BoxAlignmentDemo。另外，要自己编译并运行示例，请参考<a href="../examples/layout/index.html#BoxAlignmentDemo">示例索引</a> 。</p>
<a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/BoxAlignmentDemoProject/BoxAlignmentDemo.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="启动BoxAlignmentDemo示例"></a><br>
<p>默认情况下，大多数组件的中心X和Y对齐。但是，按钮，组合框，标签和菜单项具有不同的默认X对齐值： <code>LEFT_ALIGNMENT</code> 。上一张图片显示了如果将左对齐的组件（例如标签）和居中对齐的组件放在由上到下控制的容器中，会发生什么情况<code>BoxLayout</code> 。</p>
<p>的<a href="../examples/layout/index.html#BoxAlignmentDemo"><code>BoxAlignmentDemo</code></a>程序给出了解决不匹配对齐问题的示例。通常，这就像将有问题的按钮或标签居中对齐一样简单。例如：</p>
<div class="codeblock"><pre>
label.setAlignmentX(Component.CENTER_ALIGNMENT);
</pre></div>
<h2><a name="size" id="size">指定组件尺寸</a></h2>
<p>正如先前所说， <code>BoxLayout</code>注意组件要求的最小，首选和最大尺寸。在微调布局时，可能需要调整这些大小。</p>
<p>有时需要调整大小很明显。例如，按钮的最大大小通常与其首选大小相同。如果希望在有更多可用空间时将按钮绘制得更宽，则需要更改其最大大小。</p>
<p>但是，有时调整大小的需求并不那么明显。使用盒子布局可能会得到意想不到的结果，并且您可能不知道为什么。在这种情况下，通常最好首先将问题视为<a href="#alignment">对齐问题</a> 。如果调整路线没有帮助，则可能是尺寸问题。我们将在稍后进一步讨论。</p>
<div class="note"><hr><strong>注意：</strong>尽管<code>BoxLayout</code>注意组件的最大大小，许多布局管理器却没有。例如，如果您将按钮放在<code>BorderLayout</code> ，无论按钮的最大尺寸是多少，该按钮都可能会比其首选宽度宽。 <code>BoxLayout</code>另一方面，按钮的宽度绝不能超过其最大尺寸。
<hr></div>
<p>您可以通过两种方式更改最小，首选和最大大小：</p>
<ul>
<li>通过调用适当的<code>set<em>Xxx</em>Size</code>方法（由定义<code>JComponent</code>类）。例如：<div class="codeblock"><pre>
comp.setMinimumSize(new Dimension(50, 25));
comp.setPreferredSize(new Dimension(50, 25));
comp.setMaximumSize(new Dimension(Short.MAX_VALUE,
                                  Short.MAX_VALUE));
</pre></div>
</li>
<li>通过覆盖适当的<code>get<em>Xxx</em>Size</code>方法。例如：<div class="codeblock"><pre>
<em>...//in a subclass of a component class:</em>
public Dimension getMaximumSize() {
    size = getPreferredSize();
    size.width = Short.MAX_VALUE;
    return size;
}
</pre></div>
</li>
</ul>
<p>如果您遇到了盒式布局的麻烦，并且已经排除了对齐问题，那么麻烦可能与尺寸有关。例如，如果由盒子布局控制的容器占用了太多空间，则容器中的一个或多个组件可能需要限制其最大大小。</p>
<p>您可以使用两种技术来跟踪盒式布局中的尺寸问题：</p>
<ul>
<li>在所涉及的Swing组件的外部添加一个粗暴的线条<a href="border.html">边框</a> 。这使您可以看到它们的实际大小。例如：<div class="codeblock"><pre>
comp.setBorder(BorderFactory.createCompoundBorder(
                   BorderFactory.createLineBorder(Color.red),
                   comp.getBorder()));
</pre></div>
</li>
<li>使用<code>System.out.println</code>打印组件的最小，首选和最大尺寸，以及它们的边界。</li>
</ul>
<h2><a name="api" id="api">盒子布局API</a></h2>
<p>下表列出了常用的<code>BoxLayout</code>和<code>Box</code>构造函数和方法。使用框式布局的API分为以下几类：</p>
<ul>
<li><a href="#construct">创造<code>BoxLayout</code>对象</a></li>
<li><a href="#fillerapi">创建空间填充物</a></li>
<li><a href="#other">其他有用的方法</a></li>
</ul>
<table border="1" summary="Creating BoxLayout Objects">
<caption><a name="construct" id="construct">创造<code>BoxLayout</code>对象</a></caption>
<tbody><tr>
<th>构造函数或方法</th>
<th>目的</th>
</tr>
<tr>
<td><code>BoxLayout(Container, int)</code></td>
<td>创建一个<code>BoxLayout</code>控制指定对象的实例<code>Container</code> 。整数参数指定容器组件的布置方向。当容器具有默认的组件方向时， <code>BoxLayout.LINE_AXIS</code>指定组件从左到右的布局，以及<code>BoxLayout.PAGE_AXIS</code>指定组件从上到下的布局。</td>
</tr>
<tr>
<td><code>Box(int)</code></td>
<td>创建一个<code>Box</code> —使用<code>BoxLayout</code>使用指定的轴。</td>
</tr>
<tr>
<td><code>static Box createHorizontalBox()</code><br>
<em>（在<code>Box</code> ）</em></td>
<td>创建一个<code>Box</code>从左到右排列其组件。</td>
</tr>
<tr>
<td><code>static Box createVerticalBox()</code><br>
<em>（在<code>Box</code> ）</em></td>
<td>创建一个<code>Box</code>从上到下布置其组件。</td>
</tr>
</tbody></table>
<table border="1" summary="Creating Space Fillers">
<caption><a name="fillerapi" id="fillerapi">创建空间填充物</a><br>
<em>这些方法在<code>Box</code>类。</em></caption>
<tbody><tr>
<th>构造函数或方法</th>
<th>目的</th>
</tr>
<tr>
<td><code>Component createRigidArea(Dimension)</code></td>
<td>创建一个<a href="#rigidarea">刚性</a>组件。</td>
</tr>
<tr>
<td><code>Component createHorizontalGlue()<br> Component createVerticalGlue()<br> Component createGlue()</code></td>
<td>创建<a href="#glue">胶水</a>组件。水平胶和垂直胶可能非常有用。</td>
</tr>
<tr>
<td><code>Component createHorizontalStrut()<br> Component createVerticalStrut()</code></td>
<td>创建一个“ strut”组件。我们建议使用刚性区域而不是支柱。</td>
</tr>
<tr>
<td><code>Box.Filler(Dimension, Dimension, Dimension)</code></td>
<td>创建具有指定的最小，首选和最大大小（使用该顺序指定的参数）的组件。见<a href="#box.filler">习俗<code>Box.Filler</code></a>有关详细信息，请参阅本节前面的讨论。</td>
</tr>
</tbody></table>
<table border="1" summary="Other Useful Methods">
<caption><a name="other" id="other">其他有用的方法</a></caption>
<tbody><tr>
<th>方法</th>
<th>目的</th>
</tr>
<tr>
<td><code>void changeShape(Dimension, Dimension, Dimension)</code> <em>（在<code>Box.Filler</code> ）</em></td>
<td>更改收件人的最小，首选和最大大小<code>Box.Filler</code>宾语。布局会相应更改。</td>
</tr>
</tbody></table>
<h2><a name="eg" id="eg">使用框式布局的示例</a></h2>
<p>下表列出了许多使用框式布局的示例。</p>
<table summary="Examples that use box layouts">
<tbody><tr>
<th align="left">例</th>
<th align="left">描述的地方</th>
<th align="left">笔记</th>
</tr>
<tr>
<td valign="top"><a href="../examples/layout/index.html#BoxLayoutDemo2">BoxLayoutDemo2</a></td>
<td valign="top">这一页</td>
<td valign="top">使用盒式布局创建组件的居中列。</td>
</tr>
<tr>
<td valign="top"><a href="../examples/layout/index.html#BoxAlignmentDemo">BoxAlignmentDemo</a></td>
<td valign="top">这一页</td>
<td valign="top">演示如何解决常见的对齐问题。</td>
</tr>
<tr>
<td valign="top"><a href="../examples/layout/index.html#BoxLayoutDemo">BoxLayout演示</a></td>
<td valign="top">这一页</td>
<td valign="top">使您可以使用对齐方式和最大尺寸播放。</td>
</tr>
<tr>
<td valign="top">
<a class="TutorialLink" href="../components/../examples/components/index.html#ListDialog" target="_top">列表对话框</a></td>
<td valign="top">这一页</td>
<td valign="top">一个简单但现实的示例，它同时使用了从上到下的框布局和从左到右的布局。使用水平胶水，刚性区域和空边框。还设置零部件的X对齐方式。</td>
</tr>
<tr>
<td valign="top">
<a class="TutorialLink" href="../events/../examples/events/index.html#InternalFrameEventDemo" target="_top">InternalFrameEventDemo</a></td>
<td valign="top">
<a class="TutorialLink" href="../events/internalframelistener.html" target="_top">如何编写内部框架侦听器</a></td>
<td valign="top">使用从上到下的布局将按钮和内部窗格中的滚动窗格居中。</td>
</tr>
<tr>
<td valign="top">
<a class="TutorialLink" href="../components/../examples/components/index.html#MenuGlueDemo" target="_top">MenuGlueDemo</a></td>
<td valign="top">
<a class="TutorialLink" href="../components/menu.html#custom" target="_top">自定义菜单布局</a></td>
<td valign="top">显示如何使用胶水组件在菜单栏中右对齐菜单。</td>
</tr>
<tr>
<td valign="top">
<a class="TutorialLink" href="../components/../examples/components/index.html#MenuLayoutDemo" target="_top">MenuLayoutDemo</a></td>
<td valign="top">
<a class="TutorialLink" href="../components/menu.html#custom" target="_top">自定义菜单布局</a></td>
<td valign="top">显示如何通过更改菜单栏以使用从上到下的框布局，以及更改弹出菜单以使用从左到右的框布局来自定义菜单布局。</td>
</tr>
<tr>
<td valign="top"><code>ConversionPanel.java</code>在<a class="TutorialLink" href="../components/../examples/components/index.html#Converter" target="_top">Converter</a>演示中</td>
<td valign="top">
<a class="TutorialLink" href="../components/panel.html" target="_top">如何使用面板</a></td>
<td valign="top">通过将组件的宽度设置为相同，并将它们的容器的宽度设置为相同，将两个组件在不同的盒式布局控制的容器中对齐。</td>
</tr>
</tbody></table>


        </div>
        <div class="NavBit">
            <a href="border.html" target="_top">«上一个</a> • <a href="../TOC.html" target="_top">追踪</a> • <a href="card.html" target="_top">下一个»</a>
        </div>
    </div>
    
<hr class="clearfloat">

<div id="Footer">

<p class="footertext">
<a href="http://www.oracle.com/corporate/index.html">关于Oracle</a> | <a href="http://www.oracle.com/us/corporate/contact/index.html">联系我们</a> | <a href="http://www.oracle.com/us/legal/index.html">法律声明</a> | <a href="http://www.oracle.com/us/legal/terms/index.html">使用条款</a> | <a href="http://www.oracle.com/us/legal/privacy/index.html">您的隐私权</a></p>

<p class="footertext"><a href="http://www.oracle.com/pls/topic/lookup?ctx=cpyr&id=en-US">版权所有©1995、2017 Oracle和/或其分支机构。版权所有。</a></p>
       
</div>    
    <div class="PrintHeaders">
        <b>上一页：</b>如何使用BorderLayout<br><b>下一页：</b>如何使用CardLayout</div>
<!-- Start SiteCatalyst code -->
<script type="application/javascript" src="https://www.oracleimg.com/us/assets/metrics/ora_docs.js"></script>
<!-- End SiteCatalyst code --> 

 
</body></html>