<html lang="en-us"  xml:lang="en-us"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="A JShell script is a sequence of snippets and JShell commands in a file, one snippet or command per line.">
      <meta name="description" content="A JShell script is a sequence of snippets and JShell commands in a file, one snippet or command per line.">
      <title>剧本</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Java Shell User’s Guide">
      <meta property="og:description" content="A JShell script is a sequence of snippets and JShell commands in a file, one snippet or command per line.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Java Shell User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="java-shell-user-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T08:11:45-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E94826-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="feedback-modes.html" title="Previous" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Shell User Guide">
    <meta name="dcterms.isVersionOf" content="JSHELL">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body >
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="feedback-modes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一个</a> <a href="#" class="pull-right">下一个<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java Shell用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">剧本</li>
            </ol>
            <a id="GUID-C3A41878-9A9A-4D31-BBDF-909729848A3E" name="GUID-C3A41878-9A9A-4D31-BBDF-909729848A3E"></a>
            
            <h2 id="JSHEL-GUID-C3A41878-9A9A-4D31-BBDF-909729848A3E" class="sect2"><span class="enumeration_chapter">7个</span>剧本</h2>
         </header>
         <div class="ind">
            <div>
               <p>JShell脚本是文件中的一系列代码片段和JShell命令，每行一个代码片段或命令。</p>
               <p>脚本可以是本地文件，也可以是以下预定义的脚本之一：</p>
               <div class="tblformal" id="GUID-C3A41878-9A9A-4D31-BBDF-909729848A3E__GUID-650B70AA-7A1C-404B-86E4-0386057BB8C7">
                  <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Describes the predefined scripts that are available with JShell." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="25%" id="d4617e17">脚本名称</th>
                           <th align="left" valign="bottom" width="75%" id="d4617e19">脚本内容</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="25%" id="d4617e23" headers="d4617e17 ">
                              <p>默认</p>
                           </td>
                           <td align="left" valign="top" width="75%" headers="d4617e23 d4617e19 ">
                              <p>包括常用的进口申报单。如果未提供其他启动脚本，则使用此脚本。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="25%" id="d4617e30" headers="d4617e17 ">
                              <p>列印</p>
                           </td>
                           <td align="left" valign="top" width="75%" headers="d4617e30 d4617e19 ">
                              <p>定义JShell方法，这些方法重定向到<span class="apiname">PrintStream中</span>的<span class="apiname">print</span> ， <span class="apiname">println</span>和<span class="apiname">printf</span>方法。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="25%" id="d4617e49" headers="d4617e17 ">
                              <p>JAVASE</p>
                           </td>
                           <td align="left" valign="top" width="75%" headers="d4617e49 d4617e19 ">
                              <p>导入由定义的核心Java SE API <code class="codeph">java.se</code>模块，由于软件包数量而导致启动JShell的明显延迟。
                              </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C3A41878-9A9A-4D31-BBDF-909729848A3E__GUID-39C4D823-BC1C-4D29-9DFE-23522329A802">话题</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="scripts.html#GUID-AC2A6582-6A9A-48B1-ABBF-4C9536CDFD07" title="启动脚本包含片段和启动JShell会话时加载的命令。默认的启动脚本包含常见的导入语句。您可以根据需要创建自定义脚本。">启动脚本</a></p>
                     </li>
                     <li>
                        <p><a href="scripts.html#GUID-5E0802C6-C8F8-4153-9225-ABC692529569" title="使用脚本通过导入语句和您希望在会话期间可用的代码来设置JShell会话。">创建和加载脚本</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div class="sect2"><a id="GUID-AC2A6582-6A9A-48B1-ABBF-4C9536CDFD07" name="GUID-AC2A6582-6A9A-48B1-ABBF-4C9536CDFD07"></a><h3 id="JSHEL-GUID-AC2A6582-6A9A-48B1-ABBF-4C9536CDFD07" class="sect3">启动脚本</h3>
               <div>
                  <p>启动脚本包含片段和启动JShell会话时加载的命令。默认的启动脚本包含常见的导入语句。您可以根据需要创建自定义脚本。</p>
                  <p>每次加载启动脚本时， <code class="codeph">jshell</code>工具被重置。重置会在初始启动过程中以及<code class="codeph">/reset</code> ， <code class="codeph">/reload</code>和<code class="codeph">/env</code>命令。如果您未设置脚本，则默认启动脚本， <code class="codeph">DEFAULT</code> ， 用来。此默认脚本定义了常用的导入声明。
                  </p>
                  <div class="infoboxnote" id="GUID-AC2A6582-6A9A-48B1-ABBF-4C9536CDFD07__GUID-6D377BE9-F006-4F19-8182-833B8E6EB202">
                     <p class="notep1">注意：</p>Java语言定义了<span class="apiname">java.lang</span>包是自动导入的，因此不需要显式导入此包。
                  </div>
                  <p>要设置启动脚本，请使用<code class="codeph">/set start</code>命令：</p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/set start mystartup.jsh</span>

jshell&gt; <span class="bold">/reset</span>
|  Resetting state.</code></pre><p>和所有一样<code class="codeph">/set</code>命令，设置的持续时间是当前会话，除非<code class="codeph">-retain</code>使用选项。通常， <code class="codeph">-retain</code>测试启动脚本设置时不使用该选项。找到所需的设置后，请使用<code class="codeph">-retain</code>保存它的选项：</p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/set start -retain</span></code></pre><p>然后，下次您启动<code class="codeph">jshell</code>工具。
                  </p>
                  <p>请记住，仅在重置状态时，启动脚本才会加载到当前会话中。脚本的内容被存储，而不是对脚本的引用。该脚本仅在<code class="codeph">/set start</code>命令运行。但是，预定义的脚本是通过引用加载的，并且可以使用JDK的新版本进行更新。</p>
                  <p>启动脚本也可以使用<code class="codeph">--startup</code>命令行标志：</p><pre class="pre codeblock"><code>% <span class="bold">jshell --startup mystartup.jsh</span></code></pre><p>为了进行实验，使用不需要<code class="codeph">System.out.</code>字首。使用预定义<code class="codeph">PRINTING</code>脚本来访问<span class="apiname">print</span> ， <span class="apiname">println</span>和<span class="apiname">printf</span>方法。您可以使用以下命令指定多个启动脚本<code class="codeph">/set start</code> 。以下示例将启动程序设置为加载默认导入和打印定义：</p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/set start -retain DEFAULT PRINTING</span>

jshell&gt; <span class="bold">/exit</span>
|  Goodbye

% <span class="bold">jshell</span>
|  Welcome to JShell -- Version 9
|  For an introduction type: /help intro

jshell&gt; <span class="bold">println("Hello World!")</span>
Hello World!</code></pre><p>的<code class="codeph">-retain</code>标志用于将这些预定义脚本设置为启动脚本，以供将来的会话使用<code class="codeph">jshell</code>工具。使用<code class="codeph">/set start</code>不带参数即可查看这些启动脚本定义的详细信息。
                  </p>
                  <p>要在命令行上设置多个启动脚本，请使用<code class="codeph">--startup</code>每个脚本的标志：</p><pre class="pre codeblock"><code>% <span class="bold">jshell --startup DEFAULT --startup PRINTING</span></code></pre></div>
            </div>
            <div class="sect2"><a id="GUID-5E0802C6-C8F8-4153-9225-ABC692529569" name="GUID-5E0802C6-C8F8-4153-9225-ABC692529569"></a><h3 id="JSHEL-GUID-5E0802C6-C8F8-4153-9225-ABC692529569" class="sect3">创建和加载脚本</h3>
               <div>
                  <p>使用脚本通过导入语句和您希望在会话期间可用的代码来设置JShell会话。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-5E0802C6-C8F8-4153-9225-ABC692529569__GUID-924A9974-FB33-4B98-AF97-6F98E7B0AD4A">创建脚本</p>
                     <p>脚本可以在编辑器中外部创建，也可以从JShell中输入的项目生成。使用以下命令之一从JShell会话中的条目创建脚本：</p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/save mysnippets.jsh</span>

jshell&gt; <span class="bold">/save -history myhistory.jsh</span>

jshell&gt; <span class="bold">/save -start mystartup.jsh</span></code></pre><p>示例中显示的第一个命令将当前活动的片段保存到<code>mysnippets.jsh</code> 。显示的第二条命令将所有有效和无效的代码段和命令的历史记录保存到<code>myhistory.jsh</code> 。显示的最后一个命令将当前启动脚本设置的内容保存到<code>mystartup.jsh</code> 。提供的文件名可以是任何有效的文件路径和名称。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E0802C6-C8F8-4153-9225-ABC692529569__GUID-12978E07-1940-4003-8206-57221D4F40A6">加载脚本</p>
                     <p>启动JShell会话时，可以从命令行加载脚本：</p><pre class="pre codeblock"><code>% <span class="bold">jshell mysnippets.jsh</span></code></pre><p>也可以使用以下命令在JShell会话中加载脚本： <code class="codeph">/open</code>命令：</p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/open PRINTING</span></code></pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   

</body></html>