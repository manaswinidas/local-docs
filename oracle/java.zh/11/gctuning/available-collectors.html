<html lang="en-us"  xml:lang="en-us"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The discussion to this point has been about the serial collector. The Java HotSpot VM includes three different types of collectors, each with different performance characteristics.">
      <meta name="description" content="The discussion to this point has been about the serial collector. The Java HotSpot VM includes three different types of collectors, each with different performance characteristics.">
      <title>可用的收藏家</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="HotSpot Virtual Machine Garbage Collection Tuning Guide">
      <meta property="og:description" content="The discussion to this point has been about the serial collector. The Java HotSpot VM includes three different types of collectors, each with different performance characteristics.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="HotSpot Virtual Machine Garbage Collection Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="hotspot-virtual-machine-garbage-collection-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-21T11:00:40-07:00">
      <meta name="dcterms.title" content="HotSpot Virtual Machine Garbage Collection Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2015, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E95201-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="factors-affecting-garbage-collection-performance.html" title="Previous" type="text/html">
      <link rel="next" href="parallel-collector1.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="GCTUNING">
  
                    <script>var w=window;if(w.performance||w.mozPerformance||w.msPerformance||w.webkitPerformance){var d=document;AKSB=w.AKSB||{},AKSB.q=AKSB.q||[],AKSB.mark=AKSB.mark||function(e,_){AKSB.q.push(["mark",e,_||(new Date).getTime()])},AKSB.measure=AKSB.measure||function(e,_,t){AKSB.q.push(["measure",e,_,t||(new Date).getTime()])},AKSB.done=AKSB.done||function(e){AKSB.q.push(["done",e])},AKSB.mark("firstbyte",(new Date).getTime()),AKSB.prof={custid:"322179",ustr:"",originlat:"0",clientrtt:"1",ghostip:"23.212.3.15",ipv6:false,pct:"10",clientip:"45.78.37.67",requestid:"29ee46a4",region:"32996",protocol:"",blver:14,akM:"dsca",akN:"ae",akTT:"O",akTX:"1",akTI:"29ee46a4",ai:"206465",ra:"false",pmgn:"",pmgi:"",pmp:"",qc:""},function(e){var _=d.createElement("script");_.async="async",_.src=e;var t=d.getElementsByTagName("script"),t=t[t.length-1];t.parentNode.insertBefore(_,t)}(("https:"===d.location.protocol?"https:":"http:")+"//ds-aksb-a.akamaihd.net/aksb.min.js")}</script>
                    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body >
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="factors-affecting-garbage-collection-performance.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一个</a> <a href="parallel-collector1.html" class="pull-right">下一个<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">HotSpot虚拟机垃圾收集优化指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">可用的收藏家</li>
            </ol>
            <a id="GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C" name="GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C"></a>
            
            <h2 id="JSGCT-GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C" class="sect2"><span class="enumeration_chapter">5个</span>可用收藏家</h2>
         </header>
         <div class="ind">
            <div>
               <p>到目前为止，讨论的是串行收集器。Java HotSpot VM包括三种不同类型的收集器，每种收集器具有不同的性能特征。</p>
               <div class="section">
                  <p class="subhead1" id="GUID-F215A508-9E58-40B4-90A5-74E29BF3BD3C__GUID-8CE7EF8E-9AB3-4E85-9FA8-8A1E3506EE8C">话题</p>
                  <ul style="list-style-type:disc">
                     <li><a href="available-collectors.html#GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498" title="串行收集器使用单个线程来执行所有垃圾收集工作，这使之相对高效，因为线程之间没有通信开销。">串行收集器</a></li>
                     <li><a href="available-collectors.html#GUID-13943556-F521-4287-AAAA-AE5DE68777CD" title="并行收集器也称为吞吐量收集器，它是类似于串行收集器的分代收集器。串行收集器和并行收集器之间的主要区别是并行收集器具有多个线程，这些线程用于加速垃圾收集。">并联收集器</a></li>
                     <li><a href="available-collectors.html#GUID-C7B19628-27BA-4945-9004-EC0F08C76003">大多数同时收集者</a></li>
                     <li><a href="available-collectors.html#GUID-414C9D95-297E-4EE3-B0D9-36F158A83393" title="除非您的应用程序有非常严格的暂停时间要求，否则请先运行您的应用程序并允许VM选择收集器。">选择收集器</a></li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div class="props_rev_3"><a id="GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498" name="GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498"></a><h3 id="JSGCT-GUID-45794DA6-AB96-4856-A96D-FDE5F7DEE498" class="sect3">串行收集器</h3>
               <div>
                  <p>串行收集器使用单个线程来执行所有垃圾收集工作，这使之相对高效，因为线程之间没有通信开销。</p>
                  <p>它最适合单处理器计算机，因为它不能利用多处理器硬件，尽管它在多处理器上对于数据集较小（最大约100 MB）的应用很有用。默认情况下，在某些硬件和操作系统配置上选择了串行收集器，或者可以使用选项显式启用串行收集器<code class="codeph">-XX:+UseSerialGC</code> 。
                  </p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-13943556-F521-4287-AAAA-AE5DE68777CD" name="GUID-13943556-F521-4287-AAAA-AE5DE68777CD"></a><h3 id="JSGCT-GUID-13943556-F521-4287-AAAA-AE5DE68777CD" class="sect3">并联收集器</h3>
               <div>
                  <p>并行收集器也称为<span class="italic">吞吐量收集器</span> ，它是类似于串行收集器的分代收集器。串行收集器和并行收集器之间的主要区别是并行收集器具有多个线程，这些线程用于加速垃圾收集。
                  </p>
                  <p>并行收集器适用于具有在多处理器或多线程硬件上运行的中型到大型数据集的应用程序。您可以使用<code class="codeph">-XX:+UseParallelGC</code>选项。
                  </p>
                  <p>并行压缩是使并行收集器能够并行执行主要收集的功能。如果没有并行压缩，则使用单个线程执行主要集合，这会大大限制可伸缩性。如果选择以下选项，则默认情况下启用并行压缩<code class="codeph">-XX:+UseParallelGC</code>已指定。您可以使用<code class="codeph">-XX:-UseParallelOldGC</code>选项。
                  </p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-C7B19628-27BA-4945-9004-EC0F08C76003" name="GUID-C7B19628-27BA-4945-9004-EC0F08C76003"></a><h3 id="JSGCT-GUID-C7B19628-27BA-4945-9004-EC0F08C76003" class="sect3">大多数同时收集者</h3>
               <div>
                  <p>并发标记扫描（CMS）收集器和Garbage-First（G1）垃圾收集器是两个大多数同时存在的收集器。通常，并发收集器会与应用程序同时执行一些昂贵的工作。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>G1垃圾收集器：此服务器样式的收集器用于具有大量内存的多处理器计算机。它极有可能满足垃圾收集暂停时间目标，同时实现高吞吐量。</p>
                        <p>默认情况下，在某些硬件和操作系统配置中选择了G1，或者可以使用以下命令显式启用G1 <code class="codeph">-XX:+UseG1GC</code> 。
                        </p>
                     </li>
                     <li>
                        <p>CMS收集器：此收集器用于那些希望更短的垃圾收集暂停并能够与垃圾收集共享处理器资源的应用程序。</p>
                        <p>使用选项<code class="codeph">-XX:+UseConcMarkSweepGC</code>启用CMS收集器</p>
                     </li>
                  </ul>
                  <p>从JDK 9开始不推荐使用CMS收集器。</p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-9E4A6B11-BB94-424F-90EF-401287A1C333" name="GUID-9E4A6B11-BB94-424F-90EF-401287A1C333"></a><h3 id="JSGCT-GUID-9E4A6B11-BB94-424F-90EF-401287A1C333" class="sect3">Z垃圾收集器</h3>
               <div>
                  <p>Z垃圾收集器（ZGC）是可伸缩的低延迟垃圾收集器。ZGC同时执行所有昂贵的工作，而不会停止执行应用程序线程。</p>
                  <p>ZGC适用于要求低延迟（少于10毫秒的暂停）和/或使用非常大的堆（数TB）的应用程序。您可以通过使用启用<code class="codeph">-XX:+UseZGC</code>选项。
                  </p>
                  <p>从JDK 11开始，ZGC作为实验功能可用。</p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-414C9D95-297E-4EE3-B0D9-36F158A83393" name="GUID-414C9D95-297E-4EE3-B0D9-36F158A83393"></a><h3 id="JSGCT-GUID-414C9D95-297E-4EE3-B0D9-36F158A83393" class="sect3">选择收集器</h3>
               <div>
                  <p>除非您的应用程序有非常严格的暂停时间要求，否则请先运行您的应用程序并允许VM选择收集器。</p>
                  <p>如有必要，请调整堆大小以提高性能。如果性能仍然不能达到您的目标，请使用以下准则作为选择收集器的起点：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果应用程序的数据集较小（最大约100 MB），则选择带有选项的串行收集器<code class="codeph">-XX:+UseSerialGC</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果应用程序将在单个处理器上运行，并且没有暂停时间要求，则选择带有选项的串行收集器<code class="codeph">-XX:+UseSerialGC</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果（a）峰值应用程序性能是第一要务，并且（b）没有暂停时间要求或一秒或更长时间的暂停是可接受的，则让VM选择收集器或选择并行收集器。 <code class="codeph">-XX:+UseParallelGC</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果响应时间比整体吞吐量更重要，并且垃圾收集暂停时间必须短于大约一秒钟，则选择一个并发的收集器<code class="codeph">-XX:+UseG1GC</code>要么<code class="codeph">-XX:+UseConcMarkSweepGC</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果响应时间是高优先级，和/或您使用的堆很大，则选择具有以下条件的完全并发收集器： <code class="codeph">-XX:UseZGC</code> 。
                        </p>
                     </li>
                  </ul>
                  <p>这些准则只是选择收集器的起点，因为性能取决于堆的大小，应用程序维护的实时数据量以及可用处理器的数量和速度。</p>
                  <p>如果推荐的收集器没有达到所需的性能，则首先尝试调整堆和生成大小以达到所需的目标。如果性能仍然不足，请尝试使用其他收集器：使用并发收集器来减少暂停时间，并使用并行收集器来增加多处理器硬件上的总体吞吐量。</p>
               </div>
            </div>
         </div>
      </article>
   

</body></html>