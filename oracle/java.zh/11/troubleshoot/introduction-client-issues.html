<html lang="en-us"  xml:lang="en-us"><head></head><body >﻿
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter explains how the different Java SE Desktop technologies interact with each other. In addition, the chapter helps you to pinpoint the technology from which you might start troubleshooting your problem and provides general troubleshooting tips.">
      <meta name="description" content="This chapter explains how the different Java SE Desktop technologies interact with each other. In addition, the chapter helps you to pinpoint the technology from which you might start troubleshooting your problem and provides general troubleshooting tips.">
      <title>客户问题简介</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Troubleshooting Guide">
      <meta property="og:description" content="This chapter explains how the different Java SE Desktop technologies interact with each other. In addition, the chapter helps you to pinpoint the technology from which you might start troubleshooting your problem and provides general troubleshooting tips.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Troubleshooting Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="troubleshooting-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T10:41:43-07:00">
      <meta name="dcterms.title" content="Troubleshooting Guide">
      <meta name="dcterms.dateCopyrighted" content="1995, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E94880-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="debug-client-issues.html" title="Previous" type="text/html">
      <link rel="next" href="awt.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TROUBLESHOOT">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script>
   
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="debug-client-issues.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一个</a> <a href="awt.html" class="pull-right">下一个<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">故障排除指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="debug-client-issues.html" property="item" typeof="WebPage"><span property="name">调试客户端问题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">客户问题简介</li>
            </ol>
            <a id="GUID-16FFEDCA-9F90-42E5-9979-586CDEDFB34F" name="GUID-16FFEDCA-9F90-42E5-9979-586CDEDFB34F"></a><a id="JSTGD382"></a><a id="JSTGD381"></a>
            
            <h2 id="JSTGD-GUID-16FFEDCA-9F90-42E5-9979-586CDEDFB34F" class="sect2"><span class="enumeration_chapter">9</span>客户问题简介</h2>
         </header>
         <div class="ind">
            <div>
               <div><span>本章介绍了不同的Java SE Desktop技术如何相互影响。此外，本章还可以帮助您确定可以从中开始对问题进行故障排除的技术，并提供常规的故障排除提示。</span></div>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="introduction-client-issues.html#GUID-608E2810-60DA-4637-9A8A-DEFAC1DA64B4" title="Java SE Desktop由用于创建富客户端应用程序的多种技术组成。">Java SE桌面技术</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-client-issues.html#GUID-88EB93A6-4399-4387-A9DA-83A24B271693" title="解决应用程序中问题的一般步骤。">解决问题的一般步骤</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-client-issues.html#GUID-3E244296-1413-4DD8-B293-D50BC4FC9F4F" title="有关确定您遇到的问题以及找到原因和解决方案的指南。">确定问题的类型</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-client-issues.html#GUID-1671C947-CD68-45CC-9969-C984AF528AAB" title="可以帮助解决某些类型问题的基本工具列表。">基本工具</a></p>
                  </li>
                  <li>
                     <p><a href="introduction-client-issues.html#GUID-EC8ED33F-96F2-492F-9332-4048DB893024" title="Java调试线协议（JDWP）对于调试应用程序非常有用。">Java调试线协议</a></p>
                  </li>
               </ul>
            </div><a id="JSTGD384"></a><a id="JSTGD383"></a><div class="props_rev_3"><a id="GUID-608E2810-60DA-4637-9A8A-DEFAC1DA64B4" name="GUID-608E2810-60DA-4637-9A8A-DEFAC1DA64B4"></a><h3 id="JSTGD-GUID-608E2810-60DA-4637-9A8A-DEFAC1DA64B4" class="sect3">Java SE桌面技术</h3>
               <div>
                  <p>Java SE Desktop由用于创建富客户端应用程序的多种技术组成。</p>
                  <p>桌面工具和库提供了Java应用程序与平台的核心工具和库之间的接口， <a href="introduction-client-issues.html#GUID-608E2810-60DA-4637-9A8A-DEFAC1DA64B4__BCFCJGDH">如图9-1</a>所示。
                  </p>
                  <div class="figure" id="GUID-608E2810-60DA-4637-9A8A-DEFAC1DA64B4__BCFCJGDH">
                     <p class="titleinfigure">图9-1 Java SE桌面概述</p><img src="img/desktop-overview.gif" alt="如下图9-1所示" title="如下图9-1所示" longdesc="img_text/desktop-overview.html"><br><a href="img_text/desktop-overview.html">“图9-1 Java SE桌面概述”的描述</a></div>
                  <!-- class="figure" -->
                  <p>要了解有关Java SE中可用的桌面技术的更多信息，请访问<a href="http://www.oracle.com/technetwork/java/javase/tech/index-jsp-142216.html" target="_blank">Java SE Desktop Overview文档</a> 。
                  </p>
                  <p>本主题描述了以下Java SE dsktop技术的故障排除技术：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">抽象窗口工具包（AWT）</span>提供了一组应用程序编程接口（API），用于构造图形用户界面（GUI）组件，例如菜单，按钮，文本字段，对话框，复选框，以及用于处理通过这些组件的用户输入。此外，AWT允许渲染简单的形状，例如椭圆和多边形，并使开发人员能够控制其应用程序使用的界面布局和字体。它还包括允许通过本机平台剪贴板剪切和粘贴的数据传输类（包括拖放）。
                        </p>
                        <p>该API的类位于软件堆栈的底部（最接近基础操作系统和桌面系统）。</p>
                        <p>AWT还提供了一组重量级组件。</p>
                        <p>纯粹的AWT应用程序通常与Swing不相关。如果AWT应用程序执行自定义渲染，则它将使用Java 2D。</p>
                     </li>
                     <li>
                        <p><span class="bold">Java 2D</span>是用于高级2D图形和成像的一组类。它在单个综合模型中包含线条图，文本和图像。该API为图像合成和Alpha通道图像提供了广泛的支持，提供了准确的色彩空间定义和转换的一组类，以及一系列面向显示的图像运算符。这些类是对的补充。 <code class="codeph">java.awt</code>和<code class="codeph">java.awt.image</code>包。
                        </p>
                        <p>像AWT一样，Java 2D也在软件堆栈的底部（最接近基础操作系统和桌面系统）。</p>
                     </li>
                     <li>
                        <p><span class="bold">Swing</span>提供了一套全面的GUI组件和服务，可用于开发具有商业质量的台式机和Internet / Intranet应用程序。
                        </p>
                        <p>Swing建立在许多其他Java SE Desktop技术之上，包括AWT，Java2D和Internationalization。在大多数情况下，建议使用Swing高级组件，而不是AWT中的组件。但是，在AWT中有许多API在使用Swing进行编程时必须要理解。</p>
                        <p>由于Swing是轻型工具箱，因此它与本机平台的交互很少。Swing使用Java 2D进行渲染，而AWT提供了诸如Windows，Frames和Dialogs之类的顶级组件的创建和操作。</p>
                     </li>
                     <li>
                        <p><span class="bold">国际化</span>是设计软件的过程，因此可以轻松，经济高效地将其适应（本地化）各种语言和地区，尤其是无需对软件进行工程更改。只需通过添加特定于语言环境的组件（例如翻译的文本，描述特定于语言环境的行为的数据，字体和输入法）即可执行<strong class="term">本地化</strong> 。
                        </p>
                        <p>在Java SE中，国际化支持已完全集成到提供语言相关或文化相关功能的类和包中。</p>
                        <p>要了解有关Java SE的国际化API和功能的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/troubleshoot&id=JSINT-GUID-1CB4B574-44E2-49E3-ACB4-AE6EF83A7F86" target="_blank">国际化文档</a> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Java Sound</span>在可扩展的灵活框架中提供了对音频操作的底层支持，例如音频回放和捕获（记录），混音，乐器数字接口（MIDI）排序以及MIDI合成。该API由高效的声音引擎支持，可确保平台的高质量音频混合和MIDI合成功能。
                        </p>
                     </li>
                  </ul>
                  <p>您对这些技术之间的关系了解得越多，您就能越快地确定问题所在的领域。</p>
               </div>
            </div><a id="JSTGD385"></a><div class="props_rev_3"><a id="GUID-88EB93A6-4399-4387-A9DA-83A24B271693" name="GUID-88EB93A6-4399-4387-A9DA-83A24B271693"></a><h3 id="JSTGD-GUID-88EB93A6-4399-4387-A9DA-83A24B271693" class="sect3">解决问题的一般步骤</h3>
               <div>
                  <p>解决应用程序中问题的一般步骤。</p>
                  <div class="section">
                     <p>当您在运行应用程序时遇到问题时，请按照以下步骤对问题进行故障排除。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span><span class="bold">识别症状：</span></span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="introduction-client-issues.html#GUID-3E244296-1413-4DD8-B293-D50BC4FC9F4F" title="有关确定您遇到的问题以及找到原因和解决方案的指南。">确定问题的类型</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>查找问题区域。</p>
                              </li>
                              <li>
                                 <p>注意vant配置信息。</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span><span class="bold">消除非问题：</span></span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>确保安装了正确的补丁程序，驱动程序和操作系统。</p>
                              </li>
                              <li>
                                 <p>尝试更早的版本（回溯）。</p>
                              </li>
                              <li>
                                 <p>最小化测试。一次将测试限制在尽可能少的问题上。</p>
                              </li>
                              <li>
                                 <p>最小化硬件和软件配置。确定问题是否在单个系统上和多个系统上都可重现。确定问题是否随浏览器版本而改变。</p>
                              </li>
                              <li>
                                 <p>确定问题是否取决于是否安装了多个VM。</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span><span class="bold">查找原因：</span></span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>检查该区域的典型原因。</p>
                              </li>
                              <li>
                                 <p>使用标志更改默认值。</p>
                              </li>
                              <li>
                                 <p>使用跟踪。</p>
                              </li>
                              <li>
                                 <p>在特殊情况下，请使用系统属性临时更改绘画系统的行为。</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span><span class="bold">找到解决方法：</span></span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>寻找可能的解决方法。</p>
                              </li>
                              <li>
                                 <p>提交错误。</p>
                                 <p>有关如何提交错误报告的指导以及关于要为报告收集哪些数据的建议，请参阅“ <a href="submit-bug-report.html#GUID-DB465A9C-03FA-4324-BFF9-45BF9699F349" title="有关如何提交错误报告的指南。它包括有关提交报告之前应尝试的操作以及为该报告收集哪些数据的建议。">提交错误报告”</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>修复设置。</p>
                              </li>
                              <li>
                                 <p>修复应用程序。</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="JSTGD386"></a><div class="props_rev_3"><a id="GUID-3E244296-1413-4DD8-B293-D50BC4FC9F4F" name="GUID-3E244296-1413-4DD8-B293-D50BC4FC9F4F"></a><h3 id="JSTGD-GUID-3E244296-1413-4DD8-B293-D50BC4FC9F4F" class="sect3">确定问题的类型</h3>
               <div>
                  <p>有关确定您遇到的问题以及找到原因和解决方案的指南。</p>
                  <p>首先，花点时间对您遇到的问题进行分类。这将帮助您确定问题的特定区域，找到原因，并最终确定解决方案或解决方法。</p>
                  <p>下面的小节提供有关常见问题类型的信息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="introduction-client-issues.html#GUID-6747245C-2D35-475B-ACAB-5884485F53F3" title="当Java客户端崩溃时，将创建一个错误日志，其中包含信息和致命错误时获得的状态。">Java客户端崩溃</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-client-issues.html#GUID-184417A6-8098-45E1-80A6-34FE55074510" title="由于通常您掌握的信息不多，因此很难诊断性能问题。">性能问题</a></p>
                     </li>
                     <li>
                        <p><a href="introduction-client-issues.html#GUID-E1BC3AE5-5DCC-4B9E-964B-902E1FD95404" title="有关处理应用程序中各种问题的指南。">行为问题</a></p>
                     </li>
                  </ul>
                  <p>其中一些似乎很明显，但是考虑所有可能性并消除不是问题的问题总是有帮助的。</p>
               </div><a id="JSTGD387"></a><div class="props_rev_3"><a id="GUID-6747245C-2D35-475B-ACAB-5884485F53F3" name="GUID-6747245C-2D35-475B-ACAB-5884485F53F3"></a><h4 id="JSTGD-GUID-6747245C-2D35-475B-ACAB-5884485F53F3" class="sect4">Java客户端崩溃</h4>
                  <div>
                     <p>当Java客户端崩溃时，将创建一个错误日志，其中包含信息和致命错误时获得的状态。</p>
                     <p>错误日志文件的默认名称是hs_err_ <span class="variable" translate="no">pid</span> .log，其中<span class="variable" translate="no">pid</span>是崩溃的进程的进程标识符（PID）。对于独立的Java应用程序，此文件在当前目录中创建。
                     </p>
                     <p>要了解有关致命错误日志的更多信息，请参阅<a href="fatal-error-log.html#GUID-2AE5EE08-A68F-4514-9618-A581C0EDFB1B" title="描述致命错误日志，其位置和内容。">致命错误日志</a> 。
                     </p>
                     <p>标头部分顶部附近的线表示发生错误的库。以下示例显示崩溃与AWT库有关。</p><pre class="pre codeblock"><code>...
# Java VM: Java HotSpot(TM) Client VM (1.6.0-beta2-b76 mixed mode, sharing)
# Problematic frame:
# C  [awt.dll+0x123456]
...
</code></pre><p>如果崩溃发生在Java Native Interface（JNI）中，则很可能是由桌面库引起的。本机库中的崩溃通常意味着Java 2D或AWT中存在问题，因为Swing没有太多本机代码。然后，Swing中的少量本机代码与本机外观有关，如果您的应用程序使用本机外观，则崩溃可能与此区域有关。</p>
                     <p>错误日志通常会显示崩溃发生的确切库，这可以使您更好地了解原因。不属于Java开发工具包（JDK）的库中的崩溃通常表明环境存在问题，例如，错误的视频驱动程序或桌面管理器。</p>
                  </div>
               </div><a id="JSTGD389"></a><div class="props_rev_3"><a id="GUID-184417A6-8098-45E1-80A6-34FE55074510" name="GUID-184417A6-8098-45E1-80A6-34FE55074510"></a><h4 id="JSTGD-GUID-184417A6-8098-45E1-80A6-34FE55074510" class="sect4">性能问题</h4>
                  <div>
                     <p>由于通常您掌握的信息不多，因此很难诊断性能问题。</p>
                     <p>首先，您必须确定哪种技术有问题。例如，Java 2D中可能存在渲染性能问题，而响应性问题可能与Swing相关。</p>
                     <p>与性能相关的问题可以分为以下几类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">启动</span></p>
                           <p>该应用程序需要多长时间才能启动并对用户有用？</p>
                        </li>
                        <li>
                           <p><span class="bold">脚印</span></p>
                           <p>应用程序占用多少内存？这可以通过Windows上的“任务管理器”或“ <code class="codeph">top</code>和<code class="codeph">prstat</code>在Oracle Solaris和Linux操作系统上。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">运行</span></p>
                           <p>应用程序完成设计要执行的任务的速度有多快？例如，如果应用程序进行计算，完成计算需要多长时间？在游戏中，帧频是否可以接受，动画看起来是否流畅？</p>
                           <p><span class="italic">注意：</span>这与响应性不同，后者是下一个主题。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">反应性</span></p>
                           <p>应用程序对用户交互的响应速度有多快？如果用户单击菜单，菜单显示需要多长时间？长时间运行的任务可以中断吗？应用程序重新绘制的速度是否足够快，以至于看起来不慢？</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="JSTGD390"></a><div class="props_rev_3"><a id="GUID-E1BC3AE5-5DCC-4B9E-964B-902E1FD95404" name="GUID-E1BC3AE5-5DCC-4B9E-964B-902E1FD95404"></a><h4 id="JSTGD-GUID-E1BC3AE5-5DCC-4B9E-964B-902E1FD95404" class="sect4">行为问题</h4>
                  <div>
                     <p>有关处理应用程序中各种问题的指南。</p>
                     <p>除了崩溃之外，还会发生各种与行为有关的问题。下面列出了其中一些问题。他们的描述可以指导您使用Java SE Desktop技术进行故障排除。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当应用程序停止响应用户输入时，将发生<span class="bold">挂起</span> 。请参阅<a href="troubleshoot-process-hangs-and-loops.html#GUID-0777035D-123C-4DC5-A241-21560882C7BB" title="本章提供有关对挂起或循环过程进行故障排除的某些特定过程的信息和指南。">对进程挂起和循环进行故障排除</a> 。
                           </p>
                        </li>
                        <li>
                           <p>可见<span class="bold">，Java代码</span>中的异常被抛出到控制台或应用程序日志文件中。检查此输出将引导您进入问题区域。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">渲染和重新绘制问题</span>表明Java 2D或Swing中存在问题。例如，由于另一个应用程序在其上拖动而导致的重新绘制后，该应用程序的外观不正确。其他示例包括不正确的字体，错误的颜色，滚动，在其上拖动另一个窗口并更新损坏的区域，从而损坏应用程序的框架。
                           </p>
                           <p>快速测试如下：如果该问题在其他平台上可重现（例如，该问题最初在Windows上出现，并且在Oracle Solaris或Linux上也存在），则很可能是Swing <code class="codeph">PaintManager</code>问题。
                           </p>
                           <p>有关使用某些标志更改Java 2D渲染管道的方法，请参见<a href="java-2d.html#GUID-63FAD092-E3E7-416D-9CA3-25BBACFC46E9" title="有关对Java 2D API中可能发现的一些最常见问题进行故障排除的信息和指南。">Java 2D</a> 。这也可以帮助确定问题是否与Java 2D或Swing有关。
                           </p>
                           <p>与多屏相关的重画问题属于Java 2D（例如，将窗口从一个屏幕移动到另一个屏幕时的重画问题，或与非默认屏幕设备的交互所引起的其他异常行为）。</p>
                        </li>
                        <li>
                           <p><span class="bold">与桌面交互相关</span>的问题表明AWT中存在问题。在移动，调整大小，最小化和最大化窗口，处理焦点，使用模态枚举多个屏幕，与通知区域（系统托盘）进行交互以及查看初始屏幕时，会出现此类问题的一些示例。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">拖放问题</span>与AWT有关。</p>
                        </li>
                        <li>
                           <p>根据使用的API， <span class="bold">打印问题</span>可能与Java 2D或AWT有关。
                           </p>
                        </li>
                        <li>
                           <p>AWT应用程序中的<span class="bold">文本呈现问题</span>可能是字体属性或国际化方面的问题。
                           </p>
                           <p>但是，如果您的应用程序是纯AWT，则Java 2D也可能导致文本呈现问题。在Oracle Solaris或Linux上，文本渲染由Java 2D执行。</p>
                           <p>Swing中的文本呈现由Java 2D执行。因此，如果您的应用程序使用Swing并且存在文本渲染问题（例如，缺少字形，字形渲染不正确，行或字符之间的间距不正确，字体渲染质量不佳），则问题很可能出在Java 2D中。</p>
                        </li>
                        <li>
                           <p><span class="bold">绘画问题</span>很可能是Swing问题。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">全屏问题</span>与Java 2D API有关。</p>
                        </li>
                        <li>
                           <p><span class="bold">编码和语言环境问题</span> （例如，没有显示特定于语言环境的字符）指示内部化问题。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="JSTGD391"></a><div class="props_rev_3"><a id="GUID-1671C947-CD68-45CC-9969-C984AF528AAB" name="GUID-1671C947-CD68-45CC-9969-C984AF528AAB"></a><h3 id="JSTGD-GUID-1671C947-CD68-45CC-9969-C984AF528AAB" class="sect3">基本工具</h3>
               <div>
                  <p>可以帮助解决某些类型问题的基本工具列表。</p>
                  <p>本节列出了一些工具，可以帮助您解决某些类型的问题。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">性能：</span>基准，分析器，DTrace，Java探针。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">脚印：</span> <code class="codeph">jmap</code> ，剖析器</p>
                     </li>
                     <li>
                        <p><span class="bold">崩溃：本</span>机调试器</p>
                     </li>
                     <li>
                        <p><span class="bold">挂起：</span> JConsole， <code class="codeph">jstack</code> ，控制+中断</p>
                     </li>
                     <li>
                        <p><span class="bold">字体渲染：</span> Font2DTest（随JDK 8演示和示例捆绑提供， <code>demo/jfc/Font2DTest</code>目录）</p>
                     </li>
                  </ul>
               </div>
            </div><a id="JSTGD392"></a><div class="props_rev_3"><a id="GUID-EC8ED33F-96F2-492F-9332-4048DB893024" name="GUID-EC8ED33F-96F2-492F-9332-4048DB893024"></a><h3 id="JSTGD-GUID-EC8ED33F-96F2-492F-9332-4048DB893024" class="sect3">Java调试线协议</h3>
               <div>
                  <p>Java调试线协议（JDWP）对于调试应用程序非常有用。</p>
                  <div class="section">要使用JDWP调试应用程序：</div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>打开命令行，然后设置<code>PATH</code>环境变量<code><span class="variable" translate="no">jdk</span>/bin</code>哪里<code><span class="variable" translate="no">jdk</span></code>是JDK的安装目录。</span></li>
                     <li class="stepexpand"><span>使用以下命令运行应用程序（称为<code class="codeph">Test</code>在此示例中）您要调试的：</span><ul>
                           <li>在Windows上：<pre class="pre codeblock"><code>java -Xdebug -Xrunjdwp:transport=dt_shmem,address=debug,server=y,suspend=y Test
</code></pre></li>
                           <li>在Oracle Solaris和Linux操作系统上：<pre class="pre codeblock"><code>java -Xdebug -Xrunjdwp:transport=dt_socket,address=8888,server=y,suspend=y Test
</code></pre></li>
                        </ul>
                        <div>
                           <p>的<code class="codeph">Test</code>该类将以调试模式启动，并等待调试器将其附加到地址上<code class="codeph">debug</code> （在Windows上）或<code class="codeph">8888</code> （在Oracle Solaris和Linux操作系统上）。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>打开另一个命令行，然后使用以下命令运行<code class="codeph">jdb</code>并将其附加到正在运行的调试服务器：</span><ul>
                           <li>在Windows上：<pre class="pre codeblock"><code>jdb -attach 'debug'
</code></pre></li>
                           <li>在Oracle Solaris和Linux操作系统上：<pre class="pre codeblock"><code>jdb -attach 8888
</code></pre></li>
                        </ul>
                        <div>后<code class="codeph">jdb</code>初始化并附加到<code class="codeph">Test</code> ，您可以执行Java级调试。
                        </div>
                     </li>
                     <li class="stepexpand"><span>设置断点并运行应用程序。例如，要在<code class="codeph">main</code>方法中<code class="codeph">Test</code> ，运行以下命令：</span><div><pre class="pre codeblock"><code>stop in Test.main run
</code></pre><p>当。。。的时候<code class="codeph">jdb</code>实用程序遇到断点时，您将能够检查应用程序在其中运行的环境，并查看其是否按预期运行。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>（可选）要与Java级别调试一起执行本机级别调试，请使用本机调试器附加到运行JDWP的Java进程。</span><ul>
                           <li>在Oracle Solaris上，您可以使用<code class="codeph">dbx</code>实用程序，在Linux上，您可以使用<code class="codeph">gdb</code>效用。
                           </li>
                           <li>在Windows上，可以使用Visual Studio进行本机级调试，如下所示：<ol type="a">
                                 <li>
                                    <p>打开Visual Studio。</p>
                                 </li>
                                 <li>
                                    <p>在“ <span class="bold">调试”</span>菜单上，选择“ <span class="bold">附加到进程”</span> 。选择随JDWP运行的Java进程。</p>
                                 </li>
                                 <li>
                                    <p>在<span class="bold">项目</span>菜单上，选择<span class="bold">设置</span> ，然后打开<span class="bold">调试</span>选项卡。在“ <span class="bold">类别”</span>下拉列表中，选择“ <span class="bold">其他DLL”，</span>然后添加要调试的本机DLL（例如， <code class="codeph">Test.dll</code> ）。
                                    </p>
                                 </li>
                                 <li>
                                    <p>打开以下文件的源文件（一个或多个） <code class="codeph">Test.dll</code>并设置断点。
                                    </p>
                                 </li>
                                 <li>
                                    <p>输入<code class="codeph">cont</code>在里面<code class="codeph">jdb</code>窗口。该过程将达到Visual Studio中的断点。
                                    </p>
                                 </li>
                              </ol>
                           </li>
                        </ul>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   

</body></html>