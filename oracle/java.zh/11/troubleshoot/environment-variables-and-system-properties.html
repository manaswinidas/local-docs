<html lang="en-us"  xml:lang="en-us"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This appendix describes environment variables and system properties that can be useful for troubleshooting problems with the Java HotSpot VM.">
      <meta name="description" content="This appendix describes environment variables and system properties that can be useful for troubleshooting problems with the Java HotSpot VM.">
      <title>Environment Variables and System Properties</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Troubleshooting Guide">
      <meta property="og:description" content="This appendix describes environment variables and system properties that can be useful for troubleshooting problems with the Java HotSpot VM.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Troubleshooting Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="troubleshooting-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T10:41:43-07:00">
      <meta name="dcterms.title" content="Troubleshooting Guide">
      <meta name="dcterms.dateCopyrighted" content="1995, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E94880-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="java-2d-properties.html" title="Previous" type="text/html">
      <link rel="next" href="command-line-options1.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TROUBLESHOOT">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body >
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="java-2d-properties.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一个</a> <a href="command-line-options1.html" class="pull-right">下一个<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">故障排除指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendix.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">环境变量和系统属性</li>
            </ol>
            <a id="GUID-A91E7E21-2E91-48C4-89A4-836A7C0EE93B" name="GUID-A91E7E21-2E91-48C4-89A4-836A7C0EE93B"></a><a id="JSTGD587"></a><a id="JSTGD586"></a>
            
            <h2 id="JSTGD-GUID-A91E7E21-2E91-48C4-89A4-836A7C0EE93B" class="sect2"><span class="enumeration_appendix">C</span>环境变量和系统属性</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录描述了环境变量和系统属性，它们对于排除Java HotSpot VM的问题很有用。</p>
               <p><a href="submit-bug-report.html#GUID-DB465A9C-03FA-4324-BFF9-45BF9699F349" title="有关如何提交错误报告的指南。它包含有关在提交报告之前应尝试的操作以及为该报告收集哪些数据的建议。">提交错误报告</a>包含了收集环境变量的信息<a href="submit-bug-report.html#GUID-3933BFE1-0193-403E-8D72-2E0DC6639EE8" title="有时由于环境变量设置而出现问题。创建错误报告时，请指出以下Java环境变量的值（如果已设置）。">环境变量</a> 。
               </p>
               <p>本附录包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="environment-variables-and-system-properties.html#GUID-BE6E7B7F-A4BE-45C0-9078-AA8A66754B97" title="在许多环境中，使用必要的命令行选项无法轻易访问命令行来启动应用程序。">JAVA_TOOL_OPTIONS环境变量</a></p>
                  </li>
                  <li>
                     <p><a href="environment-variables-and-system-properties.html#GUID-FE488B52-B0B6-48B6-B050-D58798F5242C" title="此系统属性控制Java运行时环境（JRE）的安全系统在执行期间是否打印跟踪消息。">java.security.debug系统属性</a></p>
                  </li>
               </ul>
            </div><a id="JSTGD611"></a><div class="props_rev_3"><a id="GUID-BE6E7B7F-A4BE-45C0-9078-AA8A66754B97" name="GUID-BE6E7B7F-A4BE-45C0-9078-AA8A66754B97"></a><h3 id="JSTGD-GUID-BE6E7B7F-A4BE-45C0-9078-AA8A66754B97" class="sect3">JAVA_TOOL_OPTIONS环境变量</h3>
               <div>
                  <p>在许多环境中，使用必要的命令行选项无法轻易访问命令行来启动应用程序。</p>
                  <div class="section">
                     <p>对于使用嵌入式VM的应用程序（这意味着它们使用Java本机接口（JNI）调用API来启动VM），或者在脚本中深度嵌套启动的情况下，通常会发生这种情况。在这些环境中<code class="codeph">JAVA_TOOL_OPTIONS</code>环境变量对于增加命令行很有用。
                     </p>
                     <div class="infoboxnote" id="GUID-BE6E7B7F-A4BE-45C0-9078-AA8A66754B97__GUID-82B6D723-5FF4-409A-B082-DD0ACDB1B261">
                        <p class="notep1">注意：</p>
                        <p>在某些情况下，出于安全原因，此选项被禁用。例如，在Oracle Solaris操作系统上，当有效用户或组ID与实际ID不同时，将禁用此选项。</p>
                     </div>
                     <p>该环境变量允许您指定工具的初始化，特别是使用以下命令启动本机或Java编程语言代理： <code class="codeph">-agentlib</code>要么<code class="codeph">-javaagent</code>选项。
                     </p>
                     <p>此变量还可用于通过其他选项扩展命令行以进行诊断。例如，您可以提供<code class="codeph">-XX:OnError</code>选项，用于指定发生致命错误时要执行的脚本或命令。
                     </p>
                     <p>由于当时正在检查此环境变量，因此<code class="codeph">JNI_CreateJavaVM</code>函数被调用时，不能使用启动程序通常会处理的选项来扩展命令行，例如，使用<code class="codeph">-client</code>选项或<code class="codeph">-server</code>选项。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JSTGD612"></a><div class="props_rev_3"><a id="GUID-FE488B52-B0B6-48B6-B050-D58798F5242C" name="GUID-FE488B52-B0B6-48B6-B050-D58798F5242C"></a><h3 id="JSTGD-GUID-FE488B52-B0B6-48B6-B050-D58798F5242C" class="sect3">java.security.debug系统属性</h3>
               <div>
                  <p>此系统属性控制Java运行时环境（JRE）的安全系统在执行期间是否打印跟踪消息。</p>
                  <div class="section">
                     <p>当在以下情况下诊断涉及安全管理器的问题时，此选项很有用： <code class="codeph">SecurityException</code>被抛出。
                     </p>
                     <p>的<code class="codeph">java.security.debug</code>属性可以具有以下值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold"><code class="codeph">access</code></span></p>
                           <p>全部列印<code class="codeph">checkPermission</code>结果。
                           </p>
                           <p>可以使用<code class="codeph">access</code>选项：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold"><code class="codeph">stack</code></span></p>
                                 <p>包括堆栈跟踪。</p>
                              </li>
                              <li>
                                 <p><span class="bold"><code class="codeph">domain</code></span></p>
                                 <p>转储上下文中的所有域。</p>
                              </li>
                              <li>
                                 <p><span class="bold"><code class="codeph">failure</code></span></p>
                                 <p>在引发异常之前，请转储没有权限的堆栈和域。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">jar</code></span></p>
                           <p>打印JAR验证信息。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">policy</code></span></p>
                           <p>打印的权限<code class="codeph">SecureClassLoader</code>分配。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">scl</code></span></p>
                           <p>例如，打印所有<code class="codeph">checkPermission</code>结果并在上下文中跟踪所有域，请设置<code class="codeph">java.security.debug</code>财产<code class="codeph">access,stack</code> 。要跟踪访问失败，请将属性设置为<code class="codeph">access,failure</code> 。
                           </p>
                           <p>以下示例显示了<code class="codeph">checkPermission</code>失败。
                           </p><pre class="pre codeblock"><code>$ <span class="bold"><code class="codeph">java -Djava.security.debug="access,failure" </code></span><span class="variable" translate="no">MyApp</span>
access denied (java.net.SocketPermission server.foobar.com resolve
)
java.lang.Exception: Stack trace
    at java.lang.Thread.dumpStack(Thread.java:1158)
    at java.security.AccessControlContext.checkPermission
                          (AccessControlContext.java:253)
    at java.security.AccessController.checkPermission(AccessController.java:427)
    at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)
    at java.lang.SecurityManager.checkConnect(SecurityManager.java:1031)
    at java.net.InetAddress.getAllByName0(InetAddress.java:1117)
    at java.net.InetAddress.getAllByName0(InetAddress.java:1098)
    at java.net.InetAddress.getAllByName(InetAddress.java:1061)
    at java.net.InetAddress.getByName(InetAddress.java:958)
    at java.net.InetSocketAddress.&lt;init&gt;(InetSocketAddress.java:124)
    at java.net.Socket.&lt;init&gt;(Socket.java:178)
    at MyApp.main(MyApp.java:7)
</code></pre><p>要了解更多有关<code class="codeph">java.security.debug</code>系统属性，请参阅《 <span><cite>Java平台标准版安全性开发人员指南》中的“</cite></span> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/troubleshoot&id=JSSEC-GUID-4F9F7BB5-5C9E-4888-9E28-3017EF746FA0" target="_blank">对安全性</a>进行<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/troubleshoot&id=JSSEC-GUID-4F9F7BB5-5C9E-4888-9E28-3017EF746FA0" target="_blank">故障排除</a> <span><cite>”</cite></span> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   

</body></html>