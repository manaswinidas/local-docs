<html lang="en-us"  xml:lang="en-us"><head></head><body >﻿
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Guidance about how to submit a bug report. It includes suggestions about what to try before submitting a report and which data to collect for the report.">
      <meta name="description" content="Guidance about how to submit a bug report. It includes suggestions about what to try before submitting a report and which data to collect for the report.">
      <title>提交错误报告</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Troubleshooting Guide">
      <meta property="og:description" content="Guidance about how to submit a bug report. It includes suggestions about what to try before submitting a report and which data to collect for the report.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Troubleshooting Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="troubleshooting-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T10:41:43-07:00">
      <meta name="dcterms.title" content="Troubleshooting Guide">
      <meta name="dcterms.dateCopyrighted" content="1995, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E94880-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="submit-bug-reports.html" title="Previous" type="text/html">
      <link rel="next" href="appendix.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TROUBLESHOOT">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script>
   
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="submit-bug-reports.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一个</a> <a href="appendix.html" class="pull-right">下一个<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">故障排除指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="submit-bug-reports.html" property="item" typeof="WebPage"><span property="name">提交错误报告</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">提交错误报告</li>
            </ol>
            <a id="GUID-DB465A9C-03FA-4324-BFF9-45BF9699F349" name="GUID-DB465A9C-03FA-4324-BFF9-45BF9699F349"></a><a id="JSTGD517"></a><a id="JSTGD516"></a>
            
            <h2 id="JSTGD-GUID-DB465A9C-03FA-4324-BFF9-45BF9699F349" class="sect2"><span class="enumeration_chapter">16</span>提交错误报告</h2>
         </header>
         <div class="ind">
            <div>
               <p>有关如何提交错误报告的指南。它包括有关提交报告之前应尝试的操作以及为该报告收集哪些数据的建议。</p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="submit-bug-report.html#GUID-D90C0950-54B8-4C2D-A112-D14509B29C0F" title="当前平台是Java SE 9。自该平台的初始版本以来，对此版本的定期计划更新包含对一些关键错误的修复程序。">检查更新版本中的修复程序</a></p>
                  </li>
                  <li>
                     <p><a href="submit-bug-report.html#GUID-A2BFDCEC-9ABF-42C7-A337-B691E1E34C09" title="建议的过程以提交错误报告。">准备提交错误报告</a></p>
                  </li>
                  <li>
                     <p><a href="submit-bug-report.html#GUID-E0B90A72-D502-4DD7-B7E1-CF043CF74B40" title="通常，建议使用最新更新版本甚至最新的可用早期访问（EA）版本进行测试，以查看问题是否仍然存在，然后在创建错误报告或提交支持时收集尽可能多的相关数据。呼叫。">收集错误报告的数据</a></p>
                  </li>
                  <li>
                     <p><a href="submit-bug-report.html#GUID-597FDBF7-68A6-47CC-869D-F9B8849AB7DC" title="生成和收集核心转储（也称为崩溃转储）的过程。核心转储或崩溃转储是正在运行的进程的内存快照。">收集核心转储</a></p>
                  </li>
               </ul>
            </div><a id="JSTGD518"></a><div class="props_rev_3"><a id="GUID-D90C0950-54B8-4C2D-A112-D14509B29C0F" name="GUID-D90C0950-54B8-4C2D-A112-D14509B29C0F"></a><h3 id="JSTGD-GUID-D90C0950-54B8-4C2D-A112-D14509B29C0F" class="sect3">检查更新版本中的修复程序</h3>
               <div>
                  <p>当前平台是Java SE 9。自该平台的初始版本以来，对此版本的定期计划更新包含对一些关键错误的修复程序。</p>
                  <div class="section">
                     <p>当有可用的更新版本时，它将成为<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java SE Downloads站点上</a>的默认下载。
                     </p>
                     <p>下载站点包括发行说明，其中列出了发行版中的错误修复。列表中的每个错误都链接到错误数据库中的错误描述。发行说明还包括以前的更新版本中的修复程序列表。如果遇到问题或怀疑有错误，则作为诊断的早期步骤，请检查最新更新版本中可用的修补程序列表。</p>
                     <p>有时，如果问题是重复的错误已解决，则并不明显。<span class="bold">始终建议使用可用的最新更新版本进行测试，以查看问题是否仍然存在。</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JSTGD519"></a><div class="props_rev_3"><a id="GUID-A2BFDCEC-9ABF-42C7-A337-B691E1E34C09" name="GUID-A2BFDCEC-9ABF-42C7-A337-B691E1E34C09"></a><h3 id="JSTGD-GUID-A2BFDCEC-9ABF-42C7-A337-B691E1E34C09" class="sect3">准备提交错误报告</h3>
               <div>
                  <p>建议的过程以提交错误报告。</p>
                  <div class="section">
                     <p>在提交错误报告之前，请考虑以下建议：</p>
                  </div>
                  <!-- class="section" -->
                  <ul>
                     <li class="stepexpand"><span><span class="bold">首先，使用最新的更新版本进行测试，以查看问题是否仍然存在。通常，如果针对较早的版本提交了错误报告，请使用可用的最新可用更新版本，甚至是可用的最新早期访问（EA）版本进行测试。EA版本可能包含新功能和错误修复。</span></span></li>
                     <li class="stepexpand"><span>收集尽可能多的相关数据。例如，在发生死锁的情况下生成线程转储，或者找到核心文件（如果适用）并<code class="codeph">hs_err</code>在崩溃的情况下文件。在每种情况下，记录问题发生之前的环境和所执行的操作都很重要。</span></li>
                     <li class="stepexpand"><span>在适用的情况下，请尝试使用记录的步骤恢复原始状态并重现问题。这有助于确定问题是可重现的还是间歇性问题。</span></li>
                     <li class="stepexpand"><span>如果问题是可重现的，请尝试缩小问题范围。在某些情况下，可以通过一个小的独立测试用例来演示错误。与由大型复杂应用程序组成的测试用例相比，由小型测试用例演示的错误通常更易于诊断。</span></li>
                     <li class="stepexpand"><span><a href="http://bugs.java.com/bugdatabase/index.jsp" target="_blank">搜索错误数据库</a>以查看是否报告了此错误或类似的错误。如果已经报告了该错误，则该错误报告可能包含更多信息，例如：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果该错误已被修复，则将给出修复该错误的版本。</p>
                              </li>
                              <li>
                                 <p>解决该问题的方法。</p>
                              </li>
                              <li>
                                 <p>评估中的注释进一步详细说明了导致错误发生的情况。</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>如果您认为该错误已得到报告，请提交新的错误。</span></li>
                  </ul>
                  <div class="section">
                     <p>提交错误之前，请验证问题发生的环境是否受支持的配置。请参阅<a href="http://www.oracle.com/technetwork/java/javase/certconfig-2095354.html" target="_blank">支持的系统配置</a> 。
                     </p>
                     <p>除了系统配置之外，请检查支持的语言环境列表。请参阅<a href="http://www.oracle.com/technetwork/java/javase/java8locales-2095355.html" target="_blank">支持的语言环境</a>网页。
                     </p>
                     <p>对于Oracle Solaris，请检查推荐的补丁程序群集以获取操作系统版本，以确保安装了推荐的补丁程序。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JSTGD520"></a><div class="props_rev_3"><a id="GUID-E0B90A72-D502-4DD7-B7E1-CF043CF74B40" name="GUID-E0B90A72-D502-4DD7-B7E1-CF043CF74B40"></a><h3 id="JSTGD-GUID-E0B90A72-D502-4DD7-B7E1-CF043CF74B40" class="sect3">收集错误报告的数据</h3>
               <div>
                  <p>通常，建议<span class="bold">使用最新更新版本甚至最新的可用早期访问（EA）版本进行测试，以查看问题是否仍然存在</span> ，然后在创建错误报告或提交支持时收集尽可能多的相关数据。呼叫。
                  </p>
                  <p>以下各节建议收集数据，并在适用时提供有关命令的建议或获取数据的一般过程。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="submit-bug-report.html#GUID-E5701AFF-F5AE-4F43-B24E-1CF19518F25E" title="发生致命错误时，硬件详细信息将存储在错误日志中。">硬件细节</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-AEB5DDA0-B78B-4802-A94B-3F593853975D" title="您可以用来获取操作系统详细信息的命令。">操作系统详细信息</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-F966A28F-0703-4C54-8E06-42C42CE1F048" title="可以使用java -version命令获取Java SE版本字符串。">Java SE版本</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-5D3E2120-4591-4240-9339-11F534DEE8B8" title="如果错误报告未包含致命错误日志，则记录完整的命令行及其所有选项非常重要。这包括任何指定堆设置的选项（例如-mxoption）或任何指定HotSpot特定选项的-XX选项。">命令行选项</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-3933BFE1-0193-403E-8D72-2E0DC6639EE8" title="有时由于环境变量设置而出现问题。创建错误报告时，请指出以下Java环境变量的值（如果已设置）。">环境变量</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-50CEFEE8-E2B3-4C79-8CC7-A1866C804964" title="发生致命错误时，将创建致命错误日志。">致命错误日志</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-DA54400D-6338-49B1-AD43-163317C0CDCF" title="尝试诊断系统崩溃或挂起进程时，核心转储和崩溃转储可能非常有用。">核心和崩溃转储</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-0074B0D4-7660-4542-9DD4-8E7C33637474" title="创建问题描述时，请尝试包含尽可能多的相关信息。">问题的详细说明</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-BC63B799-5220-42A8-B711-C2D6CC26F95A" title="日志或跟踪输出可以帮助快速确定问题的原因。">日志和痕迹</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-7A305D16-90AF-4709-A3D4-230E390D9163" title="报告所有已发生的故障排除步骤和结果">故障排除步骤的结果</a></p>
                     </li>
                  </ul>
               </div><a id="JSTGD521"></a><div class="props_rev_3"><a id="GUID-E5701AFF-F5AE-4F43-B24E-1CF19518F25E" name="GUID-E5701AFF-F5AE-4F43-B24E-1CF19518F25E"></a><h4 id="JSTGD-GUID-E5701AFF-F5AE-4F43-B24E-1CF19518F25E" class="sect4">硬件细节</h4>
                  <div>
                     <p>发生致命错误时，硬件详细信息将存储在错误日志中。</p>
                     <div class="section">
                        <p>有时，会发生错误或只能在某些硬件配置上复制错误。如果发生致命错误，则错误日志可能包含硬件详细信息。如果没有错误日志，请在错误报告中记录机器中处理器的数量和类型，时钟速度以及（如果适用）（如果知道）有关该处理器功能的一些详细信息。例如，对于Intel处理器，可能与超线程可用有关。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSTGD522"></a><div class="props_rev_3"><a id="GUID-AEB5DDA0-B78B-4802-A94B-3F593853975D" name="GUID-AEB5DDA0-B78B-4802-A94B-3F593853975D"></a><h4 id="JSTGD-GUID-AEB5DDA0-B78B-4802-A94B-3F593853975D" class="sect4">操作系统详细信息</h4>
                  <div>
                     <p>您可以用来获取操作系统详细信息的命令。</p>
                     <div class="section">
                        <p>在Oracle Solaris操作系统上， <code class="codeph">showrev -a</code>命令打印操作系统版本和补丁信息。
                        </p>
                        <p>在Linux上，重要的是要知道使用哪个发行版和版本。有时<code>/etc/*release</code>文件指示发布信息，但是由于组件和软件包可以独立升级，因此它并不总是可靠的指示。因此，除了来自<code>*release</code>文件，收集以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li><span>内核版本。可以使用<code class="codeph">uname -a</code>命令。</span></li>
                        <li><span>的<code class="codeph">glibc</code>版。的<code class="codeph">rpm -q glibc</code>命令指示补丁级别<code class="codeph">glibc</code> 。</span></li>
                        <li><span>线程库。Linux有两个线程库，分别是<code class="codeph">LinuxThreads</code>和<code class="codeph">NPTL</code> 。的<code class="codeph">LinuxThreads</code>该库在2.4和更早的内核上使用，并具有固定的堆栈和浮动堆栈变体。本机POSIX线程库（ <code class="codeph">NPTL</code> ）用于2.6内核。某些Linux版本（例如RHEL3）包括<code class="codeph">NPTL</code>到2.4内核。使用命令<code class="codeph">getconf GNU_LIBPTHREAD_VERSION</code>确定使用哪个线程库。如果<code class="codeph">getconf</code>命令返回一条错误消息，指出该变量不存在，则可能是因为您使用的旧内核与<code class="codeph">LinuxThreads</code>图书馆。</span></li>
                     </ul>
                  </div>
               </div><a id="JSTGD523"></a><div class="props_rev_3"><a id="GUID-F966A28F-0703-4C54-8E06-42C42CE1F048" name="GUID-F966A28F-0703-4C54-8E06-42C42CE1F048"></a><h4 id="JSTGD-GUID-F966A28F-0703-4C54-8E06-42C42CE1F048" class="sect4">Java SE版本</h4>
                  <div>
                     <p>可以使用以下命令获取Java SE版本字符串： <code class="codeph">java -version</code>命令。
                     </p>
                     <div class="section">
                        <p>可以在同一台计算机上安装多个版本的Java SE。因此，请确保使用适当版本的<code class="codeph">java</code>通过验证安装命令<code>bin</code>目录出现在您的<code class="codeph">PATH</code>其他安装之前的环境变量。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSTGD524"></a><div class="props_rev_3"><a id="GUID-5D3E2120-4591-4240-9339-11F534DEE8B8" name="GUID-5D3E2120-4591-4240-9339-11F534DEE8B8"></a><h4 id="JSTGD-GUID-5D3E2120-4591-4240-9339-11F534DEE8B8" class="sect4">命令行选项</h4>
                  <div>
                     <p>如果错误报告未包含致命错误日志，则记录完整的命令行及其所有选项非常重要。这包括任何指定堆设置的选项（例如， <code>-mx</code>选项）或任何<code>-XX</code>指定HotSpot特定选项的选项。
                     </p>
                     <div class="section">
                        <p>Java SE的功能之一是垃圾收集器的人体工程学。在服务器级计算机上， <code class="codeph">java</code>命令启动HotSpot Server VM和并行垃圾收集器。如果一台计算机至少具有两个处理器并且具有2GB或更多的内存，则将其视为服务器计算机。
                        </p>
                        <p>的<code>-XX:+PrintCommandLineFlags</code> option可用于验证命令行选项。此选项将所有命令行标志打印到VM。也可以使用以下命令为运行中的VM或核心文件获取命令行选项： <code class="codeph">jmap</code>效用。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSTGD525"></a><div class="props_rev_3"><a id="GUID-3933BFE1-0193-403E-8D72-2E0DC6639EE8" name="GUID-3933BFE1-0193-403E-8D72-2E0DC6639EE8"></a><h4 id="JSTGD-GUID-3933BFE1-0193-403E-8D72-2E0DC6639EE8" class="sect4">环境变量</h4>
                  <div>
                     <p>有时由于环境变量设置而出现问题。创建错误报告时，请指出以下Java环境变量的值（如果已设置）。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">JAVA_TOOL_OPTIONS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">_JAVA_OPTIONS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CLASSPATH</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">JAVA_COMPILER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PATH</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">USERNAME</code></p>
                           </li>
                        </ul>
                        <p>此外，收集以下特定于操作系统的环境变量。</p>
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li class="stepexpand"><span>在Oracle Solaris和Linux操作系统上，收集以下环境变量的值。</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">LD_LIBRARY_PATH</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LD_PRELOAD</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SHELL</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DISPLAY</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">HOSTTYPE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OSTYPE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ARCH</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MACHTYPE</code></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在Linux上，还要收集以下环境变量的值。</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">LD_ASSUME_KERNEL</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">_JAVA_SR_SIGNUM</code></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在Windows上，收集以下环境变量的值。</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">OS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PROCESSOR_IDENTIFIER</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">_ALT_JAVA_HOME_DIR</code></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="JSTGD526"></a><div class="props_rev_3"><a id="GUID-50CEFEE8-E2B3-4C79-8CC7-A1866C804964" name="GUID-50CEFEE8-E2B3-4C79-8CC7-A1866C804964"></a><h4 id="JSTGD-GUID-50CEFEE8-E2B3-4C79-8CC7-A1866C804964" class="sect4">致命错误日志</h4>
                  <div>
                     <p>发生致命错误时，将创建致命错误日志。</p>
                     <div class="section">
                        <p><span class="bold">建议使用最新的更新版本进行测试，以查看问题是否仍然存在。</span></p>
                        <p>发生致命错误时，将创建一个错误日志。请参阅<a href="fatal-error-log.html#GUID-2AE5EE08-A68F-4514-9618-A581C0EDFB1B" title="描述致命错误日志，其位置和内容。">致命错误日志</a> 。
                        </p>
                        <p>错误日志包含发生致命错误时获得的信息，例如版本和环境信息，有关引发崩溃的线程的详细信息，等等。</p>
                        <p>如果生成了致命错误日志，请确保将其包括在错误报告中或在支持呼叫期间进行报告。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSTGD527"></a><div class="props_rev_3"><a id="GUID-DA54400D-6338-49B1-AD43-163317C0CDCF" name="GUID-DA54400D-6338-49B1-AD43-163317C0CDCF"></a><h4 id="JSTGD-GUID-DA54400D-6338-49B1-AD43-163317C0CDCF" class="sect4">核心和崩溃转储</h4>
                  <div>
                     <p>尝试诊断系统崩溃或挂起进程时，核心转储和崩溃转储可能非常有用。</p>
                     <div class="section">
                        <p><a href="submit-bug-report.html#GUID-597FDBF7-68A6-47CC-869D-F9B8849AB7DC" title="生成和收集核心转储（也称为崩溃转储）的过程。核心转储或崩溃转储是正在运行的进程的内存快照。">收集核心转储中</a>介绍了生成转储的过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSTGD528"></a><div class="props_rev_3"><a id="GUID-0074B0D4-7660-4542-9DD4-8E7C33637474" name="GUID-0074B0D4-7660-4542-9DD4-8E7C33637474"></a><h4 id="JSTGD-GUID-0074B0D4-7660-4542-9DD4-8E7C33637474" class="sect4">问题的详细说明</h4>
                  <div>
                     <p>创建问题描述时，请尝试包含尽可能多的相关信息。</p>
                     <div class="section">
                        <p>描述应用程序，环境以及最重要的问题发生之前的事件。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>有时，该问题只能在复杂的应用程序环境中重现。在这种情况下，描述以及日志，核心文件和其他相关信息可能是诊断问题的唯一方法。在这些情况下，说明应指出提交者是否愿意在发生问题的系统上运行进一步的诊断或运行测试二进制文件。</p>
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li><span>如果该问题是可重现的，则列出演示该问题所需的步骤。</span></li>
                        <li><span>如果可以通过一个小的测试用例来证明问题，则包括该测试用例以及用于编译和执行该测试用例的命令。</span></li>
                        <li><span>如果测试用例或问题需要第三方代码（例如，商业或开源库或软件包），则请提供有关在何处以及如何获取该库的详细信息。</span></li>
                     </ul>
                  </div>
               </div><a id="JSTGD529"></a><div class="props_rev_3"><a id="GUID-BC63B799-5220-42A8-B711-C2D6CC26F95A" name="GUID-BC63B799-5220-42A8-B711-C2D6CC26F95A"></a><h4 id="JSTGD-GUID-BC63B799-5220-42A8-B711-C2D6CC26F95A" class="sect4">日志和痕迹</h4>
                  <div>
                     <p>日志或跟踪输出可以帮助快速确定问题的原因。</p>
                     <div class="section">
                        <p>例如，在性能问题的情况下， <code>-verbose:gc</code>选项可以帮助诊断问题。（这是启用垃圾收集器输出的选项。）
                        </p>
                        <p>在其他情况下， <code class="codeph">jstat</code>命令可用于捕获导致问题的时间段内的统计信息。
                        </p>
                        <p>在出现死锁或VM挂起的情况下（例如，由于循环），线程堆栈可以帮助诊断问题。螺纹叠压通过<kbd class="userinput">Control+\</kbd>在Oracle Solaris和Linux上，在Windows上为Control + Break。
                        </p>
                        <p>通常，在错误报告中或在支持电话期间提供所有相关的日志，跟踪和其他输出。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSTGD530"></a><div class="props_rev_3"><a id="GUID-7A305D16-90AF-4709-A3D4-230E390D9163" name="GUID-7A305D16-90AF-4709-A3D4-230E390D9163"></a><h4 id="JSTGD-GUID-7A305D16-90AF-4709-A3D4-230E390D9163" class="sect4">故障排除步骤的结果</h4>
                  <div>
                     <p>报告所有已发生的故障排除步骤和结果</p>
                     <div class="p"><span class="bold">先决条件：</span>在提交错误报告之前，请确保记录已执行的所有故障排除步骤。
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>例如，如果问题是当机并且应用程序具有本机库，则您可能已经使用<code>-Xcheck:jni</code>选项，以减少错误在本机代码中的可能性。另一种情况可能是HotSpot Server VM（ <code>-server</code>选项）。如果您还使用HotSpot Client VM（ <code>-client</code>选项），并且不会发生此问题，则表明该错误可能特定于HotSpot Server VM。</p>
                        <p>通常，在错误报告中包括所有已发生的故障排除步骤和结果。此类信息通常可以减少诊断问题所需的时间。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JSTGD531"></a><div class="props_rev_3"><a id="GUID-597FDBF7-68A6-47CC-869D-F9B8849AB7DC" name="GUID-597FDBF7-68A6-47CC-869D-F9B8849AB7DC"></a><h3 id="JSTGD-GUID-597FDBF7-68A6-47CC-869D-F9B8849AB7DC" class="sect3">收集核心转储</h3>
               <div>
                  <p>生成和收集核心转储（也称为崩溃转储）的过程。核心转储或崩溃转储是正在运行的进程的内存快照。</p>
                  <p>发生致命或未处理的错误（例如，信号或系统异常）时，操作系统可以自动创建核心转储。或者，可以使用系统提供的命令行实用程序来强制进行核心转储。有时，在诊断似乎挂起的进程时，核心转储很有用。核心转储可能会显示有关挂起原因的信息。</p>
                  <p>收集核心转储时，请确保收集有关环境的其他信息，以便可以分析核心文件（例如，操作系统版本，补丁程序信息和致命错误日志）。</p>
                  <p>核心转储通常不包含崩溃或挂起进程的所有内存页。对于此处讨论的每个操作系统，核心转储中均不包括该过程的文本（或代码）页面。但是，有用的是，核心转储必须至少由堆和堆栈的页面组成。收集非截断的良好核心转储文件对于崩溃的事后分析至关重要。</p>
                  <p>以下各节描述了收集核心转储的方案。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="submit-bug-report.html#GUID-0380F9BE-8C59-447D-A9D4-A7AF14869F12" title="在Oracle Solaris操作系统中，未处理的信号（例如，段违规，非法指令等）会导致核心转储。">在Oracle Solaris上收集核心转储</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-873840DE-3EC9-4DDA-9760-558158788EA8" title="在Linux操作系统上，未处理的信号（例如，分段违规，非法指令等）会导致核心转储。">在Linux上收集核心转储</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-5A2C0733-60A2-48FE-80BA-A062BE5562DC" title="可能无法生成核心文件的原因列表。">无法获取核心文件的原因</a></p>
                     </li>
                     <li>
                        <p><a href="submit-bug-report.html#GUID-F7841268-D783-4E3D-9BB3-3EB50CD186BE" title="在Windows操作系统中，有三种故障转储类型：Dr.Watson日志文件，用户小型转储和Dr.Watson完整转储。">在Windows上收集故障转储</a></p>
                     </li>
                  </ul>
               </div><a id="JSTGD532"></a><div class="props_rev_3"><a id="GUID-0380F9BE-8C59-447D-A9D4-A7AF14869F12" name="GUID-0380F9BE-8C59-447D-A9D4-A7AF14869F12"></a><h4 id="JSTGD-GUID-0380F9BE-8C59-447D-A9D4-A7AF14869F12" class="sect4">在Oracle Solaris上收集核心转储</h4>
                  <div>
                     <p>在Oracle Solaris操作系统中，未处理的信号（例如，段违规，非法指令等）会导致核心转储。</p>
                     <div class="section">
                        <p>默认情况下，核心转储在进程的当前工作目录中创建，核心转储文件的名称为<code class="codeph">core</code> 。用户可以使用核心文件管理实用程序配置核心转储的位置和名称， <code class="codeph">coreadm</code> 。该过程在手册页中有详细介绍。 <code class="codeph">coreadm</code>效用。
                        </p>
                        <p>的<code class="codeph">ulimit</code>实用程序用于获取或设置对当前Shell及其后代可用的系统资源的限制。使用<code class="codeph">ulimit -c</code>命令以检查或设置核心文件大小限制。确保将限制设置为<code class="codeph">unlimited</code> ;否则，核心文件可能会被截断。
                        </p>
                        <div class="infoboxnote" id="GUID-0380F9BE-8C59-447D-A9D4-A7AF14869F12__GUID-4CD99F89-2760-4657-A7C5-C00C3040ECBD">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">ulimit</code>是Bash shell内置命令；在C Shell上，使用<code class="codeph">limit</code>命令。
                           </p>
                        </div>
                        <p>确保用于启动VM或应用程序的所有脚本都不会禁用核心转储的创建。</p>
                        <p>的<code class="codeph">gcore</code>实用程序可用于获取正在运行的进程的核心映像。该实用程序接受您要为其强制进行核心转储的进程的进程ID（pid）。
                        </p>
                        <p>要获取在计算机上运行的Java进程的列表，可以使用以下任何命令：</p>
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li class="stepexpand"><span><code class="codeph">ps -ef | grep java</code></span></li>
                        <li class="stepexpand"><span><code class="codeph">pgrep java</code></span></li>
                        <li class="stepexpand"><span><code class="codeph">jps</code></span><div>
                              <div class="infoboxnote" id="GUID-0380F9BE-8C59-447D-A9D4-A7AF14869F12__GUID-CCE63C7F-2AB5-45D1-88D7-BB4A8AB8C44A">
                                 <p class="notep1">注意：</p>
                                 <p>的<code class="codeph">jps</code>命令行实用程序不执行名称匹配（即在进程命令名称中查找“ java”），因此它可以列出Java VM嵌入式进程以及Java进程。
                                 </p>
                              </div>
                           </div>
                        </li>
                     </ul>
                     <div class="section">
                        <p>以下是在Oracle Solaris上收集核心转储的两种方法。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">Oracle Solaris上的ShowMessageBoxOnError选项：</span></p>
                              <p>可以使用<code>-XX:+ShowMessageBoxOnError</code>命令行选项。当发生致命错误时，该过程将消息打印为标准错误，并等待<code class="codeph">yes</code>要么<code class="codeph">no</code>来自标准输入的响应。以下示例显示了发生意外信号时的输出。
                              </p><pre class="pre codeblock"><code>=======================================================================
Unexpected Error
-----------------------------------------------------------------------
SIGSEGV (0xb) at pc=0xfeba31ac, pid=8677, tid=2
Do you want to debug the problem?
To debug, run 'dbx - 8677'; then switch to thread 2
Enter 'yes' to launch dbx automatically (PATH must include dbx)
Otherwise, press RETURN to abort...
=======================================================================
</code></pre><p>在回答之前<code class="codeph">yes</code>或按回车键（Enter），使用<code class="codeph">gcore</code>强制进行核心转储的实用程序。然后，您可以输入<code class="codeph">yes</code>启动<code class="codeph">dbx</code>调试器。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">使用truss实用程序挂起一个进程：</span></p>
                              <p>在无法指定<code>-XX:+ShowMessageBoxOnError</code>选项，您也许可以使用<code class="codeph">truss</code>效用。此Oracle Solaris操作系统实用程序用于跟踪系统调用和信号。您可以使用此实用程序在进程到达特定功能或系统调用时挂起该进程。
                              </p>
                              <p>以下示例中的命令显示了如何使用<code class="codeph">truss</code>实用程序在<code class="codeph">exit</code>系统调用已执行（换句话说，该过程即将退出）。
                              </p><pre class="pre codeblock"><code>$ truss -t \!all -s \!all -T exit -p pid
</code></pre><p>流程调用时<code class="codeph">exit</code> ，它将被暂停。此时，您可以将调试器附加到进程或调用<code class="codeph">gcore</code>强制进行核心转储。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSTGD535"></a><div class="props_rev_3"><a id="GUID-873840DE-3EC9-4DDA-9760-558158788EA8" name="GUID-873840DE-3EC9-4DDA-9760-558158788EA8"></a><h4 id="JSTGD-GUID-873840DE-3EC9-4DDA-9760-558158788EA8" class="sect4">在Linux上收集核心转储</h4>
                  <div>
                     <p>在Linux操作系统上，未处理的信号（例如，分段违规，非法指令等）会导致核心转储。</p>
                     <div class="section">
                        <p>默认情况下，核心转储在进程的当前工作目录中创建，核心转储文件的名称为<code class="codeph">core.<span class="variable" translate="no">pid</span></code> ，在哪里<code class="codeph"><span class="variable" translate="no">pid</span></code>是崩溃的Java进程的进程ID。
                        </p>
                        <p>的<code class="codeph">ulimit</code>实用程序用于获取或设置对当前Shell及其后代可用的系统资源的限制。使用<code class="codeph">ulimit -c</code>命令以检查或设置核心文件大小限制。确保将限制设置为<code class="codeph">unlimited</code> ;否则，核心文件可能会被截断。
                        </p>
                        <div class="infoboxnote" id="GUID-873840DE-3EC9-4DDA-9760-558158788EA8__GUID-EC8D7171-31A5-468D-BF5F-1A7028C9703F">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">ulimit</code>是Bash shell内置命令；在C Shell上，使用<code class="codeph">limit</code>命令。
                           </p>
                        </div>
                        <p>确保用于启动VM或应用程序的所有脚本都不会禁用核心转储的创建。</p>
                        <p>您可以使用<code class="codeph">gcore</code>在命令<code class="codeph">gdb</code> （GNU调试器）接口来获取正在运行的进程的核心映像。该实用程序接受<code class="codeph">pid</code>您要强制执行核心转储的过程。
                        </p>
                        <p>要获取在计算机上运行的Java进程的列表，可以使用以下任何命令：</p>
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li class="stepexpand"><span><code class="codeph">ps -ef | grep java</code></span></li>
                        <li class="stepexpand"><span><code class="codeph">pgrep java</code></span></li>
                        <li class="stepexpand"><span><code class="codeph">jps</code></span><div>
                              <div class="infoboxnote" id="GUID-873840DE-3EC9-4DDA-9760-558158788EA8__GUID-5F12862B-C65C-4011-AD6D-4D3504BEDEB8">
                                 <p class="notep1">注意：</p>
                                 <p>的<code class="codeph">jps</code>命令行实用程序不执行名称匹配（即在进程命令名称中查找“ java”），因此它可以列出Java VM嵌入式进程以及Java进程。
                                 </p>
                              </div>
                           </div>
                        </li>
                     </ul>
                     <div class="section">以下是在Linux上收集核心转储的一种选择。
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">Linux中的ShowMessageBoxOnError选项：</span></p>
                              <p>可以使用<code>-XX:+ShowMessageBoxOnError</code>命令行选项。当发生致命错误时，该过程将消息打印为标准错误，并等待<code class="codeph">yes</code>要么<code class="codeph">no</code>来自标准输入的响应。以下示例显示了发生意外信号时的输出。
                              </p><pre class="pre codeblock"><code>=======================================================================
Unexpected Error
-----------------------------------------------------------------------
SIGSEGV (0xb) at pc=0x06232e5f, pid=11185, tid=8194
Do you want to debug the problem?
To debug, run 'gdb /proc/11185/exe 11185'; then switch to thread 8194
Enter 'yes' to launch gdb automatically (PATH must include gdb)
Otherwise, press RETURN to abort...
=======================================================================
</code></pre><p>输入<code class="codeph">yes</code>启动<code class="codeph">gdb</code> （GNU Debugger）界面，如显示的错误报告所建议。在里面<code class="codeph">gdb</code>提示，您可以给<code class="codeph">gcore</code>命令。此命令使用名称core创建调试进程的core dump。 <code class="codeph"><span class="variable" translate="no">pid</span></code> ，在哪里<code class="codeph"><span class="variable" translate="no">pid</span></code>是崩溃进程的进程ID。确保<code class="codeph">gdb gcore</code>您的版本支持该命令<code class="codeph">gdb</code> 。寻找<code class="codeph">help gcore</code>在里面<code class="codeph">gdb</code>命令提示符。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSTGD537"></a><div class="props_rev_3"><a id="GUID-5A2C0733-60A2-48FE-80BA-A062BE5562DC" name="GUID-5A2C0733-60A2-48FE-80BA-A062BE5562DC"></a><h4 id="JSTGD-GUID-5A2C0733-60A2-48FE-80BA-A062BE5562DC" class="sect4">无法获取核心文件的原因</h4>
                  <div>
                     <p>可能无法生成核心文件的原因列表。</p>
                     <p>除非另有说明，否则此列表同时适用于Oracle Solaris和Linux操作系统。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>用户无权在进程的当前工作目录中写入。</p>
                        </li>
                        <li>
                           <p>用户对当前工作目录具有写许可权，但是已经有一个名为<code class="codeph">core</code>具有只读权限。
                           </p>
                        </li>
                        <li>
                           <p>当前目录没有足够的空间，或者没有剩余的空间。</p>
                        </li>
                        <li>
                           <p>当前目录有一个名为<code class="codeph">core</code> 。
                           </p>
                        </li>
                        <li>
                           <p>当前工作目录是远程的。它可能由网络文件系统（NFS）映射，并且在要创建核心转储时NFS失败。</p>
                        </li>
                        <li>
                           <p>仅限Oracle Solaris操作系统： <code class="codeph">coreadm</code>该工具已用于配置核心文件的目录和名称，但是前面的一个或多个原因适用于配置的目录。
                           </p>
                        </li>
                        <li>
                           <p>核心文件大小限制太低。使用来检查您的核心文件大小限制<code class="codeph">ulimit -c</code>命令（重击外壳）或<code class="codeph">limit -c</code>命令（C Shell）。如果此命令的输出不是无限的，则核心转储文件的大小可能不够大。如果是这种情况，那么您将获得截断的核心转储或根本没有核心转储。此外，请确保用于启动VM或应用程序的所有脚本都不会禁用核心转储的创建。
                           </p>
                        </li>
                        <li>
                           <p>该进程正在运行<code class="codeph">setuid</code>程序，因此除非明确配置，否则操作系统不会转储内核。
                           </p>
                        </li>
                        <li>
                           <p>特定于Java：如果收到进程<code class="codeph">SIGSEGV</code>要么<code class="codeph">SIGILL</code>但没有核心转储，则该进程可能会处理它。例如，HotSpot VM使用<code class="codeph">SIGSEGV</code>用于合法目的的信号，例如抛出<code class="codeph">NullPointerException</code> ，取消优化等。仅当当前指令（PC）落在Java VM生成的代码之外时，Java VM才会处理该信号。这些是HotSpot转储内核的唯一情况。
                           </p>
                        </li>
                        <li>
                           <p>特定于Java的：使用JNI Invocation API创建VM。未使用标准的Java启动器。定制的Java启动器程序通过使用信号来处理信号，并以静默方式生成日志条目。某些应用程序服务器和Web服务器已发生这种情况。这些Java VM嵌入程序会在异常终止后透明地尝试重新启动（故障转移）系统。在这种情况下，不生成核心转储的事实是功能而不是错误。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="JSTGD538"></a><div class="props_rev_3"><a id="GUID-F7841268-D783-4E3D-9BB3-3EB50CD186BE" name="GUID-F7841268-D783-4E3D-9BB3-3EB50CD186BE"></a><h4 id="JSTGD-GUID-F7841268-D783-4E3D-9BB3-3EB50CD186BE" class="sect4">在Windows上收集故障转储</h4>
                  <div>
                     <p>在Windows操作系统中，有三种故障转储类型：Dr.Watson日志文件，用户小型转储和Dr.Watson完整转储。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Dr. Watson日志文件，这是一个文本错误日志文件，其中包括错误的堆栈跟踪和其他一些详细信息。</p>
                           </li>
                           <li>
                              <p>用户小型转储，被视为部分核心转储。它不是完整的核心转储，因为它不包含该进程的所有有用内存页。</p>
                           </li>
                           <li>
                              <p>Watson博士完全转储，等效于UNIX核心转储。此转储包含该进程的大多数内存页（代码页除外）。</p>
                           </li>
                        </ul>
                        <p>当Windows上发生意外异常时，所采取的措施取决于以下注册表项中的两个值：</p><pre class="pre codeblock"><code>\\HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\AeDebug
</code></pre><p>这两个值分别命名<code class="codeph">Debugger</code>和<code class="codeph">Auto</code> 。的<code class="codeph">Auto</code> value指示调试器是否在<code class="codeph">Debugger</code>发生应用程序错误时，该条目将自动开始。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>值<code class="codeph">0</code>对于<code class="codeph">Auto</code>表示系统在出现应用程序错误时显示一个消息框，通知用户。
                              </p>
                           </li>
                           <li>
                              <p>值<code class="codeph">1</code>对于<code class="codeph">Auto</code>表示调试器将自动启动。
                              </p>
                           </li>
                        </ul>
                        <p>的价值<code class="codeph">Debugger</code>是用于调试程序错误的调试器命令。
                        </p>
                        <p>发生程序错误时，Windows会检查<code class="codeph">Auto</code>值，如果值是<code class="codeph">0</code>然后在<code class="codeph">Debugger</code>值。如果值为<code class="codeph">Debugger</code>是一个有效命令，然后使用两个按钮创建一个消息框： <span class="bold">OK</span>和<span class="bold">Cancel</span> 。如果用户单击<span class="bold">OK</span> ，则程序终止。如果用户单击“ <span class="bold">取消”</span> ，则将启动指定的调试器。如果值为<code class="codeph">Auto</code>条目设置为<code class="codeph">1</code>和的价值<code class="codeph">Debugger</code>条目指定有效调试器的命令，然后系统自动启动调试器，并且不生成消息框。
                        </p>
                        <p>以下是在Windows上收集故障转储的两种方法。</p>
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li class="stepexpand"><span><span class="bold">配置Dr.Watson：</span></span><div>
                              <p>Watson博士调试器用于创建故障转储文件。默认情况下，Dr。Watson调试器（ <code class="codeph">drwtsn32.exe</code> ）安装在Windows系统文件夹（ <code class="codeph"><span class="variable" translate="no">%SystemRoot%</span>\System32</code> ）。
                              </p>
                              <p>要安装Dr. Watson作为事后调试器，请运行以下命令：</p><pre class="pre codeblock"><code>drwtsn32 -i
</code></pre><p>要配置故障转储文件的名称和位置，请运行<code class="codeph">drwtsn32</code>没有任何选择。
                              </p>
                              <p>在Dr.Watson GUI窗口中，确保选中“ <span class="bold">创建故障转储文件”</span>复选框，并确保在其各自的文本字段中配置了故障转储文件路径和日志文件路径。
                              </p>
                              <p>Watson博士可以配置为使用注册表创建完整转储。下例显示了注册表项。</p><pre class="pre codeblock"><code>System Key: [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\DrWatson]
Entry Name: CreateCrashDump
Value: (0 = disabled, 1 = enabled)
</code></pre><div class="p">
                                 <div class="infoboxnote" id="GUID-F7841268-D783-4E3D-9BB3-3EB50CD186BE__GUID-D6700F2A-7F1A-4FA1-AA7E-C489FB89F75F">
                                    <p class="notep1">注意：</p>如果应用程序处理了该异常，则不会调用注册表配置的调试器。在这种情况下，使用<code>-XX:+ShowMessageBoxOnError</code>命令行选项，以强制进程在致命错误情况下等待用户干预。
                                 </div> 
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span><span class="bold">强制崩溃转储：</span></span><div>
                              <p>在Windows操作系统上， <code class="codeph">userdump</code>命令行实用程序可用于强制Dr.Watson转储正在运行的进程。的<code class="codeph">userdump</code> Windows不附带该实用程序。它作为OEM支持工具包的组件发布。
                              </p>
                              <p>强制崩溃转储的另一种方法是使用<code class="codeph">windbg</code>调试器。使用的主要优点<code class="codeph">windbg</code>它可以以非侵入方式（即只读）附加到流程。通常，Windows在获得故障转储后会终止进程，但是使用非侵入式附加，则有可能获得故障转储并使进程继续。要附加调试器复选框，需要选择“ <span class="bold">附加到进程”</span>选项和“ <span class="bold">非侵入性”</span>复选框。
                              </p>
                              <p>连接调试器后，可以使用以下示例中显示的命令获取故障转储。</p>
                              <p></p><pre class="pre codeblock"><code>.dump /f crash.dmp
</code></pre><p>的<code class="codeph">windbg</code> Windows的调试工具下载中包含了调试器。
                              </p>
                              <p>此下载中的另一个实用程序是<code class="codeph">dumpchk.exe</code>实用程序，可以验证是否正确创建了内存转储文件。
                              </p>
                              <p>都<code class="codeph">userdump.exe</code>和<code class="codeph">windbg</code>要求<code class="codeph">pid</code>的过程。的<code class="codeph">userdump -p</code>命令列出了所有进程的进程和程序。如果您知道应用程序以<code class="codeph">java.exe</code>发射器。但是，如果使用自定义启动器（嵌入式VM），则可能很难识别该过程。在这种情况下，您可以使用<code class="codeph">jps</code>命令行实用程序，因为它仅列出Java进程的PIDS。
                              </p>
                              <p>与Oracle Solaris和Linux操作系统一样，您也可以使用<code>-XX:+ShowMessageBoxOnError</code> Windows上的命令行选项。发生致命错误时，该过程将显示一个消息框并等待<code class="codeph">yes</code>要么<code class="codeph">no</code>用户的回应。
                              </p>
                              <p>在点击<span class="bold">是</span>或<span class="bold">否</span>之前，您可以使用<code class="codeph">userdump.exe</code>实用程序为Java进程生成Dr.Watson转储。如果进程似乎挂起，也可以使用此实用程序。
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   

</body></html>