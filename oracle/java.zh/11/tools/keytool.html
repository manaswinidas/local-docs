<html lang="en-us"  xml:lang="en-us"><head></head><body >﻿
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You use the keytool command and options to manage a keystore (database) of cryptographic keys, X.509 certificate chains, and trusted certificates.">
      <meta name="description" content="You use the keytool command and options to manage a keystore (database) of cryptographic keys, X.509 certificate chains, and trusted certificates.">
      <title>关键工具</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Tools Reference">
      <meta property="og:description" content="You use the keytool command and options to manage a keystore (database) of cryptographic keys, X.509 certificate chains, and trusted certificates.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Tools Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="tools-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T10:03:46-07:00">
      <meta name="dcterms.title" content="Tools Reference">
      <meta name="dcterms.dateCopyrighted" content="1993, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E95074-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="security-tools-and-commands.html" title="Previous" type="text/html">
      <link rel="next" href="jarsigner.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TOOLS">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script>
   
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="security-tools-and-commands.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一个</a> <a href="jarsigner.html" class="pull-right">下一个<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">工具参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="security-tools-and-commands.html" property="item" typeof="WebPage"><span property="name">安全工具和命令</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">关键工具</li>
            </ol>
            <a id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549" name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549"></a>
            
            <h2 id="JSWOR-GUID-5990A2E4-78E3-47B7-AE75-6D1826259549" class="sect2">关键工具</h2>
         </header>
         <div class="ind">
            <div>
               <p><span>您使用<code class="codeph">keytool</code>命令和选项来管理加密密钥，X.509证书链和受信任证书的密钥库（数据库）。</span></p>
               <div class="section">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-42A53EA2-46D1-4913-A0DF-197FDF755C6C">概要</p><pre class="pre codeblock"><code>keytool [-<span class="variable" translate="no">commands</span>]</code></pre><dl>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-B118C546-1800-4C12-B9B6-A67EE0787EA5">
                           <!-- --></a><code class="codeph"><span class="variable" translate="no">commands</span></code></dt>
                     <dd>
                        <p>命令<code class="codeph">keytool</code>包括以下这些：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p> <code class="codeph">-certreq</code> ：生成证书请求</p>
                           </li>
                           <li>
                              <p><code class="codeph">-changealias</code> ：更改条目的别名</p>
                           </li>
                           <li>
                              <p><code class="codeph">-delete</code> ：删除条目</p>
                           </li>
                           <li>
                              <p><code class="codeph">-exportcert</code> ：出口证书</p>
                           </li>
                           <li>
                              <p><code class="codeph">-genkeypair</code> ：生成密钥对</p>
                           </li>
                           <li>
                              <p><code class="codeph">-genseckey</code> ：生成一个密钥</p>
                           </li>
                           <li>
                              <p><code class="codeph">-gencert</code> ：从证书请求生成证书</p>
                           </li>
                           <li>
                              <p><code class="codeph">-importcert</code> ：导入证书或证书链</p>
                           </li>
                           <li>
                              <p><code class="codeph">-importpass</code> ：导入密码</p>
                           </li>
                           <li>
                              <p><code class="codeph">-importkeystore</code> ：从另一个密钥库导入一个或所有条目</p>
                           </li>
                           <li>
                              <p><code class="codeph">-keypasswd</code> ：更改条目的密钥密码</p>
                           </li>
                           <li>
                              <p><code class="codeph">-list</code> ：列出密钥库中的条目</p>
                           </li>
                           <li>
                              <p><code class="codeph">-printcert</code> ：打印证书的内容</p>
                           </li>
                           <li>
                              <p><code class="codeph">-printcertreq</code> ：打印证书申请的内容</p>
                           </li>
                           <li>
                              <p><code class="codeph">-printcrl</code> ：打印证书吊销列表（CRL）文件的内容</p>
                           </li>
                           <li>
                              <p><code class="codeph">-storepasswd</code> ：更改密钥库的商店密码</p>
                           </li>
                        </ul>
                        <p>有关这些命令及其选项的说明，请参见<a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDFFCBG">命令和选项</a> 。
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-22C3AF1F-53F9-4EA1-9C81-9270A1A8A928">描述</p>
                  <p>的<code class="codeph">keytool</code>命令是密钥和证书管理实用程序。它使用户能够通过使用数字签名来管理自己的公用/专用密钥对以及相关的证书，以用于自我认证（用户向其他用户和服务进行身份认证）或数据完整性和认证服务。的<code class="codeph">keytool</code>该命令还使用户能够缓存其通信对等方的公共密钥（以证书的形式）。
                  </p>
                  <p>证书是来自一个实体（个人，公司等）的经过数字签名的声明，该声明表示其他某个实体的公钥（和某些其他信息）具有特定的价值。对数据进行数字签名后，可以验证签名以检查数据的完整性和真实性。完整性表示未修改或篡改数据，而真实性则表示数据来自声称已创建并签名的个人。</p>
                  <p>的<code class="codeph">keytool</code>该命令还使用户能够管理对称加密和解密（数据加密标准）中使用的秘密密钥和密码短语。
                  </p>
                  <p>的<code class="codeph">keytool</code>命令将密钥和证书存储在密钥库中。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-EBE45120-56A8-45BF-8DF8-18FF713CD52F">命令和选项说明</p>
                  <p>以下注释适用于“ <a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDFFCBG">命令和选项”中</a>的描述：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>所有命令和选项名称前都带有连字符（-）。</p>
                     </li>
                     <li>
                        <p>每个命令的选项可以按任何顺序提供。</p>
                     </li>
                     <li>
                        <p>所有未斜体，括号（{}）或方括号（[]）的项目都必须原样显示。</p>
                     </li>
                     <li>
                        <p>选项周围的花括号表示未在命令行上指定选项时使用默认值。大括号也用于<code class="codeph">-v</code> ， <code class="codeph">-rfc</code>和<code class="codeph">-J</code>选项，仅当它们出现在命令行上时才有意义。它们没有任何默认值。
                        </p>
                     </li>
                     <li>
                        <p>选项周围的方括号表示未在命令行上指定选项时提示用户输入值。为了<code class="codeph">-keypass</code>选项，如果您未在命令行上指定该选项，则<code class="codeph">keytool</code>命令首先尝试使用密钥库密码来恢复私钥/秘密密钥。如果此尝试失败，则<code class="codeph">keytool</code>命令提示您输入私钥/秘钥密码。
                        </p>
                     </li>
                     <li>
                        <p>斜体项目（选项值）代表必须提供的实际值。例如，这是<code class="codeph">-printcert</code>命令：</p><pre class="pre codeblock"><code>keytool -printcert {-file <span class="variable" translate="no">cert_file</span>} {-v}</code></pre><p>当您指定一个<code class="codeph">-printcert</code>命令，替换<code class="codeph"><span class="variable" translate="no">cert_file</span></code>带有实际文件名，如下所示：<code class="codeph">keytool -printcert -file VScert.cer</code></p>
                     </li>
                     <li>
                        <p>如果选项值包含空格（空格），则必须用引号引起来。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDFFCBG">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-B2E9DD23-8F42-4EB0-9F9D-901975164BD6">命令和选项</p>
                  <p>keytool命令及其选项可以按其执行的任务进行分组。</p>
                  <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CREATEORADDDATATOTHEKEYSTORE-507D49D2">用于将数据创建或添加到密钥库的命令</a> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">-gencert</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">-genkeypair</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">-genseckey</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">-importcert</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">-importpass</code></p>
                     </li>
                  </ul>
                  <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__IMPORTCONTENTSFROMANOTHERKEYSTORE-507D4101">从另一个密钥库导入内容的命令</a> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">-importkeystore</code></p>
                     </li>
                  </ul>
                  <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GENERATECERTIFICATEREQUEST-507D39B8">生成证书请求的命令</a> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">-certreq</code></p>
                     </li>
                  </ul>
                  <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXPORTDATA-507D3175">导出数据的命令</a> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">-exportcert</code></p>
                     </li>
                  </ul>
                  <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__DISPLAYDATA-507D2B01">显示数据的命令</a> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">-list</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">-printcert</code></p>
                     </li>
                     <li>
                        <p> <code class="codeph">-printcertreq</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">-printcrl</code></p>
                     </li>
                  </ul>
                  <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__MANAGETHEKEYSTORE-507D231A">管理密钥库的命令</a> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">-storepasswd</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">-keypasswd</code></p>
                     </li>
                     <li>
                        <p> <code class="codeph">-delete</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">-changealias</code></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CREATEORADDDATATOTHEKEYSTORE-507D49D2">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-67D251B4-31C2-4C5F-B7AF-845308AA319F">用于将数据创建或添加到密钥库的命令</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__KEYTOOL_OPTION_GENCERT">
                           <!-- --></a><code class="codeph">-gencert</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-gencert</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-rfc</code> }：以RFC（请求注释）样式输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-infile <span class="variable" translate="no">infile</span></code> }：输入文件名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-outfile <span class="variable" translate="no">outfile</span></code> }：输出文件名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-sigalg <span class="variable" translate="no">sigalg</span></code> }：签名算法名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-dname <span class="variable" translate="no">dname</span></code> }： 专有名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-startdate <span class="variable" translate="no">date</span></code> }：证书有效期的开始日期和时间</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-ext <span class="variable" translate="no">ext</span></code> } *：X.509扩展名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-validity <span class="variable" translate="no">days</span></code> }：有效天数</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-keypass <span class="variable" translate="no">arg</span></code> ]：密钥密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：按名称添加安全提供程序（例如SunPKCS11），并带有可选的configure参数。安全提供程序的值是模块中定义的安全提供程序的名称。
                              </p>
                              <p>例如，</p><pre class="pre codeblock"><code><code class="codeph">keytool -addprovider SunPKCS11 -providerarg <span class="variable" translate="no">some</span>.cfg ...</code>
</code></pre><div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-E273C5C1-BA40-4942-86D6-49DC094A4F06">
                                 <p class="notep1">注意：</p>
                                 <p>出于兼容性原因，SunPKCS11和OracleUcrypto提供程序仍可以加载<code class="codeph">-providerclass sun.security.pkcs11.SunPKCS11</code>和<code class="codeph">-providerclass com.oracle.security.crypto.UcryptoProvider</code>即使它们现在已在模块中定义。这些是JDK中包含的唯一需要配置的模块，因此是使用最广泛的模块。 <code class="codeph">-providerclass</code>选项。对于位于类路径上并通过反射加载的旧版安全提供程序， <code class="codeph">-providerclass</code>应该仍然使用。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名和可选的configure参数添加安全提供程序。
                              </p>
                              <p>例如，如果<code class="codeph"><span class="variable" translate="no">MyProvider</span></code>是通过反射加载的旧版提供程序，</p><pre class="pre codeblock"><code>keytool -providerclass com.<span class="variable" translate="no">example</span>.<span class="variable" translate="no">MyProvider</span> ...</code></pre></li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：通过受保护机制提供的密码</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-gencert</code>命令以生成证书作为对证书请求文件的响应（可以由证书创建文件创建） <code class="codeph">keytool</code><code class="codeph">-certreq</code>命令）。该命令从中读取请求<code class="codeph"><span class="variable" translate="no">infile</span></code>或者，如果从标准输入中省略，则使用别名的私钥对其进行签名，然后将X.509证书输出到<code class="codeph"><span class="variable" translate="no">outfile</span></code>或（如果省略）到标准输出。什么时候<code class="codeph">-rfc</code>指定后，输出格式为Base64编码的PEM；否则，将创建二进制DER。
                        </p>
                        <p>的<code class="codeph">-sigalg</code>值指定应用于对证书进行签名的算法。的<code class="codeph">startdate</code>参数是证书有效的开始时间和日期。的<code class="codeph">valDays</code>参数表明应将证书视为有效的天数。
                        </p>
                        <p>什么时候<code class="codeph"><span class="variable" translate="no">dname</span></code>提供，它用作生成的证书的主题。否则，将使用证书请求中的一个。
                        </p>
                        <p>的<code class="codeph"><span class="variable" translate="no">ext</span></code>值显示将在证书中嵌入哪些X.509扩展名。阅读<a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__COMMONCOMMANDOPTIONS-659BA5D7">通用命令选项，</a>了解以下语法<code class="codeph">-ext</code> 。
                        </p>
                        <p>的<code class="codeph">-gencert</code>选项使您可以创建证书链。以下示例创建一个证书， <code class="codeph">e1</code> ，在其证书链中包含三个证书。
                        </p>
                        <p>以下命令创建四个名为<code class="codeph">ca</code> ， <code class="codeph">ca1</code> ， <code class="codeph">ca2</code>和<code class="codeph">e1</code> ：</p><pre class="pre codeblock"><code>keytool -alias ca -dname CN=CA -genkeypair
keytool -alias ca1 -dname CN=CA -genkeypair
keytool -alias ca2 -dname CN=CA -genkeypair
keytool -alias e1 -dname CN=E1 -genkeypair
</code></pre><p>以下两个命令创建签名证书链： <code class="codeph">ca</code>迹象<code class="codeph">ca1</code>和<code class="codeph">ca1</code>迹象<code class="codeph">ca2</code> ，所有这些都是自行发布的：</p><pre class="pre codeblock"><code>
keytool -alias ca1 -certreq |
    keytool -alias ca -gencert -ext san=dns:ca1 |
    keytool -alias ca1 -importcert

keytool -alias ca2 -certreq |
    keytool -alias ca1 -gencert -ext san=dns:ca2 |
    keytool -alias ca2 -importcert

</code></pre><p>以下命令创建证书<code class="codeph">e1</code>并将其存储在<code class="codeph">e1.cert</code>文件，由...签名<code class="codeph">ca2</code> 。结果是， <code class="codeph">e1</code>应该包含<code class="codeph">ca</code> ， <code class="codeph">ca1</code>和<code class="codeph">ca2</code>在其证书链中：</p><pre class="pre codeblock"><code>keytool -alias e1 -certreq | keytool -alias ca2 -gencert &gt; e1.cert
</code></pre></dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__KEYTOOL_OPTION_GENKEYPAIR">
                           <!-- --></a><code class="codeph">-genkeypair</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-genkeypair</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keyalg <span class="variable" translate="no">alg</span></code> }：关键算法名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keysize <span class="variable" translate="no">size</span></code> }：密钥位大小</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-sigalg <span class="variable" translate="no">alg</span></code> }：签名算法名称</p>
                           </li>
                           <li>
                              <p><code class="codeph">-destalias <span class="variable" translate="no">alias</span></code> ：目标别名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-dname <span class="variable" translate="no">name</span></code> ]： 专有名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-startdate <span class="variable" translate="no">date</span></code> }：证书有效期的开始日期和时间</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-ext <span class="variable" translate="no">value</span></code> } *：X.509扩展名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-validity <span class="variable" translate="no">days</span></code> }：有效天数</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-keypass <span class="variable" translate="no">arg</span></code> ]：密钥密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]：通过带有可选的configure参数的完全合格的类名添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：通过受保护机制提供的密码</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-genkeypair</code>命令生成密钥对（公共密钥和关联的私有密钥）。将公钥包装在X.509 v3自签名证书中，该证书存储为单元素证书链。该证书链和私钥存储在一个新的密钥库条目中，该条目由其别名标识。
                        </p>
                        <p>的<code class="codeph">-keyalg</code>值指定用于生成密钥对的算法，并且<code class="codeph">-keysize</code>值指定要生成的每个密钥的大小。的<code class="codeph">-sigalg</code>值指定用于对自签名证书进行签名的算法。此算法必须与<code class="codeph">-keyalg</code>值。
                        </p>
                        <p>的<code class="codeph">-dname</code>值指定要与的值相关联的X.500专有名称<code class="codeph">-alias</code> ，并且用作自签名证书中的颁发者和主题字段。如果在命令行中未提供专有名称，则会提示用户输入一个。
                        </p>
                        <p>的价值<code class="codeph">-keypass</code>是用于保护生成的密钥对的私钥的密码。如果未提供密码，则会提示用户输入密码。如果在提示符下按<span class="bold">Enter</span>键，则密钥密码将设置为与密钥库密码相同的密码。的<code class="codeph">-keypass</code>值必须至少包含六个字符。
                        </p>
                        <p>的价值<code class="codeph">-startdate</code>指定证书的颁发时间，也称为X.509证书的“有效性”字段的“不早于”值。
                        </p>
                        <p>可以用以下两种形式之一设置选项值：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">([+-]<span class="variable" translate="no">nnn</span>[<span class="variable" translate="no">ymdHMS</span>])+</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">[<span class="variable" translate="no">yyyy/mm/dd</span>] [<span class="variable" translate="no">HH:MM:SS</span>]</code></p>
                           </li>
                        </ul>
                        <p>对于第一种形式，发布时间从当前时间开始偏移指定值。该值是一系列子值的串联。在每个子值内，加号（+）表示向前移动，而减号（-）表示向后移动。转移的时间是<code class="codeph"><span class="variable" translate="no">nnn</span></code>年，月，日，小时，分钟或秒的单位（由的单个字符表示<code class="codeph"><span class="variable" translate="no">y</span></code> ， <code class="codeph"><span class="variable" translate="no">m</span></code> ， <code class="codeph"><span class="variable" translate="no">d</span></code> ， <code class="codeph"><span class="variable" translate="no">H</span></code> ， <code class="codeph"><span class="variable" translate="no">M</span></code> ， 要么<code class="codeph"><span class="variable" translate="no">S</span></code>分别）。发行时间的确切值是通过使用<code class="codeph">java.util.GregorianCalendar.add(int field, int amount)</code>从左到右在每个子值上的方法。例如，发布时间可以通过以下方式指定：</p><pre class="pre codeblock"><code>Calendar c = new GregorianCalendar();
c.add(Calendar.YEAR, -1);
c.add(Calendar.MONTH, 1);
c.add(Calendar.DATE, -1);
return c.getTime()
</code></pre><p>使用第二种形式，用户可以按两部分设置确切的发布时间，年/月/日和小时：分钟：秒（使用本地时区）。用户只能提供一个部分，这意味着另一部分与当前日期（或时间）相同。用户必须提供格式定义中显示的确切位数（较短时用0填充）。同时提供日期和时间时，两个部分之间只有一个（只有一个）空格字符。应始终以24小时格式提供小时。</p>
                        <p>如果未提供该选项，则开始日期为当前时间。该选项只能提供一次。</p>
                        <p>的价值<code class="codeph"><span class="variable" translate="no">date</span></code>指定天数（从指定的日期开始<code class="codeph">-startdate</code> ，或当前日期<code class="codeph">-startdate</code> （未指定）证书应视为有效的证书。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__KEYTOOL_OPTION_GENSECKEY">
                           <!-- --></a><code class="codeph">-genseckey</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-genseckey</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-keypass <span class="variable" translate="no">arg</span></code> ]：密钥密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keyalg <span class="variable" translate="no">alg</span></code> }：关键算法名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keysize <span class="variable" translate="no">size</span></code> }：密钥位大小</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg arg</code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名和可选的configure参数添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：通过受保护机制提供的密码</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-genseckey</code>命令生成密钥并将其存储在新密钥中<code class="codeph">KeyStore.SecretKeyEntry</code>由...确定<code class="codeph">alias</code> 。
                        </p>
                        <p>的价值<code class="codeph">-keyalg</code>指定用于生成密钥的算法，并且的值<code class="codeph">-keysize</code>指定生成的密钥的大小。的<code class="codeph">-keypass</code> value是用于保护密钥的密码。如果未提供密码，则会提示用户输入密码。如果在提示符下按<span class="bold">Enter</span>键，则密钥密码将设置为与密码相同的密码。 <code class="codeph">-keystore</code> 。的<code class="codeph">-keypass</code>值必须至少包含六个字符。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__KEYTOOL_OPTION_IMPORTCERT">
                           <!-- --></a><code class="codeph" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__IMPORTCERT-8EC14583">-importcert</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-importcert</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-noprompt</code> }：不提示</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-trustcacerts</code> }：来自cacerts的信任证书</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：密码是通过受保护的机制提供的</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-file <span class="variable" translate="no">file</span></code> }：输入文件名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-keypass <span class="variable" translate="no">arg</span></code> ]：密钥密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-cacerts</code> }：访问cacerts密钥库</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg arg</code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名和可选的configure参数添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-importcert</code>从以下命令读取证书或证书链（其中，后者以PKCS＃7格式的答复或X.509证书序列提供） <code class="codeph">-file <span class="variable" translate="no">file</span></code> ，并将其存储在<code class="codeph">keystore</code>条目标识为<code class="codeph">-alias</code> 。如果<code class="codeph">-file <span class="variable" translate="no">file</span></code>未指定，则从中读取证书或证书链<code class="codeph">stdin</code> 。
                        </p>
                        <p>的<code class="codeph">keytool</code>命令可以导入X.509 v1，v2和v3证书，以及由该类型的证书组成的PKCS＃7格式的证书链。必须以Internet RFC 1421标准定义的二进制编码格式或可打印编码格式（也称为Base64编码）提供要导入的数据。在后一种情况下，编码必须在开头以一个以<code class="codeph">-</code><code class="codeph">----BEGIN</code> ，最后以一个以<code class="codeph">-----END</code> 。
                        </p>
                        <p>导入证书的原因有两个：将其添加到受信任证书列表中，以及导入从证书颁发机构（CA）收到的证书答复，作为向该CA提交证书签名请求（CSR）的结果。见<code class="codeph">-certreq</code> <a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GENERATECERTIFICATEREQUEST-507D39B8">用于生成证书请求的</a>命令中的<a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GENERATECERTIFICATEREQUEST-507D39B8">命令</a> 。</p>
                        <p>导入的类型由<code class="codeph">-alias</code>选项。如果别名未指向键条目，则<code class="codeph">keytool</code>该命令假定您要添加受信任的证书条目。在这种情况下，别名在密钥库中不应该存在。如果别名确实存在，则<code class="codeph">keytool</code>该命令输出错误，因为该别名已经存在受信任的证书，并且不会导入该证书。如果<code class="codeph">-alias</code>指向一个关键条目，然后<code class="codeph">keytool</code>该命令假定您正在导入证书答复。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__KEYTOOL_OPTION_IMPORTPASSWORD">
                           <!-- --></a><code class="codeph">-importpass</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-importpass</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-keypass <span class="variable" translate="no">arg</span></code> ]：密钥密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keyalg <span class="variable" translate="no">alg</span></code> }：关键算法名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keysize <span class="variable" translate="no">size</span></code> }：密钥位大小</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg arg</code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名和可选的configure参数添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：通过受保护机制提供的密码</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-importpass</code>导入密码短语并将其存储在新命令中的命令<code class="codeph">KeyStore.SecretKeyEntry</code>由...确定<code class="codeph">-alias</code> 。可以通过标准输入流提供密码。否则，提示用户输入。的<code class="codeph">-keypass</code>选项提供密码以保护导入的密码。如果未提供密码，则会提示用户输入密码。如果在提示符下按<span class="bold">Enter</span>键，则密钥密码将设置为与密码相同的密码。 <code class="codeph">keystore</code> 。的<code class="codeph">-keypass</code>值必须至少包含六个字符。
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__IMPORTCONTENTSFROMANOTHERKEYSTORE-507D4101">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-DB476837-AA5F-463D-911D-AC432651600C">从另一个密钥库导入内容的命令</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__IMPORTKEYSTORETHEFOLLOWINGARETHEAVA-5002B818">
                           <!-- --></a><code class="codeph">-importkeystore</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-importkeystore</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-srckeystore <span class="variable" translate="no">keystore</span></code> }：源密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-destkeystore <span class="variable" translate="no">keystore</span></code> }：目标密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-srcstoretype <span class="variable" translate="no">type</span></code> }：源密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-deststoretype <span class="variable" translate="no">type</span></code> }：目标密钥库类型</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-srcstorepass <span class="variable" translate="no">arg</span></code> ]：源密钥库密码</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-deststorepass <span class="variable" translate="no">arg</span></code> ]：目标密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-srcprotected</code>源密钥库密码受保护</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-destprotected</code> }：目标密钥库密码受保护</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-srcprovidername <span class="variable" translate="no">name</span></code> }：源密钥库提供程序名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-destprovidername <span class="variable" translate="no">name</span></code> }：目标密钥库提供程序名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-srcalias <span class="variable" translate="no">alias</span></code> }：源别名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-destalias <span class="variable" translate="no">alias</span></code> }：目标别名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-srckeypass <span class="variable" translate="no">arg</span></code> ]：源密钥密码</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-destkeypass <span class="variable" translate="no">arg</span></code> ]：目标密钥密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-noprompt</code> }：不提示</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]：按名称添加安全提供程序（例如SunPKCS11），并带有可选的configure参数。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名添加安全提供程序，并带有可选的configure参数</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__THISISTHEFIRSTLINEOFALLOPTIONS-SRCK-5002B5F0">
                           <p class="notep1">注意：</p>
                           <div class="p">这是所有选项的第一行：<pre class="pre codeblock"><code> -srckeystore <span class="variable" translate="no">keystore</span> -destkeystore <span class="variable" translate="no">keystore</span></code></pre></div>
                           <p>使用<code class="codeph">-importkeystore</code>命令将单个条目或所有条目从源密钥库导入到目标密钥库。
                           </p>
                        </div> 
                        <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__WHENUSINGTHEKEYTOOL-IMPORTKEYSTOREC-5002B67E">
                           <p class="notep1">注意：</p>
                           <p>如果不指定<code class="codeph">-destkeystore</code>使用时<code class="codeph">keytool -importkeystore</code>命令，则使用的默认密钥库为<code class="codeph">$HOME/.keystore</code> 。
                           </p>
                        </div>
                        <p>当。。。的时候<code class="codeph">-srcalias</code>提供选项时，该命令会将别名标识的单个条目导入到目标密钥库。如果未提供目标别名<code class="codeph">-destalias</code> ， 然后<code class="codeph">-srcalias</code>用作目标别名。如果源条目受密码保护，则<code class="codeph">-srckeypass</code>用于恢复条目。如果<code class="codeph">-srckeypass</code>没有提供，那么<code class="codeph">keytool</code>命令尝试使用<code class="codeph">-srcstorepass</code>恢复条目。如果<code class="codeph">-srcstorepass</code>未提供或不正确，则提示用户输入密码。目标条目受保护<code class="codeph">-destkeypass</code> 。如果<code class="codeph">-destkeypass</code>未提供，则目标条目受源条目密码保护。例如，大多数第三方工具要求<code class="codeph">storepass</code>和<code class="codeph">keypass</code>在PKCS＃12密钥库中是相同的。要为这些工具创建PKCS＃12密钥库，请始终指定一个<code class="codeph">-destkeypass</code>那和<code class="codeph">-deststorepass</code> 。
                        </p>
                        <p>如果<code class="codeph">-srcalias</code>选项未提供，那么源密钥库中的所有条目都将导入到目标密钥库中。每个目标条目都存储在源条目的别名下。如果源条目受密码保护，则<code class="codeph">-srcstorepass</code>用于恢复条目。如果<code class="codeph">-srcstorepass</code>未提供或不正确，则提示用户输入密码。如果目标密钥库中不支持源密钥库条目类型，或者在将条目存储到目标密钥库中时发生错误，则会提示用户跳过该条目并继续或退出。目标条目受源条目密码保护。
                        </p>
                        <p>如果目标别名存储库中已经存在目标别名，则系统将提示用户覆盖该条目或在其他别名下创建一个新条目。</p>
                        <p>如果<code class="codeph">-noprompt</code>提供选项，则不会提示用户输入新的目标别名。现有条目将被目标别名覆盖。将跳过无法导入的条目，并显示警告。
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GENERATECERTIFICATEREQUEST-507D39B8">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-CE5A97F0-3313-4836-9A82-6A3935317D75">生成证书请求的命令</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__KEYTOOL_OPTION_CERTREQ">
                           <!-- --></a><code class="codeph">-certreq</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-certreq</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-sigalg <span class="variable" translate="no">alg</span></code> }：签名算法名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-file <span class="variable" translate="no">file</span></code> }：输出文件名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-keypass <span class="variable" translate="no">arg</span></code> ]：密钥密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-dname <span class="variable" translate="no">name</span></code> }： 专有名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-ext <span class="variable" translate="no">value</span></code> }：X.509扩展名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名和可选的configure参数添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：通过受保护机制提供的密码</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-certreq</code>命令以使用PKCS＃10格式生成证书签名请求（CSR）。
                        </p>
                        <p>CSR旨在发送给CA。 CA对证书请求者进行身份验证（通常是脱机），并返回证书或证书链来替换密钥库中的现有证书链（最初是自签名证书）。</p>
                        <p>与之相关的私钥<code class="codeph"><span class="variable" translate="no">alias</span></code>用于创建PKCS＃10证书请求。要访问私钥，必须提供正确的密码。如果<code class="codeph">-keypass</code>没有在命令行中提供，并且与用于保护密钥库完整性的密码不同，那么系统会提示用户输入密码。如果<code class="codeph">-dname</code>提供，然后将其用作CSR中的主题。否则，将使用与别名关联的X.500专有名称。
                        </p>
                        <p>的<code class="codeph">-sigalg</code>值指定用于签名CSR的算法。</p>
                        <p>CSR存储在<code class="codeph">-file <span class="variable" translate="no">file</span></code> 。如果未指定文件，则将CSR输出到<code class="codeph">-stdout</code> 。
                        </p>
                        <p>使用<code class="codeph">-importcert</code>命令从CA导入响应。</p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXPORTDATA-507D3175">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-B6625075-40C4-47DD-AED0-FA291C090CC4">数据导出命令</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXPORTCERTTHEFOLLOWINGARETHEAVAILAB-5003D522">
                           <!-- --></a><code class="codeph">-exportcert</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-exportcert</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-rfc</code> }：以RFC样式输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-file <span class="variable" translate="no">file</span></code> }：输出文件名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-cacerts</code> }：访问cacerts密钥库</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]：通过带有可选的configure参数的完全合格的类名添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：通过受保护机制提供的密码</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-exportcert</code>命令从与以下内容关联的密钥库中读取证书<code class="codeph">-alias <span class="variable" translate="no">alias</span></code>并将其存储在<code class="codeph">cert_file</code>文件。未指定文件时，证书输出到<code class="codeph">stdout</code> 。
                        </p>
                        <p>默认情况下，证书以二进制编码输出。如果<code class="codeph">-rfc</code>指定选项，然后以<cite>Internet RFC 1421证书编码标准</cite>定义的可打印编码格式输出。
                        </p>
                        <p>如果<code class="codeph">-alias</code>引用受信任的证书，然后输出该证书。除此以外， <code class="codeph">-alias</code>指具有关联证书链的密钥条目。在这种情况下，将返回链中的第一个证书。该证书认证由以下地址访问的实体的公钥<code class="codeph">-alias</code> 。
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__DISPLAYDATA-507D2B01">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-E358732C-49C5-422E-B59F-4BDE62A9516C">显示数据的命令</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__LISTTHEFOLLOWINGARETHEAVAILABLEOPTI-50051189">
                           <!-- --></a><code class="codeph">-list</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-list</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-rfc</code> }：以RFC样式输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-cacerts</code> }：访问cacerts密钥库</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]：通过带有可选的configure参数的完全合格的类名添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：通过受保护机制提供的密码</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-list</code>命令以打印由标识的密钥库条目的内容<code class="codeph">-alias</code>至<code class="codeph">stdout</code> 。如果<code class="codeph">-alias <span class="variable" translate="no">alias</span></code>如果未指定，则将打印整个密钥库的内容。
                        </p>
                        <p>默认情况下，此命令将打印证书的SHA-256指纹。如果<code class="codeph">-v</code>指定选项，然后以易于阅读的格式打印证书，并附带所有者，发行者，序列号和任何扩展名等其他信息。如果<code class="codeph">-rfc</code>指定选项，然后使用<cite>Internet RFC 1421证书编码标准</cite>定义的可打印编码格式打印证书内容。
                        </p>
                        <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__YOUCANTSPECIFYBOTH-VAND-RFC.-50050F38">
                           <p class="notep1">注意：</p>
                           <p>您不能同时指定<code class="codeph">-v</code>和<code class="codeph">-rfc</code>在同一命令中。否则，将报告错误。
                           </p>
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__PRINTCERTTHEFOLLOWINGARETHEAVAILABL-500511B8">
                           <!-- --></a><code class="codeph">-printcert</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-printcert</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-rfc</code> }：以RFC样式输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-file <span class="variable" translate="no">cert_file</span></code> }：输入文件名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-sslserver <span class="variable" translate="no">server</span>[<span class="variable" translate="no">:port</span>]</code> }：安全套接字层（SSL）服务器主机和端口</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-jarfile <span class="variable" translate="no">JAR_file</span></code> }： 签<code class="codeph">.jar</code>文件</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-printcert</code>从中读取和打印证书的命令<code class="codeph">-file <span class="variable" translate="no">cert_file</span></code> ，位于SSL服务器<code class="codeph">-sslserver <span class="variable" translate="no">server</span>[<span class="variable" translate="no">:port</span>]</code> ，或由指定的签名的JAR文件<code class="codeph">-jarfile <span class="variable" translate="no">JAR_file</span></code> 。它以人类可读的格式打印其内容。如果未指定端口，则使用标准的HTTPS端口443。
                        </p>
                        <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-E195C77E-02F5-461C-91F2-475629FA2BA1">
                           <p class="notep1">注意：</p>
                           <p>的<code class="codeph">-sslserver</code>和<code class="codeph">-file</code>选项不能在同一命令中提供。否则，将报告错误。如果您未指定任何选项，则从以下位置读取证书<code class="codeph">stdin</code> 。
                           </p>
                        </div>
                        <p>什么时候<code class="codeph">-rfc</code>指定， <code class="codeph">keytool</code>命令以<cite>Internet RFC 1421证书编码</cite>标准定义的PEM模式打印证书。
                        </p>
                        <p>如果从文件读取证书，或者<code class="codeph">stdin</code> ，则它可能是二进制编码的，也可能是可打印的编码格式，如RFC 1421证书编码标准所定义。
                        </p>
                        <p>如果SSL服务器位于防火墙后面，则<code class="codeph">-J-Dhttps.proxyHost=proxyhost</code>和<code class="codeph">-J-Dhttps.proxyPort=proxyport</code>可以在命令行上指定用于代理隧道的选项。
                        </p>
                        <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__THISOPTIONCANBEUSEDINDEPENDENTLYOFA-50050EDC">
                           <p class="notep1">注意：</p>
                           <p>可以独立于密钥库使用此选项。</p>
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-C4E7A6B8-992F-462B-8FAE-00318070ADDC">
                           <!-- --></a><code class="codeph">-printcertreq</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-printcertreq</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-file <span class="variable" translate="no">file</span></code> }：输入文件名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-printcertreq</code>命令以打印PKCS＃10格式证书请求的内容，该请求可以由<code class="codeph">keytool -certreq</code>命令。该命令从文件读取请求。如果没有文件，则从标准输入中读取请求。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__PRINTCRLTHEFOLLOWINGARETHEAVAILABLE-5005128A">
                           <!-- --></a><code class="codeph">-printcrl</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-printcrl</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">-file <span class="variable" translate="no">crl</span></code> ：输入文件名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-printcrl</code>命令从中读取证书吊销列表（CRL） <code class="codeph">-file <span class="variable" translate="no">crl</span></code> 。CRL是由颁发它们的CA吊销的数字证书的列表。CA生成<code class="codeph"><span class="variable" translate="no">crl</span></code>文件。
                        </p>
                        <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__THISOPTIONCANBEUSEDINDEPENDENTLYOFA-50050F0C">
                           <p class="notep1">注意：</p>
                           <p>可以独立于密钥库使用此选项。</p>
                        </div>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__MANAGETHEKEYSTORE-507D231A">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-7DE0B7D8-A302-43B6-BB31-87D445E69987">用于管理密钥库的命令</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__STOREPASSWDTHEFOLLOWINGARETHEAVAILA-5004D35B">
                           <!-- --></a><code class="codeph">-storepasswd</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-storepasswd</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>[ <code class="codeph">-new <span class="variable" translate="no">arg</span></code> ]： 新密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-cacerts</code> }：访问cacerts密钥库</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名和可选的configure参数添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-storepasswd</code>命令更改用于保护密钥库内容完整性的密码。新密码由<code class="codeph">-new <span class="variable" translate="no">arg</span></code>并且必须至少包含六个字符。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__KEYPASSWDTHEFOLLOWINGARETHEAVAILABL-5004D23E">
                           <!-- --></a><code class="codeph">-keypasswd</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-keypasswd</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-keypass <span class="variable" translate="no">old_keypass</span></code> ]：密钥密码</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-new <span class="variable" translate="no">new_keypass</span></code> ]： 新密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> }：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名和可选的configure参数添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-keypasswd</code>更改密码的命令（在此密码下，私钥/密码由<code class="codeph">-alias</code>受保护） <code class="codeph">-keypass <span class="variable" translate="no">old_keypass</span></code>至<code class="codeph">-new <span class="variable" translate="no">new_keypass</span></code> 。密码值必须至少包含六个字符。
                        </p>
                        <p>如果<code class="codeph">-keypass</code>命令行未提供选项，并且<code class="codeph">-keypass</code>密码不同于密钥库密码（ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ），然后提示用户输入。
                        </p>
                        <p>如果<code class="codeph">-new</code>命令行中未提供该选项，则提示用户输入。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__DELETETHEFOLLOWINGARETHEAVAILABLEOP-5004D0CB">
                           <!-- --></a><code class="codeph">-delete</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-delete</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>[ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> ]：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-cacerts</code> }：访问cacerts密钥库</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名和可选的configure参数添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：通过受保护机制提供的密码</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-delete</code>命令删除<code class="codeph">-alias <span class="variable" translate="no">alias</span></code>密钥库中的条目。如果未在命令行中提供，则提示用户输入<code class="codeph"><span class="variable" translate="no">alias</span></code> 。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHANGEALIASTHEFOLLOWINGARETHEAVAILA-5004D108">
                           <!-- --></a><code class="codeph">-changealias</code></dt>
                     <dd>
                        <p>以下是适用于<code class="codeph">-changealias</code>命令：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>{ <code class="codeph">-alias <span class="variable" translate="no">alias</span></code> }：要处理的条目的别名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-destalias <span class="variable" translate="no">alias</span></code> ]：目标别名</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-keypass <span class="variable" translate="no">arg</span></code> ]：密钥密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code> }：密钥库名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-cacerts</code> }：访问cacerts密钥库</p>
                           </li>
                           <li>
                              <p>[ <code class="codeph">-storepass <span class="variable" translate="no">arg</span></code> ]：密钥库密码</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-storetype <span class="variable" translate="no">type</span></code> }：密钥库类型</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providername <span class="variable" translate="no">name</span></code> }：提供者名称</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-addprovider <span class="variable" translate="no">name</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过名称（带有可选的configure参数）添加安全提供程序（例如SunPKCS11）。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code> [ <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code> ]}：通过完全限定的类名和可选的configure参数添加安全提供程序。
                              </p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-providerpath <span class="variable" translate="no">list</span></code> }：提供程序类路径</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-v</code> }：详细输出</p>
                           </li>
                           <li>
                              <p>{ <code class="codeph">-protected</code> }：通过受保护机制提供的密码</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">-changealias</code>从中移动现有密钥库条目的命令<code class="codeph">-alias <span class="variable" translate="no">alias</span></code>换一个新的<code class="codeph">-destalias <span class="variable" translate="no">alias</span></code> 。如果未提供目标别名，则该命令会提示您输入一个。如果原始条目受条目密码保护，则密码可以随密码一起提供。 <code class="codeph">-keypass</code>选项。如果未提供密钥密码，则<code class="codeph">-storepass</code> （如果提供）首先尝试。如果尝试失败，则会提示用户输入密码。
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__DISPLAYHELPINFORMATION-507D1C58">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-0E603FF1-4B33-4DD0-A254-FBB118BC1756">显示帮助信息的命令</p>
                  <div class="p">您可以使用<code class="codeph">--help</code>显示清单<code class="codeph">keytool</code>命令或显示有关特定的帮助信息<code class="codeph">keytool</code>命令。
                     <ul style="list-style-type:disc">
                        <li>
                           <p>显示列表<code class="codeph">keytool</code>命令，输入：</p><pre class="pre codeblock"><code>keytool --help</code></pre></li>
                        <li>
                           <p>显示有关特定内容的帮助信息<code class="codeph">keytool</code>命令，输入：</p><pre class="pre codeblock"><code>keytool -<span class="variable" translate="no">command</span> --help</code></pre></li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__COMMONCOMMANDOPTIONS-659BA5D7">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-E10C7934-7CDB-41B7-A1FE-0D4C4A138232">常用命令选项</p>
                  <p>的<code class="codeph">-v</code>除以下命令外，所有命令都可以显示该选项<code class="codeph">--help</code> 。当。。。的时候<code class="codeph">-v</code>选项出现，表示详细模式，表示输出中提供了更多信息。
                  </p>
                  <p>的<code class="codeph">-J<span class="variable" translate="no">option</span></code>参数可以出现在任何命令中。当。。。的时候<code class="codeph">-J<span class="variable" translate="no">option</span></code>使用，指定<code class="codeph"><span class="variable" translate="no">option</span></code>字符串直接传递给Java解释器。此选项不包含任何空格。这对于调整执行环境或内存使用很有用。有关可能的解释器选项的列表，请输入<code class="codeph">java -h</code>要么<code class="codeph">java -X</code>在命令行中。
                  </p>
                  <p>对于在密钥库上运行的所有命令，这些选项可以显示：</p>
                  <dl class="0.99* 3.01*">
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-A6FFD7D5-23A1-49AB-BB13-7BB3FD46733C">
                           <!-- --></a><code class="codeph">-storetype <span class="variable" translate="no">storetype</span></code></dt>
                     <dd>
                        <p>此限定符指定要实例化的密钥库的类型。</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-7C596C68-3B62-4DC4-8AF7-6AC472233DF6">
                           <!-- --></a><code class="codeph">-keystore <span class="variable" translate="no">keystore</span></code></dt>
                     <dd>
                        <p>密钥库位置。</p>
                        <p>如果JKS <code class="codeph">storetype</code>已使用且密钥库文件尚不存在，则确定<code class="codeph">keytool</code>命令可能会导致创建新的密钥库文件。例如，如果<code class="codeph">keytool -genkeypair</code>被称为<code class="codeph">-keystore</code>未指定选项，默认密钥库文件名为<code class="codeph">.keystore</code>如果尚不存在，则在用户的主目录中创建。同样，如果<code class="codeph">-keystore ks_file</code>选项已指定，但<code class="codeph">ks_file</code>不存在，则创建它。有关JKS的更多信息<code class="codeph">storetype</code> ，请参见<span class="bold">KeyStore别名中</span>的“ <span class="bold">KeyStore实现”</span>部分。
                        </p>
                        <p>请注意，来自<code class="codeph">-keystore</code>选项传递给<code class="codeph">KeyStore.load</code>方法。如果<code class="codeph">NONE</code>指定为URL，然后将空流传递给<code class="codeph">KeyStore.load</code>方法。 <code class="codeph">NONE</code>如果密钥库不是基于文件的，则应指定。例如，当密钥库位于硬件令牌设备上时。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-5FB24101-D774-4104-A498-2C6313969E2C">
                           <!-- --></a><code class="codeph">-cacerts <span class="variable" translate="no">cacerts</span></code></dt>
                     <dd>
                        <p>在<code class="codeph">cacerts</code>密钥库。此选项等效于<code class="codeph">"-keystore path_to_cacerts -storetype type_of_cacerts"</code> 。如果报告了错误， <code class="codeph">-keystore</code>要么<code class="codeph">-storetype</code>选项与<code class="codeph">-cacerts</code>选项。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-2055E8D1-AF47-489F-93CE-7857BB73EF2F">
                           <!-- --></a><code class="codeph">-storepass [:<span class="variable" translate="no">env</span> | :<span class="variable" translate="no">file</span> ] argument</code></dt>
                     <dd>
                        <p>用于保护密钥库完整性的密码。</p>
                        <p>如果修饰符<code class="codeph">env</code>要么<code class="codeph">file</code>未指定，则密码包含<code class="codeph">value</code>参数，必须至少包含六个字符。否则，将按以下方式检索密码：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">env</code> ：从名为环境变量中检索密码<code class="codeph">argument</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">file</code> ：从名为parameter的文件中检索密码。
                              </p>
                           </li>
                        </ul>
                        <p><span class="bold">注意：</span>所有其他需要密码的选项，例如<code class="codeph">-keypass</code> ， <code class="codeph">-srckeypass</code> ， <code class="codeph">-destkeypass</code> ， <code class="codeph">-srcstorepass</code>和<code class="codeph">-deststorepass</code> ，接受<code class="codeph"><span class="variable" translate="no">env</span></code>和<code class="codeph"><span class="variable" translate="no">file</span></code>修饰符。切记用冒号（:)分隔密码选项和修饰符。
                        </p>
                        <p>必须将密码提供给所有访问密钥库内容的命令。对于此类命令，当<code class="codeph">-storepass</code>命令行未提供选项，则提示用户输入。
                        </p>
                        <p>从密钥库检索信息时，密码是可选的。如果未指定密码，则无法验证检索到的信息的完整性，并显示警告。</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-49D4DD93-B518-49FB-A7C1-1DAADCB5A66E">
                           <!-- --></a><code class="codeph">-providername <span class="variable" translate="no">name</span></code> 
                     </dt>
                     <dd>
                        <p>在安全性属性文件中列出时，用于标识加密服务提供者的名称。</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-AB276F44-436B-4CBE-B6FC-2E67BB0C7093">
                           <!-- --></a><code class="codeph">-addprovider <span class="variable" translate="no">name</span></code></dt>
                     <dd>
                        <p>用于按名称添加安全提供程序（例如SunPKCS11）。</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-1A7FFD97-07E9-406E-B6BA-54B6DA929EA7">
                           <!-- --></a> <code class="codeph">-providerclass <span class="variable" translate="no">class</span></code></dt>
                     <dd>
                        <p>当安全属性文件中未列出服务提供者时，用于指定加密服务提供者的主类文件的名称。</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-36A3D364-FF9E-49F5-93AB-46A1E598F619">
                           <!-- --></a><code class="codeph">-providerpath <span class="variable" translate="no">list</span></code></dt>
                     <dd>
                        <p>用于指定提供程序的类路径。</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-DDCB9F2D-6904-42AE-AAF5-D036D0D100BE">
                           <!-- --></a> <code class="codeph">-providerarg <span class="variable" translate="no">arg</span></code></dt>
                     <dd>
                        <p>与<code class="codeph">-addprovider</code>要么<code class="codeph">-providerclass</code>选项，用于表示的构造函数的可选字符串输入参数<code class="codeph"><span class="variable" translate="no">class</span></code>名称。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-50610EF1-21B0-485E-8028-31D89E1FD9CA">
                           <!-- --></a><code class="codeph">-protected=true|false</code></dt>
                     <dd>
                        <p>将此值指定为<code class="codeph">true</code>当必须通过受保护的身份验证路径（例如专用PIN读取器）指定密码时。因为其中涉及两个密钥库<code class="codeph">-importkeystore</code>命令，以下两个选项， <code class="codeph">-srcprotected</code>和<code class="codeph">-destprotected</code>分别为源密钥库和目标密钥库提供。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-93FBA77D-2901-416E-A296-8F3364FF929E">
                           <!-- --></a><code class="codeph">-ext <span class="variable" translate="no">{name{:critical} {=value}}</span></code></dt>
                     <dd>
                        <p>表示X.509证书扩展名。该选项可用于<code class="codeph">-genkeypair</code>和<code class="codeph">-gencert</code>将扩展嵌入到生成的证书中，或<code class="codeph">-certreq</code>以显示证书请求中要求的扩展名。该选项可以出现多次。的<code class="codeph">name</code>参数可以是受支持的扩展名（请参阅<a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDGDJDA">受</a>支持的扩展名）或任意OID号。的<code class="codeph">value</code>参数（如果提供）表示扩展的参数。什么时候<code class="codeph"><span class="variable" translate="no">value</span></code>省略，扩展名的默认值或扩展本身不需要参数。的<code class="codeph">:critical</code>修饰符（如果提供）表示扩展名的<code class="codeph">isCritical</code>属性为<code class="codeph">true</code> ;不然是<code class="codeph">false</code> 。您可以使用<code class="codeph">:c</code>代替<code class="codeph">:critical</code> 。
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDGIGAE">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-6555A092-38AB-4C65-BB1D-CA9990E49D41">期权价值举例</p>
                  <p>以下示例显示了各种选项值的默认值：</p><pre class="pre codeblock"><code>-alias "mykey"
 
-keyalg
    "DSA" (when using -genkeypair)
    "DES" (when using -genseckey)
 
-keysize
    2048 (when using -genkeypair and -keyalg is "RSA")
    2048 (when using -genkeypair and -keyalg is "DSA")
    256 (when using -genkeypair and -keyalg is "EC")
    56 (when using -genseckey and -keyalg is "DES")
    168 (when using -genseckey and -keyalg is "DESede")
 
-validity 90
  
-keystore &lt;the file named .keystore in the user's home directory&gt;

-destkeystore &lt;the file named .keystore in the user's home directory&gt;
   
 -storetype &lt;the value of the "keystore.type" property in the
    security properties file, which is returned by the static
    getDefaultType method in java.security.KeyStore&gt;
 
-file
    stdin (if reading)
    stdout (if writing)
 
-protected false
</code></pre><p>生成证书或证书请求时，默认签名算法（ <code class="codeph">-sigalg</code>选项）是从基础私钥的算法派生的，以提供适当级别的安全强度，如下所示：</p>
                  <div class="tblformalwide" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-5709F884-DD73-4401-A2FC-C7610922DC53">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Default signature algorithms" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="15%" id="d34263e3266">Keyalg</th>
                              <th align="left" valign="bottom" width="15%" id="d34263e3268">密钥大小</th>
                              <th align="left" valign="bottom" width="70%" id="d34263e3270">默认值</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d34263e3274" headers="d34263e3266 ">
                                 <p>DSA</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d34263e3274 d34263e3268 ">
                                 <p>任何大小</p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d34263e3274 d34263e3270 ">
                                 <p>SHA256withDSA</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d34263e3284" headers="d34263e3266 ">
                                 <p>RSA</p>    
                              </td>
                              <td align="left" valign="top" width="15%" headers="d34263e3284 d34263e3268 ">
                                 <p><= 3072</p>
                                 <p><= 7680</p>
                                 <p>> 7680</p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d34263e3284 d34263e3270 ">
                                 <p>SHA256withRSA</p>
                                 <p>SHA384withRSA</p>
                                 <p>SHA512withRSA</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d34263e3303" headers="d34263e3266 ">
                                 <p>欧共体</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d34263e3303 d34263e3268 ">
                                 <p><384</p>
                                 <p><512</p>
                                 <p>= 512</p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d34263e3303 d34263e3270 ">
                                 <p>SHA256withECDSA</p>
                                 <p>SHA384withECDSA</p>
                                 <p>SHA512withECDSA</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-64065F29-2298-42DE-8663-B00E7FA62F3C">
                     <p class="notep1">注意：</p>
                     <p>为了提高开箱即用的安全性，每个JDK版本都会将默认密钥大小和签名算法名称定期更新为更强的值。如果与JDK的较早版本的互操作性很重要，请确保这些版本支持默认值。或者，您可以使用<code class="codeph">-keysize</code>要么<code class="codeph">-sigalg</code>覆盖默认值的选项，后果自负。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDGDJDA">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-D314B834-1745-4831-B82D-F9BD3743DEC1">支持的命名扩展</p>
                  <p>的<code class="codeph">keytool</code>命令支持这些命名扩展。名称不区分大小写。
                  </p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-B5233DE8-0628-4D44-A9C9-99132146AD36"><!-- --></a> <code class="codeph">BC</code>要么<code class="codeph">BasicContraints</code></dt>
                     <dd>
                        <p>值：</p>
                        <p>完整表格是<code class="codeph">ca:{true|false}[,pathlen:<span class="variable" translate="no">len</span>]</code>要么<code class="codeph"><span class="variable" translate="no">len</span></code> ，简称<code class="codeph">ca:true,pathlen:<span class="variable" translate="no">len</span></code> 。
                        </p>
                        <p>什么时候<code class="codeph"><span class="variable" translate="no">len</span></code>省略，结果值为<code class="codeph">ca:true</code> 。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-6E9E9315-1DE4-42E2-95E3-E41975BE77F3"><!-- --></a> <code class="codeph">KU</code>要么<code class="codeph">KeyUsage</code></dt>
                     <dd>
                        <p>值：</p>
                        <p><code class="codeph"><span class="variable" translate="no">usage</span></code> （， <code class="codeph"><span class="variable" translate="no">usage</span></code> ）*</p>
                        <div class="p"><code class="codeph"><span class="variable" translate="no">usage</span></code>可以是以下之一：<ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">digitalSignature</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">nonRepudiation (contentCommitment</code> ）</p>
                              </li>
                              <li>
                                 <p><code class="codeph">keyEncipherment</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">dataEncipherment</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">keyAgreement</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">keyCertSign</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">cRLSign</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">encipherOnly</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">decipherOnly</code></p>
                              </li>
                           </ul>。
                        </div>
                        <p>只要没有歧义， <code class="codeph"><span class="variable" translate="no">usage</span></code>参数可以缩写为前几个字母（例如<code class="codeph">dig</code>对于<code class="codeph">digitalSignature</code> ）或驼峰式（例如<code class="codeph">dS</code>对于<code class="codeph">digitalSignature</code>要么<code class="codeph">cRLS</code>对于<code class="codeph">cRLSign</code> ）。的<code class="codeph"><span class="variable" translate="no">usage</span></code>值区分大小写。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-7A399303-A838-48E7-A0DD-8DB3D83A638C"><!-- --></a> <code class="codeph">EKU</code>要么<code class="codeph">ExtendedKeyUsage</code></dt>
                     <dd>
                        <p>值：</p>
                        <p><code class="codeph"><span class="variable" translate="no">usage</span></code> （， <code class="codeph"><span class="variable" translate="no">usage</span></code> ）*</p>
                        <p> <code class="codeph"><span class="variable" translate="no">usage</span></code>可以是以下之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">anyExtendedKeyUsage</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">serverAuth</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">clientAuth</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">codeSigning</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">emailProtection</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">timeStamping</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCSPSigning</code></p>
                           </li>
                           <li>
                              <p>任何OID字符串</p>
                           </li>
                        </ul>
                        <p>只要没有歧义， <code class="codeph"><span class="variable" translate="no">usage</span></code>参数可以缩写为前几个字母或驼峰式。的<code class="codeph"><span class="variable" translate="no">usage</span></code>值区分大小写。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-DE2FA69B-5945-4D95-8742-7D79B0BF02D9"><!-- --></a> <code class="codeph">SAN</code>要么<code class="codeph">SubjectAlternativeName</code></dt>
                     <dd>
                        <p>值：</p>
                        <p><code class="codeph"><span class="variable" translate="no">type</span></code> ： <code class="codeph"><span class="variable" translate="no">value</span></code> （， <code class="codeph"><span class="variable" translate="no">type</span></code> ： <code class="codeph"><span class="variable" translate="no">value</span></code> ）*</p>
                        <div class="p"><code class="codeph"><span class="variable" translate="no">type</span></code>可以是以下之一：<ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">EMAIL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">URI</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DNS</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">IP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OID</code></p>
                              </li>
                           </ul>的<code class="codeph"><span class="variable" translate="no">value</span></code>参数是的字符串格式值<code class="codeph"><span class="variable" translate="no">type</span></code> 。
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-1D6F47C0-D6B3-46A7-AF34-C5DA4342A47C"><!-- --></a> <code class="codeph">IAN</code>要么<code class="codeph">IssuerAlternativeName</code></dt>
                     <dd>
                        <p>值：</p>
                        <p>和...一样<code class="codeph">SAN</code>要么<code class="codeph">SubjectAlternativeName</code> 。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-3E572131-9A44-4B87-BCE4-BFBAFDE42CFC"><!-- --></a> <code class="codeph">SIA</code>要么<code class="codeph">SubjectInfoAccess</code></dt>
                     <dd>
                        <p>值：</p>
                        <p><code class="codeph"><span class="variable" translate="no">method</span></code> ： <code class="codeph"><span class="variable" translate="no">location-type</span></code> ： <code class="codeph"><span class="variable" translate="no">location-value</span></code> （， <code class="codeph"><span class="variable" translate="no">method</span>:<span class="variable" translate="no">location-type</span></code> ： <code class="codeph"><span class="variable" translate="no">location-value</span></code> ）*</p>
                        <div class="p"><code class="codeph"><span class="variable" translate="no">method</span></code>可以是以下之一：<ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">timeStamping</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">caRepository</code></p>
                              </li>
                              <li>
                                 <p>任何OID</p>
                              </li>
                           </ul>的<code class="codeph"><span class="variable" translate="no">location-type</span></code>和<code class="codeph"><span class="variable" translate="no">location-value</span></code>参数可以是任何<code class="codeph"><span class="variable" translate="no">type</span></code> ： <code class="codeph"><span class="variable" translate="no">value</span></code>由...支持<code class="codeph">SubjectAlternativeName</code>延期。
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-48E64B59-ABC5-4F3C-973C-D61C10D1BE9B"><!-- --></a> <code class="codeph">AIA</code>要么<code class="codeph">AuthorityInfoAccess</code></dt>
                     <dd>
                        <p>值：</p>
                        <p>和...一样<code class="codeph">SIA</code>要么<code class="codeph">SubjectInfoAccess</code> 。
                        </p>
                        <div class="p">的<code class="codeph"><span class="variable" translate="no">method</span></code>参数可以是以下之一：<ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">ocsp</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">caIssuers</code></p>
                              </li>
                              <li>
                                 <p>任何OID</p>
                              </li>
                           </ul>
                        </div>
                     </dd>
                  </dl>
                  <p>什么时候<code class="codeph"><span class="variable" translate="no">name</span></code>是OID，值为十六进制转储的确定编码规则（DER）编码<code class="codeph">extnValue</code>扩展名，不包括OCTET STRING类型和长度字节。除标准十六进制数字（0-9，af，AF）外，十六进制字符串中将忽略任何其他字符。因此，01：02：03：04和01020304均被接受为相同的值。当没有值时，扩展名具有空值字段。
                  </p>
                  <p>一个特殊的名字<code class="codeph">honored</code> ，仅用于<code class="codeph">-gencert</code> ，表示应如何兑现证书申请中包括的扩展名。此名称的值是逗号分隔的列表<code class="codeph">all</code> （所有要求的扩展名均受尊重） <code class="codeph">name{:[critical|non-critical]}</code> （命名扩展名是很荣幸的，但使用了不同的扩展名<code class="codeph">isCritical</code>属性），以及<code class="codeph">-name</code> （用于<code class="codeph">all</code> ，表示例外）。默认情况下，不接受请求的扩展名。
                  </p>
                  <p>如果，除了<code class="codeph">-ext honored</code>选项，另一个已命名或OID <code class="codeph">-ext</code>提供选项，此扩展名已添加到已接受的扩展名中。但是，如果此名称（或OID）也出现在受尊敬的值中，则其值和重要性将覆盖请求中的值和重要性。如果通过名称或OID多次提供相同类型的扩展名，则仅使用最后一个扩展名。
                  </p>
                  <p>的<code class="codeph">subjectKeyIdentifier</code>扩展名总是被创建。对于非自签名证书， <code class="codeph">authorityKeyIdentifier</code>被建造。
                  </p>
                  <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-A27C8ECF-1CBB-4954-9D56-16A7D04A209C">
                     <p class="notep1">警告：</p>
                     <p>用户应注意，扩展名（和其他证书字段）的某些组合可能不符合Internet标准。请参阅<a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDCJBCI">证书符合性警告</a> 。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-78E7F6CE-C9C2-4F6B-A24D-7C3D495D7519">创建密钥库的任务示例</p>
                  <p>以下示例描述了创建密钥库以管理受信任实体的公共/私有密钥对和证书时的序列操作。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFGENERATINGTHEKEYPAIR-9BB8757E">生成密钥对</a></p>
                     </li>
                     <li>
                        <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFREQUESTINGASIGNEDCERTIFICA-9BB87A89">向CA请求签名证书</a></p>
                     </li>
                     <li>
                        <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFIMPORTINGACERTIFICATEFORTH-9BB88005">导入CA的证书</a></p>
                     </li>
                     <li>
                        <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFIMPORTINGTHECERTIFICATEREP-9BB88612">从CA导入证书回复</a></p>
                     </li>
                     <li>
                        <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFEXPORTINGACERTIFICATETHATA-9BB88FBE">导出对公钥进行身份验证的证书</a></p>
                     </li>
                     <li>
                        <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFIMPORTINGKEYSTORE-9BB896E3">导入密钥库</a></p>
                     </li>
                     <li>
                        <p><a href="keytool.html#GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFGENERATINGCERTIFICATESFORA-9BB8A562">为SSL服务器生成证书</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFGENERATINGTHEKEYPAIR-9BB8757E">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-C67B0C97-6FDB-4A61-A022-7A3A8E1D030F">生成密钥对</p>
                  <p>创建一个密钥库，然后生成密钥对。</p>
                  <p>您可以单行输入命令，例如：</p><pre class="pre codeblock"><code>keytool -genkeypair -dname "cn=<span class="variable" translate="no">myname</span>, ou=<span class="variable" translate="no">mygroup</span>, o=<span class="variable" translate="no">mycompany</span>, c=<span class="variable" translate="no">mycountry</span>"
    -alias business -keypass <span class="variable" translate="no">password</span>
    -keystore /working/mykeystore
    -storepass <span class="variable" translate="no">password</span> -validity 180
</code></pre><p>该命令创建名为的密钥库<code class="codeph">mykeystore</code>在工作目录中（如果尚不存在），并为其分配密码，该密码由<code class="codeph">-keypass</code> 。它为专有名称为的实体生成一个公共/专用密钥对。 <code class="codeph"><span class="variable" translate="no">myname</span></code> ， <code class="codeph"><span class="variable" translate="no">mygroup</span></code> ， <code class="codeph"><span class="variable" translate="no">mycompany</span></code> ，以及两个字母的国家/地区代码<code class="codeph"><span class="variable" translate="no">mycountry</span></code> 。它使用默认的DSA密钥生成算法来创建密钥。都是2048位</p>
                  <p>该命令使用默认的SHA256withDSA签名算法来创建包含公共密钥和专有名称信息的自签名证书。该证书有效期为180天，并且与由引用的密钥库条目中的私钥相关联<code class="codeph">-alias <span class="variable" translate="no">business</span></code> 。私钥被分配了由指定的密码<code class="codeph">-keypass</code> 。
                  </p>
                  <p>接受默认选项后，该命令将大大缩短。在这种情况下，不需要任何选项，并且默认值用于具有默认值的未指定选项。提示您输入任何必需的值。您可能具有以下内容：</p><pre class="pre codeblock"><code>keytool -genkeypair
</code></pre><p>在这种情况下，具有别名的密钥库条目<code class="codeph">mykey</code>使用新生成的密钥对和有效期为90天的证书创建。此项位于您的主目录中的密钥库中，该密钥库名为<code class="codeph">.keystore</code> 。 <code class="codeph">.keystore</code>如果尚不存在则创建。提示您输入专有名称信息，密钥库密码和私钥密码。
                  </p>
                  <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-2147D12A-4EAD-4990-9C58-88659B5F40C7">
                     <p class="notep1">注意：</p>
                     <p>其余示例假定您执行了<code class="codeph">-genkeypair</code>命令而不指定选项，并且您对提示的响应与第一个示例中指定的值相等<code class="codeph">-genkeypair</code>命令。例如，专有名称为<code class="codeph">cn=<span class="variable" translate="no">myname</span></code> ， <code class="codeph">ou=<span class="variable" translate="no">mygroup</span></code> ， <code class="codeph">o=<span class="variable" translate="no">mycompany</span></code> ， <code class="codeph">c=<span class="variable" translate="no">mycountry</span></code> ）。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFREQUESTINGASIGNEDCERTIFICA-9BB87A89">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-FBF9B5D9-6260-4057-B28D-D15747C5F549">向CA请求签名证书</p>
                  <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-15CE3D74-678E-4338-A951-5FFD583535B8">
                     <p class="notep1">注意：</p>
                     <p>生成密钥对创建了一个自签名证书；但是，由CA签名的证书更有可能被其他人信任。</p>
                  </div>
                  <p>要获取CA签名，请完成以下过程：</p>
                  <ol>
                     <li>
                        <p></p>
                        <p>生成CSR：</p><pre class="pre codeblock"><code>keytool -certreq -file myname.csr
</code></pre><p>这会为默认别名所标识的实体创建CSR <code class="codeph">mykey</code>并将请求放入名为<code class="codeph">myname.csr</code> 。
                        </p>
                     </li>
                     <li>
                        <p>提交<code class="codeph">myname.csr</code>到CA，例如DigiCert。
                        </p>
                     </li>
                  </ol>
                  <p>CA对您（即请求者）进行身份验证（通常是脱机），并返回由他们签名的证书，以对您的公钥进行身份验证。在某些情况下，CA返回证书链，每个证书都对链中先前证书的签名者的公钥进行身份验证。</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFIMPORTINGACERTIFICATEFORTH-9BB88005">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-B7FE53B0-8A9F-42B5-964B-2AC87FF9133E">导入CA的证书</p>
                  <p>要为CA导入证书，请完成以下过程：</p>
                  <ol>
                     <li>
                        <p>从CA导入证书答复之前，您需要在密钥库中或服务器中的一个或多个受信任证书中。 <code class="codeph">cacerts</code>密钥库文件。看到<code class="codeph">-importcert</code>在<span class="bold">命令中</span> 。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果证书答复是证书链，则您需要链中的最高证书。认证CA公钥的根CA证书。</p>
                           </li>
                           <li>
                              <p>如果证书答复是单个证书，则您需要颁发CA的证书（对它进行签名的证书）。如果该证书不是自签名的，则您的签名者需要一个证书，依此类推，直到自签名的根CA证书为止。</p>
                           </li>
                        </ul>
                        <p>的<code class="codeph">cacerts</code> keystore附带有一组由<a href="http://www.oracle.com/technetwork/java/javase/javasecarootcertsprogram-1876540.html" target="_blank">Oracle Java Root Certificate程序</a>的CA颁发的<a href="http://www.oracle.com/technetwork/java/javase/javasecarootcertsprogram-1876540.html" target="_blank">根证书</a> 。如果您从CA请求签名证书，并且尚未添加用于验证CA公钥的证书<code class="codeph">cacerts</code> ，那么您必须从该CA导入证书作为可信证书。
                        </p>
                        <p>来自CA的证书通常是自签名的或由另一个CA签名的。如果它是由另一个CA签名的，则需要用于验证该CA的公钥的证书。</p>
                        <p>例如，您获得了一个<code class="codeph"><span class="variable" translate="no">X</span>.cer</code>属于CA的公司提供的文件，该文件应该是对CA的公钥进行身份验证的自签名证书。在将其导入为受信任证书之前，应通过以下方法确保证书有效：</p>
                        <ol type="a">
                           <li>
                              <p>用查看<code class="codeph">keytool -printcert</code>命令或<code class="codeph">keytool -importcert</code>命令而不使用<code class="codeph">-noprompt</code>选项。确保显示的证书指纹与期望的指纹匹配。
                              </p>
                           </li>
                           <li>
                              <p>呼叫发送证书的人员，并将您看到的指纹与它们显示的指纹或安全的公共密钥存储库显示的指纹进行比较。</p>
                           </li>
                        </ol>
                        <p>仅当指纹相等时，才可以确保该证书在传输过程中没有被其他人的证书（例如攻击者的证书）替换。如果发生了这种攻击，并且您在导入证书之前没有检查证书，那么您将信任攻击者签名的任何内容。</p>
                     </li>
                     <li>
                        <p>将自签名证书替换为证书链，其中链中的每个证书都会对链中先前证书的签名者的公共密钥进行身份验证，直到根CA。</p>
                        <p>如果您相信证书有效，那么可以通过输入以下命令将其添加到密钥库中：</p><pre class="pre codeblock"><code>keytool -importcert -alias <span class="variable" translate="no">alias</span> -file <span class="variable" translate="no">X</span>.cer
</code></pre><p>此命令根据CA证书文件中的数据在密钥库中创建一个受信任的证书条目，并分配证书的值。 <code class="codeph"><span class="variable" translate="no">alias</span></code>到条目。
                        </p>
                     </li>
                  </ol>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFIMPORTINGTHECERTIFICATEREP-9BB88612">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-65A554F7-1634-4642-A359-C2D1FEBA4784">从CA导入证书回复</p>
                  <p>导入用于对提交证书签名请求的CA的公钥进行身份验证的证书之后（或者在证书中已经存在这样的证书） <code class="codeph">cacerts</code>文件），则可以导入证书答复并用证书链替换您的自签名证书。
                  </p>
                  <div class="p">证书链是以下之一：<ul style="list-style-type:disc">
                        <li>
                           <p>当CA答复为链时，由CA返回。</p>
                        </li>
                        <li>
                           <p>当CA答复是单个证书时构造。该证书链是通过使用证书回复和导入回复的密钥库中的可用证书或受信任的证书构建的。 <code class="codeph">cacerts</code>密钥库文件。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>例如，如果您将证书签名请求发送给DigiCert，则可以通过输入以下命令来导入其答复：</p>
                  <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-6818995F-CBD0-40EF-8B27-C2F5DE8B8873">
                     <p class="notep1">注意：</p>
                     <p>在此示例中，返回的证书名为<code class="codeph">DCmyname.cer</code> 。
                     </p>
                  </div><pre class="pre codeblock"><code>keytool -importcert -trustcacerts -file DCmyname.cer
</code></pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFEXPORTINGACERTIFICATETHATA-9BB88FBE">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-C8BB8B81-725A-4726-A154-C570659D92C9">导出对公钥进行身份验证的证书</p>
                  <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-5AA6EFA7-F40C-4B34-87D3-521C37B43872">
                     <p class="notep1">注意：</p>
                     <p>如果您使用了<code class="codeph">jarsigner</code>命令对Java存档（JAR）文件进行签名，那么使用该文件的客户端将需要对您的签名进行身份验证。
                     </p>
                  </div>
                  <p>客户端可以对您进行身份验证的一种方法是，将您的公共密钥证书作为受信任的条目导入其密钥库中。然后，您可以导出证书并将其提供给客户。</p>
                  <p>例如：</p>
                  <ol>
                     <li>
                        <p>将您的证书复制到一个名为<code class="codeph">myname.cer</code>通过输入以下命令：</p>
                        <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-62D61DE3-99F6-4AAA-8879-D051726D6B52">
                           <p class="notep1">注意：</p>
                           <p>在此示例中，条目的别名为<code class="codeph">mykey</code> 。
                           </p>
                        </div><pre class="pre codeblock"><code>keytool -exportcert -alias mykey -file myname.cer
</code></pre></li>
                     <li>
                        <p>有了证书和签名的JAR文件，客户端可以使用<code class="codeph">jarsigner</code>命令以验证您的签名。
                        </p>
                     </li>
                  </ol>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFIMPORTINGKEYSTORE-9BB896E3">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-1F5212F9-8450-425F-9D74-4D3C9FCFB5F9">导入密钥库</p>
                  <p>使用<code class="codeph">importkeystore</code>命令将整个密钥库导入另一个密钥库。这将使用单个命令将所有项（包括密钥和证书）从源密钥库导入到目标密钥库。您可以使用此命令从其他类型的密钥库导入条目。在导入期间，目标密钥库中的所有新条目将具有相同的别名和保护密码（用于私钥和私钥）。如果<code class="codeph">keytool</code>命令无法从源密钥库中恢复私钥或私钥，然后提示您输入密码。如果它检测到别名重复，则它会要求您提供一个新别名，您可以指定一个新别名或直接允许<code class="codeph">keytool</code>命令覆盖现有的一个。
                  </p>
                  <p>例如，从典型的JKS类型密钥库中导入条目<code class="codeph">key.jks</code>通过输入以下命令，将其放入PKCS＃11类型的基于硬件的密钥库中：</p><pre class="pre codeblock"><code>keytool -importkeystore
    -srckeystore key.jks -destkeystore NONE
    -srcstoretype JKS -deststoretype PKCS11
    -srcstorepass <span class="variable" translate="no">password</span>
    -deststorepass <span class="variable" translate="no">password</span></code></pre><p>的<code class="codeph">importkeystore</code>命令还可以用于将单个条目从源密钥库导入到目标密钥库。在这种情况下，除了在上一个示例中使用的选项之外，您还需要指定要导入的别名。随着<code class="codeph">-srcalias</code>指定的选项，您还可以指定目标别名，秘密或私有密钥的保护密码以及所需的目标保护密码，如下所示：</p><pre class="pre codeblock"><code>keytool -importkeystore
    -srckeystore key.jks -destkeystore NONE
    -srcstoretype JKS -deststoretype PKCS11
    -srcstorepass <span class="variable" translate="no">password</span>
    -deststorepass <span class="variable" translate="no">password</span>
    -srcalias myprivatekey -destalias myoldprivatekey
    -srckeypass <span class="variable" translate="no">password</span>
    -destkeypass <span class="variable" translate="no">password</span>
    -noprompt
</code></pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__EXAMPLEOFGENERATINGCERTIFICATESFORA-9BB8A562">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-B251784C-1B03-4EC5-BA2F-B5FC0887311C">为SSL服务器生成证书</p>
                  <p>以下是<code class="codeph">keytool</code>用于生成三个实体的密钥对和证书的命令：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>根CA（ <code class="codeph">root</code> ）</p>
                     </li>
                     <li>
                        <p>中级CA（ <code class="codeph">ca</code> ）</p>
                     </li>
                     <li>
                        <p>SSL服务器（ <code class="codeph">server</code> ）</p>
                     </li>
                  </ul>
                  <p>确保将所有证书存储在同一密钥库中。在以下示例中，推荐使用RSA密钥算法。</p><pre class="pre codeblock"><code>keytool -genkeypair -keystore root.jks -alias root -ext bc:c
keytool -genkeypair -keystore ca.jks -alias ca -ext bc:c
keytool -genkeypair -keystore server.jks -alias server
 
keytool -keystore root.jks -alias root -exportcert -rfc &gt; root.pem
 
keytool -storepass <span class="variable" translate="no">password</span> -keystore ca.jks -certreq -alias ca |
    keytool -storepass <span class="variable" translate="no">password</span> -keystore root.jks
    -gencert -alias root -ext BC=0 -rfc &gt; ca.pem
keytool -keystore ca.jks -importcert -alias ca -file ca.pem
 
keytool -storepass <span class="variable" translate="no">password</span> -keystore server.jks -certreq -alias server |
    keytool -storepass <span class="variable" translate="no">password</span> -keystore ca.jks -gencert -alias ca
    -ext ku:c=dig,kE -rfc &gt; server.pem
cat root.pem ca.pem server.pem |
    keytool -keystore server.jks -importcert -alias server
</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-0F63FFE6-4EB8-4C43-8701-BA98FF7F7337">条款</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-911FFF69-6916-4C69-8A93-66A13E4A239C"><!-- --></a>密钥库</dt>
                     <dd>
                        <p>密钥库是加密密钥和证书的存储工具。</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-5B627F3A-1831-4204-BF50-484CFE3BD71F"><!-- --></a>密钥库条目</dt>
                     <dd>
                        <p>密钥库可以具有不同类型的条目。两种最适用的条目类型<code class="codeph">keytool</code>命令包括以下内容：</p>
                        <p>密钥条目：每个条目都包含非常敏感的加密密钥信息，该信息以受保护的格式存储，以防止未经授权的访问。通常，存储在这种类型的条目中的密钥是秘密密钥，或者是私钥，并带有相应公钥的证书链。请参阅<span class="bold">证书链</span> 。的<code class="codeph">keytool</code>命令可以处理两种类型的条目，而<code class="codeph">jarsigner</code>工具仅处理后一种类型的输入，即私钥及其关联的证书链。
                        </p>
                        <p>受信任的证书条目：每个条目都包含一个属于另一方的单个公钥证书。该条目称为受信任证书，因为密钥库所有者信任证书中的公钥属于证书的主题（所有者）标识的身份。证书的发行者通过对证书进行签名来证明这一点。</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDJHCAA"><!-- --></a>密钥库别名</dt>
                     <dd>
                        <p>所有密钥库条目（密钥和可信证书条目）都通过唯一别名来访问。</p>
                        <p>使用以下命令将实体添加到密钥库时，将指定别名： <code class="codeph">-genseckey</code>命令生成一个秘密密钥， <code class="codeph">-genkeypair</code>生成密钥对（公用密钥和专用密钥）的命令，或者<code class="codeph">-importcert</code>将证书或证书链添加到受信任证书列表的命令。后续的<code class="codeph">keytool</code>命令必须使用相同的别名来引用实体。
                        </p>
                        <p>例如，您可以使用别名<code class="codeph">duke</code>生成新的公用/专用密钥对，并使用以下命令将公用密钥包装为自签名证书。请参阅<span class="bold">证书链</span> 。
                        </p><code class="codeph">keytool -genkeypair -alias duke -keypass <span class="variable" translate="no">passwd</span></code><p>本示例指定了一个初始<code class="codeph"><span class="variable" translate="no">passwd</span></code>后续命令需要访问与别名关联的私钥<code class="codeph">duke</code> 。如果以后要更改Duke的私钥密码，请使用以下命令：</p><pre class="pre codeblock"><code>keytool -keypasswd -alias duke -keypass <span class="variable" translate="no">passwd</span> -new <span class="variable" translate="no">newpasswd</span>
</code></pre><p>这改变了初始<code class="codeph"><span class="variable" translate="no">passwd</span></code>至<code class="codeph"><span class="variable" translate="no">newpasswd</span></code> 。除非用于测试目的，否则您不应在命令行或脚本中指定密码，或者您使用的是安全系统。如果未在命令行上指定必需的密码选项，则会提示您输入密码。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-A8B9E662-C1C2-4A0E-9307-A8464F0E95D4"><!-- --></a>密钥库实现</dt>
                     <dd>
                        <p>的<code class="codeph">KeyStore</code>类中提供的<code class="codeph">java.security</code>软件包提供了定义明确的接口来访问和修改密钥库中的信息。可能有多个不同的具体实现，其中每个实现都是针对特定类型的密钥库的实现。
                        </p>
                        <p>目前，有两个命令行工具（ <code class="codeph">keytool</code>和<code class="codeph">jarsigner</code> ）利用密钥库实现。因为<code class="codeph">KeyStore</code>类是<code class="codeph">public</code> ，用户可以编写使用它的其他安全应用程序。
                        </p>
                        <p>在JDK 9和更高版本中，默认密钥库实现为<code class="codeph">PKCS12</code> 。这是一个基于RSA PKCS12个人信息交换语法标准的跨平台密钥库。该标准主要用于存储或传输用户的私钥，证书和其他机密信息。Oracle提供了另一个内置的实现。它将密钥库实现为具有专有密钥库类型（格式）的文件，该文件名为<code class="codeph">JKS</code> 。它使用其各自的密码保护每个私钥，并使用（可能不同的）密码保护整个密钥库的完整性。
                        </p>
                        <p>密钥库实现是基于提供程序的。更具体地说，由<code class="codeph">KeyStore</code>根据服务提供商接口（SPI）实施。也就是说，有一个相应的摘要<code class="codeph">KeystoreSpi</code>类，也在<code class="codeph">java.security package</code> ，它定义了提供者必须实现的服务提供者接口方法。术语“ <span class="italic">提供者”</span>是指一个包或一组包，它们提供可被Java Security API访问的服务子集的具体实现。要提供密钥库实现，客户端必须实现提供程序并提供一个<code class="codeph">KeystoreSpi</code>子类实现，如实现和集成提供程序的步骤中所述。
                        </p>
                        <p>应用程序可以使用以下选项从不同的提供程序中选择不同类型的密钥库实现： <code class="codeph">getInstance</code>提供的工厂方法<code class="codeph">KeyStore</code>类。密钥库类型定义了密钥库信息的存储和数据格式，以及用于保护密钥库中的私钥/秘密密钥和密钥库完整性的算法。不同类型的密钥库实现不兼容。
                        </p>
                        <p>的<code class="codeph">keytool</code>该命令适用于任何基于文件的密钥库实现。它将在命令行中传递给它的密钥库位置视为文件名，并将其转换为<code class="codeph">FileInputStream</code> ，从中加载密钥库信息。）的<code class="codeph">jarsigner</code>命令可以从可以用URL指定的任何位置读取密钥库。</p>
                        <p>对于<code class="codeph">keytool</code>和<code class="codeph">jarsigner</code> ，您可以在命令行中使用以下命令指定密钥库类型： <code class="codeph">-storetype</code>选项。
                        </p>
                        <p>如果您未明确指定密钥库类型，则工具会根据<code class="codeph">keystore.type</code>安全属性文件中指定的属性。安全属性文件称为<code class="codeph">java.security</code> ，位于安全属性目录中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold"><span>Oracle Solaris，Linux和macOS</span> ：</span> <code class="codeph"><span class="variable" translate="no">java.home</span>/lib/security</code></p>
                           </li>
                           <li>
                              <p><span class="bold">视窗：</span> <code class="codeph"><span class="variable" translate="no">java.home</span>\lib\security</code></p>
                           </li>
                        </ul>
                        <p>每个工具都可以<code class="codeph">keystore.type</code>值，然后检查所有当前安装的提供程序，直到找到实现该类型的密钥库的提供程序为止。然后，它将使用该提供程序的密钥库实现。的<code class="codeph">KeyStore</code>类定义了一个名为<code class="codeph">getDefaultType</code>让应用程序检索<code class="codeph">keystore.type</code>属性。以下代码行创建了默认密钥库类型的实例，如<code class="codeph">keystore.type</code>属性：</p><pre class="pre codeblock"><code>KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());
</code></pre><p>默认密钥库类型是<code class="codeph">pkcs12</code> ，这是基于RSA PKCS12个人信息交换语法标准的跨平台密钥库。这由安全属性文件中的以下行指定：</p><pre class="pre codeblock"><code>keystore.type=pkcs12
</code></pre><p>要使工具使用默认设置以外的密钥库实现，可以更改该行以指定其他密钥库类型。例如，如果您想使用Oracle的<code class="codeph">jks</code>密钥库实现，然后将行更改为以下内容：</p><pre class="pre codeblock"><code>keystore.type=jks
</code></pre><div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-EBE17F3D-49C1-4677-B8FC-C29F6A8231DA">
                           <p class="notep1">注意：</p>
                           <p>密钥库类型名称中的大小写无关紧要。例如， <code class="codeph">JKS</code>被认为与<code class="codeph">jks</code> 。
                           </p>
                        </div>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDHHEFI"><!-- --></a>证书</dt>
                     <dd>
                        <p>证书（或公共密钥证书）是一个实体（发行者）进行数字签名的声明，称另一实体（主题）的公共密钥和某些其他信息具有特定的价值。以下术语与证书有关：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>公钥：这些是与特定实体关联的数字，旨在使需要与该实体进行信任交互的每个人都知道。公钥用于验证签名。</p>
                           </li>
                           <li>
                              <p>数字签名：如果某些数据进行了数字签名，则将其与实体的身份和证明该实体知道该数据的签名一起存储。通过使用实体的私钥签名，使数据不可伪造。</p>
                           </li>
                           <li>
                              <p>身份：一种寻址实体的已知方法。在某些系统中，身份是公共密钥，在其他系统中，身份可以是任何内容，从Oracle Solaris UID到电子邮件地址再到X.509专有名称。</p>
                           </li>
                           <li>
                              <p>签名：签名是使用实体的私钥对某些数据进行计算的。签名者，在证书的情况下也称为发行者。</p>
                           </li>
                           <li>
                              <p>私钥：这些是数字，每个数字只应为拥有其私钥的特定实体知道（也就是说，应将其保密）。私钥和公钥在所有公钥密码系统（也称为公钥密码系统）中成对存在。在典型的公共密钥密码系统中，例如DSA，私有密钥恰好对应于一个公共密钥。私钥用于计算签名。</p>
                           </li>
                           <li>
                              <p>实体：实体是一个人，组织，程序，计算机，企业，银行或您在某种程度上信任的其他事物。</p>
                           </li>
                        </ul>
                        <p>公钥加密要求访问用户的公钥。在大规模的网络环境中，无法保证在通信实体之间建立了先前的关系，或者无法保证所有使用的公钥都存在受信任的存储库。发明了证书来解决此公钥分发问题。现在，证书颁发机构（CA）可以充当受信任的第三方。CA是诸如企业之类的实体，可信任为其他实体签署（颁发）证书。假定CA仅创建有效且可靠的证书，因为它们受法律协议约束。有许多公共证书颁发机构，例如DigiCert，Comodo，Entrust等。</p>
                        <p>您也可以使用贵组织的产品，例如Microsoft证书服务器或Entrust CA产品来运行自己的证书颁发机构。随着<code class="codeph">keytool</code>命令，可以显示，导入和导出证书。也可以生成自签名证书。
                        </p>
                        <p>的<code class="codeph">keytool</code>该命令当前处理X.509证书。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-6567FF8E-7B38-4C56-A423-B5D42154E153"><!-- --></a> X.509证书</dt>
                     <dd>
                        <p>X.509标准定义了证书中可以包含哪些信息，并描述了如何将其记录下来（数据格式）。证书中的所有数据均使用称为ASN.1 / DER的两个相关标准进行编码。抽象语法符号1描述了数据。确定编码规则描述了一种存储和传输数据的单一方法。</p>
                        <p>除签名外，所有X.509证书还具有以下数据：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>版本：此版本标识此证书适用的X.509标准版本，这会影响可以在其中指定哪些信息。到目前为止，已定义了三个版本。的<code class="codeph">keytool</code>该命令可以导入和导出v1，v2和v3证书。它生成v3证书。
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>X.509版本1自1988年以来一直可用，已被广泛部署并且是最通用的。</p>
                                 </li>
                                 <li>
                                    <p>X.509版本2引入了主题和颁发者唯一标识符的概念，以处理主题或颁发者名称随时间重复使用的可能性。大多数证书配置文件强烈建议不要重复使用名称，并且证书不应使用唯一标识符。版本2证书没有得到广泛使用。</p>
                                 </li>
                                 <li>
                                    <p>X.509版本3是最新的版本（1996），支持扩展的概念，任何人都可以定义扩展并将其包括在证书中。一些常见的扩展是：KeyUsage（将密钥的使用限制为特定目的，例如<code class="codeph">signing-only</code> ）和AlternativeNames（例如，其他身份也可以与此公钥关联。DNS名称，电子邮件地址，IP地址）。扩展可以标记为关键，以指示应检查并强制执行或使用扩展。例如，如果证书的KeyUsage扩展名标记为关键并设置为<code class="codeph">keyCertSign</code> ，则在SSL通信期间出示此证书时，应将其拒绝，因为证书扩展名指示关联的私钥应仅用于签名证书，而不能用于SSL。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p></p>
                              <p>序列号：创建证书的实体负责为其分配一个序列号，以将其与颁发的其他证书区分开。该信息以多种方式使用。例如，当证书被吊销时，其序列号被放在证书吊销列表（CRL）中。</p>
                           </li>
                           <li>
                              <p>签名算法标识符：它标识CA用于签署证书的算法。</p>
                           </li>
                           <li>
                              <p>颁发者名称：签署证书的实体的X.500专有名称。这通常是一个CA。使用此证书意味着信任签署此证书的实体。在某些情况下，例如根或顶级CA证书，颁发者会签署自己的证书。</p>
                           </li>
                           <li>
                              <p>有效期：每个证书仅在有限的时间内有效。该时间段由开始日期和时间以及结束日期和时间来描述，并且可以短至几秒钟或几乎长达一个世纪。选择的有效期取决于许多因素，例如用于签署证书的私钥的强度，或者一个人愿意为证书支付的金额。这是当关联的私钥未被泄露时，实体可以依赖于公共价值的预期时间。</p>
                           </li>
                           <li>
                              <p>主题名称：证书标识其公钥的实体的名称。该名称使用X.500标准，因此在Internet上应该是唯一的。这是实体的X.500专有名称（DN）。例如，</p><pre class="pre codeblock"><code>CN=Java Duke, OU=Java Software Division, O=Oracle Corporation, C=US
</code></pre><p>这些是指主题的公用名（CN），组织单位（OU），组织（O）和国家（C）。</p>
                           </li>
                           <li>
                              <p>主题公共密钥信息：这是使用算法标识符命名的实体的公共密钥，该算法标识符指定此密钥所属的公共密钥加密系统以及任何关联的密钥参数。</p>
                           </li>
                        </ul>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDFDJDH"><!-- --></a>证书链</dt>
                     <dd>
                        <p>的<code class="codeph">keytool</code>命令可以创建和管理密钥库密钥条目，其中每个条目均包含私钥和关联的证书链。链中的第一个证书包含与私钥相对应的公钥。
                        </p>
                        <p>首次生成密钥时，链开始时包含一个元素，即自签名证书。见-genkeypair的<span class="bold">命令</span> 。自签名证书是颁发者（签名者）与主题相同的证书。主题是其公钥正在通过证书进行身份验证的实体。每当<code class="codeph">-genkeypair</code>命令被调用以生成一个新的公钥/私钥对，还将公钥包装到一个自签名证书中。
                        </p>
                        <p>稍后，在生成带有证书签名请求（CSR）的证书后， <code class="codeph">-certreq</code>命令并发送给证书颁发机构（CA），来自CA的响应将与<code class="codeph">-importcert</code> ，并将自签名证书替换为证书链。链的底部是CA颁发的用于验证主题的公钥的证书（答复）。链中的下一个证书是对CA的公钥进行身份验证的证书。
                        </p>
                        <p>在许多情况下，这是一个自签名证书，它是CA对其自身公钥进行身份验证的证书，也是链中的最后一个证书。在其他情况下，CA可能会返回证书链。在这种情况下，链中的底层证书是相同的（由CA签名的证书，用于验证密钥条目的公钥），但是链中的第二个证书是由不同的CA签名的证书，用于对公钥进行身份验证您发送了CSR的CA的密钥。链中的下一个证书是对第二个CA的密钥进行身份验证的证书，依此类推，直到达到自签名根证书为止。链中的每个证书（在第一个证书之后）对链中先前证书的签名者的公钥进行身份验证。</p>
                        <p>许多CA仅返回颁发的证书，没有支持链，尤其是在层次结构平坦（无中间CA）的情况下。在这种情况下，必须从已经存储在密钥库中的受信任证书信息中建立证书链。</p>
                        <p>除了已颁发的证书之外，其他答复格式（由PKCS＃7标准定义）还包括支持证书链。两种回复格式都可以由<code class="codeph">keytool</code>命令。
                        </p>
                        <p>顶级（根）CA证书是自签名的。但是，对根的公共密钥的信任不是来自根证书本身，而是来自其他来源，例如报纸。这是因为任何人都可以生成具有专有名称（例如DigiCert根CA）的自签名证书。根CA公钥是众所周知的。将其存储在证书中的唯一原因是因为这是大多数工具都能理解的格式，因此在这种情况下，该证书仅用作传输根CA的公钥的工具。在将根CA证书添加到密钥库之前，应使用<code class="codeph">-printcert</code>选项，并将显示的指纹与从报纸，根CA的网页等获得的知名指纹进行比较。
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CACERTS"><!-- --></a> cacerts证书文件</dt>
                     <dd>
                        <p>名为的证书文件<code class="codeph">cacerts</code>驻留在安全属性目录中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold"><span>Oracle Solaris，Linux和macOS</span> ：</span> <code class="codeph"><span class="codeinlineitalic">JAVA_HOME </span>/lib/security</code></p>
                           </li>
                           <li>
                              <p><span class="bold">视窗：</span> <code class="codeph">java.home\lib\security</code></p>
                           </li>
                        </ul>
                        <p><code class="codeph"><span class="variable" translate="no">java.home</span></code>是运行时环境目录，它是<code class="codeph">jre</code> JDK中的目录或Java Runtime Environment（JRE）的顶级目录。
                        </p>
                        <p>的<code class="codeph">cacerts</code>文件表示带有CA证书的系统范围的密钥库。系统管理员可以使用以下命令配置和管理该文件<code class="codeph">keytool</code>通过指定命令<code class="codeph">jks</code>作为密钥库类型。的<code class="codeph">cacerts</code>密钥库文件附带一组默认的根CA证书。对于Oracle Solaris，Linux，OS X和Windows，可以使用以下命令列出默认证书：</p><pre class="pre codeblock"><code>keytool -list -cacerts 
</code></pre><p>的初始密码<code class="codeph">cacerts</code>密钥库文件为<code class="codeph">changeit</code> 。安装SDK后，系统管理员应更改该密码和该文件的默认访问权限。</p>
                        <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-8AAB82F0-A629-43FB-8114-3F0DC9C4B903">
                           <p class="notep1">注意：</p>
                           <p>验证您的身份很重要<code class="codeph">cacerts</code>文件。因为您信任CA中的<code class="codeph">cacerts</code>文件作为实体以用于向其他实体签名和颁发证书，您必须管理<code class="codeph">cacerts</code>仔细归档。的<code class="codeph">cacerts</code>文件应仅包含您信任的CA的证书。您有责任验证捆绑在其中的受信任的根CA证书。 <code class="codeph">cacerts</code>归档并做出自己的信任决定。
                           </p>
                        </div>
                        <p>从以下位置删除不受信任的CA证书： <code class="codeph">cacerts</code>文件，使用<code class="codeph">-delete</code>的选项<code class="codeph">keytool</code>命令。你可以找到<code class="codeph">cacerts</code> JRE安装目录中的文件。如果您无权编辑此文件，请与系统管理员联系</p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDGGFEG"><!-- --></a> Internet RFC 1421证书编码标准</dt>
                     <dd>
                        <p>证书通常使用Internet RFC 1421标准定义的可打印编码格式存储，而不是使用二进制编码。这种证书格式，也称为Base64编码，可轻松通过电子邮件或其他某种机制将证书导出到其他应用程序。</p>
                        <p>证书由<code class="codeph">-importcert</code>和<code class="codeph">-printcert</code>命令可以采用这种格式，也可以采用二进制编码。的<code class="codeph">-exportcert</code>默认情况下，该命令以二进制编码输出证书，但是当<code class="codeph">-rfc</code>指定了选项。
                        </p>
                        <p>的<code class="codeph">-list</code>默认情况下，该命令会打印证书的SHA-256指纹。如果<code class="codeph">-v</code>指定选项，然后以可读格式打印证书。如果<code class="codeph">-rfc</code>指定选项，然后以可打印的编码格式输出证书。
                        </p>
                        <p>在其可打印的编码格式中，编码的证书在开头和结尾处均以下列文本为界：</p><pre class="pre codeblock"><code>-----BEGIN CERTIFICATE-----

encoded certificate goes here. 

-----END CERTIFICATE-----
</code></pre></dd>
                     <dt class="dlterm"><a name="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDHBFGJ"><!-- --></a> X.500专有名称</dt>
                     <dd>
                        <p>X.500专有名称用于标识实体，例如由<code class="codeph">subject</code>和<code class="codeph">issuer</code> X.509证书的（签名者）字段。的<code class="codeph">keytool</code>命令支持以下子部分：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p></p>
                              <p>commonName：Susan Jones等人的常用名。</p>
                           </li>
                           <li>
                              <p>organizationUnit：小型组织（例如部门或部门）的名称。例如，采购。</p>
                           </li>
                           <li>
                              <p>localityName：地区（城市）名称，例如Palo Alto。</p>
                           </li>
                           <li>
                              <p>stateName：州或省的名称，例如，加利福尼亚。</p>
                           </li>
                           <li>
                              <p>国家/地区：两个字母的国家/地区代码，例如CH。</p>
                           </li>
                        </ul>
                        <p>当您提供专有名称字符串作为a的值时<code class="codeph">-dname</code>选项，例如<code class="codeph">-genkeypair</code>命令，字符串必须采用以下格式：</p><pre class="pre codeblock"><code>CN=cName, OU=orgUnit, O=org, L=city, S=state, C=countryCode
</code></pre><p>以下所有项目均代表实际值，而先前的关键字是以下各项的缩写：</p><pre class="pre codeblock"><code>CN=commonName
OU=organizationUnit
O=organizationName
L=localityName
S=stateName
C=country
</code></pre><p>示例专有名称字符串为：</p><pre class="pre codeblock"><code>CN=Mark Smith, OU=Java, O=Oracle, L=Cupertino, S=California, C=US
</code></pre><p>使用这样的字符串的示例命令是：</p><pre class="pre codeblock"><code>keytool -genkeypair -dname "CN=Mark Smith, OU=Java, O=Oracle, L=Cupertino,
S=California, C=US" -alias mark
</code></pre><p>关键字缩写的大小写无关紧要。例如，CN，cn和Cn都被视为相同。</p>
                        <p>订单事项；每个子组件必须以指定的顺序出现。但是，没有必要拥有所有子组件。您可以使用一个子集，例如：</p><pre class="pre codeblock"><code>CN=Smith, OU=Java, O=Oracle, C=US
</code></pre><p>如果专有名称字符串值包含逗号，则在命令行上指定字符串时，逗号必须用反斜杠（\）字符进行转义，如下所示：</p><pre class="pre codeblock"><code>cn=Jack, ou=Java\, Product Development, o=Oracle, c=US
</code></pre><p>从来没有必要在命令行上指定专有名称字符串。当命令需要可分辨名称但在命令行上未提供可分辨名称时，将提示用户输入每个子组件。在这种情况下，逗号不需要用反斜杠（\）进行转义。</p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-A78F4904-4284-4D20-A47E-8C4A5E31A8D1">警告事项</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDEBFCI">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-9C9CAF44-5FB1-473D-8AB9-7118FC8C2159">导入可信证书警告</p>
                  <p><span class="bold">重要提示</span> ：在将证书导入为受信任证书之前，请务必仔细检查证书。
                  </p>
                  <p><span class="bold">Windows示例：</span></p>
                  <p>首先使用<code class="codeph">-printcert</code>命令或<code class="codeph">-importcert</code>不带命令<code class="codeph">-noprompt</code>选项。确保显示的证书指纹与期望的指纹相同。例如，假设某人向您发送或通过电子邮件将您放入证书的证书放入了一个名为<code class="codeph">\tmp\cert</code> 。在考虑将证书添加到受信任证书列表之前，可以执行以下操作： <code class="codeph">-printcert</code>命令以查看其指纹，如下所示：</p><pre class="pre codeblock"><code>  keytool -printcert -file \tmp\cert
    Owner: CN=ll, OU=ll, O=ll, L=ll, S=ll, C=ll
    Issuer: CN=ll, OU=ll, O=ll, L=ll, S=ll, C=ll
    Serial Number: 59092b34
    Valid from: Thu Jun 24 18:01:13 PDT 2016 until: Wed Jun 23 17:01:13 PST 2016
    Certificate Fingerprints:

                   SHA-1: 20:B6:17:FA:EF:E5:55:8A:D0:71:1F:E8:D6:9D:C0:37:13:0E:5E:FE 
                 SHA-256: 90:7B:70:0A:EA:DC:16:79:92:99:41:FF:8A:FE:EB:90:
                          17:75:E0:90:B2:24:4D:3A:2A:16:A6:E4:11:0F:67:A4</code></pre><p><span class="bold">Oracle Solaris示例：</span></p>
                  <p>首先使用<code class="codeph">-printcert</code>命令或<code class="codeph">-importcert</code>不带命令<code class="codeph">-noprompt</code>选项。确保显示的证书指纹与期望的指纹相同。例如，假设某人向您发送或通过电子邮件将您放入证书的证书放入了一个名为<code class="codeph">/tmp/cert</code> 。在考虑将证书添加到受信任证书列表之前，可以执行以下操作： <code class="codeph">-printcert</code>命令以查看其指纹，如下所示：</p><pre class="pre codeblock"><code>  keytool -printcert -file /tmp/cert
    Owner: CN=ll, OU=ll, O=ll, L=ll, S=ll, C=ll
    Issuer: CN=ll, OU=ll, O=ll, L=ll, S=ll, C=ll
    Serial Number: 59092b34
    Valid from: Thu Jun 24 18:01:13 PDT 2016 until: Wed Jun 23 17:01:13 PST 2016
    Certificate Fingerprints:

                   SHA-1: 20:B6:17:FA:EF:E5:55:8A:D0:71:1F:E8:D6:9D:C0:37:13:0E:5E:FE 
                   SHA-256: 90:7B:70:0A:EA:DC:16:79:92:99:41:FF:8A:FE:EB:90:
                           17:75:E0:90:B2:24:4D:3A:2A:16:A6:E4:11:0F:67:A4
</code></pre><p>然后致电或以其他方式联系发送证书的人员，并将您看到的指纹与显示的指纹进行比较。只有当指纹相等时，才能保证在传输过程中不会将证书替换为其他人的证书，例如攻击者的证书。如果发生了这种攻击，并且您在导入证书之前没有检查证书，那么您将相信攻击者签名的任何内容，例如，其中包含恶意类文件的JAR文件。</p>
                  <div class="infoboxnote" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-2A1B17B7-26B9-456B-A68D-6D1F1867599E">
                     <p class="notep1">注意：</p>
                     <p>不需要执行<code class="codeph">-printcert</code>导入证书之前输入命令。这是因为在将证书添加到密钥库中的受信任证书列表之前， <code class="codeph">-importcert</code>命令打印出证书信息并提示您进行验证。然后，您可以停止导入操作。但是，只有在致电<code class="codeph">-importcert</code>不带命令<code class="codeph">-noprompt</code>选项。如果<code class="codeph">-noprompt</code>如果指定了选项，则不会与用户交互。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-0852D43E-023F-47B0-99DA-BE43B8A7BB3E">密码警告</p>
                  <p>在密钥库上操作的大多数命令都需要商店密码。某些命令需要私钥/秘钥密码。密码可以在命令行中的<code class="codeph">-storepass</code>和<code class="codeph">-keypass</code>选项。但是，除非用于测试，或者您使用的是安全系统，否则不应在命令行或脚本中指定密码。如果未在命令行上指定必需的密码选项，则会提示您输入密码。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__CHDCJBCI">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-E2990E39-38DC-42A4-B62C-E9ECEB404466">证书符合性警告</p>
                  <p><a href="https://tools.ietf.org/rfc/rfc5280.txt" target="_blank">Internet X.509公钥基础结构证书和证书吊销列表（CRL）概要文件</a>定义了符合X.509证书的概要文件，其中包括对证书字段和扩展有效的值和值组合。
                  </p>
                  <p>的<code class="codeph">keytool</code>命令不会强制执行所有这些规则，因此它可以生成不符合标准的证书，例如用于内部测试目的的自签名证书。不符合该标准的证书可能会被JRE或其他应用程序拒绝。用户应确保为其提供正确的选项<code class="codeph">-dname</code> ， <code class="codeph">-ext</code> ， 等等。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-BE219BCF-F4A6-404B-AC32-6DD52C8C3341">导入新的可信证书</p>
                  <p>在将证书添加到密钥库之前， <code class="codeph">keytool</code>命令通过尝试使用密钥库中已经可用的受信任证书来尝试构造从该证书到自签名证书（属于根CA）的信任链来进行验证。
                  </p>
                  <p>如果<code class="codeph">-trustcacerts</code>指定了选项，然后考虑信任链的其他证书，即名为文件的证书<code class="codeph">cacerts</code> 。
                  </p>
                  <p>如果<code class="codeph">keytool</code>命令无法建立从要导入的证书到自签名证书（从密钥库或<code class="codeph">cacerts</code>文件），然后打印证书信息，并通过将显示的证书指纹与从其他（可信）信息源（可能是证书所有者）获得的指纹进行比较，提示用户进行验证。在将证书作为受信任证书导入之前，请务必非常小心以确保证书有效。然后，用户可以选择停止导入操作。如果<code class="codeph">-noprompt</code>如果指定了选项，则不会与用户交互。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-5990A2E4-78E3-47B7-AE75-6D1826259549__GUID-C75061D8-87E1-4E55-91DC-DA46A3E0DEB3">导入证书回复</p>
                  <p>导入证书答复时，将使用来自密钥库的受信任证书以及（可选）在证书存储区中配置的证书来验证证书答复。 <code class="codeph">cacerts</code>密钥库文件何时<code class="codeph">-trustcacerts</code>指定了选项。
                  </p>
                  <p>确定证书回复是否受信任的方法如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果答复是单个X.509证书，则<code class="codeph">keytool</code>命令尝试建立信任链，从证书回复开始，以自签名证书（属于根CA）结束。证书答复和证书层次结构用于根据新的别名证书链对证书答复进行身份验证。如果无法建立信任链，则不会导入证书回复。在这种情况下， <code class="codeph">keytool</code>命令不会打印证书并提示用户进行验证，因为用户很难确定证书回复的真实性。
                        </p>
                     </li>
                     <li>
                        <p>如果答复是PKCS＃7格式的证书链或X.509证书序列，则对链进行排序，首先是用户证书，然后是零个或多个CA证书。如果该链以自签名根CA证书结尾，并且<code class="codeph">-trustcacerts</code>指定了选项， <code class="codeph">keytool</code>命令尝试将其与密钥库或<code class="codeph">cacerts</code>密钥库文件。如果该链不是以自签名根CA证书结尾，则<code class="codeph">-trustcacerts</code>指定了选项， <code class="codeph">keytool</code>命令尝试从密钥库中的受信任证书中找到一个证书，或者<code class="codeph">cacerts</code>密钥库文件，并将其添加到链的末尾。如果找不到证书，并且<code class="codeph">-noprompt</code>如果未指定option，则打印链中最后一个证书的信息，并提示用户进行验证。
                        </p>
                     </li>
                  </ul>
                  <p>如果证书答复中的公钥与已经存储在其中的用户公钥匹配<code class="codeph">alias</code> ，然后在回复中将旧证书链替换为新证书链。旧的链条只能替换为有效的链条<code class="codeph">keypass</code> ，因此提供了用于保护条目私钥的密码。如果未提供密码，并且私钥密码与密钥库密码不同，则会提示用户输入密码。
                  </p>
                  <p>该命令被命名为<code class="codeph">-import</code>在早期版本中。在此版本中仍支持该旧名称。新名称， <code class="codeph">-importcert</code> ，是首选。
                  </p>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   

</body></html>