<html lang="en-us"  xml:lang="en-us"><head></head><body >﻿
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The Java Access Bridge API enables you to develop assistive technology applications for the Microsoft Windows operating system that work with Java applications. It contains native methods that enable you to view and manipulate information about GUI elements in a Java application, which is forwarded to your assistive technology application through Java Access Bridge.">
      <meta name="description" content="The Java Access Bridge API enables you to develop assistive technology applications for the Microsoft Windows operating system that work with Java applications. It contains native methods that enable you to view and manipulate information about GUI elements in a Java application, which is forwarded to your assistive technology application through Java Access Bridge.">
      <title>Java Access Bridge API</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Java Accessibility Guide">
      <meta property="og:description" content="The Java Access Bridge API enables you to develop assistive technology applications for the Microsoft Windows operating system that work with Java applications. It contains native methods that enable you to view and manipulate information about GUI elements in a Java application, which is forwarded to your assistive technology application through Java Access Bridge.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Java Accessibility Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="java-accessibility-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T19:12:39-07:00">
      <meta name="dcterms.title" content="Java Accessibility Guide">
      <meta name="dcterms.dateCopyrighted" content="1993, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E94832-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="java-access-bridge-architecture.html" title="Previous" type="text/html">
      <link rel="next" href="accessibility-properties.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ACCESS">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script>
   
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="java-access-bridge-architecture.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一个</a> <a href="accessibility-properties.html" class="pull-right">下一个<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java辅助功能指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Java Access Bridge API</li>
            </ol>
            <a id="GUID-C10D11B0-F588-43FA-BBDE-70E9085E9AFF" name="GUID-C10D11B0-F588-43FA-BBDE-70E9085E9AFF"></a>
            
            <h2 id="JSACC-GUID-C10D11B0-F588-43FA-BBDE-70E9085E9AFF" class="sect2"><span class="enumeration_chapter">5</span> Java Access Bridge API</h2>
         </header>
         <div class="ind">
            <div>
               <p>Java Access Bridge API使您能够为与Java应用程序一起使用的Microsoft Windows操作系统开发辅助技术应用程序。它包含本机方法，使您可以查看和操作有关Java应用程序中GUI元素的信息，该信息通过Java Access Bridge转发给您的辅助技术应用程序。</p>
               <div class="section">
                  <p class="subhead1" id="GUID-C10D11B0-F588-43FA-BBDE-70E9085E9AFF__GUID-49C3750E-8A91-4204-9555-179A2693873F">话题</p>
                  <ul style="list-style-type:disc">
                     <li><a href="java-access-bridge-api.html#GUID-0F6F322C-59E9-4190-AC13-BB78B52E2D5C" title="可以在四个文件中找到Java Access Bridge API：AccessBridgeCalls.h和AccessBridgeCalls.c（API调用），AccessBridgePackages.h（数据结构）和AccessBridgeCallbacks.h（回调）。">Java Access Bridge API文件</a></li>
                     <li><a href="java-access-bridge-api.html#GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD" title="文件AccessBridgeCalls.h包含Java Access Bridge API调用。要使用它们，请编译文件AccessBridgeCalls.c。Java Access Bridge API调用充当您的应用程序与WindowsAccessBridge.dll之间的接口。">Java Access Bridge API调用</a></li>
                     <li><a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86" title="Java Access Bridge API数据结构包含在文件AccessBridgePackages.h中。">Java Access Bridge API数据结构</a></li>
                     <li><a href="java-access-bridge-api.html#GUID-5A1887CF-3D99-49D5-9237-A629D3048452" title="Java Access Bridge API回调包含在文件AccessBridgeCallbacks.h中。您的事件处理功能必须与这些原型匹配。">Java Access Bridge API回调</a></li>
                     <li><a href="java-access-bridge-api.html#GUID-FC888323-9E9D-4032-8A10-7E8DEC3061E0" title="本主题为那些为Java Access Bridge开发辅助技术应用程序的人介绍了已知的问题和使用技巧。">对Java Access Bridge进行故障排除</a></li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div class="sect2"><a id="GUID-0F6F322C-59E9-4190-AC13-BB78B52E2D5C" name="GUID-0F6F322C-59E9-4190-AC13-BB78B52E2D5C"></a><h3 id="JSACC-GUID-0F6F322C-59E9-4190-AC13-BB78B52E2D5C" class="sect3">Java Access Bridge API文件</h3>
               <div>
                  <p>Java Access Bridge API可以在四个文件中找到： <code>AccessBridgeCalls.h</code>和<code>AccessBridgeCalls.c</code> （API调用）， <code>AccessBridgePackages.h</code> （数据结构），以及<code>AccessBridgeCallbacks.h</code> （回调）。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0F6F322C-59E9-4190-AC13-BB78B52E2D5C__GUID-B8045E80-061E-4A78-98A7-F1AF04E75519">Java Access Bridge API文件的位置</p>
                     <p>在以下位置找到以下Java Access Bridge API包含（头）文件： <code><span class="variable" translate="no">%JAVA_HOME%</span>\include\win32\bridge</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code>AccessBridgeCallbacks.h</code></p>
                        </li>
                        <li>
                           <p><code>AccessBridgeCalls.h</code></p>
                        </li>
                        <li>
                           <p><code>AccessBridgePackages.h</code></p>
                        </li>
                     </ul>
                     <p>查找文件<a class="new-window" href="http://www.oracle.com/pls/topic/lookup?ctx=javase11&id=accessbridgecalls_c"><code>AccessBridgeCalls.c</code></a>在JDK源代码存储库中定义了一些关键接口。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD" name="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD"></a><h3 id="JSACC-GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD" class="sect3">Java Access Bridge API调用</h3>
               <div>
                  <p>文件<code class="codeph">AccessBridgeCalls.h</code>包含Java Access Bridge API调用。要使用它们，请编译文件<code class="codeph">AccessBridgeCalls.c</code> 。Java Access Bridge API调用充当您的应用程序和<code>WindowsAccessBridge.dll</code> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-866FBCD9-D587-4C6B-AA85-9A0AE5BAF3F7">初始化/关机功能</p>
                     <p>这两个功能启动和关闭Java Access Bridge。</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL initializeAccessBridge();</code></pre><p>启动Java Access Bridge。在调用此函数之前，不能使用Java Access Bridge API的任何部分。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL shutdownAccessBridge();</code></pre><p>关闭Java Access Bridge。在您的应用程序使用Java Access Bridge完成后（在应用程序存在之前），调用此函数很重要，这样Java Access Bridge才能正确执行内存清理。</p>
                           <p><span class="bold">注意</span> ：调用函数<span class="apiname">shutdownAccessBridge</span>不能替代释放JVM维护的任何数据结构；而是将其释放。为此，可以调用函数<span class="apiname">ReleaseJavaObject</span> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-7BA3307D-B4DA-42F3-A6E4-B61AB79F0612">网关功能</p>
                     <p>通常，在调用任何其他Java Access Bridge API函数之前，请先调用以下函数：</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL IsJavaWindow(HWND window);</code></pre><p>检查给定窗口是否实现了Java Accessibility API。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleContextFromHWND(HWND target, long *vmID, AccessibleContext *ac);</code></pre><p>得到<code class="codeph">AccessibleContext</code>和<code class="codeph">vmID</code>给定窗口的值。许多Java Access Bridge功能需要<code class="codeph">AccessibleContext</code>和<code class="codeph">vmID</code>价值观。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-E6709D16-D59F-4E62-9728-C8F321F259E6">事件处理功能</p>它们采用指向将处理事件类型的函数的函数指针。如果您不再有兴趣接收这些类型的事件，请再次调用该函数，并传入<code class="codeph">NULL</code>值。在文件中找到传递给这些函数所需的函数指针的原型<code class="codeph">AccessBridgeCallbacks.h</code> 。<a href="java-access-bridge-api.html#GUID-5A1887CF-3D99-49D5-9237-A629D3048452" title="Java Access Bridge API回调包含在文件AccessBridgeCallbacks.h中。您的事件处理功能必须与这些原型匹配。">Java Access Bridge API回调</a>描述了这些原型。
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-9CA66EC7-AA8E-40F4-B84C-0E6E5D9BB319">一般功能</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>void ReleaseJavaObject(long vmID, Java_Object object);</code></pre><p>释放Java对象使用的内存<code class="codeph">object</code> ，在哪里<code class="codeph">object</code>是Java Access Bridge返回给您的对象。Java Access Bridge自动维护对它在JVM中返回给您的所有Java对象的引用，因此不会对其进行垃圾回收。为防止内存泄漏，请致电<code class="codeph">ReleaseJavaObject</code>完成对Java Access Bridge返回给您的所有Java对象的处理之后。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL GetVersionInfo(long vmID, AccessBridgeVersionInfo *info);</code></pre><p>获取您的应用程序正在使用的Java Access Bridge实例的版本信息。您可以使用此信息来确定您的Java Access Bridge版本的可用功能。</p>
                           <div class="infoboxnote" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-E3930484-E98A-467F-825A-55741382D473">
                              <p class="notep1">注意：</p>要确定JVM的版本，您需要传递一个有效的<code class="codeph">vmID</code> ;否则，返回的只是版本号<code class="codeph">WindowsAccessBridge.DLL</code>应用程序连接到的文件。
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-F16997DD-F0BA-45EB-B7D3-8103F0C50B58">可访问的上下文功能</p>
                     <p>这些功能提供了Java Access Bridge公开的Java Accessibility API的核心。</p>
                     <p>功能<code class="codeph">GetAccessibleContextAt</code>和<code class="codeph">GetAccessibleContextWithFocus</code>检索<code class="codeph">AccessibleContext</code>对象，它是一个魔术cookie（Java <code class="codeph">Object</code>参考） <code class="codeph">Accessible</code>对象和JVM cookie。您使用这两个cookie通过Java Access Bridge引用对象。大多数Java Access Bridge API函数要求您传入这两个参数。
                     </p>
                     <div class="infoboxnote" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-007BCF45-4EA6-4DC7-B7A5-C3C56665D14A">
                        <p class="notep1">注意：</p><code class="codeph">AccessibleContext</code>对象是64位进程间通信下的64位引用（使用<code>windowsaccessbridge-64.dll</code>文件）。但是，在JDK 9之前， <code class="codeph">AccessibleContext</code>对象是32位进程间通信下的32位引用（使用<code>windowsaccessbridge.dll</code>没有文件<code>-32</code>要么<code>-64</code>在文件名中）。因此，如果要将辅助技术应用程序转换为在64位Windows系统上运行，则需要重新编译辅助技术应用程序。
                     </div>
                     <p>功能<code class="codeph">GetAccessibleContextInfo</code>返回有关的详细信息<code class="codeph">AccessibleContext</code>属于JVM的对象。为了提高性能，Java Accessibility API中的各种不同方法一起收集到Java Access Bridge API中的几个例程中，并在<code class="codeph">struct</code>价值观。文件<code>AccessBridgePackages.h</code>定义这些<code class="codeph">struct</code>值和<a href="java-access-bridge-api.html#GUID-5A1887CF-3D99-49D5-9237-A629D3048452" title="Java Access Bridge API回调包含在文件AccessBridgeCallbacks.h中。您的事件处理功能必须与这些原型匹配。">Java Access Bridge API回调</a>描述了它们。
                     </p>
                     <p>功能<code class="codeph">GetAccessibleChildFromContext</code>和<code class="codeph">GetAccessibleParentFromContext</code>使您能够遍历GUI组件层次结构，从而检索特定GUI对象的第<span class="italic">n</span>个子级或父级。
                     </p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleContextAt(long vmID, AccessibleContext acParent, jint x, jint y, AccessibleContext *ac)</code></pre><p>检索<code class="codeph">AccessibleContext</code>窗口的对象或鼠标指针下方的对象。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleContextWithFocus(HWND window, long *vmID, AccessibleContext *ac);</code></pre><p>检索<code class="codeph">AccessibleContext</code>窗口的对象或具有焦点的对象。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleContextInfo(long vmID, AccessibleContext ac, AccessibleContextInfo *info);</code></pre><p>检索<code class="codeph">AccessibleContextInfo</code>的对象<code class="codeph">AccessibleContext</code>宾语<code class="codeph">ac</code> 。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>AccessibleContext GetAccessibleChildFromContext(long vmID, AccessibleContext ac, jint index);</code></pre><p>返回一个<code class="codeph">AccessibleContext</code>代表对象的第<span class="variable" translate="no">n</span>个子对象的对象<code class="codeph">ac</code> ，其中<span class="variable" translate="no">n</span>由值索引指定。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>AccessibleContext GetAccessibleParentFromContext(long vmID, AccessibleContext ac);</code></pre><p>返回一个<code class="codeph">AccessibleContext</code>代表对象父对象的对象<code class="codeph">ac</code> 。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>HWND getHWNDFromAccessibleContext(long vmID, AccessibleContext ac);</code></pre><p>从顶级窗口的<span class="apiname">AccessibleContext</span>返回<span class="apiname">HWND</span> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-E4C5C948-FA07-42D0-BE82-A3BBF4C24BA2">无障碍文字功能</p>
                     <p>这些功能得到<code class="codeph">AccessibleText</code> Java Accessibility API提供的信息，为了提高效率分为七个部分。一个<code class="codeph">AccessibleContext</code>拥有<code class="codeph">AccessibleText</code>如果设置标志，其中包含的信息<code class="codeph">accessibleText</code>在里面<code class="codeph">AccessibleContextInfo</code>数据结构<code class="codeph">TRUE</code> 。文件<code class="codeph">AccessBridgePackages.h</code>定义<code class="codeph">struct</code>这些功能中使用的值<a href="java-access-bridge-api.html#GUID-5A1887CF-3D99-49D5-9237-A629D3048452" title="Java Access Bridge API回调包含在文件AccessBridgeCallbacks.h中。您的事件处理功能必须与这些原型匹配。">Java Access Bridge API回调</a>描述了它们。
                     </p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleTextInfo(long vmID, AccessibleText at, AccessibleTextInfo
*textInfo, jint x, jint y);</code></pre></li>
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleTextItems(long vmID, AccessibleText at, AccessibleTextItemsInfo
*textItems, jint index);</code></pre></li>
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleTextSelectionInfo(long vmID, AccessibleText
at, AccessibleTextSelectionInfo *textSelection);</code></pre></li>
                        <li><pre class="pre codeblock"><code>char *GetAccessibleTextAttributes(long vmID, AccessibleText
at, jint index, AccessibleTextAttributesInfo *attributes);</code></pre></li>
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleTextRect(long vmID, AccessibleText at, AccessibleTextRectInfo
*rectInfo, jint index);</code></pre></li>
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleTextRange(long vmID, AccessibleText at, jint
start, jint end, wchar_t *text, short len);</code></pre></li>
                        <li><pre class="pre codeblock"><code>BOOL GetAccessibleTextLineBounds(long vmID, AccessibleText
at, jint index, jint *startIndex, jint *endIndex);</code></pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-A2BA0893-8717-4BE1-8904-57DDD2EDC769">附加文字功能</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL selectTextRange(const long vmID, const AccessibleContext accessibleContext, const int startIndex, const int endIndex);</code></pre><p>在两个索引之间选择文本。选择内容包括开始索引处的文本和结束索引处的文本。返回是否成功。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getTextAttributesInRange(const long vmID, const AccessibleContext accessibleContext, const int startIndex, const int endIndex, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLETEXTATTRIBUTESINFO">AccessibleTextAttributesInfo</a> *attributes, short *len);</code></pre><p>获取两个索引之间的文本属性。属性列表包括在开始索引处的文本和在结束索引处的文本。返回是否成功。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL setCaretPosition(const long vmID, const AccessibleContext accessibleContext, const int position);</code></pre><p>将插入符号设置为文本位置。返回是否成功。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getCaretLocation(long vmID, AccessibleContext ac, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLETEXTRECTINFO">AccessibleTextRectInfo</a> *rectInfo, jint index);</code></pre><p>获取文本插入符号的位置。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL setTextContents (const long vmID, const AccessibleContext accessibleContext, const wchar_t *text);</code></pre><p>设置可编辑的文本内容。<span class="apiname">AccessibleContext</span>必须实现<span class="apiname">AccessibleEditableText</span>并且是可编辑的。可以设置的最大文字长度为<code class="codeph">MAX_STRING_SIZE - 1</code> 。返回是否成功。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-B68ADBEB-E771-47D9-9922-2AA9E070442D">辅助功能表功能</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleTableInfo(long vmID, AccessibleContext acParent, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLETABLEINFO">AccessibleTableInfo</a> *tableInfo);</code></pre><p>返回有关表的信息，例如标题，摘要，行和列数以及AccessibleTable。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleTableCellInfo(long vmID, AccessibleTable accessibleTable, jint row, jint column, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLETABLECELLINFO">AccessibleTableCellInfo</a> *tableCellInfo);</code></pre><p>返回有关指定表单元格的信息。行和列说明符从零开始。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleTableRowHeader(long vmID, AccessibleContext acParent, AccessibleTableInfo *tableInfo);</code></pre><p>以表格形式返回指定表格的表格行标题。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleTableColumnHeader(long vmID, AccessibleContext acParent, AccessibleTableInfo *tableInfo);</code></pre><p>将指定表的表列标题作为表返回。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>AccessibleContext getAccessibleTableRowDescription(long vmID, AccessibleContext acParent, jint row);</code></pre><p>返回指定表中指定行的描述。行说明符从零开始。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>AccessibleContext getAccessibleTableColumnDescription(long vmID, AccessibleContext acParent, jint column);</code></pre><p>返回指定表中指定列的描述。列说明符从零开始。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>jint getAccessibleTableRowSelectionCount(long vmID, AccessibleTable table);</code></pre><p>返回表中选择的行数。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL isAccessibleTableRowSelected(long vmID, AccessibleTable table, jint row);</code></pre><p>如果选择了指定的从零开始的行，则返回true。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleTableRowSelections(long vmID, AccessibleTable table, jint count, jint *selections);</code></pre><p>返回所选行的从零开始的索引数组。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>jint getAccessibleTableColumnSelectionCount(long vmID, AccessibleTable table);</code></pre><p>返回表中选择的列数。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL isAccessibleTableColumnSelected(long vmID, AccessibleTable table, jint column);</code></pre><p>如果选择了指定的从零开始的列，则返回true。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleTableColumnSelections(long vmID, AccessibleTable table, jint count, jint *selections);</code></pre><p>返回所选列的从零开始的索引数组。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>jint getAccessibleTableRow(long vmID, AccessibleTable table, jint index);</code></pre><p>返回指定单元格索引处的单元格的行号。值从零开始。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>jint getAccessibleTableColumn(long vmID, AccessibleTable table, jint index);</code></pre><p>返回指定单元格索引处的单元格的列号。值从零开始。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>jint getAccessibleTableIndex(long vmID, AccessibleTable table, jint row, jint column);</code></pre><p>返回表中指定行和列偏移量的索引。值从零开始。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-323A8E61-D409-44A0-AEDC-67A75E1B6CF5">可访问关系集功能</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleRelationSet(long vmID, AccessibleContext accessibleContext, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLERELATIONSETINFO">AccessibleRelationSetInfo</a> *relationSetInfo);</code></pre><p>返回有关对象相关对象的信息。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-20BA155E-4353-446F-A03F-DB537B8F5A4C">可访问的超文本功能</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleHypertext(long vmID, AccessibleContext accessibleContext, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEHYPERTEXTINFO">AccessibleHypertextInfo</a> *hypertextInfo);</code></pre><p>返回与组件关联的超文本信息。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL activateAccessibleHyperlink(long vmID, AccessibleContext accessibleContext, AccessibleHyperlink accessibleHyperlink);</code></pre><p>请求激活超链接。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>jint getAccessibleHyperlinkCount(const long vmID, const AccessibleHypertext hypertext);</code></pre><p>返回组件中的超链接数。映射到<span class="apiname">AccessibleHypertext.getLinkCount</span> 。错误返回-1。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleHypertextExt(const long vmID, const AccessibleContext accessibleContext, const jint nStartIndex, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEHYPERTEXTINFO">AccessibleHypertextInfo</a> *hypertextInfo);</code></pre><p>遍历组件中的超链接。返回从超链接索引<span class="apiname">nStartIndex</span>开始的组件的超文本信息。对于每次对此方法的调用， <span class="apiname">最多</span>返回<span class="apiname">MAX_HYPERLINKS个</span> <span class="apiname">AccessibleHypertextInfo</span>对象。错误返回<span class="apiname">FALSE</span> 。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>jint getAccessibleHypertextLinkIndex(const long vmID, const AccessibleHypertext hypertext, const jint nIndex);</code></pre><p>将索引返回到与文档中的字符索引关联的超链接数组中。映射到<span class="apiname">AccessibleHypertext.getLinkIndex</span> 。错误返回-1。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleHyperlink(const long vmID, const AccessibleHypertext hypertext, const jint nIndex, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEHYPERTEXTINFO">AccessibleHypertextInfo</a> *hyperlinkInfo);</code></pre><p>返回文档中的第<span class="italic">n</span>个超链接。映射到<span class="apiname">AccessibleHypertext.getLink</span> 。错误返回<span class="apiname">FALSE</span> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-FEC8437E-4F1D-4715-9F77-8E626AC8A1E4">无障碍键绑定功能</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleKeyBindings(long vmID, AccessibleContext accessibleContext, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEKEYBINDINGS">AccessibleKeyBindings</a> *keyBindings);</code></pre><p>返回与组件关联的键绑定的列表。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-56480E3F-AFBD-4534-B664-92F9676EEB96">无障碍图标功能</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleIcons(long vmID, AccessibleContext accessibleContext, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEICONS">AccessibleIcons</a> *icons);</code></pre><p>返回与组件关联的图标列表。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-5F6EDF64-3478-4CF5-BF4A-05D10D426F02">辅助功能</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL getAccessibleActions(long vmID, AccessibleContext accessibleContext, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEACTIONS">AccessibleActions</a> *actions);</code></pre><p>返回组件可以执行的操作的列表。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL doAccessibleActions(long vmID, AccessibleContext accessibleContext, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEACTIONSTODO">AccessibleActionsToDo</a> *actionsToDo, jint *failure);      </code></pre><p>请求组件执行<span class="apiname">AccessibleAction</span>的列表。如果执行所有操作，则返回<span class="apiname">TRUE</span> 。当第一个请求的操作失败时返回<span class="apiname">FALSE</span> ，在这种情况下，“失败”包含失败的操作的索引。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-3C7658E9-0DB9-44CD-8743-D3C3F881CB13">实用功能</p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL IsSameObject(long vmID, JOBJECT64 obj1, JOBJECT64 obj2);</code></pre><p>返回两个对象引用是否引用同一对象。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>AccessibleContext getParentWithRole (const long vmID, const AccessibleContext accessibleContext, const wchar_t *role);</code></pre><p>返回具有指定角色的<span class="apiname">AccessibleContext</span> ，该角色是给定对象的祖先。角色是<a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86" title="Java Access Bridge API数据结构包含在文件AccessBridgePackages.h中。">Java Access Bridge API数据结构中</a>定义的角色字符串之一。如果没有具有指定角色的祖先对象，则返回<span class="apiname">（AccessibleContext）0</span> 。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>AccessibleContext getParentWithRoleElseRoot (const long vmID, const AccessibleContext accessibleContext, const wchar_t *role); </code></pre><p>返回具有指定角色的<span class="apiname">AccessibleContext</span> ，该角色是给定对象的祖先。角色是<a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86" title="Java Access Bridge API数据结构包含在文件AccessBridgePackages.h中。">Java Access Bridge API数据结构中</a>定义的角色字符串之一。如果具有指定角色的对象不存在，则返回Java窗口的顶级对象。错误返回<span class="apiname">（AccessibleContext）0</span> 。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>AccessibleContext getTopLevelObject (const long vmID, const AccessibleContext accessibleContext);</code></pre><p>返回Java窗口中顶级对象的<span class="apiname">AccessibleContext</span> 。这是从该窗口的<span class="apiname">GetAccessibleContextFromHWND</span>获得的<span class="apiname">AccessibleContext</span> 。错误返回<span class="apiname">（AccessibleContext）0</span> 。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>int getObjectDepth (const long vmID, const AccessibleContext accessibleContext);</code></pre><p>返回给定对象在对象层次结构中的深度。对象层次结构中最顶层的对象的对象深度为0。错误返回-1。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>AccessibleContext getActiveDescendent (const long vmID, const AccessibleContext accessibleContext);</code></pre><p>返回对象当前<span class="apiname">ActiveDescendent</span>的<span class="apiname">AccessibleContext</span> 。此方法假定<span class="apiname">ActiveDescendent</span>是当前在容器对象中选择的组件。错误或没有选择时返回<span class="apiname">（AccessibleContext）0</span> 。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL requestFocus(const long vmID, const AccessibleContext accessibleContext);</code></pre><p>请求关注组件。返回是否成功。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>int getVisibleChildrenCount(const long vmID, const AccessibleContext accessibleContext);</code></pre><p>返回组件的可见子级数。错误返回-1。</p>
                        </li>
                        <li><pre class="pre codeblock"><code>BOOL getVisibleChildren(const long vmID, const AccessibleContext accessibleContext, const int startIndex, <a href="java-access-bridge-api.html#GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__VISIBLECHILDENINFO">VisibleChildrenInfo</a> *visibleChildrenInfo);</code></pre><p>获取<span class="apiname">AccessibleContext</span>的可见子级。返回是否成功。
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>int getEventsWaiting();</code></pre><p>获取等待触发的事件数。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-CE1E3913-CB3E-4758-86EA-EACE3D773FA6">可访问值功能</p>
                     <p>这些功能得到<code class="codeph">AccessibleValue</code> Java Accessibility API提供的信息。一个<code class="codeph">AccessibleContext</code>对象有<code class="codeph">AccessibleValue</code>如果标志包含在其中的信息<code class="codeph">accessibleValue</code>在里面<code class="codeph">AccessibleContextInfo</code>数据结构设置为<code class="codeph">TRUE</code> 。返回的值是<code class="codeph">strings (char *value)</code>因为无法提前告知该值是整数，浮点值还是其他子类来继承Java语言构造的对象<code class="codeph">java.lang.Number</code> 。
                     </p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>BOOL GetCurrentAccessibleValueFromContext(long vmID, AccessibleValue av, wchar_t *value, short len);</code></pre></li>
                        <li><pre class="pre codeblock"><code>BOOL GetMaximumAccessibleValueFromContext(long vmID, AccessibleValue av, wchar_ *value, short len);</code></pre></li>
                        <li><pre class="pre codeblock"><code>BOOL GetMinimumAccessibleValueFromContext(long vmID, AccessibleValue av, wchar_ *value, short len);</code></pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C79D9A13-0922-49DC-A28B-DFECDCFA79DD__GUID-14742368-816A-40DA-B508-7348F82E511E">辅助选择功能</p>
                     <p>这些功能获取并操纵<code class="codeph">AccessibleSelection</code> Java Accessibility API提供的信息。一个<code class="codeph">AccessibleContext</code>拥有<code class="codeph">AccessibleSelection</code>如果标志包含在其中的信息<code class="codeph">accessibleSelection</code>在里面<code class="codeph">AccessibleContextInfo</code>数据结构设置为<code class="codeph">TRUE</code> 。的<code class="codeph">AccessibleSelection</code>支持是通过添加和删除选择项来操作用户界面（而不是查询）的第一个地方。一些功能使用子坐标中的索引，而其他功能则使用选择坐标。例如，添加以通过传递子索引将其从选择中删除（例如，将第四个子添加到选择中）。另一方面，枚举所选子代是在选择坐标中完成的（例如，获得<code class="codeph">AccessibleContext</code>选择的第一个对象）。
                     </p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>void AddAccessibleSelectionFromContext(long vmID, AccessibleSelection
as, int i);</code></pre></li>
                        <li><pre class="pre codeblock"><code>void ClearAccessibleSelectionFromContext(long vmID, AccessibleSelection
as);</code></pre></li>
                        <li><pre class="pre codeblock"><code>jobject GetAccessibleSelectionFromContext(long vmID, AccessibleSelection
as, int i);</code></pre></li>
                        <li><pre class="pre codeblock"><code>int GetAccessibleSelectionCountFromContext(long vmID, AccessibleSelection
as);</code></pre></li>
                        <li><pre class="pre codeblock"><code>BOOL IsAccessibleChildSelectedFromContext(long vmID, AccessibleSelection
as, int i);</code></pre></li>
                        <li><pre class="pre codeblock"><code>void RemoveAccessibleSelectionFromContext(long vmID, AccessibleSelection
as, int i);</code></pre></li>
                        <li><pre class="pre codeblock"><code>void SelectAllAccessibleSelectionFromContext(long vmID, AccessibleSelection
as);</code></pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86" name="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86"></a><h3 id="JSACC-GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86" class="sect3">Java Access Bridge API数据结构</h3>
               <div>
                  <p>Java Access Bridge API数据结构包含在文件中<code class="codeph">AccessBridgePackages.h</code> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__GUID-B4CB222B-F473-4031-A04C-6D273F10A9DD">重要数据结构</p>
                     <p>该文件中有一些数据结构是您不需要（可以忽略）的。它们被用作两个Java Access Bridge DLL的进程间通信机制的一部分。重要的数据结构如下：</p><pre class="pre codeblock"><code>#define MAX_STRING_SIZE     1024
#define SHORT_STRING_SIZE    256

typedef struct AccessibleContextInfoTag {
  wchar_ name[MAX_STRING_SIZE];        // the AccessibleName of the object
  wchar_ description[MAX_STRING_SIZE]; // the AccessibleDescription of the object
  wchar_ role[SHORT_STRING_SIZE];      // localized AccesibleRole string
  wchar_ states[SHORT_STRING_SIZE];    // localized AccesibleStateSet string
                                       //   (comma separated)
  jint indexInParent                   // index of object in parent
  jint childrenCount                   // # of children, if any
  jint x;                              // screen x-axis co-ordinate in pixels
  jint y;                              // screen y-axis co-ordinate in pixels
  jint width;                          // pixel width of object
  jint height;                         // pixel height of object
  BOOL accessibleComponent;            // flags for various additional
  BOOL accessibleAction;               // Java Accessibility interfaces
  BOOL accessibleSelection;            // FALSE if this object doesn't
  BOOL accessibleText;                 // implement the additional interface
  BOOL accessibleInterfaces;           // new bitfield containing additional
                                       //   interface flags
} AccessibleContextInfo;
 
typedef struct AccessibleTextInfoTag {
  jint charCount;       // # of characters in this text object
  jint caretIndex;      // index of caret
  jint indexAtPoint;    // index at the passsed in point
} AccessibleTextInfo;

typedef struct AccessibleTextItemsInfoTag {
  wchar_t letter;
  wchar_t word[SHORT_STRING_SIZE];
  wchar_t sentence[MAX_STRING_SIZE];
} AccessibleTextItemsInfo;
 
typedef struct AccessibleTextSelectionInfoTag {
  jint selectionStartIndex;
  jint selectionEndIndex;
  wchar_t selectedText[MAX_STRING_SIZE];
} AccessibleTextSelectionInfo;
 
typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLETEXTRECTINFO">AccessibleTextRectInfoTag</span>  {
  jint x;          // bounding recttangle of char at index, x-axis co-ordinate
  jint y;          // y-axis co-ordinate
  jint width;      // bounding rectangle width
  jint height;     // bounding rectangle height
} AccessibleTextRectInfo;
 
typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLETEXTATTRIBUTESINFO">AccessibleTextAttributesInfoTag</span> {
  BOOL bold;
  BOOL italic;
  BOOL underline;
  BOOL strikethrough;
  BOOL superscript;
  BOOL subscript;
  wchar_t backgroundColor[SHORT_STRING_SIZE];
  wchar_t foregroundColor[SHORT_STRING_SIZE];
  wchar_t fontFamily[SHORT_STRING_SIZE];
  jint fontSize;
  jint alignment;
  jint bidiLevel;
  jfloat firstLineIndent;
  jfloat leftIndent;
  jfloat rightIndent;
  jfloat lineSpacing;
  jfloat spaceAbove;
  jfloat spaceBelow;
  wchar_t fullAttributesString[MAX_STRING_SIZE];
} AccessibleTextAttributesInfo;

typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLETABLEINFO">AccessibleTableInfoTag</span>  {
  JOBJECT64 caption;  // AccesibleContext
  JOBJECT64 summary;  // AccessibleContext
  jint rowCount;
  jint columnCount;
  JOBJECT64 accessibleContext;
  JOBJECT64 accessibleTable;
} AccessibleTableInfo;

typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLETABLECELLINFO">AccessibleTableCellInfoTag</span>  {
  JOBJECT64  accessibleContext;
  jint       index;
  jint       row;
  jint       column;
  jint       rowExtent;
  jint       columnExtent;
  jboolean   isSelected;
} AccessibleTableCellInfo;

typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLERELATIONSETINFO">AccessibleRelationSetInfoTag</span> {
  jint relationCount;
  AccessibleRelationInfo relations[MAX_RELATIONS];
} AccessibleRelationSetInfo;

typedef struct AccessibleRelationInfoTag {
  wchar_t key[SHORT_STRING_SIZE];
  jint targetCount;
  JOBJECT64 targets[MAX_RELATION_TARGETS];  // AccessibleContexts
} AccessibleRelationInfo;


typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEHYPERTEXTINFO">AccessibleHypertextInfoTag</span> {
  jint linkCount;                                 // number of hyperlinks
  AccessibleHyperlinkInfo links[MAX_HYPERLINKS];  // the hyperlinks
  JOBJECT64 accessibleHypertext;                  // AccessibleHypertext object
} AccessibleHypertextInfo;

typedef struct AccessibleHyperlinkInfoTag {
  wchar_t text[SHORT_STRING_SIZE]; // the hyperlink text
  jint startIndex;                 // index in the hypertext document where the link begins
  jint endIndex;                   // index in the hypertext document where the link ends
  JOBJECT64 accessibleHyperlink;   // AccessibleHyperlink object
} AccessibleHyperlinkInfo;

typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEKEYBINDINGS">AccessibleKeyBindingsTag</span> {
  int keyBindingsCount; // number of key bindings
  AccessibleKeyBindingInfo keyBindingInfo[MAX_KEY_BINDINGS];
} AccessibleKeyBindings;

typedef struct AccessibleKeyBindingInfoTag {
  jchar character; // the key character
  jint modifiers;  // the key modifiers
} AccessibleKeyBindingInfo;

typedef struct  <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEICONS">AccessibleIconsTag</span> {
  jint iconsCount;                            // number of icons
  AccessibleIconInfo iconInfo[MAX_ICON_INFO]; // the icons
} AccessibleIcons;

typedef struct AccessibleIconInfoTag {
  wchar_t description[SHORT_STRING_SIZE]; // icon description
  jint height;                            // icon height
  jint width;                             // icon width
} AccessibleIconInfo;

typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEACTIONS">AccessibleActionsTag</span> {
  jint actionsCount;                                // number of actions
  AccessibleActionInfo actionInfo[MAX_ACTION_INFO]; // the action information
} AccessibleActions;

typedef struct AccessibleActionInfoTag {
  wchar_t name[SHORT_STRING_SIZE]; // action name
} AccessibleActionInfo;

typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__ACCESSIBLEACTIONSTODO">AccessibleActionsToDoTag</span> {
  jint actionsCount;                               // number of actions to do
  AccessibleActionInfo actions[MAX_ACTIONS_TO_DO]; // the accessible actions to do
} AccessibleActionsToDo;

typedef struct <span class="apiname" id="GUID-A4B488F9-622F-4A5C-932D-7C61BA2FFC86__VISIBLECHILDENINFO">VisibleChildenInfoTag</span> {
  int returnedChildrenCount;                        // number of children returned
  AccessibleContext children[MAX_VISIBLE_CHILDREN]; // the visible children
} VisibleChildenInfo;
</code></pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-5A1887CF-3D99-49D5-9237-A629D3048452" name="GUID-5A1887CF-3D99-49D5-9237-A629D3048452"></a><h3 id="JSACC-GUID-5A1887CF-3D99-49D5-9237-A629D3048452" class="sect3">Java Access Bridge API回调</h3>
               <div>
                  <p>Java Access Bridge API回调包含在文件中<code class="codeph">AccessBridgeCallbacks.h</code> 。您的事件处理功能必须与这些原型匹配。
                  </p>
                  <div class="section">
                     <p>您必须调用该函数<code class="codeph">ReleaseJavaObject</code>在每个<code class="codeph">JOBJECT64</code>完成这些事件处理程序后，将返回这些事件处理程序，以防止JVM中的内存泄漏。</p>
                     <p>如果您使用的是旧版API，请定义<code class="codeph">ACCESSBRIDGE_ARCH_LEGACY</code> 。
                     </p>
                     <p><code class="codeph">JOBJECT64</code>被定义为<code class="codeph">jlong</code>在64位系统上<code class="codeph">jobject</code>在Java Access Bridge的旧版本上。有关定义，请参见<code class="codeph">ACCESSBRIDGE_ARCH_LEGACY</code>在里面<code class="codeph">AccessBridgePackages.h</code>头文件。
                     </p>
                     <ul style="list-style-type:disc">
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_FocusGainedFP) (long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_FocusLostFP) (long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_CaretUpdateFP) (long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_MouseClickedFP) (long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_MouseEnteredFP) (long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_MouseExitedFP) (long vmID, JOBJECT64
event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_MousePressedFP)
(long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef
void (*AccessBridge_MouseReleasedFP) (long vmID, JOBJECT64 event,
JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_MenuCanceledFP)
(long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef
void (*AccessBridge_MenuDeselectedFP) (long vmID, JOBJECT64 event,
JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_MenuSelectedFP)
(long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef
void (*AccessBridge_PopupMenuCanceledFP) (long vmID JOBJECT64 event,
JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_PopupMenuWillBecomeInvisibleFP)
(long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef
void (*AccessBridge_PopupMenuWillBecomeVisibleFP) (long vmID, JOBJECT64
event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_PropertyNameChangeFP)
(long vmID, JOBJECT64 event, JOBJECT64 source, wchar_t *oldName, wchar_t
*newName);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_PropertyDescriptionChangeFP)
(long vmID, JOBJECT64 event, JOBJECT64 source, wchar_t *oldDescription,
wchar_t *newDescription);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_PropertyStateChangeFP)
(long vmID, JOBJECT64 event, JOBJECT64 source, wchar_t *oldState,
wchar_t *newState);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_PropertyValueChangeFP)
(long vmID, JOBJECT64 event, JOBJECT64 source, wchar_t *oldValue,
wchar_t *newValue);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_PropertySelectionChangeFP)
(long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef
void (*AccessBridge_PropertyTextChangeFP) (long vmID, JOBJECT64 event,
JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_PropertyCaretChangeFP)
(long vmID, JOBJECT64 event, JOBJECT64 source, int oldPosition, int
newPosition);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_PropertyVisibleDataChangeFP)
(long vmID, JOBJECT64 event, JOBJECT64 source);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef
void (*AccessBridge_PropertyChildChangeFP) (long vmID, JOBJECT64 event,
JOBJECT64 source, JOBJECT64 oldChild, JOBJECT64 newChild);</code></pre></li>
                        <li><pre class="pre codeblock"><code>typedef void (*AccessBridge_PropertyActiveDescendentChangeFP)
(long vmID, JOBJECT64 event, JOBJECT64 source, JOBJECT64 oldActiveDescendent,
JOBJECT64 newActiveDescendent);</code></pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-FC888323-9E9D-4032-8A10-7E8DEC3061E0" name="GUID-FC888323-9E9D-4032-8A10-7E8DEC3061E0"></a><h3 id="JSACC-GUID-FC888323-9E9D-4032-8A10-7E8DEC3061E0" class="sect3">对Java Access Bridge进行故障排除</h3>
               <div>
                  <p>本主题为那些为Java Access Bridge开发辅助技术应用程序的人介绍了已知的问题和使用技巧。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-FC888323-9E9D-4032-8A10-7E8DEC3061E0__GUID-0139040C-3819-40CE-BF36-D68305BA5727">已知问题</p>
                     <p><span class="bold">重新注册菜单事件会生成重复的副本</span> ：如果注册菜单事件，请先注销它，然后再次注册，然后Java Access Bridge会生成该菜单事件的重复副本。
                     </p>
                     <p><span class="bold"><code class="codeph">MenuDeselected</code>关闭菜单时生成的事件</span> ：您没有收到<span class="apiname">MenuCanceled</span> （或<span class="apiname">PopupMenuCanceled</span> ）事件。要确定菜单已关闭，请查找<span class="apiname">MenuDeselected</span>事件。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FC888323-9E9D-4032-8A10-7E8DEC3061E0__GUID-5CDBB2CC-83FB-48B8-B209-CC5936621AF0">使用技巧</p>
                     <p><span class="bold">确定菜单项选择中的更改</span> ：使用状态<code class="codeph">PropertyChange</code>事件来确定菜单项选择的更改（例如，当用户使用箭头按钮或键在菜单中向上或向下移动时）。
                     </p>
                     <p><span class="bold">跟踪GUI元素的值</span> ：使用<code class="codeph">AccessibleValue</code>支持与价值<code class="codeph">PropertyChange</code>事件以跟踪GUI元素（如滑块和滚动条）的值。
                     </p>
                     <p><span class="bold">确定所选项目</span> ：使用<code class="codeph">AccessibleSelection</code>支持确定在包含列表和表格等项目的容器中选择了哪些项目。这比枚举所有孩子并检查他们的孩子更有效。 <code class="codeph">StateSet</code>属性以查看所选值是否在其中。
                     </p>
                     <p><span class="bold">Java Access Bridge测试工具</span> ：Java Access Bridge测试工具<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/access&id=JSWOR-GUID-F70952CE-C8A1-4D1C-8277-DF8F8D6A6973" target="_blank"><code class="codeph">jaccessinspector</code></a>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/access&id=JSWOR-GUID-B451D421-D232-4031-8968-27C177E3566C" target="_blank"><code class="codeph">jaccesswalker</code></a>位于Java中<code>bin</code>目录。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   

</body></html>