<html lang="en-us"  xml:lang="en-us"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This topic examines Compiler Control options and steps for writing directives from those options.">
      <meta name="description" content="This topic examines Compiler Control options and steps for writing directives from those options.">
      <title>Writing Directives</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Java Virtual Machine Guide">
      <meta property="og:description" content="This topic examines Compiler Control options and steps for writing directives from those options.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Java Virtual Machine Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="java-virtual-machine-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T02:39:56-07:00">
      <meta name="dcterms.title" content="Java Virtual Machine Guide">
      <meta name="dcterms.dateCopyrighted" content="1993, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E95202-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="compiler-control1.html" title="Previous" type="text/html">
      <link rel="next" href="understanding-directives-better.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VM">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="compiler-control1.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一个</a> <a href="understanding-directives-better.html" class="pull-right">下一个<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java虚拟机指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="compiler-control1.html" property="item" typeof="WebPage"><span property="name">编译器控制</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">编写指令</li>
            </ol>
            <a id="GUID-8ABE81D8-FABA-4871-86AA-998112994C44" name="GUID-8ABE81D8-FABA-4871-86AA-998112994C44"></a>
            
            <h2 id="JSJVM-GUID-8ABE81D8-FABA-4871-86AA-998112994C44" class="sect2">编写指令</h2>
         </header>
         <div class="ind">
            <div>
               <p>本主题检查编译器控制选项以及从这些选项中编写指令的步骤。</p>
               <div class="section">
                  <p class="subhead1" id="GUID-8ABE81D8-FABA-4871-86AA-998112994C44__TOPICS-841C9D0F">话题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="writing-directives.html#GUID-FF488969-AFCD-48ED-93F5-A49C6C893D39" title="选项是编译说明。选项提供方法上下文精度。可用选项因编译器而异，并且需要特定类型的值。">编译器控制选项</a></p>
                     </li>
                     <li>
                        <p><a href="writing-directives.html#GUID-8D24F71C-00A0-4959-AF10-1E08201B0B69" title="各个编译器指令均写入指令文件中。只能将指令文件（而不是单个指令）添加到活动指令堆栈中。">编写指令文件</a></p>
                     </li>
                     <li>
                        <p><a href="writing-directives.html#GUID-4191CF8A-8FBB-4DB1-9275-DE438B7EE69A" title="您必须在指令文件中编写一个编译器指令。您可以对要在指令文件中编写的每个单独的编译器指令重复以下步骤。">编写编译器指令</a></p>
                     </li>
                     <li>
                        <p><a href="writing-directives.html#GUID-EAAA6987-3F98-42FB-A877-C6169B4C71BE" title="ccstr是一种可以精确编写的方法模式，也可以使用通配符将其概括。您可以指定哪些最匹配的Java代码应应用附带的指令选项，或者应内联哪些Java代码。">在编译器指令中编写方法模式</a></p>
                     </li>
                     <li>
                        <p><a href="writing-directives.html#GUID-F9B12DF3-50D7-432F-942C-BD554FF41865" title="内联指令选项的属性需要带有前缀特殊命令的方法模式数组。这表明哪些方法模式应该或不应该内联。">编写内联指令选项</a></p>
                     </li>
                     <li>
                        <p><a href="writing-directives.html#GUID-D89AB9B7-B72B-4889-B3F3-4FEABEC783C1" title="您可以使用“启用”选项隐藏指令的各个方面并防止指令之间重复。">使用“启用”选项防止重复</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div class="sect2"><a id="GUID-FF488969-AFCD-48ED-93F5-A49C6C893D39" name="GUID-FF488969-AFCD-48ED-93F5-A49C6C893D39"></a><h3 id="JSJVM-GUID-FF488969-AFCD-48ED-93F5-A49C6C893D39" class="sect3">编译器控制选项</h3>
               <div>
                  <p>选项是编译说明。选项提供方法上下文精度。可用选项因编译器而异，并且需要特定类型的值。</p>
                  <div class="tblformal" id="GUID-FF488969-AFCD-48ED-93F5-A49C6C893D39__COMMONOPTIONS-61F28807">
                     <p class="titleintable">表2-1常用选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="常用选项" width="100%" border="1" summary="Options applicable to all compilers" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d1284e83">选项</th>
                              <th align="left" valign="bottom" width="25%" id="d1284e86">描述</th>
                              <th align="left" valign="bottom" width="25%" id="d1284e89">值类型</th>
                              <th align="left" valign="bottom" width="25%" id="d1284e92">默认值</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e97" headers="d1284e83 ">
                                 <p><code class="codeph">Enable</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e97 d1284e86 ">
                                 <p>隐藏指令，如果设置为，则使其不匹配<code class="codeph">false</code> 。此选项对于防止选项重复很有用。请参阅<a href="writing-directives.html#GUID-D89AB9B7-B72B-4889-B3F3-4FEABEC783C1" title="您可以使用“启用”选项隐藏指令的各个方面并防止指令之间重复。">使用Enable选项防止重复</a> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e97 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e97 d1284e92 ">
                                 <p><code class="codeph">true</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e125" headers="d1284e83 ">
                                 <p><code class="codeph">Exclude</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e125 d1284e86 ">
                                 <p>从编译中排除方法。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e125 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e125 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e141" headers="d1284e83 ">
                                 <p><code class="codeph">BreakAtExecute</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e141 d1284e86 ">
                                 <p>设置断点以在调试JVM时在指定方法的开头停止执行。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e141 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e141 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e157" headers="d1284e83 ">
                                 <p><code class="codeph">BreakAtCompile</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e157 d1284e86 ">
                                 <p>设置断点以在调试JVM时在指定方法的开头停止编译。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e157 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e157 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e173" headers="d1284e83 ">
                                 <p><code class="codeph">Log</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e173 d1284e86 ">
                                 <p>仅将指定的方法放在日志中。您必须先设置命令行选项<code class="codeph">-XX:+LogCompilation</code> 。默认值<code class="codeph">false</code>将所有已编译的方法放在日志中。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e173 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e173 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e195" headers="d1284e83 ">
                                 <p><code class="codeph">PrintAssembly</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e195 d1284e86 ">
                                 <p>通过使用外部打印字节码和本机方法的汇编代码<code class="codeph">disassembler.so</code>图书馆。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e195 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e195 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e214" headers="d1284e83 ">
                                 <p><code class="codeph">PrintInlining</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e214 d1284e86 ">
                                 <p>打印内联哪些方法以及在何处。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e214 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e214 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e230" headers="d1284e83 ">
                                 <p><code class="codeph">PrintNMethods</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e230 d1284e86 ">
                                 <p>在生成nmethod时打印它们。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e230 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e230 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e246" headers="d1284e83 ">
                                 <p><code class="codeph">BackgroundCompilation</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e246 d1284e86 ">
                                 <p>将方法编译为后台任务。方法以解释器模式运行，直到后台编译完成。价值<code class="codeph">false</code>将方法编译为前台任务。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e246 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e246 d1284e92 ">
                                 <p><code class="codeph">true</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e265" headers="d1284e83 ">
                                 <p><code class="codeph">ReplayInline</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e265 d1284e86 ">
                                 <p>启用相同<code class="codeph">CIReplay</code>功能作为相应的全局选项，但基于方法。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e265 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e265 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e284" headers="d1284e83 ">
                                 <p><code class="codeph">DumpReplay</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e284 d1284e86 ">
                                 <p>启用相同<code class="codeph">CIReplay</code>功能作为相应的全局选项，但基于方法。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e284 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e284 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e304" headers="d1284e83 ">
                                 <p><code class="codeph">DumpInline</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e304 d1284e86 ">
                                 <p>启用相同<code class="codeph">CIReplay</code>功能作为相应的全局选项，但基于方法。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e304 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e304 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e323" headers="d1284e83 ">
                                 <p><code class="codeph">CompilerDirectivesIgnoreCompileCommands</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e323 d1284e86 ">
                                 <p>忽略所有CompileCommands。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e323 d1284e89 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e323 d1284e92 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e339" headers="d1284e83 ">
                                 <p><code class="codeph">DisableIntrinsic</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e339 d1284e86 ">
                                 <p>禁用基于方法匹配标准的内在函数的使用。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e339 d1284e89 ">
                                 <p><code class="codeph">ccstr</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e339 d1284e92 ">
                                 <p>无默认值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e354" headers="d1284e83 ">
                                 <p><code class="codeph">inline</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e354 d1284e86 ">
                                 <p>强制或防止基于方法匹配标准的方法内联。请参阅<a href="writing-directives.html#GUID-F9B12DF3-50D7-432F-942C-BD554FF41865" title="内联指令选项的属性需要带有前缀特殊命令的方法模式数组。这表明哪些方法模式应该或不应该内联。">编写内联指令选项</a> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e354 d1284e89 ">
                                 <p><code class="codeph">ccstr[]</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e354 d1284e92 ">
                                 <p>无默认值。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-FF488969-AFCD-48ED-93F5-A49C6C893D39__C2OPTIONS-61F28E20">
                     <p class="titleintable">表2-2 C2独占选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="C2独家选项" width="100%" border="1" summary="Options exclusive to the c2 compiler" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d1284e389">选项</th>
                              <th align="left" valign="bottom" width="25%" id="d1284e392">描述</th>
                              <th align="left" valign="bottom" width="25%" id="d1284e395">值类型</th>
                              <th align="left" valign="bottom" width="25%" id="d1284e398">默认值</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e403" headers="d1284e389 ">
                                 <p><code class="codeph">BlockLayoutByFrequency</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e403 d1284e392 ">
                                 <p>从热路径移动不频繁执行的分支。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e403 d1284e395 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e403 d1284e398 ">
                                 <p><code class="codeph">true</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e419" headers="d1284e389 ">
                                 <p><code class="codeph">PrintOptoAssembly</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e419 d1284e392 ">
                                 <p>使用外部工具编译后打印生成的汇编代码<code class="codeph">disassembler.so</code>图书馆。这需要调试JVM。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e419 d1284e395 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e419 d1284e398 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e438" headers="d1284e389 ">
                                 <p><code class="codeph">PrintIntrinsics</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e438 d1284e392 ">
                                 <p>打印使用哪些内部方法以及在何处。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e438 d1284e395 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e438 d1284e398 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e454" headers="d1284e389 ">
                                 <p><code class="codeph">TraceOptoPipelining</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e454 d1284e392 ">
                                 <p>跟踪流水线信息，类似于相应的全局选项，但基于每个方法。这用于慢速和快速调试版本。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e454 d1284e395 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e454 d1284e398 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e470" headers="d1284e389 ">
                                 <p><code class="codeph">TraceOptoOutput</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e470 d1284e392 ">
                                 <p>跟踪流水线信息，类似于相应的全局选项，但基于每个方法。这用于慢速和快速调试版本。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e470 d1284e395 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e470 d1284e398 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e486" headers="d1284e389 ">
                                 <p><code class="codeph">TraceSpilling</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e486 d1284e392 ">
                                 <p>跟踪变量溢出。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e486 d1284e395 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e486 d1284e398 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e502" headers="d1284e389 ">
                                 <p><code class="codeph">Vectorize</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e502 d1284e392 ">
                                 <p>跨向量寄存器并行执行计算。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e502 d1284e395 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e502 d1284e398 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e518" headers="d1284e389 ">
                                 <p><code class="codeph">VectorizeDebug</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e518 d1284e392 ">
                                 <p>跨向量寄存器并行执行计算。这需要调试JVM。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e518 d1284e395 ">
                                 <p><code class="codeph">intx</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e518 d1284e398 ">
                                 <p><code class="codeph">0</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e534" headers="d1284e389 ">
                                 <p><code class="codeph">CloneMapDebug</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e534 d1284e392 ">
                                 <p>使您能够检查<code class="codeph">CloneMap</code>向量化产生的这需要调试JVM。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e534 d1284e395 ">
                                 <p><code class="codeph">bool</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e534 d1284e398 ">
                                 <p><code class="codeph">false</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e553" headers="d1284e389 ">
                                 <p><code class="codeph">IGVPrintLevel</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e553 d1284e392 ">
                                 <p>指定在Oracle热点理想图形可视化工具（IGV）中打印编译器图形的点。较高的值表示较高的粒度。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e553 d1284e395 ">
                                 <p><code class="codeph">intx</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e553 d1284e398 ">
                                 <p><code class="codeph">0</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1284e569" headers="d1284e389 ">
                                 <p><code class="codeph">MaxNodeLimit</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e569 d1284e392 ">
                                 <p>设置在单个方法的编译期间要使用的最大节点数。</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e569 d1284e395 ">
                                 <p><code class="codeph">intx</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1284e569 d1284e398 ">
                                 <p><code class="codeph">80000</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>一种<code class="codeph">ccstr</code>值类型是一种方法模式。请参见<a href="writing-directives.html#GUID-EAAA6987-3F98-42FB-A877-C6169B4C71BE" title="ccstr是一种可以精确编写的方法模式，也可以使用通配符将其概括。您可以指定哪些最匹配的Java代码应应用附带的指令选项，或者应内联哪些Java代码。">在编译器指令中编写方法模式</a> 。
                     </p>
                     <p>default指令为编译器选项提供默认值。请参阅<a href="understanding-directives-better.html#GUID-1011AB83-1C0E-4C4B-B302-4CD487F25C61" title="默认指令是一个编译器指令，其中包含所有可能的指令选项的默认值。它是堆栈中最底层的指令，与提交给编译的每个方法匹配。">什么是默认指令？</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-8D24F71C-00A0-4959-AF10-1E08201B0B69" name="GUID-8D24F71C-00A0-4959-AF10-1E08201B0B69"></a><h3 id="JSJVM-GUID-8D24F71C-00A0-4959-AF10-1E08201B0B69" class="sect3">编写指令文件</h3>
               <div>
                  <p>各个编译器指令均写入指令文件中。只能将指令文件（而不是单个指令）添加到活动指令堆栈中。</p>
                  <ol>
                     <li class="stepexpand"><span>创建一个带有<code class="codeph">.json</code>延期。指令文件是使用JSON语法的子集编写的，并带有少量的添加和偏离。</span></li>
                     <li class="stepexpand"><span>将以下语法添加为可以使用的模板：</span><div><pre class="pre codeblock"><code>[  //Array of Directives
    {   //Directive Block
        //Directive 1
    },
    {   //Directive Block
        //Directive 2
    },
]</code></pre></div>
                        <div>
                           <p>该模板的组件为：</p>
                           <div class="p"><span class="bold">指令数组</span><ul style="list-style-type:disc">
                                 <li>
                                    <p>指令文件存储指令块数组，并用一对方括号（ <code class="codeph">[]</code> ）。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果文件仅包含一个指令块，则括号是可选的。</p>
                                 </li>
                              </ul>
                           </div>
                           <div class="p"><span class="bold">指令块</span><ul style="list-style-type:disc">
                                 <li>
                                    <p>一个块用一对大括号（ <code class="codeph">{}</code> ）。
                                    </p>
                                 </li>
                                 <li>
                                    <p>块包含一个单独的指令。</p>
                                 </li>
                                 <li>
                                    <p>指令文件可以包含任意数量的指令块。</p>
                                 </li>
                                 <li>
                                    <p>块之间用逗号（ <code class="codeph">,</code> ）。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在数组的最后一块之后，逗号是可选的。</p>
                                 </li>
                              </ul>
                           </div>
                           <div class="p"><span class="bold">指示</span><ul style="list-style-type:disc">
                                 <li>
                                    <p>每个指令必须在指令块内。</p>
                                 </li>
                                 <li>
                                    <p>指令文件包含多个指令块时，可以包含多个指令。</p>
                                 </li>
                              </ul>
                           </div>
                           <div class="p"><span class="bold">评论</span><ul style="list-style-type:disc">
                                 <li>
                                    <p>单行注释前面有两个斜杠（ <code class="codeph">//</code> ）。
                                    </p>
                                 </li>
                                 <li>
                                    <p>不允许多行注释。</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>从模板中添加或删除指令块，以匹配指令文件中所需的指令数。</span></li>
                     <li class="stepexpand"><span>在每个指令块中，编写一个编译器指令。请参阅<a href="writing-directives.html#GUID-4191CF8A-8FBB-4DB1-9275-DE438B7EE69A" title="您必须在指令文件中编写一个编译器指令。您可以对要在指令文件中编写的每个单独的编译器指令重复以下步骤。">编写编译器指令</a> 。</span></li>
                     <li class="stepexpand"><span>如有必要，对指令块重新排序。文件中指令的顺序很重要。写得更靠近数组开头的指令具有更高的优先级。有关更多信息，请参见<a href="commands-work-directive-files.html#GUID-0BE73FEB-C133-4907-869A-42F9E4646E9D" title="指令在指令文件中以及在指令中的顺序非常重要。堆栈中最顶部，最匹配的指令将获得优先级，并应用于代码编译。">如何在指令堆栈中对指令进行排序？</a> 以及<a href="understanding-directives-better.html#GUID-FB010DC3-9E3C-4D19-AEDE-9527DAA1AD7D" title="伪指令基于方法匹配过程应用于代码。提交编译的每个方法都与指令堆栈中的指令匹配。">如何将指令应用于代码？</a></span></li>
                  </ol>
                  <div class="example" id="GUID-8D24F71C-00A0-4959-AF10-1E08201B0B69__GUID-ED904FB4-6475-4360-A7C6-0E1D61B5877D">以下示例显示了一个完整的指令文件，其中包含两个编译器指令：<pre class="pre codeblock"><code>[  //Array of directives
    {   //Directive Block
        //Directive 1
        match: ["java*.*", "oracle*.*"],
        c1: {
            Enable: true,
            Exclude: true,
            BreakAtExecute: true,
        },
        c2: {
            Enable: false,
            MaxNodeLimit: 1000,
        },
        BreakAtCompile: true,
        DumpReplay: true,
    },
    {   //Directive Block
        //Directive 2
        match: ["*Concurrent.*"],
        c2: {
            Exclude:true,
        },
    },
]</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-4191CF8A-8FBB-4DB1-9275-DE438B7EE69A" name="GUID-4191CF8A-8FBB-4DB1-9275-DE438B7EE69A"></a><h3 id="JSJVM-GUID-4191CF8A-8FBB-4DB1-9275-DE438B7EE69A" class="sect3">编写编译器指令</h3>
               <div>
                  <p>您必须在指令文件中编写一个编译器指令。您可以对要在指令文件中编写的每个单独的编译器指令重复以下步骤。</p>
                  <div class="section">单个编译器指令被写入指令文件中的指令块内。请参阅<a href="writing-directives.html#GUID-8D24F71C-00A0-4959-AF10-1E08201B0B69" title="各个编译器指令均写入指令文件中。只能将指令文件（而不是单个指令）添加到活动指令堆栈中。">编写指令文件</a> 。
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>作为您可以使用的模板，插入以下代码块以编写单个编译器指令。此代码块是指令块。</span><div><pre class="pre codeblock"><code>    {
        match: [],
        c1: {
            //c1 directive options
        },
        c2: {
            //c2 directive options
        },
        //Directive options applicable to all compilers
    },</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>提供<code class="codeph">match</code>属性与方法模式数组。请参见<a href="writing-directives.html#GUID-EAAA6987-3F98-42FB-A877-C6169B4C71BE" title="ccstr是一种可以精确编写的方法模式，也可以使用通配符将其概括。您可以指定哪些最匹配的Java代码应应用附带的指令选项，或者应内联哪些Java代码。">在编译器指令中编写方法模式</a> 。</span><div>例如：<pre class="pre codeblock"><code>        match: ["java*.*", "oracle*.*"],</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>提供<code class="codeph">c1</code>属性，并带有以逗号分隔的指令选项块。确保这些选项对c1编译器有效。</span><div>例如：<pre class="pre codeblock"><code>        c1: {
            Enable: true,
            Exclude: true,
            BreakAtExecute: true,
        },</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>提供<code class="codeph">c2</code>属性，并带有以逗号分隔的指令选项块。该块可以包含通用编译器选项和c2专有编译器选项的混合。</span><div>例如：<pre class="pre codeblock"><code>        c2: {
            Enable: false,
            MaxNodeLimit: 1000,
        },</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>在指令末尾提供您希望适用于所有编译器的选项。这些选项被认为写在公共块的范围内。选项以逗号分隔。</span><div>例如：<pre class="pre codeblock"><code>        BreakAtCompile: true,
        DumpReplay: true,</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>通过完成以下步骤来清理文件。</span><ol type="a">
                           <li><span>检查指令选项是否重复。如果发生冲突，则最后一次出现的选项优先。冲突通常发生在公共块和c1或c2块之间，而不是在c1和c2块之间。</span></li>
                           <li><span>避免在通用块中编写c2专有指令选项。尽管通用块可以接受通用选项和c2专有选项的混合，但是以这种方式构造指令是没有意义的，因为通用块中的c2专有选项对c1编译器没有影响。而是在c2块中编写c2专有选项。</span></li>
                           <li><span>如果<code class="codeph">c1</code>要么<code class="codeph">c2</code> attribute没有相应的指令选项，然后省略该编译器的attribute-value语法。</span></li>
                        </ol>
                     </li>
                  </ol>
                  <div class="section">下面的示例根据先前的示例显示结果指令为：<pre class="pre codeblock"><code>    {
        match: ["java*.*", "oracle*.*"],
        c1: {
            Enable: true,
            Exclude: true,
            BreakAtExecute: true,
        },
        c2: {
            Enable: false,
            MaxNodeLimit: 1000,
        },
        BreakAtCompile: true,
        DumpReplay: true,
    },</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="p">指令文件的JSON格式允许以下语法差异：<ul style="list-style-type:disc">
                           <li>
                              <p>在数组和对象中，多余的逗号是可选的。</p>
                           </li>
                           <li>
                              <p>属性是字符串，可以选择放在引号内。</p>
                           </li>
                           <li>
                              <p>如果数组仅包含一个元素，则括号是可选的。</p>
                           </li>
                        </ul>因此，以下示例显示了有效的编译器指令：<pre class="pre codeblock"><code>    {
       "match": "*Concurrent.*",
        c2: {
            "Exclude": true,
        }
    },</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-EAAA6987-3F98-42FB-A877-C6169B4C71BE" name="GUID-EAAA6987-3F98-42FB-A877-C6169B4C71BE"></a><h3 id="JSJVM-GUID-EAAA6987-3F98-42FB-A877-C6169B4C71BE" class="sect3">在编译器指令中编写方法模式</h3>
               <div>
                  <p>一种<code class="codeph">ccstr</code>是一种可以精确编写的方法模式，或者可以使用通配符概括。您可以指定哪些最匹配的Java代码应应用附带的指令选项，或者应内联哪些Java代码。
                  </p>
                  <div class="section">编写方法模式：</div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>使用以下语法编写您的方法模式： <code class="codeph"><span class="codeinlineitalic">package/class.method(parameter_list)</span></code> 。要使用通配符概括方法模式，请参见步骤2。</span><div>以下示例显示了使用此语法的方法模式：<pre class="pre codeblock"><code>java/lang/String.indexOf()</code></pre></div>
                        <div>其他格式样式也可用。这样可以确保与早期的方法匹配方法（例如CompileCommand）向后兼容。上一个示例的有效格式替代方案包括：<ul style="list-style-type:disc">
                              <li><code class="codeph">java/lang/String.indexOf()</code></li>
                              <li><code class="codeph">java/lang/String,indexOf()</code></li>
                              <li><code class="codeph">java/lang/String indexOf()</code></li>
                              <li><code class="codeph">java.lang.String::indexOf()</code></li>
                           </ul>最后一种格式样式与HotSpot输出匹配。
                        </div>
                     </li>
                     <li class="stepexpand"><span>插入通配符（ <code class="codeph">*</code> ），您想将方法模式的一部分概括化。</span><div>以下示例是步骤1中方法模式示例的有效概括：<ul style="list-style-type:disc">
                              <li><code class="codeph">java/lang/String.indexOf*</code></li>
                              <li><code class="codeph">*lang/String.indexOf*</code></li>
                              <li><code class="codeph">*va/lang*.*dex*</code></li>
                              <li><code class="codeph">java/lang/String.*</code></li>
                              <li><code class="codeph">*.*</code></li>
                           </ul>
                        </div>
                        <div>泛化的增加导致精度降低。更多的Java代码可能与方法模式匹配。因此，使用通配符（ <code class="codeph">*</code> ）明智地。
                        </div>
                     </li>
                     <li class="stepexpand"><span>根据Java规范，修改方法模式的签名部分。签名匹配必须完全匹配，否则签名默认为通配符（ <code class="codeph">*</code> ）。省略的签名也默认为通配符。签名不能包含通配符。</span></li>
                     <li class="stepexpand"><strong>可选：</strong> <span>如果您编写方法模式来伴随<code class="codeph">inline</code>指令选项，则必须在方法模式前加上其他字符。请参阅<a href="writing-directives.html#GUID-F9B12DF3-50D7-432F-942C-BD554FF41865" title="内联指令选项的属性需要带有前缀特殊命令的方法模式数组。这表明哪些方法模式应该或不应该内联。">编写内联指令选项</a> 。</span></li>
                  </ol>
               </div>
            </div>
            <div class="sect2"><a id="GUID-F9B12DF3-50D7-432F-942C-BD554FF41865" name="GUID-F9B12DF3-50D7-432F-942C-BD554FF41865"></a><h3 id="JSJVM-GUID-F9B12DF3-50D7-432F-942C-BD554FF41865" class="sect3">编写内联指令选项</h3>
               <div>
                  <p>的属性<code class="codeph">inline</code>指令选项需要带有前缀特殊命令的方法模式数组。这表明哪些方法模式应该或不应该内联。
                  </p>
                  <ol>
                     <li><span>写<code class="codeph">inline:</code>在指令的公共块，c1块或c2块中。</span></li>
                     <li><span>添加一组精心排序的方法模式。在第一个匹配方法模式上执行带前缀的命令。数组中其余的方法模式将被忽略。</span></li>
                     <li><span>前缀a <code class="codeph">+</code>强制内联任何匹配的Java代码。</span></li>
                     <li><span>前缀a <code class="codeph">-</code>防止内联任何匹配的Java代码。</span></li>
                     <li><strong>可选：</strong> <span>如果需要将内联行为应用于多个方法模式，请重复步骤1至4以编写多个<code class="codeph">inline</code>陈述。不要编写包含多个方法模式的单个数组。</span></li>
                  </ol>
                  <div class="section">以下示例显示了<code class="codeph">inline</code>指令选项：<ul style="list-style-type:disc">
                        <li><code class="codeph">inline: ["+java/lang*.*", "-sun*.*"]</code></li>
                        <li><code class="codeph">inline: "+java/lang*.*"</code></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-D89AB9B7-B72B-4889-B3F3-4FEABEC783C1" name="GUID-D89AB9B7-B72B-4889-B3F3-4FEABEC783C1"></a><h3 id="JSJVM-GUID-D89AB9B7-B72B-4889-B3F3-4FEABEC783C1" class="sect3">使用“启用”选项防止重复</h3>
               <div>
                  <p>您可以使用<code class="codeph">Enable</code>隐藏指令各方面并防止指令之间重复的选项。
                  </p>
                  <div class="p">在以下示例中， <code class="codeph">c1</code>编译器指令的属性相同。<pre class="pre codeblock"><code>[
    {
        match: ["java*.*"],
        c1: {
            BreakAtExecute: true,
            BreakAtCompile: true,
            DumpReplay: true,
            DumpInline: true,
        },
        c2: {
            MaxNodeLimit: 1000,
        },
    },
    {
        match: ["oracle*.*"],
        c1: {
            BreakAtExecute: true,
            BreakAtCompile: true,
            DumpReplay: true,
            DumpInline: true,
        },
        c2: {
            MaxNodeLimit: 2000,
        },
    },
]</code></pre>以下示例说明了如何使用<code class="codeph">Enable</code>选项。 <code class="codeph">Enable</code>隐藏块指令并使它们不匹配。<pre class="pre codeblock"><code>[
    {
        match: ["java*.*"],
        c1: {
            Enable: false,
        },
        c2: {
            MaxNodeLimit: 1000,
        },
    },
    {
        match: ["oracle*.*"],
        c1: {
            Enable: false,
        },
        c2: {
            MaxNodeLimit: 2000,
        },
    },
    {
        match: ["java*.*", "oracle*.*"],
        c1: {
            BreakAtExecute: true,
            BreakAtCompile: true,
            DumpReplay: true,
            DumpInline: true,
        },
        c2: {
            //Unreachable code
        },
    },
]</code></pre>通常，第一个匹配指令应用于方法的编译。的<code class="codeph">Enable</code>选项提供此规则的例外。通常由以下方法编译的方法<code class="codeph">c1</code>现在使用第一个或第二个指令编译<code class="codeph">c1</code>第三条指令的代码段。的<code class="codeph">c2</code>第三条指令的代码段无法访问，因为<code class="codeph">c2</code>第一个和第二个指令中的块优先。
                  </div>
               </div>
            </div>
         </div>
      </article>
   

</body></html>