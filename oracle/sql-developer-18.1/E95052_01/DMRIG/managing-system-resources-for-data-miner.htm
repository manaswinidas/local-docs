<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Managing System Resources for Oracle Data Miner</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter provides information to help you optimize your system to support Oracle Data Miner." />
<meta name="keywords" content="RMAN, Oracle Database Resource Manager, Oracle Database Recovery Manager, managing system resources, for workloads, Data Miner, resource plan for, resource plan, for model builds, for workflow execution, Oracle Database Scheduler, Scheduler, workflows, scheduling, for parallel processing, parallel query, PARALLEL_DEGREE_POLICY=AUTO)" />
<meta name="dcterms.created" content="2018-04-05T22:23:43Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Data Miner Installation and Administration Guide" />
<meta name="dcterms.identifier" content="E94761-02" />
<meta name="dcterms.isVersionOf" content="DMRIG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2015, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="managing-oracle-data-miner-repository.htm" title="Previous" type="text/html" />
<link rel="Next" href="generating-deploying-sql-scripts.htm" title="Next" type="text/html" />
<link rel="alternate" href="DMRIG.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script type="text/javascript" src="target.js"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-2078304B-C236-4057-B4C9-67F6F12C8855"></a> <span id="PAGE" style="display:none;">9/13</span> <!-- End Header -->
<a id="DMRIG138"></a><a id="DMRIG137"></a>
<h1 id="DMRIG-GUID-2078304B-C236-4057-B4C9-67F6F12C8855" class="sect1"><span class="enumeration_chapter">6</span> Managing System Resources for Oracle Data Miner</h1>
<div><span>This chapter provides information to help you optimize your system to support Oracle Data Miner.</span></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-system-resources-for-data-miner.htm#GUID-C4E9CD6F-2DA3-446A-957C-449C18BF65D2">Oracle Data Miner Resource Management Overview</a><br />
You can effectively manage system resources for Oracle Data Miner by using features of Oracle Database and the options provided in Oracle Data Miner repository.</li>
<li class="ulchildlink"><a href="managing-system-resources-for-data-miner.htm#GUID-8E749C2E-8672-4F11-B02C-03F6EE358941">Allocating Resources to Oracle Data Miner User Sessions</a><br />
You can use Database Resource Manager to create resource plans that allocate system resources for groups of sessions based on session attributes.</li>
<li class="ulchildlink"><a href="managing-system-resources-for-data-miner.htm#GUID-29DA8E2C-ECC1-4800-BE11-A958C7495CAF">Managing Model Builds</a><br />
The process of building mining models can consume significant system resources. You have the option to control the impact of model builds on overall system resources, by increasing or decreasing the value of <code class="codeph">MAX_NUM_THREADS</code> repository property.</li>
<li class="ulchildlink"><a href="managing-system-resources-for-data-miner.htm#GUID-1656D8EE-AC99-4A11-8AF4-62011F89A47F">Managing Workflow Execution</a><br />
Oracle Data Miner submits workflows to Oracle Database Scheduler for execution as Scheduler Jobs. Oracle Scheduler supports a variety of features that control how system resources are allocated. You can configure Oracle Scheduler to effectively manage a large pool of run requests.</li>
<li class="ulchildlink"><a href="managing-system-resources-for-data-miner.htm#GUID-187657D4-5293-4E1A-8912-7D39ED6AE283">Managing Parallel Processing</a><br />
Oracle Data Miner workflows and views, and most Data Mining algorithms, can take advantage of parallel processing of queries when it is enabled in the database. Parameters in <code class="codeph">INIT.ORA</code> control the behavior of parallel processing. By default parallelism is disabled <code class="codeph">(PARALLEL_DEGREE_POLICY=MANUAL).</code></li>
<li class="ulchildlink"><a href="managing-system-resources-for-data-miner.htm#GUID-E4A0A15A-F061-48AF-9018-2ABDE43A15B6">Summary of Oracle Data Miner Repository Properties for System Management</a><br />
A summary of the system management properties is available in the Oracle Data Miner repository.</li>
</ul>
</div>
<a id="DMRIG238"></a>
<div class="props_rev_3"><a id="GUID-C4E9CD6F-2DA3-446A-957C-449C18BF65D2"></a>
<h2 id="DMRIG-GUID-C4E9CD6F-2DA3-446A-957C-449C18BF65D2" class="sect2">Oracle Data Miner Resource Management Overview</h2>
<div>
<p>You can effectively manage system resources for Oracle Data Miner by using features of Oracle Database and the options provided in Oracle Data Miner repository.</p>
<p>You can effectively manage system resources for Oracle Data Miner in the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>To manage Oracle Data Miner sessions, develop an appropriate resource plan using Oracle Database Resource Manager.</p>
</li>
<li>
<p>To manage workflow execution, change the Oracle Data Miner default job class used for Oracle Scheduler to a job class with an appropriate resource plan.</p>
</li>
<li>
<p>To manage the model build process, change the Oracle Data Miner default maximum number of concurrent model builds.</p>
</li>
<li>
<p>To manage parallel query processing, change the Oracle Data Miner default parallel query setting to prevent users from specifying parallel processing for individual nodes and workflows.</p>
</li>
</ul>
</div>
</div>
<a id="DMRIG233"></a><a id="DMRIG232"></a>
<div class="props_rev_3"><a id="GUID-8E749C2E-8672-4F11-B02C-03F6EE358941"></a>
<h2 id="DMRIG-GUID-8E749C2E-8672-4F11-B02C-03F6EE358941" class="sect2">Allocating Resources to Oracle Data Miner User Sessions</h2>
<div>
<p>You can use Database Resource Manager to create resource plans that allocate system resources for groups of sessions based on session attributes.</p>
<div class="section">
<p>Oracle Database Resource Manager allocates CPU time, configures parallel query processing, limits the number of sessions, and controls other aspects of system behavior that would otherwise be controlled by the operating system. In a database where multiple applications run concurrently and compete for system resources, you can use Oracle Database Resource Manager to distribute the workloads and optimize overall performance. For example, you could balance the demands of ETL, OLAP, data mining, and reporting workloads running simultaneously in the database.</p>
<p>Oracle Data Miner workflows can potentially make extensive demands on system resources, especially when transformations and large data sets are involved. In a database that must accommodate the demands of multiple applications, you can create a resource plan to limit the impact of Oracle Data Miner sessions on other applications and prevent other applications from compromising the performance of Oracle Data Miner.</p>
<p><a href="managing-system-resources-for-data-miner.htm#GUID-8E749C2E-8672-4F11-B02C-03F6EE358941__CHDJFIFB">Example 6-1</a> illustrates the creation of a simple resource plan for Oracle Data Miner. The resource plan, called <code class="codeph">SIMPLE_RESOURCE_PLAN</code>, creates two consumer groups: <code class="codeph">DATA_MINER_GROUP</code> and <code class="codeph">OTHER_GROUPS</code>. The plan allocates 50% of CPU resource to <code class="codeph">DATA_MINER_GROUP</code> and the rest to <code class="codeph">OTHER_GROUPS</code>. The <code class="codeph">DATA_MINER_GROUP</code> is mapped to the <code class="codeph">DMUSER</code> account; other users are mapped to the <code class="codeph">OTHER_GROUPS</code> group.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-8E749C2E-8672-4F11-B02C-03F6EE358941__CHDJFIFB">
<p class="titleinexample">Example 6-1 Simple Resource Plan for Oracle Data Miner Sessions</p>
<pre dir="ltr">
CONNECT sys as sysdba;
Enter password: <span class="variable">password</span>
-- creating a pending area is the first step in defining 
-- consumer groups and resource plans
EXEC dbms_resource_manager.create_pending_area();
-- delete old plan (optional)
EXEC dbms_resource_manager.delete_plan_cascade(
               plan =&gt; 'SIMPLE_RESOURCE_PLAN');
-- create a custom consumer group for data miner workload
EXEC dbms_resource_manager.create_consumer_group(
               consumer_group =&gt; 'DATA_MINER_GROUP', 
               comment =&gt; 'Sessions for data miner operations');
-- map DMUSER account to the consumer group
EXEC dbms_resource_manager.set_consumer_group_mapping(
               attribute =&gt; dbms_resource_manager.oracle_user, 
               value =&gt; 'DMUSER', 
               consumer_group =&gt; 'DATA_MINER_GROUP');
-- create a custom resource plan
EXEC dbms_resource_manager.create_plan(
               plan =&gt; 'SIMPLE_RESOURCE_PLAN', 
               comment =&gt; 'Resource plan for database operations');
-- specifies how much CPU and parallelism 
-- should be allocated to the consumer group
EXEC dbms_resource_manager.create_plan_directive(
               plan =&gt; 'SIMPLE_RESOURCE_PLAN',
               group_or_subplan =&gt; 'DATA_MINER_GROUP',
               comment =&gt; 'Percentage of CPU for DATA_MINER_GROUP', 
               mgmt_p1 =&gt; 50, 
               utilization_limit =&gt; 55, 
               parallel_degree_limit_p1 =&gt; 8, 
               parallel_server_limit =&gt; 4);
-- specifies how much CPU should be allocated to the required OTHER_GROUPS
EXEC dbms_resource_manager.create_plan_directive(
                plan =&gt; 'SIMPLE_RESOURCE_PLAN',
                group_or_subplan =&gt; 'OTHER_GROUPS',
                comment =&gt; 'Percentage of CPU for OTHER_GROUPS', 
                mgmt_p1 =&gt; 50);
-- persist plan to the database
EXEC dbms_resource_manager.submit_pending_area();
-- Now that the resource plan is defined, enable it by setting
-- the resource_manager_plan parameter with the resource plan name
ALTER SYSTEM SET resource_manager_plan = 'SIMPLE_RESOURCE_PLAN'; 
-- DBA can also enable a resource plan for the period of time corresponding 
-- to a job scheduler Window (via the dbms_scheduler.create_window procedure)
</pre></div>
<!-- class="example" --></div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a class="olink ADMIN-GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=ADMIN-GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a></li>
</ul>
</div>
</div>
</div>
<a id="DMRIG234"></a><a id="DMRIG190"></a>
<div class="props_rev_3"><a id="GUID-29DA8E2C-ECC1-4800-BE11-A958C7495CAF"></a>
<h2 id="DMRIG-GUID-29DA8E2C-ECC1-4800-BE11-A958C7495CAF" class="sect2">Managing Model Builds</h2>
<div>
<p>The process of building mining models can consume significant system resources. You have the option to control the impact of model builds on overall system resources, by increasing or decreasing the value of <code class="codeph">MAX_NUM_THREADS</code> repository property.</p>
<div class="section">
<p><code class="codeph">MAX_NUM_THREADS</code> specifies the maximum number of mining model builds that can execute concurrently across all workflows in an Oracle Data Miner session. <code class="codeph">MAX_NUM_THREADS</code> has no effect on model builds that are triggered individually and do not belong to a workflow.</p>
<p>For example, if one workflow is attempting to build 25 models while another workflow is attempting to build 15 models and <code class="codeph">MAX_NUM_THREADS</code> is 10, then 10 model build operations occur simultaneously and the 30 remaining model builds are queued. The delayed build processes complete with a warning message that explains the reason for the delay. Two additional properties, <code class="codeph">THREAD_WAIT_TIME</code> and <code class="codeph">MAX_THREAD_WAIT</code> control the queuing of model builds. See <a href="managing-system-resources-for-data-miner.htm#GUID-E4A0A15A-F061-48AF-9018-2ABDE43A15B6__CHDDGECF" title="This table describes the properties WORKFLOW_JOB_CLASS, MAX_NUM_THREADS, and PARALLEL_QUERY_ON_ALLOWED. It also describes properties related to polling rates and workflow scheduler.">Table 6-1</a> for details.</p>
<p><a href="managing-system-resources-for-data-miner.htm#GUID-29DA8E2C-ECC1-4800-BE11-A958C7495CAF__CHDHDJDE">Example 6-2</a> shows how to increase the maximum number of concurrent model builds from 10 (the default) to 15.</p>
<p>This script produces the following log:</p>
<pre dir="ltr">
-- value of MAX_NUM_THREADS before update
SELECT property_name, property_num_value 
    FROM ODMRSYS.ODMR$REPOSITORY_PROPERTIES
    WHERE property_name = 'MAX_NUM_THREADS';
PROPERTY_NAME PROPERTY_NUM_VALUE
------------------------------ ----------------------
MAX_NUM_THREADS 10
-- update MAX_NUM_THREADS
UPDATE ODMRSYS.ODMR$REPOSITORY_PROPERTIES
    SET property_num_value = 15
    WHERE property_name = 'MAX_NUM_THREADS';
1 rows updated
-- commit change
commit
committed
-- value of MAX_NUM_THREADS after update
SELECT property_name, property_num_value 
    FROM ODMRSYS.ODMR$REPOSITORY_PROPERTIES
    WHERE property_name = 'MAX_NUM_THREADS';
PROPERTY_NAME PROPERTY_NUM_VALUE
------------------------------ ----------------------
MAX_NUM_THREADS 15
</pre></div>
<!-- class="section" -->
<div class="example" id="GUID-29DA8E2C-ECC1-4800-BE11-A958C7495CAF__CHDHDJDE">
<p class="titleinexample">Example 6-2 Changing the Number of Concurrent Model Builds</p>
<pre dir="ltr">
set echo on;
-- value of MAX_NUM_THREADS before update
SELECT property_name, property_num_value 
    FROM ODMRSYS.ODMR$REPOSITORY_PROPERTIES
    WHERE property_name = 'MAX_NUM_THREADS';
-- update MAX_NUM_THREADS
UPDATE ODMRSYS.ODMR$REPOSITORY_PROPERTIES
    SET property_num_value = 15
    WHERE property_name = 'MAX_NUM_THREADS';
-- commit change
COMMIT;
-- value of MAX_NUM_THREADS after update
SELECT property_name, property_num_value 
    FROM ODMRSYS.ODMR$REPOSITORY_PROPERTIES
    WHERE property_name = 'MAX_NUM_THREADS';
</pre></div>
<!-- class="example" --></div>
</div>
<a id="DMRIG239"></a><a id="DMRIG235"></a>
<div class="props_rev_3"><a id="GUID-1656D8EE-AC99-4A11-8AF4-62011F89A47F"></a>
<h2 id="DMRIG-GUID-1656D8EE-AC99-4A11-8AF4-62011F89A47F" class="sect2">Managing Workflow Execution</h2>
<div>
<p>Oracle Data Miner submits workflows to Oracle Database Scheduler for execution as Scheduler Jobs. Oracle Scheduler supports a variety of features that control how system resources are allocated. You can configure Oracle Scheduler to effectively manage a large pool of run requests.</p>
<div class="section">
<p>Oracle Data Miner uses the default Scheduler job class, <code class="codeph">DEFAULT_JOB_CLASS</code> as its own default. In a resource plan, jobs that run as <code class="codeph">DEFAULT_JOB_CLASS</code> are not assigned to any consumer group; access to system resources is not restricted for jobs that have the default class. You can change the job class to a class that is based on a consumer group by setting the Oracle Data Miner repository property <code class="codeph">WORKFLOW_JOB_CLASS</code>.</p>
<p><a href="managing-system-resources-for-data-miner.htm#GUID-1656D8EE-AC99-4A11-8AF4-62011F89A47F__CHDCIIIE">Example 6-3</a> shows you could create a <code class="codeph">MINING_CLASS</code> job class based on a consumer group <code class="codeph">HEAVY_LOAD_RESOURCE_GROUP</code>, which was previously created to allocate high CPU for heavy workload jobs. When you update <code class="codeph">WORKFLOW_JOB_CLASS</code>, the workflow will run with access to system resources that are restricted to this consumer group.The resource plan for the assigned <code class="codeph">HEAVY_LOAD_RESOURCE_GROUP</code> group must be active when the workflow is run. You can set up Scheduler windows to activate specific resource plans at specific time periods.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-1656D8EE-AC99-4A11-8AF4-62011F89A47F__CHDCIIIE">
<p class="titleinexample">Example 6-3 Changing the Scheduler Job Class for Oracle Data Miner Workflows</p>
<pre dir="ltr">
connect sys as sysdba;
Enter password: <span class="variable">password</span>
EXEC DBMS_SCHEDULER.CREATE_JOB_CLASS(
              job_class_name =&gt; 'MINING_CLASS', 
              resource_consumer_group =&gt; 'HEAVY_LOAD_RESOURCE_GROUP');
GRANT EXECUTE ON MINING_CLASS to DMUSER;
-- update WORKFLOW_JOB_CLASS
UPDATE ODMRSYS.ODMR$REPOSITORY_PROPERTIES
   SET property_str_value = 'MINING_CLASS'
   WHERE property_name = 'WORKFLOW_JOB_CLASS';
-- commit change
commit;
-- verify value of WORKFLOW_JOB_CLASS after update
SELECT property_name, property_str_value 
   FROM ODMRSYS.ODMR$REPOSITORY_PROPERTIES
   WHERE property_name = 'WORKFLOW_JOB_CLASS';
</pre></div>
<!-- class="example" --></div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a class="olink ADMIN-GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=ADMIN-GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a></li>
<li><a class="olink ARPLS-GUID-A24DEB5D-2EAF-4C0B-8715-30DC947B3F87" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=ARPLS-GUID-A24DEB5D-2EAF-4C0B-8715-30DC947B3F87"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
</ul>
</div>
</div>
</div>
<a id="DMRIG240"></a><a id="DMRIG236"></a>
<div class="props_rev_3"><a id="GUID-187657D4-5293-4E1A-8912-7D39ED6AE283"></a>
<h2 id="DMRIG-GUID-187657D4-5293-4E1A-8912-7D39ED6AE283" class="sect2">Managing Parallel Processing</h2>
<div>
<p>Oracle Data Miner workflows and views, and most Data Mining algorithms, can take advantage of parallel processing of queries when it is enabled in the database. Parameters in <code class="codeph">INIT.ORA</code> control the behavior of parallel processing. By default parallelism is disabled <code class="codeph">(PARALLEL_DEGREE_POLICY=MANUAL).</code></p>
<div class="section">
<p>Parallel processing of queries can be system-determined, or it can be set to Degree of Parallelism. When parallel processing is system-determined, the database dynamically determines Degree of Parallelism values for all SQL statements.</p>
<p>The parallel feature of Oracle Database is designed to use maximum resources assuming the operation will finish faster if you use more resources. In a multiuser environment, increasing the use of parallelism can rapidly deplete system resources, reducing resources for other users to execute parallel statements concurrently.</p>
<p>Oracle Data Miner workflows support a parallel query feature, which allows users to manually enable parallel processing for specific nodes or entire workflows. You can disable this feature by setting the Oracle Data Miner repository property <code class="codeph">PARALLEL_QUERY_ON_ALLOWED</code> to <code class="codeph">FALSE</code>. By default, this property is set to <code class="codeph">TRUE</code>. <a href="managing-system-resources-for-data-miner.htm#GUID-187657D4-5293-4E1A-8912-7D39ED6AE283__CHDGCDCD">Example 6-4</a> shows how to disable the parallel query processing feature of Oracle Data Miner.</p>
<p>The Oracle Data Miner model build process can generate many parallel sessions if your database configuration allows for it. To limit the impact on the overall system, you should implement an appropriate resource plan and, if necessary, prevent users from setting parallel query within their Data Miner sessions.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-187657D4-5293-4E1A-8912-7D39ED6AE283__CHDGCDCD">
<p class="titleinexample">Example 6-4 Disabling the Parallel Query Feature for Oracle Data Miner Workflows and Nodes</p>
<pre dir="ltr">
connect sys as sysdba;
Enter password: <span class="variable">password</span>
-- value of PARALLEL_QUERY_ON_ALLOWED before update
SELECT property_name, property_str_value 
   FROM ODMRSYS.ODMR$REPOSITORY_PROPERTIES
   WHERE property_name = 'PARALLEL_QUERY_ON_ALLOWED';
-- update PARALLEL_QUERY_ON_ALLOWED
UPDATE ODMRSYS.ODMR$REPOSITORY_PROPERTIES
   SET property_str_value = 'FALSE'
   WHERE property_name = 'PARALLEL_QUERY_ON_ALLOWED';
-- commit change
COMMIT;
-- verify value of PARALLEL_QUERY_ON_ALLOWED after update
SELECT property_name, property_str_value 
   FROM ODMRSYS.ODMR$REPOSITORY_PROPERTIES
   WHERE property_name = 'PARALLEL_QUERY_ON_ALLOWED';
</pre>
<pre dir="ltr">
connect sys as sysdba;
Enter password: <span class="italic">password</span>
-- value of PARALLEL_QUERY_ON_ALLOWED before update
SELECT property_name, property_str_value 
   FROM ODMRSYS.ODMR$REPOSITORY_PROPERTIES
   WHERE property_name = 'PARALLEL_QUERY_ON_ALLOWED';
-- update PARALLEL_QUERY_ON_ALLOWED
UPDATE ODMRSYS.ODMR$REPOSITORY_PROPERTIES
   SET property_str_value = 'FALSE'
   WHERE property_name = 'PARALLEL_QUERY_ON_ALLOWED';
-- commit change
COMMIT;
-- verify value of PARALLEL_QUERY_ON_ALLOWED after update
SELECT property_name, property_str_value 
   FROM ODMRSYS.ODMR$REPOSITORY_PROPERTIES
   WHERE property_name = 'PARALLEL_QUERY_ON_ALLOWED';
</pre></div>
<!-- class="example" --></div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a class="olink VLDBG-GUID-3E2AE088-2505-465E-A8B2-AC38813EA355" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=VLDBG-GUID-3E2AE088-2505-465E-A8B2-AC38813EA355"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a></li>
</ul>
</div>
</div>
</div>
<a id="DMRIG242"></a><a id="DMRIG241"></a>
<div class="props_rev_3"><a id="GUID-E4A0A15A-F061-48AF-9018-2ABDE43A15B6"></a>
<h2 id="DMRIG-GUID-E4A0A15A-F061-48AF-9018-2ABDE43A15B6" class="sect2">Summary of Oracle Data Miner Repository Properties for System Management</h2>
<div>
<p>A summary of the system management properties is available in the Oracle Data Miner repository.</p>
<div class="section">
<p><a href="managing-system-resources-for-data-miner.htm#GUID-E4A0A15A-F061-48AF-9018-2ABDE43A15B6__CHDDGECF" title="This table describes the properties WORKFLOW_JOB_CLASS, MAX_NUM_THREADS, and PARALLEL_QUERY_ON_ALLOWED. It also describes properties related to polling rates and workflow scheduler.">Table 6-1</a> provides a summary of the system management properties available in the Oracle Data Miner repository.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-E4A0A15A-F061-48AF-9018-2ABDE43A15B6__CHDDGECF">
<p class="titleintable">Table 6-1 Oracle Data Miner Repository Properties for System Management</p>
<table class="cellalignment114" title="Oracle Data Miner Repository Properties for System Management" summary="This table describes the properties WORKFLOW_JOB_CLASS, MAX_NUM_THREADS, and PARALLEL_QUERY_ON_ALLOWED. It also describes properties related to polling rates and workflow scheduler.">
<thead>
<tr class="cellalignment108">
<th class="cellalignment132" id="d9185e667">Property</th>
<th class="cellalignment157" id="d9185e670">Type</th>
<th class="cellalignment158" id="d9185e673">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e678" headers="d9185e667">
<p><code class="codeph">PARALLEL_QUERY_ON_ALLOWED</code></p>
</td>
<td class="cellalignment159" headers="d9185e678 d9185e670">
<p>Boolean</p>
</td>
<td class="cellalignment160" headers="d9185e678 d9185e673">
<p>Indicates whether users can specify parallel query for nodes or workflows. Values are <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code>. Default is <code class="codeph">TRUE</code>.</p>
</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e698" headers="d9185e667">
<p><code class="codeph">MAX_NUM_THREADS</code></p>
</td>
<td class="cellalignment159" headers="d9185e698 d9185e670">
<p>Integer</p>
</td>
<td class="cellalignment160" headers="d9185e698 d9185e673">
<p>Maximum number of concurrent model builds. Default is 10.</p>
</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e709" headers="d9185e667">
<p><code class="codeph">THREAD_WAIT_TIME</code></p>
</td>
<td class="cellalignment159" headers="d9185e709 d9185e670">
<p>Integer</p>
</td>
<td class="cellalignment160" headers="d9185e709 d9185e673">
<p>When <code class="codeph">MAX_NUM_THREADS</code> is reached, any outstanding model build processes are queued until the parallel model build count is less than <code class="codeph">MAX_NUM_THREADS</code>. The <code class="codeph">THREAD_WAIT_TIME</code> setting determines how long to wait before checking the parallel model build count. The default wait time is 5 seconds.</p>
</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e729" headers="d9185e667">
<p><code class="codeph">MAX_THREAD_WAIT</code></p>
</td>
<td class="cellalignment159" headers="d9185e729 d9185e670">
<p>Integer</p>
</td>
<td class="cellalignment160" headers="d9185e729 d9185e673">
<p>The timeout interval in seconds for a model build process that has been queued. When a timeout occurs, the build process exits with an error message stating that the process lock wait timeout interval has been exceeded. When the value is <code class="codeph">NULL</code>, no timeout occurs. Default is <code class="codeph">NULL</code></p>
</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e745" headers="d9185e667"><code class="codeph">MAX_STRING_SIZE</code></td>
<td class="cellalignment159" headers="d9185e745 d9185e670">VARCHAR2, NVARCHAR2</td>
<td class="cellalignment160" headers="d9185e745 d9185e673">Controls the maximum size of the data types VARCHAR2 and NVARCHAR2 in tables that are generated by Oracle Data Miner. This property is initialized from the value of <code class="codeph">MAX_STRING_SIZE</code> database property.
<div class="infobox-note" id="GUID-E4A0A15A-F061-48AF-9018-2ABDE43A15B6__GUID-7F928CB0-DE7D-479A-8C26-72D4D6A63C01">
<p class="notep1">Note:</p>
If you change the <code class="codeph">MAX_STRING_SIZE</code> database property, then you must update the <code class="codeph">MAX_STRING_SIZE</code> property in the ODMR$REPOSITORY_PROPERTIES to match the value. ODMr run time error may occur if the values are not in synchrony.</div>
</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e764" headers="d9185e667">
<p><code class="codeph">WORKFLOW_JOB_CLASS</code></p>
</td>
<td class="cellalignment159" headers="d9185e764 d9185e670">
<p>Varchar</p>
</td>
<td class="cellalignment160" headers="d9185e764 d9185e673">
<p>Oracle Scheduler job class for workflows. Default is <code class="codeph">DEFAULT_JOB_CLASS</code>.</p>
</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e778" headers="d9185e667"><code class="codeph">POLLING_IDLE_RATE</code></td>
<td class="cellalignment159" headers="d9185e778 d9185e670">NUMBER</td>
<td class="cellalignment160" headers="d9185e778 d9185e673">This is the rate at which Oracle Data Miner client polls the database when there are apparently no workflows detected as <code class="codeph">Running.</code> Default is <code class="codeph">30000 milliseconds</code> (internal default). The actual value is <code class="codeph">0</code> in the repository property table. If the administrator changes its value to a non zero value, then it becomes the active setting.</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e795" headers="d9185e667"><code class="codeph">POLLING_ACTIVE_RATE</code></td>
<td class="cellalignment159" headers="d9185e795 d9185e670">NUMBER</td>
<td class="cellalignment160" headers="d9185e795 d9185e673">
<p>This is the rate at which Oracle Data Miner client polls the database when there are workflows detected as <code class="codeph">Running.</code> Default is <code class="codeph">1500 milliseconds</code> (internal default). The actual default in the repository property setting is <code class="codeph">0.</code> If you change it to a non zero value, then it becomes the active setting.</p>
</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e813" headers="d9185e667"><code class="codeph">POLLING_COMPLETED_WINDOW</code></td>
<td class="cellalignment159" headers="d9185e813 d9185e670">NUMBER</td>
<td class="cellalignment160" headers="d9185e813 d9185e673">This is the window of time in hours to include completed workflows in the polling query result. Default is <code class="codeph">0</code> in the repository. Client level default is <code class="codeph">24.</code> This setting will override the client level preference setting available to the user if it is changed to a non zero value.</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e827" headers="d9185e667"><code class="codeph">PURGE_WORKFLOW_SCHEDULER_OBJS</code></td>
<td class="cellalignment159" headers="d9185e827 d9185e670">VARCHAR2</td>
<td class="cellalignment160" headers="d9185e827 d9185e673">Purges old Oracle Scheduler objects generated by the running workflows.
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">TRUE</code> (Default). Purges Oracle Scheduler objects automatically</p>
</li>
<li>
<p><code class="codeph">FALSE.</code> Does not purge any Oracle Scheduler objects. If a workflow is deleted, then Oracle Scheduler objects are purged.</p>
<p>Oracle recommends that you use the <code class="codeph">FALSE</code> option if you must triage workflow issues. You must set it to <code class="codeph">TRUE</code> after completing the triage.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment108">
<td class="cellalignment134" id="d9185e854" headers="d9185e667"><code class="codeph">PURGE_WORKFLOW_EVENT_LOG</code></td>
<td class="cellalignment159" headers="d9185e854 d9185e670">NUMBER</td>
<td class="cellalignment160" headers="d9185e854 d9185e673">Controls the number of workflows runs that are preserved for each workflow in the event log. The events of the older workflow are purged to keep within this limit. Default is <code class="codeph">2</code>.
<div class="p">
<div class="infobox-note" id="GUID-E4A0A15A-F061-48AF-9018-2ABDE43A15B6__GUID-B11DDFFA-1F30-4744-9C7D-C1A020670956">
<p class="notep1">Note:</p>
If you provide the value <code class="codeph">0,</code> then Oracle Data Miner will not purge any workflow events. This is not recommended as it will increase the size of the event log, and affect query performances.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment107">
<tr>
<td class="cellalignment127">
<table class="cellalignment112">
<tr>
<td class="cellalignment111"><a href="managing-oracle-data-miner-repository.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment111"><a href="generating-deploying-sql-scripts.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment129">
<table class="cellalignment110">
<tr>
<td class="cellalignment111"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment111"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment111"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment111"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment111"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment111"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
