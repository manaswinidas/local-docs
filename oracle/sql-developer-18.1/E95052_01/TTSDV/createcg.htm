<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Creating Cache Groups</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-11-26T15:16:57Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="SQL Developer Oracle TimesTen In-Memory Database Support User's Guide" />
<meta name="dcterms.identifier" content="E39882-02" />
<meta name="dcterms.isVersionOf" content="TTSDV" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2009, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="prereqs.htm" title="Previous" type="text/html" />
<link rel="Next" href="operations.htm" title="Next" type="text/html" />
<link rel="alternate" href="TTSDV.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script type="text/javascript" src="target.js"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">11/17</span> <!-- End Header -->
<div id="TTSDV121" class="chapter"><a id="sthref305"></a>
<h1 class="chapter"><span class="secnum">7</span> Creating Cache Groups</h1>
<p>A <a id="sthref306"></a>cache group defines the set of Oracle data to cache in a TimesTen database. When you create a cache group, cache tables are created in the TimesTen database that correspond to the Oracle tables being cached.</p>
<p>This chapter includes topics:</p>
<ul>
<li>
<p><a href="#CDGGECBE">Creating a cache group</a> including:</p>
<ul>
<li>
<p><a href="#CDGFJIIC">Defining a cache group and cache table attributes</a></p>
</li>
<li>
<p><a href="#CDGGIGAI">Defining the root table</a></p>
</li>
<li>
<p><a href="#CDGEHFID">Defining the child tables</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#CDGDFIDI">Dropping a cache group</a></p>
</li>
</ul>
<a id="CDGGECBE"></a>
<div id="TTSDV122" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating a cache group</h2>
<p>To create a cache group, right-click the <span class="bold">Cache Groups</span> node under the node of the connection name for the TimesTen database and select <a id="sthref307"></a><span class="bold">New Cache Group</span>.</p>
<div id="TTSDV199" class="figure">
<p class="titleinfigure"><a id="sthref308"></a>Figure 7-1 Creating a new cache group</p>
<img width="250" height="321" src="img/newcachegroup.gif" alt="Description of Figure 7-1 follows" /><br />
<a id="sthref309" href="img_text/newcachegroup.htm">Description of "Figure 7-1 Creating a new cache group"</a><br />
<br /></div>
<!-- class="figure" -->
<p>In the <span class="bold">Create cache group</span> dialog, specify a name for the cache group in the <span class="bold">Name</span> field within the <span class="bold">Cache Group Attributes</span> tab. For <span class="bold">Type</span>, choose the desired cache group type (read-only, asynchronous writethrough, synchronous writethrough or user managed).</p>
<p><a id="sthref310"></a>Cache groups are categorized as either explicitly loaded or <a id="sthref311"></a>dynamic. If you are creating a dynamic cache group, then choose <span class="bold">Dynamic</span> in the <span class="bold">Type</span> section.</p>
<p>In an explicitly loaded cache group, data is loaded manually into its cache tables from the corresponding Oracle tables using a load or refresh operation, or automatically using an automatic refresh operation. In a dynamic cache group, data is loaded into its cache tables on demand from the corresponding Oracle tables using a dynamic load operation, or manually using a load operation.</p>
<p>A <a id="sthref312"></a>read-only, <a id="sthref313"></a>asynchronous writethrough (AWT) or <a id="sthref314"></a>synchronous writethrough (SWT) cache group can be defined as a dynamic cache group. A user managed cache group can be defined as a dynamic cache group if it does not contain all of the following characteristics:</p>
<ul>
<li>
<p>Automatic refresh is defined</p>
</li>
<li>
<p>At least one of its cache tables are updatable</p>
</li>
<li>
<p>Committed updates on one or more of its updatable cache tables are propagated to the corresponding Oracle tables</p>
</li>
</ul>
<p>For more information about explicitly loaded and dynamic cache groups, see <a class="olink TTCAC127" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC127">"Loading data into a cache group: Explicitly loaded and dynamic cache groups"</a> and <a class="olink TTCAC259" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC259">"Dynamic cache groups"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<p>Cache groups are classified as either local or global. If you are creating a global cache group, then select the <span class="bold">Global</span> in the <span class="bold">Type</span> section.</p>
<p>In a<a id="sthref315"></a> local cache group, data in its cache tables are not shared across TimesTen databases even if the databases are members of the same cache grid. In a <a id="sthref316"></a>global cache group, data in its cache tables are shared across TimesTen databases that are members of the same cache grid.</p>
<p>Only an AWT cache group can be defined as global cache group.</p>
<p>For more information about local and global cache groups, see <a class="olink TTCAC128" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC128">"Sharing data across a cache grid: Local and global cache groups"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<div id="TTSDV200" class="figure">
<p class="titleinfigure"><a id="sthref317"></a>Figure 7-2 Defining cache group type</p>
<img width="410" height="242" src="img/createcachegroup.gif" alt="Description of Figure 7-2 follows" /><br />
<a id="sthref318" href="img_text/createcachegroup.htm">Description of "Figure 7-2 Defining cache group type"</a><br />
<br /></div>
<!-- class="figure" -->
<a id="CDGFJIIC"></a>
<div id="TTSDV123" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Defining a cache group and cache table attributes</h3>
<p>Within the <span class="bold">Cache Group Attributes</span> tab of the <span class="bold">Create cache group</span> dialog, if you are creating a <a id="sthref319"></a>user managed cache group and you select <span class="bold">Autorefresh</span> within the <span class="bold">Table Attributes</span> section to enable automatic refresh when either <span class="bold">All tables readonly</span> or <span class="bold">Propagate all tables</span> is selected, or you are creating a read-only cache group, then for the following automatic refresh characteristics:</p>
<ul>
<li>
<p>Set the automatic refresh mode in the <span class="bold">Mode</span> field by choosing either <span class="bold">Full</span> or <span class="bold">Incremental</span>. The default automatic refresh mode is Incremental.</p>
</li>
<li>
<p>Set the automatic refresh interval in the <span class="bold">Refresh Interval</span> field by specifying a numeric value followed by a unit of time in minutes, seconds or milliseconds. The default automatic refresh interval is 5 minutes.</p>
</li>
<li>
<p>Set the automatic refresh state in the <span class="bold">Refresh State</span> field by choosing either <span class="bold">Paused</span>, <span class="bold">On</span> or <span class="bold">Off</span>. The default automatic refresh state is Paused.</p>
</li>
</ul>
<div id="TTSDV201" class="figure">
<p class="titleinfigure"><a id="sthref320"></a>Figure 7-3 Autorefresh attributes</p>
<img width="405" height="237" src="img/autorefreshattributes.gif" alt="Description of Figure 7-3 follows" /><br />
<a id="sthref321" href="img_text/autorefreshattributes.htm">Description of "Figure 7-3 Autorefresh attributes"</a><br />
<br /></div>
<!-- class="figure" -->
<p>For more information about automatic refresh of cache groups, see <a class="olink TTCAC236" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC236">"AUTOREFRESH cache group attribute"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<p>For more information about read-only cache groups, see <a class="olink TTCAC212" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC212">"Read-only cache group"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<p>If you are creating a user managed cache group, then from the <span class="bold">Table Attributes</span> section in the <span class="bold">Cache Group Attributes</span> tab within the <span class="bold">Create cache group</span> dialog, choose one:</p>
<ul>
<li>
<p><span class="bold">All tables readonly</span>: All cache tables are read-only</p>
</li>
<li>
<p><span class="bold">Propagate all tables</span>: All cache tables are updatable and committed updates on the cache tables are propagated to the corresponding Oracle tables</p>
</li>
<li>
<p><span class="bold">Varies from table to table</span>: Some cache tables are read-only and other cache tables are updatable where committed updates on the cache tables may or may not be propagated to the corresponding Oracle tables</p>
</li>
</ul>
<div id="TTSDV202" class="figure">
<p class="titleinfigure"><a id="sthref322"></a>Figure 7-4 User managed cache group attributes</p>
<img width="407" height="240" src="img/usermanaged.gif" alt="Description of Figure 7-4 follows" /><br />
<a id="sthref323" href="img_text/usermanaged.htm">Description of "Figure 7-4 User managed cache group attributes"</a><br />
<br /></div>
<!-- class="figure" -->
<p>For more information about user managed cache groups, see <a class="olink TTCAC229" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC229">"User managed cache group"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
</div>
<!-- class="sect2" -->
<a id="CDGGIGAI"></a>
<div id="TTSDV124" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref324"></a>Defining the root table</h3>
<p>Click the <span class="bold">Tables</span> tab in the <span class="bold">Create cache group</span> dialog. Right-click in the <span class="bold">Tables</span> panel and select <span class="bold">Add root table</span>.</p>
<div id="TTSDV203" class="figure">
<p class="titleinfigure"><a id="sthref325"></a>Figure 7-5 Adding the root table</p>
<img width="388" height="176" src="img/addroottable.gif" alt="Description of Figure 7-5 follows" /><br />
<a id="sthref326" href="img_text/addroottable.htm">Description of "Figure 7-5 Adding the root table"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <a id="sthref327"></a><span class="bold">Select the root table</span> dialog appears. The list of Oracle tables and Oracle synonyms that you can choose to designate as the root table for your cache group is displayed. Oracle tables that have primary keys and Oracle tables that have unique non-null indexes are available for selection.</p>
<p>Select the table and click <span class="bold">OK</span>.</p>
<div id="TTSDV204" class="figure">
<p class="titleinfigure"><a id="sthref328"></a>Figure 7-6 List of tables and synonyms for root table</p>
<img width="294" height="555" src="img/selectroottable.gif" alt="Description of Figure 7-6 follows" /><br />
<a id="sthref329" href="img_text/selectroottable.htm">Description of "Figure 7-6 List of tables and synonyms for root table"</a><br />
<br /></div>
<!-- class="figure" -->
<p>To show only Oracle tables owned by the current connection user, choose <span class="bold">Show only my tables</span>.</p>
<p>For more information on caching Oracle synonyms, see <a class="olink TTCAC248" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC248">"Caching Oracle synonyms"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<div id="TTSDV125" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref330"></a>
<h4 class="sect3"><a id="sthref331"></a>Selecting the columns to cache</h4>
<p>In the <span class="bold">Columns</span> tab within the <span class="bold">Tables</span> tab of the <span class="bold">Create cache group</span> dialog, select the check boxes under the <span class="bold">Inline</span> field to specify the <code>INLINE</code> attribute for the column. You can specify the <code>INLINE</code> attribute for columns of type <code>VARCHAR2</code>, <code>NVARCHAR2</code>, and <code>VARBINARY</code>.</p>
<p>Select the check boxes under the <span class="bold">Allow null values</span> field for each cached column to accept null values. By default, the nullability of a cache table's column is identical to the nullability of the corresponding Oracle table's column.</p>
<p>Select the check boxes under the <span class="bold">Cached</span> field for each column to cache. By default, all columns of the table are selected and are cached. The Oracle table's unique identifying columns (primary key, unique index or unique constraint) must be included in the TimesTen cache table and constitutes the cache table's primary key.</p>
<p>To select all columns or deselect all columns, except for the Oracle table's unique identifying columns, to accept null values or to cache, select or deselect the check boxes that appear to the left of the <span class="bold">Allow null values</span> and <span class="bold">Cached</span> fields, respectively.</p>
<p>For more information about the characteristics of cache tables and cache groups, see <a class="olink TTCAC204" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC204">"Cache groups and cache tables"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<p>Some Oracle data types have multiple compatible TimesTen data types. For columns in the Oracle table whose data type can map multiple TimesTen data types, a menu appears under the <span class="bold">Data type in TimesTen</span> field for those columns. Select the desired data type for the column in the cache table. The default compatible TimesTen data type for the Oracle data type appears in italics.</p>
<p>For more information about compatibility between Oracle and TimesTen data types, see <a class="olink TTCAC362" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC362">"Mappings between Oracle and TimesTen data types"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<p>For updatable cache tables, you can specify a default column value under the <span class="bold">Default Value</span> field for each cached column to define a default value. By default, the default value of a cache table's column is identical to the default value of the corresponding Oracle table's column.</p>
</div>
<!-- class="sect3" -->
<div id="TTSDV126" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref332"></a>
<h4 class="sect3">Specifying the table attributes</h4>
<p>By default, TimesTen creates a range index on the cache table's primary key columns. To create a hash index instead of a range index on the primary key columns, in the <a id="sthref333"></a><span class="bold">Primary Key</span> section of the <span class="bold">Table Attributes</span> tab within the <span class="bold">Tables</span> tab of <span class="bold">Create cache group</span>, choose <span class="bold">Use hash</span>. You must size the hash index by specifying either the maximum number of rows the underlying cache table is anticipated to have or the number of pages to allocate to the index in the <span class="bold">Hash sizing policy</span> menu and the adjacent field after the colon (<span class="bold">:</span>) which requires a numeric value. The default selection is <span class="bold">Current table row count</span>.</p>
<div id="TTSDV208" class="figure">
<p class="titleinfigure"><a id="sthref334"></a>Figure 7-7 Primary key attributes</p>
<img width="679" height="210" src="img/primarykeyroot.gif" alt="Description of Figure 7-7 follows" /><br />
<a id="sthref335" href="img_text/primarykeyroot.htm">Description of "Figure 7-7 Primary key attributes"</a><br />
<br /></div>
<!-- class="figure" -->
<p>For more information about the index that is automatically created on a cache table's primary key columns, see <a class="olink TTSQL290" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTSQL290">"CREATE CACHE GROUP"</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<p>For more information about properly sizing a hash index, see <a class="olink TTSQL302" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTSQL302">"CREATE TABLE"</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<p>By default, the primary key columns of a cache table are identical to the primary key columns of the corresponding Oracle database table. You can define a different column or set of columns as the primary key for the cache table.</p>
<p>In the <span class="bold">Manual table management</span> section of the <span class="bold">Table Attributes</span> tab within the <span class="bold">Tables</span> tab of the <span class="bold">Create cache group</span> dialog, click <span class="bold">Redefine primary key</span>.</p>
<div id="TTSDV209" class="figure">
<p class="titleinfigure"><a id="sthref336"></a>Figure 7-8 Redefining a primary key</p>
<img width="731" height="293" src="img/redefineprimarykey.gif" alt="Description of Figure 7-8 follows" /><br />
<a id="sthref337" href="img_text/redefineprimarykey.htm">Description of "Figure 7-8 Redefining a primary key"</a><br />
<br /></div>
<!-- class="figure" -->
<p>In the <span class="bold">Define Primary Key(s)</span> dialog, the non-nullable unique columns of the corresponding Oracle table is shown in the <span class="bold">Non-null unique columns</span> list. Select the columns for the primary key of the cache table and then choose <span class="bold">&gt;&gt;</span> to move those columns into the <span class="bold">Primary key(s)</span> list. The order of the columns in a composite primary key is significant if a range index is to be created on the columns. Click <span class="bold">OK</span> to define the alternate primary key for the cache table.</p>
<div id="TTSDV210" class="figure">
<p class="titleinfigure"><a id="sthref338"></a>Figure 7-9 Defining a new primary key</p>
<img width="596" height="356" src="img/newprimarykey.gif" alt="Description of Figure 7-9 follows" /><br />
<a id="sthref339" href="img_text/newprimarykey.htm">Description of "Figure 7-9 Defining a new primary key"</a><br />
<br /></div>
<!-- class="figure" -->
<p>If the primary key of the cache table consists of a different set of columns than the primary key of the corresponding Oracle table, then the tables may become unsynchronized when committed updates are made on the cache table or the corresponding Oracle table. Unique constraint violations can occur when:</p>
<ul>
<li>
<p>Committed updates on the cache table are propagated to the corresponding Oracle table</p>
</li>
<li>
<p>Committed updates on the Oracle table are refreshed to the corresponding cache table</p>
</li>
</ul>
<p>You can specify an <a id="sthref340"></a>optional <code>WHERE</code> clause for the cache table in the <span class="bold">WHERE clause</span> field of the <span class="bold">Table Attributes</span> tab within the <span class="bold">Tables</span> tab of <span class="bold">Create cache group</span>. A <code>WHERE</code> clause is only allowed for table definitions in a read-only cache group or a user managed cache group that has automatic refresh defined.</p>
<div id="TTSDV211" class="figure">
<p class="titleinfigure"><a id="sthref341"></a>Figure 7-10 Specifying a where clause</p>
<img width="661" height="500" src="img/whereclause.gif" alt="Description of Figure 7-10 follows" /><br />
<a id="sthref342" href="img_text/whereclause.htm">Description of "Figure 7-10 Specifying a where clause"</a><br />
<br /></div>
<!-- class="figure" -->
<p>For more information about specifying a <code>WHERE</code> clause in the table definition of a cache group, see <a class="olink TTCAC241" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC241">"Using a WHERE clause"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<p>If the cache table is in a user managed cache group that has selected the <span class="bold">Varies from table to table</span> in the <span class="bold">Table attributes</span> section within the <span class="bold">Cache Group Attributes</span> tab of the <span class="bold">Create cache group</span> dialog, then you must specify the table attribute for the cache table.</p>
<p>In the <span class="bold">Propagation Type</span> section of the <span class="bold">Table Attributes</span> tab within the <span class="bold">Tables</span> tab of <span class="bold">Create cache group</span>, choose:</p>
<ul>
<li>
<p><span class="bold">Readonly</span> to define the cache table as read-only</p>
</li>
<li>
<p><span class="bold">Propagate</span> to define the cache table as updatable with updates on the table to be propagated to the corresponding Oracle table</p>
</li>
<li>
<p><span class="bold">Neither</span> to define the cache table as updatable with updates on the table not propagated to the corresponding Oracle table</p>
</li>
</ul>
<p>By default, cache tables in a user managed cache group are updatable with updates on the table not propagated to the corresponding Oracle table.</p>
</div>
<!-- class="sect3" -->
<a id="CEGIGICG"></a>
<div id="TTSDV127" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Specifying an <a id="sthref343"></a>aging policy</h4>
<p>You can specify an aging policy for the <a id="sthref344"></a>cache table in the <span class="bold">Aging</span> tab of the <span class="bold">Create cache group</span> dialog. An aging policy is explicitly defined on the root table of a cache group and it implicitly applies to all the child tables.</p>
<p>Choose:</p>
<ul>
<li>
<p><span class="bold">Usage-based</span> to define a least recently used (LRU) aging policy</p>
</li>
<li>
<p><span class="bold">Time-based</span> to define a time-based aging policy</p>
</li>
<li>
<p><span class="bold">No aging</span> to not define an aging policy</p>
</li>
</ul>
<p>An LRU <a id="sthref345"></a>aging policy can be defined for tables in an explicitly loaded AWT, SWT or user managed cache group that does not have automatic refresh defined. The default aging state is set to off for global explicitly loaded cache groups. For dynamic cache groups that do not have automatic refresh defined, the default aging state is set to on and the type of aging is set to usage-based.</p>
<p>The TimesTen database memory usage thresholds that determine when data starts and stops being deleted from tables that are subject to LRU aging are shown when the <span class="bold">Usage-based</span> is selected. The default usage threshold that determines when data starts being deleted from the tables is 90%. The default usage threshold that determines when data stops being deleted from the tables is 80%. The default LRU aging cycle is 1 minute.</p>
<p>For information about how to change the memory usage thresholds and LRU aging cycle, see <a href="objects.htm#CHDBFHFH">"Changing the memory usage thresholds and LRU aging cycle"</a>.</p>
<div id="TTSDV212" class="figure">
<p class="titleinfigure"><a id="sthref346"></a>Figure 7-11 Specifying usage-based aging</p>
<img width="270" height="226" src="img/lruaging.gif" alt="Description of Figure 7-11 follows" /><br />
<a id="sthref347" href="img_text/lruaging.htm">Description of "Figure 7-11 Specifying usage-based aging"</a><br />
<br /></div>
<!-- class="figure" -->
<p>For more information about defining an LRU aging policy on cache tables, see <a class="olink TTCAC250" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC250">"LRU aging"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<p>A <a id="sthref348"></a>time-based <a id="sthref349"></a>aging policy can be defined on a cache table that contains a non-nullable <code>DATE</code> or <code>TIMESTAMP</code> column. Columns in the table of these data types appear in the <span class="bold">Column</span> within the <span class="bold">Aging</span> tab of the <span class="bold">Create cache group</span> dialog when <span class="bold">Time-based</span> is selected. Select the column to store the timestamp value indicating when each row was inserted or most recently updated.</p>
<p>In the <span class="bold">Life-time</span> field, indicate the length of time in which data that has not been updated is to be kept in the table by specifying a numeric value followed by a unit of time in minutes, hours or days from the drop-down menu list.</p>
<p>In the <span class="bold">Cycle</span> field, indicate the frequency in which data is to be aged out of the table by specifying a numeric value followed by a unit of time in minutes, hours or days in the drop-down menu list. The default time-based aging cycle is 5 minutes.</p>
<p>Specify an aging state by choosing <span class="bold">on</span> or <span class="bold">off</span>.</p>
<div id="TTSDV213" class="figure">
<p class="titleinfigure"><a id="sthref350"></a>Figure 7-12 Specifying time-based aging</p>
<img width="270" height="190" src="img/timebasedaging.gif" alt="Description of Figure 7-12 follows" /><br />
<a id="sthref351" href="img_text/timebasedaging.htm">Description of "Figure 7-12 Specifying time-based aging"</a><br />
<br /></div>
<!-- class="figure" -->
<p>For more information about defining a time-based aging policy on cache tables, see <a class="olink TTCAC253" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC253">"Time-based aging"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
</div>
<!-- class="sect3" -->
<div id="TTSDV128" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref352"></a>
<h4 class="sect3">Verifying the <a id="sthref353"></a>root table definition</h4>
<p>After you have defined the tables and columns to cache, the type of index to create on the primary key columns, the table attributes including an optional <code>WHERE</code> clause, and an optional aging policy for the root table, you can view the <code>CREATE CACHE GROUP</code> statement used to create the cache group and its cache table in the <span class="bold">DDL</span> tab of the <span class="bold">Create cache group</span> dialog.</p>
<p>Click <span class="bold">Apply</span> to create the cache group and its cache table if you are not going to add any child tables to the cache group.</p>
<div id="TTSDV214" class="figure">
<p class="titleinfigure"><a id="sthref354"></a>Figure 7-13 Verifying the cache group definition</p>
<img width="365" height="212" src="img/onetablecachegroup.gif" alt="Description of Figure 7-13 follows" /><br />
<a id="sthref355" href="img_text/onetablecachegroup.htm">Description of "Figure 7-13 Verifying the cache group definition"</a><br />
<br /></div>
<!-- class="figure" -->
<p>For information about the syntax and semantics of the <code>CREATE CACHE GROUP</code> statement, see <a class="olink TTSQL290" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTSQL290">"CREATE CACHE GROUP"</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CDGEHFID"></a>
<div id="TTSDV129" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Defining the <a id="sthref356"></a>child tables</h3>
<p>Within the <span class="bold">Tables</span> tab of the <span class="bold">Create cache group</span> dialog, right-click in the <span class="bold">Tables</span> panel and select <span class="bold">Add child tables</span>.</p>
<p>The <span class="bold">Select one or more child tables</span> dialog appears. This dialog displays the list of Oracle tables and Oracle synonyms that you can choose to designate as the child table(s) for your cache group. Oracle tables that have primary keys and Oracle tables that have unique non-null indexes are available for selection.</p>
<p>Select the tables to designate as the child tables for your cache group and click <span class="bold">OK</span>.</p>
<p>For more information on caching Oracle synonyms, see <a class="olink TTCAC248" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC248">"Caching Oracle synonyms"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<div id="TTSDV216" class="figure">
<p class="titleinfigure"><a id="sthref357"></a>Figure 7-14 List of table and synonyms for child tables</p>
<img width="294" height="555" src="img/selectchildtables.gif" alt="Description of Figure 7-14 follows" /><br />
<a id="sthref358" href="img_text/selectchildtables.htm">Description of "Figure 7-14 List of table and synonyms for child tables"</a><br />
<br /></div>
<!-- class="figure" -->
<p>To select multiple child tables, press and hold the CTRL key, and click the desired tables. The child tables appear under their appropriate parent table. You can also drag and drop a particular child table so that it appears under the desired parent table.</p>
<p>To show only Oracle tables owned by the current connection user, choose <span class="bold">Show only my tables</span>.</p>
<div id="TTSDV130" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref359"></a>
<h4 class="sect3">Selecting the columns to cache</h4>
<p>Click a <a id="sthref360"></a>child table and in the <span class="bold">Columns</span> tab within the <span class="bold">Tables</span> tab of the <span class="bold">Create cache group</span> dialog, select the check boxes under the <span class="bold">Allow null values</span> field for each cached column to accept null values. By default, the nullability of a cache table's column is identical to the nullability of the corresponding Oracle table's column.</p>
<p>Select the check boxes under the <span class="bold">Cached</span> field for each column to cache. By default, all columns of the table are selected and are cached. The Oracle table's unique identifying columns must be included in the TimesTen cache table and constitute the cache table's primary key. The Oracle table's foreign key columns that reference its parent table must also be included in the cache table.</p>
<p>To select all columns or deselect all columns, except for the Oracle table's unique identifying columns and the foreign key columns that reference its parent table, to accept null values or to cache, select or deselect the check boxes that appear to the left of the <span class="bold">Allow null values</span> and <span class="bold">Cache</span> fields.</p>
<p>For columns in the Oracle table whose data type can map to multiple TimesTen data types, a drop-down select list appears under the <span class="bold">Data type in TimesTen</span> field for those columns. Select the desired data type for the column in the child cache table.</p>
<p>For updatable cache tables, you can specify a default column value under the <span class="bold">Default Value</span> field for each cached column in the child cache table that defines a default value.</p>
</div>
<!-- class="sect3" -->
<div id="TTSDV131" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref361"></a>
<h4 class="sect3"><a id="sthref362"></a>Specifying the table attributes</h4>
<p>In the <span class="bold">Table Attributes</span> tab within the <span class="bold">Tables</span> tab of the <span class="bold">Create cache group</span> dialog, select whether to create a range index or a hash index on the child cache table's primary key columns in a similar fashion as was specified for the root table. You can define a different column or set of columns as the primary key for the cache table than the columns of the corresponding Oracle table in a similar fashion as was specified for the root table. You can also specify an optional <code>WHERE</code> clause for the cache table in a similar fashion as was specified for the root table. A <code>WHERE</code> clause is only allowed for table definitions in a read-only cache group or a user managed cache group that has automatic refresh defined.</p>
<div id="TTSDV218" class="figure">
<p class="titleinfigure"><a id="CDGFGHEA"></a>Figure 7-15 Specifying attributes for child table</p>
<img width="602" height="479" src="img/primarykeychild.gif" alt="Description of Figure 7-15 follows" /><br />
<a id="sthref363" href="img_text/primarykeychild.htm">Description of "Figure 7-15 Specifying attributes for child table"</a><br />
<br /></div>
<!-- class="figure" -->
<p>If you would like the foreign key columns of a child table to have cascade delete enabled such that when rows containing referenced key values are deleted from its parent table, rows in the child table with dependent foreign key values are automatically deleted, then select <span class="bold">Cascade delete foreign key</span>.</p>
<p>By default, the foreign key columns of a child cache table are identical to the foreign key columns of the corresponding Oracle table. You can define a different column or set of columns as the foreign key for the cache table.</p>
<p>In the <span class="bold">Manual table management</span> section of the <span class="bold">Table Attributes</span> tab within the <span class="bold">Tables</span> tab of the <span class="bold">Create cache group</span> dialog, select <span class="bold">Redefine foreign key</span>. See <a href="#CDGFGHEA">Figure 7-15, "Specifying attributes for child table"</a>.</p>
<p>In the <a id="sthref364"></a><span class="bold">Define Foreign Key(s)</span> dialog, the columns in the child table whose data types are compatible with the primary key columns of the parent table are shown in the <span class="bold">Foreign Key(s)</span> drop-down select list. Select the columns for the foreign key of the cache table. Click <span class="bold">OK</span> to define the alternate foreign key for the cache table.</p>
<div id="TTSDV219" class="figure">
<p class="titleinfigure"><a id="sthref365"></a>Figure 7-16 Defining foreign keys</p>
<img width="492" height="493" src="img/newforeignkey.gif" alt="Description of Figure 7-16 follows" /><br />
<a id="sthref366" href="img_text/newforeignkey.htm">Description of "Figure 7-16 Defining foreign keys"</a><br />
<br /></div>
<!-- class="figure" -->
<p>For more information about the hierarchy and relationship of cache tables in a multiple-table cache group, see <a class="olink TTCAC123" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC123">"Multiple-table cache group"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
<p>If the child cache table is in a user managed cache group that has selected <span class="bold">Varies from table to table</span> in the <span class="bold">Table attributes</span> section within the <span class="bold">Cache Group Attributes</span> tab of the <span class="bold">Create cache group</span> dialog, then you must specify the table attribute for the cache table in a similar fashion as was specified for the root table. If the cache table is updatable, then specify whether updates on the table are to be propagated or not propagated to the corresponding Oracle table.</p>
</div>
<!-- class="sect3" -->
<div id="TTSDV132" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref367"></a>
<h4 class="sect3">Completing the definitions of the child tables</h4>
<p>Define the columns to cache, the type of index to create on the primary key columns, the cascade delete setting for the foreign key columns, and the table attributes including an optional WHERE clause for any remaining child tables.</p>
</div>
<!-- class="sect3" -->
<div id="TTSDV133" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref368"></a>
<h4 class="sect3">Verifying the cache group definition</h4>
<p>In the <span class="bold">DDL</span> tab of the <span class="bold">Create cache group</span> dialog, you can view the <code>CREATE CACHE</code> <code>GROUP</code> statement used to create the cache group and its cache tables.</p>
<p>Click <span class="bold">Apply</span> to create the cache group and its cache tables.</p>
<div id="TTSDV220" class="figure">
<p class="titleinfigure"><a id="sthref369"></a>Figure 7-17 Viewing the cache group definition</p>
<img width="430" height="475" src="img/twotablecachegroup.gif" alt="Description of Figure 7-17 follows" /><br />
<a id="sthref370" href="img_text/twotablecachegroup.htm">Description of "Figure 7-17 Viewing the cache group definition"</a><br />
<br /></div>
<!-- class="figure" -->
<p>If you created an AWT cache group, then you must start the replication agent for committed updates on its cache tables to be asynchronously propagated to the corresponding Oracle tables. For information about how to start the replication agent, see <a href="replication.htm#CHDCIADF">"Starting the replication agent"</a>.</p>
<p>If you created a global cache group, then you must attach the TimesTen database to the cache grid that it is associated with before you can perform operations on the cache group or on its cache tables. This task must be performed either outside of SQL Developer using a command-line interface such as the <code><span class="codeinlineitalic">ttIsql</span></code> utility, or within SQL Developer using <span class="bold">SQL Worksheet</span>. See <a class="olink TTCAC265" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC265">"Attaching a TimesTen database to a cache grid"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span> for more information.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CDGDFIDI"></a>
<div id="TTSDV138" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref371"></a>Dropping a cache group</h2>
<p>When you drop a cache group, its cache tables are also dropped.</p>
<p>Under the <span class="bold">Cache Groups</span> node within the node of the connection name for the TimesTen database, right-click the name of the cache group to drop and select <span class="bold">Drop</span>.</p>
<div id="TTSDV221" class="figure">
<p class="titleinfigure"><a id="sthref372"></a>Figure 7-18 Drop cache group</p>
<img width="549" height="422" src="img/dropcachegroup.gif" alt="Description of Figure 7-18 follows" /><br />
<a id="sthref373" href="img_text/dropcachegroup.htm">Description of "Figure 7-18 Drop cache group"</a><br />
<br /></div>
<!-- class="figure" -->
<p>Click <span class="bold">Apply</span> to drop the cache group.</p>
<div id="TTSDV222" class="figure">
<p class="titleinfigure"><a id="sthref374"></a>Figure 7-19 Drop cache group confirmation</p>
<img width="369" height="310" src="img/cachegroupdrop.gif" alt="Description of Figure 7-19 follows" /><br />
<a id="sthref375" href="img_text/cachegroupdrop.htm">Description of "Figure 7-19 Drop cache group confirmation"</a><br />
<br /></div>
<!-- class="figure" -->
<p>For more information about dropping a cache group, see <a class="olink TTCAC331" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTCAC331">"Dropping a cache group"</a> in the <span class="italic">Oracle In-Memory Database Cache User's Guide</span>.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment194">
<tr>
<td class="cellalignment201">
<table class="cellalignment199">
<tr>
<td class="cellalignment198"><a href="prereqs.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment198"><a href="operations.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2009, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment203">
<table class="cellalignment197">
<tr>
<td class="cellalignment198"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment198"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment198"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment198"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment198"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment198"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
