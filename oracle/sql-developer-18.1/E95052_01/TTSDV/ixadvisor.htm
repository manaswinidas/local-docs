<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Working with the TimesTen Index Advisor</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-11-26T15:16:55Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="SQL Developer Oracle TimesTen In-Memory Database Support User's Guide" />
<meta name="dcterms.identifier" content="E39882-02" />
<meta name="dcterms.isVersionOf" content="TTSDV" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2009, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="optimizer.htm" title="Previous" type="text/html" />
<link rel="Next" href="loadfromoracle.htm" title="Next" type="text/html" />
<link rel="alternate" href="TTSDV.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script type="text/javascript" src="target.js"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/17</span> <!-- End Header -->
<div id="TTSDV300" class="chapter"><a id="BABCIGIG"></a>
<h1 class="chapter"><span class="secnum">4</span> Working with the TimesTen Index Advisor</h1>
<p>SQL Developer supports the TimesTen Index Advisor which can evaluate a SQL workload and recommend indexes. The indexes that the TimesTen Index Advisor recommends can improve the performance for the following: joins, single table scans, and <code>ORDER BY</code> or <code>GROUP BY</code> operations. The TimesTen Index Advisor can collect index information for the current connection or for the entire database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
SQL Developer uses procedures from the TimesTen Index Advisor to recommend indexes. For more information about the TimesTen Index Advisor, see "<a class="olink TTOPR740" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTOPR740">Using the Index Advisor to recommend indexes"</a> in the <span class="italic">Oracle TimesTen In-Memory Database Operations Guide</span>.</div>
<p>Before you use the TimesTen Index Advisor:</p>
<ul>
<li>
<p>Make sure you are using Oracle TimesTen In-Memory Database Release 11.2.2.4 (or later).</p>
</li>
</ul>
<p>This chapter provides information about working with the TimesTen index advisor.</p>
<p>Topics include:</p>
<ul>
<li>
<p><a href="#BABHCAFA">Connection level capture</a></p>
</li>
<li>
<p><a href="#BABCDHJE">Database level capture</a></p>
</li>
<li>
<p><a href="#BABCCICF">Saving index recommendations</a></p>
</li>
<li>
<p><a href="#BABHEECD">Viewing the TimesTen index advisor capture state</a></p>
</li>
</ul>
<a id="BABHCAFA"></a>
<div id="TTSDV301" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Connection level capture</h2>
<p>Before attempting to capture data for the TimesTen Index Advisor, make sure your table statistics have been updated in the past 24 hours. Up-to-date table statistics provide the most up-to-date statistics for data collection and allow statements to be prepared with the optimized query plan. For more information about updating table statistics, see <a href="optimizer.htm#CCHIEGFE">"Updating the table and column statistics used by the query optimizer"</a>.</p>
<p>There are two ways to capture data for the TimesTen Index Advisor at the connection level.</p>
<ul>
<li>
<p><a href="#BABGFDGF">SQL worksheet</a></p>
</li>
<li>
<p><a href="#BABBFHHB">SQL workload script</a></p>
</li>
</ul>
<a id="BABGFDGF"></a>
<div id="TTSDV302" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">SQL worksheet</h3>
<p>You can capture data for the TimesTen Index Advisor at the connection level from the SQL Developer SQL worksheet. Make sure your SQL workload is in the SQL Developer SQL worksheet.</p>
<ol>
<li>
<p>Click the <span class="bold">TimesTen Index Advisor</span> button from the SQL worksheet menu bar.</p>
<div id="TTSDV303" class="figure">
<p class="titleinfigure"><a id="sthref164"></a>Figure 4-1 TimesTen Index Advisor from SQL worksheet</p>
<img width="557" height="195" src="img/ixadvisorsqlworksheet.gif" alt="Description of Figure 4-1 follows" /><br />
<a id="sthref165" href="img_text/ixadvisorsqlworksheet.htm">Description of "Figure 4-1 TimesTen Index Advisor from SQL worksheet"</a><br />
<br /></div>
<!-- class="figure" -->
<ul>
<li>
<p>If your table statistics are outdated, an information dialog displays information about the outdated tables. TimesTen recommends that you update your table statistics.</p>
</li>
<li>
<p>If your table statistics are up to date, the <span class="bold">Index Advisor Configuration</span> dialog displays.</p>
</li>
</ul>
</li>
<li>
<p>To update your table statistics, click <span class="bold">Cancel</span> and follow the steps in <a href="optimizer.htm#CCHIEGFE">"Updating the table and column statistics used by the query optimizer"</a>. To proceed without updating your table statistics, click <span class="bold">OK</span>.</p>
<div id="TTSDV304" class="figure">
<p class="titleinfigure"><a id="sthref166"></a>Figure 4-2 Outdated table statistics</p>
<img width="504" height="261" src="img/ixadvisoroutdated.gif" alt="Description of Figure 4-2 follows" /><br />
<a id="sthref167" href="img_text/ixadvisoroutdated.htm">Description of "Figure 4-2 Outdated table statistics"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor Configuration</span> dialog displays.</p>
</li>
<li>
<p>Select the desired capture mode from the <span class="bold">Capture mode</span> drop-down list:</p>
<ul>
<li>
<p><span class="bold">Prepare SQL</span>: TimesTen prepares but does not execute the SQL commands from the SQL worksheet. The TimesTen Index Advisor makes recommendations using computed statistics and query plan analysis. This is the default capture mode.</p>
</li>
<li>
<p><span class="bold">Execute SQL</span>: TimesTen executes the SQL commands from the SQL worksheet. The TimesTen Index Advisor makes recommendations using the actual execution of the SQL commands. This capture mode may take longer than the Prepare SQL mode because TimesTen has to complete SQL execution.</p>
</li>
</ul>
<div id="TTSDV305" class="figure">
<p class="titleinfigure"><a id="sthref168"></a>Figure 4-3 Index Advisor configuration</p>
<img width="610" height="410" src="img/ixadvisorsqlcapt.gif" alt="Description of Figure 4-3 follows" /><br />
<a id="sthref169" href="img_text/ixadvisorsqlcapt.htm">Description of "Figure 4-3 Index Advisor configuration"</a><br />
<br /></div>
<!-- class="figure" -->
<p>You can now choose to include optimizer hints for Oracle BI server.</p>
</li>
<li id="BABHIGDG">
<p>The <span class="bold">Include optimizer hints for Oracle BI server</span> checkbox enables you to use optimizer hints that direct the TimesTen query optimizer to generate a specific execution plan. These optimizer hints are recommended queries generated by the Oracle BI server. For more information on using optimizer hints, see <a href="#BABCEBIH">"Including optimizer hints for Oracle BI server in a SQL worksheet"</a>. If you do not want to use optimizer hints, click <span class="bold">Start</span>.</p>
<div id="TTSDV306" class="figure">
<p class="titleinfigure"><a id="sthref170"></a>Figure 4-4 Start collecting data for the TimesTen index advisor without optimizer hints</p>
<img width="610" height="410" src="img/ixadvisorsheetnohints.gif" alt="Description of Figure 4-4 follows" /><br />
<a id="sthref171" href="img_text/ixadvisorsheetnohints.htm">Description of "Figure 4-4 Start collecting data for the TimesTen index advisor without optimizer hints"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor Configuration</span> dialog closes. A <span class="bold">TimesTen index advisor</span> pane displays at the bottom of the SQL worksheet. See <a href="#BABEAFHJ">Figure 4-5</a>.</p>
</li>
<li id="BABCAIBG">
<p>In the <span class="bold">Selector</span> column, select the index recommendations you want to create.</p>
<p>You can also click on the column header to sort the table based on the column. A description of each column follows:</p>
<ul>
<li>
<p><span class="bold">Selector</span></p>
<p>The check box you select to determine the index recommendations that you want to create.</p>
</li>
<li>
<p><span class="bold">Index Recommendation</span></p>
<p>The <code>CREATE INDEX</code> statement that the TimesTen index advisor recommends.</p>
</li>
<li>
<p><span class="bold">Affected Statement Count</span></p>
<p>The number of statements that benefit from the recommendation.</p>
</li>
<li>
<p><span class="bold">Created</span></p>
<p>Shows if you have already created the index based on the recommendation by the TimesTen index advisor. This value can be Yes or No. If this value is Yes, TimesTen created the index successfully. If this value is No, TimesTen is in the process of creating the index or is unable to create the index.</p>
</li>
</ul>
<p>To select all index recommendations, click the <span class="bold">Select all</span> check box.</p>
<p>To review the SQL commands that are being evaluated by the TimesTen index advisor, click the <span class="bold">SQL</span> tab. The <span class="bold">SQL</span> tab is located at the top right of the <span class="bold">TimesTen index advisor</span> pane.</p>
</li>
<li>
<p>Once you select the index recommendations that you want to create, click the <span class="bold">Create Selected Indexes</span> button.</p>
<div id="TTSDV307" class="figure">
<p class="titleinfigure"><a id="BABEAFHJ"></a>Figure 4-5 Create index recommendations</p>
<img width="909" height="471" src="img/ixadvisorsheetsaveix.gif" alt="Description of Figure 4-5 follows" /><br />
<a id="sthref172" href="img_text/ixadvisorsheetsaveix.htm">Description of "Figure 4-5 Create index recommendations"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Create Selected Indexes</span> dialog displays. Locate the <span class="bold">Details &gt;&gt;</span> button.</p>
</li>
<li>
<p>Click <span class="bold">Details &gt;&gt;</span>.</p>
<div id="TTSDV308" class="figure">
<p class="titleinfigure"><a id="sthref173"></a>Figure 4-6 Create selected indexes progress</p>
<img width="446" height="181" src="img/ixadvisorcreateix.gif" alt="Description of Figure 4-6 follows" /><br />
<a id="sthref174" href="img_text/ixadvisorcreateix.htm">Description of "Figure 4-6 Create selected indexes progress"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A details pane expands that shows progress information about creating the selected indexes. Locate the <span class="bold">Close</span> button at the bottom of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Close</span>.</p>
<div id="TTSDV309" class="figure">
<p class="titleinfigure"><a id="sthref175"></a>Figure 4-7 Click close</p>
<img width="446" height="222" src="img/ixadvisorixdetails.gif" alt="Description of Figure 4-7 follows" /><br />
<a id="sthref176" href="img_text/ixadvisorixdetails.htm">Description of "Figure 4-7 Click close"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Create Selected Indexes</span> dialog closes. TimesTen creates the indexes. To save the index recommendations, see <a href="#BABIEDEJ">"Saving index recommendations from a SQL worksheet"</a>.</p>
</li>
</ol>
<a id="BABCEBIH"></a>
<div id="TTSDV310" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Including optimizer hints for Oracle BI server in a SQL worksheet</h4>
<p>Use transaction level optimizer hints to direct the TimesTen query optimizer to generate a specific execution plan.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For more information about optimizer hints, see <a class="olink TTSQL531" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTSQL531">"Understanding hints"</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</div>
<p>Before using transaction level optimizer hints, make sure you have completed the steps up to step 4 from <a href="#BABGFDGF">"SQL worksheet"</a>. When you use optimizer hints, make sure to not use any DDL statements or enable <code>AUTOCOMMIT</code> mode in your SQL workload.</p>
<p>To use optimizer hints for Oracle BI server, follow these steps:</p>
<ol>
<li>
<p>Select the <span class="bold">Include optimizer hints for Oracle BI server</span> check box.</p>
<div id="TTSDV311" class="figure">
<p class="titleinfigure"><a id="sthref177"></a>Figure 4-8 Including optimizer hints for Oracle BI server</p>
<img width="610" height="410" src="img/ixadvisorsheetinclude.gif" alt="Description of Figure 4-8 follows" /><br />
<a id="sthref178" href="img_text/ixadvisorsheetinclude.htm">Description of "Figure 4-8 Including optimizer hints for Oracle BI server"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A field with the optimizer hints for Oracle BI server displays in the <span class="bold">Index Advisor Configuration</span> dialog. You cannot edit the optimizer hints. By default, the optimizer hints for Oracle BI server are as follows:</p>
<pre>
--
-- Optimizer hints to be used with TimesTen Index Advisor for Oracle BI server
-- 
autocommit 0;
call ttoptsetflag('rowlock',0);
call ttoptsetflag('tbllock',1);
call ttoptsetflag('mergejoin',0);
call ttoptsetflag('nestedloop',1);

</pre>
<p>Locate the <span class="bold">Start</span> button at the bottom right of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Start</span>.</p>
<div id="TTSDV312" class="figure">
<p class="titleinfigure"><a id="sthref179"></a>Figure 4-9 Start collecting data for the TimesTen index advisor with optimizer hints</p>
<img width="610" height="410" src="img/ixadvisorsheetopthints.gif" alt="Description of Figure 4-9 follows" /><br />
<a id="sthref180" href="img_text/ixadvisorsheetopthints.htm">Description of "Figure 4-9 Start collecting data for the TimesTen index advisor with optimizer hints"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor Configuration</span> dialog closes. A <span class="bold">TimesTen index advisor</span> pane displays at the bottom of the SQL worksheet. The <code>AUTOCOMMIT</code> mode of your transaction is returned to the <code>AUTOCOMMIT</code> mode that your transaction had prior to running the TimesTen index advisor.</p>
<p>For more information on the <span class="bold">TimesTen index advisor</span> pane and how to create indexes, see <a href="#BABCAIBG">"In the <span class="bold">Selector</span> column, select the index recommendations you want to create."</a> from <a href="#BABGFDGF">"SQL worksheet"</a>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABIEDEJ"></a>
<div id="TTSDV313" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Saving index recommendations from a SQL worksheet</h4>
<p>To save index recommendations for future reference, follow these steps:</p>
<ol>
<li>
<p>Click <span class="bold">Save Indexes</span>. TimesTen saves all index recommendations. TimesTen does not save individual index recommendations.</p>
<div id="TTSDV314" class="figure">
<p class="titleinfigure"><a id="sthref181"></a>Figure 4-10 Save Indexes</p>
<img width="846" height="255" src="img/saveixes.gif" alt="Description of Figure 4-10 follows" /><br />
<a id="sthref182" href="img_text/saveixes.htm">Description of "Figure 4-10 Save Indexes"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Save Indexes</span> dialog displays.</p>
</li>
<li>
<p>Select the directory where you want to save the TimesTen index advisor recommendations.</p>
</li>
<li>
<p>In the <span class="bold">File Name</span> field, define the file name of your TimesTen index advisor recommendations.</p>
<p>The default filename of the TimesTen index advisor recommendations is <code><span class="codeinlineitalic">connection_name</span></code><code>-indexadvice-</code><code><span class="codeinlineitalic">YYYYMMDDMISS</span></code><code>.sql</code>, where <code><span class="codeinlineitalic">connection_name</span></code> is the name of the connection. <code><span class="codeinlineitalic">YYYYMMDDHHMISS</span></code> is a timestamp of when the recommendations were made, where <code><span class="codeinlineitalic">YYYY</span></code> is the year, <code><span class="codeinlineitalic">MM</span></code> the month, <code><span class="codeinlineitalic">DD</span></code> the day, <code><span class="codeinlineitalic">HH</span></code> the hour, <code><span class="codeinlineitalic">MI</span></code> the minutes, and <code><span class="codeinlineitalic">SS</span></code> the seconds.</p>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
<div id="TTSDV315" class="figure">
<p class="titleinfigure"><a id="sthref183"></a>Figure 4-11 Save index recommendations</p>
<img width="516" height="364" src="img/ixadvisorsavefile.gif" alt="Description of Figure 4-11 follows" /><br />
<a id="sthref184" href="img_text/ixadvisorsavefile.htm">Description of "Figure 4-11 Save index recommendations"</a><br />
<br /></div>
<!-- class="figure" -->
<p>TimesTen saves the index recommendations.</p>
<p>The saved file header contains the following information:</p>
<ul>
<li>
<p>The timestamp of when TimesTen generated the report.</p>
</li>
<li>
<p>The version of SQL Developer.</p>
</li>
<li>
<p>The version of the TimesTen database.</p>
</li>
<li>
<p>The name of the TimesTen connection.</p>
</li>
</ul>
<p>For example:</p>
<pre>
-- This file was generated by SQL Developer at 2013-04-29 11:08:45
-- SQL Developer version 4.0.0.11.51
-- Database version: 11.02.02.0005 Oracle TimesTen IMDB version 11.2.2.5.0
-- Connection name: sampledb_1122
</pre></li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABBFHHB"></a>
<div id="TTSDV316" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">SQL workload script</h3>
<p>You can capture data for the TimesTen Index Advisor at the connection level using the SQL queries from a SQL workload script file. Make sure you are on the main SQL Developer page and that your TimesTen connection is expanded.</p>
<ol>
<li>
<p>Right-click the name of the database and select <span class="bold">Index Advisor</span>, then select <span class="bold">Connection Level Capture</span>.</p>
<div id="TTSDV317" class="figure">
<p class="titleinfigure"><a id="sthref185"></a>Figure 4-12 Collecting data at the connection level</p>
<img width="590" height="513" src="img/ixadvisorconncapt.gif" alt="Description of Figure 4-12 follows" /><br />
<a id="sthref186" href="img_text/ixadvisorconncapt.htm">Description of "Figure 4-12 Collecting data at the connection level"</a><br />
<br /></div>
<!-- class="figure" -->
<ul>
<li>
<p>If your table statistics are outdated, an information dialog displays information about the outdated tables. TimesTen recommends that you update your table statistics.</p>
</li>
<li>
<p>If your table statistics are up to date, the <span class="bold">Index Advisor Configuration</span> dialog displays.</p>
</li>
</ul>
</li>
<li>
<p>To update your table statistics, click <span class="bold">Cancel</span> and follow the steps in <a href="optimizer.htm#CCHIEGFE">"Updating the table and column statistics used by the query optimizer"</a>. To proceed without updating your table statistics, click <span class="bold">OK</span>.</p>
<div id="TTSDV318" class="figure">
<p class="titleinfigure"><a id="sthref187"></a>Figure 4-13 Outdated table statistics</p>
<img width="504" height="261" src="img/ixadvisoroutdated.gif" alt="Description of Figure 4-13 follows" /><br />
<a id="sthref188" href="img_text/ixadvisoroutdated.htm">Description of "Figure 4-13 Outdated table statistics"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor - Connection Level Capture</span> dialog displays.</p>
</li>
<li>
<p>In the <span class="bold">Configuration</span> tab of the <span class="bold">Index Advisor - Connect Level Capture</span> dialog, select the desired capture mode from the <span class="bold">Capture mode</span> drop-down list:</p>
<ul>
<li>
<p><span class="bold">Prepare SQL</span>: TimesTen prepares but does not execute the SQL commands from the workload script. The TimesTen Index Advisor makes recommendations using computed statistics and query plan analysis. This is the default capture mode.</p>
</li>
<li>
<p><span class="bold">Execute SQL</span>: TimesTen executes SQL commands from the workload script. The TimesTen Index Advisor makes recommendations using the actual execution of the workload script. This capture mode may take longer than the Prepare SQL mode because TimesTen has to complete SQL execution.</p>
</li>
</ul>
<div id="TTSDV319" class="figure">
<p class="titleinfigure"><a id="sthref189"></a>Figure 4-14 Index advisor - Connection Level Capture</p>
<img width="700" height="675" src="img/ixadvisorconncapture.gif" alt="Description of Figure 4-14 follows" /><br />
<a id="sthref190" href="img_text/ixadvisorconncapture.htm">Description of "Figure 4-14 Index advisor - Connection Level Capture"</a><br />
<br /></div>
<!-- class="figure" -->
<p>You are ready to specify your SQL workload script. SQL Developer uses the <code>ttIsql</code> utility to execute the SQL workload script. Locate the <span class="bold">Browse</span> button that is to the right of the <span class="bold">Workload script</span> field.</p>
</li>
<li>
<p>Click <span class="bold">Browse</span>.</p>
<div id="TTSDV320" class="figure">
<p class="titleinfigure"><a id="sthref191"></a>Figure 4-15 Click Browse</p>
<img width="700" height="675" src="img/ixadvisorconnbrowse.gif" alt="Description of Figure 4-15 follows" /><br />
<a id="sthref192" href="img_text/ixadvisorconnbrowse.htm">Description of "Figure 4-15 Click Browse"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Open</span> dialog displays.</p>
</li>
<li>
<p>Select the directory where you saved your SQL workload script.</p>
</li>
<li>
<p>Select the SQL workload script for which you want to generate index recommendations.</p>
</li>
<li>
<p>Click <span class="bold">Open</span>.</p>
<div id="TTSDV321" class="figure">
<p class="titleinfigure"><a id="sthref193"></a>Figure 4-16 SQL workload script open dialog</p>
<img width="516" height="364" src="img/ixadvisorconnopen.gif" alt="Description of Figure 4-16 follows" /><br />
<a id="sthref194" href="img_text/ixadvisorconnopen.htm">Description of "Figure 4-16 SQL workload script open dialog"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The TimesTen index advisor is now ready to collect data for your SQL workload. Locate the <span class="bold">Start</span> button.</p>
<p>To review the SQL commands that are being evaluated by the TimesTen index advisor, click the <span class="bold">SQL</span> tab. The <span class="bold">SQL</span> tab is located at the top of the <span class="bold">Index Advisor - Connection Level Capture</span> dialog.</p>
</li>
<li id="BABIBEEC">
<p>The <span class="bold">Include optimizer hints for Oracle BI server</span> checkbox enables you to use optimizer hints that direct the TimesTen query optimizer to generate a specific execution plan. These optimizer hints are recommended queries generated by the Oracle BI server. For more information on using optimizer hints, see <a href="#BABFGJFF">"Including optimizer hints for Oracle BI server for a SQL workload script"</a>. If you do not want to use optimizer hints, click <span class="bold">Start</span>.</p>
<div id="TTSDV322" class="figure">
<p class="titleinfigure"><a id="sthref195"></a>Figure 4-17 Start collecting data for the TimesTen index advisor</p>
<img width="700" height="675" src="img/ixadvisorconnstart.gif" alt="Description of Figure 4-17 follows" /><br />
<a id="sthref196" href="img_text/ixadvisorconnstart.htm">Description of "Figure 4-17 Start collecting data for the TimesTen index advisor"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index advisor assistant progress</span> dialog displays. Locate the <span class="bold">Details &gt;&gt;</span> button.</p>
<p>If the TimesTen index advisor does not have any recommendations, the <span class="bold">Index Recommendation Feedback</span> dialog displays. Close this dialog to return to the main SQL developer page.</p>
</li>
<li>
<p>Click <span class="bold">Details &gt;&gt;</span>.</p>
<div id="TTSDV323" class="figure">
<p class="titleinfigure"><a id="sthref197"></a>Figure 4-18 Index advisor assistant progress</p>
<img width="446" height="181" src="img/ixadvisorconndetails.gif" alt="Description of Figure 4-18 follows" /><br />
<a id="sthref198" href="img_text/ixadvisorconndetails.htm">Description of "Figure 4-18 Index advisor assistant progress"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A details pane expands that shows progress information about the index advisor connection level capture. Locate the <span class="bold">Close</span> button at the bottom of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Close</span>.</p>
<div id="TTSDV324" class="figure">
<p class="titleinfigure"><a id="sthref199"></a>Figure 4-19 Click Close</p>
<img width="595" height="393" src="img/ixadvisorconndetailsclose.gif" alt="Description of Figure 4-19 follows" /><br />
<a id="sthref200" href="img_text/ixadvisorconndetailsclose.htm">Description of "Figure 4-19 Click Close"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index advisor assistant progress</span> dialog closes. Locate the <span class="bold">Index Recommendations</span> tab.</p>
</li>
<li>
<p>Click the <span class="bold">Index Recommendations</span> tab.</p>
<div id="TTSDV325" class="figure">
<p class="titleinfigure"><a id="sthref201"></a>Figure 4-20 Index recommendations for connection level capture</p>
<img width="700" height="675" src="img/ixadvisorconnixreco.gif" alt="Description of Figure 4-20 follows" /><br />
<a id="sthref202" href="img_text/ixadvisorconnixreco.htm">Description of "Figure 4-20 Index recommendations for connection level capture"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Recommendations</span> tab of the <span class="bold">Index Advisor - Connection Level Capture</span> dialog displays.</p>
</li>
<li>
<p>In the <span class="bold">Selector</span> column, select the index recommendations that you want to create.</p>
<p>You can also click on the column header to sort the table based on the column. A description of each column follows:</p>
<ul>
<li>
<p><span class="bold">Selector</span></p>
<p>The check box you select to determine the index recommendations that you want to create.</p>
</li>
<li>
<p><span class="bold">Index Recommendation</span></p>
<p>The <code>CREATE INDEX</code> statement that the TimesTen index advisor recommends.</p>
</li>
<li>
<p><span class="bold">Affected Statement Count</span></p>
<p>The number of statements that benefit from the recommendation.</p>
</li>
<li>
<p><span class="bold">Created</span></p>
<p>Shows if you have already created the index based on the recommendation by the TimesTen index advisor. This value can be Yes or No. If this value is Yes, TimesTen created the index successfully. If this value is No, TimesTen is in the process of creating the index or is unable to create the index.</p>
</li>
</ul>
<p>To select all index recommendations, click the <span class="bold">Select all</span> check box.</p>
</li>
<li>
<p>Once you select the index recommendations that you want to apply, click the <span class="bold">Create Selected Indexes</span> button.</p>
<div id="TTSDV326" class="figure">
<p class="titleinfigure"><a id="sthref203"></a>Figure 4-21 Create index recommendations</p>
<img width="700" height="675" src="img/ixadvisorixrecomendations.gif" alt="Description of Figure 4-21 follows" /><br />
<a id="sthref204" href="img_text/ixadvisorixrecomendations.htm">Description of "Figure 4-21 Create index recommendations"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Creating Selected Indexes</span> dialog displays. Locate the <span class="bold">Details &gt;&gt;</span> button.</p>
</li>
<li>
<p>Click <span class="bold">Details &gt;&gt;</span>.</p>
<div id="TTSDV327" class="figure">
<p class="titleinfigure"><a id="sthref205"></a>Figure 4-22 Create Selected Indexes</p>
<img width="446" height="181" src="img/ixadvisorconnixcrdet.gif" alt="Description of Figure 4-22 follows" /><br />
<a id="sthref206" href="img_text/ixadvisorconnixcrdet.htm">Description of "Figure 4-22 Create Selected Indexes"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A details pane expands that shows progress information about creating the selected indexes. Locate the <span class="bold">Close</span> button at the bottom of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Close</span>.</p>
<div id="TTSDV328" class="figure">
<p class="titleinfigure"><a id="sthref207"></a>Figure 4-23 Click close</p>
<img width="446" height="269" src="img/ixadvisorconnixcreate.gif" alt="Description of Figure 4-23 follows" /><br />
<a id="sthref208" href="img_text/ixadvisorconnixcreate.htm">Description of "Figure 4-23 Click close"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Creating Selected Indexes</span> dialog closes. The indexes are created. To save the index recommendations, see <a href="#BABCCICF">"Saving index recommendations"</a>.</p>
</li>
</ol>
<a id="BABFGJFF"></a>
<div id="TTSDV329" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Including optimizer hints for Oracle BI server for a SQL workload script</h4>
<p>Use transaction level optimizer hints to direct the TimesTen query optimizer to generate a specific execution plan.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For more information about transaction level optimizer hints, see <a class="olink TTSQL531" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTSQL531">"Understanding hints"</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</div>
<p>Before using transaction level optimizer hints, make sure you have completed the steps up to step 8 from <a href="#BABBFHHB">"SQL workload script"</a>. When you use optimizer hints, make sure to not use any DDL statements or enable <code>AUTOCOMMIT</code> mode in your SQL workload.</p>
<p>To use optimizer hints for Oracle BI server, follow these steps:</p>
<ol>
<li>
<p>Select the <span class="bold">Include optimizer hints for Oracle BI server</span> check box.</p>
<div id="TTSDV330" class="figure">
<p class="titleinfigure"><a id="sthref209"></a>Figure 4-24 Including optimizer hints for Oracle BI server</p>
<img width="700" height="675" src="img/ixadvisoropthints.gif" alt="Description of Figure 4-24 follows" /><br />
<a id="sthref210" href="img_text/ixadvisoropthints.htm">Description of "Figure 4-24 Including optimizer hints for Oracle BI server"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A field with the optimizer hints for Oracle BI server displays in the <span class="bold">Index Advisor - Connection Level Capture</span> dialog. These optimizer hints are not editable. By default, the optimizer hints for Oracle BI server are as follows:</p>
<pre>
--
-- Optimizer hints to be used with TimesTen Index Advisor for Oracle BI server
-- 
autocommit 0;
call ttoptsetflag('rowlock',0);
call ttoptsetflag('tbllock',1);
call ttoptsetflag('mergejoin',0);
call ttoptsetflag('nestedloop',1);

</pre>
<p>Locate the <span class="bold">Start</span> button at the bottom right of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Start</span>.</p>
<div id="TTSDV331" class="figure">
<p class="titleinfigure"><a id="sthref211"></a>Figure 4-25 Start collecting data for the TimesTen index advisor with optimizer hints</p>
<img width="700" height="675" src="img/ixadvisorconnhints.gif" alt="Description of Figure 4-25 follows" /><br />
<a id="sthref212" href="img_text/ixadvisorconnhints.htm">Description of "Figure 4-25 Start collecting data for the TimesTen index advisor with optimizer hints"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index advisor assistant progress</span> dialog displays. Locate the <span class="bold">Details &gt;&gt;</span> button.</p>
</li>
<li>
<p>Click <span class="bold">Details &gt;&gt;</span>.</p>
<div id="TTSDV332" class="figure">
<p class="titleinfigure"><a id="sthref213"></a>Figure 4-26 Index advisor assistant progress</p>
<img width="446" height="181" src="img/ixadvisorconndetails.gif" alt="Description of Figure 4-26 follows" /><br />
<a id="sthref214" href="img_text/ixadvisorconndetails.htm">Description of "Figure 4-26 Index advisor assistant progress"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A details pane expands that shows progress information about the index advisor connection level capture. Locate the <span class="bold">Close</span> button at the bottom of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Close</span>.</p>
<div id="TTSDV333" class="figure">
<p class="titleinfigure"><a id="sthref215"></a>Figure 4-27 Click Close</p>
<img width="595" height="393" src="img/ixadvisorconndetailsclose.gif" alt="Description of Figure 4-27 follows" /><br />
<a id="sthref216" href="img_text/ixadvisorconndetailsclose.htm">Description of "Figure 4-27 Click Close"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index advisor assistant progress</span> dialog closes. Locate the <span class="bold">Index Recommendations</span> tab.</p>
</li>
<li>
<p>Click the <span class="bold">Index Recommendations</span> tab.</p>
<div id="TTSDV334" class="figure">
<p class="titleinfigure"><a id="sthref217"></a>Figure 4-28 Index recommendations for connection level capture</p>
<img width="700" height="675" src="img/ixadvisorbiixreco.gif" alt="Description of Figure 4-28 follows" /><br />
<a id="sthref218" href="img_text/ixadvisorbiixreco.htm">Description of "Figure 4-28 Index recommendations for connection level capture"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Recommendations</span> tab of the <span class="bold">Index Advisor - Connection Level Capture</span> dialog displays.</p>
</li>
<li>
<p>In the <span class="bold">Selector</span> column, select the index recommendations that you want to create.</p>
<p>You can also click on the column header to sort the table based on the column. A description of each column follows:</p>
<ul>
<li>
<p><span class="bold">Selector</span></p>
<p>The check box you select to determine the index recommendations that you want to create.</p>
</li>
<li>
<p><span class="bold">Index Recommendation</span></p>
<p>The <code>CREATE INDEX</code> statement that the TimesTen index advisor recommends.</p>
</li>
<li>
<p><span class="bold">Affected Statement Count</span></p>
<p>The number of statements that benefit from the recommendation.</p>
</li>
<li>
<p><span class="bold">Created</span></p>
<p>Shows if you have already created the index recommendation. This value can be Yes or No.</p>
</li>
</ul>
<p>To select all index recommendations, click the <span class="bold">Select all</span> check box.</p>
</li>
<li>
<p>Once you select the index recommendations that you want to apply, click the <span class="bold">Create Selected Indexes</span> button.</p>
<div id="TTSDV335" class="figure">
<p class="titleinfigure"><a id="sthref219"></a>Figure 4-29 Create index recommendations</p>
<img width="700" height="675" src="img/ixadvisorixrecomendations.gif" alt="Description of Figure 4-29 follows" /><br />
<a id="sthref220" href="img_text/ixadvisorixrecomendations.htm">Description of "Figure 4-29 Create index recommendations"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Creating Selected Indexes</span> dialog displays. Locate the <span class="bold">Details &gt;&gt;</span> button.</p>
</li>
<li>
<p>Click <span class="bold">Details &gt;&gt;</span>.</p>
<div id="TTSDV336" class="figure">
<p class="titleinfigure"><a id="sthref221"></a>Figure 4-30 Creating Selected Indexes</p>
<img width="446" height="181" src="img/ixadvisorconnixcrdet.gif" alt="Description of Figure 4-30 follows" /><br />
<a id="sthref222" href="img_text/ixadvisorconnixcrdet.htm">Description of "Figure 4-30 Creating Selected Indexes"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A details pane expands that shows progress information about creating the selected indexes. Locate the <span class="bold">Close</span> button at the bottom of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Close</span>.</p>
<div id="TTSDV337" class="figure">
<p class="titleinfigure"><a id="sthref223"></a>Figure 4-31 Click close</p>
<img width="446" height="269" src="img/ixadvisorconnixcreate.gif" alt="Description of Figure 4-31 follows" /><br />
<a id="sthref224" href="img_text/ixadvisorconnixcreate.htm">Description of "Figure 4-31 Click close"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Creating Selected Indexes</span> dialog closes. The indexes are created. The <code>AUTOCOMMIT</code> mode of your transaction is returned to the <code>AUTOCOMMIT</code> mode that your transaction had prior to running the TimesTen index advisor. To save the index recommendations, see <a href="#BABCCICF">"Saving index recommendations"</a>.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABCDHJE"></a>
<div id="TTSDV338" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Database level capture</h2>
<p>Before attempting to capture data for the TimesTen Index Advisor, make sure your table statistics have been updated in the past 24 hours. Up-to-date table statistics provide the most up-to-date statistics for data collection and allow statements to be prepared with the optimized query plan.For more information about updating table statistics, see <a href="optimizer.htm#CCHIEGFE">"Updating the table and column statistics used by the query optimizer"</a>.</p>
<p>Also, make sure that you have granted <code>ADMIN</code> privileges to the TimesTen connection user. For more information on the <code>GRANT</code> SQL statement, see <a class="olink TTSQL320" href="http://www.oracle.com/pls/topic/lookup?ctx=E95052-01&amp;id=TTSQL320">"GRANT"</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<p>To collect data for the TimesTen index advisor at the database level, make sure you are on the main SQL Developer page and that your TimesTen connection is expanded.</p>
<ol>
<li>
<p>Right-click the name of the database and select <span class="bold">Index Advisor</span>, then select <span class="bold">Database Level Capture</span>.</p>
<div id="TTSDV339" class="figure">
<p class="titleinfigure"><a id="sthref225"></a>Figure 4-32 Collecting data at the database level</p>
<img width="596" height="524" src="img/ixadvisordbcapt.gif" alt="Description of Figure 4-32 follows" /><br />
<a id="sthref226" href="img_text/ixadvisordbcapt.htm">Description of "Figure 4-32 Collecting data at the database level"</a><br />
<br /></div>
<!-- class="figure" -->
<ul>
<li>
<p>If your table statistics are outdated, an information dialog displays information about the outdated tables. It is recommended that your table statistics are up to date.</p>
</li>
<li>
<p>If your table statistics are up to date, the <span class="bold">Index Advisor - Connection Level Capture</span> dialog displays.</p>
</li>
</ul>
</li>
<li>
<p>To update your table statistics, click <span class="bold">Cancel</span> and follow the steps in <a href="optimizer.htm#CCHIEGFE">"Updating the table and column statistics used by the query optimizer"</a>. To proceed without updating your table statistics, click <span class="bold">OK</span>.</p>
<div id="TTSDV340" class="figure">
<p class="titleinfigure"><a id="sthref227"></a>Figure 4-33 Outdated table statistics</p>
<img width="504" height="261" src="img/ixadvisoroutdated.gif" alt="Description of Figure 4-33 follows" /><br />
<a id="sthref228" href="img_text/ixadvisoroutdated.htm">Description of "Figure 4-33 Outdated table statistics"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor - Database Capture</span> dialog displays. Locate the <span class="bold">Start</span> button at the bottom of the dialog.</p>
</li>
<li>
<p>In the <span class="bold">Control</span> tab of the <span class="bold">Index Advisor - Connect Level Capture</span> dialog, click <span class="bold">Start</span>.</p>
<div id="TTSDV341" class="figure">
<p class="titleinfigure"><a id="sthref229"></a>Figure 4-34 Index Advisor - Database Capture</p>
<img width="738" height="650" src="img/ixadvisordbcapture.gif" alt="Description of Figure 4-34 follows" /><br />
<a id="sthref230" href="img_text/ixadvisordbcapture.htm">Description of "Figure 4-34 Index Advisor - Database Capture"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor Database Capture In Progress</span> dialog displays. Locate the <span class="bold">Details &gt;&gt;</span> button.</p>
</li>
<li>
<p>Click <span class="bold">Details &gt;&gt;</span>.</p>
<div id="TTSDV342" class="figure">
<p class="titleinfigure"><a id="sthref231"></a>Figure 4-35 Index advisor database capture progress</p>
<img width="446" height="181" src="img/ixadvisordbcaptprog.gif" alt="Description of Figure 4-35 follows" /><br />
<a id="sthref232" href="img_text/ixadvisordbcaptprog.htm">Description of "Figure 4-35 Index advisor database capture progress"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A details pane expands that shows progress information about the index advisor database level capture. Locate the <span class="bold">Close</span> button at the bottom of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Close</span>.</p>
<div id="TTSDV343" class="figure">
<p class="titleinfigure"><a id="sthref233"></a>Figure 4-36 Click Close</p>
<img width="446" height="236" src="img/ixadvisordbcaptclose.gif" alt="Description of Figure 4-36 follows" /><br />
<a id="sthref234" href="img_text/ixadvisordbcaptclose.htm">Description of "Figure 4-36 Click Close"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor Database Capture In Progress</span> dialog closes.</p>
</li>
<li>
<p>Once you have captured your desired SQL workload, click <span class="bold">Stop</span>.</p>
<div id="TTSDV344" class="figure">
<p class="titleinfigure"><a id="sthref235"></a>Figure 4-37 Stop database capture</p>
<img width="738" height="650" src="img/ixadvisordbcaptstop.gif" alt="Description of Figure 4-37 follows" /><br />
<a id="sthref236" href="img_text/ixadvisordbcaptstop.htm">Description of "Figure 4-37 Stop database capture"</a><br />
<br /></div>
<!-- class="figure" -->
<p>If the TimesTen index advisor has recommendations, the <span class="bold">Index Advisor Database Capture In Progress</span> dialog displays.</p>
<p>If the TimesTen index advisor does not have any recommendations, the <span class="bold">Index Recommendation Feedback</span> dialog displays. Close this dialog to return to the main SQL developer page.</p>
</li>
<li>
<p>Click <span class="bold">Details &gt;&gt;</span>.</p>
<div id="TTSDV345" class="figure">
<p class="titleinfigure"><a id="sthref237"></a>Figure 4-38 Index advisor database capture progress</p>
<img width="446" height="181" src="img/ixadvisordbcaptprog.gif" alt="Description of Figure 4-38 follows" /><br />
<a id="sthref238" href="img_text/ixadvisordbcaptprog.htm">Description of "Figure 4-38 Index advisor database capture progress"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A details pane expands that shows progress information about the index advisor database capture. Locate the <span class="bold">Close</span> button at the bottom of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Close</span>.</p>
<div id="TTSDV346" class="figure">
<p class="titleinfigure"><a id="sthref239"></a>Figure 4-39 Click Close</p>
<img width="446" height="264" src="img/ixadvisordbcaptstopclose.gif" alt="Description of Figure 4-39 follows" /><br />
<a id="sthref240" href="img_text/ixadvisordbcaptstopclose.htm">Description of "Figure 4-39 Click Close"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor Database Capture In Progress</span> dialog closes. The Index Advisor Database Capture dialog shows information about the completed database capture. Locate the <span class="bold">Index Recommendations</span> tab at the top of the dialog.</p>
</li>
<li>
<p>Click the <span class="bold">Index Recommendation</span>s tab.</p>
<div id="TTSDV347" class="figure">
<p class="titleinfigure"><a id="sthref241"></a>Figure 4-40 Index recommendations for database capture</p>
<img width="725" height="650" src="img/ixadvisordbixrecommend.gif" alt="Description of Figure 4-40 follows" /><br />
<a id="sthref242" href="img_text/ixadvisordbixrecommend.htm">Description of "Figure 4-40 Index recommendations for database capture"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Recommendations</span> tab of the <span class="bold">Index Advisor - Database Capture</span> dialog displays.</p>
</li>
<li>
<p>In the <span class="bold">Selector</span> column, select the index recommendations that you want to create.</p>
<p>You can also click on the column header to sort the table based on the column. A description of each column follows:</p>
<ul>
<li>
<p><span class="bold">Selector</span></p>
<p>The check box you select to determine the index recommendations that you want to create.</p>
</li>
<li>
<p><span class="bold">Index Recommendation</span></p>
<p>The <code>CREATE INDEX</code> statement that the TimesTen index advisor recommends.</p>
</li>
<li>
<p><span class="bold">Affected Statement Count</span></p>
<p>The number of statements that benefit from the recommendation.</p>
</li>
<li>
<p><span class="bold">Created</span></p>
<p>Shows if you have already created the index recommendation. This value can be Yes or No.</p>
</li>
</ul>
<p>To select all index recommendations, click the <span class="bold">Select all</span> check box.</p>
</li>
<li>
<p>Once you select the index recommendations that you want to apply, click the <span class="bold">Create Selected Indexes</span> button.</p>
<div id="TTSDV348" class="figure">
<p class="titleinfigure"><a id="sthref243"></a>Figure 4-41 Create index recommendations</p>
<img width="725" height="650" src="img/ixadvisordbcreateix.gif" alt="Description of Figure 4-41 follows" /><br />
<a id="sthref244" href="img_text/ixadvisordbcreateix.htm">Description of "Figure 4-41 Create index recommendations"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Creating Selected Indexes</span> dialog displays. Locate the <span class="bold">Details &gt;&gt;</span> button.</p>
</li>
<li>
<p>Click <span class="bold">Details &gt;&gt;</span>.</p>
<div id="TTSDV349" class="figure">
<p class="titleinfigure"><a id="sthref245"></a>Figure 4-42 Creating Selected Indexes</p>
<img width="446" height="181" src="img/ixadvisorixprog.gif" alt="Description of Figure 4-42 follows" /><br />
<a id="sthref246" href="img_text/ixadvisorixprog.htm">Description of "Figure 4-42 Creating Selected Indexes"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A details pane expands that shows progress information about creating the selected indexes. Locate the <span class="bold">Close</span> button at the bottom of the dialog.</p>
</li>
<li>
<p>Click <span class="bold">Close</span>.</p>
<div id="TTSDV350" class="figure">
<p class="titleinfigure"><a id="sthref247"></a>Figure 4-43 Click close</p>
<img width="446" height="266" src="img/ixadvisordbcreateclose.gif" alt="Description of Figure 4-43 follows" /><br />
<a id="sthref248" href="img_text/ixadvisordbcreateclose.htm">Description of "Figure 4-43 Click close"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Creating Selected Indexes</span> dialog closes. The indexes are created. To save the index recommendations, see <a href="#BABCCICF">"Saving index recommendations"</a>.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABCCICF"></a>
<div id="TTSDV351" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Saving index recommendations</h2>
<p>These steps describe how to save index recommendations for future reference. These steps are valid for <a href="#BABCDHJE">"Database level capture"</a> and <a href="#BABBFHHB">"SQL workload script"</a> for a connection level capture.</p>
<ol>
<li>
<p>Click <span class="bold">Save Indexes</span>. By default, all index recommendations are saved. You cannot save individual index recommendations.</p>
<div id="TTSDV352" class="figure">
<p class="titleinfigure"><a id="sthref249"></a>Figure 4-44 Save Indexes</p>
<img width="725" height="650" src="img/ixadvisorsaveixes.gif" alt="Description of Figure 4-44 follows" /><br />
<a id="sthref250" href="img_text/ixadvisorsaveixes.htm">Description of "Figure 4-44 Save Indexes"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Save Indexes</span> dialog displays.</p>
</li>
<li>
<p>Select the directory where you want to save the TimesTen index advisor recommendations.</p>
</li>
<li>
<p>In the <span class="bold">File Name</span> field, define the file name of your TimesTen index advisor recommendations.</p>
<p>The default filename of the TimesTen index advisor recommendations is <code><span class="codeinlineitalic">connection_name</span></code><code>-indexadvice-</code><code><span class="codeinlineitalic">YYYYMMDDMISS</span></code><code>.sql</code>, where <code><span class="codeinlineitalic">connection_name</span></code> is the name of the connection. <code><span class="codeinlineitalic">YYYYMMDDHHMISS</span></code> is a timestamp of when the recommendations were made, where <code><span class="codeinlineitalic">YYYY</span></code> is the year, <code><span class="codeinlineitalic">MM</span></code> the month, <code><span class="codeinlineitalic">DD</span></code> the day, <code><span class="codeinlineitalic">HH</span></code> the hour, <code><span class="codeinlineitalic">MI</span></code> the minutes, and <code><span class="codeinlineitalic">SS</span></code> the seconds.</p>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
<div id="TTSDV353" class="figure">
<p class="titleinfigure"><a id="sthref251"></a>Figure 4-45 Save index recommendations</p>
<img width="516" height="364" src="img/ixadvisorsavefile.gif" alt="Description of Figure 4-45 follows" /><br />
<a id="sthref252" href="img_text/ixadvisorsavefile.htm">Description of "Figure 4-45 Save index recommendations"</a><br />
<br /></div>
<!-- class="figure" -->
<p>Your index recommendations are saved.</p>
<p>The saved file contains a header with following information:</p>
<ul>
<li>
<p>The timestamp of when the report was generated.</p>
</li>
<li>
<p>The version of SQL Developer.</p>
</li>
<li>
<p>The version of the TimesTen database.</p>
</li>
<li>
<p>The name of the TimesTen connection.</p>
</li>
</ul>
<p>For example:</p>
<pre>
-- This file was generated by SQL Developer at 2013-04-29 11:08:45
-- SQL Developer version 4.0.0.11.51
-- Database version: 11.02.02.0005 Oracle TimesTen IMDB version 11.2.2.5.0
-- Connection name: sampledb_1122
</pre></li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABHEECD"></a>
<div id="TTSDV354" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Viewing the TimesTen index advisor capture state</h2>
<p>The TimesTen index advisor capture state enables you to view the status of connection and database level captures. To view the TimesTen index advisor capture state for a database, make sure you are on the main SQL Developer page.</p>
<ol>
<li>
<p>Right-click the name of the database and select <span class="bold">Index Advisor</span>, then select <span class="bold">Index Advisor Capture State</span>.</p>
<div id="TTSDV355" class="figure">
<p class="titleinfigure"><a id="sthref253"></a>Figure 4-46 Viewing the TimesTen index advisor capture state</p>
<img width="593" height="524" src="img/ixadvisorcaptstate.gif" alt="Description of Figure 4-46 follows" /><br />
<a id="sthref254" href="img_text/ixadvisorcaptstate.htm">Description of "Figure 4-46 Viewing the TimesTen index advisor capture state"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor Capture State</span> dialog displays and you see the current status of connection and database level captures.</p>
<p>You can also click on the column header to sort the table based on the column. A description of each column follows:</p>
<ul>
<li>
<p><span class="bold">Connection ID</span></p>
<p>The connection ID of the connection that initiated the TimesTen index advisor capture.</p>
</li>
<li>
<p><span class="bold">Capture Level</span></p>
<p>The capture level of the TimesTen index advisor capture. This value can be Connection or Database.</p>
</li>
<li>
<p><span class="bold">Capture Mode</span></p>
<p>The capture mode of the TimesTen index advisor capture. This value can be Execute SQL or Prepare SQL.</p>
</li>
<li>
<p><span class="bold">Capture State</span></p>
<p>The capture state of the TimesTen index advisor capture. This value can be In Progress or Completed.</p>
</li>
<li>
<p><span class="bold">Prepared Count</span></p>
<p>The number of prepared SQL statements during the capture period.</p>
</li>
<li>
<p><span class="bold">Execute Count</span></p>
<p>The number of executed SQL statements during the capture period.</p>
</li>
<li>
<p><span class="bold">Start Time</span></p>
<p>The timestamp of when the index advisor capture began. The timestamp format is <code><span class="codeinlineitalic">YYYY</span></code><code>-</code><code><span class="codeinlineitalic">MM</span></code><code>-</code><code><span class="codeinlineitalic">DD</span></code> <code><span class="codeinlineitalic">HH</span></code><code>:</code><code><span class="codeinlineitalic">MI</span></code><code>:</code><code><span class="codeinlineitalic">SS</span></code><code>.</code><code><span class="codeinlineitalic">FF</span></code>, where <code><span class="codeinlineitalic">YYYY</span></code> is the year, <code><span class="codeinlineitalic">MM</span></code> the month, <code><span class="codeinlineitalic">DD</span></code> the day, <code><span class="codeinlineitalic">HH</span></code> the hour, <code><span class="codeinlineitalic">MI</span></code> the minutes, <code><span class="codeinlineitalic">SS</span></code> the seconds, and <code><span class="codeinlineitalic">FF</span></code> the milliseconds.</p>
</li>
<li>
<p><span class="bold">End Time</span></p>
<p>The timestamp of when the index advisor capture ended. The timestamp format is <code><span class="codeinlineitalic">YYYY</span></code><code>-</code><code><span class="codeinlineitalic">MM</span></code><code>-</code><code><span class="codeinlineitalic">DD</span></code> <code><span class="codeinlineitalic">HH</span></code><code>:</code><code><span class="codeinlineitalic">MI</span></code><code>:</code><code><span class="codeinlineitalic">SS</span></code><code>.</code><code><span class="codeinlineitalic">FF</span></code>, where <code><span class="codeinlineitalic">YYYY</span></code> is the year, <code><span class="codeinlineitalic">MM</span></code> the month, <code><span class="codeinlineitalic">DD</span></code> the day, <code><span class="codeinlineitalic">HH</span></code> the hour, <code><span class="codeinlineitalic">MI</span></code> the minutes, <code><span class="codeinlineitalic">SS</span></code> the seconds, and <code><span class="codeinlineitalic">FF</span></code> the milliseconds. This value is empty if the <span class="bold">Capture State</span> is in In Progress.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Refresh</span> to update the table with the most current information of the TimesTen index advisor captures.</p>
<div id="TTSDV356" class="figure">
<p class="titleinfigure"><a id="sthref255"></a>Figure 4-47 Click refresh</p>
<img width="810" height="563" src="img/ixadvisorcaptstaterfresh.gif" alt="Description of Figure 4-47 follows" /><br />
<a id="sthref256" href="img_text/ixadvisorcaptstaterfresh.htm">Description of "Figure 4-47 Click refresh"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The <span class="bold">Index Advisor Capture State</span> dialog is refreshed with the most recent capture state information.</p>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment194">
<tr>
<td class="cellalignment201">
<table class="cellalignment199">
<tr>
<td class="cellalignment198"><a href="optimizer.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment198"><a href="loadfromoracle.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2009, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment203">
<table class="cellalignment197">
<tr>
<td class="cellalignment198"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment198"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment198"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment198"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment198"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment198"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
