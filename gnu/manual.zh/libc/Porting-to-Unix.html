<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>移植到Unix（GNU C库）</title>

<meta name="description" content="Porting to Unix (The GNU C Library)">
<meta name="keywords" content="Porting to Unix (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Porting.html#Porting" rel="up" title="Porting">
<link href="Platform.html#Platform" rel="next" title="Platform">
<link href="Hierarchy-Conventions.html#Hierarchy-Conventions" rel="prev" title="Hierarchy Conventions">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Porting-to-Unix"></span><div class="header">
<p>上一篇： <a href="Hierarchy-Conventions.html#Hierarchy-Conventions" rel="prev" accesskey="p">层次结构约定</a> ，上<a href="Porting.html#Porting" rel="up" accesskey="u">一篇</a> ： <a href="Porting.html#Porting" rel="up" accesskey="u">移植</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Porting-the-GNU-C-Library-to-Unix-Systems"></span><h4 class="appendixsubsec">D.3.2将GNU C库移植到Unix系统</h4>

<p>大多数Unix系统在本质上非常相似。不同的机器之间会有差异，而内核提供的功能也有所差异。但是，在大多数情况下，与操作系统设施的接口是相当统一和简单的。
</p>
<p>Unix系统的代码在目录中<samp>unix</samp> ，位于<samp>sysdeps</samp>层次结构。该目录包含各种Unix变体的子目录（和子目录树）。
</p>
<p>在大多数Unix系统中，作为系统调用的功能都是通过汇编代码实现的，汇编代码是根据命名文件中的规范自动生成的<samp>syscalls.list</samp> 。有几个这样的文件，其中一个<samp>sysdeps/unix</samp>及其子目录中的其他内容。一些特殊的系统调用是在以“' <samp>.S</samp> ';例如， <samp>_exit.S</samp> 。以'结尾的文件<samp>.S</samp>在被送入汇编器之前，它们通过C预处理程序运行。
</p>
<p>这些文件都使用一组宏，这些宏应在<samp>sysdep.h</samp> 。的<samp>sysdep.h</samp>归档在<samp>sysdeps/unix</samp>部分定义它们；一种<samp>sysdep.h</samp>另一个目录中的文件必须完成针对特定机器和操作系统变体的定义。看到<samp>sysdeps/unix/sysdep.h</samp>和机器专用<samp>sysdep.h</samp>实现，以查看这些宏是什么以及它们应该做什么。
</p>
<p>特定于系统的makefile <samp>unix</samp>目录 （ <samp>sysdeps/unix/Makefile</samp> ）给出的规则来从你正在建设的图书馆（这是假设你正在建设<em>的</em>图书馆）目标系统Unix系统的几个文件。所有生成的文件都放在保存目标文件的目录中；它们不应影响源树本身。生成的文件是<samp>ioctls.h</samp> ， <samp>errnos.h</samp> ， <samp>sys/param.h</samp>和<samp>errlist.c</samp> （为了<samp>stdio</samp>库部分）。
</p>
<hr>
<div class="header">
<p>上一篇： <a href="Hierarchy-Conventions.html#Hierarchy-Conventions" rel="prev" accesskey="p">层次结构约定</a> ，上<a href="Porting.html#Porting" rel="up" accesskey="u">一篇</a> ： <a href="Porting.html#Porting" rel="up" accesskey="u">移植</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>