<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>信号集（GNU C库）</title>

<meta name="description" content="Signal Sets (The GNU C Library)">
<meta name="keywords" content="Signal Sets (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Blocking-Signals.html#Blocking-Signals" rel="up" title="Blocking Signals">
<link href="Process-Signal-Mask.html#Process-Signal-Mask" rel="next" title="Process Signal Mask">
<link href="Why-Block.html#Why-Block" rel="prev" title="Why Block">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Signal-Sets"></span><div class="header">
<p>下一篇： <a href="Process-Signal-Mask.html#Process-Signal-Mask" rel="next" accesskey="n">过程信号掩码</a> ，上一篇： <a href="Why-Block.html#Why-Block" rel="prev" accesskey="p">为什么阻塞</a> ，上一篇： <a href="Blocking-Signals.html#Blocking-Signals" rel="up" accesskey="u">阻塞信号</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Signal-Sets-1"></span><h4 class="subsection">24.7.2信号集</h4>

<p>所有信号阻止功能都使用称为<em>信号集</em>的数据结构来指定受影响的信号。因此，每个活动都涉及两个阶段：创建信号集，然后将其作为参数传递给库函数。
<span id="index-signal-set"></span>
</p>
<p>这些功能在头文件中声明<samp>signal.h</samp> 。
<span id="index-signal_002eh-7"></span>
</p>
<dl>
<dt id="index-sigset_005ft">数据类型： <strong>sigset_t</strong></dt>
<dd>
<p>的<code>sigset_t</code>数据类型用于表示信号集。在内部，它可以实现为整数或结构类型。
</p>
<p>为了便于携带，请仅使用本节中描述的功能来初始化，更改和检索信息。 <code>sigset_t</code>对象-不要尝试直接操作它们。
</p></dd></dl>

<p>有两种初始化信号集的方法。您可以最初将其指定为空<code>sigemptyset</code>然后分别添加指定的信号。或者您可以将其指定为<code>sigfillset</code>然后分别删除指定的信号。
</p>
<p>在以任何其他方式使用信号集之前，必须始终使用这两个函数之一初始化信号集。不要尝试显式设置所有信号，因为<code>sigset_t</code>对象可能还包含一些其他信息（例如版本字段），这些信息也需要初始化。（此外，将程序中除了已知信号之外没有其他信号作为假设，这是不明智的。）
</p>
<dl>
<dt id="index-sigemptyset">函数： <em>int</em> <strong>sigemptyset</strong> <em>（sigset_t * <var>set</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>此功能初始化信号集<var>set</var>排除所有已定义的信号。它总是返回<code>0</code> 。
</p></dd></dl>

<dl>
<dt id="index-sigfillset">函数： <em>int</em> <strong>sigfillset</strong> <em>（sigset_t * <var>set</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>此功能初始化信号集<var>set</var>包括所有定义的信号。同样，返回值是<code>0</code> 。
</p></dd></dl>

<dl>
<dt id="index-sigaddset">函数： <em>int</em> <strong>sigaddset</strong> <em>（sigset_t * <var>set</var> ，int <var>signum</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>此功能添加信号<var>signum</var>到信号集<var>set</var> 。所有<code>sigaddset</code>确实是修改<var>set</var> ;它不会阻止或取消阻止任何信号。
</p>
<p>返回值为<code>0</code>成功与<code>-1</code>失败。下列<code>errno</code>为此功能定义了错误条件：</p>
<dl compact>
<dt><code>EINVAL</code></dt>
<dd><p>的<var>signum</var>参数未指定有效信号。
</p></dd>
</dl>
</dd></dl>

<dl>
<dt id="index-sigdelset">函数： <em>int</em> <strong>sigdelset</strong> <em>（sigset_t * <var>set</var> ，int <var>signum</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>该功能消除信号<var>signum</var>从信号集<var>set</var> 。所有<code>sigdelset</code>确实是修改<var>set</var> ;它不会阻止或取消阻止任何信号。返回值和错误条件与相同<code>sigaddset</code> 。
</p></dd></dl>

<p>最后，有一个功能可以测试信号集中的信号：</p>
<dl>
<dt id="index-sigismember">函数： <em>int</em> <strong>sigismember</strong> <em>（const sigset_t * <var>set</var> ，int <var>signum</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>sigismember</code>功能测试信号是否<var>signum</var>是信号集的成员<var>set</var> 。它返回<code>1</code>如果信号在集合中， <code>0</code>如果没有<code>-1</code>如果有错误。
</p>
<p>下列<code>errno</code>为此功能定义了错误条件：</p>
<dl compact>
<dt><code>EINVAL</code></dt>
<dd><p>的<var>signum</var>参数未指定有效信号。
</p></dd>
</dl>
</dd></dl>

<hr>
<div class="header">
<p>下一篇： <a href="Process-Signal-Mask.html#Process-Signal-Mask" rel="next" accesskey="n">过程信号掩码</a> ，上一篇： <a href="Why-Block.html#Why-Block" rel="prev" accesskey="p">为什么阻塞</a> ，上一篇： <a href="Blocking-Signals.html#Blocking-Signals" rel="up" accesskey="u">阻塞信号</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>