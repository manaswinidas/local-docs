<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Infinity和NaN（GNU C库）</title>

<meta name="description" content="Infinity and NaN (The GNU C Library)">
<meta name="keywords" content="Infinity and NaN (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Floating-Point-Errors.html#Floating-Point-Errors" rel="up" title="Floating Point Errors">
<link href="Status-bit-operations.html#Status-bit-operations" rel="next" title="Status bit operations">
<link href="FP-Exceptions.html#FP-Exceptions" rel="prev" title="FP Exceptions">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Infinity-and-NaN"></span><div class="header">
<p>下一篇： <a href="Status-bit-operations.html#Status-bit-operations" rel="next" accesskey="n">状态位操作</a> ，上一篇： <a href="FP-Exceptions.html#FP-Exceptions" rel="prev" accesskey="p">FP异常</a> ，上一篇： <a href="Floating-Point-Errors.html#Floating-Point-Errors" rel="up" accesskey="u">浮点错误</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Infinity-and-NaN-1"></span><h4 class="subsection">20.5.2无限和NaN</h4>
<span id="index-infinity"></span>
<span id="index-not-a-number"></span>
<span id="index-NaN"></span>

<p>IEEE 754 <!-- /@w -->浮点数可以表示正无穷大或<em>NaN</em> （不是数字）。这三个值来自其结果不确定或无法准确表示的计算。您也可以有意为它们中的任何一个设置浮点变量，这有时很有用。产生无穷或NaN的一些计算示例：</p>
<div class="example">
<pre class="example"><em>1/0 = &amp;infin;</em>
<em>log (0) = -&amp;infin;</em>
<em>sqrt (-1) = NaN</em>
</pre></div>

<p>当计算产生这些值中的任何一个时，也会发生异常。请参阅<a href="FP-Exceptions.html#FP-Exceptions">FP异常</a> 。
</p>
<p>基本运算和数学函数均接受无穷大和NaN并产生有意义的输出。无限性会像人们期望的那样通过计算传播：例如， <em>2 +∞=∞</em> ， <em>4 /∞= 0</em> ，atan <em>（∞）=π/ 2</em> 。另一方面，NaN会感染涉及它的任何计算。除非无论用什么实际值替代NaN，计算都不会产生相同的结果，否则结果就是NaN。</p>
<p>在比较操作中，正无穷大大于除其自身和NaN之外的所有值，负无穷无穷于除其自身和NaN之外的所有值。NaN是<em>无序的</em> ：它不等于，大于或小于任何东西， <em>包括自身</em> 。 <code>x == x</code>如果的值是false <code>x</code>是NaN。您可以使用它来测试值是否为NaN，但是建议的NaN测试方法是使用<code>isnan</code>函数（请参见<a href="Floating-Point-Classes.html#Floating-Point-Classes">浮点类</a> ）。此外， <code><</code> ， <code>></code> ， <code><=</code>和<code>>=</code>应用于NaN时将引发异常。
</p>
<p><samp>math.h</samp>定义允许您将变量显式设置为infinity或NaN的宏。</p>
<dl>
<dt id="index-INFINITY">宏： <em>浮动</em> <strong>INFINITY</strong></dt>
<dd>
<p>表示正无穷大的表达式。它等于数学运算如<code>1.0 / 0.0</code> 。
<code>-INFINITY</code>代表负无穷大。
</p>
<p>您可以通过将其与该宏进行比较来测试浮点值是否为无穷大。但是，不建议这样做。您应该使用<code>isfinite</code>宏代替。请参见<a href="Floating-Point-Classes.html#Floating-Point-Classes">浮点类</a> 。
</p>
<p>此宏是在ISO C99 <!-- /@w -->标准中引入的。
</p></dd></dl>

<dl>
<dt id="index-NAN">宏： <em>浮动</em> <strong>NAN</strong></dt>
<dd>
<p>表示“不是数字”的值的表达式。该宏是GNU扩展，仅在支持“非数字”值的机器上可用，也就是说，在所有支持IEEE浮点数的机器上可用。
</p>
<p>您可以使用 ' <samp>#ifdef NAN</samp>以测试机器是否支持NaN。（当然，您必须安排GNU扩展可见，例如通过定义<code>_GNU_SOURCE</code> ，然后您必须包括<samp>math.h</samp> ）
</p></dd></dl>

<dl>
<dt id="index-SNANF">宏： <em>浮动</em> <strong>SNANF</strong></dt>
<dt id="index-SNAN">宏： <em>双</em> <strong>SNAN</strong></dt>
<dt id="index-SNANL">宏： <em>长双</em> <strong>SNANL</strong></dt>
<dt id="index-SNANFN">巨集： <em>_FloatN</em> <strong>SNANFN</strong></dt>
<dt id="index-SNANFNx">巨集： <em>_FloatNx</em> <strong>SNANFNx</strong></dt>
<dd>


<p>由TS 18661-1：2014和TS 18661-3：2015定义的这些宏是用于发送NaN信号的常量表达式。
</p></dd></dl>

<dl>
<dt id="index-FE_005fSNANS_005fALWAYS_005fSIGNAL">巨集： <em>int</em> <strong>FE_SNANS_ALWAYS_SIGNAL</strong></dt>
<dd>
<p>TS 18661-1：2014定义的此宏定义为<code>1</code>在<samp>fenv.h</samp>指示带有信号NaN输入和浮点结果的函数和操作始终会引发无效异常并返回安静的NaN，即使在某些情况下（例如<code>fmax</code> ， <code>hypot</code>和<code>pow</code> ），而安静的NaN输入会产生非NaN结果。由于某些编译器优化可能无法正确处理信号NaN，因此仅在启用了对信号NaN的编译器支持的情况下才定义此宏。可以使用GCC选项启用该支持<samp>-fsignaling-nans</samp> 。
</p></dd></dl>

<p>IEEE 754 <!-- /@w -->还允许另一个异常值：负零。当您将正数除以负无穷大时，或者当负数结果小于表示的限制时，将产生此值。
</p>
<hr>
<div class="header">
<p>下一篇： <a href="Status-bit-operations.html#Status-bit-operations" rel="next" accesskey="n">状态位操作</a> ，上一篇： <a href="FP-Exceptions.html#FP-Exceptions" rel="prev" accesskey="p">FP异常</a> ，上一篇： <a href="Floating-Point-Errors.html#Floating-Point-Errors" rel="up" accesskey="u">浮点错误</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>