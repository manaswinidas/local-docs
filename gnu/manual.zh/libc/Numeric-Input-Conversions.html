<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>数值输入转换（GNU C库）</title>

<meta name="description" content="Numeric Input Conversions (The GNU C Library)">
<meta name="keywords" content="Numeric Input Conversions (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Formatted-Input.html#Formatted-Input" rel="up" title="Formatted Input">
<link href="String-Input-Conversions.html#String-Input-Conversions" rel="next" title="String Input Conversions">
<link href="Table-of-Input-Conversions.html#Table-of-Input-Conversions" rel="prev" title="Table of Input Conversions">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Numeric-Input-Conversions"></span><div class="header">
<p>下一篇： <a href="String-Input-Conversions.html#String-Input-Conversions" rel="next" accesskey="n">字符串输入转换</a> ，上一篇： <a href="String-Input-Conversions.html#String-Input-Conversions" rel="next" accesskey="n">输入转换</a> <a href="Table-of-Input-Conversions.html#Table-of-Input-Conversions" rel="prev" accesskey="p">表</a> ，上一篇： <a href="Formatted-Input.html#Formatted-Input" rel="up" accesskey="u">格式化输入</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Numeric-Input-Conversions-1"></span><h4 class="subsection">12.14.4数值输入转换</h4>

<p>本节介绍<code>scanf</code>读取数值的转换。
</p>
<p>' <samp>%d</samp> '转换匹配一个可选的带符号的整数（十进制基数）。可以识别的语法与<code>strtol</code>值的函数（请参阅<a href="Parsing-of-Integers.html#Parsing-of-Integers">Integers解析</a> ） <code>10</code>为了<var>base</var>论点。
</p>
<p>' <samp>%i</samp> '转换匹配C语言定义的用于指定整数常量的任何格式的可选带符号整数。可以识别的语法与<code>strtol</code>值的函数（请参阅<a href="Parsing-of-Integers.html#Parsing-of-Integers">Integers解析</a> ） <code>0</code>为了<var>base</var>论点。（您可以使用以下语法打印整数<code>printf</code>通过使用“ <samp>#</samp> '以'标记字符<samp>%x</samp> '，' <samp>%o</samp> '， 要么 ' <samp>%d</samp>转换。请参阅<a href="Integer-Conversions.html#Integer-Conversions">整数转换</a> 。）
</p>
<p>例如，任何字符串“ <samp>10</samp> '，' <samp>0xa</samp> '， 要么 ' <samp>012</samp> '可以在'下读为整数<samp>%i</samp>转换。每个都指定一个带十进制值的数字<code>10</code> 。
</p>
<p>' <samp>%o</samp> '，' <samp>%u</samp> '和' <samp>%x</samp> '转换分别匹配八进制，十进制和十六进制的无符号整数。可以识别的语法与<code>strtoul</code>具有适当值的函数（请参阅<a href="Parsing-of-Integers.html#Parsing-of-Integers">整数解析</a> ） <code>8</code> ， <code>10</code> ， 要么<code>16</code> ） 为了<var>base</var>论点。
</p>
<p>' <samp>%X</samp> '转换与' <samp>%x</samp>转换。它们都允许将大写或小写字母用作数字。
</p>
<p>对应参数的默认类型<code>%d</code>和<code>%i</code>转换为<code>int *</code>和<code>unsigned int *</code>其他整数转换。您可以使用以下类型修饰符指定其他整数大小：</p>
<dl compact>
<dt>' <samp>hh</samp> '</dt>
<dd><p>指定参数为<code>signed char *</code>要么<code>unsigned char *</code> 。
</p>
<p>此修饰符是在ISO C99 <!-- /@w -->引入的。
</p>
</dd>
<dt>' <samp>h</samp> '</dt>
<dd><p>指定参数为<code>short int *</code>要么<code>unsigned short int *</code> 。
</p>
</dd>
<dt>' <samp>j</samp> '</dt>
<dd><p>指定参数为<code>intmax_t *</code>要么<code>uintmax_t *</code> 。
</p>
<p>此修饰符是在ISO C99 <!-- /@w -->引入的。
</p>
</dd>
<dt>' <samp>l</samp> '</dt>
<dd><p>指定参数为<code>long int *</code>要么<code>unsigned long int *</code> 。两个' <samp>l</samp>字符就像<samp>L</samp> '修饰符，如下。
</p>
<p>如果与“ <samp>%c</samp> ' 要么 ' <samp>%s</samp>相应的参数分别被视为指向宽字符或宽字符串的指针。这种使用“ <samp>l</samp>是在ISO C90 <!-- /@w -->修订1 <!-- /@w -->引入的。
</p>
</dd>
<dt>' <samp>ll</samp> '</dt>
<dt>' <samp>L</samp> '</dt>
<dt>' <samp>q</samp> '</dt>
<dd><p>指定参数为<code>long long int *</code>要么<code>unsigned long long int *</code> 。（ <code>long long</code> type是GNU C编译器支持的扩展。对于不提供超长整数的系统，这与<code>long int</code> ）
</p>
<p>' <samp>q</samp> '修饰符是同一事物的另一个名称，来自4.4 BSD；一种<code>long long int</code> <!-- /@w -->有时也称为“四元组” <code>int</code> 。
</p>
</dd>
<dt>' <samp>t</samp> '</dt>
<dd><p>指定参数为<code>ptrdiff_t *</code> 。
</p>
<p>此修饰符是在ISO C99 <!-- /@w -->引入的。
</p>
</dd>
<dt>' <samp>z</samp> '</dt>
<dd><p>指定参数为<code>size_t *</code> 。
</p>
<p>此修饰符是在ISO C99 <!-- /@w -->引入的。
</p></dd>
</dl>

<p>全部 ' <samp>%e</samp> '，' <samp>%f</samp> '，' <samp>%g</samp> '，' <samp>%E</samp> '和' <samp>%G</samp>输入转换是可以互换的。它们都匹配一个可选的带符号浮点数，语法与<code>strtod</code>函数（请参见<a href="Parsing-of-Floats.html#Parsing-of-Floats">Floats解析</a> ）。
</p>
<p>对于浮点输入转换，默认参数类型为<code>float *</code> 。（这与相应的输出转换不同，后者的默认类型是<code>double</code> ;记住<code>float</code>争论<code>printf</code>转换为<code>double</code>默认情况下是提升，但<code>float *</code>争论不提倡<code>double *</code> ）您可以使用以下类型修饰符指定其他大小的float：</p>
<dl compact>
<dt>' <samp>l</samp> '</dt>
<dd><p>指定参数为类型<code>double *</code> 。
</p>
</dd>
<dt>' <samp>L</samp> '</dt>
<dd><p>指定参数为类型<code>long double *</code> 。
</p></dd>
</dl>

<p>对于上述所有数字解析格式，都有一个附加的可选标志' <samp>'</samp> '。给定此标志后， <code>scanf</code>函数期望输入字符串中表示的数字根据当前所选语言环境的分组规则进行格式化（请参见<a href="General-Numeric.html#General-Numeric">General Numeric</a> ）。
</p>
<p>如果<code>"C"</code>要么<code>"POSIX"</code>选择语言环境没有区别。但是对于为语言环境中的适当字段指定值的语言环境，输入的输入形式必须正确。否则，将处理格式正确的最长前缀。
</p>
<hr>
<div class="header">
<p>下一篇： <a href="String-Input-Conversions.html#String-Input-Conversions" rel="next" accesskey="n">字符串输入转换</a> ，上一篇： <a href="String-Input-Conversions.html#String-Input-Conversions" rel="next" accesskey="n">输入转换</a> <a href="Table-of-Input-Conversions.html#Table-of-Input-Conversions" rel="prev" accesskey="p">表</a> ，上一篇： <a href="Formatted-Input.html#Formatted-Input" rel="up" accesskey="u">格式化输入</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>