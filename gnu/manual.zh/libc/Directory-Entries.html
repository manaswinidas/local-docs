<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>目录条目（GNU C库）</title>

<meta name="description" content="Directory Entries (The GNU C Library)">
<meta name="keywords" content="Directory Entries (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Accessing-Directories.html#Accessing-Directories" rel="up" title="Accessing Directories">
<link href="Opening-a-Directory.html#Opening-a-Directory" rel="next" title="Opening a Directory">
<link href="Accessing-Directories.html#Accessing-Directories" rel="prev" title="Accessing Directories">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Directory-Entries"></span><div class="header">
<p>下一页： <a href="Opening-a-Directory.html#Opening-a-Directory" rel="next" accesskey="n">打开目录</a> ，向上： <a href="Accessing-Directories.html#Accessing-Directories" rel="up" accesskey="u">访问目录</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Format-of-a-Directory-Entry"></span><h4 class="subsection">14.2.1目录条目的格式</h4>

<span id="index-dirent_002eh-1"></span>
<p>本节描述您在单个目录条目中找到的内容，因为您可能会从目录流中获得它。所有符号都在头文件中声明<samp>dirent.h</samp> 。
</p>
<dl>
<dt id="index-struct-dirent">数据类型： <strong>struct dirent</strong></dt>
<dd>
<p>这是一种用于返回有关目录条目信息的结构类型。它包含以下字段：</p>
<dl compact>
<dt><code>char d_name[]</code></dt>
<dd><p>这是一个以空值结尾的文件名组件。这是您在所有POSIX系统中都可以依靠的唯一字段。
</p>
</dd>
<dt><code>ino_t d_fileno</code></dt>
<dd><p>这是文件序列号。为了实现BSD兼容性，您还可以将该成员称为<code>d_ino</code> 。在GNU / Linux和GNU / Hurd系统以及大多数POSIX系统上，对于大多数文件，此文件与<code>st_ino</code>成员<code>stat</code>将返回该文件。请参阅<a href="File-Attributes.html#File-Attributes">文件属性</a> 。
</p>
</dd>
<dt><code>unsigned char d_namlen</code></dt>
<dd><p>这是文件名的长度，不包括结尾的空字符。它的类型是<code>unsigned char</code>因为那是适当大小的整数类型。该成员是BSD扩展。符号<code>_DIRENT_HAVE_D_NAMLEN</code>定义此成员是否可用。
</p>
</dd>
<dt><code>unsigned char d_type</code></dt>
<dd><p>这是文件的类型，可能未知。为其值定义了以下常量：</p>
<dl compact>
<dt><code>DT_UNKNOWN</code>
<span id="index-DT_005fUNKNOWN"></span>
</dt>
<dd><p>类型未知。只有某些文件系统完全支持返回文件类型，而其他文件系统可能总是返回此值。
</p>
</dd>
<dt><code>DT_REG</code>
<span id="index-DT_005fREG"></span>
</dt>
<dd><p>常规文件。
</p>
</dd>
<dt><code>DT_DIR</code>
<span id="index-DT_005fDIR"></span>
</dt>
<dd><p>目录。
</p>
</dd>
<dt><code>DT_FIFO</code>
<span id="index-DT_005fFIFO"></span>
</dt>
<dd><p>命名管道或FIFO。请参见<a href="FIFO-Special-Files.html#FIFO-Special-Files">FIFO特殊文件</a> 。
</p>
</dd>
<dt><code>DT_SOCK</code>
<span id="index-DT_005fSOCK"></span>
</dt>
<dd><p>本地域套接字。</p>
</dd>
<dt><code>DT_CHR</code>
<span id="index-DT_005fCHR"></span>
</dt>
<dd><p>字符设备。
</p>
</dd>
<dt><code>DT_BLK</code>
<span id="index-DT_005fBLK"></span>
</dt>
<dd><p>块设备。
</p>
</dd>
<dt><code>DT_LNK</code>
<span id="index-DT_005fLNK"></span>
</dt>
<dd><p>一个符号链接。
</p></dd>
</dl>

<p>该成员是BSD扩展。符号<code>_DIRENT_HAVE_D_TYPE</code>定义此成员是否可用。在使用它的系统上，它对应于<code>st_mode</code>成员<code>struct stat</code> 。如果无法确定该值，则成员值为DT_UNKNOWN。这两个宏之间进行转换<code>d_type</code>价值观和<code>st_mode</code>值：</p>
<dl>
<dt id="index-IFTODT">函数： <em>int</em> <strong>IFTODT</strong> <em>（mode_t <var>mode</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>这将返回<code>d_type</code>对应于的值<var>mode</var> 。
</p></dd></dl>

<dl>
<dt id="index-DTTOIF">函数： <em>mode_t</em> <strong>DTTOIF</strong> <em>（int <var>dtype</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>这将返回<code>st_mode</code>对应于的值<var>dtype</var> 。
</p></dd></dl>
</dd>
</dl>

<p>该结构将来可能包含其他成员。它们的可用性始终在名为宏的编译环境中声明<code>_DIRENT_HAVE_D_<var>xxx</var></code>哪里<var>xxx</var>替换为新成员的名称。例如，成员<code>d_reclen</code>通过宏宣布某些系统上可用的功能<code>_DIRENT_HAVE_D_RECLEN</code> 。
</p>
<p>当文件具有多个名称时，每个名称都有其自己的目录条目。您可以辨别目录条目属于单个文件的唯一方法是它们具有相同的值。 <code>d_fileno</code>领域。
</p>
<p>文件属性（例如大小，修改时间等）是文件本身的一部分，而不是任何特定目录条目。请参阅<a href="File-Attributes.html#File-Attributes">文件属性</a> 。
</p></dd></dl>

<hr>
<div class="header">
<p>下一页： <a href="Opening-a-Directory.html#Opening-a-Directory" rel="next" accesskey="n">打开目录</a> ，向上： <a href="Accessing-Directories.html#Accessing-Directories" rel="up" accesskey="u">访问目录</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>