<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>FP位扭曲（GNU C库）</title>

<meta name="description" content="FP Bit Twiddling (The GNU C Library)">
<meta name="keywords" content="FP Bit Twiddling (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Arithmetic-Functions.html#Arithmetic-Functions" rel="up" title="Arithmetic Functions">
<link href="FP-Comparison-Functions.html#FP-Comparison-Functions" rel="next" title="FP Comparison Functions">
<link href="Remainder-Functions.html#Remainder-Functions" rel="prev" title="Remainder Functions">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="FP-Bit-Twiddling"></span><div class="header">
<p>下一篇： <a href="FP-Comparison-Functions.html#FP-Comparison-Functions" rel="next" accesskey="n">FP比较函数</a> ，上一篇： <a href="Remainder-Functions.html#Remainder-Functions" rel="prev" accesskey="p">余数函数</a> ，上一篇： <a href="Arithmetic-Functions.html#Arithmetic-Functions" rel="up" accesskey="u">算术函数</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Setting-and-modifying-single-bits-of-FP-values"></span><h4 class="subsection">20.8.5设置和修改FP值的单个位</h4>
<span id="index-FP-arithmetic"></span>

<p>有些操作过于复杂或昂贵，无法手动对浮点数执行。ISO C99 <!-- /@w -->定义了执行这些操作的函数，这些函数主要涉及更改单个位。
</p>
<dl>
<dt id="index-copysign">功能： <em>双</em> <strong>签号</strong> <em>（双<var>x</var> ，双<var>y</var> ）</em></dt>
<dt id="index-copysignf">函数： <em>float</em> <strong>copysignf</strong> <em>（float <var>x</var> ，浮动<var>y</var> ）</em></dt>
<dt id="index-copysignl">函数： <em>long double</em> <strong>copysignl</strong> <em>（long double <var>x</var>长双<var>y</var> ）</em></dt>
<dt id="index-copysignfN">函数： <em>_FloatN</em> <strong>copysignfN</strong> <em>（_Float <var>N</var><var>x</var> ，_Float <var>N</var><var>y</var> ）</em></dt>
<dt id="index-copysignfNx">函数： <em>_FloatNx</em> <strong>copysignfNx</strong> <em>（_Float <var>N</var> X <var>x</var> ，_Float <var>N</var> X <var>y</var> ）</em></dt>
<dd>


<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>这些函数返回<var>x</var>但是带有<var>y</var> 。他们即使工作<var>x</var>要么<var>y</var>是NaN或零。这两种方法都可以带有符号（尽管并非所有实现都支持它），这是可以分辨出差异的少数操作之一。
</p>
<p><code>copysign</code>从不引发异常。
</p>
<p>该功能在IEC 559 <!-- /@w -->定义（以及在IEEE 754 <!-- /@w --> / IEEE 854 <!-- /@w -->具有推荐功能的附录）。
</p></dd></dl>

<dl>
<dt id="index-signbit">函数： <em>int</em> <strong>符号位</strong> <em>（ <em>浮点型</em> <var>x</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p><code>signbit</code>是一个通用宏，可以在所有浮点类型上使用。如果的值返回一个非零值<var>x</var>设置其符号位。
</p>
<p>这不一样<code>x < 0.0</code> ，因为IEEE 754 <!-- /@w -->浮点允许对零进行签名。比较<code>-0.0 < 0.0</code>是错误的，但是<code>signbit (-0.0)</code>将返回一个非零值。
</p></dd></dl>

<dl>
<dt id="index-nextafter">函数： <em>double</em> <strong>nextafter</strong> <em>（double <var>x</var> ，双<var>y</var> ）</em></dt>
<dt id="index-nextafterf">函数： <em>float</em> <strong>nextafterf</strong> <em>（float <var>x</var> ，浮动<var>y</var> ）</em></dt>
<dt id="index-nextafterl">功能： <em>长加倍</em> <strong>nextafterl</strong> <em>（长加倍<var>x</var>长双<var>y</var> ）</em></dt>
<dt id="index-nextafterfN">函数： <em>_FloatN</em> <strong>nextafterfN</strong> <em>（_Float <var>N</var><var>x</var> ，_Float <var>N</var><var>y</var> ）</em></dt>
<dt id="index-nextafterfNx">函数： <em>_FloatNx</em> <strong>nextafterfNx</strong> <em>（_Float <var>N</var> X <var>x</var> ，_Float <var>N</var> X <var>y</var> ）</em></dt>
<dd>


<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>nextafter</code>函数返回的下一个可表示邻居<var>x</var>朝着<var>y</var> 。步长之间的大小<var>x</var>结果取决于结果的类型。如果<em><var>x</var> = <var>y</var></em>函数只是返回<var>y</var> 。如果任一值为<code>NaN</code> ， <code>NaN</code>返回。否则，根据方向，添加或减去与尾数中最低有效位的值相对应的值。
<code>nextafter</code>如果结果超出归一化数值范围，将发出信号上溢或下溢。
</p>
<p>此功能在IEC 559 <!-- /@w -->定义（以及在IEEE 754 <!-- /@w --> / IEEE 854 <!-- /@w -->具有推荐功能的附录）。
</p></dd></dl>

<dl>
<dt id="index-nexttoward">功能： <em>双</em> <em><strong>nexttoward（</strong>双<var>x</var>长双<var>y</var> ）</em></dt>
<dt id="index-nexttowardf">函数： <em>float</em> <strong>nexttowardf</strong> <em>（float <var>x</var>长双<var>y</var> ）</em></dt>
<dt id="index-nexttowardl">功能： <em>长双</em> <em><strong>nexttowardl（</strong>长双<var>x</var>长双<var>y</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>这些功能与的相应版本相同<code>nextafter</code>除了他们的第二个论点是<code>long double</code> 。
</p></dd></dl>

<dl>
<dt id="index-nextup">功能： <em>双倍下</em> <strong>一个</strong> <em>（双倍<var>x</var> ）</em></dt>
<dt id="index-nextupf">函数： <em>float</em> <strong>nextupf</strong> <em>（float <var>x</var> ）</em></dt>
<dt id="index-nextupl">功能： <em>长双倍</em> <strong>nextupl</strong> <em>（长双倍<var>x</var> ）</em></dt>
<dt id="index-nextupfN">函数： <em>_FloatN</em> <strong>nextupfN</strong> <em>（_Float <var>N</var><var>x</var> ）</em></dt>
<dt id="index-nextupfNx">函数： <em>_FloatNx</em> <strong>nextupfNx</strong> <em>（_Float <var>N</var> X <var>x</var> ）</em></dt>
<dd>


<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>nextup</code>函数返回的下一个可表示邻居<var>x</var>在正无穷大的方向上。如果<var>x</var>是的类型中最小的负次正规数<var>x</var>函数返回<code>-0</code> 。如果<em><var>x</var> = <code>0</code></em>函数返回以下类型的最小正次正规数<var>x</var> 。如果<var>x</var>是NaN，则返回NaN。如果<var>x</var>是<em>+∞</em> ，返回<em>+∞</em> 。
<code>nextup</code>来自TS 18661-1：2014和TS 18661-3：2015。
<code>nextup</code>除了发信号通知NaN外，从不引发异常。
</p></dd></dl>

<dl>
<dt id="index-nextdown">功能： <em>double</em> <strong>nextdown</strong> <em>（double <var>x</var> ）</em></dt>
<dt id="index-nextdownf">函数： <em>float</em> <strong>nextdownf</strong> <em>（float <var>x</var> ）</em></dt>
<dt id="index-nextdownl">功能： <em>长加倍</em> <strong>nextdownl</strong> <em>（长加倍<var>x</var> ）</em></dt>
<dt id="index-nextdownfN">函数： <em>_FloatN</em> <strong>nextdownfN</strong> <em>（_Float <var>N</var><var>x</var> ）</em></dt>
<dt id="index-nextdownfNx">函数： <em>_FloatNx</em> <strong>nextdownfNx</strong> <em>（_Float <var>N</var> X <var>x</var> ）</em></dt>
<dd>


<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>nextdown</code>函数返回的下一个可表示邻居<var>x</var>在负无穷大的方向上。如果<var>x</var>是以下类型中最小的正次正规数<var>x</var>函数返回<code>+0</code> 。如果<em><var>x</var> = <code>0</code></em>函数返回类型为的最小负次正规数<var>x</var> 。如果<var>x</var>是NaN，则返回NaN。如果<var>x</var>是<em>-∞</em> ，返回<em>-∞</em> 。
<code>nextdown</code>来自TS 18661-1：2014和TS 18661-3：2015。
<code>nextdown</code>除了发信号通知NaN外，从不引发异常。
</p></dd></dl>

<span id="index-NaN-1"></span>
<dl>
<dt id="index-nan">功能： <em>double</em> <strong>nan</strong> <em>（const char * <var>tagp</var> ）</em></dt>
<dt id="index-nanf">函数： <em>float</em> <strong>nanf</strong> <em>（const char * <var>tagp</var> ）</em></dt>
<dt id="index-nanl">函数： <em>long double</em> <strong>nanl</strong> <em>（const char * <var>tagp</var> ）</em></dt>
<dt id="index-nanfN">函数： <em>_FloatN</em> <strong>nanfN</strong> <em>（const char * <var>tagp</var> ）</em></dt>
<dt id="index-nanfNx">函数： <em>_FloatNx</em> <strong>nanfNx</strong> <em>（常量字符* <var>tagp</var> ）</em></dt>
<dd>


<p>初步： MT安全区域| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>nan</code>如果目标平台支持NaN，则函数将返回NaN的表示形式。
<code>nan ("<var>n-char-sequence</var>")</code>相当于<code>strtod ("NAN(<var>n-char-sequence</var>)")</code> 。
</p>
<p>争论<var>tagp</var>以未指定的方式使用。在IEEE 754 <!-- /@w -->系统上，NaN有很多表示形式，并且<var>tagp</var>选择一个。在其他系统上，它可能什么也不做。
</p></dd></dl>

<dl>
<dt id="index-canonicalize">函数： <em>int</em> <strong>规范化</strong> <em>（双* <var>cx</var> ，const double * <var>x</var> ）</em></dt>
<dt id="index-canonicalizef">函数： <em>int</em> <strong>canonicalizef</strong> <em>（浮点* <var>cx</var> ，const float * <var>x</var> ）</em></dt>
<dt id="index-canonicalizel">功能： <em>int</em> <strong>canonicalizel</strong> <em>（长双* <var>cx</var> ，const long double * <var>x</var> ）</em></dt>
<dt id="index-canonicalizefN">函数： <em>int</em> <strong>canonicalizefN</strong> <em>（_Float <var>N</var> * <var>cx</var> ，const _Float <var>N</var> * <var>x</var> ）</em></dt>
<dt id="index-canonicalizefNx">函数： <em>int</em> <strong>canonicalizefNx</strong> <em>（_Float <var>N</var> X * <var>cx</var> ，const _Float <var>N</var> X * <var>x</var> ）</em></dt>
<dd>


<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>在某些浮点格式中，某些值具有规范（首选）和非规范编码（对于IEEE互换二进制格式，所有编码均为规范编码）。TS 18661-1：2014和TS 18661-3：2015定义的这些函数试图生成规范版本的浮点值，该浮点值由<var>x</var> ;如果该值是信号NaN，则它们引发无效异常并产生一个安静的NaN。如果产生规范值，则将其存储在由指向的对象中<var>cx</var> ，这些函数返回零。否则（如果由于所指向的对象而无法产生规范值<var>x</var>不是任何浮点值的有效表示形式），由指向的对象<var>cx</var>保持不变，并且返回非零值。
</p>
<p>请注意，某些格式具有相同值的多个编码值；当将这种编码用作该功能的输入时，可以将任何相同值（或相应的静默NaN，如果该值是信令NaN）编码为输出。
</p></dd></dl>

<dl>
<dt id="index-getpayload">函数： <em>double</em> <strong>getpayload</strong> <em>（const double * <var>x</var> ）</em></dt>
<dt id="index-getpayloadf">函数： <em>float</em> <strong>getpayloadf</strong> <em>（const float * <var>x</var> ）</em></dt>
<dt id="index-getpayloadl">函数： <em>long double</em> <strong>getpayloadl</strong> <em>（const long double * <var>x</var> ）</em></dt>
<dt id="index-getpayloadfN">函数： <em>_FloatN</em> <strong>getpayloadfN</strong> <em>（常量_Float <var>N</var> * <var>x</var> ）</em></dt>
<dt id="index-getpayloadfNx">函数： <em>_FloatNx</em> <strong>getpayloadfNx</strong> <em>（常量_Float <var>N</var> X * <var>x</var> ）</em></dt>
<dd>


<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>IEEE 754将NaN的<em>有效载荷</em>定义为以NaN表示形式编码的整数值。有效载荷通常从NaN输入传播到浮点运算的结果。TS 18661-1：2014和TS 18661-3：2015定义的这些函数返回由NaN指向的NaN的有效负载<var>x</var> （返回为正整数或零，以浮点数表示）；如果<var>x</var>不是NaN，它们返回一个未指定的值。它们即使在发信号通知NaN时也不会引发浮点异常。
</p></dd></dl>

<dl>
<dt id="index-setpayload">函数： <em>int</em> <strong>setpayload</strong> <em>（双* <var>x</var> ，双<var>payload</var> ）</em></dt>
<dt id="index-setpayloadf">函数： <em>int</em> <strong>setpayloadf</strong> <em>（浮点* <var>x</var> ，浮动<var>payload</var> ）</em></dt>
<dt id="index-setpayloadl">函数： <em>int</em> <strong>setpayloadl</strong> <em>（长</em> <em>整数</em> <em>* <var>x</var>长双<var>payload</var> ）</em></dt>
<dt id="index-setpayloadfN">函数： <em>int</em> <strong>setpayloadfN</strong> <em>（_Float <var>N</var> * <var>x</var> ，_Float <var>N</var><var>payload</var> ）</em></dt>
<dt id="index-setpayloadfNx">函数： <em>int</em> <strong>setpayloadfNx</strong> <em>（_Float <var>N</var> X * <var>x</var> ，_Float <var>N</var> X <var>payload</var> ）</em></dt>
<dd>


<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>TS 18661-1：2014和TS 18661-3：2015定义的这些功能设置了指向的对象<var>x</var>到有负载的安静NaN <var>payload</var>和零符号位并返回零。如果<var>payload</var>不是一个正整数，它是给定类型的安静NaN的有效有效载荷，该对象由指向<var>x</var>设置为正零，并且返回非零值。它们不引发浮点异常。
</p></dd></dl>

<dl>
<dt id="index-setpayloadsig">函数： <em>int</em> <strong>setpayloadsig</strong> <em>（双* <var>x</var> ，双<var>payload</var> ）</em></dt>
<dt id="index-setpayloadsigf">函数： <em>int</em> <strong>setpayloadsigf</strong> <em>（浮点* <var>x</var> ，浮动<var>payload</var> ）</em></dt>
<dt id="index-setpayloadsigl">函数： <em>int</em> <strong>setpayloadsigl</strong> <em>（long double * <var>x</var>长双<var>payload</var> ）</em></dt>
<dt id="index-setpayloadsigfN">函数： <em>int</em> <strong>setpayloadsigfN</strong> <em>（_Float <var>N</var> * <var>x</var> ，_Float <var>N</var><var>payload</var> ）</em></dt>
<dt id="index-setpayloadsigfNx">函数： <em>int</em> <strong>setpayloadsigfNx</strong> <em>（_Float <var>N</var> X * <var>x</var> ，_Float <var>N</var> X <var>payload</var> ）</em></dt>
<dd>


<p>初步： MT安全| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>TS 18661-1：2014和TS 18661-3：2015定义的这些功能设置了指向的对象<var>x</var>到带有有效载荷的信令NaN <var>payload</var>和零符号位并返回零。如果<var>payload</var>不是一个正整数，它是给定类型的信号NaN的有效负载，由指向的对象<var>x</var>设置为正零，并且返回非零值。它们不引发浮点异常。
</p></dd></dl>

<hr>
<div class="header">
<p>下一篇： <a href="FP-Comparison-Functions.html#FP-Comparison-Functions" rel="next" accesskey="n">FP比较函数</a> ，上一篇： <a href="Remainder-Functions.html#Remainder-Functions" rel="prev" accesskey="p">余数函数</a> ，上一篇： <a href="Arithmetic-Functions.html#Arithmetic-Functions" rel="up" accesskey="u">算术函数</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>