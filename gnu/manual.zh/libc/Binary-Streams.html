<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>二进制流（GNU C库）</title>

<meta name="description" content="Binary Streams (The GNU C Library)">
<meta name="keywords" content="Binary Streams (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="I_002fO-on-Streams.html#I_002fO-on-Streams" rel="up" title="I/O on Streams">
<link href="File-Positioning.html#File-Positioning" rel="next" title="File Positioning">
<link href="Error-Recovery.html#Error-Recovery" rel="prev" title="Error Recovery">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Binary-Streams"></span><div class="header">
<p>下一篇： <a href="File-Positioning.html#File-Positioning" rel="next" accesskey="n">文件定位</a> ，上一篇： <a href="Error-Recovery.html#Error-Recovery" rel="prev" accesskey="p">错误恢复</a> ，上一篇： <a href="I_002fO-on-Streams.html#I_002fO-on-Streams" rel="up" accesskey="u">流</a>上的<a href="I_002fO-on-Streams.html#I_002fO-on-Streams" rel="up" accesskey="u">I / O</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Text-and-Binary-Streams"></span><h3 class="section">12.17文本和二进制流</h3>

<p>GNU系统和其他POSIX兼容的操作系统将所有文件组织为统一的字符序列。但是，其他一些系统则对包含文本的文件和包含二进制数据的文件进行了区分，而ISO C <!-- /@w -->的输入和输出功能提供了这种区分。本节介绍如何编写可移植到此类系统的程序。
</p>
<span id="index-text-stream"></span>
<span id="index-binary-stream"></span>
<p>打开流时，可以指定<em>文本流</em>或<em>二进制流</em> 。您可以通过指定“ <samp>b</samp> '中的修饰符<var>opentype</var>争论<code>fopen</code> ;请参阅<a href="Opening-Streams.html#Opening-Streams">打开流</a> 。没有这个选项<code>fopen</code>打开文件作为文本流。
</p>
<p>文本流和二进制流在几个方面有所不同：</p>
<ul>
<li>从一个文本流中读取的数据被划分成其通过换行终止<em>行</em> （ <code>'\n'</code> ）字符，而二进制流只是一系列字符。在某些系统上，文本流可能无法处理超过254个字符的行（包括终止的换行符）。
<span id="index-lines-_0028in-a-text-file_0029"></span>

</li><li>在某些系统上，文本文件只能包含打印字符，水平制表符和换行符，因此文本流可能不支持其他字符。但是，二进制流可以处理任何字符值。

</li><li>再次读入文件时，在文本流中紧接换行符之前写入的空格字符可能会消失。

</li><li>更一般地，在从文本流读取或写入文本流的字符与实际文件中的字符之间不需要一对一的映射。
</li></ul>

<p>由于二进制流总是比文本流更强大，更可预测，因此您可能想知道文本流的作用是什么。为什么不简单地总是使用二进制流？答案是，在这些操作系统上，文本流和二进制流使用不同的文件格式，并且可以与其他面向文本的程序一起读取或写入“普通文本文件”的唯一方法是通过文本流。
</p>
<p>在GNU C库和所有POSIX系统上，文本流和二进制流之间没有区别。打开流时，无论是否要求二进制，都将获得相同类型的流。此流可以处理任何文件内容，并且没有文本流有时具有的任何限制。
</p>
<hr>
<div class="header">
<p>下一篇： <a href="File-Positioning.html#File-Positioning" rel="next" accesskey="n">文件定位</a> ，上一篇： <a href="Error-Recovery.html#Error-Recovery" rel="prev" accesskey="p">错误恢复</a> ，上一篇： <a href="I_002fO-on-Streams.html#I_002fO-on-Streams" rel="up" accesskey="u">流</a>上的<a href="I_002fO-on-Streams.html#I_002fO-on-Streams" rel="up" accesskey="u">I / O</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>