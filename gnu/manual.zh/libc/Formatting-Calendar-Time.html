<html ><head></head><body lang="zh-Hans" >﻿<!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>格式化日历时间（GNU C库）</title>

<meta name="description" content="Formatting Calendar Time (The GNU C Library)">
<meta name="keywords" content="Formatting Calendar Time (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Calendar-Time.html#Calendar-Time" rel="up" title="Calendar Time">
<link href="Parsing-Date-and-Time.html#Parsing-Date-and-Time" rel="next" title="Parsing Date and Time">
<link href="High-Accuracy-Clock.html#High-Accuracy-Clock" rel="prev" title="High Accuracy Clock">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>





<span id="Formatting-Calendar-Time"></span><div class="header">
<p>下一篇： <a href="Parsing-Date-and-Time.html#Parsing-Date-and-Time" rel="next" accesskey="n">解析日期和时间</a> ，上一篇： <a href="High-Accuracy-Clock.html#High-Accuracy-Clock" rel="prev" accesskey="p">高精度时钟</a> ，上一篇： <a href="Calendar-Time.html#Calendar-Time" rel="up" accesskey="u">日历时间</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Formatting-Calendar-Time-1"></span><h4 class="subsection">21.4.5格式化日历时间</h4>

<p>本节中描述的功能将日历时间值格式化为字符串。这些函数在头文件中声明<samp>time.h</samp> 。
<span id="index-time_002eh-3"></span>
</p>
<dl>
<dt id="index-asctime">功能： <em>char *</em> <strong>asctime</strong> <em>（const struct tm * <var>brokentime</var> ）</em></dt>
<dd>
<p>初步： MT不安全种族：asctime语言环境| AS不安全|交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>asctime</code>函数将细分时间值转换为<var>brokentime</var>指向标准格式的字符串：</p>
<div class="example">
<pre class="example">&quot;Tue May 21 13:46:22 1991\n&quot;
</pre></div>

<p>星期几的缩写是： <samp>Sun</samp> '，' <samp>Mon</samp> '，' <samp>Tue</samp> '，' <samp>Wed</samp> '，' <samp>Thu</samp> '，' <samp>Fri</samp> '和' <samp>Sat</samp> '。
</p>
<p>这些月份的缩写是： <samp>Jan</samp> '，' <samp>Feb</samp> '，' <samp>Mar</samp> '，' <samp>Apr</samp> '，' <samp>May</samp> '，' <samp>Jun</samp> '，' <samp>Jul</samp> '，' <samp>Aug</samp> '，' <samp>Sep</samp> '，' <samp>Oct</samp> '，' <samp>Nov</samp> '和' <samp>Dec</samp> '。
</p>
<p>返回值指向静态分配的字符串，随后的调用可能会覆盖该字符串<code>asctime</code>要么<code>ctime</code> 。（但是没有其他库函数会覆盖此字符串的内容。）
</p></dd></dl>

<dl>
<dt id="index-asctime_005fr">函数： <em>char *</em> <strong>asctime_r</strong> <em>（const struct tm * <var>brokentime</var> ，字符* <var>buffer</var> ）</em></dt>
<dd>
<p>初步： MT安全区域| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>该功能类似于<code>asctime</code>但不是将结果放置在静态缓冲区中，而是将字符串写入参数所指向的缓冲区中<var>buffer</var> 。该缓冲区至少应有26个字节的空间，包括终止null。
</p>
<p>如果没有错误发生，该函数将返回指向结果写入字符串的指针，即返回<var>buffer</var> 。否则返回<code>NULL</code> 。
</p></dd></dl>


<dl>
<dt id="index-ctime">函数： <em>char *</em> <strong>ctime</strong> <em>（const time_t * <var>time</var> ）</em></dt>
<dd>
<p>初步： MT不安全种族：tmbuf种族：asctime env语言环境| AS不安全堆锁| AC不安全锁内存fd |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>ctime</code>功能类似于<code>asctime</code> ，除了您将日历时间参数指定为<code>time_t</code>简单的时间值，而不是细分的本地时间格式。相当于</p>
<div class="example">
<pre class="example">asctime (localtime (<var>time</var>))
</pre></div>

<p>呼唤<code>ctime</code>也将当前时区设置为<code>tzset</code>被称为。请参阅<a href="Time-Zone-Functions.html#Time-Zone-Functions">时区功能</a> 。
</p></dd></dl>

<dl>
<dt id="index-ctime_005fr">函数： <em>char *</em> <strong>ctime_r</strong> <em>（const time_t * <var>time</var> ，字符* <var>buffer</var> ）</em></dt>
<dd>
<p>初步： MT安全环境语言环境| AS不安全堆锁| AC不安全锁内存fd |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>该功能类似于<code>ctime</code> ，但将结果放入由指向的字符串中<var>buffer</var> 。等效于（使用gcc扩展名编写，请参见<cite>移植和使用gcc中的</cite> <a href="https://gcc.gnu.org/onlinedocs/gcc/Statement-Exprs.html#Statement-Exprs">Statement Exprs</a> ）：</p>
<div class="example">
<pre class="example">({ struct tm tm; asctime_r (localtime_r (time, &amp;tm), buf); })
</pre></div>

<p>如果没有错误发生，该函数将返回指向结果写入字符串的指针，即返回<var>buffer</var> 。否则返回<code>NULL</code> 。
</p></dd></dl>


<dl>
<dt id="index-strftime">函数： <em>size_t</em> <strong>strftime</strong> <em>（字符* <var>s</var> ，size_t <var>size</var> ，const char * <var>template</var> ，const struct tm * <var>brokentime</var> ）</em></dt>
<dd>
<p>初步： MT安全环境语言环境| AS不安全损坏的堆锁dlopen | AC不安全损坏的锁内存fd |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>此功能类似于<code>sprintf</code>功能（请参阅<a href="Formatted-Input.html#Formatted-Input">格式化输入</a> ），但是可以在格式模板中显示的转换规范<var>template</var>专门用于打印日期和时间的组件<var>brokentime</var>根据当前为时间转换指定的语言环境（请参见<a href="Locales.html#Locales">Locales</a> ）和当前时区（请参见<a href="Time-Zone-Functions.html#Time-Zone-Functions">Time Zone Functions</a> ）。
</p>
<p>普通字符出现在<var>template</var>复制到输出字符串<var>s</var> ;这可以包括多字节字符序列。转换说明符由“ <samp>%</samp> '字符，后跟一个可选标志，该标志可以是下列之一。这些标志都是GNU扩展。前三个仅影响数字的输出：</p>
<dl compact>
<dt><code>_</code></dt>
<dd><p>该数字用空格填充。
</p>
</dd>
<dt><code>-</code></dt>
<dd><p>该数字根本没有填充。
</p>
</dd>
<dt><code>0</code></dt>
<dd><p>即使格式指定使用空格填充，该数字也将填充零。
</p>
</dd>
<dt><code>^</code></dt>
<dd><p>输出使用大写字符，但仅在可能的情况下使用（请参见<a href="Case-Conversion.html#Case-Conversion">Case Conversion</a> ）。
</p></dd>
</dl>

<p>默认操作是用零填充数字以使其保持恒定的宽度。不会填充以下所示范围的数字，因为它们没有自然的宽度。
</p>
<p>在标志之后，可以选择宽度的指定。用十进制表示法指定。如果字段输出的自然大小少于指定的字符数，则将结果写到正确的位置，并将空格填充到给定的大小。
</p>
<p>可选修饰符可以遵循可选标志和宽度规范。修饰符由POSIX.2-1992和ISO C99 <!-- /@w -->首先标准化，它们是：</p>
<dl compact>
<dt><code>E</code></dt>
<dd><p>使用语言环境的替代表示形式表示日期和时间。此修饰符适用于<code>%c</code> ， <code>%C</code> ， <code>%x</code> ， <code>%X</code> ， <code>%y</code>和<code>%Y</code>格式说明符。例如，在日语语言环境中， <code>%Ex</code>可能会根据日本天皇的统治产生日期格式。
</p>
</dd>
<dt><code>O</code></dt>
<dd><p>对于所有产生数字的格式说明符：使用语言环境的替代数字符号。
</p>
<p>用<code>%B</code> ， <code>%b</code>和<code>%h</code> ：使用语法形式来表示当月份由其自身命名时适用的月份名称，而不是将月份用作完整日期的一部分时适用的格式。这是一个GNU扩展。
</p></dd>
</dl>

<p>如果格式支持修饰符，但没有其他可用的表示形式，则将其忽略。
</p>
<p>转换说明符以从以下列表中提取的格式说明符结尾。整体 ' <samp>%</samp> '序列在输出字符串中替换如下：</p>
<dl compact>
<dt><code>%a</code></dt>
<dd><p>根据当前语言环境的缩写的工作日名称。
</p>
</dd>
<dt><code>%A</code></dt>
<dd><p>根据当前语言环境的完整工作日名称。
</p>
</dd>
<dt><code>%b</code></dt>
<dd><p>根据当前语言环境的缩写月份名称，当月份是完整日期的一部分时使用的语法形式。作为GNU扩展， <code>O</code>可以使用修饰符（ <code>%Ob</code> ）以获取当月份本身命名时使用的语法形式。
</p>
</dd>
<dt><code>%B</code></dt>
<dd><p>根据当前语言环境的完整月份名称，当月份是完整日期的一部分时使用的语法形式。作为GNU扩展， <code>O</code>可以使用修饰符（ <code>%OB</code> ）以获取当月份本身命名时使用的语法形式。
</p>
<p>请注意，并非所有语言都需要两种不同形式的月份名称，因此，由<code>%B</code>和<code>%OB</code>和<code>%b</code>和<code>%Ob</code> ，可以相同，也可以不相同，具体取决于语言环境。
</p>
</dd>
<dt><code>%c</code></dt>
<dd><p>当前语言环境的首选日历时间表示形式。
</p>
</dd>
<dt><code>%C</code></dt>
<dd><p>一年的世纪。这等于不大于年份除以100的最大整数。
</p>
<p>如果<code>E</code>指定了修饰符（ <code>%EC</code> ），而是在语言环境的备用日历中产生年份的名称（例如，时代名称）。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。
</p>
</dd>
<dt><code>%d</code></dt>
<dd><p>以十进制数字表示的月份中的日期（范围<code>01</code>通过<code>31</code> ）。
</p>
</dd>
<dt><code>%D</code></dt>
<dd><p>使用格式的日期<code>%m/%d/%y</code> 。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。
</p>
</dd>
<dt><code>%e</code></dt>
<dd><p>每月的某日像<code>%d</code> ，但用空格填充（范围<code>1</code>通过<code>31</code> ）。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。
</p>
</dd>
<dt><code>%F</code></dt>
<dd><p>使用格式的日期<code>%Y-%m-%d</code> 。这是ISO 8601 <!-- /@w -->标准中指定的格式，并且是所有用途的首选格式。
</p>
<p>此格式首先由ISO C99 <!-- /@w -->和POSIX.1-2001标准化。
</p>
</dd>
<dt><code>%g</code></dt>
<dd><p>对应于ISO周号的年份，但没有世纪（范围<code>00</code>通过<code>99</code> ）。格式和值与<code>%y</code> ，除非有ISO周号（请参见<code>%V</code> ）属于上一年或下一年，则改用该年份。
</p>
<p>此格式首先由ISO C99 <!-- /@w -->和POSIX.1-2001标准化。
</p>
</dd>
<dt><code>%G</code></dt>
<dd><p>对应于ISO周编号的年份。格式和值与<code>%Y</code> ，除非有ISO周号（请参见<code>%V</code> ）属于上一年或下一年，则改用该年份。
</p>
<p>该格式最初是由ISO C99 <!-- /@w -->和POSIX.1-2001标准化的，但是以前可以作为GNU扩展使用。
</p>
</dd>
<dt><code>%h</code></dt>
<dd><p>根据当前语言环境的缩写月份名称。动作与<code>%b</code> 。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。
</p>
</dd>
<dt><code>%H</code></dt>
<dd><p>使用24小时制（范围为小数点的小时） <code>00</code>通过<code>23</code> ）。
</p>
</dd>
<dt><code>%I</code></dt>
<dd><p>以12小时制（范围为小时）的十进制数字表示的小时<code>01</code>通过<code>12</code> ）。
</p>
</dd>
<dt><code>%j</code></dt>
<dd><p>一年中的天，以十进制数字表示（范围<code>001</code>通过<code>366</code> ）。
</p>
</dd>
<dt><code>%k</code></dt>
<dd><p>以十进制数表示的小时，使用24小时制<code>%H</code> ，但用空格填充（范围<code>0</code>通过<code>23</code> ）。
</p>
<p>此格式是GNU扩展。
</p>
</dd>
<dt><code>%l</code></dt>
<dd><p>以十进制数表示的小时，使用12小时制<code>%I</code> ，但用空格填充（范围<code>1</code>通过<code>12</code> ）。
</p>
<p>此格式是GNU扩展。
</p>
</dd>
<dt><code>%m</code></dt>
<dd><p>以十进制数表示的月份（范围<code>01</code>通过<code>12</code> ）。
</p>
</dd>
<dt><code>%M</code></dt>
<dd><p>分钟为十进制数字（范围<code>00</code>通过<code>59</code> ）。
</p>
</dd>
<dt><code>%n</code></dt>
<dd><p>单个“ <samp>\n</samp> '（换行符）字符。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。
</p>
</dd>
<dt><code>%p</code></dt>
<dd><p>要么<samp>AM</samp> ' 要么 ' <samp>PM</samp> '，根据给定的时间值；或当前语言环境的相应字符串。中午被视为“ <samp>PM</samp> '和午夜为' <samp>AM</samp> '。在大多数地区， <samp>AM</samp> '/' <samp>PM</samp>在这种情况下，不支持'格式<code>"%p"</code>产生一个空字符串。
</p>
</dd>
<dt><code>%P</code></dt>
<dd><p>要么<samp>am</samp> ' 要么 ' <samp>pm</samp> '，根据给定的时间值；或当前语言环境的相应字符串，以小写字母打印。中午被视为“ <samp>pm</samp> '和午夜为' <samp>am</samp> '。在大多数地区， <samp>AM</samp> '/' <samp>PM</samp>在这种情况下，不支持'格式<code>"%P"</code>产生一个空字符串。
</p>
<p>此格式是GNU扩展。
</p>
</dd>
<dt><code>%r</code></dt>
<dd><p>使用当前语言环境的AM / PM格式的完整日历时间。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。在POSIX语言环境中，此格式等效于<code>%I:%M:%S %p</code> 。
</p>
</dd>
<dt><code>%R</code></dt>
<dd><p>使用格式的十进制小时和分钟<code>%H:%M</code> 。
</p>
<p>该格式最初是由ISO C99 <!-- /@w -->和POSIX.1-2001标准化的，但是以前可以作为GNU扩展使用。
</p>
</dd>
<dt><code>%s</code></dt>
<dd><p>自该纪元以来的秒数，即自1970-01-01 00:00:00 UTC。除非获得leap秒支持，否则不计算秒。
</p>
<p>此格式是GNU扩展。
</p>
</dd>
<dt><code>%S</code></dt>
<dd><p>秒数（十进制数）（范围<code>00</code>通过<code>60</code> ）。
</p>
</dd>
<dt><code>%t</code></dt>
<dd><p>单个“ <samp>\t</samp> '（制表符）字符。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。
</p>
</dd>
<dt><code>%T</code></dt>
<dd><p>使用格式的十进制数字表示一天中的时间<code>%H:%M:%S</code> 。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。
</p>
</dd>
<dt><code>%u</code></dt>
<dd><p>星期几作为十进制数字（范围<code>1</code>通过<code>7</code> ），星期一是<code>1</code> 。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。
</p>
</dd>
<dt><code>%U</code></dt>
<dd><p>当前年份的星期数，以十进制数表示（范围<code>00</code>通过<code>53</code> ），从第一个星期日作为第一个星期的第一天开始。一年中第一个星期日之前的几天被认为是星期几<code>00</code> 。
</p>
</dd>
<dt><code>%V</code></dt>
<dd><p>ISO 8601：1988 <!-- /@w -->周编号为十进制数字（范围<code>01</code>通过<code>53</code> ）。ISO周从星期一开始，到星期日结束。周<code>01</code>一年中的第一天是该年大部分时间的第一周；这等效于包含一年中第一个星期四的一周，也等效于包含1月4日的一周。周<code>01</code>一年中可以包含前一年的天数。前一周<code>01</code>一年的最后一周<code>52</code>要么<code>53</code> ），即使其中包含来自新年的日期。
</p>
<p>此格式首先由POSIX.2-1992和ISO C99 <!-- /@w -->标准化。
</p>
</dd>
<dt><code>%w</code></dt>
<dd><p>星期几作为十进制数字（范围<code>0</code>通过<code>6</code> ），星期日是<code>0</code> 。
</p>
</dd>
<dt><code>%W</code></dt>
<dd><p>当前年份的星期数，以十进制数表示（范围<code>00</code>通过<code>53</code> ），从第一个星期一作为第一个星期的第一天开始。一年中第一个星期一之前的所有天均视为星期<code>00</code> 。
</p>
</dd>
<dt><code>%x</code></dt>
<dd><p>当前语言环境的首选日期表示形式。
</p>
</dd>
<dt><code>%X</code></dt>
<dd><p>当前语言环境的首选时间表示形式。
</p>
</dd>
<dt><code>%y</code></dt>
<dd><p>没有世纪的年份作为十进制数字（范围<code>00</code>通过<code>99</code> ）。这等于年份取模100。
</p>
<p>如果<code>E</code>指定了修饰符（ <code>%Ey</code> ），而是根据特定于语言环境的替代日历生成年份。不像<code>%y</code> ，该数量<em>不会以</em> 100为模减少。但是，默认情况下，它会被零填充到最少两位数字（这可以由显式字段宽度或由<code>_</code>和<code>-</code>标志）。
</p>
</dd>
<dt><code>%Y</code></dt>
<dd><p>使用公历的十进制数字形式的年份。前年<code>1</code>编号<code>0</code> ， <code>-1</code> ， 等等。
</p>
<p>如果<code>E</code>指定了修饰符（ <code>%EY</code> ），而是根据语言环境的替代日历生成年份的完整表示。通常，这将是由<code>%EC</code>和<code>%Ey</code> 。作为GNU扩展，格式标志<code>_</code>要么<code>-</code>可以与此转换说明符一起使用；它们影响年份数字的打印方式。
</p>
</dd>
<dt><code>%z</code></dt>
<dd><p>RFC 822 <!-- /@w --> / ISO 8601：1988 <!-- /@w -->样式数字时区（例如， <code>-0600</code>要么<code>+0100</code> ），如果无法确定时区，则不执行任何操作。
</p>
<p>此格式最初是由ISO C99 <!-- /@w -->和POSIX.1-2001标准化的，但以前可以作为GNU扩展使用。
</p>
<p>在POSIX语言环境中，完整的RFC 822 <!-- /@w -->时间戳由“ <samp>"%a, %d %b %Y %H:%M:%S %z"</samp> ' <!-- /@w --> （或等效的' <samp>"%a, %d %b %Y %T %z"</samp> ' <!-- /@w --> ）。
</p>
</dd>
<dt><code>%Z</code></dt>
<dd><p>时区缩写（如果无法确定时区，则为空）。
</p>
</dd>
<dt><code>%%</code></dt>
<dd><p>文字' <samp>%</samp>字符。
</p></dd>
</dl>

<p>的<var>size</var>参数可用于指定要存储在数组中的最大字符数<var>s</var> ，包括终止的空字符。如果格式化时间要求超过<var>size</var>字符， <code>strftime</code>返回零，数组内容<var>s</var>未定义。否则，返回值指示数组中放置的字符数<var>s</var> ，不包括终止的空字符。
</p>
<p><em>警告：</em> ISO C <!-- /@w -->规定的返回值约定可能会在某些情况下导致问题。对于某些格式字符串和某些区域设置，输出实际上可以是空字符串，并且仅通过测试返回值就无法发现该字符串。例如，在大多数语言环境中，不支持AM / PM时间格式（世界上大多数地区使用24小时制）。在这样的地区<code>"%p"</code>将返回空字符串，即返回值为零。要检测这种情况，应使用类似于以下代码的内容：</p>
<div class="example">
<pre class="example">buf[0] = '\1';
len = strftime (buf, bufsize, format, tp);
if (len == 0 &amp;&amp; buf[0] != '\0')
  {
    /* Something went wrong in the strftime call.  */
    &hellip;
  }
</pre></div>

<p>如果<var>s</var>是一个空指针， <code>strftime</code>实际上不写任何东西，而是返回它应该写的字符数。
</p>
<p>呼唤<code>strftime</code>也将当前时区设置为<code>tzset</code>被称为; <code>strftime</code>使用此信息代替<var>brokentime</var>的<code>tm_gmtoff</code>和<code>tm_zone</code>成员。请参阅<a href="Time-Zone-Functions.html#Time-Zone-Functions">时区功能</a> 。
</p>
<p>举一个例子<code>strftime</code> ，请参阅<a href="Time-Functions-Example.html#Time-Functions-Example">时间函数示例</a> 。
</p></dd></dl>

<dl>
<dt id="index-wcsftime">函数： <em>size_t</em> <strong>wcsftime</strong> <em>（wchar_t * <var>s</var> ，size_t <var>size</var> ，const wchar_t * <var>template</var> ，const struct tm * <var>brokentime</var> ）</em></dt>
<dd>
<p>初步： MT安全环境语言环境| AS不安全损坏的堆锁dlopen | AC不安全损坏的锁内存fd |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>wcsftime</code>功能相当于<code>strftime</code>可以在宽字符串上操作，但功能不同。存储结果的缓冲区，由指向<var>s</var> ，必须是一个宽字符数组。参数<var>size</var>它指定输出缓冲区的大小给出的是宽字符数，而不是字节数。
</p>
<p>还有格式字符串<var>template</var>是宽字符串。由于指定格式字符串所需的所有字符都在基本字符集中，因此可以很方便地使用C语言在C源代码中写入格式字符串。 <code>L"…"</code>符号。参数<var>brokentime</var>的含义与<code>strftime</code>呼叫。
</p>
<p>的<code>wcsftime</code>函数支持与相同的标志，修饰符和格式说明符<code>strftime</code>功能。
</p>
<p>的返回值<code>wcsftime</code>是存储在其中的宽字符数<code>s</code> 。当必须写入的字符数超出缓冲区中的字符数时<var>s</var>返回值为零，存在与<code>strftime</code>文档。
</p></dd></dl>

<hr>
<div class="header">
<p>下一篇： <a href="Parsing-Date-and-Time.html#Parsing-Date-and-Time" rel="next" accesskey="n">解析日期和时间</a> ，上一篇： <a href="High-Accuracy-Clock.html#High-Accuracy-Clock" rel="prev" accesskey="p">高精度时钟</a> ，上一篇： <a href="Calendar-Time.html#Calendar-Time" rel="up" accesskey="u">日历时间</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>