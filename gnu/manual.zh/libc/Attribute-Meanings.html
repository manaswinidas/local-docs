<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>属性含义（GNU C库）</title>

<meta name="description" content="Attribute Meanings (The GNU C Library)">
<meta name="keywords" content="Attribute Meanings (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="File-Attributes.html#File-Attributes" rel="up" title="File Attributes">
<link href="Reading-Attributes.html#Reading-Attributes" rel="next" title="Reading Attributes">
<link href="File-Attributes.html#File-Attributes" rel="prev" title="File Attributes">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Attribute-Meanings"></span><div class="header">
<p>下一页： <a href="Reading-Attributes.html#Reading-Attributes" rel="next" accesskey="n">阅读属性</a> ，上一篇： <a href="File-Attributes.html#File-Attributes" rel="up" accesskey="u">文件属性</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="The-meaning-of-the-File-Attributes"></span><h4 class="subsection">14.9.1文件属性的含义</h4>
<span id="index-status-of-a-file"></span>
<span id="index-attributes-of-a-file"></span>
<span id="index-file-attributes"></span>

<p>当您读取文件的属性时，它们会以一种称为<code>struct stat</code> 。本节介绍属性的名称，它们的数据类型及其含义。有关读取文件属性的功能，请参见<a href="Reading-Attributes.html#Reading-Attributes">读取属性</a> 。
</p>
<p>头文件<samp>sys/stat.h</samp>声明本节中定义的所有符号。
<span id="index-sys_002fstat_002eh-2"></span>
</p>
<dl>
<dt id="index-struct-stat">数据类型： <strong>struct stat</strong></dt>
<dd>
<p>的<code>stat</code>结构类型用于返回有关文件属性的信息。它至少包含以下成员：</p>
<dl compact>
<dt><code>mode_t st_mode</code></dt>
<dd><p>指定文件的模式。这包括文件类型信息（请参阅“ <a href="Testing-File-Type.html#Testing-File-Type">测试文件类型”</a> ）和文件许可权位（请参见“ <a href="Permission-Bits.html#Permission-Bits">许可权位”</a> ）。
</p>
</dd>
<dt><code>ino_t st_ino</code></dt>
<dd><p>文件序列号，用于将该文件与同一设备上的所有其他文件区分开。
</p>
</dd>
<dt><code>dev_t st_dev</code></dt>
<dd><p>标识包含文件的设备。的<code>st_ino</code>和<code>st_dev</code>在一起，可以唯一地标识文件。的<code>st_dev</code>但是，重新启动或系统崩溃后该值不一定是一致的。
</p>
</dd>
<dt><code>nlink_t st_nlink</code></dt>
<dd><p>到文件的硬链接数。该计数跟踪该文件有多少目录条目。如果计数递减为零，则一旦没有进程保持打开状态，则文件本身将被丢弃。符号链接不计入总数。
</p>
</dd>
<dt><code>uid_t st_uid</code></dt>
<dd><p>文件所有者的用户标识。请参阅<a href="File-Owner.html#File-Owner">文件所有者</a> 。
</p>
</dd>
<dt><code>gid_t st_gid</code></dt>
<dd><p>文件的组ID。请参阅<a href="File-Owner.html#File-Owner">文件所有者</a> 。
</p>
</dd>
<dt><code>off_t st_size</code></dt>
<dd><p>这指定了常规文件的大小（以字节为单位）。对于实际上是设备的文件，此字段通常没有意义。对于符号链接，它指定链接所引用的文件名的长度。
</p>
</dd>
<dt><code>time_t st_atime</code></dt>
<dd><p>这是文件的最后访问时间。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>unsigned long int st_atime_usec</code></dt>
<dd><p>这是文件上次访问时间的一部分。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>time_t st_mtime</code></dt>
<dd><p>这是文件内容的最后修改时间。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>unsigned long int st_mtime_usec</code></dt>
<dd><p>这是最后一次修改文件内容的时间的一部分。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>time_t st_ctime</code></dt>
<dd><p>这是最后修改文件属性的时间。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>unsigned long int st_ctime_usec</code></dt>
<dd><p>这是最后一次修改文件属性的时间的一部分。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>blkcnt_t st_blocks</code></dt>
<dd><p>这是文件占用的磁盘空间量，以512字节块为单位。
</p>
<p>磁盘块的数量并不严格与文件大小成正比，这有两个原因：文件系统可能使用一些块进行内部记录保存；并且该文件可能是稀疏的-它可能具有包含零的“空洞”，但实际上并没有占用磁盘上的空间。
</p>
<p>您可以通过将此值与进行比较来判断（大约）文件是否稀疏<code>st_size</code> ， 像这样：</p>
<div class="example">
<pre class="example">(st.st_blocks * 512 &lt; st.st_size)
</pre></div>

<p>此测试不是完美的，因为稍微稀疏的文件可能根本不会被检测为稀疏。对于实际应用，这不是问题。
</p>
</dd>
<dt><code>unsigned int st_blksize</code></dt>
<dd><p>读取或写入此文件的最佳块大小，以字节为单位。您可以使用此大小来分配用于读取或写入文件的缓冲区空间。（这与<code>st_blocks</code> ）
</p></dd>
</dl>
</dd></dl>

<p>即使在32位计算机上，大文件支持（LFS）的扩展名也需要能够处理最大2 ^ 63的文件的类型。因此，对<code>struct stat</code>是必要的。
</p>
<dl>
<dt id="index-struct-stat64">数据类型： <strong>struct stat64</strong></dt>
<dd>
<p>此类型的成员与的成员相同，并且名称相同<code>struct stat</code> 。唯一的区别是成员<code>st_ino</code> ， <code>st_size</code>和<code>st_blocks</code>具有不同的类型以支持更大的值。
</p>
<dl compact>
<dt><code>mode_t st_mode</code></dt>
<dd><p>指定文件的模式。这包括文件类型信息（请参阅“ <a href="Testing-File-Type.html#Testing-File-Type">测试文件类型”</a> ）和文件许可权位（请参见“ <a href="Permission-Bits.html#Permission-Bits">许可权位”</a> ）。
</p>
</dd>
<dt><code>ino64_t st_ino</code></dt>
<dd><p>文件序列号，用于将该文件与同一设备上的所有其他文件区分开。
</p>
</dd>
<dt><code>dev_t st_dev</code></dt>
<dd><p>标识包含文件的设备。的<code>st_ino</code>和<code>st_dev</code>在一起，可以唯一地标识文件。的<code>st_dev</code>但是，重新启动或系统崩溃后该值不一定是一致的。
</p>
</dd>
<dt><code>nlink_t st_nlink</code></dt>
<dd><p>到文件的硬链接数。该计数跟踪该文件有多少目录条目。如果计数递减为零，则一旦没有进程保持打开状态，则文件本身将被丢弃。符号链接不计入总数。
</p>
</dd>
<dt><code>uid_t st_uid</code></dt>
<dd><p>文件所有者的用户标识。请参阅<a href="File-Owner.html#File-Owner">文件所有者</a> 。
</p>
</dd>
<dt><code>gid_t st_gid</code></dt>
<dd><p>文件的组ID。请参阅<a href="File-Owner.html#File-Owner">文件所有者</a> 。
</p>
</dd>
<dt><code>off64_t st_size</code></dt>
<dd><p>这指定了常规文件的大小（以字节为单位）。对于实际上是设备的文件，此字段通常没有意义。对于符号链接，它指定链接所引用的文件名的长度。
</p>
</dd>
<dt><code>time_t st_atime</code></dt>
<dd><p>这是文件的最后访问时间。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>unsigned long int st_atime_usec</code></dt>
<dd><p>这是文件上次访问时间的一部分。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>time_t st_mtime</code></dt>
<dd><p>这是文件内容的最后修改时间。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>unsigned long int st_mtime_usec</code></dt>
<dd><p>这是最后一次修改文件内容的时间的一部分。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>time_t st_ctime</code></dt>
<dd><p>这是最后修改文件属性的时间。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>unsigned long int st_ctime_usec</code></dt>
<dd><p>这是最后一次修改文件属性的时间的一部分。请参阅<a href="File-Times.html#File-Times">文件时间</a> 。
</p>
</dd>
<dt><code>blkcnt64_t st_blocks</code></dt>
<dd><p>这是文件占用的磁盘空间量，以512字节块为单位。
</p>
</dd>
<dt><code>unsigned int st_blksize</code></dt>
<dd><p>读取写入此文件的最佳块大小，以字节为单位。您可以使用此大小来分配缓冲区空间以读取写入文件。（这与<code>st_blocks</code> ）
</p></dd>
</dl>
</dd></dl>

<p>一些文件属性具有特殊的数据类型名称，这些名称专门针对那些属性而存在。（它们都是您知道和喜欢的知名整数类型的别名。）这些typedef名称在头文件中定义<samp>sys/types.h</samp>以及在<samp>sys/stat.h</samp> 。这是它们的列表。
</p>
<dl>
<dt id="index-mode_005ft">数据类型： <strong>mode_t</strong></dt>
<dd>
<p>这是用于表示文件模式的整数数据类型。在GNU C库中，这是一个无符号类型，范围不小于<code>unsigned int</code> 。
</p></dd></dl>

<span id="index-inode-number"></span>
<dl>
<dt id="index-ino_005ft">数据类型： <strong>ino_t</strong></dt>
<dd>
<p>这是一种无符号整数类型，用于表示文件序列号。（在Unix行话中，这些有时也称为<em>inode号</em> 。）在GNU C库中，这种类型的范围不小于<code>unsigned int</code> 。
</p>
<p>如果源使用<code>_FILE_OFFSET_BITS == 64</code>这种类型被透明地替换为<code>ino64_t</code> 。
</p></dd></dl>

<dl>
<dt id="index-ino64_005ft">数据类型： <strong>ino64_t</strong></dt>
<dd>
<p>这是一种无符号整数类型，用于表示在LFS中使用的文件序列号。在GNU C库中，这种类型的范围不小于<code>unsigned int</code> 。
</p>
<p>使用时<code>_FILE_OFFSET_BITS == 64</code>此类型可在名称下使用<code>ino_t</code> 。
</p></dd></dl>

<dl>
<dt id="index-dev_005ft">资料类型： <strong>dev_t</strong></dt>
<dd>
<p>这是一种算术数据类型，用于表示文件设备编号。在GNU C库中，这是一个整数类型，不小于<code>int</code> 。
</p></dd></dl>

<dl>
<dt id="index-nlink_005ft">数据类型： <strong>nlink_t</strong></dt>
<dd>
<p>这是一种整数类型，用于表示文件链接计数。
</p></dd></dl>

<dl>
<dt id="index-blkcnt_005ft">资料类型： <strong>blkcnt_t</strong></dt>
<dd>
<p>这是一种有符号的整数类型，用于表示块计数。在GNU C库中，这种类型的范围不小于<code>int</code> 。
</p>
<p>如果源使用<code>_FILE_OFFSET_BITS == 64</code>这种类型被透明地替换为<code>blkcnt64_t</code> 。
</p></dd></dl>

<dl>
<dt id="index-blkcnt64_005ft">资料类型： <strong>blkcnt64_t</strong></dt>
<dd>
<p>这是一个有符号的整数类型，用于表示在LFS中使用的块计数。在GNU C库中，这种类型的范围不小于<code>int</code> 。
</p>
<p>使用时<code>_FILE_OFFSET_BITS == 64</code>此类型可在名称下使用<code>blkcnt_t</code> 。
</p></dd></dl>

<hr>
<div class="header">
<p>下一页： <a href="Reading-Attributes.html#Reading-Attributes" rel="next" accesskey="n">阅读属性</a> ，上一篇： <a href="File-Attributes.html#File-Attributes" rel="up" accesskey="u">文件属性</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>