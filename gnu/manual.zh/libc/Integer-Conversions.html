<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>整数转换（GNU C库）</title>

<meta name="description" content="Integer Conversions (The GNU C Library)">
<meta name="keywords" content="Integer Conversions (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Formatted-Output.html#Formatted-Output" rel="up" title="Formatted Output">
<link href="Floating_002dPoint-Conversions.html#Floating_002dPoint-Conversions" rel="next" title="Floating-Point Conversions">
<link href="Table-of-Output-Conversions.html#Table-of-Output-Conversions" rel="prev" title="Table of Output Conversions">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Integer-Conversions"></span><div class="header">
<p>下一篇： <a href="Floating_002dPoint-Conversions.html#Floating_002dPoint-Conversions" rel="next" accesskey="n">浮点转换</a> ，上一篇： <a href="Table-of-Output-Conversions.html#Table-of-Output-Conversions" rel="prev" accesskey="p">输出转换表</a> ，上一篇： <a href="Formatted-Output.html#Formatted-Output" rel="up" accesskey="u">格式化输出</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Integer-Conversions-1"></span><h4 class="subsection">12.12.4整数转换</h4>

<p>本节介绍了“ <samp>%d</samp> '，' <samp>%i</samp> '，' <samp>%o</samp> '，' <samp>%u</samp> '，' <samp>%x</samp> '和' <samp>%X</samp> '转换规格。这些转换以各种格式打印整数。
</p>
<p>' <samp>%d</samp> '和' <samp>%i</samp> '转换规格都打印<code>int</code>参数为带符号的十进制数字；而<samp>%o</samp> '，' <samp>%u</samp> '和' <samp>%x</samp> '将参数分别输出为无符号的八进制，十进制或十六进制数字。' <samp>%X</samp> '转换规范就像' <samp>%x</samp> '除了使用字符' <samp>ABCDEF</samp>以数字代替“ <samp>abcdef</samp> '。
</p>
<p>以下标志是有意义的：</p>
<dl compact>
<dt>' <samp>-</samp> '</dt>
<dd><p>在结果中左对齐（而不是正常的右对齐）。
</p>
</dd>
<dt>' <samp>+</samp> '</dt>
<dd><p>对于已签名的“ <samp>%d</samp> '和' <samp>%i</samp> '转换，如果该值为正，则打印一个加号。
</p>
</dd>
<dt>' <samp></samp> '</dt>
<dd><p>对于已签名的“ <samp>%d</samp> '和' <samp>%i</samp> '转换，如果结果不是以加号或减号开头，请在其前面加上空格字符。自“ <samp>+</samp> '标志可确保结果包含一个符号，如果您同时提供这两个标志，则将忽略该标志。
</p>
</dd>
<dt>' <samp>#</samp> '</dt>
<dd><p>为了 ' <samp>%o</samp> '转换，这将迫使前导数字为' <samp>0</samp> '，好像通过提高精度。对于<samp>%x</samp> ' 要么 ' <samp>%X</samp> '，这是前缀' <samp>0x</samp> ' 要么 ' <samp>0X</samp> '（分别）得出结果。这对“ <samp>%d</samp> '，' <samp>%i</samp> '， 要么 ' <samp>%u</samp>转换。使用此标志产生的输出可以由<code>strtoul</code>函数（请参阅<a href="Parsing-of-Integers.html#Parsing-of-Integers">整数解析</a> ）和<code>scanf</code>与“ <samp>%i</samp>转换（请参见<a href="Numeric-Input-Conversions.html#Numeric-Input-Conversions">数字输入转换</a> ）。
</p>
</dd>
<dt>' <samp>'</samp> '</dt>
<dd><p>将数字分成几组，具体取决于为该语言环境指定的语言环境<code>LC_NUMERIC</code>类别;参见<a href="General-Numeric.html#General-Numeric">通用数值</a> 。此标志是GNU扩展。
</p>
</dd>
<dt>' <samp>0</samp> '</dt>
<dd><p>用零而不是空格填充字段。零放在任何符号或基数指示之后。如果“ <samp>-</samp>也指定了'标志，或者指定了精度。
</p></dd>
</dl>

<p>如果提供了精度，则它指定要显示的最小位数。必要时会产生前导零。如果不指定精度，则数字将按需要打印任意数量的数字。如果您以零的显式精度转换零值，则根本不会产生任何字符。
</p>
<p>如果没有类型修饰符，则对应的参数将被视为<code>int</code> （对于已签署的转化， <samp>%i</samp> '和' <samp>%d</samp> '） 要么<code>unsigned int</code> （对于未签名的转化， <samp>%o</samp> '，' <samp>%u</samp> '，' <samp>%x</samp> '和' <samp>%X</samp> '）。回想起<code>printf</code>和朋友是随随便便的<code>char</code>和<code>short</code>参数自动转换为<code>int</code>默认情况下，促销活动。对于其他整数类型的参数，可以使用以下修饰符：</p>
<dl compact>
<dt>' <samp>hh</samp> '</dt>
<dd><p>指定参数为<code>signed char</code>要么<code>unsigned char</code> ， 作为适当的。一种<code>char</code>参数转换为<code>int</code>要么<code>unsigned int</code>无论如何，默认情况下，参数会升迁，但“ <samp>hh</samp>修饰符表示将其转换回<code>char</code>再次。
</p>
<p>此修饰符是在ISO C99 <!-- /@w -->引入的。
</p>
</dd>
<dt>' <samp>h</samp> '</dt>
<dd><p>指定参数为<code>short int</code>要么<code>unsigned short int</code> ， 作为适当的。一种<code>short</code>参数转换为<code>int</code>要么<code>unsigned int</code>无论如何，默认情况下，参数会升迁，但“ <samp>h</samp>修饰符表示将其转换回<code>short</code>再次。
</p>
</dd>
<dt>' <samp>j</samp> '</dt>
<dd><p>指定参数为<code>intmax_t</code>要么<code>uintmax_t</code> ， 作为适当的。
</p>
<p>此修饰符是在ISO C99 <!-- /@w -->引入的。
</p>
</dd>
<dt>' <samp>l</samp> '</dt>
<dd><p>指定参数为<code>long int</code>要么<code>unsigned long int</code> ， 作为适当的。两个' <samp>l</samp>字符就像<samp>L</samp> '修饰符，如下。
</p>
<p>如果与“ <samp>%c</samp> ' 要么 ' <samp>%s</samp> '相应的参数分别视为宽字符或宽字符串。这种使用“ <samp>l</samp>是在ISO C90 <!-- /@w -->修订1 <!-- /@w -->引入的。
</p>
</dd>
<dt>' <samp>L</samp> '</dt>
<dt>' <samp>ll</samp> '</dt>
<dt>' <samp>q</samp> '</dt>
<dd><p>指定参数为<code>long long int</code> 。（此类型是GNU C编译器支持的扩展。在不支持超长整数的系统上，这与<code>long int</code> ）
</p>
<p>' <samp>q</samp> '修饰符是同一事物的另一个名称，来自4.4 BSD；一种<code>long long int</code> <!-- /@w -->有时也称为“四元组” <code>int</code> 。
</p>
</dd>
<dt>' <samp>t</samp> '</dt>
<dd><p>指定参数为<code>ptrdiff_t</code> 。
</p>
<p>此修饰符是在ISO C99 <!-- /@w -->引入的。
</p>
</dd>
<dt>' <samp>z</samp> '</dt>
<dt>' <samp>Z</samp> '</dt>
<dd><p>指定参数为<code>size_t</code> 。
</p>
<p>' <samp>z</samp>是在ISO C99 <!-- /@w -->引入的。 ' <samp>Z</samp> '是在此添加之前的GNU扩展，因此不应在新代码中使用。
</p></dd>
</dl>

<p>这是一个例子。使用模板字符串：</p>
<div class="example">
<pre class="example">&quot;|%5d|%-5d|%+5d|%+-5d|% 5d|%05d|%5.0d|%5.2d|%d|\n&quot;
</pre></div>

<p>使用“ <samp>%d</samp>转换后的结果如下：</p>
<div class="example">
<pre class="example">|    0|0    |   +0|+0   |    0|00000|     |   00|0|
|    1|1    |   +1|+1   |    1|00001|    1|   01|1|
|   -1|-1   |   -1|-1   |   -1|-0001|   -1|  -01|-1|
|100000|100000|+100000|+100000| 100000|100000|100000|100000|100000|
</pre></div>

<p>特别要注意的是，在最后一种情况下，如果数字太大而无法满足指定的最小字段宽度，会发生什么情况。
</p>
<p>以下是一些更多示例，展示了如何使用模板字符串在各种格式选项下打印无符号整数：</p>
<div class="example">
<pre class="example">&quot;|%5u|%5o|%5x|%5X|%#5o|%#5x|%#5X|%#10.8x|\n&quot;
</pre></div>

<div class="example">
<pre class="example">|    0|    0|    0|    0|    0|    0|    0|  00000000|
|    1|    1|    1|    1|   01|  0x1|  0X1|0x00000001|
|100000|303240|186a0|186A0|0303240|0x186a0|0X186A0|0x000186a0|
</pre></div>


<hr>
<div class="header">
<p>下一篇： <a href="Floating_002dPoint-Conversions.html#Floating_002dPoint-Conversions" rel="next" accesskey="n">浮点转换</a> ，上一篇： <a href="Table-of-Output-Conversions.html#Table-of-Output-Conversions" rel="prev" accesskey="p">输出转换表</a> ，上一篇： <a href="Formatted-Output.html#Formatted-Output" rel="up" accesskey="u">格式化输出</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>