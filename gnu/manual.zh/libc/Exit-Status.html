<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>退出状态（GNU C库）</title>

<meta name="description" content="Exit Status (The GNU C Library)">
<meta name="keywords" content="Exit Status (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Program-Termination.html#Program-Termination" rel="up" title="Program Termination">
<link href="Cleanups-on-Exit.html#Cleanups-on-Exit" rel="next" title="Cleanups on Exit">
<link href="Normal-Termination.html#Normal-Termination" rel="prev" title="Normal Termination">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Exit-Status"></span><div class="header">
<p>下一个： <a href="Cleanups-on-Exit.html#Cleanups-on-Exit" rel="next" accesskey="n">退出时清除</a> ，上一个： <a href="Normal-Termination.html#Normal-Termination" rel="prev" accesskey="p">正常终止</a> ，上： <a href="Program-Termination.html#Program-Termination" rel="up" accesskey="u">程序终止</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Exit-Status-1"></span><h4 class="subsection">25.7.2退出状态</h4>
<span id="index-exit-status"></span>

<p>程序退出时，可以使用<em>退出状态</em>将少量有关终止原因的信息返回给父进程。这是一个介于0到255之间的值，退出进程将其作为参数传递给<code>exit</code> 。
</p>
<p>通常，您应该使用退出状态报告有关成功或失败的非常广泛的信息。您无法提供有关失败原因的大量详细信息，并且大多数父进程无论如何都不需要太多详细信息。
</p>
<p>对于某些程序应返回哪种状态值有约定。最常见的约定是成功代表0，失败代表1。执行比较的程序使用不同的约定：它们使用状态1表示不匹配，使用状态2表示无法比较。如果现有约定有意义，则您的程序应遵循现有约定。
</p>
<p>一般惯例保留状态值128或更高以用于特殊目的。特别是，值128用于指示在子过程中无法执行另一个程序。并非普遍遵守该约定，但是在您的程序中遵循它是一个好主意。
</p>
<p><strong>警告：</strong>请勿尝试将错误数量用作退出状态。实际上这不是很有用。父进程通常不会关心发生了多少错误。更糟糕的是，它不起作用，因为状态值被截断为八位。因此，如果程序尝试报告256个错误，则父级将收到0个错误的报告，即成功。
</p>
<p>出于相同的原因，使用以下值无效<code>errno</code>作为退出状态-可以超过255。
</p>
<p><strong>可移植性说明：</strong>某些非POSIX系统对退出状态值使用不同的约定。为了提高可移植性，您可以使用宏<code>EXIT_SUCCESS</code>和<code>EXIT_FAILURE</code>分别表示成功和失败的常规状态值。它们在文件中声明<samp>stdlib.h</samp> 。
<span id="index-stdlib_002eh-21"></span>
</p>
<dl>
<dt id="index-EXIT_005fSUCCESS">巨集： <em>int</em> <strong>EXIT_SUCCESS</strong></dt>
<dd>
<p>此宏可以与<code>exit</code>表示程序成功完成的功能。
</p>
<p>在POSIX系统上，此宏的值为<code>0</code> 。在其他系统上，该值可能是其他一些（可能是非恒定的）整数表达式。
</p></dd></dl>

<dl>
<dt id="index-EXIT_005fFAILURE">巨集： <em>int</em> <strong>EXIT_FAILURE</strong></dt>
<dd>
<p>此宏可以与<code>exit</code>表示一般情况下程序未成功完成的功能。
</p>
<p>在POSIX系统上，此宏的值为<code>1</code> 。在其他系统上，该值可能是其他一些（可能是非恒定的）整数表达式。其他非零状态值也表示失败。某些程序使用不同的非零状态值来指示特定种类的“非成功”。例如， <code>diff</code>使用状态值<code>1</code>表示文件不同，并且<code>2</code>或更多意味着打开文件有困难。
</p></dd></dl>

<p>不要将程序的退出状态与进程的终止状态混淆。除了完成程序之外，还有很多方法可以终止进程。如果进程终止<em>是</em>由程序终止引起的（即， <code>exit</code> ），但程序的退出状态成为进程终止状态的一部分。
</p>
<hr>
<div class="header">
<p>下一个： <a href="Cleanups-on-Exit.html#Cleanups-on-Exit" rel="next" accesskey="n">退出时清除</a> ，上一个： <a href="Normal-Termination.html#Normal-Termination" rel="prev" accesskey="p">正常终止</a> ，上： <a href="Program-Termination.html#Program-Termination" rel="up" accesskey="u">程序终止</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>