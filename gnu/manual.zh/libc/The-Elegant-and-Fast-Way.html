<html ><head></head><body lang="zh-Hans" >﻿<!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>优雅而快捷的方式（GNU C库）</title>

<meta name="description" content="The Elegant and Fast Way (The GNU C Library)">
<meta name="keywords" content="The Elegant and Fast Way (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Locale-Information.html#Locale-Information" rel="up" title="Locale Information">
<link href="Formatting-Numbers.html#Formatting-Numbers" rel="next" title="Formatting Numbers">
<link href="Sign-of-Money-Amount.html#Sign-of-Money-Amount" rel="prev" title="Sign of Money Amount">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>





<span id="The-Elegant-and-Fast-Way"></span><div class="header">
<p>上<a href="The-Lame-Way-to-Locale-Data.html#The-Lame-Way-to-Locale-Data" rel="prev" accesskey="p">一篇</a> ： <a href="Locale-Information.html#Locale-Information" rel="up" accesskey="u">语言</a> <a href="The-Lame-Way-to-Locale-Data.html#The-Lame-Way-to-Locale-Data" rel="prev" accesskey="p">环境数据的</a> ， <a href="The-Lame-Way-to-Locale-Data.html#The-Lame-Way-to-Locale-Data" rel="prev" accesskey="p">脚方式</a> ，上一篇： <a href="Locale-Information.html#Locale-Information" rel="up" accesskey="u">语言环境信息</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Pinpoint-Access-to-Locale-Data"></span><h4 class="subsection">7.7.2精确访问语言环境数据</h4>

<p>在编写《 X / Open可移植性指南》时，作者意识到<code>localeconv</code>功能还不足以提供对语言环境信息的合理访问。打算在语言环境中可用的信息（稍后在POSIX.1标准中指定）需要使用更多方式来访问它。因此<code>nl_langinfo</code>功能介绍。
</p>
<dl>
<dt id="index-nl_005flanginfo">函数： <em>char *</em> <strong>nl_langinfo</strong> <em>（nl_item <var>item</var> ）</em></dt>
<dd>
<p>初步： MT安全区域| AS安全交流安全请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>nl_langinfo</code>函数可用于访问语言环境类别的各个元素。不像<code>localeconv</code>函数，它返回所有信息， <code>nl_langinfo</code>让呼叫者选择所需的信息。这非常快，并且多次调用此函数不是问题。
</p>
<p>第二个优点是，除了数字和货币格式信息外， <code>LC_TIME</code>和<code>LC_MESSAGES</code>类别可用。
</p>
<span id="index-langinfo_002eh"></span>
<p>类型<code>nl_item</code>在中定义<samp>nl_types.h</samp> 。争论<var>item</var>是标头中定义的数值<samp>langinfo.h</samp> 。X / Open标准定义以下值：</p>
<dl compact>
<dt><code>CODESET</code>
<span id="index-CODESET"></span>
</dt>
<dd><p><code>nl_langinfo</code>返回一个字符串，其中包含在所选语言环境中使用的编码字符集的名称。
</p>
</dd>
<dt><code>ABDAY_1</code>
<span id="index-ABDAY_005f1"></span>
</dt>
<dt><code>ABDAY_2</code>
<span id="index-ABDAY_005f2"></span>
</dt>
<dt><code>ABDAY_3</code>
<span id="index-ABDAY_005f3"></span>
</dt>
<dt><code>ABDAY_4</code>
<span id="index-ABDAY_005f4"></span>
</dt>
<dt><code>ABDAY_5</code>
<span id="index-ABDAY_005f5"></span>
</dt>
<dt><code>ABDAY_6</code>
<span id="index-ABDAY_005f6"></span>
</dt>
<dt><code>ABDAY_7</code>
<span id="index-ABDAY_005f7"></span>
</dt>
<dd><p><code>nl_langinfo</code>返回缩写的工作日名称。<code>ABDAY_1</code>对应于星期日。
</p></dd>
<dt><code>DAY_1</code>
<span id="index-DAY_005f1"></span>
</dt>
<dt><code>DAY_2</code>
<span id="index-DAY_005f2"></span>
</dt>
<dt><code>DAY_3</code>
<span id="index-DAY_005f3"></span>
</dt>
<dt><code>DAY_4</code>
<span id="index-DAY_005f4"></span>
</dt>
<dt><code>DAY_5</code>
<span id="index-DAY_005f5"></span>
</dt>
<dt><code>DAY_6</code>
<span id="index-DAY_005f6"></span>
</dt>
<dt><code>DAY_7</code>
<span id="index-DAY_005f7"></span>
</dt>
<dd><p>相似<code>ABDAY_1</code>等等，但此处的返回值是未缩写的工作日名称。
</p></dd>
<dt><code>ABMON_1</code>
<span id="index-ABMON_005f1"></span>
</dt>
<dt><code>ABMON_2</code>
<span id="index-ABMON_005f2"></span>
</dt>
<dt><code>ABMON_3</code>
<span id="index-ABMON_005f3"></span>
</dt>
<dt><code>ABMON_4</code>
<span id="index-ABMON_005f4"></span>
</dt>
<dt><code>ABMON_5</code>
<span id="index-ABMON_005f5"></span>
</dt>
<dt><code>ABMON_6</code>
<span id="index-ABMON_005f6"></span>
</dt>
<dt><code>ABMON_7</code>
<span id="index-ABMON_005f7"></span>
</dt>
<dt><code>ABMON_8</code>
<span id="index-ABMON_005f8"></span>
</dt>
<dt><code>ABMON_9</code>
<span id="index-ABMON_005f9"></span>
</dt>
<dt><code>ABMON_10</code>
<span id="index-ABMON_005f10"></span>
</dt>
<dt><code>ABMON_11</code>
<span id="index-ABMON_005f11"></span>
</dt>
<dt><code>ABMON_12</code>
<span id="index-ABMON_005f12"></span>
</dt>
<dd><p>返回值是月份的缩写名称，当月份构成完整日期的一部分时，采用语法形式。
<code>ABMON_1</code>对应于一月。
</p></dd>
<dt><code>MON_1</code>
<span id="index-MON_005f1"></span>
</dt>
<dt><code>MON_2</code>
<span id="index-MON_005f2"></span>
</dt>
<dt><code>MON_3</code>
<span id="index-MON_005f3"></span>
</dt>
<dt><code>MON_4</code>
<span id="index-MON_005f4"></span>
</dt>
<dt><code>MON_5</code>
<span id="index-MON_005f5"></span>
</dt>
<dt><code>MON_6</code>
<span id="index-MON_005f6"></span>
</dt>
<dt><code>MON_7</code>
<span id="index-MON_005f7"></span>
</dt>
<dt><code>MON_8</code>
<span id="index-MON_005f8"></span>
</dt>
<dt><code>MON_9</code>
<span id="index-MON_005f9"></span>
</dt>
<dt><code>MON_10</code>
<span id="index-MON_005f10"></span>
</dt>
<dt><code>MON_11</code>
<span id="index-MON_005f11"></span>
</dt>
<dt><code>MON_12</code>
<span id="index-MON_005f12"></span>
</dt>
<dd><p>相似<code>ABMON_1</code>等等，但此处不缩写月份名称。这是第一个值<code>MON_1</code>也对应于一月。
</p></dd>
<dt><code>ALTMON_1</code>
<span id="index-ALTMON_005f1"></span>
</dt>
<dt><code>ALTMON_2</code>
<span id="index-ALTMON_005f2"></span>
</dt>
<dt><code>ALTMON_3</code>
<span id="index-ALTMON_005f3"></span>
</dt>
<dt><code>ALTMON_4</code>
<span id="index-ALTMON_005f4"></span>
</dt>
<dt><code>ALTMON_5</code>
<span id="index-ALTMON_005f5"></span>
</dt>
<dt><code>ALTMON_6</code>
<span id="index-ALTMON_005f6"></span>
</dt>
<dt><code>ALTMON_7</code>
<span id="index-ALTMON_005f7"></span>
</dt>
<dt><code>ALTMON_8</code>
<span id="index-ALTMON_005f8"></span>
</dt>
<dt><code>ALTMON_9</code>
<span id="index-ALTMON_005f9"></span>
</dt>
<dt><code>ALTMON_10</code>
<span id="index-ALTMON_005f10"></span>
</dt>
<dt><code>ALTMON_11</code>
<span id="index-ALTMON_005f11"></span>
</dt>
<dt><code>ALTMON_12</code>
<span id="index-ALTMON_005f12"></span>
</dt>
<dd><p>相似<code>MON_1</code>等等，但此处的月份名称是月份本身命名时使用的语法形式。的<code>strftime</code>函数使用这些月份名称作为转换说明符<code>%OB</code> （请参阅<a href="Formatting-Calendar-Time.html#Formatting-Calendar-Time">格式化日历时间</a> ）。
</p>
<p>请注意，并非所有语言都需要两种不同形式的月份名称，因此返回的字符串用于<code>MON_…</code>和<code>ALTMON_…</code>可以相同也可以不同，这取决于语言环境。
</p>
<p><strong>注意：</strong> <code>ABALTMON_…</code>对应于<code>%Ob</code>目前未提供转换说明符，但预计将在将来的版本中提供。同时，可以使用<code>_NL_ABALTMON_…</code> 。
</p></dd>
<dt><code>AM_STR</code>
<span id="index-AM_005fSTR"></span>
</dt>
<dt><code>PM_STR</code>
<span id="index-PM_005fSTR"></span>
</dt>
<dd><p>返回值是可用于表示时间的字符串，从1到12的一个小时加上一个am / pm说明符。
</p>
<p>请注意，在不使用此时间表示形式的语言环境中，这些字符串可能为空，在这种情况下，根本无法使用am / pm格式。
</p></dd>
<dt><code>D_T_FMT</code>
<span id="index-D_005fT_005fFMT"></span>
</dt>
<dd><p>返回值可以用作以下格式的字符串<code>strftime</code>以特定于语言环境的方式表示时间和日期。
</p></dd>
<dt><code>D_FMT</code>
<span id="index-D_005fFMT"></span>
</dt>
<dd><p>返回值可以用作以下格式的字符串<code>strftime</code>以特定于语言环境的方式表示日期。
</p></dd>
<dt><code>T_FMT</code>
<span id="index-T_005fFMT"></span>
</dt>
<dd><p>返回值可以用作以下格式的字符串<code>strftime</code>以特定于语言环境的方式表示时间。
</p></dd>
<dt><code>T_FMT_AMPM</code>
<span id="index-T_005fFMT_005fAMPM"></span>
</dt>
<dd><p>返回值可以用作以下格式的字符串<code>strftime</code>以am / pm格式表示时间。
</p>
<p>请注意，如果am / pm格式对所选语言环境没有任何意义，则返回值可能与<code>T_FMT</code> 。
</p></dd>
<dt><code>ERA</code>
<span id="index-ERA"></span>
</dt>
<dd><p>返回值表示当前语言环境中使用的时代。
</p>
<p>大多数语言环境未定义此值。确实定义了此值的语言环境的一个示例是日语。在日本，日期的传统表示方式包括当时皇帝统治时期的时代名称。
</p>
<p>通常，没有必要直接使用此值。指定<code>E</code>格式字符串中的修饰符会导致<code>strftime</code>使用此信息的功能。未指定返回字符串的格式，因此，您不应在其他系统上假设它的知识。
</p></dd>
<dt><code>ERA_YEAR</code>
<span id="index-ERA_005fYEAR"></span>
</dt>
<dd><p>返回值给出了语言环境相关时代中的年份。至于<code>ERA</code>不必直接使用此值。
</p></dd>
<dt><code>ERA_D_T_FMT</code>
<span id="index-ERA_005fD_005fT_005fFMT"></span>
</dt>
<dd><p>此返回值可以用作以下格式的字符串： <code>strftime</code>以特定于地区的基于时代的方式表示日期和时间。
</p></dd>
<dt><code>ERA_D_FMT</code>
<span id="index-ERA_005fD_005fFMT"></span>
</dt>
<dd><p>此返回值可以用作以下格式的字符串： <code>strftime</code>以特定于地区的基于时代的方式表示日期。
</p></dd>
<dt><code>ERA_T_FMT</code>
<span id="index-ERA_005fT_005fFMT"></span>
</dt>
<dd><p>此返回值可以用作以下格式的字符串： <code>strftime</code>以特定于地区的基于时代的方式表示时间。
</p></dd>
<dt><code>ALT_DIGITS</code>
<span id="index-ALT_005fDIGITS"></span>
</dt>
<dd><p>返回值是最多<em>100个</em>值的表示形式，用于表示<em>0</em>到<em>99</em>的值。至于<code>ERA</code>此值并非旨在直接使用，而是通过<code>strftime</code>功能。当修饰符<code>O</code>使用“语言”格式，否则将使用数字表示小时，分钟，秒，工作日，月或周，而是使用适当的语言环境值。
</p></dd>
<dt><code>INT_CURR_SYMBOL</code>
<span id="index-INT_005fCURR_005fSYMBOL"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>int_curr_symbol</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>CURRENCY_SYMBOL</code>
<span id="index-CURRENCY_005fSYMBOL"></span>
</dt>
<dt><code>CRNCYSTR</code>
<span id="index-CRNCYSTR"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>currency_symbol</code>的元素<code>struct lconv</code> 。
</p>
<p><code>CRNCYSTR</code>是Unix98仍然需要的不推荐使用的别名。
</p></dd>
<dt><code>MON_DECIMAL_POINT</code>
<span id="index-MON_005fDECIMAL_005fPOINT"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>mon_decimal_point</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>MON_THOUSANDS_SEP</code>
<span id="index-MON_005fTHOUSANDS_005fSEP"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>mon_thousands_sep</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>MON_GROUPING</code>
<span id="index-MON_005fGROUPING"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>mon_grouping</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>POSITIVE_SIGN</code>
<span id="index-POSITIVE_005fSIGN"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>positive_sign</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>NEGATIVE_SIGN</code>
<span id="index-NEGATIVE_005fSIGN"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>negative_sign</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>INT_FRAC_DIGITS</code>
<span id="index-INT_005fFRAC_005fDIGITS"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>int_frac_digits</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>FRAC_DIGITS</code>
<span id="index-FRAC_005fDIGITS"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>frac_digits</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>P_CS_PRECEDES</code>
<span id="index-P_005fCS_005fPRECEDES"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>p_cs_precedes</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>P_SEP_BY_SPACE</code>
<span id="index-P_005fSEP_005fBY_005fSPACE"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>p_sep_by_space</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>N_CS_PRECEDES</code>
<span id="index-N_005fCS_005fPRECEDES"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>n_cs_precedes</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>N_SEP_BY_SPACE</code>
<span id="index-N_005fSEP_005fBY_005fSPACE"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>n_sep_by_space</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>P_SIGN_POSN</code>
<span id="index-P_005fSIGN_005fPOSN"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>p_sign_posn</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>N_SIGN_POSN</code>
<span id="index-N_005fSIGN_005fPOSN"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>n_sign_posn</code>的元素<code>struct lconv</code> 。
</p>
</dd>
<dt><code>INT_P_CS_PRECEDES</code>
<span id="index-INT_005fP_005fCS_005fPRECEDES"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>int_p_cs_precedes</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>INT_P_SEP_BY_SPACE</code>
<span id="index-INT_005fP_005fSEP_005fBY_005fSPACE"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>int_p_sep_by_space</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>INT_N_CS_PRECEDES</code>
<span id="index-INT_005fN_005fCS_005fPRECEDES"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>int_n_cs_precedes</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>INT_N_SEP_BY_SPACE</code>
<span id="index-INT_005fN_005fSEP_005fBY_005fSPACE"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>int_n_sep_by_space</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>INT_P_SIGN_POSN</code>
<span id="index-INT_005fP_005fSIGN_005fPOSN"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>int_p_sign_posn</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>INT_N_SIGN_POSN</code>
<span id="index-INT_005fN_005fSIGN_005fPOSN"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>int_n_sign_posn</code>的元素<code>struct lconv</code> 。
</p>
</dd>
<dt><code>DECIMAL_POINT</code>
<span id="index-DECIMAL_005fPOINT"></span>
</dt>
<dt><code>RADIXCHAR</code>
<span id="index-RADIXCHAR"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>decimal_point</code>的元素<code>struct lconv</code> 。
</p>
<p>名字<code>RADIXCHAR</code>是仍在Unix98中使用的不推荐使用的别名。
</p></dd>
<dt><code>THOUSANDS_SEP</code>
<span id="index-THOUSANDS_005fSEP"></span>
</dt>
<dt><code>THOUSEP</code>
<span id="index-THOUSEP"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>thousands_sep</code>的元素<code>struct lconv</code> 。
</p>
<p>名字<code>THOUSEP</code>是仍在Unix98中使用的不推荐使用的别名。
</p></dd>
<dt><code>GROUPING</code>
<span id="index-GROUPING"></span>
</dt>
<dd><p>与返回的值相同<code>localeconv</code>在里面<code>grouping</code>的元素<code>struct lconv</code> 。
</p></dd>
<dt><code>YESEXPR</code>
<span id="index-YESEXPR"></span>
</dt>
<dd><p>返回值是一个正则表达式，可以与<code>regex</code>识别对是/否问题的肯定回答的功能。GNU C库提供了<code>rpmatch</code>功能使应用程序更容易处理。
</p></dd>
<dt><code>NOEXPR</code>
<span id="index-NOEXPR"></span>
</dt>
<dd><p>返回值是一个正则表达式，可以与<code>regex</code>识别否定答案的功能。
</p></dd>
<dt><code>YESSTR</code>
<span id="index-YESSTR"></span>
</dt>
<dd><p>返回值是对是/否问题的肯定回答的特定于语言环境的转换。
</p>
<p>不建议使用此值，因为它是消息转换的一种非常特殊的情况，并且可以通过消息转换功能更好地进行处理（请参阅<a href="Message-Translation.html#Message-Translation">消息转换</a> ）。
</p>
<p>不建议使用此符号。而是应使用消息翻译。
</p></dd>
<dt><code>NOSTR</code>
<span id="index-NOSTR"></span>
</dt>
<dd><p>返回值是否定回答是/否问题的特定于语言环境的转换。说什么<code>YESSTR</code>在这里也是如此。
</p>
<p>不建议使用此符号。而是应使用消息翻译。
</p></dd>
</dl>

<p>文件<samp>langinfo.h</samp>定义了更多符号，但是没有一个是官方的。使用它们不是可移植的，并且返回值的格式可能会更改。因此，我们建议您不要使用它们。
</p>
<p>请注意，任何有效参数的返回值都可以在所有情况下使用（am / pm时间格式代码可能除外）。如果用户尚未为适当的类别选择任何语言环境， <code>nl_langinfo</code>从返回信息<code>"C"</code>语言环境。因此，可以使用以下示例中所示的功能。
</p>
<p>如果论点<var>item</var>无效，则返回指向空字符串的指针。
</p></dd></dl>

<p>一个例子<code>nl_langinfo</code> use是必须以特定于语言环境的方式打印给定日期和时间的功能。起初人们可能会认为，因为<code>strftime</code>在内部使用语言环境信息，编写如下内容就足够了：</p>
<div class="example">
<pre class="example">size_t
i18n_time_n_data (char *s, size_t len, const struct tm *tp)
{
  return strftime (s, len, &quot;%X %D&quot;, tp);
}
</pre></div>

<p>该格式不包含工作日或月份名称，因此可以在国际上使用。错误！产生的输出类似于<code>"hh:mm:ss MM/DD/YY"</code> 。此格式仅在美国可以识别。其他国家使用不同的格式。因此，该函数应这样重写：</p>
<div class="example">
<pre class="example">size_t
i18n_time_n_data (char *s, size_t len, const struct tm *tp)
{
  return strftime (s, len, nl_langinfo (D_T_FMT), tp);
}
</pre></div>

<p>现在，它使用程序运行时选择的语言环境的日期和时间格式。如果用户正确选择了语言环境，就不会对时间和日期格式产生误解。
</p>
<hr>
<div class="header">
<p>上<a href="The-Lame-Way-to-Locale-Data.html#The-Lame-Way-to-Locale-Data" rel="prev" accesskey="p">一篇</a> ： <a href="Locale-Information.html#Locale-Information" rel="up" accesskey="u">语言</a> <a href="The-Lame-Way-to-Locale-Data.html#The-Lame-Way-to-Locale-Data" rel="prev" accesskey="p">环境数据的</a> ， <a href="The-Lame-Way-to-Locale-Data.html#The-Lame-Way-to-Locale-Data" rel="prev" accesskey="p">脚方式</a> ，上一篇： <a href="Locale-Information.html#Locale-Information" rel="up" accesskey="u">语言环境信息</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>