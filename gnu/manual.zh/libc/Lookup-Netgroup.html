<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>查找网络组（GNU C库）</title>

<meta name="description" content="Lookup Netgroup (The GNU C Library)">
<meta name="keywords" content="Lookup Netgroup (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Netgroup-Database.html#Netgroup-Database" rel="up" title="Netgroup Database">
<link href="Netgroup-Membership.html#Netgroup-Membership" rel="next" title="Netgroup Membership">
<link href="Netgroup-Data.html#Netgroup-Data" rel="prev" title="Netgroup Data">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Lookup-Netgroup"></span><div class="header">
<p>下一篇： <a href="Netgroup-Membership.html#Netgroup-Membership" rel="next" accesskey="n">Netgroup成员资格</a> ，上一篇： <a href="Netgroup-Membership.html#Netgroup-Membership" rel="next" accesskey="n">Netgroup</a> <a href="Netgroup-Data.html#Netgroup-Data" rel="prev" accesskey="p">数据</a> ，上一篇： <a href="Netgroup-Membership.html#Netgroup-Membership" rel="next" accesskey="n">Netgroup</a> <a href="Netgroup-Database.html#Netgroup-Database" rel="up" accesskey="u">数据库</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Looking-up-one-Netgroup"></span><h4 class="subsection">30.16.2查找一个网络组</h4>

<p>网络组的查找功能与所有其他系统数据库处理功能有所不同。由于单个网络组可以包含许多条目，因此需要两步过程。首先选择一个网组，然后可以遍历该网组中的所有条目。这些函数在中声明<samp>netdb.h</samp> 。
</p>
<dl>
<dt id="index-setnetgrent">函数： <em>int</em> <strong>setnetgrent</strong> <em>（const char * <var>netgroup</var> ）</em></dt>
<dd>
<p>初步： MT不安全种族：netgrent语言环境| AS-Unsafe dlopen插件堆锁| AC不安全损坏的锁fd mem |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>对该函数的调用将初始化库的内部状态，以允许后续的<code>getnetgrent</code>遍历名称为netgroup的所有条目<var>netgroup</var> 。
</p>
<p>调用成功后（即，存在具有该名称的网络组时），返回值为<code>1</code> 。当返回值为<code>0</code>没有已知此名称的网络组或发生了其他错误。
</p></dd></dl>

<p>重要的是要记住，只有一个状态可以迭代网络组。即使程序员使用<code>getnetgrent_r</code>函数的结果并不是真正可重入的，因为一次只能处理一个网组。如果程序需要同时处理多个网络组，则她必须使用外部锁定来保护它。此问题是在SunOS的原始netgroups实现中引入的，由于我们必须保持兼容，因此无法更改此问题。
</p>
<p>其他一些功能也使用netgroups状态。目前这些是<code>innetgr</code>功能和部分的执行<code>compat</code> NSS实施的服务部分。
</p>
<dl>
<dt id="index-getnetgrent">函数： <em>int</em> <strong>getnetgrent</strong> <em>（char ** <var>hostp</var> ，字符** <var>userp</var> ，字符** <var>domainp</var> ）</em></dt>
<dd>
<p>初步： MT不安全种族：netgrent种族：netgrentbuf语言环境| AS-Unsafe dlopen插件堆锁| AC不安全损坏的锁fd mem |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>此函数返回当前所选网络组的下一个未处理条目。字符串指针，在参数中传递地址<var>hostp</var> ， <var>userp</var>和<var>domainp</var> ，成功调用后将包含指向适当字符串的指针。如果下一个条目中的字符串为空，则指针具有值<code>NULL</code> 。仅当未调用任何与netgroup相关的函数时，返回的字符串指针才有效。
</p>
<p>返回值为<code>1</code>如果成功读取了下一个条目。值<code>0</code>表示不存在其他条目或发生内部错误。
</p></dd></dl>

<dl>
<dt id="index-getnetgrent_005fr">函数： <em>int</em> <strong>getnetgrent_r</strong> <em>（char ** <var>hostp</var> ，字符** <var>userp</var> ，字符** <var>domainp</var> ，字符* <var>buffer</var> ，size_t <var>buflen</var> ）</em></dt>
<dd>
<p>初步： MT不安全种族：netgrent语言环境| AS-Unsafe dlopen插件堆锁| AC不安全损坏的锁fd mem |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>该功能类似于<code>getnetgrent</code>除了一个例外：字符串，三个字符串指针<var>hostp</var> ， <var>userp</var>和<var>domainp</var>指向，放在缓冲区中<var>buflen</var>字节起始于<var>buffer</var> 。这意味着即使调用了其他与网络组相关的函数，返回的值仍然有效。
</p>
<p>返回值为<code>1</code>如果成功读取了下一个条目，并且缓冲区包含足够的空间来将字符串放入其中。 <code>0</code>如果找不到更多条目，缓冲区太小或发生内部错误，则返回。
</p>
<p>此函数是GNU扩展。SunOS libc中的原始实现不提供此功能。
</p></dd></dl>

<dl>
<dt id="index-endnetgrent">函数： <em>void</em> <strong>endnetgrent</strong> <em>（void）</em></dt>
<dd>
<p>初步： MT-不安全种族：netgrent | AS-Unsafe dlopen插件堆锁| AC不安全损坏的锁fd mem |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>此功能释放所有分配给处理最后一个选定网络组的缓冲区。结果，由调用返回的所有字符串指针<code>getnetgrent</code>此后无效。
</p></dd></dl>

<hr>
<div class="header">
<p>下一篇： <a href="Netgroup-Membership.html#Netgroup-Membership" rel="next" accesskey="n">Netgroup成员资格</a> ，上一篇： <a href="Netgroup-Membership.html#Netgroup-Membership" rel="next" accesskey="n">Netgroup</a> <a href="Netgroup-Data.html#Netgroup-Data" rel="prev" accesskey="p">数据</a> ，上一篇： <a href="Netgroup-Membership.html#Netgroup-Membership" rel="next" accesskey="n">Netgroup</a> <a href="Netgroup-Database.html#Netgroup-Database" rel="up" accesskey="u">数据库</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>