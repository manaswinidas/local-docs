<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>权限位（GNU C库）</title>

<meta name="description" content="Permission Bits (The GNU C Library)">
<meta name="keywords" content="Permission Bits (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="File-Attributes.html#File-Attributes" rel="up" title="File Attributes">
<link href="Access-Permission.html#Access-Permission" rel="next" title="Access Permission">
<link href="File-Owner.html#File-Owner" rel="prev" title="File Owner">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Permission-Bits"></span><div class="header">
<p>下一篇： <a href="Access-Permission.html#Access-Permission" rel="next" accesskey="n">访问权限</a> ，上一篇： <a href="File-Owner.html#File-Owner" rel="prev" accesskey="p">文件所有者</a> ，上一篇： <a href="File-Attributes.html#File-Attributes" rel="up" accesskey="u">文件属性</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="The-Mode-Bits-for-Access-Permission"></span><h4 class="subsection">14.9.5访问权限的模式位</h4>

<p><em>文件模式</em> ，存储在<code>st_mode</code>文件属性的字段包含两种信息：文件类型代码和访问许可位。本节仅讨论访问权限位，该位控制谁可以读取或写入文件。有关文件类型代码的信息，请参见<a href="Testing-File-Type.html#Testing-File-Type">测试文件类型</a> 。
</p>
<p>本节中列出的所有符号都在头文件中定义<samp>sys/stat.h</samp> 。
<span id="index-sys_002fstat_002eh-4"></span>
</p>
<span id="index-file-permission-bits"></span>
<p>这些符号常量是为控制文件访问权限的文件模式位定义的：</p>
<dl compact>
<dt><code>S_IRUSR</code>
<span id="index-S_005fIRUSR"></span>
</dt>
<dt><code>S_IREAD</code>
<span id="index-S_005fIREAD"></span>
</dt>
<dd>

<p>文件所有者的读取权限位。在许多系统上，该位为0400。 <code>S_IREAD</code>是BSD兼容性提供的过时同义词。
</p>
</dd>
<dt><code>S_IWUSR</code>
<span id="index-S_005fIWUSR"></span>
</dt>
<dt><code>S_IWRITE</code>
<span id="index-S_005fIWRITE"></span>
</dt>
<dd>

<p>文件所有者的写许可权位。通常为0200。
<code><span class="nolinebreak">S_IWRITE</span></code> <!-- /@w -->是为BSD兼容性提供的过时同义词。
</p>
</dd>
<dt><code>S_IXUSR</code>
<span id="index-S_005fIXUSR"></span>
</dt>
<dt><code>S_IEXEC</code>
<span id="index-S_005fIEXEC"></span>
</dt>
<dd>

<p>对文件所有者执行（对于普通文件）或搜索（对于目录）权限位。通常为0100。 <code>S_IEXEC</code>是BSD兼容性提供的过时同义词。
</p>
</dd>
<dt><code>S_IRWXU</code>
<span id="index-S_005fIRWXU"></span>
</dt>
<dd>
<p>这等效于“ <samp>(S_IRUSR | S_IWUSR | S_IXUSR)</samp> '。
</p>
</dd>
<dt><code>S_IRGRP</code>
<span id="index-S_005fIRGRP"></span>
</dt>
<dd>
<p>文件的组所有者的读取权限位。通常是040。
</p>
</dd>
<dt><code>S_IWGRP</code>
<span id="index-S_005fIWGRP"></span>
</dt>
<dd>
<p>文件的组所有者的写许可权位。通常为020。
</p>
</dd>
<dt><code>S_IXGRP</code>
<span id="index-S_005fIXGRP"></span>
</dt>
<dd>
<p>执行或搜索文件组所有者的权限位。通常是010。
</p>
</dd>
<dt><code>S_IRWXG</code>
<span id="index-S_005fIRWXG"></span>
</dt>
<dd>
<p>这等效于“ <samp>(S_IRGRP | S_IWGRP | S_IXGRP)</samp> '。
</p>
</dd>
<dt><code>S_IROTH</code>
<span id="index-S_005fIROTH"></span>
</dt>
<dd>
<p>其他用户的读取权限位。通常是04。
</p>
</dd>
<dt><code>S_IWOTH</code>
<span id="index-S_005fIWOTH"></span>
</dt>
<dd>
<p>其他用户的写许可权位。通常是02。
</p>
</dd>
<dt><code>S_IXOTH</code>
<span id="index-S_005fIXOTH"></span>
</dt>
<dd>
<p>对其他用户执行或搜索权限位。通常是01。
</p>
</dd>
<dt><code>S_IRWXO</code>
<span id="index-S_005fIRWXO"></span>
</dt>
<dd>
<p>这等效于“ <samp>(S_IROTH | S_IWOTH | S_IXOTH)</samp> '。
</p>
</dd>
<dt><code>S_ISUID</code>
<span id="index-S_005fISUID"></span>
</dt>
<dd>
<p>这是执行位上的设置用户ID，通常为04000。请参阅“ <a href="How-Change-Persona.html#How-Change-Persona">如何更改角色”</a> 。
</p>
</dd>
<dt><code>S_ISGID</code>
<span id="index-S_005fISGID"></span>
</dt>
<dd>
<p>这是执行位上的set-group-ID，通常为02000。请参阅“ <a href="How-Change-Persona.html#How-Change-Persona">如何更改角色”</a> 。
</p>
<span id="index-sticky-bit"></span>
</dd>
<dt><code>S_ISVTX</code>
<span id="index-S_005fISVTX"></span>
</dt>
<dd>
<p>这是<em>粘性</em>位，通常为01000。
</p>
<p>对于目录，仅当您拥有该文件时，它才有权删除该目录中的文件。通常，用户可以删除目录中的所有文件，也不能删除其中的任何文件（取决于用户是否对该目录具有写权限）。施加相同的限制-您必须同时具有目录的写许可权和拥有要删除的文件的所有权。一个例外是，目录的所有者可以删除目录中的任何文件，而不论文件的所有者是谁（前提是所有者已授予自己对该目录的写许可权）。这通常用于<samp>/tmp</samp>目录，任何人都可以在其中创建文件，但不能删除其他用户创建的文件。
</p>
<p>最初，可执行文件上的粘性位修改了系统的交换策略。通常，当程序终止时，其在内核中的页面会立即被释放并重新使用。如果在可执行文件上设置了粘性位，则系统会将页面保留在核心中一会儿，就像程序仍在运行一样。这对于可能连续运行多次的程序是有利的。这种用法在现代系统中已过时。程序终止时，只要系统中不存在内存不足，其页面将始终保留在内核中。下次运行该程序时，如果自上次运行以来没有短缺，其页面仍将处于核心位置。
</p>
<p>在某些现代系统中，粘性位对于可执行文件没有任何意义，您完全不能为非目录设置该位。如果你试试， <code>chmod</code>失败于<code>EFTYPE</code> ;请参阅<a href="Setting-Permissions.html#Setting-Permissions">设置权限</a> 。
</p>
<p>某些系统（特别是SunOS）还有另外一种用途。如果在<em>不可</em>执行的文件上设置了粘滞位，则意味着相反：根本不要缓存该文件的页面。它的主要用途是用于NFS服务器计算机上的文件，这些文件用作无盘客户机的交换区域。这个想法是文件的页面将被缓存在客户端的内存中，因此第二次缓存它们将浪费服务器的内存。在这种用法下，粘性位还意味着文件系统可能无法将文件的修改时间可靠地记录到磁盘上（想法是没人在乎交换文件）。
</p>
<p>该位仅在BSD系统（以及从它们派生的系统）上可用。因此，必须使用<code>_GNU_SOURCE</code>功能选择宏，或者不定义任何功能测试宏，以获取定义（请参阅<a href="Feature-Test-Macros.html#Feature-Test-Macros">功能测试宏</a> ）。
</p></dd>
</dl>

<p>这些符号的实际位值在上表中列出，因此您可以在调试程序时解码文件模式值。这些位值对于大多数系统都是正确的，但不能保证。
</p>
<p><strong>警告：</strong>为文件权限写明确的数字是不好的做法。它不仅不具有可移植性，而且还要求阅读程序的每个人都记住这些位的含义。为了使程序干净，请使用符号名。
</p>
<hr>
<div class="header">
<p>下一篇： <a href="Access-Permission.html#Access-Permission" rel="next" accesskey="n">访问权限</a> ，上一篇： <a href="File-Owner.html#File-Owner" rel="prev" accesskey="p">文件所有者</a> ，上一篇： <a href="File-Attributes.html#File-Attributes" rel="up" accesskey="u">文件属性</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>