<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>更多标志标记（GNU C库）</title>

<meta name="description" content="More Flags for Globbing (The GNU C Library)">
<meta name="keywords" content="More Flags for Globbing (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Globbing.html#Globbing" rel="up" title="Globbing">
<link href="Regular-Expressions.html#Regular-Expressions" rel="next" title="Regular Expressions">
<link href="Flags-for-Globbing.html#Flags-for-Globbing" rel="prev" title="Flags for Globbing">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="More-Flags-for-Globbing"></span><div class="header">
<p>上一篇： <a href="Flags-for-Globbing.html#Flags-for-Globbing" rel="prev" accesskey="p">标志的通配</a> ，最多： <a href="Globbing.html#Globbing" rel="up" accesskey="u">通配符</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">内容</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="More-Flags-for-Globbing-1"></span><h4 class="subsection">10.2.3更多标记</h4>

<p>除了上一节中描述的标志之外，GNU实现<code>glob</code>允许更多的标志，这些标志也在<samp>glob.h</samp>文件。一些扩展实现了现代Shell实现中可用的功能。
</p>
<dl compact>
<dt><code>GLOB_PERIOD</code>
<span id="index-GLOB_005fPERIOD"></span>
</dt>
<dd>
<p>的<code>.</code>字符（句点）被视为特殊字符。它不能与通配符匹配。请参阅<a href="Wildcard-Matching.html#Wildcard-Matching">通配符匹配</a> ， <code>FNM_PERIOD</code> 。
</p>
</dd>
<dt><code>GLOB_MAGCHAR</code>
<span id="index-GLOB_005fMAGCHAR"></span>
</dt>
<dd>
<p>的<code>GLOB_MAGCHAR</code>不应给予价值<code>glob</code>在里面<var>flags</var>参数。代替， <code>glob</code>将此位设置为<var>gl_flags</var>的元素<var>glob_t</var>如果用于匹配的模式包含任何通配符，则提供作为结果的结构。
</p>
</dd>
<dt><code>GLOB_ALTDIRFUNC</code>
<span id="index-GLOB_005fALTDIRFUNC"></span>
</dt>
<dd>
<p>与其使用常规功能访问文件系统，不如<code>glob</code>实现使用由指向的结构中指定的用户提供的功能<var>pglob</var>参数。有关这些功能的更多信息，请参见有关目录处理的部分，请参阅<a href="Accessing-Directories.html#Accessing-Directories">访问目录</a>和<a href="Reading-Attributes.html#Reading-Attributes">读取属性</a> 。
</p>
</dd>
<dt><code>GLOB_BRACE</code>
<span id="index-GLOB_005fBRACE"></span>
</dt>
<dd>
<p>如果给出此标志，则模式中花括号的处理将更改。现在要求括号正确分组。即，对于每个打开支架，必须有一个关闭支架。大括号可以递归使用。因此可以在另一个表达式中定义一个大括号表达式。重要的是要注意，每个大括号表达式的范围完全包含在外部大括号表达式中（如果有的话）。
</p>
<p>匹配大括号之间的字符串通过在<code>,</code> （逗号）字符。逗号本身将被丢弃。请注意我们上面关于递归括号表达式的说法。用于分隔子表达式的逗号必须处于同一级别。大括号子表达式中的逗号不匹配。它们在更深层次的括号表达扩展期间使用。下面的示例显示了这一点</p>
<div class="example">
<pre class="example">glob (&quot;{foo/{,bar,biz},baz}&quot;, GLOB_BRACE, NULL, &amp;result)
</pre></div>

<p>等价于序列</p>
<div class="example">
<pre class="example">glob (&quot;foo/&quot;, GLOB_BRACE, NULL, &amp;result)
glob (&quot;foo/bar&quot;, GLOB_BRACE|GLOB_APPEND, NULL, &amp;result)
glob (&quot;foo/biz&quot;, GLOB_BRACE|GLOB_APPEND, NULL, &amp;result)
glob (&quot;baz&quot;, GLOB_BRACE|GLOB_APPEND, NULL, &amp;result)
</pre></div>

<p>如果我们撇开错误处理。
</p>
</dd>
<dt><code>GLOB_NOMAGIC</code>
<span id="index-GLOB_005fNOMAGIC"></span>
</dt>
<dd>
<p>如果该模式不包含通配符构造（它是文字文件名），即使该名称不存在任何文件，也应将其作为唯一的“匹配”词返回。
</p>
</dd>
<dt><code>GLOB_TILDE</code>
<span id="index-GLOB_005fTILDE"></span>
</dt>
<dd>
<p>如果使用此标志，则字符<code>~</code> （波浪号）如果出现在图案的开头，则会被特别处理。代替逐字记录，它用来表示已知用户的主目录。
</p>
<p>如果<code>~</code>是模式中的唯一字符，或者后跟一个<code>/</code> （斜杠），将替换进程所有者的主目录。使用<code>getlogin</code>和<code>getpwnam</code>该信息是从系统数据库中读取的。以用户为例<code>bart</code>他的主目录位于<samp>/home/bart</samp> 。给他打个电话</p>
<div class="example">
<pre class="example">glob (&quot;~/bin/*&quot;, GLOB_TILDE, NULL, &amp;result)
</pre></div>

<p>将返回目录的内容<samp>/home/bart/bin</samp> 。除了引用自己的主目录外，还可以命名其他用户的主目录。为此，必须在波浪号字符后附加用户名。所以用户的内容<code>homer</code>的<samp>bin</samp>可以通过以下方式检索目录</p>
<div class="example">
<pre class="example">glob (&quot;~homer/bin/*&quot;, GLOB_TILDE, NULL, &amp;result)
</pre></div>

<p>如果用户名无效或由于某种原因无法确定主目录，则不更改该模式，并将其本身用作结果。即，如果在最后一个示例中<code>home</code>无法使用代字号扩展产生<code>"~homer/bin/*"</code>和<code>glob</code>不在寻找名为<code>~homer</code> 。
</p>
<p>如果使用以下命令，此功能等效于C-shell中可用的功能： <code>nonomatch</code>标志已设置。
</p>
</dd>
<dt><code>GLOB_TILDE_CHECK</code>
<span id="index-GLOB_005fTILDE_005fCHECK"></span>
</dt>
<dd>
<p>如果使用此标志<code>glob</code>表现得好像<code>GLOB_TILDE</code>给出。唯一的区别是，如果用户名不可用或由于其他原因无法确定主目录，则会导致错误。 <code>glob</code>将返回<code>GLOB_NOMATCH</code>而不是使用模式本身作为名称。
</p>
<p>如果使用以下命令，此功能等效于C-shell中可用的功能： <code>nonomatch</code>标志未设置。
</p>
</dd>
<dt><code>GLOB_ONLYDIR</code>
<span id="index-GLOB_005fONLYDIR"></span>
</dt>
<dd>
<p>如果使用此标志，则globlob函数将其用作<strong>提示</strong> ，表明调用方仅对与该模式匹配的目录感兴趣。如果有关文件类型的信息很容易获得，则非目录将被拒绝，但不会做额外的工作来确定每个文件的信息。即，调用方必须仍然能够过滤目录。
</p>
<p>该功能仅适用于GNU <code>glob</code>实施。它主要用于内部以提高性能，但也可能对用户有用，因此在此处进行了说明。
</p></dd>
</dl>

<p>呼唤<code>glob</code>在大多数情况下，将分配用于表示函数调用结果的资源。如果类型相同<code>glob_t</code>用于多次呼叫<code>glob</code>资源被释放或重新使用，因此不会出现泄漏。但这不包括所有时间<code>glob</code>通话完成。
</p>
<dl>
<dt id="index-globfree">函数： <em>void</em> <strong>globfree</strong> <em>（glob_t * <var>pglob</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS不安全的损坏堆| AC不安全的损坏的内存|请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>的<code>globfree</code>函数释放以前调用分配的所有资源<code>glob</code>与由指向的对象关联<var>pglob</var> 。当前使用的任何时候都应调用此函数<code>glob_t</code>输入的对象不再使用。
</p></dd></dl>

<dl>
<dt id="index-globfree64">函数： <em>void</em> <strong>globfree64</strong> <em>（glob64_t * <var>pglob</var> ）</em></dt>
<dd>
<p>初步： MT安全| AS不安全的损坏锁| AC不安全损坏的锁fd mem |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>此功能等效于<code>globfree</code>但它释放类型的记录<code>glob64_t</code>由谁分配<code>glob64</code> 。
</p></dd></dl>


<hr>
<div class="header">
<p>上一篇： <a href="Flags-for-Globbing.html#Flags-for-Globbing" rel="prev" accesskey="p">标志的通配</a> ，最多： <a href="Globbing.html#Globbing" rel="up" accesskey="u">通配符</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">内容</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>