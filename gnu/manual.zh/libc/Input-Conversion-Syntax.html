<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>输入转换语法（GNU C库）</title>

<meta name="description" content="Input Conversion Syntax (The GNU C Library)">
<meta name="keywords" content="Input Conversion Syntax (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Formatted-Input.html#Formatted-Input" rel="up" title="Formatted Input">
<link href="Table-of-Input-Conversions.html#Table-of-Input-Conversions" rel="next" title="Table of Input Conversions">
<link href="Formatted-Input-Basics.html#Formatted-Input-Basics" rel="prev" title="Formatted Input Basics">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Input-Conversion-Syntax"></span><div class="header">
<p>下一篇： <a href="Table-of-Input-Conversions.html#Table-of-Input-Conversions" rel="next" accesskey="n">输入转换表</a> ，上一篇： <a href="Formatted-Input-Basics.html#Formatted-Input-Basics" rel="prev" accesskey="p">格式化输入基础</a> ，上一篇： <a href="Formatted-Input.html#Formatted-Input" rel="up" accesskey="u">格式化输入</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Input-Conversion-Syntax-1"></span><h4 class="subsection">12.14.2输入转换语法</h4>

<p>一种<code>scanf</code>模板字符串是一个字符串，其中包含普通的多字节字符，并散布有以'开头的转换规范<samp>%</samp> '。
</p>
<p>任何空格字符（由<code>isspace</code>功能;请参阅模板中<a href="Classification-of-Characters.html#Classification-of-Characters">的字符分类</a> ），从而导致读取和丢弃输入流中任意数量的空格字符。匹配的空格字符不必与模板字符串中出现的空格字符完全相同。例如，写“ <samp>,</samp>模板中的'来识别前后带有可选空格的逗号。
</p>
<p>模板字符串中不属于转换规范的其他字符必须与输入流中的字符完全匹配；如果不是这种情况，则会发生匹配失败。
</p>
<p>转换规范<code>scanf</code>模板字符串的一般形式为：</p>
<div class="example">
<pre class="example">% <var>flags</var> <var>width</var> <var>type</var> <var>conversion</var>
</pre></div>

<p>更详细地，输入转换规范由一个初始的' <samp>%</samp> '字符，其后依次为：</p>
<ul>
<li>可选的<em>标记字符</em> ' <samp>*</samp> '，表示忽略此规范阅读的文字。什么时候<code>scanf</code>查找使用此标志的转换规范，它按照其余转换规范的指示读取输入，但是它将丢弃此输入，不使用指针参数，并且不增加成功分配的次数。
<span id="index-flag-character-_0028scanf_0029"></span>

</li><li>可选的标记字符' <samp>a</samp> '（仅适用于字符串转换），它要求分配足够长的缓冲区来存储字符串。（这是一个GNU扩展。）请参见<a href="Dynamic-String-Input.html#Dynamic-String-Input">动态字符串输入</a> 。

</li><li>一个可选的十进制整数，指定<em>最大字段宽度</em> 。当达到此最大值或发现不匹配的字符时（以先发生者为准），将停止从输入流中读取字符。大多数转换会丢弃初始的空白字符（那些没有明确记录的字符），并且这些被丢弃的字符不会计入最大字段宽度。字符串输入转换存储一个空字符来标记输入的结尾；最大字段宽度不包括此终结器。
<span id="index-maximum-field-width-_0028scanf_0029"></span>

</li><li>一个可选的<em>类型修饰符</em> 。例如，您可以将类型修饰符指定为“ <samp>l</samp> '带有整数转换，例如' <samp>%d</samp> '，以指定参数是指向<code>long int</code>而不是指向<code>int</code> 。
<span id="index-type-modifier-character-_0028scanf_0029"></span>

</li><li>一个字符，指定要应用的转换。
</li></ul>

<p>不同的转换说明符之间允许的确切选项及其解释方式有所不同。有关允许的特定选项的信息，请参见各个转换的描述。
</p>
<p>与“ <samp>-Wformat</samp> '选项，GNU C编译器会检查对<code>scanf</code>和相关功能。它检查格式字符串，并验证是否提供了正确数量和类型的参数。还有一种GNU C语法告诉编译器您编写的函数使用<code>scanf</code>样式的格式字符串。有关更多信息，请参见《 <cite>使用GNU CC》中的“</cite> <a href="https://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html#Function-Attributes">声明函数的属性”</a> 。
</p>
<hr>
<div class="header">
<p>下一篇： <a href="Table-of-Input-Conversions.html#Table-of-Input-Conversions" rel="next" accesskey="n">输入转换表</a> ，上一篇： <a href="Formatted-Input-Basics.html#Formatted-Input-Basics" rel="prev" accesskey="p">格式化输入基础</a> ，上一篇： <a href="Formatted-Input.html#Formatted-Input" rel="up" accesskey="u">格式化输入</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>