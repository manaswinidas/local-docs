<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>是或否的问题（GNU C库）</title>

<meta name="description" content="Yes-or-No Questions (The GNU C Library)">
<meta name="keywords" content="Yes-or-No Questions (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Locales.html#Locales" rel="up" title="Locales">
<link href="Message-Translation.html#Message-Translation" rel="next" title="Message Translation">
<link href="Formatting-Numbers.html#Formatting-Numbers" rel="prev" title="Formatting Numbers">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Yes_002dor_002dNo-Questions"></span><div class="header">
<p>上一页： <a href="Formatting-Numbers.html#Formatting-Numbers" rel="prev" accesskey="p">格式化数字</a> ，向上： <a href="Locales.html#Locales" rel="up" accesskey="u">语言环境</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Yes_002dor_002dNo-Questions-1"></span><h3 class="section">7.9是或否的问题</h3>

<p>一些非GUI程序会询问是或否问题。如果消息（尤其是问题）被翻译成外语，请确保也将答案本地化。用一种语言提出问题，然后用另一种语言（通常是英语）要求答案是非常不好的习惯。
</p>
<p>GNU C库包含<code>rpmatch</code>使应用程序可以轻松访问相应的语言环境定义。
</p>
<dl>
<dt id="index-rpmatch">函数： <em>int</em> <strong>rpmatch</strong> <em>（const char * <var>response</var> ）</em></dt>
<dd>
<p>初步： MT安全区域| AS不安全损坏的堆锁dlopen | AC不安全损坏的锁内存fd |请参阅<a href="POSIX-Safety-Concepts.html#POSIX-Safety-Concepts">POSIX安全概念</a> 。
</p>

<p>功能<code>rpmatch</code>检查字符串<var>response</var>是否正确的是或否答案，如果是，则选择哪个答案。支票使用<code>YESEXPR</code>和<code>NOEXPR</code>中的数据<code>LC_MESSAGES</code>当前所选语言环境的类别。返回值如下：</p>
<dl compact>
<dt><code>1</code></dt>
<dd><p>用户输入了肯定的答案。
</p>
</dd>
<dt><code>0</code></dt>
<dd><p>用户输入了否定答案。
</p>
</dd>
<dt><code>-1</code></dt>
<dd><p>答案与<code>YESEXPR</code>也不是<code>NOEXPR</code>正则表达式。
</p></dd>
</dl>

<p>此功能尚未标准化，但至少在GNU C库中也可以在IBM AIX库中使用。
</p></dd></dl>

<p>此函数通常按以下方式使用：</p>
<div class="example">
<pre class="example">  &hellip;
  /* <span class="roman">Use a safe default.</span>  */
  _Bool doit = false;

  fputs (gettext (&quot;Do you really want to do this? &quot;), stdout);
  fflush (stdout);
  /* <span class="roman">Prepare the <code>getline</code> call.</span>  */
  line = NULL;
  len = 0;
  while (getline (&amp;line, &amp;len, stdin) &gt;= 0)
    {
      /* <span class="roman">Check the response.</span>  */
      int res = rpmatch (line);
      if (res &gt;= 0)
        {
          /* <span class="roman">We got a definitive answer.</span>  */
          if (res &gt; 0)
            doit = true;
          break;
        }
    }
  /* <span class="roman">Free what <code>getline</code> allocated.</span>  */
  free (line);
</pre></div>

<p>请注意，循环将一直持续到检测到读取错误或读取确定的（肯定或否定的）答案为止。
</p><hr>
<div class="header">
<p>上一页： <a href="Formatting-Numbers.html#Formatting-Numbers" rel="prev" accesskey="p">格式化数字</a> ，向上： <a href="Locales.html#Locales" rel="up" accesskey="u">语言环境</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>