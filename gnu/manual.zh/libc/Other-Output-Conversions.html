<html ><!-- This file documents the GNU C Library.

This is
The GNU C Library Reference Manual, for version
2.30.

Copyright (C) 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version
1.3 or any later version published by the Free
Software Foundation; with the Invariant Sections being "Free Software
Needs Free Documentation" and "GNU Lesser General Public License",
the Front-Cover texts being "A GNU Manual", and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual.  Buying copies from the FSF
supports it in developing GNU and promoting software freedom." --><!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>其他输出转换（GNU C库）</title>

<meta name="description" content="Other Output Conversions (The GNU C Library)">
<meta name="keywords" content="Other Output Conversions (The GNU C Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Formatted-Output.html#Formatted-Output" rel="up" title="Formatted Output">
<link href="Formatted-Output-Functions.html#Formatted-Output-Functions" rel="next" title="Formatted Output Functions">
<link href="Floating_002dPoint-Conversions.html#Floating_002dPoint-Conversions" rel="prev" title="Floating-Point Conversions">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="zh-Hans" >
<span id="Other-Output-Conversions"></span><div class="header">
<p>下一页： <a href="Formatted-Output-Functions.html#Formatted-Output-Functions" rel="next" accesskey="n">格式化输出函数</a> ，上一篇： <a href="Floating_002dPoint-Conversions.html#Floating_002dPoint-Conversions" rel="prev" accesskey="p">浮点转换</a> ，最多： <a href="Formatted-Output.html#Formatted-Output" rel="up" accesskey="u">格式化输出</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">内容</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<span id="Other-Output-Conversions-1"></span><h4 class="subsection">12.12.6其他输出转换</h4>

<p>本节介绍的其他转换<code>printf</code> 。
</p>
<p>' <samp>%c</samp> '转换将打印单个字符。如果没有“ <samp>l</samp> '修饰<code>int</code>首先将参数转换为<code>unsigned char</code> 。然后，如果在宽流功能中使用，则将字符转换为相应的宽字符。' <samp>-</samp> '标志可用于在字段中指定左对齐，但未定义其他标志，并且无法给出precision或type修饰符。例如：</p>
<div class="example">
<pre class="example">printf (&quot;%c%c%c%c%c&quot;, 'h', 'e', 'l', 'l', 'o');
</pre></div>

<p>打印' <samp>hello</samp> '。
</p>
<p>如果有一个“ <samp>l</samp> '修饰符，表示参数应为类型<code>wint_t</code> 。如果在多字节函数中使用，则宽字符在添加到输出之前将转换为多字节字符。在这种情况下，可以产生一个以上的输出字节。
</p>
<p>' <samp>%s</samp> '转换会输出一个字符串。如果不 ' <samp>l</samp> '修饰符存在，相应的参数必须是类型<code>char *</code> （要么<code>const char *</code> ）。如果在宽流功能中使用，则首先将字符串转换为宽字符串。可以指定精度以指示要写入的最大字符数；否则，将字符串中直到（但不包括）结尾的空字符的字符写入输出流。' <samp>-</samp> '标志可用于在字段中指定左对齐，但此转换未定义其他标志或类型修饰符。例如：</p>
<div class="example">
<pre class="example">printf (&quot;%3s%-6s&quot;, &quot;no&quot;, &quot;where&quot;);
</pre></div>

<p>打印' <samp>nowhere</samp> '。
</p>
<p>如果有一个“ <samp>l</samp> '修饰符存在，参数应为类型<code>wchar_t</code> （要么<code>const wchar_t *</code> ）。
</p>
<p>如果您不小心将空指针作为参数传递给' <samp>%s</samp> '转换，GNU C库将其打印为' <samp>(null)</samp> '。我们认为这比崩溃更有用。但是，故意传递null参数不是一个好习惯。
</p>
<p>' <samp>%m</samp> '转换将打印与错误代码相对应的字符串<code>errno</code> 。请参阅<a href="Error-Messages.html#Error-Messages">错误消息</a> 。从而：</p>
<div class="example">
<pre class="example">fprintf (stderr, &quot;can't open `%s': %m\n&quot;, filename);
</pre></div>

<p>等效于：</p>
<div class="example">
<pre class="example">fprintf (stderr, &quot;can't open `%s': %s\n&quot;, filename, strerror (errno));
</pre></div>

<p>' <samp>%m</samp>转换是GNU C库扩展。
</p>
<p>' <samp>%p</samp> '转换会输出一个指针值。相应的参数必须是类型<code>void *</code> 。实际上，您可以使用任何类型的指针。
</p>
<p>在GNU C库中，非null指针显示为无符号整数，就像' <samp>%#x</samp>使用了转换。空指针打印为' <samp>(nil)</samp> '。（指针在其他系统中的打印可能会有所不同。）
</p>
<p>例如：</p>
<div class="example">
<pre class="example">printf (&quot;%p&quot;, &quot;testing&quot;);
</pre></div>

<p>打印' <samp>0x</samp> '后跟一个十六进制数字-字符串常量的地址<code>"testing"</code> 。它不会打印单词“ <samp>testing</samp> '。
</p>
<p>您可以提供“ <samp>-</samp> '标记为' <samp>%p</samp> '转换以指定左对齐，但未定义其他标志，精度或类型修饰符。
</p>
<p>' <samp>%n</samp>转换不同于其他任何输出转换。它使用的参数必须是指向<code>int</code> ，但它不会打印任何内容，而是存储该调用在该位置到目前为止已打印的字符数。' <samp>h</samp> '和' <samp>l</samp> '类型修饰符可以指定参数为类型<code>short int *</code>要么<code>long int *</code>代替<code>int *</code> ，但不允许使用任何标志，字段宽度或精度。
</p>
<p>例如，</p>
<div class="example">
<pre class="example">int nchar;
printf (&quot;%d %s%n\n&quot;, 3, &quot;bears&quot;, &amp;nchar);
</pre></div>

<p>印刷品：</p>
<div class="example">
<pre class="example">3 bears
</pre></div>

<p>和集<code>nchar</code>至<code>7</code> ，因为<samp>3 bears</samp> '是七个字符。
</p>

<p>' <samp>%%</samp> '转换输出文字' <samp>%</samp>字符。此转换不使用参数，并且不允许使用标志，字段宽度，精度或类型修饰符。
</p>

<hr>
<div class="header">
<p>下一页： <a href="Formatted-Output-Functions.html#Formatted-Output-Functions" rel="next" accesskey="n">格式化输出函数</a> ，上一篇： <a href="Floating_002dPoint-Conversions.html#Floating_002dPoint-Conversions" rel="prev" accesskey="p">浮点转换</a> ，最多： <a href="Formatted-Output.html#Formatted-Output" rel="up" accesskey="u">格式化输出</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">内容</a> ] [ <a href="Concept-Index.html#Concept-Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>