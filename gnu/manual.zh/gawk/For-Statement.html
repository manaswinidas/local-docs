<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>声明（GNU Awk用户指南）</title>

<meta name="description" content="For Statement (The GNU Awk User’s Guide)">
<meta name="keywords" content="For Statement (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Statements.html#Statements" rel="up" title="Statements">
<link href="Switch-Statement.html#Switch-Statement" rel="next" title="Switch Statement">
<link href="Do-Statement.html#Do-Statement" rel="prev" title="Do Statement">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="manual.css">


</head>

<body lang="zh-Hans" >
<a name="For-Statement"></a>
<div class="header">
<p>下一篇： <a href="Switch-Statement.html#Switch-Statement" rel="next" accesskey="n">切换语句</a> ，上一篇： <a href="Do-Statement.html#Do-Statement" rel="prev" accesskey="p">做语句</a> ，上一篇： <a href="Statements.html#Statements" rel="up" accesskey="u">语句</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="The-for-Statement"></a>
<h4 class="subsection">7.4.4 <code>for</code>声明</h4>
<a name="index-for-statement"></a>
<a name="index-loops_002c-for_002c-iterative"></a>

<p>的<code>for</code>语句使计数循环的迭代更加方便。的一般形式<code>for</code>语句如下所示：</p>
<div class="example">
<pre class="example">for (<var>initialization</var>; <var>condition</var>; <var>increment</var>)
  <var>body</var>
</pre></div>

<p>的<var>initialization</var> ， <var>condition</var>和<var>increment</var>零件是任意的<code>awk</code>表达式，以及<var>body</var>代表任何<code>awk</code>声明。
</p>
<p>的<code>for</code>语句从执行开始<var>initialization</var> 。然后，只要<var>condition</var>是真的，它反复执行<var>body</var>然后<var>increment</var> 。通常， <var>initialization</var>将变量设置为零或一， <var>increment</var>给它添加一个<var>condition</var>将其与所需的迭代次数进行比较。例如：</p>
<div class="example">
<pre class="example">awk '
{
    for (i = 1; i &lt;= 3; i++)
        print $i
}' inventory-shipped
</pre></div>

<p>这将打印每个输入记录的前三个字段，每条输出行一个输入字段。
</p>
<p>您无法在<var>initialization</var>部分而不使用多个赋值语句，例如“ <samp>x = y = 0</samp> '。仅当所有初始值均相等时，这才有意义。（但可以通过在附加变量之前将其分配编写为单独的语句来初始化其他变量， <code>for</code>环。）
</p>
<p>同样的道理<var>increment</var>部分。递增其他变量需要在循环结束时使用单独的语句。使用C的逗号运算符的C复合表达式在这种情况下很有用，但在<code>awk</code> 。
</p>
<p>最经常， <var>increment</var>与前面的示例一样，是一个增量表达式。但这不是必需的。它可以是任何表达式。例如，以下语句显示1到100之间的所有2的幂：</p>
<div class="example">
<pre class="example">for (i = 1; i &lt;= 100; i *= 2)
    print i
</pre></div>

<p>如果什么也没做，则括号后面的三个表达式中的任何一个<code>for</code>关键字可以省略。因此， <samp>for (; x > 0;)</samp> ' <!-- /@w -->等效于' <samp>while (x > 0)</samp> ' <!-- /@w --> 。如果<var>condition</var>如果省略，则将其视为true，有效地产生<em>无限循环</em> （即永不终止的循环）。
</p>
<p>在大多数情况下， <code>for</code> loop是a的缩写。 <code>while</code>循环，如下所示：</p>
<div class="example">
<pre class="example"><var>initialization</var>
while (<var>condition</var>) {
  <var>body</var>
  <var>increment</var>
}
</pre></div>

<a name="index-loops_002c-continue-statements-and"></a>
<p>唯一的例外是<code>continue</code>声明（见部分<a href="Continue-Statement.html#Continue-Statement">的<code>continue</code>语句</a> ）在循环内使用。改变一个<code>for</code>声明<code>while</code>这样的陈述可以改变<code>continue</code>循环内的语句。
</p>
<p>的<code>awk</code>语言有一个<code>for</code>除了一个陈述<code>while</code>声明，因为<code>for</code>循环通常既省力又省力，而且思考起来更自然。在循环中计算迭代次数非常普遍。将计数视为循环的一部分，而不是在循环内部进行操作，可能会更容易。
</p>
<a name="index-in-operator-2"></a>
<p>还有一个替代版本<code>for</code>循环，用于遍历数组的所有索引：</p>
<div class="example">
<pre class="example">for (i in array)
    <var>do something with</var> array[i]
</pre></div>

<p>有关此版本的<a href="Scanning-an-Array.html#Scanning-an-Array">磁盘阵列</a>的更多信息，请参见“ <a href="Scanning-an-Array.html#Scanning-an-Array">扫描阵列的所有元素”</a>部分。 <code>for</code>环。
</p>
<hr>
<div class="header">
<p>下一篇： <a href="Switch-Statement.html#Switch-Statement" rel="next" accesskey="n">切换语句</a> ，上一篇： <a href="Do-Statement.html#Do-Statement" rel="prev" accesskey="p">做语句</a> ，上一篇： <a href="Statements.html#Statements" rel="up" accesskey="u">语句</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>