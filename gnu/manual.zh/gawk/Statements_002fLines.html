<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>语句/行（《 GNU Awk用户指南》）</title>

<meta name="description" content="Statements/Lines (The GNU Awk User’s Guide)">
<meta name="keywords" content="Statements/Lines (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Getting-Started.html#Getting-Started" rel="up" title="Getting Started">
<link href="Other-Features.html#Other-Features" rel="next" title="Other Features">
<link href="More-Complex.html#More-Complex" rel="prev" title="More Complex">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="zh-Hans" >
<a name="Statements_002fLines"></a>
<div class="header">
<p>下一篇： <a href="Other-Features.html#Other-Features" rel="next" accesskey="n">其他功能</a> ，上一篇： <a href="More-Complex.html#More-Complex" rel="prev" accesskey="p">更复杂</a> ，上一篇： <a href="Getting-Started.html#Getting-Started" rel="up" accesskey="u">入门</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="awk-Statements-Versus-Lines"></a>
<h3 class="section">1.6 <code>awk</code>陈述与行</h3>
<a name="index-line-breaks"></a>
<a name="index-newlines"></a>

<p>大多数情况下， <code>awk</code>程序是单独的语句或单独的规则，例如：</p>
<div class="example">
<pre class="example">awk '/12/  { print $0 }
     /21/  { print $0 }' mail-list inventory-shipped
</pre></div>

<a name="index-gawk_002c-newlines-in"></a>
<p>然而， <code>gawk</code>忽略以下任何符号和关键字之后的换行符：</p>
<div class="example">
<pre class="example">,    {    ?    :    ||    &amp;&amp;    do    else
</pre></div>

<p>在任何其他位置的换行符都视为语句的结尾。 <a name="DOCF9" href="#FOOT9"><sup>9</sup></a>
</p>
<a name="index-_005c-_0028backslash_0029_002c-continuing-lines-and"></a>
<a name="index-backslash-_0028_005c_0029_002c-continuing-lines-and"></a>
<p>如果你想在一个点，一个换行符将终止其单个语句分成两行，你可以用一个反斜杠字符结束的第一行（ <em>继续</em>吧” <samp>\</samp> '）。反斜杠必须是行上的最后一个字符，才能被识别为连续字符。语句中的任何位置都可以使用反斜杠，即使在字符串或正则表达式中间也可以。例如：</p>
<div class="example">
<pre class="example">awk '/This regular expression is too long, so continue it\
 on the next line/ { print $1 }'
</pre></div>

<p><a name="index-portability_002c-backslash-continuation-and"></a>在示例程序中，我们通常没有使用反斜杠连续。
<code>gawk</code>对行的长度没有限制，因此绝对不需要反斜杠连续；它只是使程序更具可读性。出于同样的原因，并且为了清楚起见，我们在整个Web页面上提供的程序中都保留了大多数语句。当您的反斜杠继续时， <code>awk</code>程序位于单独的源文件中，而不是从命令行输入。您还应该注意很多<code>awk</code>实现更特别地涉及在哪里可以使用反斜杠连续。例如，它们可能不允许您使用反斜杠连续分割字符串常量。因此，为了最大程度地提高您的便携性<code>awk</code>程序，最好不要在正则表达式或字符串中间拆分行。
</p>
<a name="index-csh-utility"></a>
<a name="index-backslash-_0028_005c_0029_002c-continuing-lines-and_002c-in-csh"></a>
<a name="index-_005c-_0028backslash_0029_002c-continuing-lines-and_002c-in-csh"></a>
<blockquote>
<p><b>注意：</b> <em>反斜杠继续不能如C Shell中所述工作。</em>  它适用于<code>awk</code> <em>如果</em>您使用的是POSIX兼容外壳程序（例如Unix Bourne shell或Bash），则文件中的程序以及一次性程序。但是C外壳的行为有所不同！在那里，您必须连续使用两个反斜杠，然后再换行。还需要注意的是使用C shell，在<em>每一个</em>换行符当你的<code>awk</code>程序必须以反斜杠转义。为了显示：</p>
<div class="example">
<pre class="example">% <kbd>awk 'BEGIN { \</kbd>
? <kbd>  print \\</kbd>
? <kbd>      &quot;hello, world&quot; \</kbd>
? <kbd>}'</kbd>
-| hello, world
</pre></div>

<p>在这里， <samp>%</samp> '和' <samp>?</samp> '是C shell的主要和辅助提示，类似于标准shell的' <samp>$</samp> '和' <samp>></samp> '。
</p>
<p>将前面的示例与使用POSIX兼容的shell进行比较：</p>
<div class="example">
<pre class="example">$ <kbd>awk 'BEGIN {</kbd>
&gt;   <kbd>print \</kbd>
&gt;       <kbd>&quot;hello, world&quot;</kbd>
&gt; <kbd>}'</kbd>
-| hello, world
</pre></div>
</blockquote>

<p><code>awk</code>是一种面向行的语言。每个规则的动作必须与模式在同一行开始。要在单独的行上包含模式和操作， <em>必须</em>使用反斜杠连续。没有其他选择。
</p>
<a name="index-backslash-_0028_005c_0029_002c-continuing-lines-and_002c-comments-and"></a>
<a name="index-_005c-_0028backslash_0029_002c-continuing-lines-and_002c-comments-and"></a>
<a name="index-commenting_002c-backslash-continuation-and"></a>
<p>要记住的另一件事是反斜杠继续和注释不会混合。立刻<code>awk</code>看到“ <samp>#</samp> '会开始发表评论，而忽略该行其余部分的<em>所有内容</em> 。例如：</p>
<div class="example">
<pre class="example">$ <kbd>gawk 'BEGIN { print &quot;dont panic&quot; # a friendly \</kbd>
&gt; <kbd>                                   BEGIN rule</kbd>
&gt; <kbd>}'</kbd>
error&rarr; gawk: cmd. line:2:                BEGIN rule
error&rarr; gawk: cmd. line:2:                ^ syntax error
</pre></div>

<p>在这种情况下，反斜杠似乎会将注释继续到下一行。但是，反斜杠和换行符的组合甚至从未被注意到，因为它被“隐藏”在注释中。就这样<code>BEGIN</code>被记录为语法错误。
</p>
<a name="index-statements_002c-multiple"></a>
<a name="index-_003b-_0028semicolon_0029_002c-separating-statements-in-actions"></a>
<a name="index-semicolon-_0028_003b_0029_002c-separating-statements-in-actions"></a>
<a name="index-_003b-_0028semicolon_0029_002c-separating-rules"></a>
<a name="index-semicolon-_0028_003b_0029_002c-separating-rules"></a>
<p>什么时候<code>awk</code>一条规则中的语句很短，您可能希望将一条以上的语句放在一行上。这是通过用分号（' <samp>;</samp> '）。这也适用于规则本身。因此，本节开头显示的程序也可以这样编写：</p>
<div class="example">
<pre class="example">/12/ { print $0 } ; /21/ { print $0 }
</pre></div>

<blockquote>
<p><b>注意：</b>要求在同一行上的规则必须用分号分隔的要求不是原始要求。 <code>awk</code>语言;添加它是为了与操作中的语句处理保持一致。
</p></blockquote>

<div class="footnote">
<hr>
<h4 class="footnotes-heading">脚注</h4>

<h3><a name="FOOT9" href="#DOCF9">（9）</a></h3>
<p>' <samp>?</samp> '和' <samp>:</samp> “这里所指的是在描述的三个操作数的条件表达式<a href="Conditional-Exp.html#Conditional-Exp">条件表达式</a> 。在“ <samp>?</samp> '和' <samp>:</samp> '是未成年人<code>gawk</code>延期;如果<samp>--posix</samp>指定（请参阅“ <a href="Options.html#Options">命令行选项”部分</a> ），然后禁用此扩展名。</p>
</div>
<hr>
<div class="header">
<p>下一篇： <a href="Other-Features.html#Other-Features" rel="next" accesskey="n">其他功能</a> ，上一篇： <a href="More-Complex.html#More-Complex" rel="prev" accesskey="p">更复杂</a> ，上一篇： <a href="Getting-Started.html#Getting-Started" rel="up" accesskey="u">入门</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>