<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>输入摘要（《 GNU Awk用户指南》）</title>

<meta name="description" content="Input Summary (The GNU Awk User’s Guide)">
<meta name="keywords" content="Input Summary (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Reading-Files.html#Reading-Files" rel="up" title="Reading Files">
<link href="Input-Exercises.html#Input-Exercises" rel="next" title="Input Exercises">
<link href="Command_002dline-directories.html#Command_002dline-directories" rel="prev" title="Command-line directories">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="zh-Hans" >
<a name="Input-Summary"></a>
<div class="header">
<p>下一篇： <a href="Input-Exercises.html#Input-Exercises" rel="next" accesskey="n">输入练习</a> ，上一篇： <a href="Command_002dline-directories.html#Command_002dline-directories" rel="prev" accesskey="p">命令行目录</a> ，上一篇： <a href="Reading-Files.html#Reading-Files" rel="up" accesskey="u">阅读文件</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="Summary-3"></a>
<h3 class="section">4.14小结</h3>

<ul>
<li>根据以下值将输入分为记录<code>RS</code> 。可能性如下：<table>
<thead><tr><th width="25%">的价值<code>RS</code></th><th width="35%">记录在…上拆分</th><th width="40%"><code>awk</code> /<code>gawk</code></th></tr></thead>
<tbody><tr><td width="25%">任何单个字符</td><td width="35%">那个角色</td><td width="40%"><code>awk</code></td></tr>
<tr><td width="25%">空字符串（ <code>""</code> ）</td><td width="35%">运行两个或多个换行符</td><td width="40%"><code>awk</code></td></tr>
<tr><td width="25%">正则表达式</td><td width="35%">与正则表达式匹配的文本</td><td width="40%"><code>gawk</code></td></tr>
</tbody></table>

</li><li> <code>FNR</code>指示从当前输入文件读取了多少条记录； <code>NR</code>表示总共已读取多少条记录。

</li><li> <code>gawk</code>套<code>RT</code>匹配的文本<code>RS</code> 。

</li><li>将输入拆分为记录后， <code>awk</code>进一步将记录分为几个字段，分别为<code>$1</code> ， <code>$2</code> ， 等等。 <code>$0</code>是整个记录，并且<code>NF</code>指示有多少个字段。拆分字段的默认方式是在空白字符之间。

</li><li>可以使用变量来引用字段，如<code>$NF</code> 。也可以为字段分配值，这会导致<code>$0</code>在以后引用时重新计算。分配给一个数字大于的字段<code>NF</code>使用以下命令创建字段并重建记录<code>OFS</code>分隔字段。增量式<code>NF</code>做同样的事情。递减<code>NF</code>丢弃字段并重建记录。

</li><li>字段拆分比记录拆分更复杂：<table>
<thead><tr><th width="40%">字段分隔符值</th><th width="40%">字段被分割…</th><th width="20%"><code>awk</code> /<code>gawk</code></th></tr></thead>
<tbody><tr><td width="40%"><code>FS == " "</code></td><td width="40%">在空白运行</td><td width="20%"><code>awk</code></td></tr>
<tr><td width="40%"><code>FS == <var>any single character</var></code></td><td width="40%">在那个角色上</td><td width="20%"><code>awk</code></td></tr>
<tr><td width="40%"><code>FS == <var>regexp</var></code></td><td width="40%">在与正则表达式匹配的文本上</td><td width="20%"><code>awk</code></td></tr>
<tr><td width="40%"><code>FS == ""</code></td><td width="40%">这样每个字符都是一个单独的字段</td><td width="20%"><code>gawk</code></td></tr>
<tr><td width="40%"><code>FIELDWIDTHS == <var>list of columns</var></code></td><td width="40%">根据角色位置</td><td width="20%"><code>gawk</code></td></tr>
<tr><td width="40%"><code>FPAT == <var>regexp</var></code></td><td width="40%">在与正则表达式匹配的文本周围的文本</td><td width="20%"><code>gawk</code></td></tr>
</tbody></table>

</li><li>使用“ <samp>FS = "\n"</samp> '导致整个记录成为单个字段（假设换行符分隔了记录）。

</li><li> <code>FS</code>可以使用<samp>-F</samp>选项。也可以使用命令行变量分配来完成。

</li><li>使用<code>PROCINFO["FS"]</code>了解如何拆分字段。

</li><li>使用<code>getline</code>以各种形式读取默认输入流，文件，管道或协同处理中的其他记录。

</li><li>使用<code>PROCINFO[<var>file</var>, "READ_TIMEOUT"]</code>使读取超时<var>file</var> 。

</li><li>命令行上的目录对于标准而言是致命的<code>awk</code> ; <code>gawk</code>如果不在POSIX模式下，则忽略它们。

</li></ul>

<hr>
<div class="header">
<p>下一篇： <a href="Input-Exercises.html#Input-Exercises" rel="next" accesskey="n">输入练习</a> ，上一篇： <a href="Command_002dline-directories.html#Command_002dline-directories" rel="prev" accesskey="p">命令行目录</a> ，上一篇： <a href="Reading-Files.html#Reading-Files" rel="up" accesskey="u">阅读文件</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>