<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>库函数（《 GNU Awk用户指南》）</title>

<meta name="description" content="Library Functions (The GNU Awk User’s Guide)">
<meta name="keywords" content="Library Functions (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html#Top" rel="up" title="Top">
<link href="Library-Names.html#Library-Names" rel="next" title="Library Names">
<link href="Functions-Summary.html#Functions-Summary" rel="prev" title="Functions Summary">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="zh-Hans" >
<a name="Part-II_003a-Problem-Solving-with-awk"></a>
<div class="header">
<p>下一个： <a href="Sample-Programs.html#Sample-Programs" rel="next" accesskey="n">示例程序</a> ，上一个： <a href="Functions.html#Functions" rel="prev" accesskey="p">函数</a> ，上一个： <a href="index.html#Top" rel="up" accesskey="u">顶部</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<h1 class="part">第二部分：<br>解决问题的方法<code>awk</code></h1>
<hr>


<a name="Library-Functions"></a>
<a name="A-Library-of-awk-Functions"></a>
<h2 class="chapter">10的图书馆<code>awk</code>功能</h2>
<a name="index-libraries-of-awk-functions"></a>
<a name="index-functions_002c-library"></a>
<a name="index-functions_002c-user_002ddefined_002c-library-of"></a>

<p><a href="User_002ddefined.html#User_002ddefined">用户定义的函数</a>描述了如何编写自己的<a href="User_002ddefined.html#User_002ddefined">函数</a> <code>awk</code>功能。编写函数很重要，因为它使您可以将算法和程序任务封装在一个地方。它简化了编程，使程序开发更易于管理，并使程序更具可读性。
</p>
<a name="index-Kernighan_002c-Brian-5"></a>
<a name="index-Plauger_002c-P_002eJ_002e"></a>
<p>在他们的1976年开创性著作《 <cite>软件工具</cite> 》（ <cite>Software Tools）中</cite> ， <a name="DOCF64" href="#FOOT64"><sup>64</sup></a> Brian Kernighan和PJ Plauger写道：</p>
<blockquote>
<p>好的编程不是从一般性中学到的，而是通过运用常识和良好的编程习惯，了解如何使重要的程序变得干净，易于阅读，易于维护和修改，人为工程，高效和可靠。认真学习和模仿优秀的程序可以提高写作水平。
</p></blockquote>

<p>实际上，他们认为这个想法是如此重要，以至于他们将此声明放在了书的封面上。因为我们坚信，他们的说法是正确的，本章和<a href="Sample-Programs.html#Sample-Programs">实践<code>awk</code>程序</a> ，提供了一个不错的代码体，您可以阅读并希望从中学习。
</p>
<p>本章介绍了一个有用的库<code>awk</code>功能。该网页稍后提供的许多示例程序都使用这些功能。在这里，功能是从简单到复杂的。
</p>
<a name="index-Texinfo-1"></a>
<p><a href="Extract-Program.html#Extract-Program">从Texinfo源文件中提取程序</a>提供了一个程序，您可以使用该程序从此Web页面的Texinfo源中提取这些示例库函数和程序的源代码。（这已经作为<code>gawk</code>分配。）
</p>
<p>如果您编写了一个或多个有用的，通用的<code>awk</code>功能，并希望为<code>awk</code>用户社区，请参阅<a href="How-To-Contribute.html#How-To-Contribute">如何贡献</a> ，以获取更多信息。
</p>
<a name="index-portability_002c-example-programs"></a>
<p>本章和<a href="Sample-Programs.html#Sample-Programs">实用</a>程序中的程序<a href="Sample-Programs.html#Sample-Programs"><code>awk</code>程序</a> ，免费使用<code>gawk</code>特定的功能。为不同的实现重写这些程序<code>awk</code>非常简单：</p>
<ul>
<li>诊断错误消息发送到<samp>/dev/stderr</samp> 。使用 ' <samp>| "cat 1>&2"</samp> ' 代替 ' <samp>> "/dev/stderr"</samp> '如果您的系统没有<samp>/dev/stderr</samp> ，或者如果您不能使用<code>gawk</code> 。

</li><li>一些程序使用<code>nextfile</code> （见<a href="Nextfile-Statement.html#Nextfile-Statement">的<code>nextfile</code>语句</a> ）跳过输入文件中任何剩余的输入。

</li><li> <a name="index-case-sensitivity_002c-example-programs"></a><a name="index-IGNORECASE-variable_002c-in-example-programs"></a>最后，某些程序选择忽略输入中的大小写区别。他们通过将一个分配给<code>IGNORECASE</code> 。通过在程序的开头添加以下规则，可以达到几乎相同的效果<a name="DOCF65" href="#FOOT65"><sup>65</sup></a> ：<div class="example">
<pre class="example"># ignore case
{ $0 = tolower($0) }
</pre></div>

<p>另外，请验证在比较中使用的所有regexp和字符串常量仅使用小写字母。
</p></li></ul>

<table class="menu" border="0" cellspacing="0">
<tbody><tr><td align="left" valign="top">• <a href="Library-Names.html#Library-Names" accesskey="1">库名称</a> ：</td><td>  </td><td align="left" valign="top">如何在库函数中最佳命名私有全局变量。
</td></tr>
<tr><td align="left" valign="top">• <a href="General-Functions.html#General-Functions" accesskey="2">一般功能</a> ：</td><td>  </td><td align="left" valign="top">通用功能。
</td></tr>
<tr><td align="left" valign="top">• <a href="Data-File-Management.html#Data-File-Management" accesskey="3">数据文件管理</a> ：</td><td>  </td><td align="left" valign="top">用于管理命令行数据文件的功能。
</td></tr>
<tr><td align="left" valign="top">• <a href="Getopt-Function.html#Getopt-Function" accesskey="4">Getopt函数</a> ：</td><td>  </td><td align="left" valign="top">处理命令行参数的功能。
</td></tr>
<tr><td align="left" valign="top">• <a href="Passwd-Functions.html#Passwd-Functions" accesskey="5">密码功能</a> ：</td><td>  </td><td align="left" valign="top">获取用户信息的功能。
</td></tr>
<tr><td align="left" valign="top">• <a href="Group-Functions.html#Group-Functions" accesskey="6">组功能</a> ：</td><td>  </td><td align="left" valign="top">获取组信息的功能。
</td></tr>
<tr><td align="left" valign="top">• <a href="Walking-Arrays.html#Walking-Arrays" accesskey="7">步进数组</a> ：</td><td>  </td><td align="left" valign="top">遍历数组的函数。
</td></tr>
<tr><td align="left" valign="top">• <a href="Library-Functions-Summary.html#Library-Functions-Summary" accesskey="8">库函数摘要</a> ：</td><td>  </td><td align="left" valign="top">库功能摘要。
</td></tr>
<tr><td align="left" valign="top">• <a href="Library-Exercises.html#Library-Exercises" accesskey="9">图书馆练习</a> ：</td><td>  </td><td align="left" valign="top">练习。
</td></tr>
</tbody></table>

<div class="footnote">
<hr>
<h4 class="footnotes-heading">脚注</h4>

<h3><a name="FOOT64" href="#DOCF64">（64）</a></h3>
<p>令人遗憾的是，在35年后，本书的许多课程尚未被大量的实践程序员所吸取。</p>
<h3><a name="FOOT65" href="#DOCF65">（65）</a></h3>
<p>效果不同。转换后的记录的输出将全部小写，而<code>IGNORECASE</code>保留输入记录的原始内容。</p>
</div>
<hr>
<div class="header">
<p>下一个： <a href="Sample-Programs.html#Sample-Programs" rel="next" accesskey="n">示例程序</a> ，上一个： <a href="Functions.html#Functions" rel="prev" accesskey="p">函数</a> ，上一个： <a href="index.html#Top" rel="up" accesskey="u">顶部</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>