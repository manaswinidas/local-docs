<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>其他参数（《 GNU Awk用户指南》）</title>

<meta name="description" content="Other Arguments (The GNU Awk User’s Guide)">
<meta name="keywords" content="Other Arguments (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Invoking-Gawk.html#Invoking-Gawk" rel="up" title="Invoking Gawk">
<link href="Naming-Standard-Input.html#Naming-Standard-Input" rel="next" title="Naming Standard Input">
<link href="Options.html#Options" rel="prev" title="Options">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="zh-Hans" >
<a name="Other-Arguments"></a>
<div class="header">
<p>下一篇： <a href="Naming-Standard-Input.html#Naming-Standard-Input" rel="next" accesskey="n">命名标准输入</a> ，上一篇： <a href="Options.html#Options" rel="prev" accesskey="p">选项</a> ，上<a href="Invoking-Gawk.html#Invoking-Gawk" rel="up" accesskey="u">一篇</a> ： <a href="Invoking-Gawk.html#Invoking-Gawk" rel="up" accesskey="u">调用Gawk</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="Other-Command_002dLine-Arguments"></a>
<h3 class="section">2.3其他命令行参数</h3>
<a name="index-command-line_002c-arguments"></a>
<a name="index-arguments_002c-command_002dline"></a>

<p>命令行上的任何其他参数通常都被视为要按指定顺序处理的输入文件。但是，具有以下形式的参数<code><var>var</var>=<var>value</var></code> ，分配值<var>value</var>到变量<var>var</var> —它根本不指定文件。（请参阅<a href="Assignment-Options.html#Assignment-Options">在命令行上分配变量</a> 。）在以下示例中， <var>count=1</var>是变量赋值，而不是文件名：</p>
<div class="example">
<pre class="example">awk -f program.awk file1 count=1 file2
</pre></div>

<a name="index-gawk_002c-ARGIND-variable-in"></a>
<a name="index-ARGIND-variable_002c-command_002dline-arguments"></a>
<a name="index-ARGV-array_002c-indexing-into"></a>
<a name="index-ARGC_002fARGV-variables_002c-command_002dline-arguments"></a>
<p>所有命令行参数均可供您使用<code>awk</code>程序在<code>ARGV</code>数组（请参见<a href="Built_002din-Variables.html#Built_002din-Variables">预定义变量</a>部分）。从中省略了命令行选项和程序文本（如果有） <code>ARGV</code> 。包括变量分配在内的所有其他参数。作为每个元素<code>ARGV</code>已处理<code>gawk</code>套<code>ARGIND</code>到索引<code>ARGV</code>当前元素的
</p>
<p>改变中<code>ARGC</code>和<code>ARGV</code>在你的<code>awk</code>程序让您控制<code>awk</code>处理输入文件； <a href="ARGC-and-ARGV.html#ARGC-and-ARGV">使用</a>中将对此进行详细描述<a href="ARGC-and-ARGV.html#ARGC-and-ARGV"><code>ARGC</code>和<code>ARGV</code></a> 。
</p>
<a name="index-input-files_002c-variable-assignments-and"></a>
<a name="index-variable-assignments-and-input-files"></a>
<p>文件名参数和变量分配参数之间的区别在于<code>awk</code>将要打开下一个输入文件。在执行的那一点，它检查文件名以查看它是否确实是变量赋值。如果是这样的话， <code>awk</code>设置变量而不是读取文件。
</p>
<p>因此，在读取所有先前指定的文件之后，变量实际上接收给定值。特别是，以这种方式分配的变量的值<em>不可</em>里面<code>BEGIN</code>规则（见节<a href="BEGIN_002fEND.html#BEGIN_002fEND">的<code>BEGIN</code>和<code>END</code>特殊模式</a> ），因为此类规则先于<code>awk</code>开始扫描参数列表。
</p>
<a name="index-dark-corner_002c-escape-sequences"></a>
<p>命令行中给出的变量值将按转义序列进行处理（请参见<a href="Escape-Sequences.html#Escape-Sequences">转义序列</a>部分）。（直流）
</p>
<p>在一些非常早期的实现中<code>awk</code> ，如果变量分配发生在任何文件名之前，则分配将发生<em>在</em>文件名<em>之前</em> <code>BEGIN</code>规则已执行。 <code>awk</code>因此，行为不一致。在内部有一些命令行分配<code>BEGIN</code>规则，而其他人则没有。不幸的是，某些应用程序依赖于此“功能”。什么时候<code>awk</code>已更改为更加一致， <samp>-v</samp>选项已添加，以适应依赖于旧行为的应用程序。
</p>
<p>变量分配功能对于分配给以下变量最有用： <code>RS</code> ， <code>OFS</code>和<code>ORS</code> ，用于在扫描数据文件之前控制输入和输出格式。如果在数据文件上需要多次通过，则对于控制状态也很有用。例如：</p>
<a name="index-files_002c-multiple-passes-over"></a>
<div class="example">
<pre class="example">awk 'pass == 1  { <var>pass 1 stuff</var> }
     pass == 2  { <var>pass 2 stuff</var> }' pass=1 mydata pass=2 mydata
</pre></div>

<p>鉴于变量分配功能， <samp>-F</samp>用于设置值的选项<code>FS</code>并非绝对必要。保留历史兼容性。
</p>
<hr>
<div class="header">
<p>下一篇： <a href="Naming-Standard-Input.html#Naming-Standard-Input" rel="next" accesskey="n">命名标准输入</a> ，上一篇： <a href="Options.html#Options" rel="prev" accesskey="p">选项</a> ，上<a href="Invoking-Gawk.html#Invoking-Gawk" rel="up" accesskey="u">一篇</a> ： <a href="Invoking-Gawk.html#Invoking-Gawk" rel="up" accesskey="u">调用Gawk</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>