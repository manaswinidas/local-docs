<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>AWKPATH变量（《 GNU Awk用户指南》）</title>

<meta name="description" content="AWKPATH Variable (The GNU Awk User’s Guide)">
<meta name="keywords" content="AWKPATH Variable (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Environment-Variables.html#Environment-Variables" rel="up" title="Environment Variables">
<link href="AWKLIBPATH-Variable.html#AWKLIBPATH-Variable" rel="next" title="AWKLIBPATH Variable">
<link href="Environment-Variables.html#Environment-Variables" rel="prev" title="Environment Variables">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="manual.css">


</head>

<body lang="zh-Hans" >
<a name="AWKPATH-Variable"></a>
<div class="header">
<p>下一篇： <a href="AWKLIBPATH-Variable.html#AWKLIBPATH-Variable" rel="next" accesskey="n">AWKLIBPATH变量</a> ，上一篇： <a href="Environment-Variables.html#Environment-Variables" rel="up" accesskey="u">环境变量</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="The-AWKPATH-Environment-Variable"></a>
<h4 class="subsection">2.5.1 <code>AWKPATH</code>环境变量</h4>
<a name="index-AWKPATH-environment-variable"></a>
<a name="index-directories_002c-searching-for-source-files"></a>
<a name="index-search-paths_002c-for-source-files"></a>
<a name="index-differences-in-awk-and-gawk_002c-AWKPATH-environment-variable"></a>
<p>多数情况<code>awk</code>实施时，必须为每个程序文件提供精确的路径名，除非该文件位于当前目录中。但是随着<code>gawk</code> ，如果提供给<samp>-f</samp>要么<samp>-i</samp>选项不包含目录分隔符' <samp>/</samp> '， 然后<code>gawk</code>逐一<em>搜索</em>目录列表（称为<em>搜索路径</em> ），以查找具有指定名称的文件。
</p>
<p>搜索路径是一个字符串，由用冒号分隔的目录名称组成。 <a name="DOCF13" href="#FOOT13"><sup>13</sup></a> <code>gawk</code>从中获取搜索路径<code>AWKPATH</code>环境变量。如果该变量不存在或具有空值， <code>gawk</code>使用默认路径（稍后介绍）。
</p>
<p>搜索路径功能对于构建有用的库特别有用<code>awk</code>功能。可以将库文件放在默认路径的标准目录中，然后在命令行上使用短文件名指定。否则，您将必须为每个文件键入完整的文件名。
</p>
<p>通过使用<samp>-i</samp>要么<samp>-f</samp>选项，您的命令行<code>awk</code>程序可以使用<code>awk</code>库文件（见<a href="Library-Functions.html#Library-Functions">库<code>awk</code>函数</a> ）。如果没有执行路径搜索<code>gawk</code>处于兼容模式。两者都适用<samp>--traditional</samp>和<samp>--posix</samp> 。请参阅“ <a href="Options.html#Options">命令行选项”部分</a> 。
</p>
<p>如果在初始搜索后未找到源代码文件，则在添加后缀“ <samp>.awk</samp> '到文件名。
</p>
<p><code>gawk</code>的路径搜索机制与shell相似。（请参阅<a href="https://www.gnu.org/software/bash/manual/"><cite>Bourne-Again SHell手册</cite></a> 。）它将路径中的空条目视为指示当前目录。（通过以冒号开头或结尾的路径或通过将两个冒号彼此相邻放置来表示空条目[' <samp>::</samp> ']。）
</p>
<blockquote>
<p><b>注意：</b>要在路径中包括当前目录，请在任意位置<samp>.</samp>作为路径中的条目或在路径中写入空条目。
</p>
<p>过去的不同版本<code>gawk</code>也会在路径搜索之前或之后在当前目录中显式查找。从4.1.2版开始，这种情况不再发生。如果要查看当前目录，则必须包括<samp>.</samp>在搜索路径中作为单独的条目或作为空条目。
</p></blockquote>

<p>的默认值<code>AWKPATH</code>是' <samp>.:/usr/local/share/awk</samp> '。 <a name="DOCF14" href="#FOOT14"><sup>14</sup></a>以来<samp>.</samp>一开始就包含在内<code>gawk</code>首先在当前目录中搜索，然后在<samp>/usr/local/share/awk</samp> 。实际上，这意味着您几乎不需要更改<code>AWKPATH</code> 。
</p>
<p>请参阅“ <a href="Shell-Startup-Files.html#Shell-Startup-Files">外壳程序启动文件”</a>部分，以获取有关有助于操作<code>AWKPATH</code>变量。
</p>
<p><code>gawk</code>将其使用的搜索路径的值放入<code>ENVIRON["AWKPATH"]</code> 。这样就可以从内部访问实际的搜索路径值<code>awk</code>程序。
</p>
<p>虽然你可以改变<code>ENVIRON["AWKPATH"]</code>在你内<code>awk</code>程序，这对正在运行的程序的行为没有影响。这是有道理的： <code>AWKPATH</code>环境变量用于查找程序源文件。程序运行后，已找到所有文件，并且<code>gawk</code>不再需要使用<code>AWKPATH</code> 。
</p>
<div class="footnote">
<hr>
<h4 class="footnotes-heading">脚注</h4>

<h3><a name="FOOT13" href="#DOCF13">（13）</a></h3>
<p>MS-Windows上的分号。</p>
<h3><a name="FOOT14" href="#DOCF14">（14）</a></h3>
<p>您的版本<code>gawk</code>可以使用其他目录；这将取决于如何<code>gawk</code>已建成并安装。实际目录的值是<code>$(datadir)</code>何时产生<code>gawk</code>已配置。不过，您可能不必为此担心。</p>
</div>
<hr>
<div class="header">
<p>下一篇： <a href="AWKLIBPATH-Variable.html#AWKLIBPATH-Variable" rel="next" accesskey="n">AWKLIBPATH变量</a> ，上一篇： <a href="Environment-Variables.html#Environment-Variables" rel="up" accesskey="u">环境变量</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>