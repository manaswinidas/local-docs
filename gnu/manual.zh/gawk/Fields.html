<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>字段（《 GNU Awk用户指南》）</title>

<meta name="description" content="Fields (The GNU Awk User’s Guide)">
<meta name="keywords" content="Fields (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Reading-Files.html#Reading-Files" rel="up" title="Reading Files">
<link href="Nonconstant-Fields.html#Nonconstant-Fields" rel="next" title="Nonconstant Fields">
<link href="gawk-split-records.html#gawk-split-records" rel="prev" title="gawk split records">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="zh-Hans" >
<a name="Fields"></a>
<div class="header">
<p>下一个：非<a href="Nonconstant-Fields.html#Nonconstant-Fields" rel="next" accesskey="n">恒定字段</a> ，上一个： <a href="Records.html#Records" rel="prev" accesskey="p">记录</a> ，向上： <a href="Reading-Files.html#Reading-Files" rel="up" accesskey="u">读取文件</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="Examining-Fields"></a>
<h3 class="section">4.2检查领域</h3>

<a name="index-examining-fields"></a>
<a name="index-fields-1"></a>
<a name="index-accessing-fields"></a>
<a name="index-fields_002c-examining"></a>
<p>什么时候<code>awk</code>读取输入记录，记录将自动<em>解析</em>或由记录分隔<code>awk</code>实用程序分成块称为<em>字段</em> 。默认情况下，字段之间用<em>空格</em>分隔，例如一行中的单词。中的空白<code>awk</code>表示一个或多个空格，TAB或换行符的任何字符串；被认为由其他语言（如换页，垂直制表符，等）空白其他字符<em>不</em>被认为是由空白<code>awk</code> 。
</p>
<p>字段的目的是使您更方便地引用这些记录。您不必使用它们-如果需要，可以对整个记录进行操作-但字段使操作变得简单<code>awk</code>程序如此强大。
</p>
<a name="index-field-operator-_0024"></a>
<a name="index-_0024-_0028dollar-sign_0029_002c-_0024-field-operator"></a>
<a name="index-dollar-sign-_0028_0024_0029_002c-_0024-field-operator"></a>
<a name="index-field-operators_002c-dollar-sign-as"></a>
<p>您使用美元符号（' <samp>$</samp> '）引用一个字段<code>awk</code>程序，然后是所需字段的编号。从而， <code>$1</code>指第一个字段， <code>$2</code>到第二个，依此类推。（与Unix shell不同，字段号不限于单个数字。
<code>$127</code>是记录中的第127个字段。）例如，假设以下是一行输入：</p>
<div class="example">
<pre class="example">This seems like a pretty nice example.
</pre></div>

<p>这是第一个字段，或者<code>$1</code> ，是<samp>This</samp> '，第二个字段，或<code>$2</code> ，是<samp>seems</samp> '， 等等。请注意，最后一个字段<code>$7</code> ，是<samp>example.</samp> '。因为'之间没有空格<samp>e</samp>和<samp>.</samp> '，则该期间被视为第七字段的一部分。
</p>
<a name="index-NF-variable"></a>
<a name="index-fields_002c-number-of"></a>
<p><code>NF</code>是一个预定义变量，其值是当前记录中的字段数。 <code>awk</code>自动更新<code>NF</code>每次读取记录。无论有多少字段，记录中的最后一个字段都可以用<code>$NF</code> 。所以， <code>$NF</code>是相同的<code>$7</code> ，即<samp>example.</samp> '。如果您尝试引用最后一个字段以外的字段（例如<code>$8</code>当记录只有七个字段时），您将获得空字符串。（如果在数字运算中使用，则为零。）
</p>
<p>指某东西的用途<code>$0</code> ，看起来像是对“ zeroth”字段的引用，是一个特例：它代表整个输入记录。如果您对特定字段不感兴趣，请使用它。这里还有更多示例：</p>
<div class="example">
<pre class="example">$ <kbd>awk '$1 ~ /li/ { print $0 }' mail-list</kbd>
-| Amelia       555-5553     amelia.zodiacusque@gmail.com    F
-| Julie        555-6699     julie.perscrutabor@skeeve.com   F
</pre></div>

<p>本示例打印文件中的每条记录<samp>mail-list</samp>其第一个字段包含字符串“ <samp>li</samp> '。
</p>
<p>相比之下，以下示例查找“ <samp>li</samp> '在<em>整个记录中</em> ，并为每个匹配的输入记录打印第一个和最后一个字段：</p>
<div class="example">
<pre class="example">$ <kbd>awk '/li/ { print $1, $NF }' mail-list</kbd>
-| Amelia F
-| Broderick R
-| Julie F
-| Samuel A
</pre></div>

<hr>
<div class="header">
<p>下一个：非<a href="Nonconstant-Fields.html#Nonconstant-Fields" rel="next" accesskey="n">恒定字段</a> ，上一个： <a href="Records.html#Records" rel="prev" accesskey="p">记录</a> ，向上： <a href="Reading-Files.html#Reading-Files" rel="up" accesskey="u">读取文件</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>