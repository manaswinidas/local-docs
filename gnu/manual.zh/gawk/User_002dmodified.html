<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>用户修改的（GNU Awk用户指南）</title>

<meta name="description" content="User-modified (The GNU Awk User’s Guide)">
<meta name="keywords" content="User-modified (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Built_002din-Variables.html#Built_002din-Variables" rel="up" title="Built-in Variables">
<link href="Auto_002dset.html#Auto_002dset" rel="next" title="Auto-set">
<link href="Built_002din-Variables.html#Built_002din-Variables" rel="prev" title="Built-in Variables">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="zh-Hans" >
<a name="User_002dmodified"></a>
<div class="header">
<p>下一页： <a href="Auto_002dset.html#Auto_002dset" rel="next" accesskey="n">自动设置</a> ，上一步： <a href="Built_002din-Variables.html#Built_002din-Variables" rel="up" accesskey="u">内置变量</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="Built_002din-Variables-That-Control-awk"></a>
<h4 class="subsection">7.5.1控制的内置变量<code>awk</code></h4>
<a name="index-predefined-variables_002c-user_002dmodifiable"></a>
<a name="index-user_002dmodifiable-variables"></a>

<p>以下是可按字母顺序排列的变量列表，您可以更改这些变量以控制<code>awk</code>做某些事情。
</p>
<p>特定于的变量<code>gawk</code>都用英镑符号（' <samp>#</samp> '）。这些变量是<code>gawk</code>扩展名。其他<code>awk</code>实现或<code>gawk</code>处于兼容模式（请参阅“ <a href="Options.html#Options">命令行选项”</a>一节），它们并不特殊。（在每个变量的说明中都注明了任何例外。）
</p>
<dl compact>
<dd><a name="index-BINMODE-variable"></a>
<a name="index-binary-input_002foutput"></a>
<a name="index-input_002foutput_002c-binary"></a>
<a name="index-differences-in-awk-and-gawk_002c-BINMODE-variable"></a>
</dd>
<dt><code>BINMODE #</code></dt>
<dd><p>在非POSIX系统上，此变量指定对所有I / O使用二进制模式。数字值1、2或3分别指定输入文件，输出文件或所有文件应使用二进制I / O。小于零的数值将被视为零，而大于三的数值将被视为三。或者，字符串值<code>"r"</code>要么<code>"w"</code>指定输入文件和输出文件分别应使用二进制I / O。字符串值<code>"rw"</code>要么<code>"wr"</code>表示所有文件应使用二进制I / O。其他任何字符串值都与<code>"rw"</code> ，但原因<code>gawk</code>生成警告消息。 <code>BINMODE</code> <a href="PC-Using.html#PC-Using">使用</a>中有更详细的描述<a href="PC-Using.html#PC-Using"><code>gawk</code>在PC操作系统上</a> 。 <code>mawk</code> （请参阅<a href="Other-Versions.html#Other-Versions">其他免费提供的</a>部分<a href="Other-Versions.html#Other-Versions"><code>awk</code>实现</a> ）也支持此变量，但仅使用数字值。
</p>
<a name="index-CONVFMT-variable-1"></a>
<a name="index-POSIX-awk_002c-CONVFMT-variable-and"></a>
<a name="index-numbers_002c-converting_002c-to-strings"></a>
<a name="index-strings_002c-converting_002c-numbers-to"></a>
</dd>
<dt><code><code>CONVFMT</code></code></dt>
<dd><p>一个字符串，用于控制数字到字符串的转换（请参阅部分<a href="Conversion.html#Conversion">的字符串和数字转换</a> ）。实际上，它是通过作为<code>sprintf()</code>函数（请参阅“ <a href="String-Functions.html#String-Functions">字符串操作函数”</a>一节）。其默认值为<code>"%.6g"</code> 。
<code>CONVFMT</code>由POSIX标准引入。
</p>
<a name="index-gawk_002c-FIELDWIDTHS-variable-in-1"></a>
<a name="index-FIELDWIDTHS-variable-1"></a>
<a name="index-differences-in-awk-and-gawk_002c-FIELDWIDTHS-variable"></a>
<a name="index-field-separators_002c-FIELDWIDTHS-variable-and"></a>
<a name="index-separators_002c-field_002c-FIELDWIDTHS-variable-and"></a>
</dd>
<dt><code>FIELDWIDTHS #</code></dt>
<dd><p>以空格分隔的列列表，告诉<code>gawk</code>如何使用固定的列边界分割输入。从版本4.2开始，每个字段宽度都可以选择以冒号分隔的值开头，该值指定在字段开始之前要跳过的字符数。将值分配给<code>FIELDWIDTHS</code>覆盖使用<code>FS</code>和<code>FPAT</code>用于字段拆分。有关更多信息，请参见<a href="Constant-Size.html#Constant-Size">读取固定宽度数据</a>部分。
</p>
<a name="index-gawk_002c-FPAT-variable-in-1"></a>
<a name="index-FPAT-variable-1"></a>
<a name="index-differences-in-awk-and-gawk_002c-FPAT-variable"></a>
<a name="index-field-separators_002c-FPAT-variable-and"></a>
<a name="index-separators_002c-field_002c-FPAT-variable-and"></a>
</dd>
<dt><code>FPAT #</code></dt>
<dd><p>一个正则表达式（作为字符串）可以告诉<code>gawk</code>基于与正则表达式匹配的文本创建字段。将值分配给<code>FPAT</code>覆盖使用<code>FS</code>和<code>FIELDWIDTHS</code>用于字段拆分。有关更多信息，请参见<a href="Splitting-By-Content.html#Splitting-By-Content">按内容定义字段</a>部分。
</p>
<a name="index-FS-variable-1"></a>
<a name="index-separators_002c-field"></a>
<a name="index-field-separators-1"></a>
</dd>
<dt><code>FS</code></dt>
<dd><p>输入字段分隔符（请参阅“ <a href="Field-Separators.html#Field-Separators">指定如何分隔字段”</a>部分）。该值是一个单字符字符串或一个多字符正则表达式，它与输入记录中字段之间的分隔符匹配。如果值为空字符串（ <code>""</code> ），那么记录中的每个字符都会变成一个单独的字段。（此行为是<code>gawk</code>延期。POSIX <code>awk</code>在以下情况下未指定行为<code>FS</code>是空字符串。尽管如此，其他版本的<code>awk</code>也请客<code>""</code>特别。）
</p>
<p>默认值为<code>" "</code> <!-- /@w --> ，一个由单个空格组成的字符串。作为一个特殊的例外，此值表示空格，TAB和/或换行符的任何序列都是单个分隔符。它还会导致记录开头和结尾处的空格，TAB和换行符被忽略。
</p>
<p>您可以设置的值<code>FS</code>在命令行上使用<samp>-F</samp>选项：</p>
<div class="example">
<pre class="example">awk -F, '<var>program</var>' <var>input-files</var>
</pre></div>

<a name="index-gawk_002c-field-separators-and"></a>
<p>如果<code>gawk</code>正在使用<code>FIELDWIDTHS</code>要么<code>FPAT</code>用于字段拆分，将值分配给<code>FS</code>原因<code>gawk</code>回到正常状态<code>FS</code>基于字段的拆分。一种简单的方法是简单地说“ <samp>FS = FS</samp> ”，也许带有解释性评论。
</p>
<a name="index-gawk_002c-IGNORECASE-variable-in-1"></a>
<a name="index-IGNORECASE-variable"></a>
<a name="index-differences-in-awk-and-gawk_002c-IGNORECASE-variable"></a>
<a name="index-case-sensitivity_002c-string-comparisons-and"></a>
<a name="index-case-sensitivity_002c-regexps-and-1"></a>
<a name="index-regular-expressions_002c-case-sensitivity-1"></a>
</dd>
<dt><code>IGNORECASE #</code></dt>
<dd><p>如果<code>IGNORECASE</code>为非零或非空，则所有字符串比较和所有正则表达式匹配均不区分大小写。这适用于带有' <samp>~</samp> '和' <samp>!~</samp> '， <code>gensub()</code> ， <code>gsub()</code> ， <code>index()</code> ， <code>match()</code> ， <code>patsplit()</code> ， <code>split()</code>和<code>sub()</code>功能，记录终止<code>RS</code> ，并使用<code>FS</code>和<code>FPAT</code> 。但是， <code>IGNORECASE</code>使用单字符字段分隔符时， <em>不会</em>影响数组下标，也不会影响字段拆分。请参阅<a href="Case_002dsensitivity.html#Case_002dsensitivity">匹配中的区分大小写</a>部分。
</p>
<a name="index-gawk_002c-LINT-variable-in"></a>
<a name="index-LINT-variable"></a>
<a name="index-differences-in-awk-and-gawk_002c-LINT-variable"></a>
<a name="index-lint-checking"></a>
</dd>
<dt><code>LINT #</code></dt>
<dd><p>如果此变量为true（非零或非null）， <code>gawk</code>表现得像<samp>--lint</samp>命令行选项有效（请参阅“ <a href="Options.html#Options">命令行选项”部分</a> ）。的值为<code>"fatal"</code> ，皮棉警告变成致命错误。的值为<code>"invalid"</code> ，仅发出有关实际上无效的警告。（这尚未完全实现。）其他任何真值会打印非致命警告。为赋一个假值<code>LINT</code>关闭棉绒警告。
</p>
<p>这个变量是<code>gawk</code>延期。其他不特别<code>awk</code>实现。与其他特殊变量不同，更改<code>LINT</code>确实会影响棉绒警告的产生，即使<code>gawk</code>处于兼容模式。就像<samp>--lint</samp>和<samp>--traditional</samp>选项独立控制<code>gawk</code>的行为，在程序执行期间对棉绒警告的控制与<code>awk</code>被执行。
</p>
<a name="index-OFMT-variable-2"></a>
<a name="index-numbers_002c-converting_002c-to-strings-1"></a>
<a name="index-strings_002c-converting_002c-numbers-to-1"></a>
</dd>
<dt><code>OFMT</code></dt>
<dd><p>一个字符串，用于控制数字到字符串的<a href="Conversion.html#Conversion">转换</a> （请参阅<a href="Conversion.html#Conversion">“字符串和数字的转换”</a>部分），以使用<code>print</code>声明。它通过作为第一个参数传递给<code>sprintf()</code>函数（请参阅“ <a href="String-Functions.html#String-Functions">字符串操作函数”</a>一节）。其默认值为<code>"%.6g"</code> 。的较早版本<code>awk</code>用过的<code>OFMT</code>指定将数字转换为通用表达式中的字符串的格式；现在由<code>CONVFMT</code> 。
</p>
<a name="index-print-statement_002c-OFMT-variable-and"></a>
<a name="index-OFS-variable-2"></a>
<a name="index-separators_002c-field-1"></a>
<a name="index-field-separators-2"></a>
</dd>
<dt><code>OFS</code></dt>
<dd><p>输出字段分隔符（请参阅<a href="Output-Separators.html#Output-Separators">输出分隔符</a>部分）。在由a打印的字段之间输出<code>print</code>声明。其默认值为<code>" "</code> <!-- /@w --> ，一个由单个空格组成的字符串。
</p>
<a name="index-ORS-variable-1"></a>
</dd>
<dt><code>ORS</code></dt>
<dd><p>输出记录分隔符。在每个末尾输出<code>print</code>声明。其默认值为<code>"\n"</code> ，换行符。（请参阅<a href="Output-Separators.html#Output-Separators">输出分隔符</a>部分。）
</p>
<a name="index-PREC-variable"></a>
</dd>
<dt><code>PREC #</code></dt>
<dd><p>任意精度浮点数的工作精度，默认为53位（请参阅<a href="Setting-precision.html#Setting-precision">设置精度</a>部分）。
</p>
<a name="index-ROUNDMODE-variable"></a>
</dd>
<dt><code>ROUNDMODE #</code></dt>
<dd><p>默认情况下，用于数字的任意精度算术的舍入模式<code>"N"</code> （ <code>roundTiesToEven</code>在IEEE 754标准中；请参阅<a href="Setting-the-rounding-mode.html#Setting-the-rounding-mode">设置舍入模式部分</a> ）。
</p>
<a name="index-RS-variable-1"></a>
<a name="index-separators_002c-for-records-2"></a>
<a name="index-record-separators-1"></a>
</dd>
<dt><code><code>RS</code></code></dt>
<dd><p>输入记录分隔符。它的默认值是一个包含单个换行符的字符串，这意味着输入记录由一行文本组成。它也可以是空字符串，在这种情况下，记录由空白行分隔。如果它是一个正则表达式，则记录由输入文本中正则表达式的匹配项分隔。（请参见<a href="Records.html#Records">如何将输入拆分为记录部分</a> 。）
</p>
<p>的能力<code>RS</code>成为正则表达式是一个<code>gawk</code>延期。在大多数其他<code>awk</code>实现，或者<code>gawk</code>处于兼容模式（请参阅“ <a href="Options.html#Options">命令行选项”</a>一节），只是<code>RS</code>使用的值。
</p>
<a name="index-SUBSEP-variable"></a>
<a name="index-separators_002c-subscript"></a>
<a name="index-subscript-separators"></a>
</dd>
<dt><code><code>SUBSEP</code></code></dt>
<dd><p>下标分隔符。它的默认值为<code>"\034"</code>并且用于分隔多维数组的索引部分。因此，表达式“ <samp>foo["A", "B"]
<!-- /@w --></samp>确实可以访问<code>foo["A\034B"]</code> （请参阅“ <a href="Multidimensional.html#Multidimensional">多维数组”</a>一节）。
</p>
<a name="index-gawk_002c-TEXTDOMAIN-variable-in"></a>
<a name="index-TEXTDOMAIN-variable"></a>
<a name="index-differences-in-awk-and-gawk_002c-TEXTDOMAIN-variable"></a>
<a name="index-internationalization_002c-localization"></a>
</dd>
<dt><code>TEXTDOMAIN #</code></dt>
<dd><p>用于国际化的程序<code>awk</code>水平。它为源文本中的特殊标记的字符串常量以及<code>dcgettext()</code> ， <code>dcngettext()</code>和<code>bindtextdomain()</code>功能（请参阅<a href="Internationalization.html#Internationalization">国际化与<code>gawk</code></a> ）。的默认值<code>TEXTDOMAIN</code>是<code>"messages"</code> 。
</p></dd>
</dl>

<hr>
<div class="header">
<p>下一页： <a href="Auto_002dset.html#Auto_002dset" rel="next" accesskey="n">自动设置</a> ，上一步： <a href="Built_002din-Variables.html#Built_002din-Variables" rel="up" accesskey="u">内置变量</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>