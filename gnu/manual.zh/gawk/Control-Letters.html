<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>控制字母（GNU Awk用户指南）</title>

<meta name="description" content="Control Letters (The GNU Awk User’s Guide)">
<meta name="keywords" content="Control Letters (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Printf.html#Printf" rel="up" title="Printf">
<link href="Format-Modifiers.html#Format-Modifiers" rel="next" title="Format Modifiers">
<link href="Basic-Printf.html#Basic-Printf" rel="prev" title="Basic Printf">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="manual.css">


</head>

<body lang="zh-Hans" >
<a name="Control-Letters"></a>
<div class="header">
<p>下一篇： <a href="Format-Modifiers.html#Format-Modifiers" rel="next" accesskey="n">格式修饰符</a> ，上一篇： <a href="Basic-Printf.html#Basic-Printf" rel="prev" accesskey="p">基本Printf</a> ，上一篇： <a href="Printf.html#Printf" rel="up" accesskey="u">Printf</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="Format_002dControl-Letters"></a>
<h4 class="subsection">5.5.2格式控制字母</h4>
<a name="index-printf-statement_002c-format_002dcontrol-characters"></a>
<a name="index-format-specifiers_002c-printf-statement"></a>

<p>格式说明符以字符'开头<samp>%</samp> '并以<em>格式控制字母</em>结尾-它告诉<code>printf</code>声明如何输出一项。格式控制字母指定要打印的值的<em>类型</em> 。格式说明符的其余部分由可选<em>修饰符</em>组成，这些<em>修饰符</em>控制<em>如何</em>打印值（例如字段宽度）。这是格式控制字母的列表：</p>
<dl compact>
<dt><code>%a</code> ，<code>%A</code></dt>
<dd><p>格式为[的浮点数<code>-</code> ] <code>0x<var>h</var>.<var>hhhh</var>p+-<var>dd</var></code> （C99十六进制浮点格式）。对于<code>%A</code> ，使用大写字母代替小写字母。
</p>
<blockquote>
<p><b>注意：</b>当前的POSIX标准要求支持<code>%a</code>和<code>%A</code>在<code>awk</code> 。据我们所知<code>gawk</code> ，是<code>awk</code>实际实现的是BWK <code>awk</code> 。因此它的使用非常不可移植！
</p>
<p>此外，这些格式在基础C库所在的任何系统上均不可用<code>printf()</code>功能不支持它们。在撰写本文时，在当前系统中，只有OpenVMS不支持它们。
</p></blockquote>

</dd>
<dt><code>%c</code></dt>
<dd><p>打印数字作为字符；因此， <samp>printf "%c", 65</samp> '输出字母' <samp>A</samp> '。字符串值的输出是字符串的第一个字符。
</p>
<a name="index-dark-corner_002c-format_002dcontrol-characters"></a>
<a name="index-gawk_002c-format_002dcontrol-characters"></a>
<blockquote>
<p><b>注意：</b> POSIX标准说要打印字符串的第一个字符。在多字节字符的语言环境中， <code>gawk</code>尝试将字符串的前导字节转换为有效的宽字符，然后打印该字符的多字节编码。同样，在打印数值时， <code>gawk</code>允许该值在可以用宽字符保留的值的数字范围内。如果转换为多字节编码失败， <code>gawk</code>使用值的低八位作为要打印的字符。
</p>
<p>其他<code>awk</code>版本通常限制自己打印字符串的第一个字节或单个字节（0-255）范围内的数值。（直流）
</p></blockquote>


</dd>
<dt><code>%d</code> ，<code>%i</code></dt>
<dd><p>打印一个十进制整数。这两个控制字母是等效的。（“ <samp>%i</samp> '规范是为了与ISO C兼容。）
</p>
</dd>
<dt><code>%e</code> ，<code>%E</code></dt>
<dd><p>以科学（指数）表示法打印数字。例如：</p>
<div class="example">
<pre class="example">printf &quot;%4.3e\n&quot;, 1950
</pre></div>

<p>打印' <samp>1.950e+03</samp> '，总共有四个有效数字，其中三个在小数点后。（“ <samp>4.3</samp> '代表两个修饰符，将在下一节中讨论。）' <samp>%E</samp> '使用' <samp>E</samp> ' 代替 ' <samp>e</samp>在输出中。
</p>
</dd>
<dt><code>%f</code></dt>
<dd><p>以浮点数表示法打印数字。例如：</p>
<div class="example">
<pre class="example">printf &quot;%4.3f&quot;, 1950
</pre></div>

<p>打印' <samp>1950.000</samp> '，至少要有四个有效数字，其中三个在小数点后。（“ <samp>4.3</samp> '代表两个修饰符，将在下一节中讨论。）
</p>
<p>在支持IEEE 754浮点格式的系统上，代表负无穷大的值格式为' <samp>-inf</samp> ' 要么 ' <samp>-infinity</samp> '，并且正无穷大为' <samp>inf</samp> ' 要么 ' <samp>infinity</samp> '。特殊的“非数字”值格式为“ <samp>-nan</samp> ' 要么 ' <samp>nan</samp> '（请参阅<a href="Math-Definitions.html#Math-Definitions">其他资料</a> ）。
</p>
</dd>
<dt><code>%F</code></dt>
<dd><p>喜欢 ' <samp>%f</samp> '，但无穷大和“非数字”值是使用大写字母拼写的。
</p>
<p>' <samp>%F</samp> '格式是ISO C的POSIX扩展；并非所有系统都支持它。对于那些没有的， <code>gawk</code>使用“ <samp>%f</samp>代替。
</p>
</dd>
<dt><code>%g</code> ，<code>%G</code></dt>
<dd><p>以科学计数法或浮点计数法打印数字，以较少的字符为准；如果结果以科学计数法打印， <samp>%G</samp> '使用' <samp>E</samp> ' 代替 ' <samp>e</samp> '。
</p>
</dd>
<dt><code>%o</code></dt>
<dd><p>打印一个无符号的八进制整数（请参阅“ <a href="Nondecimal_002dnumbers.html#Nondecimal_002dnumbers">八进制和十六进制数”部分</a> ）。
</p>
</dd>
<dt><code>%s</code></dt>
<dd><p>打印一个字符串。
</p>
</dd>
<dt><code>%u</code></dt>
<dd><p>打印一个无符号的十进制整数。（此格式仅适用于边际使用，因为<code>awk</code>是浮点数；主要是为了与C兼容而提供的。）
</p>
</dd>
<dt><code>%x</code> ，<code>%X</code></dt>
<dd><p>打印一个无符号的十六进制整数； ' <samp>%X</samp> '使用字母' <samp>A</samp> '通过' <samp>F</samp> ' 代替 ' <samp>a</samp> '通过' <samp>f</samp> '（请参见“ <a href="Nondecimal_002dnumbers.html#Nondecimal_002dnumbers">八进制和十六进制数”部分</a> ）。
</p>
</dd>
<dt><code>%%</code></dt>
<dd><p>打印单个“ <samp>%</samp> '。这不会消耗参数，并且会忽略所有修饰符。
</p></dd>
</dl>

<a name="index-dark-corner_002c-format_002dcontrol-characters-1"></a>
<a name="index-gawk_002c-format_002dcontrol-characters-1"></a>
<blockquote>
<p><b>注意：</b>当使用整数格式控制字母表示的值超出最宽的C整数类型的范围时， <code>gawk</code>切换到“ <samp>%g</samp>格式说明符。如果<samp>--lint</samp>在命令行上提供（请参阅“ <a href="Options.html#Options">命令行选项”</a>一节）， <code>gawk</code>警告这一点。其他版本<code>awk</code>可能会打印无效值或完全执行其他操作。（直流）
</p></blockquote>

<blockquote>
<p><b>注意：</b>用于浮点运算的IEEE 754标准允许表示“无穷大”（正数和负数）的特殊值和“非数字”（NaN）的值。
</p>
<p>这些值的输入和输出以文本字符串的形式出现。这对于<code>awk</code>语言，它早于IEEE标准。<a href="POSIX-Floating-Point-Problems.html#POSIX-Floating-Point-Problems">标准与现有惯例</a>中提供了进一步的细节;请在那里看看。
</p></blockquote>

<hr>
<div class="header">
<p>下一篇： <a href="Format-Modifiers.html#Format-Modifiers" rel="next" accesskey="n">格式修饰符</a> ，上一篇： <a href="Basic-Printf.html#Basic-Printf" rel="prev" accesskey="p">基本Printf</a> ，上一篇： <a href="Printf.html#Printf" rel="up" accesskey="u">Printf</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>