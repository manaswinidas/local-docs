<html ><head></head><body lang="zh-Hans" >﻿<!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>选项（《 GNU Awk用户指南》）</title>

<meta name="description" content="Options (The GNU Awk User’s Guide)">
<meta name="keywords" content="Options (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Invoking-Gawk.html#Invoking-Gawk" rel="up" title="Invoking Gawk">
<link href="Other-Arguments.html#Other-Arguments" rel="next" title="Other Arguments">
<link href="Command-Line.html#Command-Line" rel="prev" title="Command Line">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">





<a name="Options"></a>
<div class="header">
<p>下一个： <a href="Other-Arguments.html#Other-Arguments" rel="next" accesskey="n">其他参数</a> ，上一个： <a href="Command-Line.html#Command-Line" rel="prev" accesskey="p">命令行</a> ，上： <a href="Invoking-Gawk.html#Invoking-Gawk" rel="up" accesskey="u">调用Gawk</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="Command_002dLine-Options"></a>
<h3 class="section">2.2命令行选项</h3>
<a name="index-options_002c-command_002dline"></a>
<a name="index-command-line_002c-options"></a>
<a name="index-GNU-long-options-1"></a>
<a name="index-options_002c-long-1"></a>

<p>选项以破折号开头，并且由单个字符组成。GNU样式的长选项由两个破折号和一个关键字组成。只要缩写允许唯一标识该选项，就可以缩写该关键字。如果该选项带有一个参数，则关键字中的任何一个都紧随其后的是等号（' <samp>=</samp> '）和参数的值，或关键字和参数的值之间用空格分隔。如果某个特定选项的值被多次赋予，则它是最重要的值。
</p>
<a name="index-POSIX-awk_002c-GNU-long-options-and"></a>
<p>每个长选项<code>gawk</code>有相应的POSIX样式的short选项。长短选项在所有情况下均可互换。下表描述了POSIX标准要求的选项：</p>
<dl compact>
<dt><code>-F <var>fs</var></code></dt>
<dt><code>--field-separator <var>fs</var></code></dt>
<dd><a name="index-_002dF-option"></a>
<a name="index-_002d_002dfield_002dseparator-option"></a>
<a name="index-FS-variable_002c-_002d_002dfield_002dseparator-option-and"></a>
<p>设置<code>FS</code>可变为<var>fs</var> （请参阅“ <a href="Field-Separators.html#Field-Separators">指定字段如何分离”一节</a> ）。
</p>
</dd>
<dt><code>-f <var>source-file</var></code></dt>
<dt><code>--file <var>source-file</var></code></dt>
<dd><a name="index-_002df-option-1"></a>
<a name="index-_002d_002dfile-option"></a>
<a name="index-awk-programs_002c-location-of"></a>
<p>阅读<code>awk</code>程序源<var>source-file</var>而不是第一个nonoption参数中。该选项可以多次给出；的<code>awk</code>程序由每个指定内容的串联组成<var>source-file</var> 。
</p>
<p>以命名的文件<samp>-f</samp>被当作他们有“ <samp>@namespace "awk"</samp>在他们的开始。有关更多信息，请参见“ <a href="Changing-The-Namespace.html#Changing-The-Namespace">更改命名空间”</a>一节。
</p>
</dd>
<dt><code>-v <var>var</var>=<var>val</var></code></dt>
<dt><code>--assign <var>var</var>=<var>val</var></code></dt>
<dd><a name="index-_002dv-option"></a>
<a name="index-_002d_002dassign-option"></a>
<a name="index-variables_002c-setting"></a>
<p>设置变量<var>var</var>值<var>val</var> <em>在</em>程序开始执行<em>之前</em> 。此类变量值可在<code>BEGIN</code>规则（请参阅“ <a href="Other-Arguments.html#Other-Arguments">其他命令行参数”一节</a> ）。
</p>
<p>的<samp>-v</samp>选项只能设置一个变量，但是可以多次使用，每次都设置另一个变量，如下所示： <samp>awk <span class="nolinebreak">-v</span> foo=1
<!-- /@w --> <span class="nolinebreak">-v</span> bar=2
<!-- /@w --> …</samp> '。
</p>
<a name="index-predefined-variables_002c-_002dv-option_002c-setting-with"></a>
<a name="index-variables_002c-predefined_002c-_002dv-option_002c-setting-with"></a>
<blockquote>
<p><b>注意：</b>使用<samp>-v</samp>设置内置变量的值可能会导致令人惊讶的结果。 <code>awk</code>会根据需要重置这些变量的值，可能会忽略您可能给定的任何初始值。
</p></blockquote>

</dd>
<dt><code>-W <var>gawk-opt</var></code></dt>
<dd><a name="index-_002dW-option"></a>
<p>提供特定于实现的选项。这是POSIX约定，用于提供特定于实现的选项。这些选项还具有相应的GNU风格的long选项。注意，只要缩写保持唯一，长选项就可以缩写。完整清单<code>gawk</code>接下来提供特定于选项的选项。
</p>
</dd>
<dt><code>--</code></dt>
<dd><a name="index-command-line_002c-options_002c-end-of"></a>
<a name="index-options_002c-command_002dline_002c-end-of"></a>
<p>向命令行选项结束发出信号。以下参数即使以'开头也不会被视为选项<samp>-</samp> '。这种解释<samp>--</samp>遵循POSIX参数解析约定。
</p>
<a name="index-_002d-_0028hyphen_0029_002c-file-names-beginning-with"></a>
<a name="index-hyphen-_0028_002d_0029_002c-file-names-beginning-with"></a>
<p>如果文件名开头为“ <samp>-</samp> '，或者在Shell脚本中，如果您要由用户指定的文件名可以以' <samp>-</samp> '。这对于将选项传递到<code>awk</code>程序;请参阅<a href="Getopt-Function.html#Getopt-Function">处理命令行选项</a> 。
</p></dd>
</dl>

<p>以下列表描述<code>gawk</code>特定的选项：</p>
<dl compact>
<dt><samp>-b</samp></dt>
<dt><samp>--characters-as-bytes</samp></dt>
<dd><a name="index-_002db-option"></a>
<a name="index-_002d_002dcharacters_002das_002dbytes-option"></a>
<p>原因<code>gawk</code>将所有输入数据视为单字节字符。另外，所有输出都用<code>print</code>要么<code>printf</code>被视为单字节字符。
</p>
<p>一般， <code>gawk</code>遵循POSIX标准，并尝试根据当前语言环境处理其输入数据（请参见<a href="Locales.html#Locales">“您在哪里有所作为”</a>部分）。这通常可能涉及（内部）将多字节字符转换为宽字符，并且如果输入数据不包含有效的多字节字符，则可能导致问题或混乱。此选项是一种简单的方法<code>gawk</code> ，“交出我的数据！”
</p>
</dd>
<dt><samp>-c</samp></dt>
<dt><samp>--traditional</samp></dt>
<dd><a name="index-_002dc-option"></a>
<a name="index-_002d_002dtraditional-option"></a>
<a name="index-compatibility-mode-_0028gawk_0029_002c-specifying"></a>
<p>指定<em>兼容模式</em> ，其中GNU扩展为<code>awk</code>语言被禁用，因此<code>gawk</code>表现就像BWK <code>awk</code> 。请参阅中的<a href="POSIX_002fGNU.html#POSIX_002fGNU">扩展</a>部分<a href="POSIX_002fGNU.html#POSIX_002fGNU"><code>gawk</code>不在POSIX中<code>awk</code></a> ，其中总结了扩展名。另请参见<a href="Compatibility-Mode.html#Compatibility-Mode">向下兼容性和调试</a> 。
</p>
</dd>
<dt><samp>-C</samp></dt>
<dt><samp>--copyright</samp></dt>
<dd><a name="index-_002dC-option"></a>
<a name="index-_002d_002dcopyright-option"></a>
<a name="index-GPL-_0028General-Public-License_0029_002c-printing"></a>
<p>打印通用公共许可证的简短版本，然后退出。
</p>
</dd>
<dt><samp>-d</samp> [ <var>file</var> ]</dt>
<dt><samp>--dump-variables</samp> [ <code>=</code><var>file</var> ]</dt>
<dd><a name="index-_002dd-option"></a>
<a name="index-_002d_002ddump_002dvariables-option"></a>
<a name="index-dump-all-variables-of-a-program"></a>
<a name="index-awkvars_002eout-file"></a>
<a name="index-files_002c-awkvars_002eout"></a>
<a name="index-variables_002c-global_002c-printing-list-of"></a>
<p>打印全局变量，它们的类型和最终值的排序列表，以<var>file</var> 。如果不<var>file</var>提供，将该列表打印到名为<samp>awkvars.out</samp>在当前目录中。两者之间不允许有空格<samp>-d</samp>和<var>file</var>如果<var>file</var>提供。
</p>
<a name="index-troubleshooting_002c-typographical-errors_002c-global-variables"></a>
<p>列出所有全局变量是在程序中查找印刷错误的好方法。如果您的大型程序具有很多功能，并且还希望确保您的函数不会无意中使用本应是局部变量的全局变量，那么您也可以使用此选项。（使用简单的变量名（例如， <code>i</code> ， <code>j</code>等）
</p>
</dd>
<dt><samp>-D</samp> [ <var>file</var> ]</dt>
<dt><samp>--debug</samp> [ <code>=</code><var>file</var> ]</dt>
<dd><a name="index-_002dD-option"></a>
<a name="index-_002d_002ddebug-option"></a>
<a name="index-awk-debugging_002c-enabling"></a>
<p>启用调试<code>awk</code>程序（见<a href="Debugging.html#Debugging">简介<code>gawk</code>调试器</a> ）。默认情况下，调试器从键盘（标准输入）以交互方式读取命令。可选的<var>file</var>参数使您可以指定带有命令列表的文件，以使调试器非交互式地执行。两者之间不允许有空格<samp>-D</samp>和<var>file</var>如果<var>file</var>提供。
</p>
</dd>
<dt><samp>-e</samp> <var>program-text</var></dt>
<dt><samp>--source</samp> <var>program-text</var></dt>
<dd><a name="index-_002de-option"></a>
<a name="index-_002d_002dsource-option"></a>
<a name="index-source-code_002c-mixing"></a>
<p>在以下位置提供程序源代码<var>program-text</var> 。此选项允许您将文件中的源代码与您在命令行中输入的源代码混合在一起。当你有，你想从你的命令行程序使用的库函数，这是特别有用的（见<a href="AWKPATH-Variable.html#AWKPATH-Variable">的<code>AWKPATH</code>环境变量</a> ）。
</p>
<p>注意<code>gawk</code>将每个字符串都视为以换行符结尾（即使不是）。这使构建整个程序更加容易。
</p>
<blockquote>
<p><b>注意：</b>在5.0版之前，没有要求每个版本<var>program-text</var>成为一个完整的句法单元。即，以下工作：</p>
<div class="example">
<pre class="example">$ <kbd>gawk -e 'BEGIN { a = 5 ;' -e 'print a }'</kbd>
-| 5
</pre></div>

<p>但是，这不再是正确的。如果您有任何依赖此功能的脚本，则应对其进行修改。
</p>
<p>这是因为每个<var>program-text</var>被视为具有“ <samp>@namespace "awk"</samp>一开始。有关更多信息，请参见“ <a href="Changing-The-Namespace.html#Changing-The-Namespace">更改命名空间”</a>一节。
</p></blockquote>

</dd>
<dt><samp>-E</samp> <var>file</var></dt>
<dt><samp>--exec</samp> <var>file</var></dt>
<dd><a name="index-_002dE-option"></a>
<a name="index-_002d_002dexec-option"></a>
<a name="index-awk-programs_002c-location-of-1"></a>
<a name="index-CGI_002c-awk-scripts-for"></a>
<p>相似<samp>-f</samp> ，阅读<code>awk</code>来自的程序文本<var>file</var> 。与有两个区别<samp>-f</samp> ：</p>
<ul>
<li>此选项终止选项处理。命令行上的其他任何内容都直接传递给<code>awk</code>程序。

</li><li>格式为“的命令行变量分配<samp><var>var</var>=<var>value</var></samp>不允许。
</li></ul>

<p>对于通过URL传递参数的万维网CGI应用程序，此选项特别必要。使用此选项可防止恶意（或其他）用户传递选项，分配或<code>awk</code>源代码（通过<samp>-e</samp> ）到CGI应用程序。 <a name="DOCF11" href="#FOOT11"><sup>11</sup></a>此选项应与' <samp>#!</samp>脚本（请参见“ <a href="Executable-Scripts.html#Executable-Scripts">可执行文件</a> ”部分<a href="Executable-Scripts.html#Executable-Scripts"><code>awk</code>程序</a> ），如下所示：</p>
<div class="example">
<pre class="example">#! /usr/local/bin/gawk -E

<var>awk program here &hellip;</var>
</pre></div>

</dd>
<dt><samp>-g</samp></dt>
<dt><samp>--gen-pot</samp></dt>
<dd><a name="index-_002dg-option"></a>
<a name="index-_002d_002dgen_002dpot-option"></a>
<a name="index-portable-object-files_002c-generating"></a>
<a name="index-files_002c-portable-object_002c-generating"></a>
<p>分析源程序并生成一个GNU <code>gettext</code>标准输出上所有已标记为要转换的字符串常量的可移植对象模板文件。请参阅<a href="Internationalization.html#Internationalization">国际化<code>gawk</code></a> ，以获取有关此选项的信息。
</p>
</dd>
<dt><samp>-h</samp></dt>
<dt><samp>--help</samp></dt>
<dd><a name="index-_002dh-option"></a>
<a name="index-_002d_002dhelp-option"></a>
<a name="index-GNU-long-options_002c-printing-list-of"></a>
<a name="index-options_002c-printing-list-of"></a>
<a name="index-printing_002c-list-of-options"></a>
<p>打印“用法”消息，总结使用短样式和长样式的选项<code>gawk</code>接受然后退出。
</p>
</dd>
<dt><samp>-i</samp> <var>source-file</var></dt>
<dt><samp>--include</samp> <var>source-file</var></dt>
<dd><a name="index-_002di-option"></a>
<a name="index-_002d_002dinclude-option"></a>
<a name="index-awk-programs_002c-location-of-2"></a>
<p>阅读<code>awk</code>来自的源库<var>source-file</var> 。此选项完全等同于使用<code>@include</code>程序内部的指令。它非常类似于<samp>-f</samp>选项，但有两个重要区别。首先，什么时候<samp>-i</samp>使用时，如果先前已加载程序源，则不加载<samp>-f</samp> ， <code>gawk</code>始终加载文件。其次，由于此选项旨在与代码库一起使用， <code>gawk</code>无法将此类文件识别为构成主程序输入的文件。因此，在处理完<samp>-i</samp>论据<code>gawk</code>仍然希望通过以下方式找到主要的源代码<samp>-f</samp>选项或在命令行上。
</p>
<p>以命名的文件<samp>-i</samp>被当作他们有“ <samp>@namespace "awk"</samp>在他们的开始。有关更多信息，请参见“ <a href="Changing-The-Namespace.html#Changing-The-Namespace">更改命名空间”</a>一节。
</p>
</dd>
<dt><samp>-l</samp> <var>ext</var></dt>
<dt><samp>--load</samp> <var>ext</var></dt>
<dd><a name="index-_002dl-option"></a>
<a name="index-_002d_002dload-option"></a>
<a name="index-loading_002c-extensions"></a>
<p>加载名为<var>ext</var> 。扩展存储为系统共享库。此选项使用<code>AWKLIBPATH</code>环境变量。默认情况下，将为您的平台提供正确的库后缀，因此无需在扩展名中指定。扩展初始化例程应命名为<code>dl_load()</code> 。另一种方法是使用<code>@load</code>程序内部的关键字以加载共享库。此高级功能在<a href="Dynamic-Extensions.html#Dynamic-Extensions">编写扩展</a>功能中有详细描述<a href="Dynamic-Extensions.html#Dynamic-Extensions">。 <code>gawk</code></a> 。
</p>
</dd>
<dt><samp>-L</samp> [ <var>value</var> ]</dt>
<dt><samp>--lint</samp> [ <code>=</code><var>value</var> ]</dt>
<dd><a name="index-_002dl-option-1"></a>
<a name="index-_002d_002dlint-option-1"></a>
<a name="index-lint-checking_002c-issuing-warnings"></a>
<a name="index-warnings_002c-issuing"></a>
<p>警告可疑或不可移植的构造<code>awk</code>实现。两者之间不允许有空格<samp>-L</samp>和<var>value</var>如果<var>value</var>提供。在以下情况下会发出一些警告<code>gawk</code>首先读取您的程序。其他程序在运行时随程序执行而发出。带有可选参数' <samp>fatal</samp> '，棉绒警告变成致命错误。这可能很激烈，但是使用它肯定会鼓励清洁剂的发展。 <code>awk</code>程式。带有可选参数' <samp>invalid</samp> '，仅发出有关实际上无效的警告。（这尚未完全实现。）
</p>
<p>某些警告只会打印一次，即使它们警告的可疑构造在您的计算机中多次出现<code>awk</code>程序。因此，当消除由<samp>--lint</samp> ，您应小心搜索所有不当构造的所有出现。如<code>awk</code>程序通常很短，这样做并不麻烦。
</p>
</dd>
<dt><samp>-M</samp></dt>
<dt><samp>--bignum</samp></dt>
<dd><a name="index-_002dM-option"></a>
<a name="index-_002d_002dbignum-option"></a>
<p>选择数字的任意精度算术。如果以下情况，此选项无效<code>gawk</code>未编译为使用GNU MPFR和MP库（请参见“ <a href="Arbitrary-Precision-Arithmetic.html#Arbitrary-Precision-Arithmetic">算术和任意精度算术”部分， <code>gawk</code></a> ）。
</p>
</dd>
<dt><samp>-n</samp></dt>
<dt><samp>--non-decimal-data</samp></dt>
<dd><a name="index-_002dn-option"></a>
<a name="index-_002d_002dnon_002ddecimal_002ddata-option"></a>
<a name="index-hexadecimal-values_002c-enabling-interpretation-of"></a>
<a name="index-octal-values_002c-enabling-interpretation-of"></a>
<a name="index-troubleshooting_002c-_002d_002dnon_002ddecimal_002ddata-option"></a>
<p>启用对输入数据中八进制和十六进制值的自动解释（请参阅“ <a href="Nondecimal-Data.html#Nondecimal-Data">允许非十进制输入数据”部分</a> ）。
</p>
<blockquote>
<p><b>注意：</b>此选项可能会严重破坏旧程序。小心使用。另请注意，此选项可能在以后的版本中消失<code>gawk</code> 。
</p></blockquote>

</dd>
<dt><samp>-N</samp></dt>
<dt><samp>--use-lc-numeric</samp></dt>
<dd><a name="index-_002dN-option"></a>
<a name="index-_002d_002duse_002dlc_002dnumeric-option"></a>
<p>解析数字输入数据时，请强制使用语言环境的小数点字符（请参见<a href="Locales.html#Locales">“您在哪里有所作为”</a>部分）。
</p>
<a name="index-pretty-printing"></a>
</dd>
<dt><samp>-o</samp> [ <var>file</var> ]</dt>
<dt><samp>--pretty-print</samp> [ <code>=</code><var>file</var> ]</dt>
<dd><a name="index-_002do-option"></a>
<a name="index-_002d_002dpretty_002dprint-option"></a>
<p>启用漂亮的打印<code>awk</code>程式。暗示<samp>--no-optimize</samp> 。默认情况下，输出程序在名为的文件中创建<samp>awkprof.out</samp> （请参阅<a href="Profiling.html#Profiling">剖析您的<code>awk</code>程序</a> ）。可选的<var>file</var>参数允许您为输出指定其他文件名。两者之间不允许有空格<samp>-o</samp>和<var>file</var>如果<var>file</var>提供。
</p>
<blockquote>
<p><b>注意：</b>过去，此选项也会执行您的程序。这已不再是这种情况。
</p></blockquote>

</dd>
<dt><samp>-O</samp></dt>
<dt><samp>--optimize</samp></dt>
<dd><a name="index-_002d_002doptimize-option"></a>
<a name="index-_002dO-option"></a>
<p>启用<code>gawk</code>对程序内部表示形式的默认优化。目前，这仅包括简单的恒定折叠。
</p>
<p>默认情况下启用优化。保留该选项主要是为了向后兼容。但是，它可用于取消较早的效果<samp>-s</samp>选项（请参阅此列表后面的内容）。
</p>
</dd>
<dt><samp>-p</samp> [ <var>file</var> ]</dt>
<dt><samp>--profile</samp> [ <code>=</code><var>file</var> ]</dt>
<dd><a name="index-_002dp-option"></a>
<a name="index-_002d_002dprofile-option"></a>
<a name="index-awk-profiling_002c-enabling"></a>
<p>启用分析<code>awk</code>程序（请参阅“ <a href="Profiling.html#Profiling">分析您的程序” <code>awk</code>程序</a> ）。暗示<samp>--no-optimize</samp> 。默认情况下，配置文件是在名为<samp>awkprof.out</samp> 。可选的<var>file</var>参数允许您为配置文件指定其他文件名。两者之间不允许有空格<samp>-p</samp>和<var>file</var>如果<var>file</var>提供。
</p>
<p>该配置文件在左边距中包含程序中每个语句的执行计数，以及每个函数的函数调用计数。
</p>
</dd>
<dt><samp>-P</samp></dt>
<dt><samp>--posix</samp></dt>
<dd><a name="index-_002dP-option"></a>
<a name="index-_002d_002dposix-option"></a>
<a name="index-POSIX-mode"></a>
<a name="index-gawk_002c-extensions_002c-disabling"></a>
<p>在严格的POSIX模式下运行。这会禁用所有<code>gawk</code>扩展名（就像<samp>--traditional</samp> ）并禁用POSIX不允许的所有扩展。有关<a href="Common-Extensions.html#Common-Extensions">通用扩展的摘要</a> ，请参见<a href="Common-Extensions.html#Common-Extensions">通用扩展摘要</a>部分。 <code>gawk</code>被该选项禁用的功能。同样，以下附加限制适用：</p>
<ul>
<li> <a name="index-newlines-1"></a><a name="index-whitespace_002c-newlines-as"></a> '之后不能使用换行符<samp>?</samp> ' 要么 ' <samp>:</samp> '（请参阅<a href="Conditional-Exp.html#Conditional-Exp">条件表达式</a>部分）。


</li><li> <a name="index-FS-variable_002c-TAB-character-as"></a>指定“ <samp>-Ft</samp>命令行上的'不会设置<code>FS</code>成为单个TAB字符（请参阅“ <a href="Field-Separators.html#Field-Separators">指定字段如何分离”部分</a> ）。

</li><li> <a name="index-locale-decimal-point-character"></a><a name="index-decimal-point-character_002c-locale-specific"></a>语言环境的小数点字符用于解析输入数据（请参见<a href="Locales.html#Locales">“您在其中有所作为”</a>部分）。
</li></ul>

<a name="index-_002d_002dtraditional-option_002c-_002d_002dposix-option-and"></a>
<a name="index-_002d_002dposix-option_002c-_002d_002dtraditional-option-and"></a>
<p>如果您同时提供<samp>--traditional</samp>和<samp>--posix</samp>在命令行上， <samp>--posix</samp>优先。<code>gawk</code>如果两个选项都提供，则发出警告。
</p>
</dd>
<dt><samp>-r</samp></dt>
<dt><samp>--re-interval</samp></dt>
<dd><a name="index-_002dr-option"></a>
<a name="index-_002d_002dre_002dinterval-option"></a>
<a name="index-regular-expressions_002c-interval-expressions-and"></a>
<p>在<a href="Regexp-Operators.html#Regexp-Operators">正则表达式中</a>允许使用间隔表达式（请参见<a href="Regexp-Operators.html#Regexp-Operators">正则表达式运算符</a>部分）。现在是<code>gawk</code>的默认行为。但是，此选项仍然保留（既可以向后兼容，也可以与<samp>--traditional</samp> ）。
</p>
</dd>
<dt><samp>-s</samp></dt>
<dt><samp>--no-optimize</samp></dt>
<dd><a name="index-_002d_002dno_002doptimize-option"></a>
<a name="index-_002ds-option"></a>
<p>禁用<code>gawk</code>对程序内部表示形式的默认优化。
</p>
</dd>
<dt><samp>-S</samp></dt>
<dt><samp>--sandbox</samp></dt>
<dd><a name="index-_002dS-option"></a>
<a name="index-_002d_002dsandbox-option"></a>
<a name="index-sandbox-mode"></a>
<a name="index-ARGV-array"></a>
<p>禁用<code>system()</code>函数，输入重定向<code>getline</code> ，输出重定向<code>print</code>和<code>printf</code>以及动态扩展名。另外，禁止将文件名添加到<code>ARGV</code>那时候不在那里<code>gawk</code>开始运行。当您要运行时，这特别有用<code>awk</code>来自可疑来源的脚本，并且需要确保脚本无法访问您的系统（指定的输入数据文件除外）。
</p>
</dd>
<dt><samp>-t</samp></dt>
<dt><samp>--lint-old</samp></dt>
<dd><a name="index-_002dL-option"></a>
<a name="index-_002d_002dlint_002dold-option"></a>
<p>警告原始版本不可用的构造<code>awk</code>从版本7 Unix（请参见<a href="V7_002fSVR3_002e1.html#V7_002fSVR3_002e1">V7和SVR3.1之间的主要更改</a>部分）。
</p>
</dd>
<dt><samp>-V</samp></dt>
<dt><samp>--version</samp></dt>
<dd><a name="index-_002dV-option"></a>
<a name="index-_002d_002dversion-option"></a>
<a name="index-gawk_002c-versions-of_002c-information-about_002c-printing"></a>
<p>打印此特定副本的版本信息<code>gawk</code> 。这使您可以确定您的副本是否<code>gawk</code>关于Free Software Foundation当前正在分发的内容，它是最新的。它对于错误报告也很有用（请参阅“ <a href="Bugs.html#Bugs">报告问题和错误”</a>小节）。
</p></dd>
</dl>

<p>只要提供了程序文本，任何其他选项都将被警告消息标记为无效，否则将被忽略。
</p>
<a name="index-_002dF-option_002c-_002dFt-sets-FS-to-TAB"></a>
<p>在兼容模式下，作为特殊情况，如果<var>fs</var>提供给<samp>-F</samp>选项是“ <samp>t</samp> '， 然后<code>FS</code>设置为TAB字符（ <code>"\t"</code> ）。这仅适用于<samp>--traditional</samp>而不是<samp>--posix</samp> （请参阅“ <a href="Field-Separators.html#Field-Separators">指定字段如何分离”一节</a> ）。
</p>
<a name="index-_002df-option_002c-multiple-uses"></a>
<p>的<samp>-f</samp>选项可以在命令行上多次使用。如果是， <code>awk</code>从所有命名文件中读取其程序源，就好像它们已串联在一起成为一个大文件一样。这对于创建以下内容的库很有用<code>awk</code>功能。这些函数可以编写一次，然后从一个标准位置检索，而不必将其包含在每个单独的程序中。的<samp>-i</samp>在这方面，选择是相似的。（如“ <a href="Definition-Syntax.html#Definition-Syntax">函数定义语法”中所述</a> ，函数名称必须唯一。）
</p>
<p>带标准<code>awk</code> ，即使在键盘上输入了程序，也可以通过指定“ <samp>-f /dev/tty</samp> '。键入程序后，键入<kbd>Ctrl-d</kbd> （文件结尾字符）终止。（您也可以使用“ <samp>-f -</samp> '从标准输入中读取程序源，但是您将无法同时将标准输入用作数据源。）
</p>
<p>因为使用标准笨拙<code>awk</code>混合源文件和命令行的机制<code>awk</code>程式， <code>gawk</code>提供<samp>-e</samp>选项。这不需要您抢占源代码的标准输入；它可以让你轻松搭配命令行和源代码库（见<a href="AWKPATH-Variable.html#AWKPATH-Variable">的<code>AWKPATH</code>环境变量</a> ）。与<samp>-f</samp> ， <samp>-e</samp>和<samp>-i</samp>选项也可以在命令行上多次使用。
</p>
<a name="index-_002de-option-1"></a>
<p>如果不<samp>-f</samp>选项（或<samp>-e</samp>的选项<code>gawk</code> ），然后<code>awk</code>使用第一个非选项命令行参数作为程序源代码的文本。程序文本后面的命令行参数将输入到<code>ARGV</code>数组<code>awk</code> <em>不</em>继续解析命令行寻找选项。
</p>
<a name="index-POSIXLY_005fCORRECT-environment-variable"></a>
<a name="index-lint-checking_002c-POSIXLY_005fCORRECT-environment-variable"></a>
<a name="index-POSIX-mode-1"></a>
<p>如果环境变量<code>POSIXLY_CORRECT</code>存在，然后<code>gawk</code>在严格的POSIX模式下运行，就像您提供的一样<samp>--posix</samp> 。许多GNU程序都在寻找这个环境变量来抑制与POSIX冲突的扩展，但是<code>gawk</code>行为有所不同：它会禁止所有扩展，即使那些与POSIX不冲突的扩展也都处于严格的POSIX模式。如果<samp>--lint</samp>在命令行上提供<code>gawk</code>由于以下原因而开启POSIX模式<code>POSIXLY_CORRECT</code> ，然后发出警告消息，指示POSIX模式有效。通常，您将在Shell的启动文件中设置此变量。对于兼容Bourne的shell（例如Bash），您可以将这些行添加到<samp>.profile</samp>文件放在您的主目录中：</p>
<div class="example">
<pre class="example">POSIXLY_CORRECT=true
export POSIXLY_CORRECT
</pre></div>

<a name="index-csh-utility_002c-POSIXLY_005fCORRECT-environment-variable"></a>
<p>对于与C Shell兼容的Shell，您需要将此行添加到<a name="DOCF12" href="#FOOT12"><sup>12</sup></a> <samp>.login</samp>文件放在您的主目录中：</p>
<div class="example">
<pre class="example">setenv POSIXLY_CORRECT true
</pre></div>

<a name="index-portability_002c-POSIXLY_005fCORRECT-environment-variable"></a>
<p>有<code>POSIXLY_CORRECT</code>不建议将set日常使用，但是它对于测试程序到其他环境的可移植性非常有用。
</p>
<div class="footnote">
<hr>
<h4 class="footnotes-heading">脚注</h4>

<h3><a name="FOOT11" href="#DOCF11">（11）</a></h3>
<p>有关更多详细信息，请参见<a href="http://www.ietf.org/rfc/rfc3875">RFC 3875的</a> 4.4节。另请参阅<a href="https://lists.gnu.org/archive/html/bug-gawk/2014-11/msg00022.html">发送给<code>gawk</code>错误邮件列表</a> 。</p>
<h3><a name="FOOT12" href="#DOCF12">（12）</a></h3>
<p>不建议。</p>
</div>
<hr>
<div class="header">
<p>下一个： <a href="Other-Arguments.html#Other-Arguments" rel="next" accesskey="n">其他参数</a> ，上一个： <a href="Command-Line.html#Command-Line" rel="prev" accesskey="p">命令行</a> ，上： <a href="Invoking-Gawk.html#Invoking-Gawk" rel="up" accesskey="u">调用Gawk</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>