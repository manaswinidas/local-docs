<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>命令行字段分隔符（《 GNU Awk用户指南》）</title>

<meta name="description" content="Command Line Field Separator (The GNU Awk User’s Guide)">
<meta name="keywords" content="Command Line Field Separator (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Field-Separators.html#Field-Separators" rel="up" title="Field Separators">
<link href="Full-Line-Fields.html#Full-Line-Fields" rel="next" title="Full Line Fields">
<link href="Single-Character-Fields.html#Single-Character-Fields" rel="prev" title="Single Character Fields">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="manual.css">


</head>

<body lang="zh-Hans" >
<a name="Command-Line-Field-Separator"></a>
<div class="header">
<p>下一个： <a href="Full-Line-Fields.html#Full-Line-Fields" rel="next" accesskey="n">全行字段</a> ，上一个： <a href="Single-Character-Fields.html#Single-Character-Fields" rel="prev" accesskey="p">单字符字段</a> ，上： <a href="Field-Separators.html#Field-Separators" rel="up" accesskey="u">字段分隔符</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="Setting-FS-from-the-Command-Line"></a>
<h4 class="subsection">4.5.4设置<code>FS</code>从命令行</h4>
<a name="index-_002dF-option_002c-command_002dline"></a>
<a name="index-field-separator_002c-on-command-line"></a>
<a name="index-command-line_002c-FS-on_002c-setting"></a>
<a name="index-FS-variable_002c-setting-from-command-line"></a>

<p><code>FS</code>可以在命令行上设置。使用<samp>-F</samp>这样做的选择。例如：</p>
<div class="example">
<pre class="example">awk -F, '<var>program</var>' <var>input-files</var>
</pre></div>

<p>套<code>FS</code>到<samp>,</samp>字符。请注意，该选项使用大写的' <samp>F</samp> “而不是小写” <samp>f</samp> '。后一种选择（ <samp>-f</samp> ）指定包含<code>awk</code>程序。
</p>
<p>用于以下参数的值<samp>-F</samp>以与分配给预定义变量完全相同的方式处理<code>FS</code> 。字段分隔符中的任何特殊字符都必须适当地转义。例如，使用“ <samp>\</samp> '作为命令行中的字段分隔符，您必须输入：</p>
<div class="example">
<pre class="example"># same as FS = &quot;\\&quot;
awk -F\\\\ '&hellip;' files &hellip;
</pre></div>

<p><a name="index-field-separator_002c-backslash-_0028_005c_0029-as"></a><a name="index-_005c-_0028backslash_0029_002c-as-field-separator"></a><a name="index-backslash-_0028_005c_0029_002c-as-field-separator"></a>因为<samp>\</samp> '用于在外壳中引用， <code>awk</code>看到' <samp>-F\\</samp> '。然后<code>awk</code>处理“ <samp>\\</samp> '用于转义字符（请参见<a href="Escape-Sequences.html#Escape-Sequences">转义序列</a>部分），最后产生一个' <samp>\</samp> '用于字段分隔符。
</p>
<p>作为一种特殊情况，在兼容模式下（请参阅<a href="Options.html#Options">命令行选项</a> ），如果参数为<samp>-F</samp>是' <samp>t</samp> '， 然后<code>FS</code>设置为TAB字符。如果您输入“ <samp>-F\t</samp> '在外壳上没有任何引号的' <samp>\</samp> '被删除，因此<code>awk</code>数字，您确实希望将字段用TAB分隔而不是' <samp>t</samp>的。使用 ' <samp>-v FS="t"</samp> ' 要么 ' <samp>-F"[t]"</samp>如果确实要用'分隔字段，请在命令行上输入' <samp>t</samp>的。使用 ' <samp>-F '\t'</samp> '不处于兼容模式时，以指定TAB分隔字段。
</p>
<p>例如，让我们使用<code>awk</code>程序文件名为<samp>edu.awk</samp>包含模式<code>/edu/</code>和动作“ <samp>print $1</samp> '：</p>
<div class="example">
<pre class="example">/edu/   { print $1 }
</pre></div>

<p>我们也设定<code>FS</code>成为' <samp>-</samp>字符并在文件上运行程序<samp>mail-list</samp> 。以下命令将打印出在大学工作或就读的人员的姓名以及电话号码的前三位的列表：</p>
<div class="example">
<pre class="example">$ <kbd>awk -F- -f edu.awk mail-list</kbd>
-| Fabius       555
-| Samuel       555
-| Jean
</pre></div>

<p>注意输出的第三行。原始文件中的第三行如下所示：</p>
<div class="example">
<pre class="example">Jean-Paul    555-2127     jeanpaul.campanorum@nyu.edu     R
</pre></div>

<p>' <samp>-</samp>作为人名的一部分的'被用作字段分隔符，而不是' <samp>-</samp>最初使用的电话号码中的'。这说明了为什么在选择字段和记录分隔符时必须格外小心。
</p>
<a name="index-Unix-awk_002c-password-files_002c-field-separators-and"></a>
<p>在处理Unix系统密码文件时，单个字符最常见的用途可能是作为字段分隔符。在许多Unix系统上，每个用户在系统密码文件中都有一个单独的条目，每个用户一行。这些行中的信息用冒号分隔。第一个字段是用户的登录名，第二个字段是用户的加密或影子密码。（影子密码由单个' <samp>x</samp> '在第二个字段中。）密码文件条目可能如下所示：</p>
<a name="index-Robbins_002c-Arnold"></a>
<div class="example">
<pre class="example">arnold:x:2076:10:Arnold Robbins:/home/arnold:/bin/bash
</pre></div>

<p>以下程序搜索系统密码文件，并为未显示全名的用户打印条目：</p>
<div class="example">
<pre class="example">awk -F: '$5 == &quot;&quot;' /etc/passwd
</pre></div>

<hr>
<div class="header">
<p>下一个： <a href="Full-Line-Fields.html#Full-Line-Fields" rel="next" accesskey="n">全行字段</a> ，上一个： <a href="Single-Character-Fields.html#Single-Character-Fields" rel="prev" accesskey="p">单字符字段</a> ，上： <a href="Field-Separators.html#Field-Separators" rel="up" accesskey="u">字段分隔符</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>