<html ><head></head><body lang="zh-Hans" >﻿<!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>功能历史记录（《 GNU Awk用户指南》）</title>

<meta name="description" content="Feature History (The GNU Awk User’s Guide)">
<meta name="keywords" content="Feature History (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Language-History.html#Language-History" rel="up" title="Language History">
<link href="Common-Extensions.html#Common-Extensions" rel="next" title="Common Extensions">
<link href="POSIX_002fGNU.html#POSIX_002fGNU" rel="prev" title="POSIX/GNU">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">





<a name="Feature-History"></a>
<div class="header">
<p>下一篇： <a href="Common-Extensions.html#Common-Extensions" rel="next" accesskey="n">通用扩展</a> ，上一篇： <a href="POSIX_002fGNU.html#POSIX_002fGNU" rel="prev" accesskey="p">POSIX / GNU</a> ，上一篇： <a href="Language-History.html#Language-History" rel="up" accesskey="u">语言历史</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="History-of-gawk-Features"></a>
<h3 class="appendixsec">A.6的历史<code>gawk</code>特征</h3>



<p>本节介绍了<code>gawk</code>除了POSIX中的那些<code>awk</code> ，按照它们添加到的顺序<code>gawk</code> 。
</p>
<p>版本2.10 <code>gawk</code>引入了以下功能：</p>
<ul>
<li>的<code>AWKPATH</code>用于指定路径搜索的环境变量<samp>-f</samp>命令行选项（请参阅“ <a href="Options.html#Options">命令行选项”部分</a> ）。

</li><li>的<code>IGNORECASE</code>变量及其影响（请参见<a href="Case_002dsensitivity.html#Case_002dsensitivity">匹配中的区分大小写</a>部分）。

</li><li>的<samp>/dev/stdin</samp> ， <samp>/dev/stdout</samp> ， <samp>/dev/stderr</samp>和<samp>/dev/fd/<var>N</var></samp>专用文件名（见<a href="Special-Files.html#Special-Files">在特殊文件名<code>gawk</code></a> ）。
</li></ul>

<p>版本2.13 <code>gawk</code>引入了以下功能：</p>
<ul>
<li>的<code>FIELDWIDTHS</code>变量及其影响（请参阅<a href="Constant-Size.html#Constant-Size">读取固定宽度数据部分</a> ）。

</li><li>的<code>systime()</code>和<code>strftime()</code>用于获取和打印时间戳的内置函数（请参阅“ <a href="Time-Functions.html#Time-Functions">时间函数”</a>一节）。

</li><li>其他命令行选项（请参阅“ <a href="Options.html#Options">命令行选项”</a>一节）：<ul class="no-bullet">
<li>-的<samp>-W lint</samp>选项以提供对源代码和运行时的错误和可移植性检查。

</li><li>-的<samp>-W compat</samp>选项以关闭GNU扩展。

</li><li>-的<samp>-W posix</samp>完全符合POSIX的选项。
</li></ul>
</li></ul>

<p>版本2.14 <code>gawk</code>引入了以下功能：</p>
<ul>
<li>的<code>next file</code>用于跳到下一个数据文件说明（见<a href="Nextfile-Statement.html#Nextfile-Statement">的<code>nextfile</code>声明</a> ）。
</li></ul>

<p>的2.15版<code>gawk</code>引入了以下功能：</p>
<ul>
<li>新变量（请参阅<a href="Built_002din-Variables.html#Built_002din-Variables">预定义变量</a>部分）：<ul class="no-bullet">
<li>-- <code>ARGIND</code> ，它跟踪<code>FILENAME</code>通过<code>ARGV</code> 。

</li><li>-- <code>ERRNO</code> ，其中包含系统错误消息<code>getline</code>返回-1或<code>close()</code>失败。
</li></ul>

</li><li>的<samp>/dev/pid</samp> ， <samp>/dev/ppid</samp> ， <samp>/dev/pgrpid</samp>和<samp>/dev/user</samp>特殊文件名。这些已被删除。

</li><li>可以使用'一次删除所有数组<samp>delete <var>array</var></samp> '（见节<a href="Delete.html#Delete">的<code>delete</code>声明</a> ）。

</li><li>命令行选项更改（请参阅“ <a href="Options.html#Options">命令行选项”部分</a> ）：<ul class="no-bullet">
<li>-使用以GNU样式开头的长名称选项的能力<samp>--</samp> 。

</li><li>-的<samp>--source</samp>用于混合命令行和库文件源代码的选项。
</li></ul>
</li></ul>

<p>3.0版<code>gawk</code>引入了以下功能：</p>
<ul>
<li>新的或更改的变量：<ul class="no-bullet">
<li>-- <code>IGNORECASE</code>进行了更改，现在适用于字符串比较以及regexp操作（请参见“ <a href="Case_002dsensitivity.html#Case_002dsensitivity">匹配中的大小写敏感性”</a>部分）。

</li><li>-- <code>RT</code> ，其中包含匹配的输入文本<code>RS</code> （请参见<a href="Records.html#Records">如何将输入拆分为记录部分</a> ）。
</li></ul>

</li><li>完全支持POSIX和GNU <a href="Regexp.html#Regexp">正则表达式</a> （请参见<a href="Regexp.html#Regexp">正则表达式</a>部分）。

</li><li>的<code>gensub()</code>函数可进行更强大的文本操作（请参阅“ <a href="String-Functions.html#String-Functions">字符串操作函数”</a>一节）。

</li><li>的<code>strftime()</code>函数获取了默认的时间格式，从而可以不带任何参数地对其进行调用（请参见<a href="Time-Functions.html#Time-Functions">时间函数</a>一节）。

</li><li>的能力<code>FS</code>对于第三个论点<code>split()</code>为空字符串（请参见<a href="Single-Character-Fields.html#Single-Character-Fields">使每个字符成为独立字段一节</a> ）。

</li><li>的能力<code>RS</code>成为正则表达式（请参见<a href="Records.html#Records">如何将输入拆分为记录部分</a> ）。

</li><li>的<code>next file</code>声明成为<code>nextfile</code> （见<a href="Nextfile-Statement.html#Nextfile-Statement">的<code>nextfile</code>声明</a> ）。

</li><li>的<code>fflush()</code> BWK的功能<code>awk</code> （然后在Bell实验室；请参阅“ <a href="I_002fO-Functions.html#I_002fO-Functions">输入/输出功能”</a>一节）。

</li><li>新的命令行选项：<ul class="no-bullet">
<li>-的<samp>--lint-old</samp>用于警告原始版本7 Unix版本中不可用的构造的选项<code>awk</code> （请参阅<a href="V7_002fSVR3_002e1.html#V7_002fSVR3_002e1">“ V7和SVR3.1之间的主要更改”</a>部分）。

</li><li>-的<samp>-m</samp> BWK的选项<code>awk</code> 。（当时，布莱恩还在贝尔实验室。）后来从他的<code>awk</code>和从<code>gawk</code> 。

</li><li>-的<samp>--re-interval</samp>选项以在<a href="Regexp-Operators.html#Regexp-Operators">正则表达式中</a>提供间隔表达式（请参见<a href="Regexp-Operators.html#Regexp-Operators">正则表达式运算符</a>部分）。

</li><li>-的<samp>--traditional</samp>选项被添加为更好的名字<samp>--compat</samp> （请参阅“ <a href="Options.html#Options">命令行选项”部分</a> ）。
</li></ul>

</li><li>使用GNU Autoconf来控制配置过程（请参见<a href="Quick-Installation.html#Quick-Installation">编译</a>部分） <a href="Quick-Installation.html#Quick-Installation"><code>gawk</code>适用于Unix-like Systems</a> ）。

</li><li>Amiga支持。此后已删除。

</li></ul>

<p>版本3.1 <code>gawk</code>引入了以下功能：</p>
<ul>
<li>新变量（请参阅<a href="Built_002din-Variables.html#Built_002din-Variables">预定义变量</a>部分）：<ul class="no-bullet">
<li>-- <code>BINMODE</code> ，适用于非POSIX系统，该系统允许对输入和/或输出文件进行二进制I / O（请参阅<a href="PC-Using.html#PC-Using">使用<code>gawk</code>在PC操作系统上</a> ）。

</li><li>-- <code>LINT</code> ，它动态控制棉绒警告。

</li><li>-- <code>PROCINFO</code> ，用于提供与流程相关的信息的数组。

</li><li>-- <code>TEXTDOMAIN</code> ，用于设置应用程序的国际化文本域（请参阅“ <a href="Internationalization.html#Internationalization">国际化与<code>gawk</code></a> ）。
</li></ul>

</li><li>使用八进制和十六进制常量的能力<code>awk</code>程序源代码（请参见“ <a href="Nondecimal_002dnumbers.html#Nondecimal_002dnumbers">八进制和十六进制数”部分</a> ）。

</li><li>' <samp>|&</samp>到协同处理的双向I / O的运算符（请参阅<a href="Two_002dway-I_002fO.html#Two_002dway-I_002fO">与另一个进程的双向通信</a>一节）。

</li><li>的<samp>/inet</samp>使用'的TCP / IP网络专用文件<samp>|&</samp> '（请参阅<a href="TCP_002fIP-Networking.html#TCP_002fIP-Networking">使用<code>gawk</code>用于网络编程</a> ）。

</li><li>可选的第二个参数<code>close()</code>它允许关闭通向协同处理的双向管道的一端（请参阅<a href="Two_002dway-I_002fO.html#Two_002dway-I_002fO">与另一进程进行双向通信</a>一节）。

</li><li>可选的第三个参数<code>match()</code>用于捕获正则表达式中文本匹配子表达式的函数（请参见<a href="String-Functions.html#String-Functions">字符串操作函数</a>一节）。

</li><li>中的位置说明符<code>printf</code>简化翻译的格式（请参阅<a href="Printf-Ordering.html#Printf-Ordering">重新排列</a>部分<a href="Printf-Ordering.html#Printf-Ordering"><code>printf</code>参数</a> ）。

</li><li>许多新的内置函数：<ul class="no-bullet">
<li>-的<code>asort()</code>和<code>asorti()</code>用于对数组进行排序的函数（请参见<a href="Array-Sorting.html#Array-Sorting">控制数组遍历和数组排序一节</a> ）。

</li><li>-的<code>bindtextdomain()</code> ， <code>dcgettext()</code>和<code>dcngettext()</code>国际化功能（请参阅<a href="Programmer-i18n.html#Programmer-i18n">国际</a>化部分<a href="Programmer-i18n.html#Programmer-i18n"><code>awk</code>程序</a> ）。

</li><li>-的<code>extension()</code>函数以及动态添加新的内置函数的能力（请参阅<a href="Dynamic-Extensions.html#Dynamic-Extensions">编写扩展的内容<code>gawk</code></a> ）。

</li><li>-的<code>mktime()</code>用于创建时间戳的函数（请参见“ <a href="Time-Functions.html#Time-Functions">时间函数”</a>一节）。

</li><li>-的<code>and()</code> ， <code>or()</code> ， <code>xor()</code> ， <code>compl()</code> ， <code>lshift()</code> ， <code>rshift()</code>和<code>strtonum()</code>功能（请参阅“ <a href="Bitwise-Functions.html#Bitwise-Functions">位操作功能”</a>一节）。
</li></ul>

</li><li> <a name="index-next-file-statement"></a>对“ <samp>next file</samp> '作为两个字被完全去除（见节<a href="Nextfile-Statement.html#Nextfile-Statement">的<code>nextfile</code>声明</a> ）。

</li><li>其他命令行选项（请参阅“ <a href="Options.html#Options">命令行选项”</a>一节）：<ul class="no-bullet">
<li>-的<samp>--dump-variables</samp>选项以打印所有全局变量的列表。

</li><li>-的<samp>--exec</samp>选项，用于CGI脚本。

</li><li>-的<samp>--gen-po</samp>命令行选项，以及使用前导下划线标记应翻译的字符串（请参阅<a href="String-Extraction.html#String-Extraction">提取标记的字符串</a>一节）。

</li><li>-的<samp>--non-decimal-data</samp>选项，以允许非十进制输入数据（见节<a href="Nondecimal-Data.html#Nondecimal-Data">允许非十进制输入数据</a> ）。

</li><li>-的<samp>--profile</samp>选项和<code>pgawk</code> ，其分析版本<code>gawk</code> ，用于生成以下内容的执行配置文件<code>awk</code>程序（请参阅“ <a href="Profiling.html#Profiling">分析您的程序” <code>awk</code>程序</a> ）。

</li><li>-的<samp>--use-lc-numeric</samp>强制选择<code>gawk</code>使用语言环境的小数点来解析输入数据（请参阅<a href="Conversion.html#Conversion">“字符串和数字的转换”一节</a> ）。
</li></ul>

</li><li>使用GNU Automake来帮助标准化配置过程（请参阅<a href="Quick-Installation.html#Quick-Installation">编译</a>部分） <a href="Quick-Installation.html#Quick-Installation"><code>gawk</code>适用于Unix-like Systems</a> ）。

</li><li>GNU的使用<code>gettext</code>对于<code>gawk</code>自己的消息输出（请参阅“ <a href="Gawk-I18N.html#Gawk-I18N"><code>gawk</code>会说你的语言</a> ）。

</li><li>BeOS支持。后来将其删除。

</li><li>串联支持。后来将其删除。

</li><li>Atari港口正式不受支持，后来被完全拆除。

</li><li>源代码已更改为使用ISO C标准样式的函数定义。

</li><li>符合POSIX <code>sub()</code>和<code>gsub()</code> （请参阅<a href="Gory-Details.html#Gory-Details">有关“ <samp>\</samp> '和' <samp>&</samp>与<code>sub()</code> ， <code>gsub()</code>和<code>gensub()</code></a> ）。

</li><li>的<code>length()</code>函数已扩展为接受数组参数并返回数组中的元素数（请参阅“ <a href="String-Functions.html#String-Functions">字符串操作函数”</a>一节）。

</li><li>的<code>strftime()</code>函数获取了第三个参数，以将打印时间设置为UTC（请参见<a href="Time-Functions.html#Time-Functions">时间函数</a>部分）。
</li></ul>

<p>版本4.0 <code>gawk</code>引入了以下功能：</p>
<ul>
<li>变量添加：<ul class="no-bullet">
<li>-- <code>FPAT</code> ，它允许您指定与字段匹配的正则表达式，而不是与字段分隔符匹配（请参阅<a href="Splitting-By-Content.html#Splitting-By-Content">按内容定义字段</a> ）。

</li><li>-如果<code>PROCINFO["sorted_in"]</code>存在， <samp>for(iggy in foo)</samp> '循环在对索引进行循环之前对其进行排序。该元素的值可控制在循环遍历开始之前如何对索引进行排序（请参见<a href="Controlling-Scanning.html#Controlling-Scanning">将预定义的阵列扫描顺序与<code>gawk</code></a> ）。

</li><li>-- <code>PROCINFO["strftime"]</code> ，其中保留了默认格式<code>strftime()</code> （请参阅<a href="Time-Functions.html#Time-Functions">时间功能</a>一节）。
</li></ul>

</li><li>特殊文件<samp>/dev/pid</samp> ， <samp>/dev/ppid</samp> ， <samp>/dev/pgrpid</samp>和<samp>/dev/user</samp>被删除。

</li><li>通过添加了对IPv6的支持<samp>/inet6</samp>特殊文件。
<samp>/inet4</samp>强制IPv4和<samp>/inet</samp>选择系统默认值，可能是IPv4（请参阅<a href="TCP_002fIP-Networking.html#TCP_002fIP-Networking">使用<code>gawk</code>用于网络编程</a> ）。

</li><li>指某东西的用途 ' <samp>\s</samp> '和' <samp>\S</samp> '正则表达式中的转义序列（请参见<a href="GNU-Regexp-Operators.html#GNU-Regexp-Operators"><code>gawk</code> -特定的Regexp运算子</a> ）。

</li><li>间隔表达式成为默认正则表达式的一部分（请参阅<a href="Regexp-Operators.html#Regexp-Operators">正则表达式运算符</a>一节）。

</li><li>POSIX字符类甚至可以与<samp>--traditional</samp> （请参阅<a href="Regexp-Operators.html#Regexp-Operators">正则表达式运算符</a>部分）。

</li><li> <code>break</code>和<code>continue</code>在循环外变为无效，即使<samp>--traditional</samp> （见<a href="Break-Statement.html#Break-Statement">的<code>break</code>声明</a> ，也看<a href="Continue-Statement.html#Continue-Statement">的<code>continue</code>声明</a> ）。

</li><li> <code>fflush()</code> ， <code>nextfile</code>和' <samp>delete <var>array</var></samp>如果被允许<samp>--posix</samp>要么<samp>--traditional</samp> ，因为它们现在都是POSIX的一部分。</li><li>可选的第三个参数<code>asort()</code>和<code>asorti()</code> ，指定排序方式（请参阅“ <a href="String-Functions.html#String-Functions">字符串操作函数”</a>一节）。

</li><li>的行为<code>fflush()</code>更改为匹配BWK <code>awk</code>对于POSIX；现在都<samp>fflush()</samp> '和' <samp>fflush("")</samp> '刷新所有打开的输出重定向（请参阅“ <a href="I_002fO-Functions.html#I_002fO-Functions">输入/输出功能”部分</a> ）。

</li><li>的<code>isarray()</code>该函数可以区分项目是否为数组，从而可以遍历数组的数组（请参阅“ <a href="Type-Functions.html#Type-Functions">获取类型信息”</a>一节）。

</li><li>的<code>patsplit()</code>提供与以下功能相同的功能<code>FPAT</code>进行拆分（请参阅“ <a href="String-Functions.html#String-Functions">字符串操作函数”</a>一节）。

</li><li>可选的第四个参数<code>split()</code>函数，它是一个保存分隔符值的数组（请参阅“ <a href="String-Functions.html#String-Functions">字符串操作函数”</a>一节）。

</li><li>数组数组（请参阅<a href="Arrays-of-Arrays.html#Arrays-of-Arrays">Arrays of Arrays</a>部分）。

</li><li>的<code>BEGINFILE</code>和<code>ENDFILE</code>特殊模式（见<a href="BEGINFILE_002fENDFILE.html#BEGINFILE_002fENDFILE">的<code>BEGINFILE</code>和<code>ENDFILE</code>特殊模式</a> ）。

</li><li>间接函数调用（请参阅“ <a href="Indirect-Calls.html#Indirect-Calls">间接函数调用”</a>部分）。

</li><li> <code>switch</code> / <code>case</code>在默认情况下启用（见<a href="Switch-Statement.html#Switch-Statement">的<code>switch</code>声明</a> ）。

</li><li>命令行选项更改（请参阅“ <a href="Options.html#Options">命令行选项”部分</a> ）：<ul class="no-bullet">
<li>-的<samp>-b</samp>和<samp>--characters-as-bytes</samp>可以防止的选项<code>gawk</code>将输入视为多字节字符串。

</li><li>-多余的<samp>--compat</samp> ， <samp>--copyleft</samp>和<samp>--usage</samp>长选项被删除。

</li><li>-的<samp>--gen-po</samp>选项最终被重命名为正确的<samp>--gen-pot</samp> 。

</li><li>-的<samp>--sandbox</samp>禁用某些功能的选项。

</li><li>-所有多头期权都获得了相应的短期权，用于“ <samp>#!</samp>脚本。
</li></ul>

</li><li>现在，在命令行上命名的目录会产生警告，而不是致命错误，除非<samp>--posix</samp>要么<samp>--traditional</samp>使用（请参阅<a href="Command_002dline-directories.html#Command_002dline-directories">命令行上的目录</a>部分）。

</li><li>的<code>gawk</code>内部被改写，带来了<code>dgawk</code>调试器并可能提高性能（请参阅<a href="Debugger.html#Debugger">调试</a>部分<a href="Debugger.html#Debugger"><code>awk</code>程序</a> ）。

</li><li>根据GNU编码标准，动态扩展现在必须定义一个全局符号，指示它们与GPL兼容（请参阅“ <a href="Plugin-License.html#Plugin-License">扩展许可”</a>部分）。

</li><li>在POSIX模式下，使用字符串比较<code>strcoll()</code> / <code>wcscoll()</code> （请参阅“ <a href="POSIX-String-Comparison.html#POSIX-String-Comparison">基于语言环境整理顺序的字符串比较”</a>一节）。

</li><li>原始套接字的选项已删除，因为它从未实现（请参阅<a href="TCP_002fIP-Networking.html#TCP_002fIP-Networking">使用</a>部分<a href="TCP_002fIP-Networking.html#TCP_002fIP-Networking"><code>gawk</code>用于网络编程</a> ）。

</li><li>形式的范围“ <samp>[d-h]</samp> '，无论使用哪种类型的regexp，即使<samp>--posix</samp> （请参阅<a href="Ranges-and-Locales.html#Ranges-and-Locales">Regexp范围和语言环境：悲伤的长篇故事</a> ）。

</li><li>已删除以下系统的支持：<ul class="no-bullet">
<li>-雅达利</li><li>-阿米加</li><li>-BeOS</li><li>-克雷</li><li>-MIPS RiscOS</li><li>-使用Microsoft编译器的MS-DOS</li><li>-带有Microsoft编译器的MS-Windows</li><li>- 下一个</li><li>-SunOS 3.x，Sun 386（Road Runner）</li><li>-串联（非POSIX）</li><li>-适用于VAX / VMS的标准VAX C编译器</li></ul>
</li></ul>

<p>的4.1版<code>gawk</code>引入了以下功能：</p>
<ul>
<li>三个新数组： <code>SYMTAB</code> ， <code>FUNCTAB</code>和<code>PROCINFO["identifiers"]</code> （请参阅<a href="Auto_002dset.html#Auto_002dset">传达信息的内置变量</a>部分）。

</li><li>三个可执行文件<code>gawk</code> ， <code>pgawk</code>和<code>dgawk</code> ，被合并为一个，名为<code>gawk</code> 。结果，命令行选项发生了变化。

</li><li>命令行选项更改（请参阅“ <a href="Options.html#Options">命令行选项”部分</a> ）：<ul class="no-bullet">
<li>-的<samp>-D</samp>选项调用调试器。

</li><li>-的<samp>-i</samp>和<samp>--include</samp>选项加载<code>awk</code>库文件。

</li><li>-的<samp>-l</samp>和<samp>--load</samp>选项加载编译的动态扩展。

</li><li>-的<samp>-M</samp>和<samp>--bignum</samp>选项启用MPFR。</li><li>-的<samp>-o</samp>该选项仅进行漂亮打印。

</li><li>-的<samp>-p</samp>选项用于分析。

</li><li>-的<samp>-R</samp>选项已删除。
</li></ul>

</li><li>支持使用MPFR的高精度算术（请参见<a href="Arbitrary-Precision-Arithmetic.html#Arbitrary-Precision-Arithmetic">使用<code>gawk</code></a> ）。

</li><li>的<code>and()</code> ， <code>or()</code>和<code>xor()</code>函数已更改，以允许任意数量的参数，至少要有两个参数（请参阅“ <a href="Bitwise-Functions.html#Bitwise-Functions">位操作函数”</a>一节）。

</li><li>动态扩展界面已完全重做（请参见<a href="Dynamic-Extensions.html#Dynamic-Extensions">编写扩展的内容<code>gawk</code></a> ）。

</li><li>重新导向<code>getline</code>被允许进入<code>BEGINFILE</code>和<code>ENDFILE</code> （见<a href="BEGINFILE_002fENDFILE.html#BEGINFILE_002fENDFILE">的<code>BEGINFILE</code>和<code>ENDFILE</code>特殊模式</a> ）。

</li><li>的<code>where</code>命令已添加到调试器中（请参阅<a href="Execution-Stack.html#Execution-Stack">使用堆栈部分</a> ）。

</li><li>对Ultrix的支持已删除。

</li></ul>

<p>版本4.2 <code>gawk</code>引入了以下更改：</p>
<ul>
<li>更改为<code>ENVIRON</code>反映到<code>gawk</code>的环境及其运行的程序。请参阅<a href="Auto_002dset.html#Auto_002dset">传达信息的内置变量</a>部分。

</li><li> <code>FIELDWIDTHS</code>进行了增强，可以在为字段分配值之前跳过字符（请参见<a href="Splitting-By-Content.html#Splitting-By-Content">按内容定义字段</a> ）。

</li><li>的<code>PROCINFO["argv"]</code>数组。请参阅<a href="Auto_002dset.html#Auto_002dset">传达信息的内置变量</a>部分。

</li><li>'中的最大十六进制数字<samp>\x</samp>逃脱现在是两个。请参阅<a href="Escape-Sequences.html#Escape-Sequences">转义序列</a>部分。

</li><li>格式为'的强类型正则表达式常量<samp>@/…/</samp> '（请参阅<a href="Strong-Regexp-Constants.html#Strong-Regexp-Constants">强类型的Regexp常量</a>一节）。

</li><li>按位函数发生了变化，使否定参数成为致命错误（请参见“ <a href="Bitwise-Functions.html#Bitwise-Functions">位操作函数”</a>一节）。


</li><li>的<code>mktime()</code>函数现在接受一个可选的第二个参数（请参见“ <a href="Time-Functions.html#Time-Functions">时间函数”</a>一节）。

</li><li>的<code>typeof()</code>功能（请参阅“ <a href="Type-Functions.html#Type-Functions">获取类型信息”</a>一节）。

</li><li>默认情况下启用优化。使用<samp>-s</samp> / <samp>--no-optimize</samp>禁用优化。

</li><li>多年来，POSIX指定默认字段拆分仅允许使用空格和制表符来分隔字段，这就是<code>gawk</code>表现得与<samp>--posix</samp> 。自2013年起，该标准恢复了历史行为，现在默认字段拆分为<samp>--posix</samp>还允许换行符分隔字段。

</li><li>非致命输出<code>print</code>和<code>printf</code> 。请参阅“ <a href="Nonfatal.html#Nonfatal">启用非致命输出”</a>部分。

</li><li>可重试的I / O通过<code>PROCINFO[<var>input-file</var>, "RETRY"]</code> ; （请参阅部分<a href="Retrying-Input.html#Retrying-Input">输入错误后重试读取</a> ）。

</li><li>漂亮打印机的更改（请参阅“ <a href="Profiling.html#Profiling">分析您</a>的打印机”部分<a href="Profiling.html#Profiling"><code>awk</code>程序</a> ）：<ul class="no-bullet">
<li>-的<samp>--pretty-print</samp>选项不再运行<code>awk</code>程序。

</li><li>-源程序中的注释将保留并放入输出文件中。

</li><li>-输入中表达式的显式括号保留在生成的输出中。
</li></ul>

</li><li>扩展API的改进（请参见<a href="Dynamic-Extensions.html#Dynamic-Extensions">编写扩展<code>gawk</code></a> ）：<ul class="no-bullet">
<li>-的<code>get_file()</code>用于访问开放重定向的功能。

</li><li>-的<code>nonfatal()</code>用于生成非致命错误消息的功能。

</li><li>-支持GMP和MPFR值。

</li><li>-输入解析器现在可以通过指定显式位置来覆盖默认字段解析机制。
</li></ul>

</li><li>Shell启动文件随发行版一起提供，并由' <samp>make install</samp> '（请参阅<a href="Shell-Startup-Files.html#Shell-Startup-Files">Shell启动文件</a>一节）。

</li><li>的<code>igawk</code>程序及其手册页在以下情况下不再安装<code>gawk</code>建成。请参阅<a href="Igawk-Program.html#Igawk-Program">使用库函数的简便方法</a>一节。

</li><li>对MirBSD的支持已删除。

</li><li>删除了在Alpha上对GNU / Linux的支持。

</li></ul>

<p>5.0版添加了以下功能：</p>
<ul>
<li>的<code>PROCINFO["platform"]</code>数组元素，使您可以编写考虑到操作系统/平台的代码。
</li></ul>


<hr>
<div class="header">
<p>下一篇： <a href="Common-Extensions.html#Common-Extensions" rel="next" accesskey="n">通用扩展</a> ，上一篇： <a href="POSIX_002fGNU.html#POSIX_002fGNU" rel="prev" accesskey="p">POSIX / GNU</a> ，上一篇： <a href="Language-History.html#Language-History" rel="up" accesskey="u">语言历史</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>