<html ><!-- 
Copyright (C) 1989, 1991, 1992, 1993, 1996-2005, 2007, 2009-2019 

Free Software Foundation, Inc.



This is Edition 5.0 of GAWK: Effective AWK Programming: A User's Guide for GNU Awk,
for the 5.0.0 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.
A copy of the license is included in the section entitled
"GNU Free Documentation License".

a. The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual." --><!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>优先级（《 GNU Awk用户指南》）</title>

<meta name="description" content="Precedence (The GNU Awk User’s Guide)">
<meta name="keywords" content="Precedence (The GNU Awk User’s Guide)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Expressions.html#Expressions" rel="up" title="Expressions">
<link href="Locales.html#Locales" rel="next" title="Locales">
<link href="Function-Calls.html#Function-Calls" rel="prev" title="Function Calls">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="manual.css">


</head>

<body lang="zh-Hans" >
<a name="Precedence"></a>
<div class="header">
<p>下一个： <a href="Locales.html#Locales" rel="next" accesskey="n">语言环境</a> ，上一个： <a href="Function-Calls.html#Function-Calls" rel="prev" accesskey="p">函数调用</a> ，上一个： <a href="Expressions.html#Expressions" rel="up" accesskey="u">表达式</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>
<hr>
<a name="Operator-Precedence-_0028How-Operators-Nest_0029"></a>
<h3 class="section">6.5运算符优先级（运算符如何嵌套）</h3>
<a name="index-precedence-1"></a>
<a name="index-operators_002c-precedence"></a>

<p><em>运算符优先级</em>确定在一个表达式中不同运算符附近出现时如何对运算符进行分组。例如， ' <samp>*</samp> “优先级高于” <samp>+</samp> ';因此， <samp>a + b * c</samp> '表示相乘<code>b</code>和<code>c</code> ，然后添加<code>a</code>产品（例如， <samp>a + (b * c)</samp> '）。
</p>
<p>运算符的正常优先级可以通过使用括号来否定。将优先级规则视为说出括号的位置。实际上，每当有特殊的运算符组合时，总是使用括号是明智的，因为其他阅读程序的人可能不记得这种情况下的优先级。即使是经验丰富的程序员，有时也会忘记准确的规则，这会导致错误。明确的括号有助于防止任何此类错误。
</p>
<p>当一起使用具有相同优先级的运算符时，除赋值运算符，条件运算符和幂运算符以相反顺序分组外，最左边的运算符将首先分组。因此， <samp>a - b + c</samp> “分组为” <samp>(a - b) + c</samp> '和' <samp>a = b = c</samp> “分组为” <samp>a = (b = c)</samp> '。
</p>
<p>通常，前缀一元运算符的优先级并不重要，因为只有一种方法可以解释它们：最里面优先。因此， <samp>$++i</samp>意思是<samp>$(++i)</samp> '和' <samp>++$x</samp>意思是<samp>++($x)</samp> '。但是，当另一个运算符跟随操作数时，一元运算符的优先级可能很重要。' <samp>$x^2</samp>意思是<samp>($x)^2</samp> '，但' <samp>-x^2</samp>意思是<samp>-(x^2)</samp> '，因为' <samp>-</samp> “优先级低于” <samp>^</samp> '，而' <samp>$</samp>优先级更高。而且，运算符不能以违反优先规则的方式组合在一起；例如， ' <samp>$$0++--</samp> '不是有效的表达式，因为第一个' <samp>$</samp> '的优先级高于' <samp>++</samp> ';为了避免出现问题，可以将表达式重写为' <samp>$($0++)--</samp> '。
</p>
<p>此清单呈现<code>awk</code>的运算符，从高到低的顺序：</p>
<dl compact>
<dt><code>(</code> …<code>)</code></dt>
<dd><p>分组。
</p>
<a name="index-_0024-_0028dollar-sign_0029_002c-_0024-field-operator-1"></a>
<a name="index-dollar-sign-_0028_0024_0029_002c-_0024-field-operator-1"></a>
</dd>
<dt><code>$</code></dt>
<dd><p>现场参考。
</p>
<a name="index-_002b-_0028plus-sign_0029_002c-_002b_002b-operator-2"></a>
<a name="index-plus-sign-_0028_002b_0029_002c-_002b_002b-operator-2"></a>
<a name="index-_002d-_0028hyphen_0029_002c-_002d_002d-operator-1"></a>
<a name="index-hyphen-_0028_002d_0029_002c-_002d_002d-operator-1"></a>
</dd>
<dt><code>++ --</code></dt>
<dd><p>递增，递减。
</p>
<a name="index-_005e-_0028caret_0029_002c-_005e-operator"></a>
<a name="index-caret-_0028_005e_0029_002c-_005e-operator"></a>
<a name="index-_002a-_0028asterisk_0029_002c-_002a_002a-operator-1"></a>
<a name="index-asterisk-_0028_002a_0029_002c-_002a_002a-operator-1"></a>
</dd>
<dt><code>^ **</code></dt>
<dd><p>求幂。这些运算符从右到左分组。</p>
<a name="index-_002b-_0028plus-sign_0029_002c-_002b-operator"></a>
<a name="index-plus-sign-_0028_002b_0029_002c-_002b-operator"></a>
<a name="index-_002d-_0028hyphen_0029_002c-_002d-operator"></a>
<a name="index-hyphen-_0028_002d_0029_002c-_002d-operator"></a>
<a name="index-_0021-_0028exclamation-point_0029_002c-_0021-operator-1"></a>
<a name="index-exclamation-point-_0028_0021_0029_002c-_0021-operator-1"></a>
</dd>
<dt><code>+ - !</code></dt>
<dd><p>一元加，减，逻辑“不”。
</p>
<a name="index-_002a-_0028asterisk_0029_002c-_002a-operator_002c-as-multiplication-operator"></a>
<a name="index-asterisk-_0028_002a_0029_002c-_002a-operator_002c-as-multiplication-operator"></a>
<a name="index-_002f-_0028forward-slash_0029_002c-_002f-operator"></a>
<a name="index-forward-slash-_0028_002f_0029_002c-_002f-operator"></a>
<a name="index-_0025-_0028percent-sign_0029_002c-_0025-operator"></a>
<a name="index-percent-sign-_0028_0025_0029_002c-_0025-operator"></a>
</dd>
<dt><code>* / %</code></dt>
<dd><p>乘法，除法，余数。
</p>
<a name="index-_002b-_0028plus-sign_0029_002c-_002b-operator-1"></a>
<a name="index-plus-sign-_0028_002b_0029_002c-_002b-operator-1"></a>
<a name="index-_002d-_0028hyphen_0029_002c-_002d-operator-1"></a>
<a name="index-hyphen-_0028_002d_0029_002c-_002d-operator-1"></a>
</dd>
<dt><code>+ -</code></dt>
<dd><p>加，减。
</p>
</dd>
<dt>字符串串联</dt>
<dd><p>串联没有特殊符号。操作数可以简单地并排编写（请参见“ <a href="Concatenation.html#Concatenation">字符串连接”</a>一节）。
</p>
<a name="index-_003c-_0028left-angle-bracket_0029_002c-_003c-operator-1"></a>
<a name="index-left-angle-bracket-_0028_003c_0029_002c-_003c-operator-1"></a>
<a name="index-_003c-_0028left-angle-bracket_0029_002c-_003c_003d-operator-1"></a>
<a name="index-left-angle-bracket-_0028_003c_0029_002c-_003c_003d-operator-1"></a>
<a name="index-_003e-_0028right-angle-bracket_0029_002c-_003e_003d-operator-1"></a>
<a name="index-right-angle-bracket-_0028_003e_0029_002c-_003e_003d-operator-1"></a>
<a name="index-_003e-_0028right-angle-bracket_0029_002c-_003e-operator-1"></a>
<a name="index-right-angle-bracket-_0028_003e_0029_002c-_003e-operator-1"></a>
<a name="index-_003d-_0028equals-sign_0029_002c-_003d_003d-operator-1"></a>
<a name="index-equals-sign-_0028_003d_0029_002c-_003d_003d-operator-1"></a>
<a name="index-_0021-_0028exclamation-point_0029_002c-_0021_003d-operator-1"></a>
<a name="index-exclamation-point-_0028_0021_0029_002c-_0021_003d-operator-1"></a>
<a name="index-_003e-_0028right-angle-bracket_0029_002c-_003e_003e-operator-_0028I_002fO_0029-1"></a>
<a name="index-right-angle-bracket-_0028_003e_0029_002c-_003e_003e-operator-_0028I_002fO_0029-1"></a>
<a name="index-operators_002c-input_002foutput-5"></a>
<a name="index-_007c-_0028vertical-bar_0029_002c-_007c-operator-_0028I_002fO_0029-2"></a>
<a name="index-vertical-bar-_0028_007c_0029_002c-_007c-operator-_0028I_002fO_0029-1"></a>
<a name="index-operators_002c-input_002foutput-6"></a>
<a name="index-_007c-_0028vertical-bar_0029_002c-_007c_0026-operator-_0028I_002fO_0029-2"></a>
<a name="index-vertical-bar-_0028_007c_0029_002c-_007c_0026-operator-_0028I_002fO_0029-1"></a>
<a name="index-operators_002c-input_002foutput-7"></a>
</dd>
<dt><code>< <= == != > >= >> | |&</code></dt>
<dd><p>关系和重定向。关系运算符和重定向具有相同的优先级。诸如“ <samp>></samp> '既可以用作关系，也可以用作重定向；上下文区分了两种含义。
</p>
<a name="index-print-statement_002c-I_002fO-operators-in"></a>
<a name="index-printf-statement_002c-I_002fO-operators-in"></a>
<p>请注意，I / O重定向运算符在<code>print</code>和<code>printf</code>语句属于语句级别，不属于表达式。重定向不会产生可能是另一个运算符的操作数的表达式。结果，在没有括号的较低优先级的另一个运算符附近使用重定向运算符是没有意义的。此类组合（例如，“ <samp>print foo > a ? b : c</samp> '）导致语法错误。编写此语句的正确方法是“ <samp>print foo > (a ? b : c)</samp> '。
</p>
<a name="index-_007e-_0028tilde_0029_002c-_007e-operator-6"></a>
<a name="index-tilde-_0028_007e_0029_002c-_007e-operator-6"></a>
<a name="index-_0021-_0028exclamation-point_0029_002c-_0021_007e-operator-6"></a>
<a name="index-exclamation-point-_0028_0021_0029_002c-_0021_007e-operator-6"></a>
</dd>
<dt><code>~ !~</code></dt>
<dd><p>匹配，不匹配。
</p>
<a name="index-in-operator-1"></a>
</dd>
<dt><code>in</code></dt>
<dd><p>数组成员资格。
</p>
<a name="index-_0026-_0028ampersand_0029_002c-_0026_0026-operator-1"></a>
<a name="index-ampersand-_0028_0026_0029_002c-_0026_0026-operator-1"></a>
</dd>
<dt><code>&&</code></dt>
<dd><p>逻辑“与”。
</p>
<a name="index-_007c-_0028vertical-bar_0029_002c-_007c_007c-operator-1"></a>
<a name="index-vertical-bar-_0028_007c_0029_002c-_007c_007c-operator-1"></a>
</dd>
<dt><code>||</code></dt>
<dd><p>逻辑“或”。
</p>
<a name="index-_003f-_0028question-mark_0029_002c-_003f_003a-operator"></a>
<a name="index-question-mark-_0028_003f_0029_002c-_003f_003a-operator"></a>
<a name="index-_003a-_0028colon_0029_002c-_003f_003a-operator"></a>
<a name="index-colon-_0028_003a_0029_002c-_003f_003a-operator"></a>
</dd>
<dt><code>?:</code></dt>
<dd><p>有条件的。该运算符从右到左分组。</p>
<a name="index-_002b-_0028plus-sign_0029_002c-_002b_003d-operator-1"></a>
<a name="index-plus-sign-_0028_002b_0029_002c-_002b_003d-operator-1"></a>
<a name="index-_002d-_0028hyphen_0029_002c-_002d_003d-operator-1"></a>
<a name="index-hyphen-_0028_002d_0029_002c-_002d_003d-operator-1"></a>
<a name="index-_002a-_0028asterisk_0029_002c-_002a_003d-operator-1"></a>
<a name="index-asterisk-_0028_002a_0029_002c-_002a_003d-operator-1"></a>
<a name="index-_002a-_0028asterisk_0029_002c-_002a_002a_003d-operator-1"></a>
<a name="index-asterisk-_0028_002a_0029_002c-_002a_002a_003d-operator-1"></a>
<a name="index-_002f-_0028forward-slash_0029_002c-_002f_003d-operator-1"></a>
<a name="index-forward-slash-_0028_002f_0029_002c-_002f_003d-operator-1"></a>
<a name="index-_0025-_0028percent-sign_0029_002c-_0025_003d-operator-1"></a>
<a name="index-percent-sign-_0028_0025_0029_002c-_0025_003d-operator-1"></a>
<a name="index-_005e-_0028caret_0029_002c-_005e_003d-operator-1"></a>
<a name="index-caret-_0028_005e_0029_002c-_005e_003d-operator-1"></a>
</dd>
<dt><code>= += -= *= /= %= ^= **=</code></dt>
<dd><p>分配。这些运算符从右到左分组。</p></dd>
</dl>

<a name="index-POSIX-awk_002c-_002a_002a-operator-and"></a>
<a name="index-portability_002c-operators_002c-not-in-POSIX-awk"></a>
<blockquote>
<p><b>注意：</b> <samp>|&</samp> '，' <samp>**</samp> '和' <samp>**=</samp> POSIX未指定'运算符。为了获得最大的可移植性，请不要使用它们。
</p></blockquote>

<hr>
<div class="header">
<p>下一个： <a href="Locales.html#Locales" rel="next" accesskey="n">语言环境</a> ，上一个： <a href="Function-Calls.html#Function-Calls" rel="prev" accesskey="p">函数调用</a> ，上一个： <a href="Expressions.html#Expressions" rel="up" accesskey="u">表达式</a> [ <a href="index.html#SEC_Contents" title="目录" rel="contents">目录</a> ] [ <a href="Index.html#Index" title="指数" rel="index">索引</a> ]</p>
</div>





</body></html>