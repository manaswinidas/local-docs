<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for the GNU Source Release Collection (version
2014.10.11, updated 6 January 2014).

Copyright (C) 2011, 2012, 2013, 2014 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License." -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU Source Release Collection 2014.10.11</title>

<meta name="description" content="GNU Source Release Collection 2014.10.11">
<meta name="keywords" content="GNU Source Release Collection 2014.10.11">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#Top" rel="start" title="Top">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="dir.html#Top" rel="up" title="(dir)">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/software/gnulib/manual.css">


</head>

<body lang="en">
<h1 class="settitle" align="center">GNU Source Release Collection 2014.10.11</h1>



<a name="SEC_Contents"></a>
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="no-bullet">
  <li><a name="toc-Introduction-1" href="#Introduction">1 Introduction</a>
  <ul class="no-bullet">
    <li><a name="toc-Building-GNU-packages-1" href="#Building-GNU-packages">1.1 Building GNU packages</a></li>
  </ul></li>
  <li><a name="toc-Getting-started-1" href="#Getting-started">2 Getting started</a>
  <ul class="no-bullet">
    <li><a name="toc-Initial-setup-1" href="#Initial-setup">2.1 Initial setup</a></li>
    <li><a name="toc-Building-a-simple-package-1" href="#Building-a-simple-package">2.2 Building a simple package</a></li>
    <li><a name="toc-Installing-a-package-1" href="#Installing-a-package">2.3 Installing a package</a></li>
    <li><a name="toc-Setting-your-environment-1" href="#Setting-your-environment">2.4 Setting your environment</a></li>
    <li><a name="toc-Useful-targets-1" href="#Useful-targets">2.5 Useful targets</a></li>
    <li><a name="toc-Complex-packages-1" href="#Complex-packages">2.6 Complex packages</a></li>
    <li><a name="toc-Finding-packages-1" href="#Finding-packages">2.7 Finding packages</a></li>
  </ul></li>
  <li><a name="toc-Advanced-configuration-1" href="#Advanced-configuration">3 Advanced configuration</a>
  <ul class="no-bullet">
    <li><a name="toc-Global-configuration-1" href="#Global-configuration">3.1 Global configuration</a></li>
    <li><a name="toc-Package-configuration-1" href="#Package-configuration">3.2 Package configuration</a></li>
    <li><a name="toc-Patching-packages-1" href="#Patching-packages">3.3 Patching packages</a></li>
    <li><a name="toc-Package-versions-1" href="#Package-versions">3.4 Package versions</a></li>
  </ul></li>
  <li><a name="toc-Technical-information-1" href="#Technical-information">Appendix A Technical information</a>
  <ul class="no-bullet">
    <li><a name="toc-The-GSRC-build-system-1" href="#The-GSRC-build-system">A.1 The GSRC build system</a></li>
    <li><a name="toc-Anatomy-of-a-GSRC-Makefile-1" href="#Anatomy-of-a-GSRC-Makefile">A.2 Anatomy of a GSRC Makefile</a>
    <ul class="no-bullet">
      <li><a name="toc-Metadata-variables-1" href="#Metadata-variables">A.2.1 Metadata variables</a></li>
      <li><a name="toc-Build-variables-1" href="#Build-variables">A.2.2 Build variables</a></li>
      <li><a name="toc-Build-recipes-1" href="#Build-recipes">A.2.3 Build recipes</a></li>
      <li><a name="toc-A-simple-example-1" href="#A-simple-example">A.2.4 A simple example</a></li>
      <li><a name="toc-A-complex-example-1" href="#A-complex-example">A.2.5 A complex example</a></li>
    </ul></li>
  </ul></li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="#GNU-Free-Documentation-License">Appendix B GNU Free Documentation License</a></li>
</ul>
</div>


&#12;
<a name="Top"></a>
<div class="header">
<p>
Next: <a href="#Introduction" accesskey="n" rel="next">Introduction</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="GNU-Source-Release-Collection"></a>
<h1 class="top">GNU Source Release Collection</h1>

<p>This manual is for GNU Source Release Collection (version 2014.10.11, 6 January 2014).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Introduction" accesskey="1">Introduction</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Getting-started" accesskey="2">Getting started</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Advanced-configuration" accesskey="3">Advanced configuration</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Technical-information" accesskey="4">Technical information</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#GNU-Free-Documentation-License" accesskey="5">GNU Free Documentation License</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

</pre></th></tr><tr><th colspan="3" align="left" valign="top"><pre class="menu-comment"> &mdash; The Detailed Node Listing &mdash;

Introduction

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Building-GNU-packages" accesskey="6">Building GNU packages</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Getting started

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Initial-setup" accesskey="7">Initial setup</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Building-a-simple-package" accesskey="8">Building a simple package</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Installing-a-package" accesskey="9">Installing a package</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Setting-your-environment">Setting your environment</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Useful-targets">Useful targets</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Complex-packages">Complex packages</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Finding-packages">Finding packages</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Advanced configuration

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Global-configuration">Global configuration</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Package-configuration">Package configuration</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Patching-packages">Patching packages</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Package-versions">Package versions</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Technical information

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#The-GSRC-build-system">The GSRC build system</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Anatomy-of-a-GSRC-Makefile">Anatomy of a GSRC Makefile</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Anatomy of a GSRC Makefile

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Metadata-variables">Metadata variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Build-variables">Build variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Build-recipes">Build recipes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#A-simple-example">A simple example</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#A-complex-example">A complex example</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

</pre></th></tr></table>

&#12;
<hr>
<a name="Introduction"></a>
<div class="header">
<p>
Next: <a href="#Getting-started" accesskey="n" rel="next">Getting started</a>, Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Introduction-1"></a>
<h2 class="chapter">1 Introduction</h2>

<p>The GNU Source Release Collection (GSRC) provides a simple way to
install the latest GNU packages on an existing distribution. By using
GSRC, the GNU source packages from <code>ftp.gnu.org</code> are
automatically downloaded, compiled and installed, either in your home
directory or a system-wide directory such as <code>/opt</code>.
</p>
<p>At its core, it is a presentation of the current state of the GNU
system, in the most appropriate form: buildable and installable source
code. GSRC makes it easy to discover great new software from the GNU
system, as well as providing other benefits over standard software
distributions. It allows you, for example, to install easily GNU
software for yourself on a system on which you do not have permission
to install software system-wide; or to install the latest, unpatched
packages when those distributed with your operating system are
outdated or not configured to your liking.
</p>
<p>GSRC is based on the GAR build system by Nick Moffitt and the GARstow
enhancements by Adam Sampson.  GAR was inspired by BSD Ports, a
Makefile-based build system, and is written in GNU Make.  The GARNOME
build system for GNOME was another example of a system using GAR.
</p>
<p>Note that GSRC is not intended to be a full package-management system
or source distribution.  It is just a more convenient way to compile
GNU packages from source on an existing system.
</p>
<p>Because GSRC is not a full distribution you will sometimes need to
install other packages from your distribution to build and run GNU
programs.  For example, GSRC itself does not include Perl or Python,
so you will need to make sure these are already installed for GNU
programs which use them.
</p>





<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Building-GNU-packages" accesskey="1">Building GNU packages</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

&#12;
<hr>
<a name="Building-GNU-packages"></a>
<div class="header">
<p>
Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Building-GNU-packages-1"></a>
<h3 class="section">1.1 Building GNU packages</h3>

<p>If you have never built a GNU package by hand, this section will briefly
show the process so you will have an idea of what GSRC is doing.  If you
are already familiar with this, you may skip this section.
</p>
<p>The build process is performed via commands entered into a shell, which
is generally done in a terminal or a terminal emulator.  The dollar sign
in the following examples represents the <em>shell prompt</em>, denoting
the point at which you enter commands, while the characters following
the prompt show the commands that you must enter.  While much of the
build process is conveniently automated, such that you do not need to
manually compile every file, you still must take a few steps.
</p>
<p>For example, to build the package &ldquo;hello&rdquo; version 2.9, you must
perform the following steps in your terminal:
</p>
<ol>
<li> Download the package and unpack it
<div class="example">
<pre class="example">$ wget http://ftpmirror.gnu.org/gnu/hello/hello-2.9.tar.gz
$ tar xvfz hello-2.9.tar.gz
</pre></div>

</li><li> Run the <samp>configure</samp> script
<div class="example">
<pre class="example">$ cd hello-2.9
$ ./configure
</pre></div>

</li><li> Compile the source code
<div class="example">
<pre class="example">$ make
</pre></div>

</li><li> Install it
<div class="example">
<pre class="example">$ make install
</pre></div>

</li></ol>

<p>In some unfortunate cases, the process is not as straight-forward and
may require some extra intervention on your part.  GSRC abstracts away
most of these steps so that all you need to enter to install a program
is <code>make install</code>.
</p>
&#12;
<hr>
<a name="Getting-started"></a>
<div class="header">
<p>
Next: <a href="#Advanced-configuration" accesskey="n" rel="next">Advanced configuration</a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Getting-started-1"></a>
<h2 class="chapter">2 Getting started</h2>

<p>GSRC is distributed directly using the Bazaar version control system
or via a compressed archive.  You can check out the latest version
from the Bazaar repository using
</p>
<div class="example">
<pre class="example">$ bzr checkout bzr://bzr.savannah.gnu.org/gsrc/trunk/ gsrc
</pre></div>

<p>This will create a directory <samp>gsrc</samp>.  The build definitions for GNU
packages are in the <samp>gnu</samp> subdirectory.  Large sub-projects, such
as GNOME, have their own subdirectory containing packages
(i.e. <samp>gnome</samp>).  The <samp>external</samp> subdirectory contains
references to dependencies which you may have to install outside of
GSRC, such as via your GNU/Linux distribution&rsquo;s package manager (APT,
Pacman, Yum, etc.).  If these dependencies are required for a given
package and are not found on your system, you will be automatically
notified.  Finally, the <samp>decommissioned</samp> directory contains former
GNU packages that have been decommissioned.
</p>
<p>Each package has its own subdirectory within its parent directory, for
example <samp>gnu/emacs</samp> or <samp>gnome/evince</samp>.  Package directories
contain a <samp>config.mk</samp> file for configuring the package and a
<samp>Makefile</samp> for building it.  This <samp>Makefile</samp> will automate the
usual <samp>./configure</samp> and <code>make</code> commands needed to build a
GNU package.
</p>
<p>To stay up-to-date with the latest releases of GNU software, you can
pull in recent changes to your local copy of GSRC:
</p>
<div class="example">
<pre class="example">$ bzr update
</pre></div>

<p>Alternatively, quarter-annual &ldquo;snapshots&rdquo; of GSRC are made available
for download at <a href="http://ftpmirror.gnu.org/gnu/gsrc">http://ftpmirror.gnu.org/gnu/gsrc</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Initial-setup" accesskey="1">Initial setup</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Building-a-simple-package" accesskey="2">Building a simple package</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Installing-a-package" accesskey="3">Installing a package</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Setting-your-environment" accesskey="4">Setting your environment</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Useful-targets" accesskey="5">Useful targets</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Complex-packages" accesskey="6">Complex packages</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Finding-packages" accesskey="7">Finding packages</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

&#12;
<hr>
<a name="Initial-setup"></a>
<div class="header">
<p>
Next: <a href="#Building-a-simple-package" accesskey="n" rel="next">Building a simple package</a>, Previous: <a href="#Getting-started" accesskey="p" rel="prev">Getting started</a>, Up: <a href="#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Initial-setup-1"></a>
<h3 class="section">2.1 Initial setup</h3>

<p>If you have checked out the source tree from the Bazaar repository you
will need to create the build files with the following command,
</p>
<div class="example">
<pre class="example">$ ./bootstrap
</pre></div>

<p>Before building any packages you will need to run the top-level
configure script.  There is only one configuration parameter, the
installation prefix, specified with <samp>--prefix</samp>.  For example,
to install all the compiled packages under <samp>/gnu</samp> use:
</p>
<div class="example">
<pre class="example">$ ./configure --prefix=/gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /usr/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for recsel... /usr/bin/recsel
checking for recfmt... /usr/bin/recfmt
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating gsrc
config.status: creating config.mk
config.status: creating setup.sh
config.status: creating GNUmakefile
config.status: creating doc/Makefile
</pre></div>

<p>You can optionally install the documentation and the <samp>gsrc</samp>
script (see <a href="#Finding-packages">Finding packages</a>). Note that these are installed to the
directory specified in the previous step. Be sure to set your
environment to be able to use them (see <a href="#Setting-your-environment">Setting your environment</a>).
</p>
<div class="example">
<pre class="example">$ make install
</pre></div>

&#12;
<hr>
<a name="Building-a-simple-package"></a>
<div class="header">
<p>
Next: <a href="#Installing-a-package" accesskey="n" rel="next">Installing a package</a>, Previous: <a href="#Initial-setup" accesskey="p" rel="prev">Initial setup</a>, Up: <a href="#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Building-a-simple-package-1"></a>
<h3 class="section">2.2 Building a simple package</h3>

<p>All interaction with GSRC is performed via the program Make.  When you
execute Make via the <code>make</code> command, you generally must provide
a <em>target</em> that tells Make which <em>recipe</em>, consisting of a
series of pre-defined commands, to execute.  For example, the
<samp>build</samp> target will tell Make to execute a recipe to build the
software, while the <samp>install</samp> target will execute a recipe for
installing it.  Often, a default recipe will be available that will
typically build the software, allowing you to omit the <samp>build</samp>
target.
</p>
<p>Thus, in GSRC, to build any package, type <code>make build</code> (or,
simply <code>make</code>) in the package&rsquo;s subdirectory.  You can change to
the directory with the <code>cd</code> command in the shell, or with the
<samp>-C</samp> option of <code>make</code>.  For example, to build the
<em>hello</em> package in the <samp>gnu/hello</samp> subdirectory from the root
GSRC directory use:
</p>
<div class="example">
<pre class="example">$ make -C gnu/hello
</pre></div>

<p>This will download, unpack, configure and build the <em>hello</em> package.
The package will be built in the subdirectory <samp>gnu/hello/work</samp>.
</p>
<div class="example">
<pre class="example">$ ./gnu/hello/work/hello-2.9/src/hello
Hello, world!
</pre></div>

&#12;
<hr>
<a name="Installing-a-package"></a>
<div class="header">
<p>
Next: <a href="#Setting-your-environment" accesskey="n" rel="next">Setting your environment</a>, Previous: <a href="#Building-a-simple-package" accesskey="p" rel="prev">Building a simple package</a>, Up: <a href="#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Installing-a-package-1"></a>
<h3 class="section">2.3 Installing a package</h3>

<p>You are now ready to install the package.  If you are installing to a
new directory tree, first create the directory specified in the
top-level configure <samp>--prefix</samp> option if necessary,
</p>
<div class="example">
<pre class="example">$ mkdir /gnu
</pre></div>

<p>Then to install the package use the <samp>install</samp> target,
</p>
<div class="example">
<pre class="example">$ make -C gnu/hello install
</pre></div>

<p>The package should be automatically installed under <samp>/gnu</samp>, with
any executable programs under <samp>/gnu/bin/</samp>.
</p>
<div class="example">
<pre class="example">$ /gnu/bin/hello --version
hello (GNU hello) 2.9
</pre></div>

&#12;
<hr>
<a name="Setting-your-environment"></a>
<div class="header">
<p>
Next: <a href="#Useful-targets" accesskey="n" rel="next">Useful targets</a>, Previous: <a href="#Installing-a-package" accesskey="p" rel="prev">Installing a package</a>, Up: <a href="#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Setting-your-environment-1"></a>
<h3 class="section">2.4 Setting your environment</h3>

<p>If you want to use the newly installed package without having to specify
its full path, you will need to modify the relevant variables in your
environment, such as <code>PATH</code>, <code>LD_LIBRARY_PATH</code>, <code>INFOPATH</code>,
etc. These variables inform your system of the locations of relevant
files on it. For example, <code>PATH</code> contains a list of all directories
that contain executable files.
</p>
<p>There is a sample script <samp>setup.sh</samp> in the top-level GSRC directory
which can be used to set the main environment variables.
</p>
<div class="example">
<pre class="example">$ source setup.sh
</pre></div>

<p>Note that you need to load this file into the current shell with the
<code>source</code> command, instead of executing it (which would only apply
the definitions temporarily in a subshell).
</p>
<p>After loading this file, your environment variables should include the
target directory so you can run the new packages directly:
</p>
<div class="example">
<pre class="example">$ echo $PATH
/gnu/bin:/usr/local/bin:/usr/bin:/bin
$ which hello
/gnu/bin/hello
</pre></div>

<p>If you want to restore your original environment variables they are
saved in the variables <code>ORIG_PATH</code>, <code>ORIG_LD_LIBRARY_PATH</code>,
etc.
</p>
<div class="example">
<pre class="example">$ PATH=$ORIG_PATH
$ LD_LIBRARY_PATH=$ORIG_LD_LIBRARY_PATH
</pre></div>

&#12;
<hr>
<a name="Useful-targets"></a>
<div class="header">
<p>
Next: <a href="#Complex-packages" accesskey="n" rel="next">Complex packages</a>, Previous: <a href="#Setting-your-environment" accesskey="p" rel="prev">Setting your environment</a>, Up: <a href="#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Useful-targets-1"></a>
<h3 class="section">2.5 Useful targets</h3>

<p>To clean up the build directory and delete any downloaded files, use
the <samp>clean</samp> target:
</p>
<div class="example">
<pre class="example">$ make -C gnu/hello clean
</pre></div>

<p>There are other useful targets.  For example, the whole build sequence
can be broken down into stages as follows:
</p>
<div class="example">
<pre class="example">$ make -C gnu/hello fetch checksum extract configure build install
</pre></div>

<p>Each target depends on the previous one, so typing <code>make -C
gnu/hello install</code> executes all the earlier targets first.
</p>
<p>You can install the source code of a package (to, i.e.,
<samp>/gnu/src/hello-2.9</samp>) using the <samp>install-src</samp> target.
Likewise, the source can be removed using the <samp>uninstall-src</samp>
target.
</p>
<p>To see some information about a package, use the target
<samp>pkg-info</samp>.
</p>
<div class="example">
<pre class="example">$ make -C gnu/hello pkg-info
make: Entering directory `/home/gnu/gsrc/gnu/hello'
Name:        GNU Hello
Version:     2.9
URL:         http://www.gnu.org/software/hello/manual/
Description:
 GNU Hello prints the message &quot;Hello, world!&quot; and then exits.  It
 serves as an example of standard GNU coding practices.  As such, it
 supports command-line arguments, multiple languages, and so on.
Status:      installed (stowed)
make: Leaving directory `/home/gnu/gsrc/gnu/hello'
</pre></div>

<p>The &ldquo;Status&rdquo; can  be any of: &ldquo;not installed&rdquo;, &ldquo;installed (not
stowed)&rdquo; or &ldquo;installed (stowed)&rdquo; (see <a href="#Package-versions">Package versions</a>).
</p>
<p>To view a more concise summary, ideal for producing a list of packages
in script, use the target <samp>pkg-info-curt</samp>.
</p>
<div class="example">
<pre class="example">$ make -C gnu/hello pkg-info-curt
make: Entering directory `/home/gnu/gsrc/gnu/hello'
gnu/hello 2.9
 A program that produces a familiar, friendly greeting
make: Leaving directory `/home/gnu/gsrc/gnu/hello'
</pre></div>

<p>To get a better idea of what files will be downloaded and which
dependencies must be built in order to use a package, use the
<samp>fetch-list</samp> target.
</p>
<div class="example">
<pre class="example">$ make -C gnu/hello fetch-list
make: Entering directory `/home/gnu/gsrc/gnu/hello'
Name: hello
Version: 2.9
Location: http://ftpmirror.gnu.org/hello/
Distribution files:
	hello-2.9.tar.gz
Patch files:
Signature files:
	hello-2.9.tar.gz.sig
Dependencies:
make: Leaving directory `/home/gnu/gsrc/gnu/hello'
</pre></div>

<p>Most GNU packages are highly configurable. To see which configuration
options are available to you, you may invoke the <samp>help-config</samp>
target.
</p>
<p>Finally, if you choose to remove a package, you may use the
<samp>uninstall</samp> target. This target &ldquo;un-stows&rdquo; the package; if you
were to re-install it, the package would not need to be
re-built. Instead, it would merely be re-stowed. To completely remove a
package, use the <samp>uninstall-pkg</samp> target.  When you update a
package to a new version, the old version is merely un-stowed and the
new version is installed alongside it (see <a href="#Package-versions">Package versions</a>).  In
order to clean out old package versions, use the
<samp>uninstall-pkg-old</samp> target.
</p>
&#12;
<hr>
<a name="Complex-packages"></a>
<div class="header">
<p>
Next: <a href="#Finding-packages" accesskey="n" rel="next">Finding packages</a>, Previous: <a href="#Useful-targets" accesskey="p" rel="prev">Useful targets</a>, Up: <a href="#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Complex-packages-1"></a>
<h3 class="section">2.6 Complex packages</h3>

<p>If building or using a package depends on other GNU packages, these will
be built automatically in the correct order.  To see the dependencies of
any package use the <samp>dep-list</samp> target.
</p>
<div class="example">
<pre class="example">$ make -C gnu/gnupg dep-list
make: Entering directory `/home/gnu/gsrc/gnu/gnupg'
libgpg-error libgcrypt libassuan libksba pth zlib readline
make: Leaving directory `/home/gnu/gsrc/gnu/gnupg'
</pre></div>

<p>The dependencies are searched for in the <samp>gnu</samp>, <samp>gnustep</samp>
and <samp>gnome</samp> subdirectories by default. Of course, packages might
depend on software that does not belong to the GNU project. In those
cases, GSRC will try to determine whether these external packages are
installed on your system. If one is not present, you will have to
install it separately, for example via your distribution&rsquo;s software
repositories.
</p>
<p>Note that the dependencies can be more than one level deep,
</p>
<div class="example">
<pre class="example">$ make -C gnu/readline dep-list
make: Entering directory `/home/gnu/gsrc/gnu/readline'
ncurses
make: Leaving directory `/home/gnu/gsrc/gnu/readline'
</pre></div>

<p>So, to install a complex package like <em>gnupg</em> use the same
commands as for a simple package,
</p>
<div class="example">
<pre class="example">$ make -C gnu/gnupg
$ make -C gnu/gnupg install
</pre></div>

<p>All of the dependencies (and the dependencies&rsquo; dependencies) will be
built and installed first, as needed.
</p>
&#12;
<hr>
<a name="Finding-packages"></a>
<div class="header">
<p>
Previous: <a href="#Complex-packages" accesskey="p" rel="prev">Complex packages</a>, Up: <a href="#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Finding-packages-1"></a>
<h3 class="section">2.7 Finding packages</h3>

<p>GSRC provides build recipes for several hundred packages. So, how can
you find or discover a package relevant to your needs? Fortunately,
the build recipes are described by metadata, which can help you in
searching. For example, you can use standard GNU tools such as
<code>grep</code> to search the text of the build recipes for key words.
</p>
<p>A template script is installed, called <samp>gsrc</samp>, that provides a
simple means for searching for packages via keywords, printing
information about a package, and printing its location. Since
<samp>gsrc</samp> is installed to the same location as executables installed
by GSRC, if you have set up your environment to use GSRC packages
(see <a href="#Setting-your-environment">Setting your environment</a>), you can use the <samp>gsrc</samp> script
to access GSRC from outside the GSRC directory.
</p>
<p>For example, here we search for an editor, discover the program
<em>moe</em>, read information about it, and then install it.
</p>
<div class="example">
<pre class="example">$ gsrc search editor
gnu/denemo 1.0.0
 A music notation editor
gnu/ed 1.7
 An implementation of the standard Unix editor
gnu/emacs 24.3
 The extensible, customizable text editor
gnu/global 6.2.8
 A source code tag system
gnu/gnusound 0.7.5
 A multitrack sound editor
gnu/leg
 Libraries for game engines and game development
gnu/less 451
 A pager
gnu/mc 4.6.1
 A two-paned file manager
gnu/mit-scheme 9.1.1
 An implementation of the Scheme programming language
gnu/moe 1.5
 A simple-to-use text editor
gnu/nano 2.3.2
 A simple text editor
gnu/sed 4.2.2
 A text stream editor
$ gsrc info moe
Name:        Moe
Version:     1.5
URL:         http://www.gnu.org/software/moe
Description:
 GNU Moe is a powerful-but-simple-to-use text editor.  It works in a
 modeless manner, and features an intuitive set of key-bindings that
 assign a degree of &quot;severity&quot; to each key; for example key
 combinations with the Alt key are for harmless commands like cursor
 movements while combinations with the Control key are for commands
 that will modify the text.  Moe features multiple windows, unlimited
 undo/redo, unlimited line length, global search and replace, and
 more.
Status:      not installed
$ make -C $(gsrc path moe) install
</pre></div>

<p>If you view the <samp>gsrc</samp> script&rsquo;s code, you will find that it is
very simple and, indeed, can be used as a template to be expanded to
include the functionality that you desire.
</p>
<p>More robust searching can be performed with the file
<samp>MANIFEST.rec</samp>. If you have acquired GSRC by downloading it as a
<samp>tar.gz</samp> archive, this file should be present in the package&rsquo;s
root directory. If you have acquired GSRC by cloning its code
repository, you will have to generate this file. Simply navigate to
the package&rsquo;s root directory and enter <code>make manifest</code>; you will
want to run this every time you pull updates to the repository. The
resulting file is a <em>recfile</em>, which can be queried as a database
using GNU Recutils, which must be installed (see <a href="http://www.gnu.org/software/recutils/manual/recutils.html#recsel">recsel</a> in <cite>Recutils</cite>).
</p>
&#12;
<hr>
<a name="Advanced-configuration"></a>
<div class="header">
<p>
Next: <a href="#Technical-information" accesskey="n" rel="next">Technical information</a>, Previous: <a href="#Getting-started" accesskey="p" rel="prev">Getting started</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Advanced-configuration-1"></a>
<h2 class="chapter">3 Advanced configuration</h2>

<p>The default behavior of GSRC may be configured both globally and for
individual packages. All configuration is done in simple Makefiles, so
some familiarity with GNU Make, while not required, is recommended for
more advanced changes.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Global-configuration" accesskey="1">Global configuration</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Package-configuration" accesskey="2">Package configuration</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Patching-packages" accesskey="3">Patching packages</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Package-versions" accesskey="4">Package versions</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

&#12;
<hr>
<a name="Global-configuration"></a>
<div class="header">
<p>
Next: <a href="#Package-configuration" accesskey="n" rel="next">Package configuration</a>, Previous: <a href="#Advanced-configuration" accesskey="p" rel="prev">Advanced configuration</a>, Up: <a href="#Advanced-configuration" accesskey="u" rel="up">Advanced configuration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Global-configuration-1"></a>
<h3 class="section">3.1 Global configuration</h3>

<p>Building a package loads the following configuration files:
</p>
<dl compact="compact">
<dt><samp>config.mk</samp></dt>
<dd><p>Specifies the installation directory prefix.  Created by the configure
script from <samp>config.mk.in</samp>
</p></dd>
<dt><samp>gar.conf.mk</samp></dt>
<dd><p>Specifies general configuration variables
</p></dd>
<dt><samp>gar.env.mk</samp></dt>
<dd><p>Defines the environment variables that are set during each build step.
</p></dd>
<dt><samp>gar.master.mk</samp></dt>
<dd><p>Defines the list of mirror sites used to download the source
tarballs. It is recommended to modify this to use local mirrors.
</p></dd>
<dt><samp>gar.site.mk</samp></dt>
<dd><p>An optional file that you can create to load extra recipes to use on
packages.  This file must be created by the user (however, it is not an
eroror if the file does not exist).
</p></dd>
</dl>

<p>Much of the behavior of GSRC is defined by variables that can be
customized.  Generally speaking, you should override these variables in
your <samp>config.mk</samp> file rather than in the <samp>gar.*.mk</samp> files.
That way, you do not have to worry about updates to GSRC overwriting
your changes.
</p>
<p>Some of the more important configuration variables are:
</p>
<dl compact="compact">
<dt><code>BOOTSTRAP</code></dt>
<dd><p>If defined (the default), the environment variables
<code>C_INCLUDE_PATH</code>, <code>CPLUS_INCLUDE_PATH</code> and <code>LDFLAGS</code>
point to the <samp>include</samp> and <samp>lib</samp> subdirectories of the
installation directory.  This forces the use of any previously
installed libraries in preference to the normal system libraries.  To
disable this feature, remove the definition <code>BOOTSTRAP=1</code> in
<samp>config.mk.in</samp> and rerun configure, or build with
<code>BOOTSTRAP</code> undefined on the command-line:
</p>
<div class="example">
<pre class="example">$ make -C gnu/gnupg BOOTSTRAP=
</pre></div>

<p>Set in <samp>conf.mk</samp>
</p>
</dd>
<dt><code>IGNORE_DEPS</code></dt>
<dd><p>Specifies any packages that should be skipped as dependencies (for
example, if you prefer to use existing system packages instead).  A
space separated list. Set in <samp>gar.conf.mk</samp>.
</p>
</dd>
<dt><code>GARCHIVEDIR</code></dt>
<dt><code>GARBALLDIR</code></dt>
<dd><p>Specifies the directories used to cache downloaded source code
archives (<code>GARCHIVEDIR</code>) and the archives of the installed
packages (<code>GARBALLDIR</code>).  Set in <samp>gar.conf.mk</samp>.
</p>
</dd>
<dt><code>MAKE_ARGS_PARALLEL</code></dt>
<dd><p>Set this to <code>-j <var>N</var></code> to allow N parallel processes in the
build.  Note that multiple dependencies are built one-by-one; only the
commands within each build are performed in parallel. Set in
<samp>gar.conf.mk</samp>
</p>
</dd>
<dt><code>USE_COLOR</code></dt>
<dd><p>It&rsquo;s easy to miss the messages printed by GSRC amongst all the output of
the build process. Set this to &ldquo;y&rdquo; to enable colorized output of GSRC
messages, which may make them more visible. Set it to anything else to
disable color. In either case, four more variables are defined:
<code>MSG</code>, <code>MSG2</code>, <code>ERR</code>, <code>OK</code> and <code>OFF</code>. The first
four define strings to insert at the beginning of a normal message
(<code>MSG</code>, <code>MSG2</code>), an error message (<code>ERR</code>), or a message
indicating success (<code>OK</code>). The <code>OFF</code> code is inserted at the
end of the message. When <code>USE_COLOR</code> is &ldquo;y&rdquo;, these variables
contain ANSI escape sequences to change properties of the text (i.e. to
set colors or text weight). Otherwise, they may contain textual
indicators, such as &ldquo;==&gt; &rdquo; to begin a message. Some sensible default
values for both cases are included. Set in <samp>gar.conf.mk</samp>.
</p>
</dd>
<dt><code>REDIRECT_OUTPUT</code></dt>
<dd><p>A typical build process produces a lot of textual output. In some
cases, you may wish to redirect this output to somewhere other than
your screen. In this case, you may set the variable
<code>REDIRECT_OUTPUT</code> to any value other than &ldquo;n&rdquo;. To edit where
the output will be redirected, set the <code>OUTPUT</code> variable. By default, if
you set <code>REDIRECT_OUTPUT</code>, standard text output will be
redirected to <samp>/dev/null</samp>, which means it is thrown away, while
errors will be printed to the screen. You can instead, for example,
redirect to log files of your choosing (see <a href="http://www.gnu.org/software/bash/manual/bash.html#Redirections">Redirections</a> in <cite>Bash</cite> for more details on redirection). Set in <samp>gar.conf.mk</samp>
</p>
</dd>
</dl>

&#12;
<hr>
<a name="Package-configuration"></a>
<div class="header">
<p>
Next: <a href="#Patching-packages" accesskey="n" rel="next">Patching packages</a>, Previous: <a href="#Global-configuration" accesskey="p" rel="prev">Global configuration</a>, Up: <a href="#Advanced-configuration" accesskey="u" rel="up">Advanced configuration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Package-configuration-1"></a>
<h3 class="section">3.2 Package configuration</h3>

<p>Each package can be customized to your liking. Because GNU packages
follow a standardized build process, customizing the GSRC build for
one is straightforward.
</p>
<p>GNU packages take most of their configuration in the form of options
passed to the <samp>configure</samp> script. One may easily customize these
options in a GSRC Makefile by setting the <code>CONFIGURE_OPTS</code>
variable. Any options added to this variable will be appended to the
options set by default by GSRC.
</p>
<div class="example">
<pre class="example">CONFIGURE_OPTS = --disable-gtk --without-png
</pre></div>

<p>For convenience, every package has a file called <samp>config.mk</samp> in its
directory which is imported by its build script. Typically, all user
configuration should be done here. By default, it contains the
<code>CONFIGURE_OPTS</code> and <code>BUILD_OPTS</code> variables. In some special
cases, package-specific, user-customize-able variables are also defined
in this file.
</p>
<p>Generally speaking, user configuration is done exclusively in
<samp>config.mk</samp> while <samp>Makefile</samp> contains the information and
recipes necessary for the package to build correctly. Thus, you should
not need to modify the <samp>Makefile</samp> unless you have special
requirements. Note that most configuration options relating to directory
locations (such as where to install, where to search for libraries,
etc.) are set in the <samp>Makefile</samp>, because they are necessary for
proper building and installation in GSRC. Therefore, you do not need to
worry about setting them correctly in <samp>config.mk</samp>.
</p>
<hr>
<a name="Patching-packages"></a>
<div class="header">
<p>
Next: <a href="#Package-versions" accesskey="n" rel="next">Package versions</a>, Previous: <a href="#Package-configuration" accesskey="p" rel="prev">Package configuration</a>, Up: <a href="#Advanced-configuration" accesskey="u" rel="up">Advanced configuration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Patching-packages-1"></a>
<h3 class="section">3.3 Patching packages</h3>

<p>If you have a patch that you would like to apply to a package, the
process can be automated by GSRC. First, in the package&rsquo;s directory,
make a subdirectory called <samp>files</samp> and move the patch file(s)
there. Next, create two variables in the package&rsquo;s <samp>Makefile</samp>:
</p>
<div class="example">
<pre class="example">PATCHFILES = my-patch.diff my-patch2.diff
PATCHOPTS = -p0
</pre></div>

<p><code>PATCHFILES</code> holds a list of all the patch files in the
<samp>files</samp> subdirectory. <code>PATCHOPTS</code> contains the option switches
to pass to the <code>patch</code> program.
</p>
<p>Next, the patch file&rsquo;s checksum is added to the checksums file for the
package.
</p>
<div class="example">
<pre class="example">$ make makesum
</pre></div>

<p>Note that if the <code>make makesums</code> command fails due to GPG
verification and you trust the source from which the package or patch
was downloaded, you may instead use <code>make makesums GPGV=true</code> to
skip this key verification step.
</p>
<p>Finally, you may build the package as normal. The patch(es) will be
applied automatically in the process.
</p>
<div class="example">
<pre class="example">$ make install
</pre></div>

<p>If the patching process fails and you are sure that the patch is for the
version of the package contained in GSRC, then you may have to modify
the <samp>-p</samp> option in the <code>PATCHOPTS</code> variable (see <a href="http://www.gnu.org/software/diffutils/manual/diffutils#patch-Options">patch
Options</a> in <cite>patch</cite>).
</p>
<p>If the package requires a patch to even build properly, then this is a
bug in GSRC. Please report such build problems to
<a href="mailto:bug-gsrc@gnu.org">bug-gsrc@gnu.org</a>.  You should also contact the maintainers of
the software package to make them aware of the problem.
</p>
&#12;
<hr>
<a name="Package-versions"></a>
<div class="header">
<p>
Previous: <a href="#Patching-packages" accesskey="p" rel="prev">Patching packages</a>, Up: <a href="#Advanced-configuration" accesskey="u" rel="up">Advanced configuration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Package-versions-1"></a>
<h3 class="section">3.4 Package versions</h3>

<p>What is actually happening &ldquo;under the hood&rdquo; when GSRC installs a
package is slightly more complicated than what has been described so
far.
</p>
<p>When you install a package, it is first actually installed to the
<samp>/gnu/packages</samp> directory in a sub-directory with the name
&lt;package&gt;-&lt;version&gt; (i.e. <samp>/gnu/packages/hello-2.8</samp>). In the
example of the package <em>hello</em>, the executable <samp>hello</samp>
is installed to <samp>/gnu/packages/hello-2.8/bin/hello</samp> instead of
<samp>/gnu/bin/hello</samp>. All other files installed by
the package are installed in a similar manner. Next, GSRC makes
symbolic links to those files inside the parent <samp>/gnu</samp>
directory. Thus, <samp>/gnu/bin/hello</samp> is ultimately a symlink to
<samp>/gnu/packages/hello-2.8/bin/hello</samp>. This is referred to as
<em>stowing</em>; a package with symlinks to its files installed in the
system is said to be <em>stowed</em>.
</p>
<p>When a new version of a package is released, you do not have to
uninstall the previous version first. When <em>hello 2.9</em> is built
and installed, it is put into its own package directory,
<samp>/gnu/packages/hello-2.9</samp> and the directory of <em>hello 2.8</em>
is left untouched. When GSRC finalizes the installation, the old
symlinks are removed and new ones are created to the latest
version&rsquo;s files. Thus, while there would then actually be two versions
of the package installed, only the latest one would be stowed.
</p>
<p>If you want to stow a particular version of the package, you may pass
the <code>GARVERSION</code> variable to <code>make install</code>. Be sure to
update the checksums when you do so, otherwise the process will fail!
</p>
<div class="example">
<pre class="example">$ make -C gnu/hello makesum install GARVERSION=2.8
</pre></div>

<p>If you had previously built version 2.8, then GSRC will merely re-stow
those files. Of course, if you have not previously built it, or if
you have previously run <code>make clean</code>, the package will be built
from scratch.
</p>
<p>Note: this method may fail if the package naming format or
compression algorithm has changed between versions (i.e. a change from
tar.gz to tar.xz); in this case you must also modify <code>DISTFILES</code>.
</p>
<p>Users wishing to maintain different configurations of a package may
take advantage of the <code>GARPROFILE</code> variable. Its value is merely
appended to the package directory name, allowing you to have multiple
configurations of the same package version installed. For example:
</p>
<div class="example">
<pre class="example">$ make -C gnu/hello install CONFIGURE_OPTS=&quot;--disable-nls&quot; GARPROFILE=&quot;-no-nls&quot;
</pre></div>

<p>This would install the newly configured package to
<samp>/gnu/packages/hello-2.9-no-nls</samp>.
</p>
&#12;
<hr>
<a name="Technical-information"></a>
<div class="header">
<p>
Next: <a href="#GNU-Free-Documentation-License" accesskey="n" rel="next">GNU Free Documentation License</a>, Previous: <a href="#Advanced-configuration" accesskey="p" rel="prev">Advanced configuration</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Technical-information-1"></a>
<h2 class="appendix">Appendix A Technical information</h2>

<p>This appendix gives detailed information on the GSRC build
system. This information is not necessary for most users but it may be
of interest to developers and GSRC maintainers.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#The-GSRC-build-system" accesskey="1">The GSRC build system</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Anatomy-of-a-GSRC-Makefile" accesskey="2">Anatomy of a GSRC Makefile</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

&#12;
<hr>
<a name="The-GSRC-build-system"></a>
<div class="header">
<p>
Next: <a href="#Anatomy-of-a-GSRC-Makefile" accesskey="n" rel="next">Anatomy of a GSRC Makefile</a>, Previous: <a href="#Technical-information" accesskey="p" rel="prev">Technical information</a>, Up: <a href="#Technical-information" accesskey="u" rel="up">Technical information</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="The-GSRC-build-system-1"></a>
<h3 class="section">A.1 The GSRC build system</h3>

<p>The GSRC build system is based on a system called GARstow by Adam
Sampson, which, in turn, was based on an earlier system called GAR by
Nick Moffitt. In this section, the basic architecture of the GSRC
build system will be described.
</p>
<p>GSRC consists of several system Makefiles plus the Makefile for each
package. When the user calls <code>make</code> on a package&rsquo;s Makefile,
the GSRC system Makefiles are pulled in. There are several of these
system Makefiles:
</p>
<table>
<thead><tr><th width="25%">File</th><th width="75%">Description</th></tr></thead>
<tr><td width="25%"><samp>gar.mk</samp></td><td width="75%">This file contains the top-level targets such as <samp>build</samp> or
<samp>install</samp>.</td></tr>
<tr><td width="25%"><samp>gar.lib.mk</samp></td><td width="75%">This file contains recipes to perform the sub-tasks for each top-level
target (see below).</td></tr>
<tr><td width="25%"><samp>gar.master.mk</samp></td><td width="75%">This file contains master URLs for downloading packages
(i.e. <a href="http://ftp.gnu.org/gnu">http://ftp.gnu.org/gnu</a>).</td></tr>
<tr><td width="25%"><samp>gar.lib</samp></td><td width="75%">This directory contains further Makefiles to define common variable
values for typical build systems, such as the standard GNU Autotools
process.</td></tr>
<tr><td width="25%"><samp>gar.conf.mk</samp></td><td width="75%">This file contains the general configuration of GSRC.</td></tr>
<tr><td width="25%"><samp>gar.env.mk</samp></td><td width="75%">The variables in this file are used to properly set the build
environment for GSRC.</td></tr>
<tr><td width="25%"><samp>config.mk</samp></td><td width="75%">This file contains the user&rsquo;s particular GSRC configuration.</td></tr>
</table>

<p>The typical user-level GSRC Make targets, such as <samp>fetch</samp>,
<samp>build</samp> or <samp>install</samp>, come from <samp>gar.mk</samp>. Depending on
the package&rsquo;s build requirements, as defined in the package&rsquo;s GSRC
Makefile, these user-level targets will depend on lower-level targets
that actually perform the required tasks.
</p>
<p>For example, in a typical GNU package, configuration is done with a
<samp>configure</samp> script while building and installing are done with a
<samp>Makefile</samp>. So, for the package <em>hello</em>, the <samp>build</samp>
target will depend on a target called
<samp>build-work/hello-2.9/Makefile</samp> (<samp>build-</samp> plus the
location of the <samp>Makefile</samp> distributed with the package). For a
Python-based package that is installed via a <samp>setup.py</samp>, the
<samp>install</samp> target will depend on the target
<samp>install-work/foo-1.0/setup.py</samp>. The file <samp>gar.lib.mk</samp>
contains many generalized Make recipes to handle each of these
different scenarios.
</p>
<p>The directory <samp>gar.lib</samp> contains Makefiles that set common
variable values for packages that share similar build systems. It has
a file called <samp>auto.mk</samp>, for example, that defines the settings
for a package that uses the standard Autotools process.
</p>
&#12;
<hr>
<a name="Anatomy-of-a-GSRC-Makefile"></a>
<div class="header">
<p>
Previous: <a href="#The-GSRC-build-system" accesskey="p" rel="prev">The GSRC build system</a>, Up: <a href="#Technical-information" accesskey="u" rel="up">Technical information</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Anatomy-of-a-GSRC-Makefile-1"></a>
<h3 class="section">A.2 Anatomy of a GSRC Makefile</h3>

<p>GSRC Makefiles are the point of entry for the user into the GSRC
system. Since GSRC supplies GNU software and there are GNU coding
standards that dictate how package installation is supposed to work,
the GSRC Makefiles for most GNU software packages are similar.
</p>
<p>In order to facilitate working with the GSRC Makefiles in an automated
way, such as searching them via a script, they all share a common
structure, split into three sections: metadata variables, build
variables, and the build recipes. By convention, these three sections
are separated by lines of seventy hash symbols (&ldquo;#&rdquo;). This helps to
visually separate the sections, as well as to provide convenient
stopping points when scanning or searching the files.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Metadata-variables" accesskey="1">Metadata variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Build-variables" accesskey="2">Build variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Build-recipes" accesskey="3">Build recipes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#A-simple-example" accesskey="4">A simple example</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#A-complex-example" accesskey="5">A complex example</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

&#12;
<hr>
<a name="Metadata-variables"></a>
<div class="header">
<p>
Next: <a href="#Build-variables" accesskey="n" rel="next">Build variables</a>, Previous: <a href="#Anatomy-of-a-GSRC-Makefile" accesskey="p" rel="prev">Anatomy of a GSRC Makefile</a>, Up: <a href="#Anatomy-of-a-GSRC-Makefile" accesskey="u" rel="up">Anatomy of a GSRC Makefile</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Metadata-variables-1"></a>
<h4 class="subsection">A.2.1 Metadata variables</h4>

<p>This section consists of variable declarations that describe the
package itself. The following variables should be present:
</p>
<table>
<thead><tr><th width="25%">Variable name</th><th width="75%">Description</th></tr></thead>
<tr><td width="25%"><code>NAME</code></td><td width="75%">This is the common-language, official name of the package. It may
contain multiple words and any character. Example: &ldquo;GNU
Source-highlight&rdquo;</td></tr>
<tr><td width="25%"><code>GARNAME</code></td><td width="75%">This is the internal GSRC name of the package. It should match the
name of the directory containing the package and, by convention, for
GNU packages it is the name of the package&rsquo;s HTTP subdirectory on
<a href="http://www.gnu.org/software">http://www.gnu.org/software</a>. It should consist of only lower
case letters, numbers, hyphens or underscores. Example:
&ldquo;src-highlite&rdquo;</td></tr>
<tr><td width="25%"><code>UPSTREAMNAME</code></td><td width="75%">[optional] If the package maintainers ever use a different name for
the package, for example a different spelling or capitalization,
include it here. This is often useful in specifying URLs or package
arcive names. Example: &ldquo;source-highlight&rdquo;</td></tr>
<tr><td width="25%"><code>GARVERSION</code></td><td width="75%">This is the current version number of the package. Example: &ldquo;3.1.7&rdquo;</td></tr>
<tr><td width="25%"><code>DISTNAME</code></td><td width="75%">[optional] This variable contains the distribution name of the
package. This variable is automatically constructed and by default it
is <code>$(GARNAME)-$(GARVERSION)</code>. Example: &ldquo;src-highlite-3.1.7&rdquo;</td></tr>
<tr><td width="25%"><code>HOME_URL</code></td><td width="75%">This is the home URL of the package, where a user might find more
information about it. Example:
&ldquo;http://www.gnu.org/software/src-highlite&rdquo;</td></tr>
<tr><td width="25%"><code>DESCRIPTION</code></td><td width="75%">This variable should have a short, one-line description of the
package.</td></tr>
<tr><td width="25%"><code>BLURB</code></td><td width="75%">[optional] This should contain a longer, multi-line description of the
package. To achieve this, its value needs to be declared using the
Make <code>define</code> statement.</td></tr>
</table>

&#12;
<hr>
<a name="Build-variables"></a>
<div class="header">
<p>
Next: <a href="#Build-recipes" accesskey="n" rel="next">Build recipes</a>, Previous: <a href="#Metadata-variables" accesskey="p" rel="prev">Metadata variables</a>, Up: <a href="#Anatomy-of-a-GSRC-Makefile" accesskey="u" rel="up">Anatomy of a GSRC Makefile</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Build-variables-1"></a>
<h4 class="subsection">A.2.2 Build variables</h4>

<p>The second section of a GSRC Makefile holds variable definitions that
are used in the build process. When possible, it is preferable to use
the metadata variables in the build variable definitions, to minimize
the number of items that need to be modified should anything change.
</p>
<table>
<thead><tr><th width="25%">Variable name</th><th width="75%">Description</th></tr></thead>
<tr><td width="25%"><code>MASTER_SITES</code></td><td width="75%">This variable defines the top-level URL from where the package files
should be retrieved. Many URLs are already defined in variables in the
file <samp>gar.master.mk</samp>. Most GNU packages are retrievable from
<a href="http://ftp.gnu.org/gnu">http://ftp.gnu.org/gnu</a>, which is assigned to the variable
<code>MASTER_GNU</code> in <samp>gar.master.mk</samp>, so for a GNU package,
<code>MASTER_SITES</code> would be set to <code>$(MASTER_GNU)</code>. Multiple
sites may be listed; attempts to download a files will proceed for
each site listed until one succeeds.</td></tr>
<tr><td width="25%"><code>MASTER_SUBDIR</code></td><td width="75%">This is the directory of the master site under which the package
files can be found. For most GNU packages, this can simply be
<code>$(GARNAME)/</code>.</td></tr>
<tr><td width="25%"><code>DISTFILE_SITES</code></td><td width="75%">This variable contains URL(s) from which source distribution archives
only are to be downloaded.</td></tr>
<tr><td width="25%"><code>DISTFILE_SUBDIR</code></td><td width="75%">This variable contains the sub-directory of <code>DISTFILE_SITES</code>
where the source distributions can be found.</td></tr>
<tr><td width="25%"><code>SIGFILE_SITES</code></td><td width="75%">This variable contains URL(s) from which signature files only are to
be downloaded.</td></tr>
<tr><td width="25%"><code>SIGFILE_SUBDIR</code></td><td width="75%">This variable contains the sub-directory of <code>SIGFILE_SITES</code>
where the signature files can be found.</td></tr>
<tr><td width="25%"><code>PATCHFILE_SITES</code></td><td width="75%">This variable contains URL(s) from which patch files only are to be
downloaded.</td></tr>
<tr><td width="25%"><code>PATCHFILE_SUBDIR</code></td><td width="75%">This variable contains the sub-directory of <code>DISTFILE_SITES</code>
where the source distributions can be found.</td></tr>
<tr><td width="25%"><code>FILE_SITES</code></td><td width="75%">This variable lists file URIs where files can be found locally. By
default this contains the <samp>files</samp> sub-directory of the package&rsquo;s
GSRC directory and the location specified by the variable
<code>GARCHIVEDIR</code>. Note that these URIs should be prefaced with
&ldquo;file://&rdquo;.</td></tr>
<tr><td width="25%"><code>DISTFILES</code></td><td width="75%">This variable contains a space-separated list of all of the source
distribution archives to be fetched.</td></tr>
<tr><td width="25%"><code>SIGFILES</code></td><td width="75%">This variable contains a space-separated list of all the signature
files to fetch.</td></tr>
<tr><td width="25%"><code>PATCHFILES</code></td><td width="75%">This variable contains a space-separated list of all the patch
files to fetch.</td></tr>
<tr><td width="25%"><code>WORKSRC</code></td><td width="75%">This variable contains the name of the directory where all of the work
should take place. Its default value is <code>$(WORKDIR)/$(DISTNAME)</code>,
which should be sufficient for most cases, so it is normally not
necessary to set this variable. If, however, the package&rsquo;s source
archive extracts to a directory with some other name, you should set
it here. This should always begin with <code>$(WORKDIR)</code>, which by
default is the <samp>work</samp> subdirectory of the GSRC package&rsquo;s
sub-directory.</td></tr>
<tr><td width="25%"><code>WORKOBJ</code></td><td width="75%">This variable defines the location where the build process should take
place. Normally, and by default, this is the same as <code>WORKSRC</code>,
however some packages recommend building in a directory separate from
the location of the source code.</td></tr>
<tr><td width="25%"><code>CONFIGURE_SCRIPTS</code></td><td width="75%">This variable contains a list of the scripts or files that need to be
run during the configuration step of the build process. Phony targets
may also be included.</td></tr>
<tr><td width="25%"><code>BUILD_SCRIPTS</code></td><td width="75%">This variable contains a list of the scripts or files that need to be
run during the build step of the build process. Phony targets
may also be included.</td></tr>
<tr><td width="25%"><code>INSTALL_SCRIPTS</code></td><td width="75%">This variable contains a list of the scripts or files that need to be
run during the install step of the build process. Phony targets
may also be included.</td></tr>
<tr><td width="25%"><code>INFO_FILES</code></td><td width="75%">This variable contains a list of all of the Info documentation files
installed by a program.  To use this variable, you must include the
<samp>info.mk</samp> file from the <samp>gar.lib</samp> directory.  If this variable
is not defined and <samp>info.mk</samp> is included, then it will have a
default value of <code>$(GARNAME).info</code></td></tr>
<tr><td width="25%"><code>BUILDDEPS</code></td><td width="75%">This variable contains a space-separated list of the programs required
to build the package, using their GARNAMEs.</td></tr>
<tr><td width="25%"><code>LIBDEPS</code></td><td width="75%">This variable is slightly a misnomer. It is a space-separated list of
all the programs and/or libraries required at run-time by the package.</td></tr>
</table>

&#12;
<hr>
<a name="Build-recipes"></a>
<div class="header">
<p>
Next: <a href="#A-simple-example" accesskey="n" rel="next">A simple example</a>, Previous: <a href="#Build-variables" accesskey="p" rel="prev">Build variables</a>, Up: <a href="#Anatomy-of-a-GSRC-Makefile" accesskey="u" rel="up">Anatomy of a GSRC Makefile</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Build-recipes-1"></a>
<h4 class="subsection">A.2.3 Build recipes</h4>

<p>The final section of the GSRC Makefile contains the specifics of
building the package. For most cases, it is sufficient to just add
<code>include ../../gar.lib/auto.mk</code>, which will work for any package
that follows the GNU building and installation standards. This will,
among other actions, automatically define the
<code>CONFIGURE_SCRIPTS</code>, <code>BUILD_SCRIPTS</code> and
<code>INSTALL_SCRIPTS</code> variables and it will include the <samp>gar.mk</samp>
Makefile. If the package does not follow this building standard, then
add <code>include ../../gar.mk</code> directly. Following this, the user&rsquo;s
package configuration should be loaded with <code>include config.mk</code>.
</p>
<p>Because there is the possibility that the user specify some
configuration options, any further options that must be set within the
Makefile should be done after the user configuration has been
loaded. By convention, whereas the user specifies options with the
<code>CONFIGURE_OPTS</code> and <code>BUILD_OPTS</code> variables, inside the
GSRC Makefile options should be included by <em>appending</em> to the
<code>CONFIGURE_ARGS</code> and <code>BUILD_ARGS</code> variables:
</p>
<div class="example">
<pre class="example">CONFIGURE_ARGS += --some-option
</pre></div>

<p>Finally, if necessary, the actual recipes are written. Note that if
<samp>gar.lib/auto.mk</samp> was included, no recipes should need to be
written. In general, there are two kinds of targets for which recipes
may need to be written.
</p>
<p>The first correspond to the files listed under
<code>CONFIGURE_SCRIPTS</code>, <code>BUILD_SCRIPTS</code> and
<code>INSTALL_SCRIPTS</code>. As mentioned previously, user-level targets,
such as <samp>build</samp>, depend on lower-level targets such as
<samp>build-work/hello-2.9/Makefile</samp>. These are the targets that
must be implemented for each of the designated configure/build/install
scripts. For each target, a recipe is written using the normal Make
syntax to perform the necessary task. Recall that phony targets may be
specified as configure/build/install scripts. So, if
<code>INSTALL_SCRIPTS = java</code>, then a target named <code>install-java</code>
must be written.
</p>
<p>The second kind of targets that may be written are pre- and post-
rules. These recipes are run before or after the specified top-level
target. For example, a target called <samp>pre-build</samp> is run
immediately before the <samp>build</samp> target. These targets are
convenient for performing pre- or post-processing on files. Note that
there are also <samp>pre-everything</samp> and <samp>post-everything</samp>
targets that can be written.
</p>
&#12;
<hr>
<a name="A-simple-example"></a>
<div class="header">
<p>
Next: <a href="#A-complex-example" accesskey="n" rel="next">A complex example</a>, Previous: <a href="#Build-recipes" accesskey="p" rel="prev">Build recipes</a>, Up: <a href="#Anatomy-of-a-GSRC-Makefile" accesskey="u" rel="up">Anatomy of a GSRC Makefile</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="A-simple-example-1"></a>
<h4 class="subsection">A.2.4 A simple example</h4>

<div class="example">
<pre class="example">NAME = GNU Hello
GARNAME = hello
GARVERSION = 2.9
HOME_URL = http://www.gnu.org/software/hello/manual/
DESCRIPTION = A program that produces a familiar, friendly greeting
define BLURB
GNU Hello prints the message &quot;Hello, world!&quot; and then exits.  It
serves as an example of standard GNU coding practices.  As such, it
supports command-line arguments, multiple languages, and so on.
endef

######################################################################

MASTER_SITES = $(MASTER_GNU)
MASTER_SUBDIR = $(GARNAME)/
DISTFILES = $(DISTNAME).tar.gz
SIGFILES = $(DISTNAME).tar.gz.sig

BUILDDEPS =
LIBDEPS =

######################################################################

include ../../gar.lib/auto.mk
include config.mk
</pre></div>

&#12;
<hr>
<a name="A-complex-example"></a>
<div class="header">
<p>
Previous: <a href="#A-simple-example" accesskey="p" rel="prev">A simple example</a>, Up: <a href="#Anatomy-of-a-GSRC-Makefile" accesskey="u" rel="up">Anatomy of a GSRC Makefile</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="A-complex-example-1"></a>
<h4 class="subsection">A.2.5 A complex example</h4>

<div class="example">
<pre class="example">NAME = Linux Libre
GARNAME = linux-libre
GARVERSION = 3.8.5
HOME_URL = http://www.fsfla.org/svnwiki/selibre/linux-libre/
DESCRIPTION = A free version of the Linux kernel
define BLURB
Linux Libre is a free (as in freedom) variant of the Linux kernel.
It has been modified to remove any non-free binary blobs.
endef

######################################################################

MASTER_SITES = http://linux-libre.fsfla.org/pub/
MASTER_SUBDIR = $(GARNAME)/releases/$(GARVERSION)-gnu/
DISTFILES = $(DISTNAME)-gnu.tar.xz
SIGFILES = $(DISTNAME)-gnu.tar.xz.sign

WORKSRC = $(WORKDIR)/linux-$(GARVERSION)
CONFIGURE_SCRIPTS = $(WORKSRC)/Makefile
BUILD_SCRIPTS = $(WORKSRC)/Makefile
INSTALL_SCRIPTS = kernel

BUILDDEPS =
LIBDEPS =

######################################################################

include ../../gar.mk
include config.mk

CONFIGURE_ARGS = $(CONFIGURE_OPTS)
BUILD_ARGS += $(if $(USE_PARALLEL),$(MAKE_ARGS_PARALLEL),)

CREATED_MERGE_DIRS = \
	sysconf $(sysconfdir) \
	var $(vardir) \
	rootlib /lib

pre-configure:
	make -C $(WORKSRC) mrproper
	$(MAKECOOKIE)

configure-%/Makefile:
	$(CONFIGURE_ENV) make -C $* $(MAKE_ARGS) $(CONFIGURE_ARGS) $(CONFIGURE_TARGET)
	$(MAKECOOKIE)

post-configure:
	cd $(WORKSRC) &amp;&amp; make $(MAKE_ARGS) prepare
	$(MAKECOOKIE)

build-%/Makefile:
	$(BUILD_ENV) make -C $* $(BUILD_ARGS)
	$(MAKECOOKIE)

install-kernel:
	make -C $(WORKOBJ) $(MAKE_ARGS) \
		INSTALL_MOD_PATH=$(packageprefix) \
		INSTALL_HDR_PATH=$(packageprefix) \
		modules_install \
		headers_install \
		firmware_install
	@install -m755 -D $(WORKSRC)/arch/$(ARCH)/boot/bzImage $(packageprefix)/boot/vmlinuz-$(DISTNAME)
	@install -m755 $(WORKSRC)/System.map $(packageprefix)/boot/System.map-$(GARVERSION)
	@install -m755 $(WORKSRC)/.config $(packageprefix)/boot/config-$(GARVERSION)
	$(MAKECOOKIE)
</pre></div>

<hr>
<a name="GNU-Free-Documentation-License"></a>
<div class="header">
<p>
Previous: <a href="#Technical-information" accesskey="p" rel="prev">Technical information</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="GNU-Free-Documentation-License-1"></a>
<h2 class="appendix">Appendix B GNU Free Documentation License</h2>

<div align="center">Version 1.3, 3 November 2008
</div>

<div class="display">
<pre class="display">Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
<a href="http://fsf.org/">http://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></div>

<ol>
<li> PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <em>free</em> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.
</p>
<p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li> APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>
<p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document&rsquo;s overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.
</p>
<p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.
</p>
<p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.
</p>
<p>Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input
format, SGML or XML using a publicly available
DTD, and standard-conforming simple HTML,
PostScript or PDF designed for human modification.  Examples
of transparent image formats include PNG, XCF and
JPG.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, SGML or
XML for which the DTD and/or processing tools are
not generally available, and the machine-generated HTML,
PostScript or PDF produced by some word processors for
output purposes only.
</p>
<p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work&rsquo;s title,
preceding the beginning of the body of the text.
</p>
<p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.
</p>
<p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.
</p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li><li> VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li> COPYING IN QUANTITY

<p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document&rsquo;s license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li> MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol>
<li> Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li> List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

</li><li> State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li> Preserve all the copyright notices of the Document.

</li><li> Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li> Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li> Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document&rsquo;s license notice.

</li><li> Include an unaltered copy of this License.

</li><li> Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li> Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li> For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

</li><li> Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li> Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

</li><li> Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

</li><li> Preserve any Warranty Disclaimers.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version&rsquo;s license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li> COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;
</p>
</li><li> COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li> AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation&rsquo;s users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document&rsquo;s Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.
</p>
</li><li> TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.
</p>
<p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li><li> TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.
</p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.
</p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.
</p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.
</p>
</li><li> FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy&rsquo;s public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.
</p>
</li><li> RELICENSING

<p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.
</p>
<p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.
</p>
<p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.
</p>
<p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.
</p>
<p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.
</p>
</li></ol>

<a name="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></a>
<h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<div class="smallexample">
<pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.3
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre></div>

<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with&hellip;Texts.&rdquo; line with this:
</p>
<div class="smallexample">
<pre class="smallexample">    with the Invariant Sections being <var>list their titles</var>, with
    the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
    being <var>list</var>.
</pre></div>

<p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>


<hr>



</body>
</html>
