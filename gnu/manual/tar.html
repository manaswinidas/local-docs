<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!--
This manual is for GNU tar (version
1.32, 4 February 2019), which creates and extracts files
from archives.

Copyright C 1992, 1994-1997, 1999-2001, 2003-2017 Free
Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License", with the
Front-Cover Texts being "A GNU Manual", and with the Back-Cover Texts
as in (a) below.  A copy of the license is included in the section
entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to
copy and modify this GNU manual."

-->
<!-- Created on February, 23 2019 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>GNU tar 1.32: GNU tar: an archiver tool</title>

<meta name="description" content="GNU tar 1.32: GNU tar: an archiver tool">
<meta name="keywords" content="GNU tar 1.32: GNU tar: an archiver tool">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Top"></a>
<a name="SEC_Top"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="settitle"><acronym>GNU</acronym> tar: an archiver tool</h1>


<p>This manual is for <acronym>GNU</acronym> <code>tar</code> (version
1.32, 4 February 2019), which creates and extracts files
from archives.
</p>
<p>Copyright &copy; 1992, 1994-1997, 1999-2001, 2003-2017 Free
Software Foundation, Inc.
</p>
<blockquote><p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being &quot;GNU General Public License&quot;, with the
Front-Cover Texts being &quot;A GNU Manual&quot;, and with the Back-Cover Texts
as in (a) below.  A copy of the license is included in the section
entitled &quot;GNU Free Documentation License&quot;.
</p>
<p>(a) The FSF's Back-Cover Text is: &quot;You have the freedom to
copy and modify this GNU manual.&quot;
</p></blockquote>

<a name="IDX1"></a>
<a name="IDX2"></a>

<p>The first part of this master menu lists the major nodes in this Info
document.  The rest of the menu lists all the lower level nodes.
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC1">1. Introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC8">2. Tutorial Introduction to <code>tar</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC32">3. Invoking <acronym>GNU</acronym> <code>tar</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC56">4. <acronym>GNU</acronym> <code>tar</code> Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC94">5. Performing Backups and Restoring Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC105">6. Choosing Files and Names for <code>tar</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC121">7. Date input formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC133">8. Controlling the Archive Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC154">9. Tapes and Other Archive Media</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC171">10. Reliability and Security</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Appendices

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC181">A. Changes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC182">B. Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Frequently used tar recipes
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC186">D. Fixing Snapshot Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC187">E. Tar Internals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC196">F. Genfile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC200">G. Free Software Needs Free Documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC201">H. GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC203">I. Index of Command Line Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC204">J. Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
 --- The Detailed Node Listing ---

Introduction

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC2">1.1 What this Book Contains</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC3">1.2 Some Definitions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC4">1.3 What <code>tar</code> Does</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC5">1.4 How <code>tar</code> Archives are Named</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC6">1.5 <acronym>GNU</acronym> <code>tar</code> Authors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC7">1.6 Reporting bugs or suggestions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Tutorial Introduction to <code>tar</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC9">2.1 Assumptions this Tutorial Makes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC10">2.2 Stylistic Conventions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC11">2.3 Basic <code>tar</code> Operations and Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC12">2.4 The Three Most Frequently Used Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC13">2.5 Two Frequently Used Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC17">2.6 How to Create Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC23">2.7 How to List Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC25">2.8 How to Extract Members from an Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC31">2.9 Going Further Ahead in this Manual</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Two Frequently Used Options

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC14">The <samp>`--file'</samp> Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC15">The <samp>`--verbose'</samp> Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC16">Getting Help: Using the <samp>`--help'</samp> Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
How to Create Archives

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC18">2.6.1 Preparing a Practice Directory for Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC19">2.6.2 Creating the Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC20">2.6.3 Running <samp>`--create'</samp> with <samp>`--verbose'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC21">2.6.4 Short Forms with <samp>`create'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC22">2.6.5 Archiving Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
How to List Archives

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC24">Listing the Contents of a Stored Directory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
How to Extract Members from an Archive

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC26">2.8.1 Extracting an Entire Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC27">2.8.2 Extracting Specific Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC28">2.8.3 Extracting Files that are Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC29">2.8.4 Extracting Archives from Untrusted Sources</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC30">2.8.5 Commands That Will Fail</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Invoking <acronym>GNU</acronym> <code>tar</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC33">3.1 General Synopsis of <code>tar</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC34">3.2 Using <code>tar</code> Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC35">3.3 The Three Option Styles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC40">3.4 All <code>tar</code> Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC46">3.6 Obtaining <acronym>GNU</acronym> <code>tar</code> default values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC48">3.8 Checkpoints</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC49">3.9 Controlling Warning Messages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC54">3.10 Asking for Confirmation During Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
The Three Option Styles

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC37">3.3.2 Short Option Style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC38">3.3.3 Old Option Style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC39">3.3.4 Mixing Option Styles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
All <code>tar</code> Options

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC41">3.4.1 Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC43">3.4.3 Short Options Cross Reference</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC44">3.4.4 Position-Sensitive Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
<acronym>GNU</acronym> <code>tar</code> Operations

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC57">4.1 Basic <acronym>GNU</acronym> <code>tar</code> Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC58">4.2 Advanced <acronym>GNU</acronym> <code>tar</code> Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC68">4.3 Options Used by <samp>`--create'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC72">4.4 Options Used by <samp>`--extract'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC92">4.5 Backup options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC93">4.6 Looking Ahead: The Rest of this Manual</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Advanced <acronym>GNU</acronym> <code>tar</code> Operations

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC59">4.2.1 The Five Advanced <code>tar</code> Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC63">4.2.3 Updating an Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC65">4.2.4 Combining Archives with <samp>`--concatenate'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC66">4.2.5 Removing Archive Members Using <samp>`--delete'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC67">4.2.6 Comparing Archive Members with the File System</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
How to Add Files to Existing Archives: <samp>`--append'</samp>

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC61">4.2.2.1 Appending Files to an Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC62">4.2.2.2 Multiple Members with the Same Name</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Updating an Archive

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC64">4.2.3.1 How to Update an Archive Using <samp>`--update'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Options Used by <samp>`--create'</samp>

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC69">4.3.1 Overriding File Metadata</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC70">4.3.2 Extended File Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC71">4.3.3 Ignore Failed Read</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Options Used by <samp>`--extract'</samp>

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC73">4.4.1 Options to Help Read Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC76">4.4.2 Changing How <code>tar</code> Writes Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC89">4.4.3 Coping with Scarce Resources</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Options to Help Read Archives

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC74">Reading Full Records</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC75">Ignoring Blocks of Zeros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Changing How <code>tar</code> Writes Files

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC77">Options Controlling the Overwriting of Existing Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC78">Overwrite Old Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC79">Keep Old Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC80">Keep Newer Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC81">Unlink First</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC82">Recursive Unlink</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC83">Setting Data Modification Times</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC84">Setting Access Permissions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC85">Directory Modification Times and Permissions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC86">Writing to Standard Output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC87">Writing to an External Program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC88">Removing Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Coping with Scarce Resources

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC90">Starting File</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC91">Same Order</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Performing Backups and Restoring Files

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC95">5.1 Using <code>tar</code> to Perform Full Dumps</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC97">5.3 Levels of Backups</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC98">5.4 Setting Parameters for Backups and Restoration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC103">5.5 Using the Backup Scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC104">5.6 Using the Restore Script</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Setting Parameters for Backups and Restoration

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC100">5.4.2 Magnetic Tape Control</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC101">5.4.3 User Hooks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC102">5.4.4 An Example Text of <tt>`Backup-specs'</tt></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Choosing Files and Names for <code>tar</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                        Choosing the Archive's Name
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC107">6.2 Selecting Archive Members</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC112">6.5 Wildcards Patterns and Matching</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC114">6.6 Quoting Member Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Ways of Quoting Special Characters in Names
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC115">6.7 Modifying File and Member Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC117">6.9 Descending into Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC118">6.10 Crossing File System Boundaries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Reading Names from a File

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC109">6.3.1 <code>NUL</code>-Terminated File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Excluding Some Files

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC111">Problems with Using the <code>exclude</code> Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Wildcards Patterns and Matching

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Crossing File System Boundaries

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC119">6.10.1 Changing the Working Directory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Changing Directory
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC120">6.10.2 Absolute File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Date input formats

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC122">7.1 General date syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Common rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC123">7.2 Calendar date items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            19 Dec 1994.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC124">7.3 Time of day items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              9:20pm.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC125">7.4 Time zone items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                <small>EST</small>, <small>PDT</small>, <small>GMT</small>.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC127">7.6 Day of week items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Monday and others.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> next tuesday, 2 years ago.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC129">7.8 Pure numbers in date strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   19931219, 1440.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC130">7.9 Seconds since the Epoch</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        @1078100502.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC131">7.10 Specifying time zone rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     TZ=&quot;America/New_York&quot;, TZ=&quot;UTC0&quot;.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Bellovin, Eggert, Salz, Berets, et al.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Controlling the Archive Format

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC134">8.1 Using Less Space through Compression</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC139">8.3 Making <code>tar</code> Archives More Portable</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC153">8.4 Comparison of <code>tar</code> and <code>cpio</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Using Less Space through Compression

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC137">8.1.2 Archiving Sparse Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Creating and Reading Compressed Archives

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC136">8.1.1.1 Using lbzip2 with <acronym>GNU</acronym> <code>tar</code>.</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Making <code>tar</code> Archives More Portable

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC140">8.3.1 Portable Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC141">8.3.2 Symbolic Links</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC142">8.3.3 Hard Links</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC143">8.3.4 Old V7 Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC144">8.3.5 Ustar Archive Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       Ustar Archives
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC145">8.3.6 <acronym>GNU</acronym> and old <acronym>GNU</acronym> <code>tar</code> format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                         GNU and old GNU format archives.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC146">8.3.7 <acronym>GNU</acronym> <code>tar</code> and <acronym>POSIX</acronym> <code>tar</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       <acronym>POSIX</acronym> archives
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC148">8.3.8 Checksumming Problems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC149">8.3.9 Large or Negative Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Large files, negative time stamps, etc.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC150">8.3.10 How to Extract GNU-Specific Data Using Other <code>tar</code> Implementations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
<acronym>GNU</acronym> <code>tar</code> and <acronym>POSIX</acronym> <code>tar</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC147">8.3.7.1 Controlling Extended Header Keywords</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
How to Extract GNU-Specific Data Using Other <code>tar</code> Implementations

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC151">8.3.10.1 Extracting Members Split Between Volumes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Members Split Between Volumes
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC152">8.3.10.2 Extracting Sparse Members</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Sparse Members
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Tapes and Other Archive Media

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC155">9.1 Device Selection and Switching</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      Device selection and switching
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC156">9.2 Remote Tape Server</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC157">9.3 Some Common Problems and their Solutions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC158">9.4 Blocking</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC161">9.5 Many Archives on One Tape</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                        Many archives on one tape
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC164">9.6 Using Multiple Tapes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC168">9.7 Including a Label in the Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC169">9.8 Verifying Data as It is Stored</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC170">9.9 Write Protection</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Blocking

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC159">9.4.1 Format Variations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Many Archives on One Tape

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC162">9.5.1 Tape Positions and Tape Marks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC163">9.5.2 The <code>mt</code> Utility</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Using Multiple Tapes

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC166">9.6.2 Tape Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC167">9.6.3 Concatenate Volumes into a Single Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Tar Internals

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC188">Basic Tar Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC189"><acronym>GNU</acronym> Extensions to the Archive Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC190">Storing Sparse Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC195">Dumpdir</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Storing Sparse Files

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC191">E.0.1 Old GNU Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC192">E.0.2 PAX Format, Versions 0.0 and 0.1</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC193">E.0.3 PAX Format, Version 1.0</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Genfile

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC197">F.1 Generate Mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     File Generation Mode.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC198">F.2 Status Mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       File Status Mode.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC199">F.3 Exec Mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Synchronous Execution mode.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Copying This Manual

</pre></th></tr><tr><td align="left" valign="top"><a href="#SEC201">H. GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  License for copying this manual
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
</pre></th></tr></table>

<hr size="1">
<a name="Introduction"></a>
<a name="SEC1"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC2" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[ &lt;&lt; ]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 1. Introduction </h1>

<p><acronym>GNU</acronym> <code>tar</code> creates
and manipulates <em>archives</em> which are actually collections of
many other files; the program provides users with an organized and
systematic method for controlling a large amount of data.
The name &quot;tar&quot; originally came from the phrase &quot;Tape ARchive&quot;, but
archives need not (and these days, typically do not) reside on tapes.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC2">1.1 What this Book Contains</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC3">1.2 Some Definitions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC4">1.3 What <code>tar</code> Does</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC5">1.4 How <code>tar</code> Archives are Named</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC6">1.5 <acronym>GNU</acronym> <code>tar</code> Authors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC7">1.6 Reporting bugs or suggestions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Book-Contents"></a>
<a name="SEC2"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC1" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC3" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.1 What this Book Contains </h2>

<p>The first part of this chapter introduces you to various terms that will
recur throughout the book.  It also tells you who has worked on <acronym>GNU</acronym> <code>tar</code>
and its documentation, and where you should send bug reports
or comments.
</p>
<p>The second chapter is a tutorial (see section <a href="#SEC8">Tutorial Introduction to <code>tar</code></a>) which provides a
gentle introduction for people who are new to using <code>tar</code>.  It is
meant to be self-contained, not requiring any reading from subsequent
chapters to make sense.  It moves from topic to topic in a logical,
progressive order, building on information already explained.
</p>
<p>Although the tutorial is paced and structured to allow beginners to
learn how to use <code>tar</code>, it is not intended solely for beginners.
The tutorial explains how to use the three most frequently used
operations (<samp>`create'</samp>, <samp>`list'</samp>, and <samp>`extract'</samp>) as well as
two frequently used options (<samp>`file'</samp> and <samp>`verbose'</samp>).  The other
chapters do not refer to the tutorial frequently; however, if a section
discusses something which is a complex variant of a basic concept, there
may be a cross-reference to that basic concept.  (The entire book,
including the tutorial, assumes that the reader understands some basic
concepts of using a Unix-type operating system; see section <a href="#SEC8">Tutorial Introduction to <code>tar</code></a>.)
</p>
<p>The third chapter presents the remaining five operations, and
information about using <code>tar</code> options and option syntax.
</p>
<p>The other chapters are meant to be used as a reference.  Each chapter
presents everything that needs to be said about a specific topic.
</p>
<p>One of the chapters (see section <a href="#SEC121">Date input formats</a>) exists in its
entirety in other <acronym>GNU</acronym> manuals, and is mostly self-contained.
In addition, one section of this manual (see section <a href="#SEC188">Basic Tar Format</a>) contains a
big quote which is taken directly from <code>tar</code> sources.
</p>
<p>In general, we give both long and short (abbreviated) option names
at least once in each section where the relevant option is covered, so
that novice readers will become familiar with both styles.  (A few
options have no short versions, and the relevant sections will
indicate this.)
</p>
<hr size="6">
<a name="Definitions"></a>
<a name="SEC3"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC2" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC4" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.2 Some Definitions </h2>

<p>The <code>tar</code> program is used to create and manipulate <code>tar</code>
archives.  An <em>archive</em> is a single file which contains the contents
of many files, while still identifying the names of the files, their
owner(s), and so forth.  (In addition, archives record access
permissions, user and group, size in bytes, and data modification time.
Some archives also record the file names in each archived directory, as
well as other file and directory information.)  You can use <code>tar</code>
to <em>create</em> a new archive in a specified directory.
</p>
<a name="IDX3"></a>
<a name="IDX4"></a>
<a name="IDX5"></a>
<a name="IDX6"></a>
<p>The files inside an archive are called <em>members</em>.  Within this
manual, we use the term <em>file</em> to refer only to files accessible in
the normal ways (by <code>ls</code>, <code>cat</code>, and so forth), and the term
<em>member</em> to refer only to the members of an archive.  Similarly, a
<em>file name</em> is the name of a file, as it resides in the file system,
and a <em>member name</em> is the name of an archive member within the
archive.
</p>
<a name="IDX7"></a>
<a name="IDX8"></a>
<p>The term <em>extraction</em> refers to the process of copying an archive
member (or multiple members) into a file in the file system.  Extracting
all the members of an archive is often called <em>extracting the
archive</em>.  The term <em>unpack</em> can also be used to refer to the
extraction of many or all the members of an archive.  Extracting an
archive does not destroy the archive's structure, just as creating an
archive does not destroy the copies of the files that exist outside of
the archive.  You may also <em>list</em> the members in a given archive
(this is often thought of as &quot;printing&quot; them to the standard output,
or the command line), or <em>append</em> members to a pre-existing archive.
All of these operations can be performed using <code>tar</code>.
</p>
<hr size="6">
<a name="What-tar-Does"></a>
<a name="SEC4"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC3" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.3 What <code>tar</code> Does </h2>

<p>The <code>tar</code> program provides the ability to create <code>tar</code>
archives, as well as various other kinds of manipulation.  For example,
you can use <code>tar</code> on previously created archives to extract files,
to store additional files, or to update or list files which were already
stored.
</p>
<p>Initially, <code>tar</code> archives were used to store files conveniently on
magnetic tape.  The name <code>tar</code> comes from this use; it stands for
<code>t</code>ape <code>ar</code>chiver.  Despite the utility's name, <code>tar</code> can
direct its output to available devices, files, or other programs (using
pipes).  <code>tar</code> may even access remote devices or files (as archives).
</p>
<p>You can use <code>tar</code> archives in many ways.  We want to stress a few
of them: storage, backup, and transportation.
</p>
<p>See <cite>the following table entries need a bit of work.</cite>
</p>
<dl compact="compact">
<dt> Storage</dt>
<dd><p>Often, <code>tar</code> archives are used to store related files for
convenient file transfer over a network.  For example, the
<acronym>GNU</acronym> Project distributes its software bundled into
<code>tar</code> archives, so that all the files relating to a particular
program (or set of related programs) can be transferred as a single
unit.
</p>
<p>A magnetic tape can store several files in sequence.  However, the tape
has no names for these files; it only knows their relative position on
the tape.  One way to store several files on one tape and retain their
names is by creating a <code>tar</code> archive.  Even when the basic transfer
mechanism can keep track of names, as FTP can, the nuisance of handling
multiple files, directories, and multiple links makes <code>tar</code>
archives useful.
</p>
<p>Archive files are also used for long-term storage.  You can think of
this as transportation from the present into the future.  (It is a
science-fiction idiom that you can move through time as well as in
space; the idea here is that <code>tar</code> can be used to move archives in
all dimensions, even time!)
</p>
</dd>
<dt> Backup</dt>
<dd><p>Because the archive created by <code>tar</code> is capable of preserving
file information and directory structure, <code>tar</code> is commonly
used for performing full and incremental backups of disks.  A backup
puts a collection of files (possibly pertaining to many users and
projects) together on a disk or a tape.  This guards against
accidental destruction of the information in those files.
<acronym>GNU</acronym> <code>tar</code> has special features that allow it to be
used to make incremental and full dumps of all the files in a
file system.
</p>
</dd>
<dt> Transportation</dt>
<dd><p>You can create an archive on one system, transfer it to another system,
and extract the contents there.  This allows you to transport a group of
files from one system to another.
</p></dd>
</dl>

<hr size="6">
<a name="Naming-tar-Archives"></a>
<a name="SEC5"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC4" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC6" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.4 How <code>tar</code> Archives are Named </h2>

<p>Conventionally, <code>tar</code> archives are given names ending with
<samp>`.tar'</samp>.  This is not necessary for <code>tar</code> to operate properly,
but this manual follows that convention in order to accustom readers to
it and to make examples more clear.
</p>
<a name="IDX9"></a>
<a name="IDX10"></a>
<a name="IDX11"></a>
<p>Often, people refer to <code>tar</code> archives as &quot;<code>tar</code> files,&quot; and
archive members as &quot;files&quot; or &quot;entries&quot;.  For people familiar with
the operation of <code>tar</code>, this causes no difficulty.  However, in
this manual, we consistently refer to &quot;archives&quot; and &quot;archive
members&quot; to make learning to use <code>tar</code> easier for novice users.
</p>
<hr size="6">
<a name="Authors"></a>
<a name="SEC6"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC5" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC7" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.5 <acronym>GNU</acronym> <code>tar</code> Authors </h2>

<p><acronym>GNU</acronym> <code>tar</code> was originally written by John Gilmore,
and modified by many people.  The <acronym>GNU</acronym> enhancements were
written by Jay Fenlason, then Joy Kendall, and the whole package has
been further maintained by Thomas Bushnell, n/BSG, Fran&ccedil;ois
Pinard, Paul Eggert, and finally Sergey Poznyakoff with the help of
numerous and kind users.
</p>
<p>We wish to stress that <code>tar</code> is a collective work, and owes much to
all those people who reported problems, offered solutions and other
insights, or shared their thoughts and suggestions.  An impressive, yet
partial list of those contributors can be found in the <tt>`THANKS'</tt>
file from the <acronym>GNU</acronym> <code>tar</code> distribution.
</p>
<p>See <cite>i want all of these names mentioned, Absolutely.  BUT, i'm not
sure i want to spell out the history in this detail, at least not for
the printed book.  i'm just not sure it needs to be said this way.
i'll think about it.</cite>
</p>

<p>See <cite>History is more important, and surely more interesting, than
actual names.  Quoting names without history would be meaningless.  FP</cite>
</p>

<p>Jay Fenlason put together a draft of a <acronym>GNU</acronym> <code>tar</code>
manual, borrowing notes from the original man page from John Gilmore.
This was withdrawn in version 1.11.  Thomas Bushnell, n/BSG and Amy
Gorin worked on a tutorial and manual for <acronym>GNU</acronym> <code>tar</code>.
Fran&ccedil;ois Pinard put version 1.11.8 of the manual together by
taking information from all these sources and merging them.  Melissa
Weisshaus finally edited and redesigned the book to create version
1.12.  The book for versions from 1.14 up to 1.32 were edited
by the current maintainer, Sergey Poznyakoff.
</p>
<p>For version 1.12, Daniel Hagerty contributed a great deal of technical
consulting.  In particular, he is the primary author of <a href="#SEC94">Performing Backups and Restoring Files</a>.
</p>
<p>In July, 2003 <acronym>GNU</acronym> <code>tar</code> was put on CVS at savannah.gnu.org
(see <a href="http://savannah.gnu.org/projects/tar">http://savannah.gnu.org/projects/tar</a>), and
active development and maintenance work has started
again.  Currently <acronym>GNU</acronym> <code>tar</code> is being maintained by Paul Eggert, Sergey
Poznyakoff and Jeff Bailey.
</p>
<p>Support for <acronym>POSIX</acronym> archives was added by Sergey Poznyakoff.
</p>
<hr size="6">
<a name="Reports"></a>
<a name="SEC7"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC6" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.6 Reporting bugs or suggestions </h2>

<p>If you find problems or have suggestions about this program or manual,
please report them to <tt>`bug-tar@gnu.org'</tt>.
</p>
<p>When reporting a bug, please be sure to include as much detail as
possible, in order to reproduce it.
See <cite>Be more specific, I'd like to make this node as detailed as
'Bug reporting' node in Emacs manual.</cite>
</p>

<hr size="6">
<a name="Tutorial"></a>
<a name="SEC8"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC7" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC9" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 2. Tutorial Introduction to <code>tar</code> </h1>

<p>This chapter guides you through some basic examples of three <code>tar</code>
operations: <samp>`--create'</samp>, <samp>`--list'</samp>, and <samp>`--extract'</samp>.  If
you already know how to use some other version of <code>tar</code>, then you
may not need to read this chapter.  This chapter omits most complicated
details about how <code>tar</code> works.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC9">2.1 Assumptions this Tutorial Makes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC10">2.2 Stylistic Conventions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC11">2.3 Basic <code>tar</code> Operations and Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC12">2.4 The Three Most Frequently Used Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC13">2.5 Two Frequently Used Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC17">2.6 How to Create Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC23">2.7 How to List Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC25">2.8 How to Extract Members from an Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC31">2.9 Going Further Ahead in this Manual</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="assumptions"></a>
<a name="SEC9"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC8" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC10" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.1 Assumptions this Tutorial Makes </h2>

<p>This chapter is paced to allow beginners to learn about <code>tar</code>
slowly.  At the same time, we will try to cover all the basic aspects of
these three operations.  In order to accomplish both of these tasks, we
have made certain assumptions about your knowledge before reading this
manual, and the hardware you will be using:
</p>
<ul>
<li>
Before you start to work through this tutorial, you should understand
what the terms &quot;archive&quot; and &quot;archive member&quot; mean
(see section <a href="#SEC3">Some Definitions</a>).  In addition, you should understand something
about how Unix-type operating systems work, and you should know how to
use some basic utilities.  For example, you should know how to create,
list, copy, rename, edit, and delete files and directories; how to
change between directories; and how to figure out where you are in the
file system.  You should have some basic understanding of directory
structure and how files are named according to which directory they are
in.  You should understand concepts such as standard output and standard
input, what various definitions of the term <samp>`argument'</samp> mean, and the
differences between relative and absolute file names.
See <cite>and what else?</cite>


</li><li>
This manual assumes that you are working from your own home directory
(unless we state otherwise).  In this tutorial, you will create a
directory to practice <code>tar</code> commands in.  When we show file names,
we will assume that those names are relative to your home directory.
For example, my home directory is <tt>`/home/fsf/melissa'</tt>.  All of
my examples are in a subdirectory of the directory named by that file
name; the subdirectory is called <tt>`practice'</tt>.

</li><li>
In general, we show examples of archives which exist on (or can be
written to, or worked with from) a directory on a hard disk.  In most
cases, you could write those archives to, or work with them on any other
device, such as a tape drive.  However, some of the later examples in
the tutorial and next chapter will not work on tape drives.
Additionally, working with tapes is much more complicated than working
with hard disks.  For these reasons, the tutorial does not cover working
with tape drives.  See section <a href="#SEC154">Tapes and Other Archive Media</a>, for complete information on using
<code>tar</code> archives with tape drives.

<p>See <cite>this is a cop out.  need to add some simple tape drive info.</cite>
</p>
</li></ul>

<hr size="6">
<a name="stylistic-conventions"></a>
<a name="SEC10"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC9" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.2 Stylistic Conventions </h2>

<p>In the examples, <samp>`$'</samp> represents a typical shell prompt.  It
precedes lines you should type; to make this more clear, those lines are
shown in <kbd>this font</kbd>, as opposed to lines which represent the
computer's response; those lines are shown in <code>this font</code>, or
sometimes <samp>`like this'</samp>.
</p>

<hr size="6">
<a name="basic-tar-options"></a>
<a name="SEC11"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC10" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC12" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.3 Basic <code>tar</code> Operations and Options </h2>

<p><code>tar</code> can take a wide variety of arguments which specify and define
the actions it will have on the particular set of files or the archive.
The main types of arguments to <code>tar</code> fall into one of two classes:
operations, and options.
</p>
<p>Some arguments fall into a class called <em>operations</em>; exactly one of
these is both allowed and required for any instance of using <code>tar</code>;
you may <em>not</em> specify more than one.  People sometimes speak of
<em>operating modes</em>.  You are in a particular operating mode when you
have specified the operation which specifies it; there are eight
operations in total, and thus there are eight operating modes.
</p>
<p>The other arguments fall into the class known as <em>options</em>.  You are
not required to specify any options, and you are allowed to specify more
than one at a time (depending on the way you are using <code>tar</code> at
that time).  Some options are used so frequently, and are so useful for
helping you type commands more carefully that they are effectively
&quot;required&quot;.  We will discuss them in this chapter.
</p>
<p>You can write most of the <code>tar</code> operations and options in any
of three forms: long (mnemonic) form, short form, and old style.  Some
of the operations and options have no short or &quot;old&quot; forms; however,
the operations and options which we will cover in this tutorial have
corresponding abbreviations.  We will indicate those abbreviations
appropriately to get you used to seeing them.  Note, that the &quot;old
style&quot; option forms exist in <acronym>GNU</acronym> <code>tar</code> for compatibility with Unix
<code>tar</code>.  In this book we present a full discussion of this way
of writing options and operations (see section <a href="#SEC38">Old Option Style</a>), and we discuss
the other two styles of writing options (See section <a href="#SEC36">Long Option Style</a>, and
see section <a href="#SEC37">Short Option Style</a>).
</p>
<p>In the examples and in the text of this tutorial, we usually use the
long forms of operations and options; but the &quot;short&quot; forms produce
the same result and can make typing long <code>tar</code> commands easier.
For example, instead of typing
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar --create --verbose --file=afiles.tar apple angst aspic</kbd>
</pre></td></tr></table>

<p>you can type
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar -c -v -f afiles.tar apple angst aspic</kbd>
</pre></td></tr></table>

<p>or even
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar -cvf afiles.tar apple angst aspic</kbd>
</pre></td></tr></table>

<p>For more information on option syntax, see <a href="#SEC58">Advanced <acronym>GNU</acronym> <code>tar</code> Operations</a>.  In
discussions in the text, when we name an option by its long form, we
also give the corresponding short option in parentheses.
</p>
<p>The term, &quot;option&quot;, can be confusing at times, since &quot;operations&quot;
are often lumped in with the actual, <em>optional</em> &quot;options&quot; in certain
general class statements.  For example, we just talked about &quot;short and
long forms of options and operations&quot;.  However, experienced <code>tar</code>
users often refer to these by shorthand terms such as, &quot;short and long
options&quot;.  This term assumes that the &quot;operations&quot; are included, also.
Context will help you determine which definition of &quot;options&quot; to use.
</p>
<p>Similarly, the term &quot;command&quot; can be confusing, as it is often used in
two different ways.  People sometimes refer to <code>tar</code> &quot;commands&quot;.
A <code>tar</code> <em>command</em> is the entire command line of user input
which tells <code>tar</code> what to do -- including the operation, options,
and any arguments (file names, pipes, other commands, etc.).  However,
you will also sometimes hear the term &quot;the <code>tar</code> command&quot;.  When
the word &quot;command&quot; is used specifically like this, a person is usually
referring to the <code>tar</code> <em>operation</em>, not the whole line.
Again, use context to figure out which of the meanings the speaker
intends.
</p>
<hr size="6">
<a name="frequent-operations"></a>
<a name="SEC12"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC11" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.4 The Three Most Frequently Used Operations </h2>

<p>Here are the three most frequently used operations (both short and long
forms), as well as a brief description of their meanings.  The rest of
this chapter will cover how to use these operations in detail.  We will
present the rest of the operations in the next chapter.
</p>
<dl compact="compact">
<dt> <samp>`--create'</samp></dt>
<dt> <samp>`-c'</samp></dt>
<dd><p>Create a new <code>tar</code> archive.
</p></dd>
<dt> <samp>`--list'</samp></dt>
<dt> <samp>`-t'</samp></dt>
<dd><p>List the contents of an archive.
</p></dd>
<dt> <samp>`--extract'</samp></dt>
<dt> <samp>`-x'</samp></dt>
<dd><p>Extract one or more members from an archive.
</p></dd>
</dl>

<hr size="6">
<a name="Two-Frequent-Options"></a>
<a name="SEC13"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC12" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC14" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.5 Two Frequently Used Options </h2>

<p>To understand how to run <code>tar</code> in the three operating modes listed
previously, you also need to understand how to use two of the options to
<code>tar</code>: <samp>`--file'</samp> (which takes an archive file as an argument)
and <samp>`--verbose'</samp>.  (You are usually not <em>required</em> to specify
either of these options when you run <code>tar</code>, but they can be very
useful in making things more clear and helping you avoid errors.)
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC14">The <samp>`--file'</samp> Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC15">The <samp>`--verbose'</samp> Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC16">Getting Help: Using the <samp>`--help'</samp> Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="file-tutorial"></a>
<a name="SEC14"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC13" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="unnumberedsubsec"> The <samp>`--file'</samp> Option </h3>

<dl compact="compact">
<dd><a name="IDX12"></a>
</dd>
<dt> <samp>`--file=<var>archive-name</var>'</samp></dt>
<dt> <samp>`-f <var>archive-name</var>'</samp></dt>
<dd><p>Specify the name of an archive file.
</p></dd>
</dl>

<p>You can specify an argument for the <samp>`--file=<var>archive-name</var>'</samp> (<samp>`-f <var>archive-name</var>'</samp>) option whenever you
use <code>tar</code>; this option determines the name of the archive file
that <code>tar</code> will work on.
</p>
<p>If you don't specify this argument, then <code>tar</code> will examine
the environment variable <code>TAPE</code>.  If it is set, its value will be
used as the archive name.  Otherwise, <code>tar</code> will use the
default archive, determined at compile time. Usually it is
standard output or some physical tape drive attached to your machine
(you can verify what the default is by running <kbd>tar
--show-defaults</kbd>, see section <a href="#SEC46">Obtaining <acronym>GNU</acronym> <code>tar</code> default values</a>).  If there is no tape drive
attached, or the default is not meaningful, then <code>tar</code> will
print an error message.  The error message might look roughly like one
of the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar: can't open /dev/rmt8 : No such device or address
tar: can't open /dev/rsmt0 : I/O error
</pre></td></tr></table>

<p>To avoid confusion, we recommend that you always specify an archive file
name by using <samp>`--file=<var>archive-name</var>'</samp> (<samp>`-f <var>archive-name</var>'</samp>) when writing your <code>tar</code> commands.
For more information on using the <samp>`--file=<var>archive-name</var>'</samp> (<samp>`-f <var>archive-name</var>'</samp>) option, see
<a href="#SEC106">Choosing and Naming Archive Files</a>.
</p>
<hr size="6">
<a name="verbose-tutorial"></a>
<a name="SEC15"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC14" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC16" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="unnumberedsubsec"> The <samp>`--verbose'</samp> Option </h3>

<dl compact="compact">
<dd><a name="IDX13"></a>
</dd>
<dt> <samp>`--verbose'</samp></dt>
<dt> <samp>`-v'</samp></dt>
<dd><p>Show the files being worked on as <code>tar</code> is running.
</p></dd>
</dl>

<p><samp>`--verbose'</samp> (<samp>`-v'</samp>) shows details about the results of running
<code>tar</code>.  This can be especially useful when the results might not be
obvious.  For example, if you want to see the progress of <code>tar</code> as
it writes files into the archive, you can use the <samp>`--verbose'</samp>
option.  In the beginning, you may find it useful to use
<samp>`--verbose'</samp> at all times; when you are more accustomed to
<code>tar</code>, you will likely want to use it at certain times but not at
others.  We will use <samp>`--verbose'</samp> at times to help make something
clear, and we will give many examples both using and not using
<samp>`--verbose'</samp> to show the differences.
</p>
<p>Each instance of <samp>`--verbose'</samp> on the command line increases the
verbosity level by one, so if you need more details on the output,
specify it twice.
</p>
<p>When reading archives (<samp>`--list'</samp>, <samp>`--extract'</samp>,
<samp>`--diff'</samp>), <code>tar</code> by default prints only the names of
the members being extracted.  Using <samp>`--verbose'</samp> will show a full,
<code>ls</code> style member listing.
</p>
<p>In contrast, when writing archives (<samp>`--create'</samp>, <samp>`--append'</samp>,
<samp>`--update'</samp>), <code>tar</code> does not print file names by
default.  So, a single <samp>`--verbose'</samp> option shows the file names
being added to the archive, while two <samp>`--verbose'</samp> options
enable the full listing.
</p>
<p>For example, to create an archive in verbose mode:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cvf afiles.tar apple angst aspic</kbd>
apple
angst
aspic
</pre></td></tr></table>

<p>Creating the same archive with the verbosity level 2 could give:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cvvf afiles.tar apple angst aspic</kbd>
-rw-r--r-- gray/staff    62373 2006-06-09 12:06 apple
-rw-r--r-- gray/staff    11481 2006-06-09 12:06 angst
-rw-r--r-- gray/staff    23152 2006-06-09 12:06 aspic
</pre></td></tr></table>

<p>This works equally well using short or long forms of options.  Using
long forms, you would simply write out the mnemonic form of the option
twice, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --verbose --verbose &hellip;</kbd>
</pre></td></tr></table>

<p>Note that you must double the hyphens properly each time.
</p>
<p>Later in the tutorial, we will give examples using <samp>`--verbose
--verbose'</samp>.
</p>
<p><a name="verbose-member-listing"></a>
The full output consists of six fields:
</p>
<ul>
<li> File type and permissions in symbolic form.
These are displayed in the same format as the first column of
<code>ls -l</code> output (see <a href="fileutils.html#What-information-is-listed">format=verbose: (fileutils)What information is listed</a> section `Verbose listing' in <cite>GNU file utilities</cite>).

</li><li> Owner name and group separated by a slash character.
If these data are not available (for example, when listing a <samp>`v7'</samp> format
archive), numeric <acronym>ID</acronym> values are printed instead.

</li><li> Size of the file, in bytes.

</li><li> File modification date in ISO 8601 format.

</li><li> File modification time.

</li><li> File name.
If the name contains any special characters (white space, newlines,
etc.) these are displayed in an unambiguous form using so called
<em>quoting style</em>.  For the detailed discussion of available styles
and on how to use them, see <a href="#SEC114">Quoting Member Names</a>.

<p>Depending on the file type, the name can be followed by some
additional information, described in the following table:
</p>
<dl compact="compact">
<dt> <samp>`-&gt; <var>link-name</var>'</samp></dt>
<dd><p>The file or archive member is a <em>symbolic link</em> and
<var>link-name</var> is the name of file it links to.
</p>
</dd>
<dt> <samp>`link to <var>link-name</var>'</samp></dt>
<dd><p>The file or archive member is a <em>hard link</em> and <var>link-name</var> is
the name of file it links to.
</p>
</dd>
<dt> <samp>`--Long Link--'</samp></dt>
<dd><p>The archive member is an old GNU format long link.  You will normally
not encounter this.
</p>
</dd>
<dt> <samp>`--Long Name--'</samp></dt>
<dd><p>The archive member is an old GNU format long name.  You will normally
not encounter this.
</p>
</dd>
<dt> <samp>`--Volume Header--'</samp></dt>
<dd><p>The archive member is a GNU <em>volume header</em> (see section <a href="#SEC166">Tape Files</a>).
</p>
</dd>
<dt> <samp>`--Continued at byte <var>n</var>--'</samp></dt>
<dd><p>Encountered only at the beginning of a multi-volume archive
(see section <a href="#SEC164">Using Multiple Tapes</a>).  This archive member is a continuation
from the previous volume. The number <var>n</var> gives the offset where
the original file was split.
</p>
</dd>
<dt>  <samp>`unknown file type <var>c</var>'</samp></dt>
<dd><p>An archive member of unknown type. <var>c</var> is the type character from
the archive header.  If you encounter such a message, it means that
either your archive contains proprietary member types <acronym>GNU</acronym> <code>tar</code> is not
able to handle, or the archive is corrupted.
</p></dd>
</dl>

</li></ul>

<p>For example, here is an archive listing containing most of the special
suffixes explained above:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">V--------- 0/0            1536 2006-06-09 13:07 MyVolume--Volume Header--
-rw-r--r-- gray/staff   456783 2006-06-09 12:06 aspic--Continued at byte 32456--
-rw-r--r-- gray/staff    62373 2006-06-09 12:06 apple
lrwxrwxrwx gray/staff        0 2006-06-09 13:01 angst -&gt; apple
-rw-r--r-- gray/staff    35793 2006-06-09 12:06 blues
hrw-r--r-- gray/staff        0 2006-06-09 12:06 music link to blues
</pre></td></tr></table>

<hr size="6">
<a name="help-tutorial"></a>
<a name="SEC16"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC15" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="unnumberedsubsec"> Getting Help: Using the <samp>`--help'</samp> Option </h3>

<dl compact="compact">
<dd><a name="IDX14"></a>
</dd>
<dt> <samp>`--help'</samp></dt>
<dd>
<p>The <samp>`--help'</samp> option to <code>tar</code> prints out a very brief list of
all operations and option available for the current version of
<code>tar</code> available on your system.
</p></dd>
</dl>

<hr size="6">
<a name="create"></a>
<a name="SEC17"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC16" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.6 How to Create Archives </h2>

<p>One of the basic operations of <code>tar</code> is <samp>`--create'</samp> (<samp>`-c'</samp>), which
you use to create a <code>tar</code> archive.  We will explain
<samp>`--create'</samp> first because, in order to learn about the other
operations, you will find it useful to have an archive available to
practice on.
</p>
<p>To make this easier, in this section you will first create a directory
containing three files.  Then, we will show you how to create an
<em>archive</em> (inside the new directory).  Both the directory, and
the archive are specifically for you to practice on.  The rest of this
chapter and the next chapter will show many examples using this
directory and the files you will create: some of those files may be
other directories and other archives.
</p>
<p>The three files you will archive in this example are called
<tt>`blues'</tt>, <tt>`folk'</tt>, and <tt>`jazz'</tt>.  The archive is called
<tt>`collection.tar'</tt>.
</p>
<p>This section will proceed slowly, detailing how to use <samp>`--create'</samp>
in <code>verbose</code> mode, and showing examples using both short and long
forms.  In the rest of the tutorial, and in the examples in the next
chapter, we will proceed at a slightly quicker pace.  This section
moves more slowly to allow beginning users to understand how
<code>tar</code> works.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC18">2.6.1 Preparing a Practice Directory for Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC19">2.6.2 Creating the Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC20">2.6.3 Running <samp>`--create'</samp> with <samp>`--verbose'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC21">2.6.4 Short Forms with <samp>`create'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC22">2.6.5 Archiving Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="prepare-for-examples"></a>
<a name="SEC18"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC17" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC19" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.6.1 Preparing a Practice Directory for Examples </h3>

<p>To follow along with this and future examples, create a new directory
called <tt>`practice'</tt> containing files called <tt>`blues'</tt>, <tt>`folk'</tt>
and <tt>`jazz'</tt>.  The files can contain any information you like:
ideally, they should contain information which relates to their names,
and be of different lengths.  Our examples assume that <tt>`practice'</tt>
is a subdirectory of your home directory.
</p>
<p>Now <code>cd</code> to the directory named <tt>`practice'</tt>; <tt>`practice'</tt>
is now your <em>working directory</em>.  (<em>Please note</em>: Although
the full file name of this directory is
<tt>`/<var>homedir</var>/practice'</tt>, in our examples we will refer to
this directory as <tt>`practice'</tt>; the <var>homedir</var> is presumed.)
</p>
<p>In general, you should check that the files to be archived exist where
you think they do (in the working directory) by running <code>ls</code>.
Because you just created the directory and the files and have changed to
that directory, you probably don't need to do that this time.
</p>
<p>It is very important to make sure there isn't already a file in the
working directory with the archive name you intend to use (in this case,
<samp>`collection.tar'</samp>), or that you don't care about its contents.
Whenever you use <samp>`create'</samp>, <code>tar</code> will erase the current
contents of the file named by <samp>`--file=<var>archive-name</var>'</samp> (<samp>`-f <var>archive-name</var>'</samp>) if it exists.  <code>tar</code>
will not tell you if you are about to overwrite an archive unless you
specify an option which does this (see section <a href="#SEC92">Backup options</a>, for the
information on how to do so).  To add files to an existing archive,
you need to use a different option, such as <samp>`--append'</samp> (<samp>`-r'</samp>); see
<a href="#SEC60">How to Add Files to Existing Archives: <samp>`--append'</samp></a> for information on how to do this.
</p>
<hr size="6">
<a name="Creating-the-archive"></a>
<a name="SEC19"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC18" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC20" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.6.2 Creating the Archive </h3>

<p>To place the files <tt>`blues'</tt>, <tt>`folk'</tt>, and <tt>`jazz'</tt> into an
archive named <tt>`collection.tar'</tt>, use the following command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --file=collection.tar blues folk jazz</kbd>
</pre></td></tr></table>
<p>The order of the arguments is not very important, <em>when using long
option forms</em>, however you should always remember to use option as the
first argument to tar.   For example, the following is wrong:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar blues -c folk -f collection.tar jazz</kbd>
tar: -c: Invalid blocking factor
Try 'tar --help' or 'tar --usage' for more information.
</pre></td></tr></table>
<p>The error message is produced because <code>tar</code> always treats its
first argument as an option (or cluster of options), even if it does
not start with dash.  This is <em>traditional</em> or <em>old option</em>
style, called so because all implementations of <code>tar</code> have
used it since the very inception of the tar archiver in 1970s.  This
option style will be explained later (see section <a href="#SEC38">Old Option Style</a>), for now
just remember to always place option as the first argument.
</p>
<p>That being said, you could issue the following command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create folk blues --file=collection.tar jazz</kbd>
</pre></td></tr></table>

<p>However, you can see that this order is harder to understand; this is
why we will list the arguments in the order that makes the commands
easiest to understand (and we encourage you to do the same when you use
<code>tar</code>, to avoid errors).
</p>
<p>Note that the sequence
<samp>`--file=collection.tar'</samp> is considered to be <em>one</em> argument.
If you substituted any other string of characters for
<kbd>collection.tar</kbd>,  then that string would become the name of the
archive file you create.
</p>
<p>The order of the options becomes more important when you begin to use
short forms.  With short forms, if you type commands in the wrong order
(even if you type them correctly in all other ways), you may end up with
results you don't expect.  For this reason, it is a good idea to get
into the habit of typing options in the order that makes inherent sense.
See section <a href="#SEC21">Short Forms with <samp>`create'</samp></a>, for more information on this.
</p>
<p>In this example, you type the command as shown above: <samp>`--create'</samp>
is the operation which creates the new archive
(<tt>`collection.tar'</tt>), and <samp>`--file'</samp> is the option which lets
you give it the name you chose.  The files, <tt>`blues'</tt>, <tt>`folk'</tt>,
and <tt>`jazz'</tt>, are now members of the archive, <tt>`collection.tar'</tt>
(they are <em>file name arguments</em> to the <samp>`--create'</samp> operation.
See section <a href="#SEC105">Choosing Files and Names for <code>tar</code></a>, for the detailed discussion on these.) Now that they are
in the archive, they are called <em>archive members</em>, not files.
(see section <a href="#SEC3">members</a>).
</p>
<p>When you create an archive, you <em>must</em> specify which files you
want placed in the archive.  If you do not specify any archive
members, <acronym>GNU</acronym> <code>tar</code> will complain.
</p>
<p>If you now list the contents of the working directory (<code>ls</code>), you will
find the archive file listed as well as the files you saw previously:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">blues   folk   jazz   collection.tar
</pre></td></tr></table>

<p>Creating the archive <samp>`collection.tar'</samp> did not destroy the copies of
the files in the directory.
</p>
<p>Keep in mind that if you don't indicate an operation, <code>tar</code> will not
run and will prompt you for one.  If you don't name any files, <code>tar</code>
will complain.  You must have write access to the working directory,
or else you will not be able to create an archive in that directory.
</p>
<p><em>Caution</em>: Do not attempt to use <samp>`--create'</samp> (<samp>`-c'</samp>) to add files to
an existing archive; it will delete the archive and write a new one.
Use <samp>`--append'</samp> (<samp>`-r'</samp>) instead.  See section <a href="#SEC60">How to Add Files to Existing Archives: <samp>`--append'</samp></a>.
</p>
<hr size="6">
<a name="create-verbose"></a>
<a name="SEC20"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC19" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC21" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.6.3 Running <samp>`--create'</samp> with <samp>`--verbose'</samp> </h3>

<p>If you include the <samp>`--verbose'</samp> (<samp>`-v'</samp>) option on the command line,
<code>tar</code> will list the files it is acting on as it is working.  In
verbose mode, the <code>create</code> example above would appear as:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --verbose --file=collection.tar blues folk jazz</kbd>
blues
folk
jazz
</pre></td></tr></table>
<p>This example is just like the example we showed which did not use
<samp>`--verbose'</samp>, except that <code>tar</code> generated the remaining
</p>
<p>In the rest of the examples in this chapter, we will frequently use
<code>verbose</code> mode so we can show actions or <code>tar</code> responses that
you would otherwise not see, and which are important for you to
understand.
</p>
<hr size="6">
<a name="short-create"></a>
<a name="SEC21"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC20" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC22" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.6.4 Short Forms with <samp>`create'</samp> </h3>

<p>As we said before, the <samp>`--create'</samp> (<samp>`-c'</samp>) operation is one of the most
basic uses of <code>tar</code>, and you will use it countless times.
Eventually, you will probably want to use abbreviated (or &quot;short&quot;)
forms of options.  A full discussion of the three different forms that
options can take appears in <a href="#SEC35">The Three Option Styles</a>; for now, here is what the
previous example (including the <samp>`--verbose'</samp> (<samp>`-v'</samp>) option) looks like
using short option forms:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cvf collection.tar blues folk jazz</kbd>
blues
folk
jazz
</pre></td></tr></table>

<p>As you can see, the system responds the same no matter whether you use
long or short option forms.
</p>
<p>See <cite>i don't like how this is worded:</cite>
 One difference between using
short and long option forms is that, although the exact placement of
arguments following options is no more specific when using short forms,
it is easier to become confused and make a mistake when using short
forms.  For example, suppose you attempted the above example in the
following way:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cfv collection.tar blues folk jazz</kbd>
</pre></td></tr></table>

<p>In this case, <code>tar</code> will make an archive file called <tt>`v'</tt>,
containing the files <tt>`blues'</tt>, <tt>`folk'</tt>, and <tt>`jazz'</tt>, because
the <samp>`v'</samp> is the closest &quot;file name&quot; to the <samp>`-f'</samp> option, and
is thus taken to be the chosen archive file name.  <code>tar</code> will try
to add a file called <tt>`collection.tar'</tt> to the <tt>`v'</tt> archive file;
if the file <tt>`collection.tar'</tt> did not already exist, <code>tar</code> will
report an error indicating that this file does not exist.  If the file
<tt>`collection.tar'</tt> does already exist (e.g., from a previous command
you may have run), then <code>tar</code> will add this file to the archive.
Because the <samp>`-v'</samp> option did not get registered, <code>tar</code> will not
run under <samp>`verbose'</samp> mode, and will not report its progress.
</p>
<p>The end result is that you may be quite confused about what happened,
and possibly overwrite a file.  To illustrate this further, we will show
you how an example we showed previously would look using short forms.
</p>
<p>This example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create folk blues --file=collection.tar jazz</kbd>
</pre></td></tr></table>

<p>is confusing as it is.  It becomes even more so when using short forms:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c folk blues -f collection.tar jazz</kbd>
</pre></td></tr></table>

<p>It would be very easy to put the wrong string of characters
immediately following the <samp>`-f'</samp>, but doing that could sacrifice
valuable data.
</p>
<p>For this reason, we recommend that you pay very careful attention to
the order of options and placement of file and archive names,
especially when using short option forms.  Not having the option name
written out mnemonically can affect how well you remember which option
does what, and therefore where different names have to be placed.
</p>
<hr size="6">
<a name="create-dir"></a>
<a name="SEC22"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC21" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC23" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.6.5 Archiving Directories </h3>

<p>You can archive a directory by specifying its directory name as a
file name argument to <code>tar</code>.  The files in the directory will be
archived relative to the working directory, and the directory will be
re-created along with its contents when the archive is extracted.
</p>
<p>To archive a directory, first move to its superior directory.  If you
have followed the previous instructions in this tutorial, you should
type:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>cd ..</kbd>
$
</pre></td></tr></table>

<p>This will put you into the directory which contains <tt>`practice'</tt>,
i.e., your home directory.  Once in the superior directory, you can
specify the subdirectory, <tt>`practice'</tt>, as a file name argument.  To
store <tt>`practice'</tt> in the new archive file <tt>`music.tar'</tt>, type:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --verbose --file=music.tar practice</kbd>
</pre></td></tr></table>

<p><code>tar</code> should output:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">practice/
practice/blues
practice/folk
practice/jazz
practice/collection.tar
</pre></td></tr></table>
<p>Note that the archive thus created is not in the subdirectory
<tt>`practice'</tt>, but rather in the current working directory--the
directory from which <code>tar</code> was invoked.  Before trying to archive a
directory from its superior directory, you should make sure you have
write access to the superior directory itself, not only the directory
you are trying archive with <code>tar</code>.  For example, you will probably
not be able to store your home directory in an archive by invoking
<code>tar</code> from the root directory; See section <a href="#SEC120">Absolute File Names</a>.  (Note
also that <tt>`collection.tar'</tt>, the original archive file, has itself
been archived.  <code>tar</code> will accept any file as a file to be
archived, regardless of its content.  When <tt>`music.tar'</tt> is
extracted, the archive file <tt>`collection.tar'</tt> will be re-written
into the file system).
</p>
<p>If you give <code>tar</code> a command such as
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --file=foo.tar .</kbd>
</pre></td></tr></table>

<p><code>tar</code> will report <samp>`tar: ./foo.tar is the archive; not
dumped'</samp>.  This happens because <code>tar</code> creates the archive
<tt>`foo.tar'</tt> in the current directory before putting any files into
it.  Then, when <code>tar</code> attempts to add all the files in the
directory <tt>`.'</tt> to the archive, it notices that the file
<tt>`./foo.tar'</tt> is the same as the archive <tt>`foo.tar'</tt>, and skips
it.  (It makes no sense to put an archive into itself.)  <acronym>GNU</acronym> <code>tar</code>
will continue in this case, and create the archive
normally, except for the exclusion of that one file.  (<em>Please
note:</em> Other implementations of <code>tar</code> may not be so clever;
they will enter an infinite loop when this happens, so you should not
depend on this behavior unless you are certain you are running
<acronym>GNU</acronym> <code>tar</code>.  In general, it is wise to always place the archive outside
of the directory being dumped.)
</p>
<hr size="6">
<a name="list"></a>
<a name="SEC23"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC22" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC24" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.7 How to List Archives </h2>

<p>Frequently, you will find yourself wanting to determine exactly what a
particular archive contains.  You can use the <samp>`--list'</samp>
(<samp>`-t'</samp>) operation to get the member names as they currently
appear in the archive, as well as various attributes of the files at
the time they were archived.  For example, assuming <tt>`practice'</tt> is
your working directory, you can examine the archive
<tt>`collection.tar'</tt> that you created in the last section with the
command,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --file=collection.tar</kbd>
</pre></td></tr></table>

<p>The output of <code>tar</code> would then be:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">blues
folk
jazz
</pre></td></tr></table>

<p>Be sure to use a <samp>`--file=<var>archive-name</var>'</samp> (<samp>`-f
<var>archive-name</var>'</samp>) option just as with <samp>`--create'</samp>
(<samp>`-c'</samp>) to specify the name of the archive.
</p>
<a name="IDX15"></a>
<a name="IDX16"></a>
<p>You can specify one or more individual member names as arguments when
using <samp>`list'</samp>.  In this case, <code>tar</code> will only list the
names of members you identify.  For example, <kbd>tar --list
--file=collection.tar folk</kbd> would only print <tt>`folk'</tt>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --file=collection.tar folk</kbd>
folk
</pre></td></tr></table>
<a name="IDX17"></a>
<a name="IDX18"></a>
<p>If you use the <samp>`--verbose'</samp> (<samp>`-v'</samp>) option with
<samp>`--list'</samp>, then <code>tar</code> will print out a listing
reminiscent of <samp>`ls -l'</samp>, showing owner, file size, and so
forth.  This output is described in detail in <a href="#verbose-member-listing">verbose member listing</a>.
</p>
<p>If you had used <samp>`--verbose'</samp> (<samp>`-v'</samp>) mode, the example
above would look like:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --verbose --file=collection.tar folk</kbd>
-rw-r--r-- myself/user      62 1990-05-23 10:55 folk
</pre></td></tr></table>
<a name="IDX19"></a>
<p><a name="listing-member-and-file-names"></a>
It is important to notice that the output of <kbd>tar --list
--verbose</kbd> does not necessarily match that produced by <kbd>tar
--create --verbose</kbd> while creating the archive.  It is because
<acronym>GNU</acronym> <code>tar</code>, unless told explicitly not to do so, removes some directory
prefixes from file names before storing them in the archive
(See section <a href="#SEC120">Absolute File Names</a>, for more information).  In other
words, in verbose mode <acronym>GNU</acronym> <code>tar</code> shows <em>file names</em> when creating
an archive and <em>member names</em> when listing it.  Consider this
example, run from your home directory:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --verbose --file practice.tar ~/practice</kbd>
tar: Removing leading '/' from member names
/home/myself/practice/
/home/myself/practice/blues
/home/myself/practice/folk
/home/myself/practice/jazz
/home/myself/practice/collection.tar
$ <kbd>tar --list --file practice.tar</kbd>
home/myself/practice/
home/myself/practice/blues
home/myself/practice/folk
home/myself/practice/jazz
home/myself/practice/collection.tar
</pre></td></tr></table>
<a name="IDX20"></a>
<p>  This default behavior can sometimes be inconvenient.  You can force
<acronym>GNU</acronym> <code>tar</code> show member names when creating archive by supplying
<samp>`--show-stored-names'</samp> option.
</p>
<dl compact="compact">
<dt> <samp>`--show-stored-names'</samp></dt>
<dd><p>Print member (as opposed to <em>file</em>) names when creating the archive.
</p></dd>
</dl>

<p>With this option, both commands produce the same output:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --verbose --show-stored-names \
           --file practice.tar ~/practice</kbd>
tar: Removing leading '/' from member names
home/myself/practice/
home/myself/practice/blues
home/myself/practice/folk
home/myself/practice/jazz
home/myself/practice/collection.tar
$ <kbd>tar --list --file practice.tar</kbd>
home/myself/practice/
home/myself/practice/blues
home/myself/practice/folk
home/myself/practice/jazz
home/myself/practice/collection.tar
</pre></td></tr></table>
<p>Since <code>tar</code> preserves file names, those you wish to list must be
specified as they appear in the archive (i.e., relative to the
directory from which the archive was created).  Continuing the example
above:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --file=practice.tar folk</kbd>
tar: folk: Not found in archive
tar: Exiting with failure status due to previous errors
</pre></td></tr></table>
<p>the error message is produced because there is no member named
<tt>`folk'</tt>, only one named <tt>`home/myself/folk'</tt>.
</p>
<p>If you are not sure of the exact file name, use <em>globbing
patterns</em>, for example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --file=practice.tar --wildcards '*/folk'</kbd>
home/myself/practice/folk
</pre></td></tr></table>

<p>See section <a href="#SEC112">Wildcards Patterns and Matching</a>, for a detailed discussion of globbing patterns and related
<code>tar</code> command line options.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC24">Listing the Contents of a Stored Directory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="list-dir"></a>
<a name="SEC24"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC23" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC23" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="unnumberedsubsec"> Listing the Contents of a Stored Directory </h3>

<p>To get information about the contents of an archived directory,
use the directory name as a file name argument in conjunction with
<samp>`--list'</samp> (<samp>`-t'</samp>).  To find out file attributes, include the
<samp>`--verbose'</samp> (<samp>`-v'</samp>) option.
</p>
<p>For example, to find out about files in the directory <tt>`practice'</tt>, in
the archive file <tt>`music.tar'</tt>, type:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --verbose --file=music.tar practice</kbd>
</pre></td></tr></table>
<p><code>tar</code> responds:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">drwxrwxrwx myself/user       0 1990-05-31 21:49 practice/
-rw-r--r-- myself/user      42 1990-05-21 13:29 practice/blues
-rw-r--r-- myself/user      62 1990-05-23 10:55 practice/folk
-rw-r--r-- myself/user      40 1990-05-21 13:30 practice/jazz
-rw-r--r-- myself/user   10240 1990-05-31 21:49 practice/collection.tar
</pre></td></tr></table>
<p>When you use a directory name as a file name argument, <code>tar</code> acts on
all the files (including sub-directories) in that directory.
</p>
<hr size="6">
<a name="extract"></a>
<a name="SEC25"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC24" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC26" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.8 How to Extract Members from an Archive </h2>

<p>Creating an archive is only half the job--there is no point in storing
files in an archive if you can't retrieve them.  The act of retrieving
members from an archive so they can be used and manipulated as
unarchived files again is called <em>extraction</em>.  To extract files
from an archive, use the <samp>`--extract'</samp> (<samp>`--get'</samp> or
<samp>`-x'</samp>) operation.  As with <samp>`--create'</samp>, specify the name
of the archive with <samp>`--file'</samp> (<samp>`-f'</samp>) option. Extracting
an archive does not modify the archive in any way; you can extract it
multiple times if you want or need to.
</p>
<p>Using <samp>`--extract'</samp>, you can extract an entire archive, or specific
files.  The files can be directories containing other files, or not.  As
with <samp>`--create'</samp> (<samp>`-c'</samp>) and <samp>`--list'</samp> (<samp>`-t'</samp>), you may use the short or the
long form of the operation without affecting the performance.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC26">2.8.1 Extracting an Entire Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC27">2.8.2 Extracting Specific Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC28">2.8.3 Extracting Files that are Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC29">2.8.4 Extracting Archives from Untrusted Sources</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC30">2.8.5 Commands That Will Fail</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="extracting-archives"></a>
<a name="SEC26"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC25" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC27" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.8.1 Extracting an Entire Archive </h3>

<p>To extract an entire archive, specify the archive file name only, with
no individual file names as arguments.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -xvf collection.tar</kbd>
</pre></td></tr></table>

<p>produces this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">-rw-r--r-- myself/user      28 1996-10-18 16:31 jazz
-rw-r--r-- myself/user      21 1996-09-23 16:44 blues
-rw-r--r-- myself/user      20 1996-09-23 16:44 folk
</pre></td></tr></table>
<hr size="6">
<a name="extracting-files"></a>
<a name="SEC27"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC26" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC28" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.8.2 Extracting Specific Files </h3>

<p>To extract specific archive members, give their exact member names as
arguments, as printed by <samp>`--list'</samp> (<samp>`-t'</samp>).  If you had
mistakenly deleted one of the files you had placed in the archive
<tt>`collection.tar'</tt> earlier (say, <tt>`blues'</tt>), you can extract it
from the archive without changing the archive's structure.  Its
contents will be identical to the original file <tt>`blues'</tt> that you
deleted.
</p>
<p>First, make sure you are in the <tt>`practice'</tt> directory, and list the
files in the directory.  Now, delete the file, <samp>`blues'</samp>, and list
the files in the directory again.
</p>
<p>You can now extract the member <tt>`blues'</tt> from the archive file
<tt>`collection.tar'</tt> like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --extract --file=collection.tar blues</kbd>
</pre></td></tr></table>

<p>If you list the files in the directory again, you will see that the file
<tt>`blues'</tt> has been restored, with its original permissions, data
modification times, and owner.<a name="DOCF1" href="#FOOT1">(1)</a>  (These parameters will be identical to those which
the file had when you originally placed it in the archive; any changes
you may have made before deleting the file from the file system,
however, will <em>not</em> have been made to the archive member.)  The
archive file, <samp>`collection.tar'</samp>, is the same as it was before you
extracted <samp>`blues'</samp>.  You can confirm this by running <code>tar</code> with
<samp>`--list'</samp> (<samp>`-t'</samp>).
</p>
<p>Remember that as with other operations, specifying the exact member
name is important (See section <a href="#SEC30">Commands That Will Fail</a>, for more examples).
</p>
<p>You can extract a file to standard output by combining the above options
with the <samp>`--to-stdout'</samp> (<samp>`-O'</samp>) option (see section <a href="#SEC86">Writing to Standard Output</a>).
</p>
<p>If you give the <samp>`--verbose'</samp> option, then <samp>`--extract'</samp>
will print the names of the archive members as it extracts them.
</p>
<hr size="6">
<a name="extract-dir"></a>
<a name="SEC28"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC27" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC29" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.8.3 Extracting Files that are Directories </h3>

<p>Extracting directories which are members of an archive is similar to
extracting other files.  The main difference to be aware of is that if
the extracted directory has the same name as any directory already in
the working directory, then files in the extracted directory will be
placed into the directory of the same name.  Likewise, if there are
files in the pre-existing directory with the same names as the members
which you extract, the files from the extracted archive will replace
the files already in the working directory (and possible
subdirectories).  This will happen regardless of whether or not the
files in the working directory were more recent than those extracted
(there exist, however, special options that alter this behavior
see section <a href="#SEC76">Changing How <code>tar</code> Writes Files</a>).
</p>
<p>However, if a file was stored with a directory name as part of its file
name, and that directory does not exist under the working directory when
the file is extracted, <code>tar</code> will create the directory.
</p>
<p>We can demonstrate how to use <samp>`--extract'</samp> to extract a directory
file with an example.  Change to the <tt>`practice'</tt> directory if you
weren't there, and remove the files <tt>`folk'</tt> and <tt>`jazz'</tt>.  Then,
go back to the parent directory and extract the archive
<tt>`music.tar'</tt>.  You may either extract the entire archive, or you may
extract only the files you just deleted.  To extract the entire archive,
don't give any file names as arguments after the archive name
<tt>`music.tar'</tt>.  To extract only the files you deleted, use the
following command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -xvf music.tar practice/folk practice/jazz</kbd>
practice/folk
practice/jazz
</pre></td></tr></table>

<p>If you were to specify two <samp>`--verbose'</samp> (<samp>`-v'</samp>) options, <code>tar</code>
would have displayed more detail about the extracted files, as shown
in the example below:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -xvvf music.tar practice/folk practice/jazz</kbd>
-rw-r--r-- me/user          28 1996-10-18 16:31 practice/jazz
-rw-r--r-- me/user          20 1996-09-23 16:44 practice/folk
</pre></td></tr></table>

<p>Because you created the directory with <tt>`practice'</tt> as part of the
file names of each of the files by archiving the <tt>`practice'</tt>
directory as <tt>`practice'</tt>, you must give <tt>`practice'</tt> as part
of the file names when you extract those files from the archive.
</p>
<hr size="6">
<a name="extracting-untrusted-archives"></a>
<a name="SEC29"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC28" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC30" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.8.4 Extracting Archives from Untrusted Sources </h3>

<p>Extracting files from archives can overwrite files that already exist.
If you receive an archive from an untrusted source, you should make a
new directory and extract into that directory, so that you don't have
to worry about the extraction overwriting one of your existing files.
For example, if <tt>`untrusted.tar'</tt> came from somewhere else on the
Internet, and you don't necessarily trust its contents, you can
extract it as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>mkdir newdir</kbd>
$ <kbd>cd newdir</kbd>
$ <kbd>tar -xvf ../untrusted.tar</kbd>
</pre></td></tr></table>
<p>It is also a good practice to examine contents of the archive
before extracting it, using <samp>`--list'</samp> (<samp>`-t'</samp>) option, possibly combined
with <samp>`--verbose'</samp> (<samp>`-v'</samp>).
</p>
<hr size="6">
<a name="failing-commands"></a>
<a name="SEC30"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC29" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC31" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 2.8.5 Commands That Will Fail </h3>

<p>Here are some sample commands you might try which will not work, and why
they won't work.
</p>
<p>If you try to use this command,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -xvf music.tar folk jazz</kbd>
</pre></td></tr></table>

<p>you will get the following response:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar: folk: Not found in archive
tar: jazz: Not found in archive
</pre></td></tr></table>

<p>This is because these files were not originally <em>in</em> the parent
directory <tt>`..'</tt>, where the archive is located; they were in the
<tt>`practice'</tt> directory, and their file names reflect this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -tvf music.tar</kbd>
practice/blues
practice/folk
practice/jazz
</pre></td></tr></table>

<p>Likewise, if you try to use this command,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -tvf music.tar folk jazz</kbd>
</pre></td></tr></table>

<p>you would get a similar response.  Members with those names are not in the
archive.  You must use the correct member names, or wildcards, in order
to extract the files from the archive.
</p>
<p>If you have forgotten the correct names of the files in the archive,
use <kbd>tar --list --verbose</kbd> to list them correctly.
</p>
<p>To extract the member named <tt>`practice/folk'</tt>, you must specify
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --extract --file=music.tar practice/folk</kbd>
</pre></td></tr></table>

<p>Notice also, that as explained above, the <tt>`practice'</tt> directory
will be created, if it didn't already exist.  There are options that
allow you to strip away a certain number of leading directory
components (see section <a href="#SEC115">Modifying File and Member Names</a>).  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --extract --file=music.tar --strip-components=1 folk</kbd>
</pre></td></tr></table>

<p>will extract the file <tt>`folk'</tt> into the current working directory.
</p>
<hr size="6">
<a name="going-further"></a>
<a name="SEC31"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC30" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.9 Going Further Ahead in this Manual </h2>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>See <cite>need to write up a node here about the things that are going to
be in the rest of the manual.</cite>
</p>

<hr size="6">
<a name="tar-invocation"></a>
<a name="SEC32"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC31" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC33" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 3. Invoking <acronym>GNU</acronym> <code>tar</code> </h1>

<p>This chapter is about how one invokes the <acronym>GNU</acronym> <code>tar</code>
command, from the command synopsis (see section <a href="#SEC33">General Synopsis of <code>tar</code></a>).  There are
numerous options, and many styles for writing them.  One mandatory
option specifies the operation <code>tar</code> should perform
(see section <a href="#SEC41">Operations</a>), other options are meant to detail how
this operation should be performed (see section <a href="#SEC42"><code>tar</code> Options</a>).
Non-option arguments are not always interpreted the same way,
depending on what the operation is.
</p>
<p>You will find in this chapter everything about option styles and rules for
writing them (see section <a href="#SEC35">The Three Option Styles</a>).  On the other hand, operations and options
are fully described elsewhere, in other chapters.  Here, you will find
only synthetic descriptions for operations and options, together with
pointers to other parts of the <code>tar</code> manual.
</p>
<p>Some options are so special they are fully described right in this
chapter.  They have the effect of inhibiting the normal operation of
<code>tar</code> or else, they globally alter the amount of feedback the user
receives about what is going on.  These are the <samp>`--help'</samp> and
<samp>`--version'</samp> (see section <a href="#SEC45"><acronym>GNU</acronym> <code>tar</code> documentation</a>), <samp>`--verbose'</samp> (see section <a href="#SEC47">Checking <code>tar</code> progress</a>)
and <samp>`--interactive'</samp> options (see section <a href="#SEC54">Asking for Confirmation During Operations</a>).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC33">3.1 General Synopsis of <code>tar</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC34">3.2 Using <code>tar</code> Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC35">3.3 The Three Option Styles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC40">3.4 All <code>tar</code> Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Where to Get Help.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC46">3.6 Obtaining <acronym>GNU</acronym> <code>tar</code> default values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              What are the Default Values.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC48">3.8 Checkpoints</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC49">3.9 Controlling Warning Messages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC54">3.10 Asking for Confirmation During Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC55">3.11 Running External Commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Synopsis"></a>
<a name="SEC33"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC32" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC34" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.1 General Synopsis of <code>tar</code> </h2>

<p>The <acronym>GNU</acronym> <code>tar</code> program is invoked as either one of:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar <var>option</var>&hellip; [<var>name</var>]&hellip;</kbd>
<kbd>tar <var>letter</var>&hellip; [<var>argument</var>]&hellip; [<var>option</var>]&hellip; [<var>name</var>]&hellip;</kbd>
</pre></td></tr></table>
<p>The second form is for when old options are being used.
</p>
<p>You can use <code>tar</code> to store files in an archive, to extract them from
an archive, and to do other types of archive manipulation.  The primary
argument to <code>tar</code>, which is called the <em>operation</em>, specifies
which action to take.  The other arguments to <code>tar</code> are either
<em>options</em>, which change the way <code>tar</code> performs an operation,
or file names or archive members, which specify the files or members
<code>tar</code> is to act on.
</p>
<p>You can actually type in arguments in any order, even if in this manual
the options always precede the other arguments, to make examples easier
to understand.  Further, the option stating the main operation mode
(the <code>tar</code> main command) is usually given first.
</p>
<p>Each <var>name</var> in the synopsis above is interpreted as an archive member
name when the main command is one of <samp>`--compare'</samp>
(<samp>`--diff'</samp>, <samp>`-d'</samp>), <samp>`--delete'</samp>, <samp>`--extract'</samp>
(<samp>`--get'</samp>, <samp>`-x'</samp>), <samp>`--list'</samp> (<samp>`-t'</samp>) or
<samp>`--update'</samp> (<samp>`-u'</samp>).  When naming archive members, you
must give the exact name of the member in the archive, as it is
printed by <samp>`--list'</samp>.  For <samp>`--append'</samp> (<samp>`-r'</samp>) and
<samp>`--create'</samp> (<samp>`-c'</samp>), these <var>name</var> arguments specify
the names of either files or directory hierarchies to place in the archive.
These files or hierarchies should already exist in the file system,
prior to the execution of the <code>tar</code> command.
</p>
<p><code>tar</code> interprets relative file names as being relative to the
working directory.  <code>tar</code> will make all file names relative
(by removing leading slashes when archiving or restoring files),
unless you specify otherwise (using the <samp>`--absolute-names'</samp>
option).  See section <a href="#SEC120">Absolute File Names</a>, for more information about
<samp>`--absolute-names'</samp>.
</p>
<p>If you give the name of a directory as either a file name or a member
name, then <code>tar</code> acts recursively on all the files and directories
beneath that directory.  For example, the name <tt>`/'</tt> identifies all
the files in the file system to <code>tar</code>.
</p>
<p>The distinction between file names and archive member names is especially
important when shell globbing is used, and sometimes a source of confusion
for newcomers.  See section <a href="#SEC112">Wildcards Patterns and Matching</a>, for more information about globbing.
The problem is that shells may only glob using existing files in the
file system.  Only <code>tar</code> itself may glob on archive members, so when
needed, you must ensure that wildcard characters reach <code>tar</code> without
being interpreted by the shell first.  Using a backslash before <samp>`*'</samp>
or <samp>`?'</samp>, or putting the whole argument between quotes, is usually
sufficient for this.
</p>
<p>Even if <var>name</var>s are often specified on the command line, they
can also be read from a text file in the file system, using the
<samp>`--files-from=<var>file-of-names</var>'</samp> (<samp>`-T <var>file-of-names</var>'</samp>) option.
</p>
<p>If you don't use any file name arguments, <samp>`--append'</samp> (<samp>`-r'</samp>),
<samp>`--delete'</samp> and <samp>`--concatenate'</samp> (<samp>`--catenate'</samp>,
<samp>`-A'</samp>) will do nothing, while <samp>`--create'</samp> (<samp>`-c'</samp>)
will usually yield a diagnostic and inhibit <code>tar</code> execution.
The other operations of <code>tar</code> (<samp>`--list'</samp>,
<samp>`--extract'</samp>, <samp>`--compare'</samp>, and <samp>`--update'</samp>)
will act on the entire contents of the archive.
</p>
<p><a name="exit-status"></a>
<a name="IDX21"></a>
<a name="IDX22"></a>
Besides successful exits, <acronym>GNU</acronym> <code>tar</code> may fail for
many reasons.  Some reasons correspond to bad usage, that is, when the
<code>tar</code> command line is improperly written.  Errors may be
encountered later, while processing the archive or the files.  Some
errors are recoverable, in which case the failure is delayed until
<code>tar</code> has completed all its work.  Some errors are such that
it would be not meaningful, or at least risky, to continue processing:
<code>tar</code> then aborts processing immediately.  All abnormal exits,
whether immediate or delayed, should always be clearly diagnosed on
<code>stderr</code>, after a line stating the nature of the error.
</p>
<p>Possible exit codes of <acronym>GNU</acronym> <code>tar</code> are summarized in the following
table:
</p>
<dl compact="compact">
<dt> 0</dt>
<dd><p><samp>`Successful termination'</samp>.
</p>
</dd>
<dt> 1</dt>
<dd><p><samp>`Some files differ'</samp>.  If tar was invoked with <samp>`--compare'</samp>
(<samp>`--diff'</samp>, <samp>`-d'</samp>) command line option, this means that
some files in the archive differ from their disk counterparts
(see section <a href="#SEC67">Comparing Archive Members with the File System</a>).  If tar was given <samp>`--create'</samp>,
<samp>`--append'</samp> or <samp>`--update'</samp> option, this exit code means
that some files were changed while being archived and so the resulting
archive does not contain the exact copy of the file set.
</p>
</dd>
<dt> 2</dt>
<dd><p><samp>`Fatal error'</samp>.  This means that some fatal, unrecoverable error
occurred.
</p></dd>
</dl>

<p>If <code>tar</code> has invoked a subprocess and that subprocess exited with a
nonzero exit code, <code>tar</code> exits with that code as well.
This can happen, for example, if <code>tar</code> was given some
compression option (see section <a href="#SEC135">Creating and Reading Compressed Archives</a>) and the external compressor program
failed.  Another example is <code>rmt</code> failure during backup to the
remote device (see section <a href="#SEC156">Remote Tape Server</a>).
</p>
<hr size="6">
<a name="using-tar-options"></a>
<a name="SEC34"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC33" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC35" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.2 Using <code>tar</code> Options </h2>

<p><acronym>GNU</acronym> <code>tar</code> has a total of eight operating modes which
allow you to perform a variety of tasks.  You are required to choose
one operating mode each time you employ the <code>tar</code> program by
specifying one, and only one operation as an argument to the
<code>tar</code> command (the corresponding options may be found
at <a href="#SEC12">The Three Most Frequently Used Operations</a> and <a href="#SEC59">The Five Advanced <code>tar</code> Operations</a>).  Depending on
circumstances, you may also wish to customize how the chosen operating
mode behaves.  For example, you may wish to change the way the output
looks, or the format of the files that you wish to archive may require
you to do something special in order to make the archive look right.
</p>
<p>You can customize and control <code>tar</code>'s performance by running
<code>tar</code> with one or more options (such as <samp>`--verbose'</samp>
(<samp>`-v'</samp>), which we used in the tutorial).  As we said in the
tutorial, <em>options</em> are arguments to <code>tar</code> which are (as
their name suggests) optional. Depending on the operating mode, you
may specify one or more options. Different options will have different
effects, but in general they all change details of the operation, such
as archive format, archive name, or level of user interaction.  Some
options make sense with all operating modes, while others are
meaningful only with particular modes. You will likely use some
options frequently, while you will only use others infrequently, or
not at all.  (A full list of options is available in see section <a href="#SEC40">All <code>tar</code> Options</a>.)
</p>
<p><a name="TAR_005fOPTIONS"></a>
The <code>TAR_OPTIONS</code> environment variable specifies default options to
be placed in front of any explicit options.  For example, if
<code>TAR_OPTIONS</code> is <samp>`-v --unlink-first'</samp>, <code>tar</code> behaves as
if the two options <samp>`-v'</samp> and <samp>`--unlink-first'</samp> had been
specified before any explicit options.  Option specifications are
separated by whitespace.  A backslash escapes the next character, so it
can be used to specify an option containing whitespace or a backslash.
</p>
<p>Note that <code>tar</code> options are case sensitive.  For example, the
options <samp>`-T'</samp> and <samp>`-t'</samp> are different; the first requires an
argument for stating the name of a file providing a list of <var>name</var>s,
while the second does not require an argument and is another way to
write <samp>`--list'</samp> (<samp>`-t'</samp>).
</p>
<p>In addition to the eight operations, there are many options to
<code>tar</code>, and three different styles for writing both: long (mnemonic)
form, short form, and old style.  These styles are discussed below.
Both the options and the operations can be written in any of these three
styles.
</p>
<p>See <cite>menu at end of this node.  need to think of an actual outline
for this chapter; probably do that after stuff from chapter 4 is
incorporated.</cite>
</p>

<hr size="6">
<a name="Styles"></a>
<a name="SEC35"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC34" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC36" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.3 The Three Option Styles </h2>

<p>There are three styles for writing operations and options to the command
line invoking <code>tar</code>.  The different styles were developed at
different times during the history of <code>tar</code>.  These styles will be
presented below, from the most recent to the oldest.
</p>
<p>Some options must take an argument<a name="DOCF2" href="#FOOT2">(2)</a>.  Where you <em>place</em> the
arguments generally depends on which style of options you choose.  We
will detail specific information relevant to each option style in the
sections on the different option styles, below.  The differences are
subtle, yet can often be very important; incorrect option placement
can cause you to overwrite a number of important files.  We urge you
to note these differences, and only use the option style(s) which
makes the most sense to you until you feel comfortable with the others.
</p>
<p>Some options <em>may</em> take an argument.  Such options may have at
most long and short forms, they do not have old style equivalent.  The
rules for specifying an argument for such options are stricter than
those for specifying mandatory arguments.  Please, pay special
attention to them.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC37">3.3.2 Short Option Style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC38">3.3.3 Old Option Style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC39">3.3.4 Mixing Option Styles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Long-Options"></a>
<a name="SEC36"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC35" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC37" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC35" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.3.1 Long Option Style </h3>

<p>Each option has at least one <em>long</em> (or <em>mnemonic</em>) name starting with two
dashes in a row, e.g., <samp>`--list'</samp>.  The long names are more clear than
their corresponding short or old names.  It sometimes happens that a
single long option has many different names which are
synonymous, such as <samp>`--compare'</samp> and <samp>`--diff'</samp>.  In addition,
long option names can be given unique abbreviations.  For example,
<samp>`--cre'</samp> can be used in place of <samp>`--create'</samp> because there is no
other long option which begins with <samp>`cre'</samp>.  (One way to find
this out is by trying it and seeing what happens; if a particular
abbreviation could represent more than one option, <code>tar</code> will tell
you that that abbreviation is ambiguous and you'll know that that
abbreviation won't work.  You may also choose to run <samp>`tar --help'</samp>
to see a list of options.  Be aware that if you run <code>tar</code> with a
unique abbreviation for the long name of an option you didn't want to
use, you are stuck; <code>tar</code> will perform the command as ordered.)
</p>
<p>Long options are meant to be obvious and easy to remember, and their
meanings are generally easier to discern than those of their
corresponding short options (see below).  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --verbose --blocking-factor=20 --file=/dev/rmt0</kbd>
</pre></td></tr></table>

<p>gives a fairly good set of hints about what the command does, even
for those not fully acquainted with <code>tar</code>.
</p>
<a name="IDX23"></a>
<a name="IDX24"></a>
<p>Long options which require arguments take those arguments
immediately following the option name.  There are two ways of
specifying a mandatory argument.  It can be separated from the
option name either by an equal sign, or by any amount of
white space characters.  For example, the <samp>`--file'</samp> option (which
tells the name of the <code>tar</code> archive) is given a file such as
<tt>`archive.tar'</tt> as argument by using any of the following notations:
<samp>`--file=archive.tar'</samp> or <samp>`--file archive.tar'</samp>.
</p>
<a name="IDX25"></a>
<a name="IDX26"></a>
<p>In contrast, optional arguments must always be introduced using
an equal sign.  For example, the <samp>`--backup'</samp> option takes
an optional argument specifying backup type.  It must be used
as <samp>`--backup=<var>backup-type</var>'</samp>.
</p>
<hr size="6">
<a name="Short-Options"></a>
<a name="SEC37"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC36" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC38" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC35" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.3.2 Short Option Style </h3>

<p>Most options also have a <em>short option</em> name.  Short options start with
a single dash, and are followed by a single character, e.g., <samp>`-t'</samp>
(which is equivalent to <samp>`--list'</samp>).  The forms are absolutely
identical in function; they are interchangeable.
</p>
<p>The short option names are faster to type than long option names.
</p>
<a name="IDX27"></a>
<a name="IDX28"></a>
<p>Short options which require arguments take their arguments immediately
following the option, usually separated by white space.  It is also
possible to stick the argument right after the short option name, using
no intervening space.  For example, you might write <samp>`-f
archive.tar'</samp> or <samp>`-farchive.tar'</samp> instead of using
<samp>`--file=archive.tar'</samp>.  Both <samp>`--file=<var>archive-name</var>'</samp> and
<samp>`-f <var>archive-name</var>'</samp> denote the option which indicates a
specific archive, here named <tt>`archive.tar'</tt>.
</p>
<a name="IDX29"></a>
<a name="IDX30"></a>
<p>Short options which take optional arguments take their arguments
immediately following the option letter, <em>without any intervening
white space characters</em>.
</p>
<p>Short options' letters may be clumped together, but you are not
required to do this (as compared to old options; see below).  When
short options are clumped as a set, use one (single) dash for them
all, e.g., <samp>`<code>tar</code> -cvf'</samp>.  Only the last option in
such a set is allowed to have an argument<a name="DOCF3" href="#FOOT3">(3)</a>.
</p>
<p>When the options are separated, the argument for each option which requires
an argument directly follows that option, as is usual for Unix programs.
For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -v -b 20 -f /dev/rmt0</kbd>
</pre></td></tr></table>
<p>If you reorder short options' locations, be sure to move any arguments
that belong to them.  If you do not move the arguments properly, you may
end up overwriting files.
</p>
<hr size="6">
<a name="Old-Options"></a>
<a name="SEC38"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC37" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC39" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC35" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.3.3 Old Option Style </h3>

<p>As far as we know, all <code>tar</code> programs, <acronym>GNU</acronym> and
non-<acronym>GNU</acronym>, support <em>old options</em>: that is, if the first
argument does not start with <samp>`-'</samp>, it is assumed to specify option
letters.  <acronym>GNU</acronym> <code>tar</code> supports old options not only for historical
reasons, but also because many people are used to them.  If the first
argument does not start with a dash, you are announcing the old option
style instead of the short option style; old options are decoded
differently.
</p>
<p>Like short options, old options are single letters.  However, old options
must be written together as a single clumped set, without spaces separating
them or dashes preceding them.  This set
of letters must be the first to appear on the command line, after the
<code>tar</code> program name and some white space; old options cannot appear
anywhere else.  The letter of an old option is exactly the same letter as
the corresponding short option.  For example, the old option <samp>`t'</samp> is
the same as the short option <samp>`-t'</samp>, and consequently, the same as the
long option <samp>`--list'</samp>.  So for example, the command <samp>`tar
cv'</samp> specifies the option <samp>`-v'</samp> in addition to the operation <samp>`-c'</samp>.
</p>
<a name="IDX31"></a>
<a name="IDX32"></a>
<p>When options that need arguments are given together with the command,
all the associated arguments follow, in the same order as the options.
Thus, the example given previously could also be written in the old
style as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar cvbf 20 /dev/rmt0</kbd>
</pre></td></tr></table>

<p>Here, <samp>`20'</samp> is the argument of <samp>`-b'</samp> and <samp>`/dev/rmt0'</samp> is
the argument of <samp>`-f'</samp>.
</p>
<p>The old style syntax can make it difficult to match
option letters with their corresponding arguments, and is often
confusing.  In the command <samp>`tar cvbf 20 /dev/rmt0'</samp>, for example,
<samp>`20'</samp> is the argument for <samp>`-b'</samp>, <samp>`/dev/rmt0'</samp> is the
argument for <samp>`-f'</samp>, and <samp>`-v'</samp> does not have a corresponding
argument.  Even using short options like in <samp>`tar -c -v -b 20 -f
/dev/rmt0'</samp> is clearer, putting all arguments next to the option they
pertain to.
</p>
<p>If you want to reorder the letters in the old option argument, be
sure to reorder any corresponding argument appropriately.
</p>
<p>This old way of writing <code>tar</code> options can surprise even experienced
users.  For example, the two commands:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar cfz archive.tar.gz file</kbd>
<kbd>tar -cfz archive.tar.gz file</kbd>
</pre></td></tr></table>

<p>are quite different.  The first example uses <tt>`archive.tar.gz'</tt> as
the value for option <samp>`f'</samp> and recognizes the option <samp>`z'</samp>.  The
second example, however, uses <tt>`z'</tt> as the value for option
<samp>`f'</samp> -- probably not what was intended.
</p>
<p>This second example could be corrected in many ways, among which the
following are equivalent:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar -czf archive.tar.gz file</kbd>
<kbd>tar -cf archive.tar.gz -z file</kbd>
<kbd>tar cf archive.tar.gz -z file</kbd>
</pre></td></tr></table>
<hr size="6">
<a name="Mixing"></a>
<a name="SEC39"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC38" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC40" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC35" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.3.4 Mixing Option Styles </h3>

<p>All three styles may be intermixed in a single <code>tar</code> command,
so long as the rules for each style are fully
respected<a name="DOCF4" href="#FOOT4">(4)</a>.  Old style options and either of the modern styles of
options may be mixed within a single <code>tar</code> command.  However,
old style options must be introduced as the first arguments only,
following the rule for old options (old options must appear directly
after the <code>tar</code> command and some white space).  Modern options
may be given only after all arguments to the old options have been
collected.  If this rule is not respected, a modern option might be
falsely interpreted as the value of the argument to one of the old
style options.
</p>
<p>For example, all the following commands are wholly equivalent, and
illustrate the many combinations and orderings of option styles.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar --create --file=archive.tar</kbd>
<kbd>tar --create -f archive.tar</kbd>
<kbd>tar --create -farchive.tar</kbd>
<kbd>tar --file=archive.tar --create</kbd>
<kbd>tar --file=archive.tar -c</kbd>
<kbd>tar -c --file=archive.tar</kbd>
<kbd>tar -c -f archive.tar</kbd>
<kbd>tar -c -farchive.tar</kbd>
<kbd>tar -cf archive.tar</kbd>
<kbd>tar -cfarchive.tar</kbd>
<kbd>tar -f archive.tar --create</kbd>
<kbd>tar -f archive.tar -c</kbd>
<kbd>tar -farchive.tar --create</kbd>
<kbd>tar -farchive.tar -c</kbd>
<kbd>tar c --file=archive.tar</kbd>
<kbd>tar c -f archive.tar</kbd>
<kbd>tar c -farchive.tar</kbd>
<kbd>tar cf archive.tar</kbd>
<kbd>tar f archive.tar --create</kbd>
<kbd>tar f archive.tar -c</kbd>
<kbd>tar fc archive.tar</kbd>
</pre></td></tr></table>
<p>On the other hand, the following commands are <em>not</em> equivalent to
the previous set:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar -f -c archive.tar</kbd>
<kbd>tar -fc archive.tar</kbd>
<kbd>tar -fcarchive.tar</kbd>
<kbd>tar -farchive.tarc</kbd>
<kbd>tar cfarchive.tar</kbd>
</pre></td></tr></table>

<p>These last examples mean something completely different from what the
user intended (judging based on the example in the previous set which
uses long options, whose intent is therefore very clear).  The first
four specify that the <code>tar</code> archive would be a file named
<samp>`-c'</samp>, <samp>`c'</samp>, <samp>`carchive.tar'</samp> or <samp>`archive.tarc'</samp>,
respectively.  The first two examples also specify a single non-option,
<var>name</var> argument having the value <samp>`archive.tar'</samp>.  The last
example contains only old style option letters (repeating option
<samp>`c'</samp> twice), not all of which are meaningful (eg., <samp>`.'</samp>,
<samp>`h'</samp>, or <samp>`i'</samp>), with no argument value.
See <cite>not sure i liked
the first sentence of this paragraph..</cite>
</p>

<hr size="6">
<a name="All-Options"></a>
<a name="SEC40"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC39" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC41" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.4 All <code>tar</code> Options </h2>

<p>The coming manual sections contain an alphabetical listing of all
<code>tar</code> operations and options, with brief descriptions and
cross-references to more in-depth explanations in the body of the manual.
They also contain an alphabetically arranged table of the short option
forms with their corresponding long option.  You can use this table as
a reference for deciphering <code>tar</code> commands in scripts.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC41">3.4.1 Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC43">3.4.3 Short Options Cross Reference</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC44">3.4.4 Position-Sensitive Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Operation-Summary"></a>
<a name="SEC41"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC40" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC42" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC40" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.4.1 Operations </h3>

<dl compact="compact">
<dd>
<p><a name="g_t_002d_002dappend"></a>
<a name="IDX33"></a>
</p></dd>
<dt> <samp>`--append'</samp></dt>
<dt> <samp>`-r'</samp></dt>
<dd>
<p>Appends files to the end of the archive.  See section <a href="#SEC60">How to Add Files to Existing Archives: <samp>`--append'</samp></a>.
</p>
<p><a name="g_t_002d_002dcatenate"></a>
<a name="IDX34"></a>
</p></dd>
<dt> <samp>`--catenate'</samp></dt>
<dt> <samp>`-A'</samp></dt>
<dd>
<p>Same as <samp>`--concatenate'</samp>.  See section <a href="#SEC65">Combining Archives with <samp>`--concatenate'</samp></a>.
</p>
<p><a name="g_t_002d_002dcompare"></a>
<a name="IDX35"></a>
</p></dd>
<dt> <samp>`--compare'</samp></dt>
<dt> <samp>`-d'</samp></dt>
<dd>
<p>Compares archive members with their counterparts in the file
system, and reports differences in file size, mode, owner,
modification date and contents.  See section <a href="#SEC67">Comparing Archive Members with the File System</a>.
</p>
<p><a name="g_t_002d_002dconcatenate"></a>
<a name="IDX36"></a>
</p></dd>
<dt> <samp>`--concatenate'</samp></dt>
<dt> <samp>`-A'</samp></dt>
<dd>
<p>Appends other <code>tar</code> archives to the end of the archive.
See section <a href="#SEC65">Combining Archives with <samp>`--concatenate'</samp></a>.
</p>
<p><a name="g_t_002d_002dcreate"></a>
<a name="IDX37"></a>
</p></dd>
<dt> <samp>`--create'</samp></dt>
<dt> <samp>`-c'</samp></dt>
<dd>
<p>Creates a new <code>tar</code> archive.  See section <a href="#SEC17">How to Create Archives</a>.
</p>
<p><a name="g_t_002d_002ddelete"></a>
<a name="IDX38"></a>
</p></dd>
<dt> <samp>`--delete'</samp></dt>
<dd>
<p>Deletes members from the archive.  Don't try this on an archive on a
tape!  See section <a href="#SEC66">Removing Archive Members Using <samp>`--delete'</samp></a>.
</p>
<p><a name="g_t_002d_002ddiff"></a>
<a name="IDX39"></a>
</p></dd>
<dt> <samp>`--diff'</samp></dt>
<dt> <samp>`-d'</samp></dt>
<dd>
<p>Same <samp>`--compare'</samp>.  See section <a href="#SEC67">Comparing Archive Members with the File System</a>.
</p>
<p><a name="g_t_002d_002dextract"></a>
<a name="IDX40"></a>
</p></dd>
<dt> <samp>`--extract'</samp></dt>
<dt> <samp>`-x'</samp></dt>
<dd>
<p>Extracts members from the archive into the file system.  See section <a href="#SEC25">How to Extract Members from an Archive</a>.
</p>
<p><a name="g_t_002d_002dget"></a>
<a name="IDX41"></a>
</p></dd>
<dt> <samp>`--get'</samp></dt>
<dt> <samp>`-x'</samp></dt>
<dd>
<p>Same as <samp>`--extract'</samp>.  See section <a href="#SEC25">How to Extract Members from an Archive</a>.
</p>
<p><a name="g_t_002d_002dlist"></a>
<a name="IDX42"></a>
</p></dd>
<dt> <samp>`--list'</samp></dt>
<dt> <samp>`-t'</samp></dt>
<dd>
<p>Lists the members in an archive.  See section <a href="#SEC23">How to List Archives</a>.
</p>
<p><a name="g_t_002d_002dupdate"></a>
<a name="IDX43"></a>
</p></dd>
<dt> <samp>`--update'</samp></dt>
<dt> <samp>`-u'</samp></dt>
<dd>
<p>Adds files to the end of the archive, but only if they are newer than
their counterparts already in the archive, or if they do not already
exist in the archive. See section <a href="#SEC63">Updating an Archive</a>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Option-Summary"></a>
<a name="SEC42"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC41" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC43" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC40" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.4.2 <code>tar</code> Options </h3>

<dl compact="compact">
<dd>
<p><a name="g_t_002d_002dabsolute_002dnames"></a>
<a name="IDX44"></a>
</p></dd>
<dt> <samp>`--absolute-names'</samp></dt>
<dt> <samp>`-P'</samp></dt>
<dd>
<p>Normally when creating an archive, <code>tar</code> strips an initial
<samp>`/'</samp> from member names, and when extracting from an archive <code>tar</code>
treats names specially if they have initial <samp>`/'</samp> or internal
<samp>`..'</samp>.  This option disables that behavior.  See section <a href="#SEC120">Absolute File Names</a>.
</p>
<p><a name="g_t_002d_002dacls"></a>
<a name="IDX45"></a>
</p></dd>
<dt> <samp>`--acls'</samp></dt>
<dd><p>Enable POSIX ACLs support.  See section <a href="#SEC70">acls</a>.
</p>
<p><a name="g_t_002d_002dafter_002ddate"></a>
<a name="IDX46"></a>
</p></dd>
<dt> <samp>`--after-date'</samp></dt>
<dd>
<p>(See <samp>`--newer'</samp>, see section <a href="#SEC116">Operating Only on New Files</a>)
</p>
<p><a name="g_t_002d_002danchored"></a>
<a name="IDX47"></a>
</p></dd>
<dt> <samp>`--anchored'</samp></dt>
<dd><p>A pattern must match an initial subsequence of the name's components.
See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
<p><a name="g_t_002d_002datime_002dpreserve"></a>
<a name="IDX48"></a>
</p></dd>
<dt> <samp>`--atime-preserve'</samp></dt>
<dt> <samp>`--atime-preserve=replace'</samp></dt>
<dt> <samp>`--atime-preserve=system'</samp></dt>
<dd>
<p>Attempt to preserve the access time of files when reading them.  This
option currently is effective only on files that you own, unless you
have superuser privileges.
</p>
<p><samp>`--atime-preserve=replace'</samp> remembers the access time of a file
before reading it, and then restores the access time afterwards.  This
may cause problems if other programs are reading the file at the same
time, as the times of their accesses will be lost.  On most platforms
restoring the access time also requires <code>tar</code> to restore the
data modification time too, so this option may also cause problems if
other programs are writing the file at the same time (<code>tar</code> attempts
to detect this situation, but cannot do so reliably due to race
conditions).  Worse, on most platforms restoring the access time also
updates the status change time, which means that this option is
incompatible with incremental backups.
</p>
<p><samp>`--atime-preserve=system'</samp> avoids changing time stamps on files,
without interfering with time stamp updates
caused by other programs, so it works better with incremental backups.
However, it requires a special <code>O_NOATIME</code> option from the
underlying operating and file system implementation, and it also requires
that searching directories does not update their access times.  As of
this writing (November 2005) this works only with Linux, and only with
Linux kernels 2.6.8 and later.  Worse, there is currently no reliable
way to know whether this feature actually works.  Sometimes
<code>tar</code> knows that it does not work, and if you use
<samp>`--atime-preserve=system'</samp> then <code>tar</code> complains and
exits right away.  But other times <code>tar</code> might think that the
option works when it actually does not.
</p>
<p>Currently <samp>`--atime-preserve'</samp> with no operand defaults to
<samp>`--atime-preserve=replace'</samp>, but this may change in the future
as support for <samp>`--atime-preserve=system'</samp> improves.
</p>
<p>If your operating or file system does not support
<samp>`--atime-preserve=system'</samp>, you might be able to preserve access
times reliably by using the <code>mount</code> command.  For example,
you can mount the file system read-only, or access the file system via
a read-only loopback mount, or use the <samp>`noatime'</samp> mount option
available on some systems.  However, mounting typically requires
superuser privileges and can be a pain to manage.
</p>
<p><a name="g_t_002d_002dauto_002dcompress"></a>
<a name="IDX49"></a>
</p></dd>
<dt> <samp>`--auto-compress'</samp></dt>
<dt> <samp>`-a'</samp></dt>
<dd>
<p>During a <samp>`--create'</samp> operation, enables automatic compressed
format recognition based on the archive suffix.  The effect of this
option is cancelled by <samp>`--no-auto-compress'</samp>.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
<p><a name="g_t_002d_002dbackup"></a>
<a name="IDX50"></a>
</p></dd>
<dt> <samp>`--backup=<var>backup-type</var>'</samp></dt>
<dd>
<p>Rather than deleting files from the file system, <code>tar</code> will
back them up using simple or numbered backups, depending upon
<var>backup-type</var>.  See section <a href="#SEC92">Backup options</a>.
</p>
<p><a name="g_t_002d_002dblock_002dnumber"></a>
<a name="IDX51"></a>
</p></dd>
<dt> <samp>`--block-number'</samp></dt>
<dt> <samp>`-R'</samp></dt>
<dd>
<p>With this option present, <code>tar</code> prints error messages for read errors
with the block number in the archive file.  See <a href="#block_002dnumber">block-number</a>.
</p>
<p><a name="g_t_002d_002dblocking_002dfactor"></a>
<a name="IDX52"></a>
</p></dd>
<dt> <samp>`--blocking-factor=<var>blocking</var>'</samp></dt>
<dt> <samp>`-b <var>blocking</var>'</samp></dt>
<dd>
<p>Sets the blocking factor <code>tar</code> uses to <var>blocking</var> x 512 bytes per
record.  See section <a href="#SEC160">The Blocking Factor of an Archive</a>.
</p>
<p><a name="g_t_002d_002dbzip2"></a>
<a name="IDX53"></a>
</p></dd>
<dt> <samp>`--bzip2'</samp></dt>
<dt> <samp>`-j'</samp></dt>
<dd>
<p>This option tells <code>tar</code> to read or write archives through
<code>bzip2</code>.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
<p><a name="g_t_002d_002dcheck_002ddevice"></a>
<a name="IDX54"></a>
</p></dd>
<dt> <samp>`--check-device'</samp></dt>
<dd><p>Check device numbers when creating a list of modified files for
incremental archiving.  This is the default.  See <a href="#device-numbers">device numbers</a>,
for a detailed description.
</p>
<p><a name="g_t_002d_002dcheckpoint"></a>
<a name="IDX55"></a>
</p></dd>
<dt> <samp>`--checkpoint[=<var>number</var>]'</samp></dt>
<dd>
<p>This option directs <code>tar</code> to print periodic checkpoint
messages as it reads through the archive.  It is intended for when you
want a visual indication that <code>tar</code> is still running, but
don't want to see <samp>`--verbose'</samp> output.  You can also instruct
<code>tar</code> to execute a list of actions on each checkpoint, see
<samp>`--checkpoint-action'</samp> below.  For a detailed description, see
<a href="#SEC48">Checkpoints</a>.
</p>
<p><a name="g_t_002d_002dcheckpoint_002daction"></a>
<a name="IDX56"></a>
</p></dd>
<dt> <samp>`--checkpoint-action=<var>action</var>'</samp></dt>
<dd><p>Instruct <code>tar</code> to execute an action upon hitting a
breakpoint.  Here we give only a brief outline.  See section <a href="#SEC48">Checkpoints</a>,
for a complete description.
</p>
<p>The <var>action</var> argument can be one of the following:
</p>
<dl compact="compact">
<dt> bell</dt>
<dd><p>Produce an audible bell on the console.
</p>
</dd>
<dt> dot</dt>
<dt> .</dt>
<dd><p>Print a single dot on the standard listing stream.
</p>
</dd>
<dt> echo</dt>
<dd><p>Display a textual message on the standard error, with the status and
number of the checkpoint.  This is the default.
</p>
</dd>
<dt> echo=<var>string</var></dt>
<dd><p>Display <var>string</var> on the standard error.  Before output, the string
is subject to meta-character expansion.
</p>
</dd>
<dt> exec=<var>command</var></dt>
<dd><p>Execute the given <var>command</var>.
</p>
</dd>
<dt> sleep=<var>time</var></dt>
<dd><p>Wait for <var>time</var> seconds.
</p>
</dd>
<dt> ttyout=<var>string</var></dt>
<dd><p>Output <var>string</var> on the current console (<tt>`/dev/tty'</tt>).
</p>
</dd>
<dt> totals</dt>
<dd><p>Print statistics (see see <a href="#totals">totals</a>).
</p>
</dd>
<dt> wait=<var>signo</var></dt>
<dd><p>Wait for signal <var>signo</var>.
</p></dd>
</dl>

<p>Several <samp>`--checkpoint-action'</samp> options can be specified.  The
supplied actions will be executed in order of their appearance in the
command line.
</p>
<p>Using <samp>`--checkpoint-action'</samp> without <samp>`--checkpoint'</samp>
assumes default checkpoint frequency of one checkpoint per 10 records.
</p>
<p><a name="g_t_002d_002dcheck_002dlinks"></a>
<a name="IDX57"></a>
</p></dd>
<dt> <samp>`--check-links'</samp></dt>
<dt> <samp>`-l'</samp></dt>
<dd><p>If this option was given, <code>tar</code> will check the number of links
dumped for each processed file.  If this number does not match the
total number of hard links for the file, a warning message will be
output <a name="DOCF5" href="#FOOT5">(5)</a>.
</p>
<p>See section <a href="#SEC142">Hard Links</a>.
</p>
<p><a name="g_t_002d_002dcompress"></a>
<a name="IDX58"></a>
<a name="g_t_002d_002duncompress"></a>
<a name="IDX59"></a>
</p></dd>
<dt> <samp>`--compress'</samp></dt>
<dt> <samp>`--uncompress'</samp></dt>
<dt> <samp>`-Z'</samp></dt>
<dd>
<p><code>tar</code> will use the <code>compress</code> program when reading or
writing the archive.  This allows you to directly act on archives
while saving space.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
<p><a name="g_t_002d_002dclamp_002dmtime"></a>
<a name="IDX60"></a>
</p></dd>
<dt> <samp>`--clamp-mtime'</samp></dt>
<dd>
<p>(See <samp>`--mtime'</samp>.)
</p>
<p><a name="g_t_002d_002dconfirmation"></a>
<a name="IDX61"></a>
</p></dd>
<dt> <samp>`--confirmation'</samp></dt>
<dd>
<p>(See <samp>`--interactive'</samp>.)  See section <a href="#SEC54">Asking for Confirmation During Operations</a>.
</p>
<p><a name="g_t_002d_002ddelay_002ddirectory_002drestore"></a>
<a name="IDX62"></a>
</p></dd>
<dt> <samp>`--delay-directory-restore'</samp></dt>
<dd>
<p>Delay setting modification times and permissions of extracted
directories until the end of extraction. See section <a href="#SEC85">Directory Modification Times and Permissions</a>.
</p>
<p><a name="g_t_002d_002ddereference"></a>
<a name="IDX63"></a>
</p></dd>
<dt> <samp>`--dereference'</samp></dt>
<dt> <samp>`-h'</samp></dt>
<dd>
<p>When reading or writing a file to be archived, <code>tar</code> accesses
the file that a symbolic link points to, rather than the symlink
itself.  See section <a href="#SEC141">Symbolic Links</a>.
</p>
<p><a name="g_t_002d_002ddirectory"></a>
<a name="IDX64"></a>
</p></dd>
<dt> <samp>`--directory=<var>dir</var>'</samp></dt>
<dt> <samp>`-C <var>dir</var>'</samp></dt>
<dd>
<p>When this option is specified, <code>tar</code> will change its current directory
to <var>dir</var> before performing any operations.  When this option is used
during archive creation, it is order sensitive.  See section <a href="#SEC119">Changing the Working Directory</a>.
</p>
<p><a name="g_t_002d_002dexclude"></a>
<a name="IDX65"></a>
</p></dd>
<dt> <samp>`--exclude=<var>pattern</var>'</samp></dt>
<dd>
<p>When performing operations, <code>tar</code> will skip files that match
<var>pattern</var>.  See section <a href="#SEC110">Excluding Some Files</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dbackups"></a>
<a name="IDX66"></a>
</p></dd>
<dt> <samp>`--exclude-backups'</samp></dt>
<dd><p>Exclude backup and lock files.  See section <a href="#SEC110">exclude-backups</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dfrom"></a>
<a name="IDX67"></a>
</p></dd>
<dt> <samp>`--exclude-from=<var>file</var>'</samp></dt>
<dt> <samp>`-X <var>file</var>'</samp></dt>
<dd>
<p>Similar to <samp>`--exclude'</samp>, except <code>tar</code> will use the list of
patterns in the file <var>file</var>.  See section <a href="#SEC110">Excluding Some Files</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dcaches"></a>
<a name="IDX68"></a>
</p></dd>
<dt> <samp>`--exclude-caches'</samp></dt>
<dd>
<p>Exclude from dump any directory containing a valid cache directory
tag file, but still dump the directory node and the tag file itself.
</p>
<p>See section <a href="#SEC110">exclude-caches</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dcaches_002dunder"></a>
<a name="IDX69"></a>
</p></dd>
<dt> <samp>`--exclude-caches-under'</samp></dt>
<dd>
<p>Exclude from dump any directory containing a valid cache directory
tag file, but still dump the directory node itself.
</p>
<p>See section <a href="#SEC110">Excluding Some Files</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dcaches_002dall"></a>
<a name="IDX70"></a>
</p></dd>
<dt> <samp>`--exclude-caches-all'</samp></dt>
<dd>
<p>Exclude from dump any directory containing a valid cache directory
tag file.  See section <a href="#SEC110">Excluding Some Files</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dignore"></a>
<a name="IDX71"></a>
</p></dd>
<dt> <samp>`--exclude-ignore=<var>file</var>'</samp></dt>
<dd><p>Before dumping a directory, <code>tar</code> checks if it contains
<var>file</var>.  If so, exclusion patterns are read from this file.
The patterns affect only the directory itself.  See section <a href="#SEC110">Excluding Some Files</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dignore_002drecursive"></a>
<a name="IDX72"></a>
</p></dd>
<dt> <samp>`--exclude-ignore-recursive=<var>file</var>'</samp></dt>
<dd><p>Before dumping a directory, <code>tar</code> checks if it contains
<var>file</var>.  If so, exclusion patterns are read from this file.
The patterns affect the directory and all itssubdirectories.
See section <a href="#SEC110">Excluding Some Files</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dtag"></a>
<a name="IDX73"></a>
</p></dd>
<dt> <samp>`--exclude-tag=<var>file</var>'</samp></dt>
<dd>
<p>Exclude from dump any directory containing file named <var>file</var>, but
dump the directory node and <var>file</var> itself.  See section <a href="#SEC110">exclude-tag</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dtag_002dunder"></a>
<a name="IDX74"></a>
</p></dd>
<dt> <samp>`--exclude-tag-under=<var>file</var>'</samp></dt>
<dd>
<p>Exclude from dump the contents of any directory containing file
named <var>file</var>, but dump the directory node itself.  See section <a href="#SEC110">exclude-tag-under</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dtag_002dall"></a>
<a name="IDX75"></a>
</p></dd>
<dt> <samp>`--exclude-tag-all=<var>file</var>'</samp></dt>
<dd>
<p>Exclude from dump any directory containing file named <var>file</var>.
See section <a href="#SEC110">exclude-tag-all</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dvcs"></a>
<a name="IDX76"></a>
</p></dd>
<dt> <samp>`--exclude-vcs'</samp></dt>
<dd>
<p>Exclude from dump directories and files, that are internal for some
widely used version control systems.
</p>
<p>See <a href="#exclude_002dvcs">exclude-vcs</a>.
</p>
<p><a name="g_t_002d_002dexclude_002dvcs_002dignores"></a>
<a name="IDX77"></a>
</p></dd>
<dt> <samp>`--exclude-vcs-ignores'</samp></dt>
<dd><p>Exclude files that match patterns read from VCS-specific ignore
files.  Supported files are: <tt>`.cvsignore'</tt>, <tt>`.gitignore'</tt>,
<tt>`.bzrignore'</tt>, and <tt>`.hgignore'</tt>.  The semantics of each file
is the same as for the corresponding VCS, e.g. patterns read from
<tt>`.gitignore'</tt> affect the directory and all its subdirectories.
See <a href="#exclude_002dvcs_002dignores">exclude-vcs-ignores</a>.
</p>
<p><a name="g_t_002d_002dfile"></a>
<a name="IDX78"></a>
</p></dd>
<dt> <samp>`--file=<var>archive</var>'</samp></dt>
<dt> <samp>`-f <var>archive</var>'</samp></dt>
<dd>
<p><code>tar</code> will use the file <var>archive</var> as the <code>tar</code> archive it
performs operations on, rather than <code>tar</code>'s compilation dependent
default.  See section <a href="#SEC14">The <samp>`--file'</samp> Option</a>.
</p>
<p><a name="g_t_002d_002dfiles_002dfrom"></a>
<a name="IDX79"></a>
</p></dd>
<dt> <samp>`--files-from=<var>file</var>'</samp></dt>
<dt> <samp>`-T <var>file</var>'</samp></dt>
<dd>
<p><code>tar</code> will use the contents of <var>file</var> as a list of archive members
or files to operate on, in addition to those specified on the
command-line.  See section <a href="#SEC108">Reading Names from a File</a>.
</p>
<p><a name="g_t_002d_002dforce_002dlocal"></a>
<a name="IDX80"></a>
</p></dd>
<dt> <samp>`--force-local'</samp></dt>
<dd>
<p>Forces <code>tar</code> to interpret the file name given to <samp>`--file'</samp>
as a local file, even if it looks like a remote tape drive name.
See <a href="#local-and-remote-archives">local and remote archives</a>.
</p>
<p><a name="g_t_002d_002dformat"></a>
<a name="IDX81"></a>
</p></dd>
<dt> <samp>`--format=<var>format</var>'</samp></dt>
<dt> <samp>`-H <var>format</var>'</samp></dt>
<dd>
<p>Selects output archive format.  <var>Format</var> may be one of the
following:
</p>
<dl compact="compact">
<dt> <samp>`v7'</samp></dt>
<dd><p>Creates an archive that is compatible with Unix V7 <code>tar</code>.
</p>
</dd>
<dt> <samp>`oldgnu'</samp></dt>
<dd><p>Creates an archive that is compatible with GNU <code>tar</code> version
1.12 or earlier.
</p>
</dd>
<dt> <samp>`gnu'</samp></dt>
<dd><p>Creates archive in GNU tar 1.13 format.  Basically it is the same as
<samp>`oldgnu'</samp> with the only difference in the way it handles long
numeric fields.
</p>
</dd>
<dt> <samp>`ustar'</samp></dt>
<dd><p>Creates a <acronym>POSIX.1-1988</acronym> compatible archive.
</p>
</dd>
<dt> <samp>`posix'</samp></dt>
<dd><p>Creates a <acronym>POSIX.1-2001 archive</acronym>.
</p>
</dd>
</dl>

<p>See section <a href="#SEC133">Controlling the Archive Format</a>, for a detailed discussion of these formats.
</p>
<p><a name="g_t_002d_002dfull_002dtime"></a>
<a name="IDX82"></a>
</p></dd>
<dt> <samp>`--full-time'</samp></dt>
<dd><p>This option instructs <code>tar</code> to print file times to their full
resolution.  Usually this means 1-second resolution, but that depends
on the underlying file system.  The <samp>`--full-time'</samp> option takes
effect only when detailed output (verbosity level 2 or higher) has
been requested using the <samp>`--verbose'</samp> option, e.g., when listing
or extracting archives:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -t -v --full-time -f archive.tar</kbd>
</pre></td></tr></table>

<p>or, when creating an archive:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -vv --full-time -f archive.tar .</kbd>
</pre></td></tr></table>
<p>Notice, thar when creating the archive you need to specify
<samp>`--verbose'</samp> twice to get a detailed output (see section <a href="#SEC15">The <samp>`--verbose'</samp> Option</a>).
</p>
<p><a name="g_t_002d_002dgroup"></a>
<a name="IDX83"></a>
</p></dd>
<dt> <samp>`--group=<var>group</var>'</samp></dt>
<dd>
<p>Files added to the <code>tar</code> archive will have a group <acronym>ID</acronym> of <var>group</var>,
rather than the group from the source file.  <var>group</var> can specify a
symbolic name, or a numeric <acronym>ID</acronym>, or both as
<var>name</var>:<var>id</var>.  See section <a href="#SEC69">Overriding File Metadata</a>.
</p>
<p>Also see the <samp>`--group-map'</samp> option and comments for the
<samp>`--owner=<var>user</var>'</samp> option.
</p>
<p><a name="g_t_002d_002dgroup_002dmap"></a>
<a name="IDX84"></a>
</p></dd>
<dt> <samp>`--group-map=<var>file</var>'</samp></dt>
<dd>
<p>Read owner group translation map from <var>file</var>.  This option allows to
translate only certain group names and/or UIDs.  See section <a href="#SEC69">Overriding File Metadata</a>, for a
detailed description.  When used together with <samp>`--group'</samp>
option, the latter affects only those files whose owner group is not listed
in the <var>file</var>.
</p>
<p>This option does not affect extraction from archives.
</p>
<p><a name="g_t_002d_002dgzip"></a>
<a name="IDX85"></a>
<a name="g_t_002d_002dgunzip"></a>
<a name="IDX86"></a>
<a name="g_t_002d_002dungzip"></a>
<a name="IDX87"></a>
</p></dd>
<dt> <samp>`--gzip'</samp></dt>
<dt> <samp>`--gunzip'</samp></dt>
<dt> <samp>`--ungzip'</samp></dt>
<dt> <samp>`-z'</samp></dt>
<dd>
<p>This option tells <code>tar</code> to read or write archives through
<code>gzip</code>, allowing <code>tar</code> to directly operate on several
kinds of compressed archives transparently.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
<p><a name="g_t_002d_002dhard_002ddereference"></a>
<a name="IDX88"></a>
</p></dd>
<dt> <samp>`--hard-dereference'</samp></dt>
<dd><p>When creating an archive, dereference hard links and store the files
they refer to, instead of creating usual hard link members.
</p>
<p>See section <a href="#SEC142">Hard Links</a>.
</p>
<p><a name="g_t_002d_002dhelp"></a>
<a name="IDX89"></a>
</p></dd>
<dt> <samp>`--help'</samp></dt>
<dt> <samp>`-?'</samp></dt>
<dd>
<p><code>tar</code> will print out a short message summarizing the operations and
options to <code>tar</code> and exit. See section <a href="#SEC45"><acronym>GNU</acronym> <code>tar</code> documentation</a>.
</p>
<p><a name="g_t_002d_002dhole_002ddetection"></a>
<a name="IDX90"></a>
</p></dd>
<dt> <samp>`--hole-detection=<var>method</var>'</samp></dt>
<dd><p>Use <var>method</var> to detect holes in sparse files.  This option implies
<samp>`--sparse'</samp>.  Valid methods are <samp>`seek'</samp> and <samp>`raw'</samp>.
Default is <samp>`seek'</samp> with fallback to <samp>`raw'</samp> when not
applicable. See section <a href="#SEC137">Archiving Sparse Files</a>.
</p>
<p><a name="g_t_002d_002dignore_002dcase"></a>
<a name="IDX91"></a>
</p></dd>
<dt> <samp>`--ignore-case'</samp></dt>
<dd><p>Ignore case when matching member or file names with
patterns. See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
<p><a name="g_t_002d_002dignore_002dcommand_002derror"></a>
<a name="IDX92"></a>
</p></dd>
<dt> <samp>`--ignore-command-error'</samp></dt>
<dd><p>Ignore exit codes of subprocesses. See section <a href="#SEC87">Writing to an External Program</a>.
</p>
<p><a name="g_t_002d_002dignore_002dfailed_002dread"></a>
<a name="IDX93"></a>
</p></dd>
<dt> <samp>`--ignore-failed-read'</samp></dt>
<dd>
<p>Do not exit unsuccessfully merely because an unreadable file was encountered.
See section <a href="#SEC71">Ignore Failed Read</a>.
</p>
<p><a name="g_t_002d_002dignore_002dzeros"></a>
<a name="IDX94"></a>
</p></dd>
<dt> <samp>`--ignore-zeros'</samp></dt>
<dt> <samp>`-i'</samp></dt>
<dd>
<p>With this option, <code>tar</code> will ignore zeroed blocks in the
archive, which normally signals EOF.  See section <a href="#SEC73">Options to Help Read Archives</a>.
</p>
<p><a name="g_t_002d_002dincremental"></a>
<a name="IDX95"></a>
</p></dd>
<dt> <samp>`--incremental'</samp></dt>
<dt> <samp>`-G'</samp></dt>
<dd>
<p>Informs <code>tar</code> that it is working with an old
<acronym>GNU</acronym>-format incremental backup archive.  It is intended
primarily for backwards compatibility only.  See section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>,
for a detailed discussion of incremental archives.
</p>
<p><a name="g_t_002d_002dindex_002dfile"></a>
<a name="IDX96"></a>
</p></dd>
<dt> <samp>`--index-file=<var>file</var>'</samp></dt>
<dd>
<p>Send verbose output to <var>file</var> instead of to standard output.
</p>
<p><a name="g_t_002d_002dinfo_002dscript"></a>
<a name="IDX97"></a>
<a name="g_t_002d_002dnew_002dvolume_002dscript"></a>
<a name="IDX98"></a>
</p></dd>
<dt> <samp>`--info-script=<var>command</var>'</samp></dt>
<dt> <samp>`--new-volume-script=<var>command</var>'</samp></dt>
<dt> <samp>`-F <var>command</var>'</samp></dt>
<dd>
<p>When <code>tar</code> is performing multi-tape backups, <var>command</var> is run
at the end of each tape.  If it exits with nonzero status,
<code>tar</code> fails immediately.  See <a href="#info_002dscript">info-script</a>, for a detailed
discussion of this feature.
</p>
<p><a name="g_t_002d_002dinteractive"></a>
<a name="IDX99"></a>
</p></dd>
<dt> <samp>`--interactive'</samp></dt>
<dt> <samp>`--confirmation'</samp></dt>
<dt> <samp>`-w'</samp></dt>
<dd>
<p>Specifies that <code>tar</code> should ask the user for confirmation before
performing potentially destructive options, such as overwriting files.
See section <a href="#SEC54">Asking for Confirmation During Operations</a>.
</p>
<p><a name="g_t_002d_002dkeep_002ddirectory_002dsymlink"></a>
<a name="IDX100"></a>
</p></dd>
<dt> <samp>`--keep-directory-symlink'</samp></dt>
<dd>
<p>This option changes the behavior of tar when it encounters a symlink
with the same name as the directory that it is about to extract.  By
default, in this case tar would first remove the symlink and then
proceed extracting the directory.
</p>
<p>The <samp>`--keep-directory-symlink'</samp> option disables this behavior
and instructs tar to follow symlinks to directories when extracting
from the archive.
</p>
<p>It is mainly intended to provide compatibility with the Slackware
installation scripts.
</p>
<p><a name="g_t_002d_002dkeep_002dnewer_002dfiles"></a>
<a name="IDX101"></a>
</p></dd>
<dt> <samp>`--keep-newer-files'</samp></dt>
<dd>
<p>Do not replace existing files that are newer than their archive copies
when extracting files from an archive.
</p>
<p><a name="g_t_002d_002dkeep_002dold_002dfiles"></a>
<a name="IDX102"></a>
</p></dd>
<dt> <samp>`--keep-old-files'</samp></dt>
<dt> <samp>`-k'</samp></dt>
<dd>
<p>Do not overwrite existing files when extracting files from an
archive.  Return error if such files exist.  See also
<a href="#g_t_002d_002dskip_002dold_002dfiles">-skip-old-files</a>.
</p>
<p>See section <a href="#SEC79">Keep Old Files</a>.
</p>
<p><a name="g_t_002d_002dlabel"></a>
<a name="IDX103"></a>
</p></dd>
<dt> <samp>`--label=<var>name</var>'</samp></dt>
<dt> <samp>`-V <var>name</var>'</samp></dt>
<dd>
<p>When creating an archive, instructs <code>tar</code> to write <var>name</var>
as a name record in the archive.  When extracting or listing archives,
<code>tar</code> will only operate on archives that have a label matching
the pattern specified in <var>name</var>.  See section <a href="#SEC166">Tape Files</a>.
</p>
<p><a name="g_t_002d_002dlevel"></a>
<a name="IDX104"></a>
</p></dd>
<dt> <samp>`--level=<var>n</var>'</samp></dt>
<dd><p>Force incremental backup of level <var>n</var>.  As of <acronym>GNU</acronym> <code>tar</code>
1.32, the option <samp>`--level=0'</samp> truncates the snapshot
file, thereby forcing the level 0 dump.  Other values of <var>n</var> are
effectively ignored.  See <a href="#g_t_002d_002dlevel_003d0">-level=0</a>, for details and examples.
</p>
<p>The use of this option is valid only in conjunction with the
<samp>`--listed-incremental'</samp> option.  See section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>,
for a detailed description.
</p>
<p><a name="g_t_002d_002dlisted_002dincremental"></a>
<a name="IDX105"></a>
</p></dd>
<dt> <samp>`--listed-incremental=<var>snapshot-file</var>'</samp></dt>
<dt> <samp>`-g <var>snapshot-file</var>'</samp></dt>
<dd>
<p>During a <samp>`--create'</samp> operation, specifies that the archive that
<code>tar</code> creates is a new <acronym>GNU</acronym>-format incremental
backup, using <var>snapshot-file</var> to determine which files to backup.
With other operations, informs <code>tar</code> that the archive is in
incremental format.  See section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>.
</p>
<p><a name="g_t_002d_002dlzip"></a>
<a name="IDX106"></a>
</p></dd>
<dt> <samp>`--lzip'</samp></dt>
<dd>
<p>This option tells <code>tar</code> to read or write archives through
<code>lzip</code>.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
<p><a name="g_t_002d_002dlzma"></a>
<a name="IDX107"></a>
</p></dd>
<dt> <samp>`--lzma'</samp></dt>
<dd>
<p>This option tells <code>tar</code> to read or write archives through
<code>lzma</code>.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
</dd>
<dt> <samp>`--lzop'</samp></dt>
<dd>
<p>This option tells <code>tar</code> to read or write archives through
<code>lzop</code>.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
<p><a name="g_t_002d_002dmode"></a>
<a name="IDX108"></a>
</p></dd>
<dt> <samp>`--mode=<var>permissions</var>'</samp></dt>
<dd>
<p>When adding files to an archive, <code>tar</code> will use
<var>permissions</var> for the archive members, rather than the permissions
from the files.  <var>permissions</var> can be specified either as an octal
number or as symbolic permissions, like with
<code>chmod</code>. See section <a href="#SEC69">Overriding File Metadata</a>.
</p>
<p><a name="g_t_002d_002dmtime"></a>
<a name="IDX109"></a>
</p></dd>
<dt> <samp>`--mtime=<var>date</var>'</samp></dt>
<dd>
<p>When adding files to an archive, <code>tar</code> will use <var>date</var> as
the modification time of members when creating archives, instead of
their actual modification times.  The value of <var>date</var> can be
either a textual date representation (see section <a href="#SEC121">Date input formats</a>) or a
name of the existing file, starting with <samp>`/'</samp> or <samp>`.'</samp>.  In the
latter case, the modification time of that file is used. See section <a href="#SEC69">Overriding File Metadata</a>.
</p>
<p>When <code>--clamp-mtime</code> is also specified, files with
modification times earlier than <var>date</var> will retain their actual
modification times, and <var>date</var> will only be used for files whose
modification times are later than <var>date</var>.
</p>
<p><a name="g_t_002d_002dmulti_002dvolume"></a>
<a name="IDX110"></a>
</p></dd>
<dt> <samp>`--multi-volume'</samp></dt>
<dt> <samp>`-M'</samp></dt>
<dd>
<p>Informs <code>tar</code> that it should create or otherwise operate on a
multi-volume <code>tar</code> archive.  See section <a href="#SEC164">Using Multiple Tapes</a>.
</p>
<a name="IDX111"></a>
</dd>
<dt> <samp>`--new-volume-script'</samp></dt>
<dd>
<p>(see <samp>`--info-script'</samp>)
</p>
<p><a name="g_t_002d_002dnewer"></a>
<a name="IDX112"></a>
</p></dd>
<dt> <samp>`--newer=<var>date</var>'</samp></dt>
<dt> <samp>`--after-date=<var>date</var>'</samp></dt>
<dt> <samp>`-N'</samp></dt>
<dd>
<p>When creating an archive, <code>tar</code> will only add files that have changed
since <var>date</var>.  If <var>date</var> begins with <samp>`/'</samp> or <samp>`.'</samp>, it
is taken to be the name of a file whose data modification time specifies
the date.  See section <a href="#SEC116">Operating Only on New Files</a>.
</p>
<p><a name="g_t_002d_002dnewer_002dmtime"></a>
<a name="IDX113"></a>
</p></dd>
<dt> <samp>`--newer-mtime=<var>date</var>'</samp></dt>
<dd>
<p>Like <samp>`--newer'</samp>, but add only files whose
contents have changed (as opposed to just <samp>`--newer'</samp>, which will
also back up files for which any status information has
changed).  See section <a href="#SEC116">Operating Only on New Files</a>.
</p>
<p><a name="g_t_002d_002dno_002dacls"></a>
<a name="IDX114"></a>
</p></dd>
<dt> <samp>`--no-acls'</samp></dt>
<dd><p>Disable the POSIX ACLs support.  See section <a href="#SEC70">acls</a>.
</p>
<p><a name="g_t_002d_002dno_002danchored"></a>
<a name="IDX115"></a>
</p></dd>
<dt> <samp>`--no-anchored'</samp></dt>
<dd><p>An exclude pattern can match any subsequence of the name's components.
See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
<p><a name="g_t_002d_002dno_002dauto_002dcompress"></a>
<a name="IDX116"></a>
</p></dd>
<dt> <samp>`--no-auto-compress'</samp></dt>
<dd>
<p>Disables automatic compressed format recognition based on the archive
suffix.  See <a href="#g_t_002d_002dauto_002dcompress">-auto-compress</a>.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
<p><a name="g_t_002d_002dno_002dcheck_002ddevice"></a>
<a name="IDX117"></a>
</p></dd>
<dt> <samp>`--no-check-device'</samp></dt>
<dd><p>Do not check device numbers when creating a list of modified files
for incremental archiving.  See <a href="#device-numbers">device numbers</a>, for
a detailed description.
</p>
<p><a name="g_t_002d_002dno_002ddelay_002ddirectory_002drestore"></a>
<a name="IDX118"></a>
</p></dd>
<dt> <samp>`--no-delay-directory-restore'</samp></dt>
<dd>
<p>Modification times and permissions of extracted
directories are set when all files from this directory have been
extracted.  This is the default.
See section <a href="#SEC85">Directory Modification Times and Permissions</a>.
</p>
<p><a name="g_t_002d_002dno_002dignore_002dcase"></a>
<a name="IDX119"></a>
</p></dd>
<dt> <samp>`--no-ignore-case'</samp></dt>
<dd><p>Use case-sensitive matching.
See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
<p><a name="g_t_002d_002dno_002dignore_002dcommand_002derror"></a>
<a name="IDX120"></a>
</p></dd>
<dt> <samp>`--no-ignore-command-error'</samp></dt>
<dd><p>Print warnings about subprocesses that terminated with a nonzero exit
code. See section <a href="#SEC87">Writing to an External Program</a>.
</p>
<p><a name="g_t_002d_002dno_002dnull"></a>
<a name="IDX121"></a>
</p></dd>
<dt> <samp>`--no-null'</samp></dt>
<dd>
<p>If the <samp>`--null'</samp> option was given previously, this option
cancels its effect, so that any following <samp>`--files-from'</samp>
options will expect their file lists to be newline-terminated.
</p>
<p><a name="g_t_002d_002dno_002doverwrite_002ddir"></a>
<a name="IDX122"></a>
</p></dd>
<dt> <samp>`--no-overwrite-dir'</samp></dt>
<dd>
<p>Preserve metadata of existing directories when extracting files
from an archive.  See section <a href="#SEC78">Overwrite Old Files</a>.
</p>
<p><a name="g_t_002d_002dno_002dquote_002dchars"></a>
<a name="IDX123"></a>
</p></dd>
<dt> <samp>`--no-quote-chars=<var>string</var>'</samp></dt>
<dd><p>Remove characters listed in <var>string</var> from the list of quoted
characters set by the previous <samp>`--quote-chars'</samp> option
(see section <a href="#SEC114">Quoting Member Names</a>).
</p>
<p><a name="g_t_002d_002dno_002drecursion"></a>
<a name="IDX124"></a>
</p></dd>
<dt> <samp>`--no-recursion'</samp></dt>
<dd>
<p>With this option, <code>tar</code> will not recurse into directories.
See section <a href="#SEC117">Descending into Directories</a>.
</p>
<p><a name="g_t_002d_002dno_002dsame_002downer"></a>
<a name="IDX125"></a>
</p></dd>
<dt> <samp>`--no-same-owner'</samp></dt>
<dt> <samp>`-o'</samp></dt>
<dd>
<p>When extracting an archive, do not attempt to preserve the owner
specified in the <code>tar</code> archive.  This the default behavior
for ordinary users.
</p>
<p><a name="g_t_002d_002dno_002dsame_002dpermissions"></a>
<a name="IDX126"></a>
</p></dd>
<dt> <samp>`--no-same-permissions'</samp></dt>
<dd>
<p>When extracting an archive, subtract the user's umask from files from
the permissions specified in the archive.  This is the default behavior
for ordinary users.
</p>
<p><a name="g_t_002d_002dno_002dseek"></a>
<a name="IDX127"></a>
</p></dd>
<dt> <samp>`--no-seek'</samp></dt>
<dd>
<p>The archive media does not support seeks to arbitrary
locations.  Usually <code>tar</code> determines automatically whether
the archive can be seeked or not.  Use this option to disable this
mechanism.
</p>
<p><a name="g_t_002d_002dno_002dselinux"></a>
<a name="IDX128"></a>
</p></dd>
<dt> <samp>`--no-selinux'</samp></dt>
<dd><p>Disable SELinux context support.  See section <a href="#SEC70">SELinux</a>.
</p>
<p><a name="g_t_002d_002dno_002dunquote"></a>
<a name="IDX129"></a>
</p></dd>
<dt> <samp>`--no-unquote'</samp></dt>
<dd><p>Treat all input file or member names literally, do not interpret
escape sequences.  See <a href="#input-name-quoting">input name quoting</a>.
</p>
<p><a name="g_t_002d_002dno_002dverbatim_002dfiles_002dfrom"></a>
<a name="IDX130"></a>
</p></dd>
<dt> <samp>`--no-verbatim-files-from'</samp></dt>
<dd>
<p>Instructs <acronym>GNU</acronym> <code>tar</code> to treat each line read from a file list as if it
were supplied in the command line.  I.e., leading and trailing
whitespace is removed and, if the result begins with a dash, it is
treated as a <acronym>GNU</acronym> <code>tar</code> command line option.
</p>
<p>This is default behavior.  This option is provided as a way to restore
it after <samp>`--verbatim-files-from'</samp> option.
</p>
<p>It is implied by the <samp>`--no-null'</samp> option.
</p>
<p>See <a href="#no_002dverbatim_002dfiles_002dfrom">no-verbatim-files-from</a>.
</p>
<p><a name="g_t_002d_002dno_002dwildcards"></a>
<a name="IDX131"></a>
</p></dd>
<dt> <samp>`--no-wildcards'</samp></dt>
<dd><p>Do not use wildcards.
See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
<p><a name="g_t_002d_002dno_002dwildcards_002dmatch_002dslash"></a>
<a name="IDX132"></a>
</p></dd>
<dt> <samp>`--no-wildcards-match-slash'</samp></dt>
<dd><p>Wildcards do not match <samp>`/'</samp>.
See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
<p><a name="g_t_002d_002dno_002dxattrs"></a>
<a name="IDX133"></a>
</p></dd>
<dt> <samp>`--no-xattrs'</samp></dt>
<dd><p>Disable extended attributes support.  See section <a href="#SEC70">xattrs</a>.
</p>
<p><a name="g_t_002d_002dnull"></a>
<a name="IDX134"></a>
</p></dd>
<dt> <samp>`--null'</samp></dt>
<dd>
<p>When <code>tar</code> is using the <samp>`--files-from'</samp> option, this option
instructs <code>tar</code> to expect file names terminated with
<acronym>NUL</acronym>, and to process file names verbatim.
</p>
<p>This means that <code>tar</code> correctly works with file names that
contain newlines or begin with a dash.
</p>
<p>See section <a href="#SEC109"><code>NUL</code>-Terminated File Names</a>.
</p>
<p>See also <a href="#verbatim_002dfiles_002dfrom">verbatim-files-from</a>.
</p>
<p><a name="g_t_002d_002dnumeric_002downer"></a>
<a name="IDX135"></a>
</p></dd>
<dt> <samp>`--numeric-owner'</samp></dt>
<dd>
<p>This option will notify <code>tar</code> that it should use numeric user
and group IDs when creating a <code>tar</code> file, rather than names.
See section <a href="#SEC138">Handling File Attributes</a>.
</p>
</dd>
<dt> <samp>`-o'</samp></dt>
<dd><p>The function of this option depends on the action <code>tar</code> is
performing.  When extracting files, <samp>`-o'</samp> is a synonym for
<samp>`--no-same-owner'</samp>, i.e., it prevents <code>tar</code> from
restoring ownership of files being extracted.
</p>
<p>When creating an archive, it is a synonym for
<samp>`--old-archive'</samp>.  This behavior is for compatibility
with previous versions of <acronym>GNU</acronym> <code>tar</code>, and will be
removed in future releases.
</p>
<p>See section <a href="#SEC181">Changes</a>, for more information.
</p>
<p><a name="g_t_002d_002doccurrence"></a>
<a name="IDX136"></a>
</p></dd>
<dt> <samp>`--occurrence[=<var>number</var>]'</samp></dt>
<dd>
<p>This option can be used in conjunction with one of the subcommands
<samp>`--delete'</samp>, <samp>`--diff'</samp>, <samp>`--extract'</samp> or
<samp>`--list'</samp> when a list of files is given either on the command
line or via <samp>`-T'</samp> option.
</p>
<p>This option instructs <code>tar</code> to process only the <var>number</var>th
occurrence of each named file.  <var>Number</var> defaults to 1, so
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar -x -f archive.tar --occurrence filename
</pre></td></tr></table>

<p>will extract the first occurrence of the member <tt>`filename'</tt> from <tt>`archive.tar'</tt>
and will terminate without scanning to the end of the archive.
</p>
<p><a name="g_t_002d_002dold_002darchive"></a>
<a name="IDX137"></a>
</p></dd>
<dt> <samp>`--old-archive'</samp></dt>
<dd><p>Synonym for <samp>`--format=v7'</samp>.
</p>
<p><a name="g_t_002d_002done_002dfile_002dsystem"></a>
<a name="IDX138"></a>
</p></dd>
<dt> <samp>`--one-file-system'</samp></dt>
<dd><p>Used when creating an archive.  Prevents <code>tar</code> from recursing into
directories that are on different file systems from the current
directory.
</p>
<p><a name="g_t_002d_002done_002dtop_002dlevel"></a>
<a name="IDX139"></a>
</p></dd>
<dt> <samp>`--one-top-level[=<var>dir</var>]'</samp></dt>
<dd><p>Tells <code>tar</code> to create a new directory beneath the extraction directory
(or the one passed to <samp>`-C'</samp>) and use it to guard against
tarbombs.  In the absence of <var>dir</var> argument, the name of the new directory
will be equal to the base name of the archive (file name minus the
archive suffix, if recognized).  Any member names that do not begin
with that directory name (after
transformations from <samp>`--transform'</samp> and
<samp>`--strip-components'</samp>) will be prefixed with it.  Recognized
file name suffixes are <samp>`.tar'</samp>, and any compression suffixes
recognizable by See <a href="#g_t_002d_002dauto_002dcompress">-auto-compress</a>.
</p>
<p><a name="g_t_002d_002doverwrite"></a>
<a name="IDX140"></a>
</p></dd>
<dt> <samp>`--overwrite'</samp></dt>
<dd>
<p>Overwrite existing files and directory metadata when extracting files
from an archive.  See section <a href="#SEC78">Overwrite Old Files</a>.
</p>
<p><a name="g_t_002d_002doverwrite_002ddir"></a>
<a name="IDX141"></a>
</p></dd>
<dt> <samp>`--overwrite-dir'</samp></dt>
<dd>
<p>Overwrite the metadata of existing directories when extracting files
from an archive.  See section <a href="#SEC78">Overwrite Old Files</a>.
</p>
<p><a name="g_t_002d_002downer"></a>
<a name="IDX142"></a>
</p></dd>
<dt> <samp>`--owner=<var>user</var>'</samp></dt>
<dd>
<p>Specifies that <code>tar</code> should use <var>user</var> as the owner of members
when creating archives, instead of the user associated with the source
file.  <var>user</var> can specify a symbolic name, or a numeric
<acronym>ID</acronym>, or both as <var>name</var>:<var>id</var>.
See section <a href="#SEC69">Overriding File Metadata</a>.
</p>
<p>This option does not affect extraction from archives.  See also
<samp>`--owner-map'</samp>, below.
</p>
<p><a name="g_t_002d_002downer_002dmap"></a>
<a name="IDX143"></a>
</p></dd>
<dt> <samp>`--owner-map=<var>file</var>'</samp></dt>
<dd>
<p>Read owner translation map from <var>file</var>.  This option allows to
translate only certain owner names or UIDs.  See section <a href="#SEC69">Overriding File Metadata</a>, for a
detailed description.  When used together with <samp>`--owner'</samp>
option, the latter affects only those files whose owner is not listed
in the <var>file</var>.
</p>
<p>This option does not affect extraction from archives.
</p>
<p><a name="g_t_002d_002dpax_002doption"></a>
<a name="IDX144"></a>
</p></dd>
<dt> <samp>`--pax-option=<var>keyword-list</var>'</samp></dt>
<dd><p>This option enables creation of the archive in <acronym>POSIX.1-2001</acronym>
format (see section <a href="#SEC146"><acronym>GNU</acronym> <code>tar</code> and <acronym>POSIX</acronym> <code>tar</code></a>) and modifies the way <code>tar</code> handles the
extended header keywords.  <var>Keyword-list</var> is a comma-separated
list of keyword options.  See section <a href="#SEC147">Controlling Extended Header Keywords</a>, for a detailed
discussion.
</p>
<p><a name="g_t_002d_002dportability"></a>
<a name="IDX145"></a>
</p></dd>
<dt> <samp>`--portability'</samp></dt>
<dt> <samp>`--old-archive'</samp></dt>
<dd><p>Synonym for <samp>`--format=v7'</samp>.
</p>
<p><a name="g_t_002d_002dposix"></a>
<a name="IDX146"></a>
</p></dd>
<dt> <samp>`--posix'</samp></dt>
<dd><p>Same as <samp>`--format=posix'</samp>.
</p>
<p><a name="g_t_002d_002dpreserve_002dorder"></a>
<a name="IDX147"></a>
</p></dd>
<dt> <samp>`--preserve-order'</samp></dt>
<dd>
<p>(See <samp>`--same-order'</samp>; see section <a href="#SEC73">Options to Help Read Archives</a>.)
</p>
<p><a name="g_t_002d_002dpreserve_002dpermissions"></a>
<a name="IDX148"></a>
<a name="g_t_002d_002dsame_002dpermissions"></a>
<a name="IDX149"></a>
</p></dd>
<dt> <samp>`--preserve-permissions'</samp></dt>
<dt> <samp>`--same-permissions'</samp></dt>
<dt> <samp>`-p'</samp></dt>
<dd>
<p>When <code>tar</code> is extracting an archive, it normally subtracts the
users' umask from the permissions specified in the archive and uses
that number as the permissions to create the destination file.
Specifying this option instructs <code>tar</code> that it should use the
permissions directly from the archive.  See section <a href="#SEC84">Setting Access Permissions</a>.
</p>
<p><a name="g_t_002d_002dquote_002dchars"></a>
<a name="IDX150"></a>
</p></dd>
<dt> <samp>`--quote-chars=<var>string</var>'</samp></dt>
<dd><p>Always quote characters from <var>string</var>, even if the selected
quoting style would not quote them (see section <a href="#SEC114">Quoting Member Names</a>).
</p>
<p><a name="g_t_002d_002dquoting_002dstyle"></a>
<a name="IDX151"></a>
</p></dd>
<dt> <samp>`--quoting-style=<var>style</var>'</samp></dt>
<dd><p>Set quoting style to use when printing member and file names
(see section <a href="#SEC114">Quoting Member Names</a>). Valid <var>style</var> values are:
<code>literal</code>, <code>shell</code>, <code>shell-always</code>, <code>c</code>,
<code>escape</code>, <code>locale</code>, and <code>clocale</code>. Default quoting
style is <code>escape</code>, unless overridden while configuring the
package.
</p>
<p><a name="g_t_002d_002dread_002dfull_002drecords"></a>
<a name="IDX152"></a>
</p></dd>
<dt> <samp>`--read-full-records'</samp></dt>
<dt> <samp>`-B'</samp></dt>
<dd>
<p>Specifies that <code>tar</code> should reblock its input, for reading
from pipes on systems with buggy implementations.  See section <a href="#SEC73">Options to Help Read Archives</a>.
</p>
<p><a name="g_t_002d_002drecord_002dsize"></a>
<a name="IDX153"></a>
</p></dd>
<dt> <samp>`--record-size=<var>size</var>[<var>suf</var>]'</samp></dt>
<dd>
<p>Instructs <code>tar</code> to use <var>size</var> bytes per record when accessing the
archive.  The argument can be suffixed with a <em>size suffix</em>, e.g.
<samp>`--record-size=10K'</samp> for 10 Kilobytes.  See <a href="#size_002dsuffixes">size-suffixes</a>,
for a list of valid suffixes.   See section <a href="#SEC160">The Blocking Factor of an Archive</a>, for a detailed
description of this option.
</p>
<p><a name="g_t_002d_002drecursion"></a>
<a name="IDX154"></a>
</p></dd>
<dt> <samp>`--recursion'</samp></dt>
<dd>
<p>With this option, <code>tar</code> recurses into directories (default).
See section <a href="#SEC117">Descending into Directories</a>.
</p>
<p><a name="g_t_002d_002drecursive_002dunlink"></a>
<a name="IDX155"></a>
</p></dd>
<dt> <samp>`--recursive-unlink'</samp></dt>
<dd>
<p>Remove existing
directory hierarchies before extracting directories of the same name
from the archive.  See section <a href="#SEC82">Recursive Unlink</a>.
</p>
<p><a name="g_t_002d_002dremove_002dfiles"></a>
<a name="IDX156"></a>
</p></dd>
<dt> <samp>`--remove-files'</samp></dt>
<dd>
<p>Directs <code>tar</code> to remove the source file from the file system after
appending it to an archive.  See section <a href="#SEC88">Removing Files</a>.
</p>
<p><a name="g_t_002d_002drestrict"></a>
<a name="IDX157"></a>
</p></dd>
<dt> <samp>`--restrict'</samp></dt>
<dd>
<p>Disable use of some potentially harmful <code>tar</code> options.
Currently this option disables shell invocation from multi-volume menu
(see section <a href="#SEC164">Using Multiple Tapes</a>).
</p>
<p><a name="g_t_002d_002drmt_002dcommand"></a>
<a name="IDX158"></a>
</p></dd>
<dt> <samp>`--rmt-command=<var>cmd</var>'</samp></dt>
<dd>
<p>Notifies <code>tar</code> that it should use <var>cmd</var> instead of
the default <tt>`/usr/libexec/rmt'</tt> (see section <a href="#SEC156">Remote Tape Server</a>).
</p>
<p><a name="g_t_002d_002drsh_002dcommand"></a>
<a name="IDX159"></a>
</p></dd>
<dt> <samp>`--rsh-command=<var>cmd</var>'</samp></dt>
<dd>
<p>Notifies <code>tar</code> that is should use <var>cmd</var> to communicate with remote
devices.  See section <a href="#SEC155">Device Selection and Switching</a>.
</p>
<p><a name="g_t_002d_002dsame_002dorder"></a>
<a name="IDX160"></a>
</p></dd>
<dt> <samp>`--same-order'</samp></dt>
<dt> <samp>`--preserve-order'</samp></dt>
<dt> <samp>`-s'</samp></dt>
<dd>
<p>This option is an optimization for <code>tar</code> when running on machines with
small amounts of memory.  It informs <code>tar</code> that the list of file
arguments has already been sorted to match the order of files in the
archive.  See section <a href="#SEC73">Options to Help Read Archives</a>.
</p>
<p><a name="g_t_002d_002dsame_002downer"></a>
<a name="IDX161"></a>
</p></dd>
<dt> <samp>`--same-owner'</samp></dt>
<dd>
<p>When extracting an archive, <code>tar</code> will attempt to preserve the owner
specified in the <code>tar</code> archive with this option present.
This is the default behavior for the superuser; this option has an
effect only for ordinary users.  See section <a href="#SEC138">Handling File Attributes</a>.
</p>
<a name="IDX162"></a>
</dd>
<dt> <samp>`--same-permissions'</samp></dt>
<dd>
<p>(See <samp>`--preserve-permissions'</samp>; see section <a href="#SEC84">Setting Access Permissions</a>.)
</p>
<p><a name="g_t_002d_002dseek"></a>
<a name="IDX163"></a>
</p></dd>
<dt> <samp>`--seek'</samp></dt>
<dt> <samp>`-n'</samp></dt>
<dd>
<p>Assume that the archive media supports seeks to arbitrary
locations.  Usually <code>tar</code> determines automatically whether
the archive can be seeked or not.  This option is intended for use
in cases when such recognition fails.  It takes effect only if the
archive is open for reading (e.g. with <samp>`--list'</samp> or
<samp>`--extract'</samp> options).
</p>
<p><a name="g_t_002d_002dselinux"></a>
<a name="IDX164"></a>
</p></dd>
<dt> <samp>`--selinux'</samp></dt>
<dd><p>Enable the SELinux context support.
See section <a href="#SEC70">selinux</a>.
</p>
<p><a name="g_t_002d_002dshow_002ddefaults"></a>
<a name="IDX165"></a>
</p></dd>
<dt> <samp>`--show-defaults'</samp></dt>
<dd>
<p>Displays the default options used by <code>tar</code> and exits
successfully.  This option is intended for use in shell scripts.
Here is an example of what you can see using this option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --show-defaults</kbd>
--format=gnu -f- -b20 --quoting-style=escape
--rmt-command=/usr/libexec/rmt --rsh-command=/usr/bin/rsh
</pre></td></tr></table>

<p>Notice, that this option outputs only one line.  The example output
above has been split to fit page boundaries. See section <a href="#SEC46">Obtaining <acronym>GNU</acronym> <code>tar</code> default values</a>.
</p>
<p><a name="g_t_002d_002dshow_002domitted_002ddirs"></a>
<a name="IDX166"></a>
</p></dd>
<dt> <samp>`--show-omitted-dirs'</samp></dt>
<dd>
<p>Instructs <code>tar</code> to mention the directories it is skipping when
operating on a <code>tar</code> archive.  See <a href="#show_002domitted_002ddirs">show-omitted-dirs</a>.
</p>
<p><a name="g_t_002d_002dshow_002dsnapshot_002dfield_002dranges"></a>
<a name="IDX167"></a>
</p></dd>
<dt> <samp>`--show-snapshot-field-ranges'</samp></dt>
<dd>
<p>Displays the range of values allowed by this version of <code>tar</code>
for each field in the snapshot file, then exits successfully.
See section <a href="#SEC194">Format of the Incremental Snapshot Files</a>.
</p>
<p><a name="g_t_002d_002dshow_002dtransformed_002dnames"></a>
<a name="IDX168"></a>
<a name="g_t_002d_002dshow_002dstored_002dnames"></a>
<a name="IDX169"></a>
</p></dd>
<dt> <samp>`--show-transformed-names'</samp></dt>
<dt> <samp>`--show-stored-names'</samp></dt>
<dd>
<p>Display file or member names after applying any transformations
(see section <a href="#SEC115">Modifying File and Member Names</a>).  In particular, when used in conjunction with one of
the archive creation operations it instructs <code>tar</code> to list the
member names stored in the archive, as opposed to the actual file
names.  See <a href="#listing-member-and-file-names">listing member and file names</a>.
</p>
<p><a name="g_t_002d_002dskip_002dold_002dfiles"></a>
<a name="IDX170"></a>
</p></dd>
<dt> <samp>`--skip-old-files'</samp></dt>
<dd>
<p>Do not overwrite existing files when extracting files from an
archive.  See section <a href="#SEC79">Keep Old Files</a>.
</p>
<p>This option differs from <samp>`--keep-old-files'</samp> in that it does not
treat such files as an error, instead it just silently avoids
overwriting them.
</p>
<p>The <samp>`--warning=existing-file'</samp> option can be used together with
this option to produce warning messages about existing old files
(see section <a href="#SEC49">Controlling Warning Messages</a>).
</p>
<p><a name="g_t_002d_002dsort"></a>
<a name="IDX171"></a>
</p></dd>
<dt> <samp>`--sort=<var>order</var>'</samp></dt>
<dd><p>Specify the directory sorting order when reading directories.
<var>Order</var> may be one of the following:
</p>
<dl compact="compact">
<dt> <samp>`none'</samp></dt>
<dd><p>No directory sorting is performed. This is the default.
</p>
</dd>
<dt> <samp>`name'</samp></dt>
<dd><p>Sort the directory entries on name. The operating system may deliver
directory entries in a more or less random order, and sorting them
makes archive creation reproducible.
</p>
</dd>
<dt> <samp>`inode'</samp></dt>
<dd><p>Sort the directory entries on inode number. Sorting directories on
inode number may reduce the amount of disk seek operations when
creating an archive for some file systems.
</p>
</dd>
</dl>

<p><a name="g_t_002d_002dsparse"></a>
<a name="IDX172"></a>
</p></dd>
<dt> <samp>`--sparse'</samp></dt>
<dt> <samp>`-S'</samp></dt>
<dd>
<p>Invokes a <acronym>GNU</acronym> extension when adding files to an archive that handles
sparse files efficiently.  See section <a href="#SEC137">Archiving Sparse Files</a>.
</p>
<p><a name="g_t_002d_002dsparse_002dversion"></a>
<a name="IDX173"></a>
</p></dd>
<dt> <samp>`--sparse-version=<var>version</var>'</samp></dt>
<dd>
<p>Specifies the <em>format version</em> to use when archiving sparse
files.  Implies <samp>`--sparse'</samp>.  See section <a href="#SEC137">Archiving Sparse Files</a>. For the description
of the supported sparse formats, See section <a href="#SEC190">Storing Sparse Files</a>.
</p>
<p><a name="g_t_002d_002dstarting_002dfile"></a>
<a name="IDX174"></a>
</p></dd>
<dt> <samp>`--starting-file=<var>name</var>'</samp></dt>
<dt> <samp>`-K <var>name</var>'</samp></dt>
<dd>
<p>This option affects extraction only; <code>tar</code> will skip extracting
files in the archive until it finds one that matches <var>name</var>.
See section <a href="#SEC89">Coping with Scarce Resources</a>.
</p>
<p><a name="g_t_002d_002dstrip_002dcomponents"></a>
<a name="IDX175"></a>
</p></dd>
<dt> <samp>`--strip-components=<var>number</var>'</samp></dt>
<dd><p>Strip given <var>number</var> of leading components from file names before
extraction.  For example, if archive <tt>`archive.tar'</tt> contained
<tt>`/some/file/name'</tt>, then running
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar --extract --file archive.tar --strip-components=2
</pre></td></tr></table>

<p>would extract this file to file <tt>`name'</tt>.
</p>
<p>See section <a href="#SEC115">Modifying File and Member Names</a>.
</p>
<p><a name="g_t_002d_002dsuffix"></a>
<a name="IDX176"></a>
</p></dd>
<dt> <samp>`--suffix=<var>suffix</var>'</samp></dt>
<dd>
<p>Alters the suffix <code>tar</code> uses when backing up files from the default
<samp>`~'</samp>.  See section <a href="#SEC92">Backup options</a>.
</p>
<p><a name="g_t_002d_002dtape_002dlength"></a>
<a name="IDX177"></a>
</p></dd>
<dt> <samp>`--tape-length=<var>num</var>[<var>suf</var>]'</samp></dt>
<dt> <samp>`-L <var>num</var>[<var>suf</var>]'</samp></dt>
<dd>
<p>Specifies the length of tapes that <code>tar</code> is writing as being
<var>num</var> x 1024 bytes long.  If optional <var>suf</var> is given, it
specifies a multiplicative factor to be used instead of 1024.  For
example, <samp>`-L2M'</samp> means 2 megabytes.  See <a href="#size_002dsuffixes">size-suffixes</a>, for a
list of allowed suffixes.  See section <a href="#SEC164">Using Multiple Tapes</a>, for a detailed
discussion of this option.
</p>
<p><a name="g_t_002d_002dtest_002dlabel"></a>
<a name="IDX178"></a>
</p></dd>
<dt> <samp>`--test-label'</samp></dt>
<dd>
<p>Reads the volume label.  If an argument is specified, test whether it
matches the volume label.  See <a href="#g_t_002d_002dtest_002dlabel-option">-test-label option</a>.
</p>
<p><a name="g_t_002d_002dto_002dcommand"></a>
<a name="IDX179"></a>
</p></dd>
<dt> <samp>`--to-command=<var>command</var>'</samp></dt>
<dd>
<p>During extraction <code>tar</code> will pipe extracted files to the
standard input of <var>command</var>.  See section <a href="#SEC87">Writing to an External Program</a>.
</p>
<p><a name="g_t_002d_002dto_002dstdout"></a>
<a name="IDX180"></a>
</p></dd>
<dt> <samp>`--to-stdout'</samp></dt>
<dt> <samp>`-O'</samp></dt>
<dd>
<p>During extraction, <code>tar</code> will extract files to stdout rather
than to the file system.  See section <a href="#SEC86">Writing to Standard Output</a>.
</p>
<p><a name="g_t_002d_002dtotals"></a>
<a name="IDX181"></a>
</p></dd>
<dt> <samp>`--totals[=<var>signo</var>]'</samp></dt>
<dd>
<p>Displays the total number of bytes transferred when processing an
archive.  If an argument is given, these data are displayed on
request, when signal <var>signo</var> is delivered to <code>tar</code>.
See <a href="#totals">totals</a>.
</p>
<p><a name="g_t_002d_002dtouch"></a>
<a name="IDX182"></a>
</p></dd>
<dt> <samp>`--touch'</samp></dt>
<dt> <samp>`-m'</samp></dt>
<dd>
<p>Sets the data modification time of extracted files to the extraction time,
rather than the data modification time stored in the archive.
See section <a href="#SEC83">Setting Data Modification Times</a>.
</p>
<p><a name="g_t_002d_002dtransform"></a>
<a name="IDX183"></a>
<a name="g_t_002d_002dxform"></a>
<a name="IDX184"></a>
</p></dd>
<dt> <samp>`--transform=<var>sed-expr</var>'</samp></dt>
<dt> <samp>`--xform=<var>sed-expr</var>'</samp></dt>
<dd><p>Transform file or member names using <code>sed</code> replacement expression
<var>sed-expr</var>.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar cf archive.tar --transform 's,^\./,usr/,' .</kbd>
</pre></td></tr></table>

<p>will add to <tt>`archive'</tt> files from the current working directory,
replacing initial <samp>`./'</samp> prefix with <samp>`usr/'</samp>. For the detailed
discussion, See section <a href="#SEC115">Modifying File and Member Names</a>.
</p>
<p>To see transformed member names in verbose listings, use
<samp>`--show-transformed-names'</samp> option
(see <a href="#show_002dtransformed_002dnames">show-transformed-names</a>).
</p>
<a name="IDX185"></a>
</dd>
<dt> <samp>`--uncompress'</samp></dt>
<dd>
<p>(See <samp>`--compress'</samp>, see section <a href="#SEC135">Creating and Reading Compressed Archives</a>)
</p>
<a name="IDX186"></a>
</dd>
<dt> <samp>`--ungzip'</samp></dt>
<dd>
<p>(See <samp>`--gzip'</samp>, see section <a href="#SEC135">Creating and Reading Compressed Archives</a>)
</p>
<p><a name="g_t_002d_002dunlink_002dfirst"></a>
<a name="IDX187"></a>
</p></dd>
<dt> <samp>`--unlink-first'</samp></dt>
<dt> <samp>`-U'</samp></dt>
<dd>
<p>Directs <code>tar</code> to remove the corresponding file from the file
system before extracting it from the archive.  See section <a href="#SEC81">Unlink First</a>.
</p>
<p><a name="g_t_002d_002dunquote"></a>
<a name="IDX188"></a>
</p></dd>
<dt> <samp>`--unquote'</samp></dt>
<dd><p>Enable unquoting input file or member names (default).  See <a href="#input-name-quoting">input name quoting</a>.
</p>
<p><a name="g_t_002d_002duse_002dcompress_002dprogram"></a>
<a name="IDX189"></a>
</p></dd>
<dt> <samp>`--use-compress-program=<var>prog</var>'</samp></dt>
<dt> <samp>`-I=<var>prog</var>'</samp></dt>
<dd>
<p>Instructs <code>tar</code> to access the archive through <var>prog</var>, which is
presumed to be a compression program of some sort.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
<p><a name="g_t_002d_002dutc"></a>
<a name="IDX190"></a>
</p></dd>
<dt> <samp>`--utc'</samp></dt>
<dd>
<p>Display file modification dates in <acronym>UTC</acronym>.  This option implies
<samp>`--verbose'</samp>.
</p>
<p><a name="g_t_002d_002dverbatim_002dfiles_002dfrom"></a>
<a name="IDX191"></a>
</p></dd>
<dt> <samp>`--verbatim-files-from'</samp></dt>
<dd>
<p>Instructs <acronym>GNU</acronym> <code>tar</code> to treat each line read from a file list as a file
name, even if it starts with a dash.
</p>
<p>File lists are supplied with the <samp>`--files-from'</samp> (<samp>`-T'</samp>)
option.  By default, each line read from a file list is first trimmed
off the leading and trailing whitespace and, if the result begins with
a dash, it is treated as a <acronym>GNU</acronym> <code>tar</code> command line option.
</p>
<p>Use the <samp>`--verbatim-files-from'</samp> option to disable this special
handling.  This facilitates the use of <code>tar</code> with file lists
created by <code>file</code> command.
</p>
<p>This option affects all <samp>`--files-from'</samp> options that occur after
it in the command line.  Its effect is reverted by the
<samp>`--no-verbatim-files-from'</samp> option.
</p>
<p>This option is implied by the <samp>`--null'</samp> option.
</p>
<p>See <a href="#verbatim_002dfiles_002dfrom">verbatim-files-from</a>.
</p>
<p><a name="g_t_002d_002dverbose"></a>
<a name="IDX192"></a>
</p></dd>
<dt> <samp>`--verbose'</samp></dt>
<dt> <samp>`-v'</samp></dt>
<dd>
<p>Specifies that <code>tar</code> should be more verbose about the
operations it is performing.  This option can be specified multiple
times for some operations to increase the amount of information displayed.
See section <a href="#SEC47">Checking <code>tar</code> progress</a>.
</p>
<p><a name="g_t_002d_002dverify"></a>
<a name="IDX193"></a>
</p></dd>
<dt> <samp>`--verify'</samp></dt>
<dt> <samp>`-W'</samp></dt>
<dd>
<p>Verifies that the archive was correctly written when creating an
archive.  See section <a href="#SEC169">Verifying Data as It is Stored</a>.
</p>
<p><a name="g_t_002d_002dversion"></a>
<a name="IDX194"></a>
</p></dd>
<dt> <samp>`--version'</samp></dt>
<dd>
<p>Print information about the program's name, version, origin and legal
status, all on standard output, and then exit successfully.
See section <a href="#SEC45"><acronym>GNU</acronym> <code>tar</code> documentation</a>.
</p>
<p><a name="g_t_002d_002dvolno_002dfile"></a>
<a name="IDX195"></a>
</p></dd>
<dt> <samp>`--volno-file=<var>file</var>'</samp></dt>
<dd>
<p>Used in conjunction with <samp>`--multi-volume'</samp>.  <code>tar</code> will
keep track of which volume of a multi-volume archive it is working in
<var>file</var>.  See <a href="#volno_002dfile">volno-file</a>.
</p>
<p><a name="g_t_002d_002dwarning"></a>
<a name="IDX196"></a>
</p></dd>
<dt> <samp>`--warning=<var>keyword</var>'</samp></dt>
<dd>
<p>Enable or disable warning messages identified by <var>keyword</var>.  The
messages are suppressed if <var>keyword</var> is prefixed with <samp>`no-'</samp>.
See section <a href="#SEC49">Controlling Warning Messages</a>.
</p>
<p><a name="g_t_002d_002dwildcards"></a>
<a name="IDX197"></a>
</p></dd>
<dt> <samp>`--wildcards'</samp></dt>
<dd><p>Use wildcards when matching member names with patterns.
See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
<p><a name="g_t_002d_002dwildcards_002dmatch_002dslash"></a>
<a name="IDX198"></a>
</p></dd>
<dt> <samp>`--wildcards-match-slash'</samp></dt>
<dd><p>Wildcards match <samp>`/'</samp>.
See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
<p><a name="g_t_002d_002dxattrs"></a>
<a name="IDX199"></a>
</p></dd>
<dt> <samp>`--xattrs'</samp></dt>
<dd><p>Enable extended attributes support.  See section <a href="#SEC70">xattrs</a>.
</p>
<p><a name="g_t_002d_002dxattrs_002dexclude"></a>
<a name="IDX200"></a>
</p></dd>
<dt> <samp>`--xattrs-exclude=<var>pattern</var>'</samp></dt>
<dd><p>Specify exclude pattern for xattr keys.
See section <a href="#SEC70">xattrs-exclude</a>.
</p>
<p><a name="g_t_002d_002dxattrs_002dinclude"></a>
<a name="IDX201"></a>
</p></dd>
<dt> <samp>`--xattrs-include=<var>pattern</var>.'</samp></dt>
<dd><p>Specify include pattern for xattr keys.  <var>pattern</var> is a globbing
pattern, e.g. <samp>`--xattrs-include='user.*''</samp> to include
only attributes from the user namespace.
See section <a href="#SEC70">xattrs-include</a>.
</p>
<p><a name="g_t_002d_002dxz"></a>
<a name="IDX202"></a>
</p></dd>
<dt> <samp>`--xz'</samp></dt>
<dt> <samp>`-J'</samp></dt>
<dd><p>Use <code>xz</code> for compressing or decompressing the archives.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
</dd>
<dt> <samp>`--zstd'</samp></dt>
<dd><p>Use <code>zstd</code> for compressing or decompressing the archives.  See section <a href="#SEC135">Creating and Reading Compressed Archives</a>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Short-Option-Summary"></a>
<a name="SEC43"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC42" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC44" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC40" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.4.3 Short Options Cross Reference </h3>

<p>Here is an alphabetized list of all of the short option forms, matching
them with the equivalent long option.
</p>
<table>
<thead><tr><th><p> Short Option  </p></th><th><p> Reference
</p>
</th></tr></thead>
<tr><td><p> -A </p></td><td><p> <a href="#g_t_002d_002dconcatenate">-concatenate</a>.
</p>
</td></tr>
<tr><td><p> -B </p></td><td><p> <a href="#g_t_002d_002dread_002dfull_002drecords">-read-full-records</a>.
</p>
</td></tr>
<tr><td><p> -C </p></td><td><p> <a href="#g_t_002d_002ddirectory">-directory</a>.
</p>
</td></tr>
<tr><td><p> -F </p></td><td><p> <a href="#g_t_002d_002dinfo_002dscript">-info-script</a>.
</p>
</td></tr>
<tr><td><p> -G </p></td><td><p> <a href="#g_t_002d_002dincremental">-incremental</a>.
</p>
</td></tr>
<tr><td><p> -J </p></td><td><p> <a href="#g_t_002d_002dxz">-xz</a>.
</p>
</td></tr>
<tr><td><p> -K </p></td><td><p> <a href="#g_t_002d_002dstarting_002dfile">-starting-file</a>.
</p>
</td></tr>
<tr><td><p> -L </p></td><td><p> <a href="#g_t_002d_002dtape_002dlength">-tape-length</a>.
</p>
</td></tr>
<tr><td><p> -M </p></td><td><p> <a href="#g_t_002d_002dmulti_002dvolume">-multi-volume</a>.
</p>
</td></tr>
<tr><td><p> -N </p></td><td><p> <a href="#g_t_002d_002dnewer">-newer</a>.
</p>
</td></tr>
<tr><td><p> -O </p></td><td><p> <a href="#g_t_002d_002dto_002dstdout">-to-stdout</a>.
</p>
</td></tr>
<tr><td><p> -P </p></td><td><p> <a href="#g_t_002d_002dabsolute_002dnames">-absolute-names</a>.
</p>
</td></tr>
<tr><td><p> -R </p></td><td><p> <a href="#g_t_002d_002dblock_002dnumber">-block-number</a>.
</p>
</td></tr>
<tr><td><p> -S </p></td><td><p> <a href="#g_t_002d_002dsparse">-sparse</a>.
</p>
</td></tr>
<tr><td><p> -T </p></td><td><p> <a href="#g_t_002d_002dfiles_002dfrom">-files-from</a>.
</p>
</td></tr>
<tr><td><p> -U </p></td><td><p> <a href="#g_t_002d_002dunlink_002dfirst">-unlink-first</a>.
</p>
</td></tr>
<tr><td><p> -V </p></td><td><p> <a href="#g_t_002d_002dlabel">-label</a>.
</p>
</td></tr>
<tr><td><p> -W </p></td><td><p> <a href="#g_t_002d_002dverify">-verify</a>.
</p>
</td></tr>
<tr><td><p> -X </p></td><td><p> <a href="#g_t_002d_002dexclude_002dfrom">-exclude-from</a>.
</p>
</td></tr>
<tr><td><p> -Z </p></td><td><p> <a href="#g_t_002d_002dcompress">-compress</a>.
</p>
</td></tr>
<tr><td><p> -b </p></td><td><p> <a href="#g_t_002d_002dblocking_002dfactor">-blocking-factor</a>.
</p>
</td></tr>
<tr><td><p> -c </p></td><td><p> <a href="#g_t_002d_002dcreate">-create</a>.
</p>
</td></tr>
<tr><td><p> -d </p></td><td><p> <a href="#g_t_002d_002dcompare">-compare</a>.
</p>
</td></tr>
<tr><td><p> -f </p></td><td><p> <a href="#g_t_002d_002dfile">-file</a>.
</p>
</td></tr>
<tr><td><p> -g </p></td><td><p> <a href="#g_t_002d_002dlisted_002dincremental">-listed-incremental</a>.
</p>
</td></tr>
<tr><td><p> -h </p></td><td><p> <a href="#g_t_002d_002ddereference">-dereference</a>.
</p>
</td></tr>
<tr><td><p> -i </p></td><td><p> <a href="#g_t_002d_002dignore_002dzeros">-ignore-zeros</a>.
</p>
</td></tr>
<tr><td><p> -j </p></td><td><p> <a href="#g_t_002d_002dbzip2">-bzip2</a>.
</p>
</td></tr>
<tr><td><p> -k </p></td><td><p> <a href="#g_t_002d_002dkeep_002dold_002dfiles">-keep-old-files</a>.
</p>
</td></tr>
<tr><td><p> -l </p></td><td><p> <a href="#g_t_002d_002dcheck_002dlinks">-check-links</a>.
</p>
</td></tr>
<tr><td><p> -m </p></td><td><p> <a href="#g_t_002d_002dtouch">-touch</a>.
</p>
</td></tr>
<tr><td><p> -o </p></td><td><p> When extracting, same as <a href="#g_t_002d_002dno_002dsame_002downer">-no-same-owner</a>. When creating,
- <a href="#g_t_002d_002dold_002darchive">-old-archive</a>.
</p>
<p>The latter usage is deprecated.  It is retained for compatibility with
the earlier versions of <acronym>GNU</acronym> <code>tar</code>.  In future releases
<samp>`-o'</samp> will be equivalent to <samp>`--no-same-owner'</samp> only.
</p>
</td></tr>
<tr><td><p> -p </p></td><td><p> <a href="#g_t_002d_002dpreserve_002dpermissions">-preserve-permissions</a>.
</p>
</td></tr>
<tr><td><p> -r </p></td><td><p> <a href="#g_t_002d_002dappend">-append</a>.
</p>
</td></tr>
<tr><td><p> -s </p></td><td><p> <a href="#g_t_002d_002dsame_002dorder">-same-order</a>.
</p>
</td></tr>
<tr><td><p> -t </p></td><td><p> <a href="#g_t_002d_002dlist">-list</a>.
</p>
</td></tr>
<tr><td><p> -u </p></td><td><p> <a href="#g_t_002d_002dupdate">-update</a>.
</p>
</td></tr>
<tr><td><p> -v </p></td><td><p> <a href="#g_t_002d_002dverbose">-verbose</a>.
</p>
</td></tr>
<tr><td><p> -w </p></td><td><p> <a href="#g_t_002d_002dinteractive">-interactive</a>.
</p>
</td></tr>
<tr><td><p> -x </p></td><td><p> <a href="#g_t_002d_002dextract">-extract</a>.
</p>
</td></tr>
<tr><td><p> -z </p></td><td><p> <a href="#g_t_002d_002dgzip">-gzip</a>.
</p>
</td></tr>
</table>

<hr size="6">
<a name="Position_002dSensitive-Options"></a>
<a name="SEC44"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC43" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC45" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC40" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 3.4.4 Position-Sensitive Options </h3>

<p>Some <acronym>GNU</acronym> <code>tar</code> options can be used multiple times in the same
invocation and affect all arguments that appear after them.  These are
options that control how file names are selected and what kind of
pattern matching is used.
</p>
<p>The most obvious example is the <samp>`-C'</samp> option.  It instructs <code>tar</code>
to change to the directory given as its argument prior to processing
the rest of command line (see section <a href="#SEC119">Changing the Working Directory</a>).  Thus, in the following
command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><kbd>tar -c -f a.tar -C /etc passwd -C /var log spool</kbd>
</pre></td></tr></table>

<p>the file <tt>`passwd'</tt> will be searched in the directory <tt>`/etc'</tt>,
and files <tt>`log'</tt> and <tt>`spool'</tt> - in <tt>`/var'</tt>.
</p>
<p>These options can also be used in a file list supplied with the
<samp>`--files-from'</samp> (<samp>`-T'</samp>) option (see section <a href="#SEC108">Reading Names from a File</a>).  In that
case they affect all files (patterns) appearing in that file after
them and remain in effect for any arguments processed after that file.
For example, if the file <tt>`list.txt'</tt> contained:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">README
-C src
main.c
</pre></td></tr></table>

<p>and <code>tar</code> were invoked as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><kbd>tar -c -f a.tar -T list.txt Makefile</kbd>
</pre></td></tr></table>

<p>then the file <tt>`README'</tt> would be looked up in the current working
directory, and files <tt>`main.c'</tt> and <tt>`Makefile'</tt> would be looked
up in the directory <tt>`src'</tt>.
</p>
<p>Many options can be prefixed with <samp>`--no-'</samp> to cancel the effect
of the original option.
</p>
<p>For example, the <samp>`--recursion'</samp> option controls whether to
recurse in the subdirectories.  It's counterpart
<samp>`--no-recursion'</samp> disables this.  Consider the command below.  It will
store in the archive the directory <tt>`/usr'</tt> with all files and
directories that are located in it as well as any files and
directories in <tt>`/var'</tt>, without recursing into them<a name="DOCF6" href="#FOOT6">(6)</a>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">tar -cf a.tar --recursion /usr --no-recursion /var/*
</pre></td></tr></table>
<p>During archive creation, <acronym>GNU</acronym> <code>tar</code> keeps track of positional options
used and arguments affected by them.  If it finds out that any such
options are used in an obviously erroneous way, the fact is reported
and exit code is set to 2.  E.g.:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ <kbd>tar -cf a.tar . --exclude '*.o'</kbd>
tar: The following options were used after any non-optional
arguments in archive create or update mode.  These options are
positional and affect only arguments that follow them.  Please,
rearrange them properly.
tar: --exclude '*.o' has no effect
tar: Exiting with failure status due to previous errors
</pre></td></tr></table>
<p>The following table summarizes all position-sensitive options.
</p>
<dl compact="compact">
<dt> <samp>`--directory=<var>dir</var>'</samp></dt>
<dt> <samp>`-C <var>dir</var>'</samp></dt>
<dd><p>See section <a href="#SEC119">Changing the Working Directory</a>.
</p>
</dd>
<dt> <samp>`--null'</samp></dt>
<dt> <samp>`--no-null'</samp></dt>
<dd><p>See section <a href="#SEC109"><code>NUL</code>-Terminated File Names</a>.
</p>
</dd>
<dt> <samp>`--unquote'</samp></dt>
<dt> <samp>`--no-unquote'</samp></dt>
<dd><p>See <a href="#input-name-quoting">input name quoting</a>.
</p>
</dd>
<dt> <samp>`--verbatim-files-from'</samp></dt>
<dt> <samp>`--no-verbatim-files-from'</samp></dt>
<dd><p>See <a href="#verbatim_002dfiles_002dfrom">verbatim-files-from</a>.
</p>
</dd>
<dt> <samp>`--recursion'</samp></dt>
<dt> <samp>`--no-recursion'</samp></dt>
<dd><p>See section <a href="#SEC117">Descending into Directories</a>.
</p>
</dd>
<dt> <samp>`--anchored'</samp></dt>
<dt> <samp>`--no-anchored'</samp></dt>
<dd><p>See <a href="#anchored-patterns">anchored patterns</a>.
</p>
</dd>
<dt> <samp>`--ignore-case'</samp></dt>
<dt> <samp>`--no-ignore-case'</samp></dt>
<dd><p>See <a href="#case_002dinsensitive-matches">case-insensitive matches</a>.
</p>
</dd>
<dt> <samp>`--wildcards'</samp></dt>
<dt> <samp>`--no-wildcards'</samp></dt>
<dd><p>See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
</dd>
<dt> <samp>`--wildcards-match-slash'</samp></dt>
<dt> <samp>`--no-wildcards-match-slash'</samp></dt>
<dd><p>See section <a href="#SEC113">Controlling Pattern-Matching</a>.
</p>
</dd>
<dt> <samp>`--exclude'</samp></dt>
<dd><p>See section <a href="#SEC110">Excluding Some Files</a>.
</p>
</dd>
<dt> <samp>`--exclude-from'</samp></dt>
<dt> <samp>`-X'</samp></dt>
<dt> <samp>`--exclude-caches'</samp></dt>
<dt> <samp>`--exclude-caches-under'</samp></dt>
<dt> <samp>`--exclude-caches-all'</samp></dt>
<dt> <samp>`--exclude-tag'</samp></dt>
<dt> <samp>`--exclude-ignore'</samp></dt>
<dt> <samp>`--exclude-ignore-recursive'</samp></dt>
<dt> <samp>`--exclude-tag-under'</samp></dt>
<dt> <samp>`--exclude-tag-all'</samp></dt>
<dt> <samp>`--exclude-vcs'</samp></dt>
<dt> <samp>`--exclude-vcs-ignores'</samp></dt>
<dt> <samp>`--exclude-backups'</samp></dt>
<dd><p>See section <a href="#SEC110">Excluding Some Files</a>.
</p></dd>
</dl>

<hr size="6">
<a name="help"></a>
<a name="SEC45"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC44" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC46" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.5 <acronym>GNU</acronym> <code>tar</code> documentation </h2>

<p>Being careful, the first thing is really checking that you are using
<acronym>GNU</acronym> <code>tar</code>, indeed.  The <samp>`--version'</samp> option
causes <code>tar</code> to print information about its name, version,
origin and legal status, all on standard output, and then exit
successfully.  For example, <samp>`tar --version'</samp> might print:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar (GNU tar) 1.32
Copyright (C) 2013-2019 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by John Gilmore and Jay Fenlason.
</pre></td></tr></table>

<p>The first occurrence of <samp>`tar'</samp> in the result above is the program
name in the package (for example, <code>rmt</code> is another program),
while the second occurrence of <samp>`tar'</samp> is the name of the package
itself, containing possibly many programs.  The package is currently
named <samp>`tar'</samp>, after the name of the main program it
contains<a name="DOCF7" href="#FOOT7">(7)</a>.
</p>
<a name="IDX203"></a>
<a name="IDX204"></a>
<a name="IDX205"></a>
<p>Another thing you might want to do is checking the spelling or meaning
of some particular <code>tar</code> option, without resorting to this
manual, for once you have carefully read it.  <acronym>GNU</acronym> <code>tar</code>
has a short help feature, triggerable through the
<samp>`--help'</samp> option.  By using this option, <code>tar</code> will
print a usage message listing all available options on standard
output, then exit successfully, without doing anything else and
ignoring all other options.  Even if this is only a brief summary, it
may be several screens long.  So, if you are not using some kind of
scrollable window, you might prefer to use something like:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --help | less</kbd>
</pre></td></tr></table>

<p>presuming, here, that you like using <code>less</code> for a pager.  Other
popular pagers are <code>more</code> and <code>pg</code>.  If you know about some
<var>keyword</var> which interests you and do not want to read all the
<samp>`--help'</samp> output, another common idiom is doing:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar --help | grep <var>keyword</var>
</pre></td></tr></table>

<p>for getting only the pertinent lines.  Notice, however, that some
<code>tar</code> options have long description lines and the above
command will list only the first of them.
</p>
<p>The exact look of the option summary displayed by <kbd>tar --help</kbd> is
configurable. See section <a href="#SEC185">Configuring Help Summary</a>, for a detailed description.
</p>
<a name="IDX206"></a>
<p>If you only wish to check the spelling of an option, running <kbd>tar
--usage</kbd> may be a better choice.  This will display a terse list of
<code>tar</code> options without accompanying explanations.
</p>
<p>The short help output is quite succinct, and you might have to get
back to the full documentation for precise points.  If you are reading
this paragraph, you already have the <code>tar</code> manual in some
form.  This manual is available in a variety of forms from
<a href="http://www.gnu.org/software/tar/manual">http://www.gnu.org/software/tar/manual</a>.  It may be printed out of the <acronym>GNU</acronym> <code>tar</code>
distribution, provided you have TeX already installed somewhere,
and a laser printer around.  Just configure the distribution, execute
the command <samp>`make dvi'</samp>, then print <tt>`doc/tar.dvi'</tt> the
usual way (contact your local guru to know how).  If <acronym>GNU</acronym> <code>tar</code>
has been conveniently installed at your place, this
manual is also available in interactive, hypertextual form as an Info
file.  Just call <samp>`info tar'</samp> or, if you do not have the
<code>info</code> program handy, use the Info reader provided within
<acronym>GNU</acronym> Emacs, calling <samp>`tar'</samp> from the main Info menu.
</p>
<p>There is currently no <code>man</code> page for <acronym>GNU</acronym> <code>tar</code>.
If you observe such a <code>man</code> page on the system you are running,
either it does not belong to <acronym>GNU</acronym> <code>tar</code>, or it has not
been produced by <acronym>GNU</acronym>.  Some package maintainers convert
<kbd>tar --help</kbd> output to a man page, using <code>help2man</code>.  In
any case, please bear in mind that the authoritative source of
information about <acronym>GNU</acronym> <code>tar</code> is this Texinfo documentation.
</p>
<hr size="6">
<a name="defaults"></a>
<a name="SEC46"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC45" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC47" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.6 Obtaining <acronym>GNU</acronym> <code>tar</code> default values </h2>

<p><acronym>GNU</acronym> <code>tar</code> has some predefined defaults that are used when you do not
explicitly specify another values.  To obtain a list of such
defaults, use <samp>`--show-defaults'</samp> option.  This will output the
values in the form of <code>tar</code> command line options:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --show-defaults</kbd>
--format=gnu -f- -b20 --quoting-style=escape
--rmt-command=/etc/rmt --rsh-command=/usr/bin/rsh
</pre></td></tr></table>

<p>Notice, that this option outputs only one line.  The example output above
has been split to fit page boundaries.
</p>

<p>The above output shows that this version of <acronym>GNU</acronym> <code>tar</code> defaults to
using <samp>`gnu'</samp> archive format (see section <a href="#SEC133">Controlling the Archive Format</a>), it uses standard
output as the archive, if no <samp>`--file'</samp> option has been given
(see section <a href="#SEC14">The <samp>`--file'</samp> Option</a>), the default blocking factor is 20
(see section <a href="#SEC160">The Blocking Factor of an Archive</a>).  It also shows the default locations where
<code>tar</code> will look for <code>rmt</code> and <code>rsh</code> binaries.
</p>
<hr size="6">
<a name="verbose"></a>
<a name="SEC47"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC46" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC48" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.7 Checking <code>tar</code> progress </h2>

<p>Typically, <code>tar</code> performs most operations without reporting any
information to the user except error messages.  When using <code>tar</code>
with many options, particularly ones with complicated or
difficult-to-predict behavior, it is possible to make serious mistakes.
<code>tar</code> provides several options that make observing <code>tar</code>
easier.  These options cause <code>tar</code> to print information as it
progresses in its job, and you might want to use them just for being
more careful about what is going on, or merely for entertaining
yourself.  If you have encountered a problem when operating on an
archive, however, you may need more information than just an error
message in order to solve the problem.  The following options can be
helpful diagnostic tools.
</p>
<a name="IDX207"></a>
<a name="IDX208"></a>
<p>Normally, the <samp>`--list'</samp> (<samp>`-t'</samp>) command to list an archive
prints just the file names (one per line) and the other commands are
silent. When used with most operations, the <samp>`--verbose'</samp>
(<samp>`-v'</samp>) option causes <code>tar</code> to print the name of each
file or archive member as it is processed.  This and the other options
which make <code>tar</code> print status information can be useful in
monitoring <code>tar</code>.
</p>
<p>With <samp>`--create'</samp> or <samp>`--extract'</samp>, <samp>`--verbose'</samp> used
once just prints the names of the files or members as they are processed.
Using it twice causes <code>tar</code> to print a longer listing
(See <a href="#verbose-member-listing">verbose member listing</a>, for the description) for each member.
Since <samp>`--list'</samp> already prints  the names of the members,
<samp>`--verbose'</samp> used once with <samp>`--list'</samp> causes <code>tar</code>
to print an <samp>`ls -l'</samp> type listing of the files in the archive.
The following examples both extract members with long list output:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --extract --file=archive.tar --verbose --verbose</kbd>
$ <kbd>tar xvvf archive.tar</kbd>
</pre></td></tr></table>
<p>Verbose output appears on the standard output except when an archive is
being written to the standard output, as with <samp>`tar --create
--file=- --verbose'</samp> (<samp>`tar cvf -'</samp>, or even <samp>`tar cv'</samp>--if the
installer let standard output be the default archive).  In that case
<code>tar</code> writes verbose output to the standard error stream.
</p>
<p>If <samp>`--index-file=<var>file</var>'</samp> is specified, <code>tar</code> sends
verbose output to <var>file</var> rather than to standard output or standard
error.
</p>
<p><a name="totals"></a>
<a name="IDX209"></a>
<a name="IDX210"></a>
The <samp>`--totals'</samp> option causes <code>tar</code> to print on the
standard error the total amount of bytes transferred when processing
an archive.  When creating or appending to an archive, this option
prints the number of bytes written to the archive and the average
speed at which they have been written, e.g.:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar --totals /home</kbd>
Total bytes written: 7924664320 (7.4GiB, 85MiB/s)
</pre></td></tr></table>
<p>When reading an archive, this option displays the number of bytes
read:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -x -f archive.tar --totals</kbd>
Total bytes read: 7924664320 (7.4GiB, 95MiB/s)
</pre></td></tr></table>
<p>Finally, when deleting from an archive, the <samp>`--totals'</samp> option
displays both numbers plus number of bytes removed from the archive:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --delete -f foo.tar --totals --wildcards '*~'</kbd>
Total bytes read: 9543680 (9.2MiB, 201MiB/s)
Total bytes written: 3829760 (3.7MiB, 81MiB/s)
Total bytes deleted: 1474048
</pre></td></tr></table>
<p>You can also obtain this information on request.  When
<samp>`--totals'</samp> is used with an argument, this argument is
interpreted as a symbolic name of a signal, upon delivery of which the
statistics is to be printed:
</p>
<dl compact="compact">
<dt> <samp>`--totals=<var>signo</var>'</samp></dt>
<dd><p>Print statistics upon delivery of signal <var>signo</var>.  Valid arguments
are: <code>SIGHUP</code>, <code>SIGQUIT</code>, <code>SIGINT</code>, <code>SIGUSR1</code> and
<code>SIGUSR2</code>.  Shortened names without <samp>`SIG'</samp> prefix are also
accepted.
</p></dd>
</dl>

<p>Both forms of <samp>`--totals'</samp> option can be used simultaneously.
Thus, <kbd>tar -x --totals --totals=USR1</kbd> instructs <code>tar</code> to
extract all members from its default archive and print statistics
after finishing the extraction, as well as when receiving signal
<code>SIGUSR1</code>.
</p>
<p><a name="Progress-information"></a>
<a name="IDX211"></a>
The <samp>`--checkpoint'</samp> option prints an occasional message
as <code>tar</code> reads or writes the archive.  It is designed for
those who don't need the more detailed (and voluminous) output of
<samp>`--block-number'</samp> (<samp>`-R'</samp>), but do want visual confirmation
that <code>tar</code> is actually making forward progress.  By default it
prints a message each 10 records read or written.  This can be changed
by giving it a numeric argument after an equal sign:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c --checkpoint=1000</kbd> /var
tar: Write checkpoint 1000
tar: Write checkpoint 2000
tar: Write checkpoint 3000
</pre></td></tr></table>
<p>This example shows the default checkpoint message used by
<code>tar</code>.  If you place a dot immediately after the equal
sign, it will print a <samp>`.'</samp> at each checkpoint<a name="DOCF8" href="#FOOT8">(8)</a>.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c --checkpoint=.1000</kbd> /var
...
</pre></td></tr></table>
<p>The <samp>`--checkpoint'</samp> option provides a flexible mechanism for
executing arbitrary actions upon hitting checkpoints, see the next
section (see section <a href="#SEC48">Checkpoints</a>), for more information on it.
</p>
<a name="IDX212"></a>
<p><a name="show_002domitted_002ddirs"></a>
The <samp>`--show-omitted-dirs'</samp> option, when reading an archive--with
<samp>`--list'</samp> or <samp>`--extract'</samp>, for example--causes a message
to be printed for each directory in the archive which is skipped.
This happens regardless of the reason for skipping: the directory might
not have been named on the command line (implicitly or explicitly),
it might be excluded by the use of the
<samp>`--exclude=<var>pattern</var>'</samp> option, or some other reason.
</p>
<a name="IDX213"></a>
<a name="IDX214"></a>
<p><a name="block_002dnumber"></a>
If <samp>`--block-number'</samp> (<samp>`-R'</samp>) is used, <code>tar</code> prints, along with
every message it would normally produce, the block number within the
archive where the message was triggered.  Also, supplementary messages
are triggered when reading blocks full of NULs, or when hitting end of
file on the archive.  As of now, if the archive is properly terminated
with a NUL block, the reading of the file may stop before end of file
is met, so the position of end of file will not usually show when
<samp>`--block-number'</samp> (<samp>`-R'</samp>) is used.  Note that <acronym>GNU</acronym> <code>tar</code>
drains the archive before exiting when reading the
archive from a pipe.
</p>
<a name="IDX215"></a>
<p>This option is especially useful when reading damaged archives, since
it helps pinpoint the damaged sections.  It can also be used with
<samp>`--list'</samp> (<samp>`-t'</samp>) when listing a file-system backup tape, allowing you to
choose among several backup tapes when retrieving a file later, in
favor of the tape where the file appears earliest (closest to the
front of the tape).  See section <a href="#SEC92">Backup options</a>.
</p>
<hr size="6">
<a name="checkpoints"></a>
<a name="SEC48"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC47" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC49" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.8 Checkpoints </h2>

<p>A <em>checkpoint</em> is a moment of time before writing <var>n</var>th record to
the archive (a <em>write checkpoint</em>), or before reading <var>n</var>th record
from the archive (a <em>read checkpoint</em>).  Checkpoints allow to
periodically execute arbitrary actions.
</p>
<p>The checkpoint facility is enabled using the following option:
</p>
<dl compact="compact">
<dd><a name="IDX216"></a>
</dd>
<dt> <samp>`--checkpoint[=<var>n</var>]'</samp></dt>
<dd><p>Schedule checkpoints before writing or reading each <var>n</var>th record.
The default value for <var>n</var> is 10.
</p></dd>
</dl>

<p>A list of arbitrary <em>actions</em> can be executed at each checkpoint.
These actions include: pausing, displaying textual messages, and
executing arbitrary external programs.  Actions are defined using
the <samp>`--checkpoint-action'</samp> option.
</p>
<dl compact="compact">
<dd><a name="IDX217"></a>
</dd>
<dt> <samp>`--checkpoint-action=<var>action</var>'</samp></dt>
<dd><p>Execute an <var>action</var> at each checkpoint.
</p></dd>
</dl>

<a name="IDX218"></a>
<p>The simplest value of <var>action</var> is <samp>`echo'</samp>.  It instructs
<code>tar</code> to display the default message on the standard error
stream upon arriving at each checkpoint.  The default message is (in
<acronym>POSIX</acronym> locale) <samp>`Write checkpoint <var>n</var>'</samp>, for write
checkpoints, and <samp>`Read checkpoint <var>n</var>'</samp>, for read checkpoints.
Here, <var>n</var> represents ordinal number of the checkpoint.
</p>
<p>In another locales, translated versions of this message are used.
</p>
<p>This is the default action, so running:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c --checkpoint=1000 --checkpoint-action=echo</kbd> /var
</pre></td></tr></table>

<p>is equivalent to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c --checkpoint=1000</kbd> /var
</pre></td></tr></table>
<p>The <samp>`echo'</samp> action also allows to supply a customized message.
You do so by placing an equals sign and the message right after it,
e.g.:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--checkpoint-action=&quot;echo=Hit %s checkpoint #%u&quot;
</pre></td></tr></table>
<p>The <samp>`%s'</samp> and <samp>`%u'</samp> in the above example are
<em>format specifiers</em>.  The <samp>`%s'</samp> specifier is replaced with
the <em>type</em> of the checkpoint: <samp>`write'</samp> or
<samp>`read'</samp> (or a corresponding translated version in locales other
than <acronym>POSIX</acronym>).  The <samp>`%u'</samp> specifier is replaced with
the ordinal number of the checkpoint.  Thus, the above example could
produce the following output when used with the <samp>`--create'</samp>
option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar: Hit write checkpoint #10
tar: Hit write checkpoint #20
tar: Hit write checkpoint #30
</pre></td></tr></table>
<p>The complete list of available format specifiers follows.  Some of
them can take optional arguments.  These arguments, if given, are
supplied in curly braces between the percent sign and the specifier
letter.
</p>
<dl compact="compact">
<dt> <samp>`%s'</samp></dt>
<dd><p>Print type of the checkpoint (<samp>`write'</samp> or <samp>`read'</samp>).
</p>
</dd>
<dt> <samp>`%u'</samp></dt>
<dd><p>Print number of the checkpoint.
</p>
</dd>
<dt> <samp>`%{r,w,d}T'</samp></dt>
<dd><p>Print number of bytes transferred so far and approximate transfer
speed.  Optional arguments supply prefixes to be used before number
of bytes read, written and deleted, correspondingly.  If absent,
they default to <samp>`R'</samp>. <samp>`W'</samp>, <samp>`D'</samp>.  Any or all of them can
be omitted, so, that e.g. <samp>`%{}T'</samp> means to print corresponding
statistics without any prefixes.  Any surplus arguments, if present,
are silently ignored.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ <kbd>tar --delete -f f.tar --checkpoint-action=echo=&quot;#%u: %T&quot; main.c</kbd>
tar: #1: R: 0 (0B, 0B/s),W: 0 (0B, 0B/s),D: 0
tar: #2: R: 10240 (10KiB, 19MiB/s),W: 0 (0B, 0B/s),D: 10240
</pre></td></tr></table>

<p>See also the <samp>`totals'</samp> action, described below.
</p>
</dd>
<dt> <samp>`%{<var>fmt</var>}t'</samp></dt>
<dd><p>Output current local time using <var>fmt</var> as format for <code>strftime</code>
(see <a href="strftime(3.html#g_t_0029strftime">strftime: (strftime(3))strftime</a> section `strftime' in <cite>strftime(3) man page</cite>).  The
<samp>`{<var>fmt</var>}'</samp> part is optional.  If not present, the default
format is <samp>`%c'</samp>, i.e. the preferred date and time representation
for the current locale.
</p>
</dd>
<dt> <samp>`%{<var>n</var>}*'</samp></dt>
<dd><p>Pad output with spaces to the <var>n</var>th column.  If the
<samp>`{<var>n</var>}'</samp> part is omitted, the current screen width
is assumed.
</p>
</dd>
<dt> <samp>`%c'</samp></dt>
<dd><p>This is a shortcut for <samp>`%{%Y-%m-%d %H:%M:%S}t: %ds, %{read,wrote}T%*\r'</samp>,
intended mainly for use with <samp>`ttyout'</samp> action (see below).
</p></dd>
</dl>

<p>Aside from format expansion, the message string is subject to
<em>unquoting</em>, during which the backslash <em>escape sequences</em> are
replaced with their corresponding <acronym>ASCII</acronym> characters
(see <a href="#escape-sequences">escape sequences</a>).  E.g. the following action will produce an
audible bell and the message described above at each checkpoint:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--checkpoint-action='echo=\aHit %s checkpoint #%u'
</pre></td></tr></table>
<a name="IDX219"></a>
<p>There is also a special action which produces an audible signal:
<samp>`bell'</samp>.  It is not equivalent to <samp>`echo='\a''</samp>, because
<samp>`bell'</samp> sends the bell directly to the console (<tt>`/dev/tty'</tt>),
whereas <samp>`echo='\a''</samp> sends it to the standard error.
</p>
<a name="IDX220"></a>
<p>The <samp>`ttyout=<var>string</var>'</samp> action outputs <var>string</var> to
<tt>`/dev/tty'</tt>, so it can be used even if the standard output is
redirected elsewhere.  The <var>string</var> is subject to the same
modifications as with <samp>`echo'</samp> action.  In contrast to the latter,
<samp>`ttyout'</samp> does not prepend <code>tar</code> executable name to the
string, nor does it output a newline after it.  For example, the
following action will print the checkpoint message at the same screen
line, overwriting any previous message:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--checkpoint-action=&quot;ttyout=Hit %s checkpoint #%u%*\r&quot;
</pre></td></tr></table>

<p>Notice the use of <samp>`%*'</samp> specifier to clear out any eventual
remains of the prior output line.  As as more complex example,
consider this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--checkpoint-action=ttyout='%{%Y-%m-%d %H:%M:%S}t (%d sec): #%u, %T%*\r'
</pre></td></tr></table>

<p>This prints the current local time, number of seconds expired since
tar was started, the checkpoint ordinal number, transferred bytes and
average computed I/O speed.
</p>
<a name="IDX221"></a>
<p>Another available checkpoint action is <samp>`dot'</samp> (or <samp>`.'</samp>).  It
instructs <code>tar</code> to print a single dot on the standard listing
stream, e.g.:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c --checkpoint=1000 --checkpoint-action=dot</kbd> /var
...
</pre></td></tr></table>
<p>For compatibility with previous <acronym>GNU</acronym> <code>tar</code> versions, this action can
be abbreviated by placing a dot in front of the checkpoint frequency,
as shown in the previous section.
</p>
<a name="IDX222"></a>
<p>The <samp>`totals'</samp> action prints the total number of bytes transferred
so far.  The format of the data is the same as for the
<samp>`--totals'</samp> option (see <a href="#totals">totals</a>).  See also <samp>`%T'</samp> format
specifier of the <samp>`echo'</samp> or <samp>`ttyout'</samp> action.
</p>
<a name="IDX223"></a>
<p>Yet another action, <samp>`sleep'</samp>, pauses <code>tar</code> for a specified
amount of seconds.  The following example will stop for 30 seconds at each
checkpoint:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c --checkpoint=1000 --checkpoint-action=sleep=30</kbd>
</pre></td></tr></table>
<p><a name="checkpoint-wait"></a>
<a name="IDX224"></a>
The <code>wait=<var>signo</var></code> action stops further execution until the
signal <var>signo</var> is delivered.  Valid values for <var>signo</var> are:
<code>SIGHUP</code>, <code>SIGQUIT</code>, <code>SIGINT</code>, <code>SIGUSR1</code> and
<code>SIGUSR2</code>.  The <samp>`SIG'</samp> prefix is optional.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ <kbd>tar -c -f arc --checkpoint=1000 --checkpoint-action wait=USR1 .</kbd>
</pre></td></tr></table>
<p>In this example, <acronym>GNU</acronym> <code>tar</code> will stop archivation at each 1000th
checkpoint. wait until the <samp>`SIGUSR1'</samp> signal is delivered,
and resume processing.
</p>
<p>This action is used by the <code>genfile</code> utility to perform
modifications on the input files upon hitting certain checkpoints
(see section <a href="#SEC199">genfile</a>).
</p>
<p><a name="checkpoint-exec"></a>
<a name="IDX225"></a>
Finally, the <code>exec</code> action executes a given external command.
For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c --checkpoint=1000 --checkpoint-action=exec=/sbin/cpoint</kbd>
</pre></td></tr></table>
<p>The supplied command can be any valid command invocation, with or
without additional command line arguments.  If it does contain
arguments, don't forget to quote it to prevent it from being split by
the shell.  See section <a href="#SEC55">Running External Commands</a>, for more detail.
</p>
<p>The command gets a copy of <code>tar</code>'s environment plus the
following variables:
</p>
<dl compact="compact">
<dt> <code>TAR_VERSION</code></dt>
<dd><p><acronym>GNU</acronym> <code>tar</code> version number.
</p>
</dd>
<dt> <code>TAR_ARCHIVE</code></dt>
<dd><p>The name of the archive <code>tar</code> is processing.
</p>
</dd>
<dt> <code>TAR_BLOCKING_FACTOR</code></dt>
<dd><p>Current blocking factor (see section <a href="#SEC158">Blocking</a>).
</p>
</dd>
<dt> <code>TAR_CHECKPOINT</code></dt>
<dd><p>Number of the checkpoint.
</p>
</dd>
<dt> <code>TAR_SUBCOMMAND</code></dt>
<dd><p>A short option describing the operation <code>tar</code> is executing.
See section <a href="#SEC59">The Five Advanced <code>tar</code> Operations</a>, for a complete list of subcommand options.
</p>
</dd>
<dt> <code>TAR_FORMAT</code></dt>
<dd><p>Format of the archive being processed. See section <a href="#SEC133">Controlling the Archive Format</a>, for a complete
list of archive format names.
</p></dd>
</dl>

<p>These environment variables can also be passed as arguments to the
command, provided that they are properly escaped, for example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar -c -f arc.tar \
     --checkpoint-action='exec=/sbin/cpoint $TAR_CHECKPOINT'</kbd>
</pre></td></tr></table>

<p>Notice single quotes to prevent variable names from being expanded by
the shell when invoking <code>tar</code>.
</p>
<p>Any number of actions can be defined, by supplying several
<samp>`--checkpoint-action'</samp> options in the command line.  For
example, the command below displays two messages, pauses
execution for 30 seconds and executes the <tt>`/sbin/cpoint'</tt> script:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ <kbd>tar -c -f arc.tar \
       --checkpoint-action='\aecho=Hit %s checkpoint #%u' \
       --checkpoint-action='echo=Sleeping for 30 seconds' \
       --checkpoint-action='sleep=30' \
       --checkpoint-action='exec=/sbin/cpoint'</kbd>
</pre></td></tr></table>
<p>This example also illustrates the fact that
<samp>`--checkpoint-action'</samp> can be used without
<samp>`--checkpoint'</samp>.  In this case, the default checkpoint frequency
(at each 10th record) is assumed.
</p>
<hr size="6">
<a name="warnings"></a>
<a name="SEC49"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC48" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC54" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.9 Controlling Warning Messages </h2>

<p>Sometimes, while performing the requested task, <acronym>GNU</acronym> <code>tar</code> notices
some conditions that are not exactly errors, but which the user
should be aware of.  When this happens, <code>tar</code> issues a
<em>warning message</em> describing the condition.  Warning messages
are output to the standard error and they do not affect the exit
code of <code>tar</code> command.
</p>
<a name="IDX226"></a>
<p><acronym>GNU</acronym> <code>tar</code> allows the user to suppress some or all of its warning
messages:
</p>
<dl compact="compact">
<dt> <samp>`--warning=<var>keyword</var>'</samp></dt>
<dd><p>Control display of the warning messages identified by <var>keyword</var>.
If <var>keyword</var> starts with the prefix <samp>`no-'</samp>, such messages are
suppressed.  Otherwise, they are enabled.
</p>
<p>Multiple <samp>`--warning'</samp> messages accumulate.
</p>
<p>The tables below list allowed values for <var>keyword</var> along with the
warning messages they control.
</p></dd>
</dl>

<a name="SEC50"></a>
<h3 class="subheading"> Keywords controlling <code>tar</code> operation </h3>
<dl compact="compact">
<dd><a name="IDX227"></a>
</dd>
<dt> all</dt>
<dd><p>Enable all warning messages.  This is the default.
<a name="IDX228"></a>
</p></dd>
<dt> none</dt>
<dd><p>Disable all warning messages.
<a name="IDX229"></a>
<a name="IDX230"></a>
</p></dd>
<dt> filename-with-nuls</dt>
<dd><p><samp>`%s: file name read contains nul character'</samp>
<a name="IDX231"></a>
<a name="IDX232"></a>
</p></dd>
<dt> alone-zero-block</dt>
<dd><p><samp>`A lone zero block at %s'</samp>
</p></dd>
</dl>

<a name="SEC51"></a>
<h3 class="subheading"> Keywords applicable for <code>tar --create</code> </h3>
<dl compact="compact">
<dd><a name="IDX233"></a>
<a name="IDX234"></a>
</dd>
<dt> cachedir</dt>
<dd><p><samp>`%s: contains a cache directory tag %s; %s'</samp>
<a name="IDX235"></a>
<a name="IDX236"></a>
</p></dd>
<dt> file-shrank</dt>
<dd><p><samp>`%s: File shrank by %s bytes; padding with zeros'</samp>
<a name="IDX237"></a>
<a name="IDX238"></a>
</p></dd>
<dt> xdev</dt>
<dd><p><samp>`%s: file is on a different filesystem; not dumped'</samp>
<a name="IDX239"></a>
<a name="IDX240"></a>
<a name="IDX241"></a>
<a name="IDX242"></a>
</p></dd>
<dt> file-ignored</dt>
<dd><p><samp>`%s: Unknown file type; file ignored'</samp>
<br><samp>`%s: socket ignored'</samp>
<br><samp>`%s: door ignored'</samp>
<a name="IDX243"></a>
<a name="IDX244"></a>
</p></dd>
<dt> file-unchanged</dt>
<dd><p><samp>`%s: file is unchanged; not dumped'</samp>
<a name="IDX245"></a>
<a name="IDX246"></a>
<a name="IDX247"></a>
<a name="IDX248"></a>
</p></dd>
<dt> ignore-archive</dt>
<dd><p><samp>`%s: file is the archive; not dumped'</samp>
<a name="IDX249"></a>
<a name="IDX250"></a>
</p></dd>
<dt> file-removed</dt>
<dd><p><samp>`%s: File removed before we read it'</samp>
<a name="IDX251"></a>
<a name="IDX252"></a>
</p></dd>
<dt> file-changed</dt>
<dd><p><samp>`%s: file changed as we read it'</samp>
</p></dd>
<dt> failed-read</dt>
<dd><p>Suppresses warnings about unreadable files or directories. This
keyword applies only if used together with the <samp>`--ignore-failed-read'</samp>
option. See section <a href="#SEC71">Ignore Failed Read</a>.
</p></dd>
</dl>

<a name="SEC52"></a>
<h3 class="subheading"> Keywords applicable for <code>tar --extract</code> </h3>
<dl compact="compact">
<dd><a name="IDX253"></a>
<a name="IDX254"></a>
</dd>
<dt> existing-file</dt>
<dd><p><samp>`%s: skipping existing file'</samp>
<a name="IDX255"></a>
<a name="IDX256"></a>
<a name="IDX257"></a>
</p></dd>
<dt> timestamp</dt>
<dd><p><samp>`%s: implausibly old time stamp %s'</samp>
<br><samp>`%s: time stamp %s is %s s in the future'</samp>
<a name="IDX258"></a>
<a name="IDX259"></a>
</p></dd>
<dt> contiguous-cast</dt>
<dd><p><samp>`Extracting contiguous files as regular files'</samp>
<a name="IDX260"></a>
<a name="IDX261"></a>
</p></dd>
<dt> symlink-cast</dt>
<dd><p><samp>`Attempting extraction of symbolic links as hard links'</samp>
<a name="IDX262"></a>
<a name="IDX263"></a>
</p></dd>
<dt> unknown-cast</dt>
<dd><p><samp>`%s: Unknown file type '%c', extracted as normal file'</samp>
<a name="IDX264"></a>
<a name="IDX265"></a>
</p></dd>
<dt> ignore-newer</dt>
<dd><p><samp>`Current %s is newer or same age'</samp>
<a name="IDX266"></a>
<a name="IDX267"></a>
</p></dd>
<dt> unknown-keyword</dt>
<dd><p><samp>`Ignoring unknown extended header keyword '%s''</samp>
<a name="IDX268"></a>
</p></dd>
<dt> decompress-program</dt>
<dd><p>Controls verbose description of failures occurring when trying to run
alternative decompressor programs (see <a href="#alternative-decompression-programs">alternative decompression programs</a>).  This warning is disabled by default (unless
<samp>`--verbose'</samp> is used).  A common example of what you can get
when using this warning is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --warning=decompress-program -x -f archive.Z</kbd>
tar (child): cannot run compress: No such file or directory
tar (child): trying gzip
</pre></td></tr></table>
<p>This means that <code>tar</code> first tried to decompress
<tt>`archive.Z'</tt> using <code>compress</code>, and, when that
failed, switched to <code>gzip</code>.
<a name="IDX269"></a>
<a name="IDX270"></a>
</p></dd>
<dt> record-size</dt>
<dd><p><samp>`Record size = %lu blocks'</samp>
</p></dd>
</dl>

<a name="SEC53"></a>
<h3 class="subheading"> Keywords controlling incremental extraction: </h3>
<dl compact="compact">
<dd><a name="IDX271"></a>
<a name="IDX272"></a>
<a name="IDX273"></a>
</dd>
<dt> rename-directory</dt>
<dd><p><samp>`%s: Directory has been renamed from %s'</samp>
<br><samp>`%s: Directory has been renamed'</samp>
<a name="IDX274"></a>
<a name="IDX275"></a>
</p></dd>
<dt> new-directory</dt>
<dd><p><samp>`%s: Directory is new'</samp>
<a name="IDX276"></a>
<a name="IDX277"></a>
</p></dd>
<dt> xdev</dt>
<dd><p><samp>`%s: directory is on a different device: not purging'</samp>
<a name="IDX278"></a>
<a name="IDX279"></a>
</p></dd>
<dt> bad-dumpdir</dt>
<dd><p><samp>`Malformed dumpdir: 'X' never used'</samp>
</p></dd>
</dl>

<hr size="6">
<a name="interactive"></a>
<a name="SEC54"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC49" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC55" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.10 Asking for Confirmation During Operations </h2>

<p>Typically, <code>tar</code> carries out a command without stopping for
further instructions.  In some situations however, you may want to
exclude some files and archive members from the operation (for instance
if disk or storage space is tight).  You can do this by excluding
certain files automatically (see section <a href="#SEC105">Choosing Files and Names for <code>tar</code></a>), or by performing
an operation interactively, using the <samp>`--interactive'</samp> (<samp>`-w'</samp>) option.
<code>tar</code> also accepts <samp>`--confirmation'</samp> for this option.
</p>
<a name="IDX280"></a>
<p>When the <samp>`--interactive'</samp> (<samp>`-w'</samp>) option is specified, before
reading, writing, or deleting files, <code>tar</code> first prints a message
for each such file, telling what operation it intends to take, then asks
for confirmation on the terminal.  The actions which require
confirmation include adding a file to the archive, extracting a file
from the archive, deleting a file from the archive, and deleting a file
from disk.  To confirm the action, you must type a line of input
beginning with <samp>`y'</samp>.  If your input line begins with anything other
than <samp>`y'</samp>, <code>tar</code> skips that file.
</p>
<p>If <code>tar</code> is reading the archive from the standard input,
<code>tar</code> opens the file <tt>`/dev/tty'</tt> to support the interactive
communications.
</p>
<p>Verbose output is normally sent to standard output, separate from
other error messages.  However, if the archive is produced directly
on standard output, then verbose output is mixed with errors on
<code>stderr</code>.  Producing the archive on standard output may be used
as a way to avoid using disk space, when the archive is soon to be
consumed by another process reading it, say.  Some people felt the need
of producing an archive on stdout, still willing to segregate between
verbose output and error output.  A possible approach would be using a
named pipe to receive the archive, and having the consumer process to
read from that named pipe.  This has the advantage of letting standard
output free to receive verbose output, all separate from errors.
</p>
<hr size="6">
<a name="external"></a>
<a name="SEC55"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC54" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC32" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 3.11 Running External Commands </h2>

<p>Certain <acronym>GNU</acronym> <code>tar</code> operations imply running external commands that you
supply on the command line.  One of such operations is checkpointing,
described above (see <a href="#checkpoint-exec">checkpoint exec</a>).  Another example of this
feature is the <samp>`-I'</samp> option, which allows you to supply the
program to use for compressing or decompressing the archive
(see <a href="#use_002dcompress_002dprogram">use-compress-program</a>).
</p>
<p>Whenever such operation is requested, <code>tar</code> first splits the
supplied command into words much like the shell does.  It then treats
the first word as the name of the program or the shell script to execute
and the rest of words as its command line arguments.  The program,
unless given as an absolute file name, is searched in the shell's
<code>PATH</code>.
</p>
<p>Any additional information is normally supplied to external commands
in environment variables, specific to each particular operation.  For
example, the <samp>`--checkpoint-action=exec'</samp> option, defines the
<code>TAR_ARCHIVE</code> variable to the name of the archive being worked
upon.  You can, should the need be, use these variables in the
command line of the external command.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -x -f archive.tar \
    --checkpoint-action=exec='printf &quot;%04d in %32s\r&quot; $TAR_CHECKPOINT $TAR_ARCHIVE'</kbd>
</pre></td></tr></table>

<p>This command prints for each checkpoint its number and the name of the
archive, using the same output line on the screen.
</p>
<p>Notice the use of single quotes to prevent variable names from being
expanded by the shell when invoking <code>tar</code>.
</p>
<hr size="6">
<a name="operations"></a>
<a name="SEC56"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC55" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC57" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC32" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 4. <acronym>GNU</acronym> <code>tar</code> Operations </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC57">4.1 Basic <acronym>GNU</acronym> <code>tar</code> Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC58">4.2 Advanced <acronym>GNU</acronym> <code>tar</code> Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC68">4.3 Options Used by <samp>`--create'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC72">4.4 Options Used by <samp>`--extract'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC92">4.5 Backup options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC93">4.6 Looking Ahead: The Rest of this Manual</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Basic-tar"></a>
<a name="SEC57"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC56" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC58" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.1 Basic <acronym>GNU</acronym> <code>tar</code> Operations </h2>

<p>The basic <code>tar</code> operations, <samp>`--create'</samp> (<samp>`-c'</samp>),
<samp>`--list'</samp> (<samp>`-t'</samp>) and <samp>`--extract'</samp> (<samp>`--get'</samp>,
<samp>`-x'</samp>), are currently presented and described in the tutorial
chapter of this manual.  This section provides some complementary notes
for these operations.
</p>
<dl compact="compact">
<dd><a name="IDX281"></a>
</dd>
<dt> <samp>`--create'</samp></dt>
<dt> <samp>`-c'</samp></dt>
<dd>
<p>Creating an empty archive would have some kind of elegance.  One can
initialize an empty archive and later use <samp>`--append'</samp>
(<samp>`-r'</samp>) for adding all members.  Some applications would not
welcome making an exception in the way of adding the first archive
member.  On the other hand, many people reported that it is
dangerously too easy for <code>tar</code> to destroy a magnetic tape with
an empty archive<a name="DOCF9" href="#FOOT9">(9)</a>.  The two most common errors are:
</p>
<ol>
<li>
Mistakingly using <code>create</code> instead of <code>extract</code>, when the
intent was to extract the full contents of an archive.  This error
is likely: keys <kbd>c</kbd> and <kbd>x</kbd> are right next to each other on
the QWERTY keyboard.  Instead of being unpacked, the archive then
gets wholly destroyed.  When users speak about <em>exploding</em> an
archive, they usually mean something else :-).

</li><li>
Forgetting the argument to <code>file</code>, when the intent was to create
an archive with a single file in it.  This error is likely because a
tired user can easily add the <kbd>f</kbd> key to the cluster of option
letters, by the mere force of habit, without realizing the full
consequence of doing so.  The usual consequence is that the single
file, which was meant to be saved, is rather destroyed.
</li></ol>

<p>So, recognizing the likelihood and the catastrophic nature of these
errors, <acronym>GNU</acronym> <code>tar</code> now takes some distance from elegance, and
cowardly refuses to create an archive when <samp>`--create'</samp> option is
given, there are no arguments besides options, and
<samp>`--files-from'</samp> (<samp>`-T'</samp>) option is <em>not</em> used.  To get
around the cautiousness of <acronym>GNU</acronym> <code>tar</code> and nevertheless create an
archive with nothing in it, one may still use, as the value for the
<samp>`--files-from'</samp> option, a file with no names in it, as shown in
the following commands:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar --create --file=empty-archive.tar --files-from=/dev/null</kbd>
<kbd>tar -cf empty-archive.tar -T /dev/null</kbd>
</pre></td></tr></table>
<a name="IDX282"></a>
</dd>
<dt> <samp>`--extract'</samp></dt>
<dt> <samp>`--get'</samp></dt>
<dt> <samp>`-x'</samp></dt>
<dd>
<p>A socket is stored, within a <acronym>GNU</acronym> <code>tar</code> archive, as a pipe.
</p>
</dd>
<dt> <samp>`<samp>`--list'</samp> (<samp>`-t'</samp>)'</samp></dt>
<dd>
<p><acronym>GNU</acronym> <code>tar</code> now shows dates as <samp>`1996-08-30'</samp>,
while it used to show them as <samp>`Aug 30 1996'</samp>. Preferably,
people should get used to ISO 8601 dates.  Local American dates should
be made available again with full date localization support, once
ready.  In the meantime, programs not being localizable for dates
should prefer international dates, that's really the way to go.
</p>
<p>Look up <a href="http://www.cl.cam.ac.uk/~mgk25/iso-time.html">http://www.cl.cam.ac.uk/~mgk25/iso-time.html</a> if you
are curious, it contains a detailed explanation of the ISO 8601 standard.
</p>
</dd>
</dl>

<hr size="6">
<a name="Advanced-tar"></a>
<a name="SEC58"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC57" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC59" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.2 Advanced <acronym>GNU</acronym> <code>tar</code> Operations </h2>

<p>Now that you have learned the basics of using <acronym>GNU</acronym> <code>tar</code>, you may want
to learn about further ways in which <code>tar</code> can help you.
</p>
<p>This chapter presents five, more advanced operations which you probably
won't use on a daily basis, but which serve more specialized functions.
We also explain the different styles of options and why you might want
to use one or another, or a combination of them in your <code>tar</code>
commands.  Additionally, this chapter includes options which allow you to
define the output from <code>tar</code> more carefully, and provide help and
error correction in special circumstances.
</p>
<p>See <cite>check this after the chapter is actually revised to make sure
it still introduces the info in the chapter correctly : ).</cite>
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC59">4.2.1 The Five Advanced <code>tar</code> Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC63">4.2.3 Updating an Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC65">4.2.4 Combining Archives with <samp>`--concatenate'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC66">4.2.5 Removing Archive Members Using <samp>`--delete'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC67">4.2.6 Comparing Archive Members with the File System</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Operations"></a>
<a name="SEC59"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC58" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC58" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.2.1 The Five Advanced <code>tar</code> Operations </h3>

<p>In the last chapter, you learned about the first three operations to
<code>tar</code>.  This chapter presents the remaining five operations to
<code>tar</code>: <samp>`--append'</samp>, <samp>`--update'</samp>, <samp>`--concatenate'</samp>,
<samp>`--delete'</samp>, and <samp>`--compare'</samp>.
</p>
<p>You are not likely to use these operations as frequently as those
covered in the last chapter; however, since they perform specialized
functions, they are quite useful when you do need to use them.  We
will give examples using the same directory and files that you created
in the last chapter.  As you may recall, the directory is called
<tt>`practice'</tt>, the files are <samp>`jazz'</samp>, <samp>`blues'</samp>, <samp>`folk'</samp>,
and the two archive files you created are
<samp>`collection.tar'</samp> and <samp>`music.tar'</samp>.
</p>
<p>We will also use the archive files <samp>`afiles.tar'</samp> and
<samp>`bfiles.tar'</samp>.  The archive <samp>`afiles.tar'</samp> contains the members <samp>`apple'</samp>,
<samp>`angst'</samp>, and <samp>`aspic'</samp>; <samp>`bfiles.tar'</samp> contains the members
<samp>`./birds'</samp>, <samp>`baboon'</samp>, and <samp>`./box'</samp>.
</p>
<p>Unless we state otherwise, all practicing you do and examples you follow
in this chapter will take place in the <tt>`practice'</tt> directory that
you created in the previous chapter; see <a href="#SEC18">Preparing a Practice Directory for Examples</a>.
(Below in this section, we will remind you of the state of the examples
where the last chapter left them.)
</p>
<p>The five operations that we will cover in this chapter are:
</p>
<dl compact="compact">
<dt> <samp>`--append'</samp></dt>
<dt> <samp>`-r'</samp></dt>
<dd><p>Add new entries to an archive that already exists.
</p></dd>
<dt> <samp>`--update'</samp></dt>
<dt> <samp>`-u'</samp></dt>
<dd><p>Add more recent copies of archive members to the end of an archive, if
they exist.
</p></dd>
<dt> <samp>`--concatenate'</samp></dt>
<dt> <samp>`--catenate'</samp></dt>
<dt> <samp>`-A'</samp></dt>
<dd><p>Add one or more pre-existing archives to the end of another archive.
</p></dd>
<dt> <samp>`--delete'</samp></dt>
<dd><p>Delete items from an archive (does not work on tapes).
</p></dd>
<dt> <samp>`--compare'</samp></dt>
<dt> <samp>`--diff'</samp></dt>
<dt> <samp>`-d'</samp></dt>
<dd><p>Compare archive members to their counterparts in the file system.
</p></dd>
</dl>

<hr size="6">
<a name="append"></a>
<a name="SEC60"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC59" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC61" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC58" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp> </h3>

<p>If you want to add files to an existing archive, you don't need to
create a new archive; you can use <samp>`--append'</samp> (<samp>`-r'</samp>).
The archive must already exist in order to use <samp>`--append'</samp>.  (A
related operation is the <samp>`--update'</samp> operation; you can use this
to add newer versions of archive members to an existing archive.  To learn how to
do this with <samp>`--update'</samp>, see section <a href="#SEC63">Updating an Archive</a>.)
</p>
<p>If you use <samp>`--append'</samp> to add a file that has the same name as an
archive member to an archive containing that archive member, then the
old member is not deleted.  What does happen, however, is somewhat
complex.  <code>tar</code> <em>allows</em> you to have infinite number of files
with the same name.  Some operations treat these same-named members no
differently than any other set of archive members: for example, if you
view an archive with <samp>`--list'</samp> (<samp>`-t'</samp>), you will see all
of those members listed, with their data modification times, owners, etc.
</p>
<p>Other operations don't deal with these members as perfectly as you might
prefer; if you were to use <samp>`--extract'</samp> to extract the archive,
only the most recently added copy of a member with the same name as
other members would end up in the working directory.  This is because
<samp>`--extract'</samp> extracts an archive in the order the members appeared
in the archive; the most recently archived members will be extracted
last.  Additionally, an extracted member will <em>replace</em> a file of
the same name which existed in the directory already, and <code>tar</code>
will not prompt you about this<a name="DOCF10" href="#FOOT10">(10)</a>.  Thus, only
the most recently archived member will end up being extracted, as it
will replace the one extracted before it, and so on.
</p>
<a name="IDX283"></a>
<a name="IDX284"></a>
<p>There exists a special option that allows you to get around this
behavior and extract (or list) only a particular copy of the file.
This is <samp>`--occurrence'</samp> option.  If you run <code>tar</code> with
this option, it will extract only the first copy of the file.  You
may also give this option an argument specifying the number of
copy to be extracted.  Thus, for example if the archive
<tt>`archive.tar'</tt> contained three copies of file <tt>`myfile'</tt>, then
the command
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar --extract --file archive.tar --occurrence=2 myfile
</pre></td></tr></table>

<p>would extract only the second copy.  See section <a href="#SEC42">--occurrence</a>, for the description of <samp>`--occurrence'</samp>
option.
</p>
<p>See <cite>hag - you might want to incorporate some of the above into the
MMwtSN node; not sure.  i didn't know how to make it simpler...
</cite> </p>
<p><cite>There are a few ways to get around this.  Xref to Multiple Members
with the Same Name, maybe.</cite>
</p>

<a name="IDX285"></a>
<a name="IDX286"></a>
<a name="IDX287"></a>
<p>If you want to replace an archive member, use <samp>`--delete'</samp> to
delete the member you want to remove from the archive, and then use
<samp>`--append'</samp> to add the member you want to be in the archive.  Note
that you can not change the order of the archive; the most recently
added member will still appear last.  In this sense, you cannot truly
&quot;replace&quot; one member with another.  (Replacing one member with another
will not work on certain types of media, such as tapes; see <a href="#SEC66">Removing Archive Members Using <samp>`--delete'</samp></a>
and <a href="#SEC154">Tapes and Other Archive Media</a>, for more information.)
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC61">4.2.2.1 Appending Files to an Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC62">4.2.2.2 Multiple Members with the Same Name</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="appending-files"></a>
<a name="SEC61"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC60" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC62" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 4.2.2.1 Appending Files to an Archive </h4>

<p>The simplest way to add a file to an already existing archive is the
<samp>`--append'</samp> (<samp>`-r'</samp>) operation, which writes specified
files into the archive whether or not they are already among the
archived files.
</p>
<p>When you use <samp>`--append'</samp>, you <em>must</em> specify file name
arguments, as there is no default.  If you specify a file that already
exists in the archive, another copy of the file will be added to the
end of the archive.  As with other operations, the member names of the
newly added files will be exactly the same as their names given on the
command line.  The <samp>`--verbose'</samp> (<samp>`-v'</samp>) option will print
out the names of the files as they are written into the archive.
</p>
<p><samp>`--append'</samp> cannot be performed on some tape drives, unfortunately,
due to deficiencies in the formats those tape drives use.  The archive
must be a valid <code>tar</code> archive, or else the results of using this
operation will be unpredictable.  See section <a href="#SEC154">Tapes and Other Archive Media</a>.
</p>
<p>To demonstrate using <samp>`--append'</samp> to add a file to an archive,
create a file called <tt>`rock'</tt> in the <tt>`practice'</tt> directory.
Make sure you are in the <tt>`practice'</tt> directory.  Then, run the
following <code>tar</code> command to add <tt>`rock'</tt> to
<tt>`collection.tar'</tt>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --append --file=collection.tar rock</kbd>
</pre></td></tr></table>

<p>If you now use the <samp>`--list'</samp> (<samp>`-t'</samp>) operation, you will see that
<tt>`rock'</tt> has been added to the archive:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --file=collection.tar</kbd>
-rw-r--r-- me/user          28 1996-10-18 16:31 jazz
-rw-r--r-- me/user          21 1996-09-23 16:44 blues
-rw-r--r-- me/user          20 1996-09-23 16:44 folk
-rw-r--r-- me/user          20 1996-09-23 16:44 rock
</pre></td></tr></table>
<hr size="6">
<a name="multiple"></a>
<a name="SEC62"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC61" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC63" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 4.2.2.2 Multiple Members with the Same Name </h4>

<p>You can use <samp>`--append'</samp> (<samp>`-r'</samp>) to add copies of files
which have been updated since the archive was created.  (However, we
do not recommend doing this since there is another <code>tar</code>
option called <samp>`--update'</samp>; See section <a href="#SEC63">Updating an Archive</a>, for more information.
We describe this use of <samp>`--append'</samp> here for the sake of
completeness.)  When you extract the archive, the older version will
be effectively lost.  This works because files are extracted from an
archive in the order in which they were archived.  Thus, when the
archive is extracted, a file archived later in time will replace a
file of the same name which was archived earlier, even though the
older version of the file will remain in the archive unless you delete
all versions of the file.
</p>
<p>Supposing you change the file <tt>`blues'</tt> and then append the changed
version to <tt>`collection.tar'</tt>.  As you saw above, the original
<tt>`blues'</tt> is in the archive <tt>`collection.tar'</tt>.  If you change the
file and append the new version of the file to the archive, there will
be two copies in the archive.  When you extract the archive, the older
version of the file will be extracted first, and then replaced by the
newer version when it is extracted.
</p>
<p>You can append the new, changed copy of the file <tt>`blues'</tt> to the
archive in this way:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --append --verbose --file=collection.tar blues</kbd>
blues
</pre></td></tr></table>

<p>Because you specified the <samp>`--verbose'</samp> option, <code>tar</code> has
printed the name of the file being appended as it was acted on.  Now
list the contents of the archive:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --verbose --file=collection.tar</kbd>
-rw-r--r-- me/user          28 1996-10-18 16:31 jazz
-rw-r--r-- me/user          21 1996-09-23 16:44 blues
-rw-r--r-- me/user          20 1996-09-23 16:44 folk
-rw-r--r-- me/user          20 1996-09-23 16:44 rock
-rw-r--r-- me/user          58 1996-10-24 18:30 blues
</pre></td></tr></table>

<p>The newest version of <tt>`blues'</tt> is now at the end of the archive
(note the different creation dates and file sizes).  If you extract
the archive, the older version of the file <tt>`blues'</tt> will be
replaced by the newer version.  You can confirm this by extracting
the archive and running <samp>`ls'</samp> on the directory.
</p>
<p>If you wish to extract the first occurrence of the file <tt>`blues'</tt>
from the archive, use <samp>`--occurrence'</samp> option, as shown in
the following example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --extract -vv --occurrence --file=collection.tar blues</kbd>
-rw-r--r-- me/user          21 1996-09-23 16:44 blues
</pre></td></tr></table>
<p>See section <a href="#SEC76">Changing How <code>tar</code> Writes Files</a>, for more information on <samp>`--extract'</samp> and
see <a href="#SEC42">-occurrence</a>, for a description of
<samp>`--occurrence'</samp> option.
</p>
<hr size="6">
<a name="update"></a>
<a name="SEC63"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC62" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC64" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC58" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.2.3 Updating an Archive </h3>

<p>In the previous section, you learned how to use <samp>`--append'</samp> to
add a file to an existing archive.  A related operation is
<samp>`--update'</samp> (<samp>`-u'</samp>).  The <samp>`--update'</samp> operation
updates a <code>tar</code> archive by comparing the date of the specified
archive members against the date of the file with the same name.  If
the file has been modified more recently than the archive member, then
the newer version of the file is added to the archive (as with
<samp>`--append'</samp>).
</p>
<p>Unfortunately, you cannot use <samp>`--update'</samp> with magnetic tape drives.
The operation will fail.
</p>
<p>See <cite>other examples of media on which -update will fail?  need to ask
charles and/or mib/thomas/dave shevett..</cite>
</p>

<p>Both <samp>`--update'</samp> and <samp>`--append'</samp> work by adding to the end
of the archive.  When you extract a file from the archive, only the
version stored last will wind up in the file system, unless you use
the <samp>`--backup'</samp> option.  See section <a href="#SEC62">Multiple Members with the Same Name</a>, for a detailed discussion.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC64">4.2.3.1 How to Update an Archive Using <samp>`--update'</samp></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="how-to-update"></a>
<a name="SEC64"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC63" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC63" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 4.2.3.1 How to Update an Archive Using <samp>`--update'</samp> </h4>

<p>You must use file name arguments with the <samp>`--update'</samp>
(<samp>`-u'</samp>) operation.  If you don't specify any files,
<code>tar</code> won't act on any files and won't tell you that it didn't
do anything (which may end up confusing you).
</p>

<p>To see the <samp>`--update'</samp> option at work, create a new file,
<tt>`classical'</tt>, in your practice directory, and some extra text to the
file <tt>`blues'</tt>, using any text editor.  Then invoke <code>tar</code> with
the <samp>`update'</samp> operation and the <samp>`--verbose'</samp> (<samp>`-v'</samp>)
option specified, using the names of all the files in the <tt>`practice'</tt>
directory as file name arguments:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --update -v -f collection.tar blues folk rock classical</kbd>
blues
classical
$
</pre></td></tr></table>

<p>Because we have specified verbose mode, <code>tar</code> prints out the names
of the files it is working on, which in this case are the names of the
files that needed to be updated.  If you run <samp>`tar --list'</samp> and look
at the archive, you will see <tt>`blues'</tt> and <tt>`classical'</tt> at its
end.  There will be a total of two versions of the member <samp>`blues'</samp>;
the one at the end will be newer and larger, since you added text before
updating it.
</p>
<p>The reason <code>tar</code> does not overwrite the older file when updating
it is that writing to the middle of a section of tape is a difficult
process.  Tapes are not designed to go backward.  See section <a href="#SEC154">Tapes and Other Archive Media</a>, for more
information about tapes.
</p>
<p><samp>`--update'</samp> (<samp>`-u'</samp>) is not suitable for performing backups for two
reasons: it does not change directory content entries, and it
lengthens the archive every time it is used.  The <acronym>GNU</acronym> <code>tar</code>
options intended specifically for backups are more
efficient.  If you need to run backups, please consult <a href="#SEC94">Performing Backups and Restoring Files</a>.
</p>
<hr size="6">
<a name="concatenate"></a>
<a name="SEC65"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC64" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC66" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC58" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.2.4 Combining Archives with <samp>`--concatenate'</samp> </h3>

<p>Sometimes it may be convenient to add a second archive onto the end of
an archive rather than adding individual files to the archive.  To add
one or more archives to the end of another archive, you should use the
<samp>`--concatenate'</samp> (<samp>`--catenate'</samp>, <samp>`-A'</samp>) operation.
</p>
<p>To use <samp>`--concatenate'</samp>, give the first archive with
<samp>`--file'</samp> option and name the rest of archives to be
concatenated on the command line.  The members, and their member
names, will be copied verbatim from those archives to the first
one<a name="DOCF11" href="#FOOT11">(11)</a>.
The new, concatenated archive will be called by the same name as the
one given with the <samp>`--file'</samp> option.  As usual, if you omit
<samp>`--file'</samp>, <code>tar</code> will use the value of the environment
variable <code>TAPE</code>, or, if this has not been set, the default archive name.
</p>
<p>See <cite>There is no way to specify a new name...</cite>
</p>

<p>To demonstrate how <samp>`--concatenate'</samp> works, create two small archives
called <tt>`bluesrock.tar'</tt> and <tt>`folkjazz.tar'</tt>, using the relevant
files from <tt>`practice'</tt>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cvf bluesrock.tar blues rock</kbd>
blues
rock
$ <kbd>tar -cvf folkjazz.tar folk jazz</kbd>
folk
jazz
</pre></td></tr></table>

<p>If you like, You can run <samp>`tar --list'</samp> to make sure the archives
contain what they are supposed to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -tvf bluesrock.tar</kbd>
-rw-r--r-- melissa/user    105 1997-01-21 19:42 blues
-rw-r--r-- melissa/user     33 1997-01-20 15:34 rock
$ <kbd>tar -tvf jazzfolk.tar</kbd>
-rw-r--r-- melissa/user     20 1996-09-23 16:44 folk
-rw-r--r-- melissa/user     65 1997-01-30 14:15 jazz
</pre></td></tr></table>
<p>We can concatenate these two archives with <code>tar</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>cd ..</kbd>
$ <kbd>tar --concatenate --file=bluesrock.tar jazzfolk.tar</kbd>
</pre></td></tr></table>
<p>If you now list the contents of the <tt>`bluesrock.tar'</tt>, you will see
that now it also contains the archive members of <tt>`jazzfolk.tar'</tt>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --file=bluesrock.tar</kbd>
blues
rock
folk
jazz
</pre></td></tr></table>
<p>When you use <samp>`--concatenate'</samp>, the source and target archives must
already exist and must have been created using compatible format
parameters.  Notice, that <code>tar</code> does not check whether the
archives it concatenates have compatible formats, it does not
even check if the files are really tar archives.
</p>
<p>Like <samp>`--append'</samp> (<samp>`-r'</samp>), this operation cannot be performed on some
tape drives, due to deficiencies in the formats those tape drives use.
</p>
<a name="IDX288"></a>
<a name="IDX289"></a>
<p>It may seem more intuitive to you to want or try to use <code>cat</code> to
concatenate two archives instead of using the <samp>`--concatenate'</samp>
operation; after all, <code>cat</code> is the utility for combining files.
</p>
<p>However, <code>tar</code> archives incorporate an end-of-file marker which
must be removed if the concatenated archives are to be read properly as
one archive.  <samp>`--concatenate'</samp> removes the end-of-archive marker
from the target archive before each new archive is appended.  If you use
<code>cat</code> to combine the archives, the result will not be a valid
<code>tar</code> format archive.  If you need to retrieve files from an
archive that was added to using the <code>cat</code> utility, use the
<samp>`--ignore-zeros'</samp> (<samp>`-i'</samp>) option.  See section <a href="#SEC75">Ignoring Blocks of Zeros</a>, for further
information on dealing with archives improperly combined using the
<code>cat</code> shell utility.
</p>
<hr size="6">
<a name="delete"></a>
<a name="SEC66"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC65" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC67" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC58" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.2.5 Removing Archive Members Using <samp>`--delete'</samp> </h3>

<p>You can remove members from an archive by using the <samp>`--delete'</samp>
option.  Specify the name of the archive with <samp>`--file'</samp>
(<samp>`-f'</samp>) and then specify the names of the members to be deleted;
if you list no member names, nothing will be deleted.  The
<samp>`--verbose'</samp> option will cause <code>tar</code> to print the names
of the members as they are deleted. As with <samp>`--extract'</samp>, you
must give the exact member names when using <samp>`tar --delete'</samp>.
<samp>`--delete'</samp> will remove all versions of the named file from the
archive.  The <samp>`--delete'</samp> operation can run very slowly.
</p>
<p>Unlike other operations, <samp>`--delete'</samp> has no short form.
</p>
<a name="IDX290"></a>
<a name="IDX291"></a>
<p>This operation will rewrite the archive.  You can only use
<samp>`--delete'</samp> on an archive if the archive device allows you to
write to any point on the media, such as a disk; because of this, it
does not work on magnetic tapes.  Do not try to delete an archive member
from a magnetic tape; the action will not succeed, and you will be
likely to scramble the archive and damage your tape.  There is no safe
way (except by completely re-writing the archive) to delete files from
most kinds of magnetic tape.  See section <a href="#SEC154">Tapes and Other Archive Media</a>.
</p>
<p>To delete all versions of the file <tt>`blues'</tt> from the archive
<tt>`collection.tar'</tt> in the <tt>`practice'</tt> directory, make sure you
are in that directory, and then,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --list --file=collection.tar</kbd>
blues
folk
jazz
rock
$ <kbd>tar --delete --file=collection.tar blues</kbd>
$ <kbd>tar --list --file=collection.tar</kbd>
folk
jazz
rock
</pre></td></tr></table>
<p>See <cite>Check if the above listing is actually produced after running
all the examples on collection.tar.</cite>
</p>

<p>The <samp>`--delete'</samp> option has been reported to work properly when
<code>tar</code> acts as a filter from <code>stdin</code> to <code>stdout</code>.
</p>
<hr size="6">
<a name="compare"></a>
<a name="SEC67"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC66" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC68" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC58" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.2.6 Comparing Archive Members with the File System </h3>

<p>The <samp>`--compare'</samp> (<samp>`-d'</samp>), or <samp>`--diff'</samp> operation compares
specified archive members against files with the same names, and then
reports differences in file size, mode, owner, modification date and
contents.  You should <em>only</em> specify archive member names, not file
names.  If you do not name any members, then <code>tar</code> will compare the
entire archive.  If a file is represented in the archive but does not
exist in the file system, <code>tar</code> reports a difference.
</p>
<p>You have to specify the record size of the archive when modifying an
archive with a non-default record size.
</p>
<p><code>tar</code> ignores files in the file system that do not have
corresponding members in the archive.
</p>
<p>The following example compares the archive members <tt>`rock'</tt>,
<tt>`blues'</tt> and <tt>`funk'</tt> in the archive <tt>`bluesrock.tar'</tt> with
files of the same name in the file system.  (Note that there is no file,
<tt>`funk'</tt>; <code>tar</code> will report an error message.)
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --compare --file=bluesrock.tar rock blues funk</kbd>
rock
blues
tar: funk not found in archive
</pre></td></tr></table>
<p>The spirit behind the <samp>`--compare'</samp> (<samp>`--diff'</samp>,
<samp>`-d'</samp>) option is to check whether the archive represents the
current state of files on disk, more than validating the integrity of
the archive media.  For this latter goal, see <a href="#SEC169">Verifying Data as It is Stored</a>.
</p>
<hr size="6">
<a name="create-options"></a>
<a name="SEC68"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC67" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.3 Options Used by <samp>`--create'</samp> </h2>

<p>The previous chapter described the basics of how to use
<samp>`--create'</samp> (<samp>`-c'</samp>) to create an archive from a set of files.
See section <a href="#SEC17">How to Create Archives</a>.  This section described advanced options to be used with
<samp>`--create'</samp>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC69">4.3.1 Overriding File Metadata</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC70">4.3.2 Extended File Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC71">4.3.3 Ignore Failed Read</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="override"></a>
<a name="SEC69"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC68" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC70" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC68" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.3.1 Overriding File Metadata </h3>

<p>As described above, a <code>tar</code> archive keeps, for each member it contains,
its <em>metadata</em>, such as modification time, mode and ownership of
the file.  <acronym>GNU</acronym> <code>tar</code> allows to replace these data with other values
when adding files to the archive.  The options described in this
section affect creation of archives of any type.  For POSIX archives,
see also <a href="#SEC147">Controlling Extended Header Keywords</a>, for additional ways of controlling
metadata, stored in the archive.
</p>
<dl compact="compact">
<dd><a name="IDX292"></a>
</dd>
<dt> <samp>`--mode=<var>permissions</var>'</samp></dt>
<dd>
<p>When adding files to an archive, <code>tar</code> will use
<var>permissions</var> for the archive members, rather than the permissions
from the files.  <var>permissions</var> can be specified either as an octal
number or as symbolic permissions, like with
<code>chmod</code> (See <a href="fileutils.html#File-permissions">Permissions: (fileutils)File permissions</a> section `File permissions' in <cite><acronym>GNU</acronym> file utilities</cite>.  This reference
also has useful information for those not being overly familiar with
the UNIX permission system).  Using latter syntax allows for
more flexibility.  For example, the value <samp>`a+rw'</samp> adds read and write
permissions for everybody, while retaining executable bits on directories
or on any other file already marked as executable:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar --mode='a+rw' .</kbd>
</pre></td></tr></table>
</dd>
<dt> <samp>`--mtime=<var>date</var>'</samp></dt>
<dd><a name="IDX293"></a>

<p>When adding files to an archive, <code>tar</code> will use <var>date</var> as
the modification time of members when creating archives, instead of
their actual modification times.  The argument <var>date</var> can be
either a textual date representation in almost arbitrary format
(see section <a href="#SEC121">Date input formats</a>) or a name of an existing file, starting
with <samp>`/'</samp> or <samp>`.'</samp>.  In the latter case, the modification time
of that file will be used.
</p>
<p>The following example will set the modification date to 00:00:00,
January 1, 1970:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar --mtime='1970-01-01' .</kbd>
</pre></td></tr></table>

<p>When used with <samp>`--verbose'</samp> (see section <a href="#SEC15">The <samp>`--verbose'</samp> Option</a>) <acronym>GNU</acronym> <code>tar</code>
will try to convert the specified date back to its textual
representation and compare it with the one given with
<samp>`--mtime'</samp> options.  If the two dates differ, <code>tar</code> will
print a warning saying what date it will use.  This is to help user
ensure he is using the right date.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar -v --mtime=yesterday .</kbd>
tar: Option --mtime: Treating date 'yesterday' as 2006-06-20
13:06:29.152478
&hellip;
</pre></td></tr></table>

<p>When used with <samp>`--clamp-mtime'</samp> <acronym>GNU</acronym> <code>tar</code> will only set the
modification date to <var>date</var> on files whose actual modification
date is later than <var>date</var>.  This is to make it easy to build
reproducible archives given a common timestamp for generated files
while still retaining the original timestamps of untouched files.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar --clamp-mtime --mtime=@$SOURCE_DATE_EPOCH .</kbd>
</pre></td></tr></table>
</dd>
<dt> <samp>`--owner=<var>user</var>'</samp></dt>
<dd><a name="IDX294"></a>

<p>Specifies that <code>tar</code> should use <var>user</var> as the owner of members
when creating archives, instead of the user associated with the source
file.
</p>
<p>If <var>user</var> contains a colon, it is taken to be of the form
<var>name</var>:<var>id</var> where a nonempty <var>name</var> specifies the user
name and a nonempty <var>id</var> specifies the decimal numeric user
<acronym>ID</acronym>.  If <var>user</var> does not contain a colon, it is taken to
be a user number if it is one or more decimal digits; otherwise it is
taken to be a user name.
</p>
<p>If a name is given but no number, the number is inferred from the
current host's user database if possible, and the file's user number
is used otherwise.  If a number is given but no name, the name is
inferred from the number if possible, and an empty name is used
otherwise.  If both name and number are given, the user database is
not consulted, and the name and number need not be valid on the
current host.
</p>
<p>There is no value indicating a missing number, and <samp>`0'</samp> usually means
<code>root</code>.  Some people like to force <samp>`0'</samp> as the value to offer in
their distributions for the owner of files, because the <code>root</code> user is
anonymous anyway, so that might as well be the owner of anonymous
archives.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar --owner=0 .</kbd>
</pre></td></tr></table>

<p>or:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar --owner=root .</kbd>
</pre></td></tr></table>
</dd>
<dt> <samp>`--group=<var>group</var>'</samp></dt>
<dd><a name="IDX295"></a>

<p>Files added to the <code>tar</code> archive will have a group <acronym>ID</acronym> of <var>group</var>,
rather than the group from the source file.  As with <samp>`--owner'</samp>,
the argument <var>group</var> can be an existing group symbolic name, or a
decimal numeric group <acronym>ID</acronym>, or <var>name</var>:<var>id</var>.
</p></dd>
</dl>

<p>The <samp>`--owner'</samp> and <samp>`--group'</samp> options affect all files
added to the archive.  <acronym>GNU</acronym> <code>tar</code> provides also two options that allow
for more detailed control over owner translation:
</p>
<dl compact="compact">
<dt> <samp>`--owner-map=<var>file</var>'</samp></dt>
<dd><p>Read UID translation map from <var>file</var>.
</p>
<p>When reading, empty lines are ignored.  The <samp>`#'</samp> sign, unless
quoted, introduces a comment, which extends to the end of the line.
Each nonempty line defines mapping for a single UID.  It must consist
of two fields separated by any amount of whitespace.  The first field
defines original username and UID.  It can be a valid user name or
a valid UID prefixed with a plus sign.  In both cases the
corresponding UID or user name is inferred from the current host's
user database.
</p>
<p>The second field defines the UID and username to map the original one
to.  Its format can be the same as described above.  Otherwise, it can
have the form <var>newname</var>:<var>newuid</var>, in which case neither
<var>newname</var> nor <var>newuid</var> are required to be valid as per the
user database.
</p>
<p>For example, consider the following file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">+10     bin
smith   root:0
</pre></td></tr></table>

<p>Given this file, each input file that is owner by UID 10 will be
stored in archive with owner name <samp>`bin'</samp> and owner UID
corresponding to <samp>`bin'</samp>.  Each file owned by user <samp>`smith'</samp>
will be stored with owner name <samp>`root'</samp> and owner ID 0.  Other
files will remain unchanged.
</p>
<p>When used together with <samp>`--owner-map'</samp>, the <samp>`--owner'</samp>
option affects only files whose owner is not listed in the map file.
</p>
</dd>
<dt> <samp>`--group-map=<var>file</var>'</samp></dt>
<dd><p>Read GID translation map from <var>file</var>.
</p>
<p>The format of <var>file</var> is the same as for <samp>`--owner-map'</samp>
option:
</p>
<p>Each nonempty line defines mapping for a single GID.  It must consist
of two fields separated by any amount of whitespace.  The first field
defines original group name and GID.  It can be a valid group name or
a valid GID prefixed with a plus sign.  In both cases the
corresponding GID or user name is inferred from the current host's
group database.
</p>
<p>The second field defines the GID and group name to map the original one
to.  Its format can be the same as described above.  Otherwise, it can
have the form <var>newname</var>:<var>newgid</var>, in which case neither
<var>newname</var> nor <var>newgid</var> are required to be valid as per the
group database.
</p>
<p>When used together with <samp>`--group-map'</samp>, the <samp>`--group'</samp>
option affects only files whose owner group is not rewritten using the
map file.
</p></dd>
</dl>

<hr size="6">
<a name="Extended-File-Attributes"></a>
<a name="SEC70"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC69" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC71" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC68" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.3.2 Extended File Attributes </h3>

<p>Extended file attributes are name-value pairs that can be
associated with each node in a file system.  Despite the fact that
POSIX.1e draft which proposed them has been withdrawn, the extended
file attributes are supported by many file systems.  <acronym>GNU</acronym> <code>tar</code> can
store extended file attributes along with the files.  This feature is
controlled by the following command line arguments:
</p>
<dl compact="compact">
<dt> <samp>`--xattrs'</samp></dt>
<dd><p>Enable extended attributes support.  When used with <samp>`--create'</samp>,
this option instructs <acronym>GNU</acronym> <code>tar</code>
created archive.  This implies POSIX.1-2001 archive format
(<samp>`--format=pax'</samp>).
</p>
<p>When used with <samp>`--extract'</samp>, this option tells <code>tar</code>,
for each file extracted, to read stored attributes from the archive
and to apply them to the file.
</p>
</dd>
<dt> <samp>`--no-xattrs'</samp></dt>
<dd><p>Disable extended attributes support.  This is the default.
</p></dd>
</dl>

<p>Attribute names are strings prefixed by a <em>namespace</em> name and a dot.
Currently, four namespaces exist: <samp>`user'</samp>, <samp>`trusted'</samp>,
<samp>`security'</samp> and <samp>`system'</samp>.  By default, when <samp>`--xattr'</samp>
is used, all names are stored in the archive (or extracted, if using
<samp>`--extract'</samp>).  This can be controlled using the following
options:
</p>
<dl compact="compact">
<dt> <samp>`--xattrs-exclude=<var>pattern</var>'</samp></dt>
<dd><p>Specify exclude pattern for extended attributes.
</p>
</dd>
<dt> <samp>`--xattrs-include=<var>pattern</var>'</samp></dt>
<dd><p>Specify include pattern for extended attributes.
</p></dd>
</dl>

<p>Here, the <var>pattern</var> is a globbing pattern.  For example, the
following command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ <kbd>tar --xattrs --xattrs-exclude='user.*' -c a.tar .</kbd>
</pre></td></tr></table>
<p>will include in the archive <tt>`a.tar'</tt> all attributes, except those
from the <samp>`user'</samp> namespace.
</p>
<p>Any number of these options can be given, thereby creating lists of
include and exclude patterns.
</p>
<p>When both options are used, first <samp>`--xattrs-include'</samp> is applied
to select the set of attribute names to keep, and then
<samp>`--xattrs-exclude'</samp> is applied to the resulting set.  In other
words, only those attributes will be stored, whose names match one
of the regexps in <samp>`--xattrs-include'</samp> and don't match any of
the regexps from <samp>`--xattrs-exclude'</samp>.
</p>
<p>When listing the archive, if both <samp>`--xattrs'</samp> and
<samp>`--verbose'</samp> options are given, files that have extended
attributes are marked with an asterisk following their permission
mask.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">-rw-r--r--* smith/users      110 2016-03-16 16:07 file
</pre></td></tr></table>
<p>When two or more <samp>`--verbose'</samp> options are given, a detailed
listing of extended attributes is printed after each file entry.  Each
attribute is listed on a separate line, which begins with two spaces
and the letter <samp>`x'</samp> indicating extended attribute.  It is followed
by a colon, length of the attribute and its name, e.g.:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">-rw-r--r--* smith/users      110 2016-03-16 16:07 file
  x:  7 user.mime_type
  x: 32 trusted.md5sum
</pre></td></tr></table>
<p>File access control lists (<em>ACL</em>) are another actively used feature
proposed by the POSIX.1e standard.  Each ACL consists of a set of ACL
entries, each of which describes the access permissions on the file for
an individual user or a group of users as a combination of read, write
and search/execute permissions.
</p>
<p>Whether or not to use ACLs is controlled by the following two options:
</p>
<dl compact="compact">
<dt> <samp>`--acls'</samp></dt>
<dd><p>Enable POSIX ACLs support.  When used with <samp>`--create'</samp>,
this option instructs <acronym>GNU</acronym> <code>tar</code> to store ACLs in the
created archive.  This implies POSIX.1-2001 archive format
(<samp>`--format=pax'</samp>).
</p>
<p>When used with <samp>`--extract'</samp>, this option tells <code>tar</code>,
to restore ACLs for each file extracted (provided they are present
in the archive).
</p>
</dd>
<dt> <samp>`--no-acls'</samp></dt>
<dd><p>Disable POSIX ACLs support.  This is the default.
</p></dd>
</dl>

<p>When listing the archive, if both <samp>`--acls'</samp> and
<samp>`--verbose'</samp> options are given, files that have ACLs are marked
with a plus sing following their permission mask.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">-rw-r--r--+ smith/users      110 2016-03-16 16:07 file
</pre></td></tr></table>
<p>When two or more <samp>`--verbose'</samp> options are given, a detailed
listing of ACL is printed after each file entry:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">-rw-r--r--+ smith/users      110 2016-03-16 16:07 file
  a: user::rw-,user:gray:-w-,group::r--,mask::rw-,other::r--
</pre></td></tr></table>
<p><em>Security-Enhanced Linux</em> (<em>SELinux</em> for short) is a Linux
kernel security module that provides a mechanism for supporting access
control security policies, including so-called mandatory access
controls (<em>MAC</em>).  Support for SELinux attributes is controlled by
the following command line options:
</p>
<dl compact="compact">
<dt> <samp>`--selinux'</samp></dt>
<dd><p>Enable the SELinux context support.
</p>
</dd>
<dt> <samp>`--no-selinux'</samp></dt>
<dd><p>Disable SELinux context support.
</p></dd>
</dl>

<hr size="6">
<a name="Ignore-Failed-Read"></a>
<a name="SEC71"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC70" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC68" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.3.3 Ignore Failed Read </h3>

<dl compact="compact">
<dt> <samp>`--ignore-failed-read'</samp></dt>
<dd><a name="IDX296"></a>
<p>Do not exit with nonzero on unreadable files or directories.
</p></dd>
</dl>

<p>This option has effect only during creation.  It instructs tar to
treat as mild conditions any missing or unreadable files (directories).
Such failures don't affect the program exit code, and the
corresponding diagnostic messages are marked as warnings, not errors.
These warnings can be suppressed using the
<samp>`--warning=failed-read'</samp> option (see section <a href="#SEC49">Controlling Warning Messages</a>).
</p>
<hr size="6">
<a name="extract-options"></a>
<a name="SEC72"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC71" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC73" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.4 Options Used by <samp>`--extract'</samp> </h2>

<p>The previous chapter showed how to use <samp>`--extract'</samp> to extract
an archive into the file system.  Various options cause <code>tar</code> to
extract more information than just file contents, such as the owner,
the permissions, the modification date, and so forth.  This section
presents options to be used with <samp>`--extract'</samp> when certain special
considerations arise.  You may review the information presented in
<a href="#SEC25">How to Extract Members from an Archive</a> for more basic information about the
<samp>`--extract'</samp> operation.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC73">4.4.1 Options to Help Read Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC76">4.4.2 Changing How <code>tar</code> Writes Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC89">4.4.3 Coping with Scarce Resources</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Reading"></a>
<a name="SEC73"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC72" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC74" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.4.1 Options to Help Read Archives </h3>

<p>Normally, <code>tar</code> will request data in full record increments from
an archive storage device.  If the device cannot return a full record,
<code>tar</code> will report an error.  However, some devices do not always
return full records, or do not require the last record of an archive to
be padded out to the next record boundary.  To keep reading until you
obtain a full record, or to accept an incomplete record if it contains
an end-of-archive marker, specify the <samp>`--read-full-records'</samp> (<samp>`-B'</samp>) option
in conjunction with the <samp>`--extract'</samp> or <samp>`--list'</samp> operations.
See section <a href="#SEC158">Blocking</a>.
</p>
<p>The <samp>`--read-full-records'</samp> (<samp>`-B'</samp>) option is turned on by default when
<code>tar</code> reads an archive from standard input, or from a remote
machine.  This is because on <acronym>BSD</acronym> Unix systems, attempting to read a
pipe returns however much happens to be in the pipe, even if it is
less than was requested.  If this option were not enabled, <code>tar</code>
would fail as soon as it read an incomplete record from the pipe.
</p>
<p>If you're not sure of the blocking factor of an archive, you can
read the archive by specifying <samp>`--read-full-records'</samp> (<samp>`-B'</samp>) and
<samp>`--blocking-factor=<var>512-size</var>'</samp> (<samp>`-b
<var>512-size</var>'</samp>), using a blocking factor larger than what the archive
uses.  This lets you avoid having to determine the blocking factor
of an archive.  See section <a href="#SEC160">The Blocking Factor of an Archive</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC74">Reading Full Records</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC75">Ignoring Blocks of Zeros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="read-full-records"></a>
<a name="SEC74"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC73" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC75" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC73" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Reading Full Records </h4>

<p>See <cite>need sentence or so of intro here</cite>
</p>

<dl compact="compact">
<dd><a name="IDX297"></a>
</dd>
<dt> <samp>`--read-full-records'</samp></dt>
<dt> <samp>`-B'</samp></dt>
<dd><p>Use in conjunction with <samp>`--extract'</samp> (<samp>`--get'</samp>,
<samp>`-x'</samp>) to read an archive which contains incomplete records, or
one which has a blocking factor less than the one specified.
</p></dd>
</dl>

<hr size="6">
<a name="Ignore-Zeros"></a>
<a name="SEC75"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC74" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC73" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Ignoring Blocks of Zeros </h4>

<p>Normally, <code>tar</code> stops reading when it encounters a block of zeros
between file entries (which usually indicates the end of the archive).
<samp>`--ignore-zeros'</samp> (<samp>`-i'</samp>) allows <code>tar</code> to
completely read an archive which contains a block of zeros before the
end (i.e., a damaged archive, or one that was created by concatenating
several archives together).
</p>
<p>The <samp>`--ignore-zeros'</samp> (<samp>`-i'</samp>) option is turned off by default because many
versions of <code>tar</code> write garbage after the end-of-archive entry,
since that part of the media is never supposed to be read.  <acronym>GNU</acronym> <code>tar</code>
does not write after the end of an archive, but seeks to
maintain compatibility among archiving utilities.
</p>
<dl compact="compact">
<dt> <samp>`--ignore-zeros'</samp></dt>
<dt> <samp>`-i'</samp></dt>
<dd><p>To ignore blocks of zeros (i.e., end-of-archive entries) which may be
encountered while reading an archive.  Use in conjunction with
<samp>`--extract'</samp> or <samp>`--list'</samp>.
</p></dd>
</dl>

<hr size="6">
<a name="Writing"></a>
<a name="SEC76"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC75" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC77" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.4.2 Changing How <code>tar</code> Writes Files </h3>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>See <cite>Introductory paragraph</cite>
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC77">Options Controlling the Overwriting of Existing Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC78">Overwrite Old Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC79">Keep Old Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC80">Keep Newer Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC81">Unlink First</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC82">Recursive Unlink</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC83">Setting Data Modification Times</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC84">Setting Access Permissions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC85">Directory Modification Times and Permissions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC86">Writing to Standard Output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC87">Writing to an External Program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC88">Removing Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Dealing-with-Old-Files"></a>
<a name="SEC77"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC76" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC78" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Options Controlling the Overwriting of Existing Files </h4>

<p>When extracting files, if <code>tar</code> discovers that the extracted
file already exists, it normally replaces the file by removing it before
extracting it, to prevent confusion in the presence of hard or symbolic
links.  (If the existing file is a symbolic link, it is removed, not
followed.)  However, if a directory cannot be removed because it is
nonempty, <code>tar</code> normally overwrites its metadata (ownership,
permission, etc.).  The <samp>`--overwrite-dir'</samp> option enables this
default behavior.  To be more cautious and preserve the metadata of
such a directory, use the <samp>`--no-overwrite-dir'</samp> option.
</p>
<a name="IDX298"></a>
<a name="IDX299"></a>
<p>To be even more cautious and prevent existing files from being replaced, use
the <samp>`--keep-old-files'</samp> (<samp>`-k'</samp>) option.  It causes
<code>tar</code> to refuse to replace or update a file that already
exists, i.e., a file with the same name as an archive member prevents
extraction of that archive member.  Instead, it reports an error.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ <kbd>ls</kbd>
blues
$ <kbd>tar -x -k -f archive.tar</kbd>
tar: blues: Cannot open: File exists
tar: Exiting with failure status due to previous errors
</pre></td></tr></table>
<a name="IDX300"></a>
<p>If you wish to preserve old files untouched, but don't want
<code>tar</code> to treat them as errors, use the
<samp>`--skip-old-files'</samp> option.  This option causes <code>tar</code> to
silently skip extracting over existing files.
</p>
<a name="IDX301"></a>
<p>To be more aggressive about altering existing files, use the
<samp>`--overwrite'</samp> option.  It causes <code>tar</code> to overwrite
existing files and to follow existing symbolic links when extracting.
</p>
<a name="IDX302"></a>
<p>Some people argue that <acronym>GNU</acronym> <code>tar</code> should not hesitate
to overwrite files with other files when extracting.  When extracting
a <code>tar</code> archive, they expect to see a faithful copy of the
state of the file system when the archive was created.  It is debatable
that this would always be a proper behavior.  For example, suppose one
has an archive in which <tt>`usr/local'</tt> is a link to
<tt>`usr/local2'</tt>.  Since then, maybe the site removed the link and
renamed the whole hierarchy from <tt>`/usr/local2'</tt> to
<tt>`/usr/local'</tt>.  Such things happen all the time.  I guess it would
not be welcome at all that <acronym>GNU</acronym> <code>tar</code> removes the
whole hierarchy just to make room for the link to be reinstated
(unless it <em>also</em> simultaneously restores the full
<tt>`/usr/local2'</tt>, of course!)  <acronym>GNU</acronym> <code>tar</code> is indeed
able to remove a whole hierarchy to reestablish a symbolic link, for
example, but <em>only if</em> <samp>`--recursive-unlink'</samp> is specified
to allow this behavior.  In any case, single files are silently
removed.
</p>
<a name="IDX303"></a>
<p>Finally, the <samp>`--unlink-first'</samp> (<samp>`-U'</samp>) option can improve performance in
some cases by causing <code>tar</code> to remove files unconditionally
before extracting them.
</p>
<hr size="6">
<a name="Overwrite-Old-Files"></a>
<a name="SEC78"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC77" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC79" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Overwrite Old Files </h4>

<dl compact="compact">
<dd><a name="IDX304"></a>
</dd>
<dt> <samp>`--overwrite'</samp></dt>
<dd><p>Overwrite existing files and directory metadata when extracting files
from an archive.
</p>
<p>This causes <code>tar</code> to write extracted files into the file system without
regard to the files already on the system; i.e., files with the same
names as archive members are overwritten when the archive is extracted.
It also causes <code>tar</code> to extract the ownership, permissions,
and time stamps onto any preexisting files or directories.
If the name of a corresponding file name is a symbolic link, the file
pointed to by the symbolic link will be overwritten instead of the
symbolic link itself (if this is possible).  Moreover, special devices,
empty directories and even symbolic links are automatically removed if
they are in the way of extraction.
</p>
<p>Be careful when using the <samp>`--overwrite'</samp> option, particularly when
combined with the <samp>`--absolute-names'</samp> (<samp>`-P'</samp>) option, as this combination
can change the contents, ownership or permissions of any file on your
system.  Also, many systems do not take kindly to overwriting files that
are currently being executed.
</p>
<a name="IDX305"></a>
</dd>
<dt> <samp>`--overwrite-dir'</samp></dt>
<dd><p>Overwrite the metadata of directories when extracting files from an
archive, but remove other files before extracting.
</p></dd>
</dl>

<hr size="6">
<a name="Keep-Old-Files"></a>
<a name="SEC79"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC78" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC80" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Keep Old Files </h4>

<p><acronym>GNU</acronym> <code>tar</code> provides two options to control its actions in a situation
when it is about to extract a file which already exists on disk.
</p>
<dl compact="compact">
<dd><a name="IDX306"></a>
</dd>
<dt> <samp>`--keep-old-files'</samp></dt>
<dt> <samp>`-k'</samp></dt>
<dd><p>Do not replace existing files from archive.  When such a file is
encountered, <code>tar</code> issues an error message.  Upon end of
extraction, <code>tar</code> exits with code 2 (see <a href="#exit-status">exit status</a>).
</p>
</dd>
<dt> <samp>`--skip-old-files'</samp></dt>
<dd><p>Do not replace existing files from archive, but do not treat that
as error.  Such files are silently skipped and do not affect
<code>tar</code> exit status.
</p>
<p>Additional verbosity can be obtained using <samp>`--warning=existing-file'</samp>
together with that option (see section <a href="#SEC49">Controlling Warning Messages</a>).
</p></dd>
</dl>

<hr size="6">
<a name="Keep-Newer-Files"></a>
<a name="SEC80"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC79" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC81" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Keep Newer Files </h4>

<dl compact="compact">
<dd><a name="IDX307"></a>
</dd>
<dt> <samp>`--keep-newer-files'</samp></dt>
<dd><p>Do not replace existing files that are newer than their archive
copies.  This option is meaningless with <samp>`--list'</samp> (<samp>`-t'</samp>).
</p></dd>
</dl>

<hr size="6">
<a name="Unlink-First"></a>
<a name="SEC81"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC80" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC82" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Unlink First </h4>

<dl compact="compact">
<dd><a name="IDX308"></a>
</dd>
<dt> <samp>`--unlink-first'</samp></dt>
<dt> <samp>`-U'</samp></dt>
<dd><p>Remove files before extracting over them.
This can make <code>tar</code> run a bit faster if you know in advance
that the extracted files all need to be removed.  Normally this option
slows <code>tar</code> down slightly, so it is disabled by default.
</p></dd>
</dl>

<hr size="6">
<a name="Recursive-Unlink"></a>
<a name="SEC82"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC81" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC83" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Recursive Unlink </h4>

<dl compact="compact">
<dd><a name="IDX309"></a>
</dd>
<dt> <samp>`--recursive-unlink'</samp></dt>
<dd><p>When this option is specified, try removing files and directory hierarchies
before extracting over them.  <em>This is a dangerous option!</em>
</p></dd>
</dl>

<p>If you specify the <samp>`--recursive-unlink'</samp> option,
<code>tar</code> removes <em>anything</em> that keeps you from extracting a file
as far as current permissions will allow it.  This could include removal
of the contents of a full directory hierarchy.
</p>
<hr size="6">
<a name="Data-Modification-Times"></a>
<a name="SEC83"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC82" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC84" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Setting Data Modification Times </h4>

<p>Normally, <code>tar</code> sets the data modification times of extracted
files to the corresponding times recorded for the files in the archive, but
limits the permissions of extracted files by the current <code>umask</code>
setting.
</p>
<p>To set the data modification times of extracted files to the time when
the files were extracted, use the <samp>`--touch'</samp> (<samp>`-m'</samp>) option in
conjunction with <samp>`--extract'</samp> (<samp>`--get'</samp>, <samp>`-x'</samp>).
</p>
<dl compact="compact">
<dd><a name="IDX310"></a>
</dd>
<dt> <samp>`--touch'</samp></dt>
<dt> <samp>`-m'</samp></dt>
<dd><p>Sets the data modification time of extracted archive members to the time
they were extracted, not the time recorded for them in the archive.
Use in conjunction with <samp>`--extract'</samp> (<samp>`--get'</samp>, <samp>`-x'</samp>).
</p></dd>
</dl>

<hr size="6">
<a name="Setting-Access-Permissions"></a>
<a name="SEC84"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC83" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC85" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Setting Access Permissions </h4>

<p>To set the modes (access permissions) of extracted files to those
recorded for those files in the archive, use <samp>`--same-permissions'</samp>
in conjunction with the <samp>`--extract'</samp> (<samp>`--get'</samp>,
<samp>`-x'</samp>) operation.
</p>
<dl compact="compact">
<dd><a name="IDX311"></a>
<a name="IDX312"></a>
</dd>
<dt> <samp>`--preserve-permissions'</samp></dt>
<dt> <samp>`--same-permissions'</samp></dt>
<dt> <samp>`-p'</samp></dt>
<dd><p>Set modes of extracted archive members to those recorded in the
archive, instead of current umask settings.  Use in conjunction with
<samp>`--extract'</samp> (<samp>`--get'</samp>, <samp>`-x'</samp>).
</p></dd>
</dl>

<hr size="6">
<a name="Directory-Modification-Times-and-Permissions"></a>
<a name="SEC85"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC84" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC86" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Directory Modification Times and Permissions </h4>

<p>After successfully extracting a file member, <acronym>GNU</acronym> <code>tar</code> normally
restores its permissions and modification times, as described in the
previous sections.  This cannot be done for directories, because
after extracting a directory <code>tar</code> will almost certainly
extract files into that directory and this will cause the directory
modification time to be updated.  Moreover, restoring that directory
permissions may not permit file creation within it.  Thus, restoring
directory permissions and modification times must be delayed at least
until all files have been extracted into that directory.  <acronym>GNU</acronym> <code>tar</code>
restores directories using the following approach.
</p>
<p>The extracted directories are created with the mode specified in the
archive, as modified by the umask of the user, which gives sufficient
permissions to allow file creation.  The meta-information about the
directory is recorded in the temporary list of directories.  When
preparing to extract next archive member, <acronym>GNU</acronym> <code>tar</code> checks if the
directory prefix of this file contains the remembered directory.  If
it does not, the program assumes that all files have been extracted
into that directory, restores its modification time and permissions
and removes its entry from the internal list.  This approach allows
to correctly restore directory meta-information in the majority of
cases, while keeping memory requirements sufficiently small.  It is
based on the fact, that most <code>tar</code> archives use the predefined
order of members: first the directory, then all the files and
subdirectories in that directory.
</p>
<p>However, this is not always true.  The most important exception are
incremental archives (see section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>).  The member order in
an incremental archive is reversed: first all directory members are
stored, followed by other (non-directory) members.  So, when extracting
from incremental archives, <acronym>GNU</acronym> <code>tar</code> alters the above procedure.  It
remembers all restored directories, and restores their meta-data
only after the entire archive has been processed.  Notice, that you do
not need to specify any special options for that, as <acronym>GNU</acronym> <code>tar</code>
automatically detects archives in incremental format.
</p>
<p>There may be cases, when such processing is required for normal archives
too.  Consider the following example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --no-recursion -cvf archive \
    foo foo/file1 bar bar/file foo/file2</kbd>
foo/
foo/file1
bar/
bar/file
foo/file2
</pre></td></tr></table>
<p>During the normal operation, after encountering <tt>`bar'</tt>
<acronym>GNU</acronym> <code>tar</code> will assume that all files from the directory <tt>`foo'</tt>
were already extracted and will therefore restore its timestamp and
permission bits.  However, after extracting <tt>`foo/file2'</tt> the
directory timestamp will be offset again.
</p>
<p>To correctly restore directory meta-information in such cases, use
the <samp>`--delay-directory-restore'</samp> command line option:
</p>
<dl compact="compact">
<dd><a name="IDX313"></a>
</dd>
<dt> <samp>`--delay-directory-restore'</samp></dt>
<dd><p>Delays restoring of the modification times and permissions of extracted
directories until the end of extraction.  This way, correct
meta-information is restored even if the archive has unusual member
ordering.
</p>
<a name="IDX314"></a>
</dd>
<dt> <samp>`--no-delay-directory-restore'</samp></dt>
<dd><p>Cancel the effect of the previous <samp>`--delay-directory-restore'</samp>.
Use this option if you have used <samp>`--delay-directory-restore'</samp> in
<code>TAR_OPTIONS</code> variable (see <a href="#TAR_005fOPTIONS">TAR_OPTIONS</a>) and wish to
temporarily disable it.
</p></dd>
</dl>

<hr size="6">
<a name="Writing-to-Standard-Output"></a>
<a name="SEC86"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC85" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC87" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Writing to Standard Output </h4>

<p>To write the extracted files to the standard output, instead of
creating the files on the file system, use <samp>`--to-stdout'</samp> (<samp>`-O'</samp>) in
conjunction with <samp>`--extract'</samp> (<samp>`--get'</samp>, <samp>`-x'</samp>).  This option is useful if you are
extracting files to send them through a pipe, and do not need to
preserve them in the file system.  If you extract multiple members,
they appear on standard output concatenated, in the order they are
found in the archive.
</p>
<dl compact="compact">
<dd><a name="IDX315"></a>
</dd>
<dt> <samp>`--to-stdout'</samp></dt>
<dt> <samp>`-O'</samp></dt>
<dd><p>Writes files to the standard output.  Use only in conjunction with
<samp>`--extract'</samp> (<samp>`--get'</samp>, <samp>`-x'</samp>).  When this option is
used, instead of creating the files specified, <code>tar</code> writes
the contents of the files extracted to its standard output.  This may
be useful if you are only extracting the files in order to send them
through a pipe.  This option is meaningless with <samp>`--list'</samp>
(<samp>`-t'</samp>).
</p></dd>
</dl>

<p>This can be useful, for example, if you have a tar archive containing
a big file and don't want to store the file on disk before processing
it.  You can use a command like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar -xOzf foo.tgz bigfile | process
</pre></td></tr></table>
<p>or even like this if you want to process the concatenation of the files:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar -xOzf foo.tgz bigfile1 bigfile2 | process
</pre></td></tr></table>
<p>However, <samp>`--to-command'</samp> may be more convenient for use with
multiple files. See the next section.
</p>
<hr size="6">
<a name="Writing-to-an-External-Program"></a>
<a name="SEC87"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC86" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC88" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Writing to an External Program </h4>

<p>You can instruct <code>tar</code> to send the contents of each extracted
file to the standard input of an external program:
</p>
<dl compact="compact">
<dd><a name="IDX316"></a>
</dd>
<dt> <samp>`--to-command=<var>command</var>'</samp></dt>
<dd><p>Extract files and pipe their contents to the standard input of
<var>command</var>.  When this option is used, instead of creating the
files specified, <code>tar</code> invokes <var>command</var> and pipes the
contents of the files to its standard output.  The <var>command</var> may
contain command line arguments (see <a href="#SEC55">Running External Commands</a>,
for more detail).
</p>
<p>Notice, that <var>command</var> is executed once for each regular file
extracted.  Non-regular files (directories, etc.) are ignored when this
option is used.
</p></dd>
</dl>

<p>The command can obtain the information about the file it processes
from the following environment variables:
</p>
<dl compact="compact">
<dt> <code>TAR_FILETYPE</code></dt>
<dd><p>Type of the file. It is a single letter with the following meaning:
</p>
<table>
<tr><td><p> f </p></td><td><p> Regular file
</p></td></tr>
<tr><td><p> d </p></td><td><p> Directory
</p></td></tr>
<tr><td><p> l </p></td><td><p> Symbolic link
</p></td></tr>
<tr><td><p> h </p></td><td><p> Hard link
</p></td></tr>
<tr><td><p> b </p></td><td><p> Block device
</p></td></tr>
<tr><td><p> c </p></td><td><p> Character device
</p></td></tr>
</table>

<p>Currently only regular files are supported.
</p>
</dd>
<dt> <code>TAR_MODE</code></dt>
<dd><p>File mode, an octal number.
</p>
</dd>
<dt> <code>TAR_FILENAME</code></dt>
<dd><p>The name of the file.
</p>
</dd>
<dt> <code>TAR_REALNAME</code></dt>
<dd><p>Name of the file as stored in the archive.
</p>
</dd>
<dt> <code>TAR_UNAME</code></dt>
<dd><p>Name of the file owner.
</p>
</dd>
<dt> <code>TAR_GNAME</code></dt>
<dd><p>Name of the file owner group.
</p>
</dd>
<dt> <code>TAR_ATIME</code></dt>
<dd><p>Time of last access. It is a decimal number, representing seconds
since the Epoch.  If the archive provides times with nanosecond
precision, the nanoseconds are appended to the timestamp after a
decimal point.
</p>
</dd>
<dt> <code>TAR_MTIME</code></dt>
<dd><p>Time of last modification.
</p>
</dd>
<dt> <code>TAR_CTIME</code></dt>
<dd><p>Time of last status change.
</p>
</dd>
<dt> <code>TAR_SIZE</code></dt>
<dd><p>Size of the file.
</p>
</dd>
<dt> <code>TAR_UID</code></dt>
<dd><p>UID of the file owner.
</p>
</dd>
<dt> <code>TAR_GID</code></dt>
<dd><p>GID of the file owner.
</p></dd>
</dl>

<p>Additionally, the following variables contain information about
tar mode and the archive being processed:
</p>
<dl compact="compact">
<dt> <code>TAR_VERSION</code></dt>
<dd><p><acronym>GNU</acronym> <code>tar</code> version number.
</p>
</dd>
<dt> <code>TAR_ARCHIVE</code></dt>
<dd><p>The name of the archive <code>tar</code> is processing.
</p>
</dd>
<dt> <code>TAR_BLOCKING_FACTOR</code></dt>
<dd><p>Current blocking factor (see section <a href="#SEC158">Blocking</a>).
</p>
</dd>
<dt> <code>TAR_VOLUME</code></dt>
<dd><p>Ordinal number of the volume <code>tar</code> is processing.
</p>
</dd>
<dt> <code>TAR_FORMAT</code></dt>
<dd><p>Format of the archive being processed. See section <a href="#SEC133">Controlling the Archive Format</a>, for a complete
list of archive format names.
</p></dd>
</dl>

<p>These variables are defined prior to executing the command, so you can
pass them as arguments, if you prefer.  For example, if the command
<var>proc</var> takes the member name and size as its arguments, then you
could do:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -x -f archive.tar \
       --to-command='proc $TAR_FILENAME $TAR_SIZE'</kbd>
</pre></td></tr></table>

<p>Notice single quotes to prevent variable names from being expanded by
the shell when invoking <code>tar</code>.
</p>
<p>If <var>command</var> exits with a non-0 status, <code>tar</code> will print
an error message similar to the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar: 2345: Child returned status 1
</pre></td></tr></table>
<p>Here, <samp>`2345'</samp> is the PID of the finished process.
</p>
<p>If this behavior is not wanted, use <samp>`--ignore-command-error'</samp>:
</p>
<dl compact="compact">
<dd><a name="IDX317"></a>
</dd>
<dt> <samp>`--ignore-command-error'</samp></dt>
<dd><p>Ignore exit codes of subprocesses.  Notice that if the program
exits on signal or otherwise terminates abnormally, the error message
will be printed even if this option is used.
</p>
<a name="IDX318"></a>
</dd>
<dt> <samp>`--no-ignore-command-error'</samp></dt>
<dd><p>Cancel the effect of any previous <samp>`--ignore-command-error'</samp>
option. This option is useful if you have set
<samp>`--ignore-command-error'</samp> in <code>TAR_OPTIONS</code>
(see <a href="#TAR_005fOPTIONS">TAR_OPTIONS</a>) and wish to temporarily cancel it.
</p></dd>
</dl>

<hr size="6">
<a name="remove-files"></a>
<a name="SEC88"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC87" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC89" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC76" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Removing Files </h4>

<p>See <cite>The section is too terse. Something more to add? An example,
maybe?</cite>
</p>

<dl compact="compact">
<dd><a name="IDX319"></a>
</dd>
<dt> <samp>`--remove-files'</samp></dt>
<dd><p>Remove files after adding them to the archive.
</p></dd>
</dl>

<hr size="6">
<a name="Scarce"></a>
<a name="SEC89"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC88" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC90" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.4.3 Coping with Scarce Resources </h3>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<a name="IDX320"></a>
<a name="IDX321"></a>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC90">Starting File</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC91">Same Order</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Starting-File"></a>
<a name="SEC90"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC89" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC91" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC89" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Starting File </h4>

<dl compact="compact">
<dd><a name="IDX322"></a>
</dd>
<dt> <samp>`--starting-file=<var>name</var>'</samp></dt>
<dt> <samp>`-K <var>name</var>'</samp></dt>
<dd><p>Starts an operation in the middle of an archive.  Use in conjunction
with <samp>`--extract'</samp> (<samp>`--get'</samp>, <samp>`-x'</samp>) or <samp>`--list'</samp> (<samp>`-t'</samp>).
</p></dd>
</dl>

<a name="IDX323"></a>
<p>If a previous attempt to extract files failed due to lack of disk
space, you can use <samp>`--starting-file=<var>name</var>'</samp> (<samp>`-K
<var>name</var>'</samp>) to start extracting only after member <var>name</var> of the
archive.  This assumes, of course, that there is now free space, or
that you are now extracting into a different file system.  (You could
also choose to suspend <code>tar</code>, remove unnecessary files from
the file system, and then resume the same <code>tar</code> operation.
In this case, <samp>`--starting-file'</samp> is not necessary.)  See also
<a href="#SEC54">Asking for Confirmation During Operations</a>, and <a href="#SEC110">Excluding Some Files</a>.
</p>
<hr size="6">
<a name="Same-Order"></a>
<a name="SEC91"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC90" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC92" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC89" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="unnumberedsubsubsec"> Same Order </h4>

<dl compact="compact">
<dd><a name="IDX324"></a>
<a name="IDX325"></a>
<a name="IDX326"></a>
</dd>
<dt> <samp>`--same-order'</samp></dt>
<dt> <samp>`--preserve-order'</samp></dt>
<dt> <samp>`-s'</samp></dt>
<dd><p>To process large lists of file names on machines with small amounts of
memory.  Use in conjunction with <samp>`--compare'</samp> (<samp>`--diff'</samp>,
<samp>`-d'</samp>), <samp>`--list'</samp> (<samp>`-t'</samp>) or <samp>`--extract'</samp>
(<samp>`--get'</samp>, <samp>`-x'</samp>).
</p></dd>
</dl>

<p>The <samp>`--same-order'</samp> (<samp>`--preserve-order'</samp>, <samp>`-s'</samp>) option tells <code>tar</code> that the list of file
names to be listed or extracted is sorted in the same order as the
files in the archive.  This allows a large list of names to be used,
even on a small machine that would not otherwise be able to hold all
the names in memory at the same time.  Such a sorted list can easily be
created by running <samp>`tar -t'</samp> on the archive and editing its output.
</p>
<p>This option is probably never needed on modern computer systems.
</p>
<hr size="6">
<a name="backup"></a>
<a name="SEC92"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC91" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC93" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.5 Backup options </h2>


<p><acronym>GNU</acronym> <code>tar</code> offers options for making backups of files
before writing new versions.  These options control the details of
these backups.  They may apply to the archive itself before it is
created or rewritten, as well as individual extracted members.  Other
<acronym>GNU</acronym> programs (<code>cp</code>, <code>install</code>, <code>ln</code>,
and <code>mv</code>, for example) offer similar options.
</p>
<p>Backup options may prove unexpectedly useful when extracting archives
containing many members having identical name, or when extracting archives
on systems having file name limitations, making different members appear
as having similar names through the side-effect of name truncation.
See <cite>This is true only if we have a good scheme for truncated backup names,
which I'm not sure at all: I suspect work is needed in this area.</cite>
</p>
<p>When any existing file is backed up before being overwritten by extraction,
then clashing files are automatically be renamed to be unique, and the
true name is kept for only the last file of a series of clashing files.
By using verbose mode, users may track exactly what happens.
</p>
<p>At the detail level, some decisions are still experimental, and may
change in the future, we are waiting comments from our users.  So, please
do not learn to depend blindly on the details of the backup features.
For example, currently, directories themselves are never renamed through
using these options, so, extracting a file over a directory still has
good chances to fail.  Also, backup options apply to created archives,
not only to extracted members.  For created archives, backups will not
be attempted when the archive is a block or character device, or when it
refers to a remote file.
</p>
<p>For the sake of simplicity and efficiency, backups are made by renaming old
files prior to creation or extraction, and not by copying.  The original
name is restored if the file creation fails.  If a failure occurs after a
partial extraction of a file, both the backup and the partially extracted
file are kept.
</p>
<dl compact="compact">
<dt> <samp>`--backup[=<var>method</var>]'</samp></dt>
<dd><a name="IDX327"></a>
<a name="IDX328"></a>
<a name="IDX329"></a>
<p>Back up files that are about to be overwritten or removed.
Without this option, the original versions are destroyed.
</p>
<p>Use <var>method</var> to determine the type of backups made.
If <var>method</var> is not specified, use the value of the <code>VERSION_CONTROL</code>
environment variable.  And if <code>VERSION_CONTROL</code> is not set,
use the <samp>`existing'</samp> method.
</p>
<a name="IDX330"></a>
<p>This option corresponds to the Emacs variable <samp>`version-control'</samp>;
the same values for <var>method</var> are accepted as in Emacs.  This option
also allows more descriptive names.  The valid <var>method</var>s are:
</p>
<dl compact="compact">
<dt> <samp>`t'</samp></dt>
<dt> <samp>`numbered'</samp></dt>
<dd><a name="IDX331"></a>
<p>Always make numbered backups.
</p>
</dd>
<dt> <samp>`nil'</samp></dt>
<dt> <samp>`existing'</samp></dt>
<dd><a name="IDX332"></a>
<p>Make numbered backups of files that already have them, simple backups
of the others.
</p>
</dd>
<dt> <samp>`never'</samp></dt>
<dt> <samp>`simple'</samp></dt>
<dd><a name="IDX333"></a>
<p>Always make simple backups.
</p>
</dd>
</dl>

</dd>
<dt> <samp>`--suffix=<var>suffix</var>'</samp></dt>
<dd><a name="IDX334"></a>
<a name="IDX335"></a>
<a name="IDX336"></a>
<p>Append <var>suffix</var> to each backup file made with <samp>`--backup'</samp>.  If this
option is not specified, the value of the <code>SIMPLE_BACKUP_SUFFIX</code>
environment variable is used.  And if <code>SIMPLE_BACKUP_SUFFIX</code> is not
set, the default is <samp>`~'</samp>, just as in Emacs.
</p>
</dd>
</dl>

<hr size="6">
<a name="looking-ahead"></a>
<a name="SEC93"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC92" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC56" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.6 Looking Ahead: The Rest of this Manual </h2>

<p>You have now seen how to use all eight of the operations available to
<code>tar</code>, and a number of the possible options.  The next chapter
explains how to choose and change file and archive names, how to use
files to store names of other files which you can then call as
arguments to <code>tar</code> (this can help you save time if you expect to
archive the same list of files a number of times), and so forth.
See <cite>in case it's not obvious, i'm making this up in some sense
based on my limited memory of what the next chapter *really* does.  i
just wanted to flesh out this final section a little bit so i'd
remember to stick it in here. :-)</cite>
</p>

<p>If there are too many files to conveniently list on the command line,
you can list the names in a file, and <code>tar</code> will read that file.
See section <a href="#SEC108">Reading Names from a File</a>.
</p>
<p>There are various ways of causing <code>tar</code> to skip over some files,
and not archive them.  See section <a href="#SEC105">Choosing Files and Names for <code>tar</code></a>.
</p>
<hr size="6">
<a name="Backups"></a>
<a name="SEC94"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC93" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC95" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC56" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 5. Performing Backups and Restoring Files </h1>

<p><acronym>GNU</acronym> <code>tar</code> is distributed along with the scripts for performing backups
and restores.  Even if there is a good chance those scripts may be
satisfying to you, they are not the only scripts or methods available for doing
backups and restore.  You may well create your own, or use more
sophisticated packages dedicated to that purpose.
</p>
<p>Some users are enthusiastic about <code>Amanda</code> (The Advanced Maryland
Automatic Network Disk Archiver), a backup system developed by James
da Silva <tt>`jds@cs.umd.edu'</tt> and available on many Unix systems.
This is free software, and it is available from <a href="http://www.amanda.org">http://www.amanda.org</a>.
</p>
<p>See <cite>Here is a possible plan for a future documentation about the backuping
scripts which are provided within the <acronym>GNU</acronym> <code>tar</code>
distribution.
</cite> </p>
<ul>
<li><cite> dumps
 </cite> <ul class="toc">
<li>-<cite> what are dumps
 </cite> </li><li>-<cite> different levels of dumps
  </cite> <ul class="toc">
<li><cite> +  full dump = dump everything
  </cite> 
</li><li><cite> +  level 1, level 2 dumps etc
        A level <var>n</var> dump dumps everything changed since the last level
        <var>n</var>-1 dump (?)
  </cite> 
</li></ul>
 </li><li>-<cite> how to use scripts for dumps  (ie, the concept)
  </cite> <ul class="toc">
<li><cite> +  scripts to run after editing backup specs (details)
  </cite> 
</li></ul>
 </li><li>-<cite> Backup Specs, what is it.
  </cite> <ul class="toc">
<li><cite> +  how to customize
  </cite> 
</li><li><cite> +  actual text of script  [/sp/dump/backup-specs]
  </cite> 
</li></ul>
 </li><li>-<cite> Problems
  </cite> <ul class="toc">
<li><cite> +  rsh doesn't work
   </cite> 
</li><li><cite> +  rtape isn't installed
   </cite> 
</li><li><cite> +  (others?)
  </cite> 
</li></ul>
 </li><li>-<cite> the <samp>`--incremental'</samp> option of tar
 </cite> </li><li>-<cite> tapes
  </cite> <ul class="toc">
<li><cite> +  write protection
  </cite> 
</li><li><cite> +  types of media, different sizes and types, useful for different things
  </cite> 
</li><li><cite> +  files and tape marks
     one tape mark between files, two at end.
  </cite> 
</li><li><cite> +  positioning the tape
     MT writes two at end of write,
     backspaces over one when writing again.
  </cite> 
</li></ul>
<p><cite> </cite> </p></li></ul>
</li></ul>
<p><cite></cite>
</p>

<p>This chapter documents both the provided shell scripts and <code>tar</code>
options which are more specific to usage as a backup tool.
</p>
<p>To <em>back up</em> a file system means to create archives that contain
all the files in that file system.  Those archives can then be used to
restore any or all of those files (for instance if a disk crashes or a
file is accidentally deleted).  File system <em>backups</em> are also
called <em>dumps</em>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC95">5.1 Using <code>tar</code> to Perform Full Dumps</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC97">5.3 Levels of Backups</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC98">5.4 Setting Parameters for Backups and Restoration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC103">5.5 Using the Backup Scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC104">5.6 Using the Restore Script</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Full-Dumps"></a>
<a name="SEC95"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC94" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC96" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.1 Using <code>tar</code> to Perform Full Dumps </h2>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<a name="IDX337"></a>
<a name="IDX338"></a>

<a name="IDX339"></a>
<p>Full dumps should only be made when no other people or programs
are modifying files in the file system.  If files are modified while
<code>tar</code> is making the backup, they may not be stored properly in
the archive, in which case you won't be able to restore them if you
have to.  (Files not being modified are written with no trouble, and do
not corrupt the entire archive.)
</p>
<p>You will want to use the <samp>`--label=<var>archive-label</var>'</samp>
(<samp>`-V <var>archive-label</var>'</samp>) option to give the archive a
volume label, so you can tell what this archive is even if the label
falls off the tape, or anything like that.
</p>
<p>Unless the file system you are dumping is guaranteed to fit on
one volume, you will need to use the <samp>`--multi-volume'</samp> (<samp>`-M'</samp>) option.
Make sure you have enough tapes on hand to complete the backup.
</p>
<p>If you want to dump each file system separately you will need to use
the <samp>`--one-file-system'</samp> option to prevent
<code>tar</code> from crossing file system boundaries when storing
(sub)directories.
</p>
<p>The <samp>`--incremental'</samp> (<samp>`-G'</samp>) (see section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>)
option is not needed, since this is a complete copy of everything in
the file system, and a full restore from this backup would only be
done onto a completely
empty disk.
</p>
<p>Unless you are in a hurry, and trust the <code>tar</code> program (and your
tapes), it is a good idea to use the <samp>`--verify'</samp> (<samp>`-W'</samp>)
option, to make sure your files really made it onto the dump properly.
This will also detect cases where the file was modified while (or just
after) it was being archived.  Not all media (notably cartridge tapes)
are capable of being verified, unfortunately.
</p>
<hr size="6">
<a name="Incremental-Dumps"></a>
<a name="SEC96"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC95" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC97" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.2 Using <code>tar</code> to Perform Incremental Dumps </h2>

<p><em>Incremental backup</em> is a special form of <acronym>GNU</acronym> <code>tar</code> archive that
stores additional metadata so that exact state of the file system
can be restored when extracting the archive.
</p>
<p><acronym>GNU</acronym> <code>tar</code> currently offers two options for handling incremental
backups: <samp>`--listed-incremental=<var>snapshot-file</var>'</samp> (<samp>`-g
<var>snapshot-file</var>'</samp>) and <samp>`--incremental'</samp> (<samp>`-G'</samp>).
</p>
<a name="IDX340"></a>
<p>The option <samp>`--listed-incremental'</samp> instructs tar to operate on
an incremental archive with additional metadata stored in a standalone
file, called a <em>snapshot file</em>.  The purpose of this file is to help
determine which files have been changed, added or deleted since the
last backup, so that the next incremental backup will contain only
modified files.  The name of the snapshot file is given as an argument
to the option:
</p>
<dl compact="compact">
<dt> <samp>`--listed-incremental=<var>file</var>'</samp></dt>
<dt> <samp>`-g <var>file</var>'</samp></dt>
<dd><p>  Handle incremental backups with snapshot data in <var>file</var>.
</p></dd>
</dl>

<p>To create an incremental backup, you would use
<samp>`--listed-incremental'</samp> together with <samp>`--create'</samp>
(see section <a href="#SEC17">How to Create Archives</a>).  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create \
           --file=archive.1.tar \
           --listed-incremental=/var/log/usr.snar \
           /usr</kbd>
</pre></td></tr></table>
<p>This will create in <tt>`archive.1.tar'</tt> an incremental backup of
the <tt>`/usr'</tt> file system, storing additional metadata in the file
<tt>`/var/log/usr.snar'</tt>.  If this file does not exist, it will be
created.  The created archive will then be a <em>level 0 backup</em>;
please see the next section for more on backup levels.
</p>
<p>Otherwise, if the file <tt>`/var/log/usr.snar'</tt> exists, it
determines which files are modified.  In this case only these files will be
stored in the archive.  Suppose, for example, that after running the
above command, you delete file <tt>`/usr/doc/old'</tt> and create
directory <tt>`/usr/local/db'</tt> with the following contents:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>ls /usr/local/db</kbd>
/usr/local/db/data
/usr/local/db/index
</pre></td></tr></table>
<p>Some time later you create another incremental backup.  You will
then see:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create \
           --file=archive.2.tar \
           --listed-incremental=/var/log/usr.snar \
           /usr</kbd>
tar: usr/local/db: Directory is new
usr/local/db/
usr/local/db/data
usr/local/db/index
</pre></td></tr></table>

<p>The created archive <tt>`archive.2.tar'</tt> will contain only these
three members.  This archive is called a <em>level 1 backup</em>.  Notice
that <tt>`/var/log/usr.snar'</tt> will be updated with the new data, so if
you plan to create more <samp>`level 1'</samp> backups, it is necessary to
create a working copy of the snapshot file before running
<code>tar</code>.  The above example will then be modified as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>cp /var/log/usr.snar /var/log/usr.snar-1</kbd>
$ <kbd>tar --create \
           --file=archive.2.tar \
           --listed-incremental=/var/log/usr.snar-1 \
           /usr</kbd>
</pre></td></tr></table>
<p><a name="g_t_002d_002dlevel_003d0"></a>
<a name="IDX341"></a>
You can force <samp>`level 0'</samp> backups either by removing the snapshot
file before running <code>tar</code>, or by supplying the
<samp>`--level=0'</samp> option, e.g.:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create \
           --file=archive.2.tar \
           --listed-incremental=/var/log/usr.snar-0 \
           --level=0 \
           /usr</kbd>
</pre></td></tr></table>
<p>Incremental dumps depend crucially on time stamps, so the results are
unreliable if you modify a file's time stamps during dumping (e.g.,
with the <samp>`--atime-preserve=replace'</samp> option), or if you set the clock
backwards.
</p>
<p><a name="device-numbers"></a>
<a name="IDX342"></a>
Metadata stored in snapshot files include device numbers, which,
obviously are supposed to be non-volatile values.  However, it turns
out that <acronym>NFS</acronym> devices have undependable values when an automounter
gets in the picture.  This can lead to a great deal of spurious
redumping in incremental dumps, so it is somewhat useless to compare
two <acronym>NFS</acronym> devices numbers over time.  The solution implemented
currently is to consider all <acronym>NFS</acronym> devices as being equal
when it comes to comparing directories; this is fairly gross, but
there does not seem to be a better way to go.
</p>
<p>Apart from using <acronym>NFS</acronym>, there are a number of cases where
relying on device numbers can cause spurious redumping of unmodified
files.  For example, this occurs when archiving <acronym>LVM</acronym> snapshot
volumes.  To avoid this, use <samp>`--no-check-device'</samp> option:
</p>
<dl compact="compact">
<dd><a name="IDX343"></a>
</dd>
<dt> <samp>`--no-check-device'</samp></dt>
<dd><p>Do not rely on device numbers when preparing a list of changed files
for an incremental dump.
</p>
<a name="IDX344"></a>
</dd>
<dt> <samp>`--check-device'</samp></dt>
<dd><p>Use device numbers when preparing a list of changed files
for an incremental dump.  This is the default behavior.  The purpose
of this option is to undo the effect of the <samp>`--no-check-device'</samp>
if it was given in <code>TAR_OPTIONS</code> environment variable
(see <a href="#TAR_005fOPTIONS">TAR_OPTIONS</a>).
</p></dd>
</dl>

<p>There is also another way to cope with changing device numbers.  It is
described in detail in <a href="#SEC186">Fixing Snapshot Files</a>.
</p>
<p>Note that incremental archives use <code>tar</code> extensions and may
not be readable by non-<acronym>GNU</acronym> versions of the <code>tar</code> program.
</p>
<a name="IDX345"></a>
<a name="IDX346"></a>
<p>To extract from the incremental dumps, use
<samp>`--listed-incremental'</samp> together with <samp>`--extract'</samp>
option (see section <a href="#SEC27">Extracting Specific Files</a>).  In this case, <code>tar</code> does
not need to access snapshot file, since all the data necessary for
extraction are stored in the archive itself.  So, when extracting, you
can give whatever argument to <samp>`--listed-incremental'</samp>, the usual
practice is to use <samp>`--listed-incremental=/dev/null'</samp>.
Alternatively, you can use <samp>`--incremental'</samp>, which needs no
arguments.  In general, <samp>`--incremental'</samp> (<samp>`-G'</samp>) can be
used as a shortcut for <samp>`--listed-incremental'</samp> when listing or
extracting incremental backups (for more information regarding this
option, see <a href="#incremental_002dop">incremental-op</a>).
</p>
<p>When extracting from the incremental backup <acronym>GNU</acronym> <code>tar</code> attempts to
restore the exact state the file system had when the archive was
created.  In particular, it will <em>delete</em> those files in the file
system that did not exist in their directories when the archive was
created.  If you have created several levels of incremental files,
then in order to restore the exact contents the file system  had when
the last level was created, you will need to restore from all backups
in turn.  Continuing our example, to restore the state of <tt>`/usr'</tt>
file system, one would do<a name="DOCF12" href="#FOOT12">(12)</a>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --extract \
           --listed-incremental=/dev/null \
           --file archive.1.tar</kbd>
$ <kbd>tar --extract \
           --listed-incremental=/dev/null \
           --file archive.2.tar</kbd>
</pre></td></tr></table>
<p>To list the contents of an incremental archive, use <samp>`--list'</samp>
(see section <a href="#SEC23">How to List Archives</a>), as usual.  To obtain more information about the
archive, use <samp>`--listed-incremental'</samp> or <samp>`--incremental'</samp>
combined with two <samp>`--verbose'</samp> options<a name="DOCF13" href="#FOOT13">(13)</a>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar --list --incremental --verbose --verbose --file archive.tar</kbd>
</pre></td></tr></table>
<p>This command will print, for each directory in the archive, the list
of files in that directory at the time the archive was created.  This
information is put out in a format which is both human-readable and
unambiguous for a program: each file name is printed as
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>x</var> <var>file</var>
</pre></td></tr></table>

<p>where <var>x</var> is a letter describing the status of the file: <samp>`Y'</samp>
if the file  is present in the archive, <samp>`N'</samp> if the file is not
included in the archive, or a <samp>`D'</samp> if the file is a directory (and
is included in the archive).  See section <a href="#SEC195">Dumpdir</a>, for the detailed
description of dumpdirs and status codes.  Each such
line is terminated by a newline character.  The last line is followed
by an additional newline to indicate the end of the data.
</p>
<p><a name="incremental_002dop"></a>The option <samp>`--incremental'</samp> (<samp>`-G'</samp>)
gives the same behavior as <samp>`--listed-incremental'</samp> when used
with <samp>`--list'</samp> and <samp>`--extract'</samp> options.  When used with
<samp>`--create'</samp> option, it creates an incremental archive without
creating snapshot file.  Thus, it is impossible to create several
levels of incremental backups with <samp>`--incremental'</samp> option.
</p>
<hr size="6">
<a name="Backup-Levels"></a>
<a name="SEC97"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC96" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC98" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.3 Levels of Backups </h2>

<p>An archive containing all the files in the file system is called a
<em>full backup</em> or <em>full dump</em>.  You could insure your data by
creating a full dump every day.  This strategy, however, would waste a
substantial amount of archive media and user time, as unchanged files
are daily re-archived.
</p>
<p>It is more efficient to do a full dump only occasionally.  To back up
files between full dumps, you can use <em>incremental dumps</em>.  A <em>level
one</em> dump archives all the files that have changed since the last full
dump.
</p>
<p>A typical dump strategy would be to perform a full dump once a week,
and a level one dump once a day.  This means some versions of files
will in fact be archived more than once, but this dump strategy makes
it possible to restore a file system to within one day of accuracy by
only extracting two archives--the last weekly (full) dump and the
last daily (level one) dump.  The only information lost would be in
files changed or created since the last daily backup.  (Doing dumps
more than once a day is usually not worth the trouble.)
</p>
<p><acronym>GNU</acronym> <code>tar</code> comes with scripts you can use to do full
and level-one (actually, even level-two and so on) dumps.  Using
scripts (shell programs) to perform backups and restoration is a
convenient and reliable alternative to typing out file name lists
and <code>tar</code> commands by hand.
</p>
<p>Before you use these scripts, you need to edit the file
<tt>`backup-specs'</tt>, which specifies parameters used by the backup
scripts and by the restore script.  This file is usually located
in <tt>`/etc/backup'</tt> directory.  See section <a href="#SEC98">Setting Parameters for Backups and Restoration</a>, for its
detailed description.  Once the backup parameters are set, you can
perform backups or restoration by running the appropriate script.
</p>
<p>The name of the backup script is <code>backup</code>.  The name of the
restore script is <code>restore</code>.  The following sections describe
their use in detail.
</p>
<p><em>Please Note:</em> The backup and restoration scripts are
designed to be used together.  While it is possible to restore files by
hand from an archive which was created using a backup script, and to create
an archive by hand which could then be extracted using the restore script,
it is easier to use the scripts.  See section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>, before
making such an attempt.
</p>
<hr size="6">
<a name="Backup-Parameters"></a>
<a name="SEC98"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC97" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC99" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.4 Setting Parameters for Backups and Restoration </h2>

<p>The file <tt>`backup-specs'</tt> specifies backup parameters for the
backup and restoration scripts provided with <code>tar</code>.  You must
edit <tt>`backup-specs'</tt> to fit your system configuration and schedule
before using these scripts.
</p>
<p>Syntactically, <tt>`backup-specs'</tt> is a shell script, containing
mainly variable assignments.  However, any valid shell construct
is allowed in this file.  Particularly, you may wish to define
functions within that script (e.g., see <code>RESTORE_BEGIN</code> below).
For more information about shell script syntax, please refer to
<a href="http://www.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#ta g_02">the definition of the Shell Command Language</a>.  See also
<a href="bashref.html#Top">(bashref)Top</a> section `Bash Features' in <cite>Bash Reference Manual</cite>.
</p>
<p>The shell variables controlling behavior of <code>backup</code> and
<code>restore</code> are described in the following subsections.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC100">5.4.2 Magnetic Tape Control</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC101">5.4.3 User Hooks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC102">5.4.4 An Example Text of <tt>`Backup-specs'</tt></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="General_002dPurpose-Variables"></a>
<a name="SEC99"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC98" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC100" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC98" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.4.1 General-Purpose Variables </h3>

<dl>
<dt><u>Backup variable:</u> <b>ADMINISTRATOR</b>
<a name="IDX351"></a>
</dt>
<dd><p>The user name of the backup administrator.  <code>Backup</code> scripts
sends a backup report to this address.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>BACKUP_HOUR</b>
<a name="IDX352"></a>
</dt>
<dd><p>The hour at which the backups are done.  This can be a number from 0
to 23, or the time specification in form <var>hours</var>:<var>minutes</var>,
or the string <samp>`now'</samp>.
</p>
<p>This variable is used by <code>backup</code>.  Its value may be overridden
using <samp>`--time'</samp> option (see section <a href="#SEC103">Using the Backup Scripts</a>).
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>TAPE_FILE</b>
<a name="IDX353"></a>
</dt>
<dd><p>The device <code>tar</code> writes the archive to.  If <var>TAPE_FILE</var>
is a remote archive (see <a href="#remote_002ddev">remote-dev</a>), backup script will suppose
that your <code>mt</code> is able to access remote devices.  If <var>RSH</var>
(see <a href="#RSH">RSH</a>) is set, <samp>`--rsh-command'</samp> option will be added to
invocations of <code>mt</code>.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>BLOCKING</b>
<a name="IDX354"></a>
</dt>
<dd><p>The blocking factor <code>tar</code> will use when writing the dump archive.
See section <a href="#SEC160">The Blocking Factor of an Archive</a>.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>BACKUP_DIRS</b>
<a name="IDX355"></a>
</dt>
<dd><p>A list of file systems to be dumped (for <code>backup</code>), or restored
(for <code>restore</code>).  You can include any directory
name in the list -- subdirectories on that file system will be
included, regardless of how they may look to other networked machines.
Subdirectories on other file systems will be ignored.
</p>
<p>The host name specifies which host to run <code>tar</code> on, and should
normally be the host that actually contains the file system.  However,
the host machine must have <acronym>GNU</acronym> <code>tar</code> installed, and
must be able to access the directory containing the backup scripts and
their support files using the same file name that is used on the
machine where the scripts are run (i.e., what <code>pwd</code> will print
when in that directory on that machine).  If the host that contains
the file system does not have this capability, you can specify another
host as long as it can access the file system through <acronym>NFS</acronym>.
</p>
<p>If the list of file systems is very long you may wish to put it
in a separate file.  This file is usually named
<tt>`/etc/backup/dirs'</tt>, but this name may be overridden in
<tt>`backup-specs'</tt> using <code>DIRLIST</code> variable.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>DIRLIST</b>
<a name="IDX356"></a>
</dt>
<dd><p>The name of the file that contains a list of file systems to backup
or restore.  By default it is <tt>`/etc/backup/dirs'</tt>.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>BACKUP_FILES</b>
<a name="IDX357"></a>
</dt>
<dd><p>A list of individual files to be dumped (for <code>backup</code>), or restored
(for <code>restore</code>).  These should be accessible from the machine on
which the backup script is run.
</p>
<p>If the list of individual files is very long you may wish to store it
in a separate file.  This file is usually named
<tt>`/etc/backup/files'</tt>, but this name may be overridden in
<tt>`backup-specs'</tt> using <code>FILELIST</code> variable.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>FILELIST</b>
<a name="IDX358"></a>
</dt>
<dd><p>The name of the file that contains a list of individual files to backup
or restore.  By default it is <tt>`/etc/backup/files'</tt>.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>MT</b>
<a name="IDX359"></a>
</dt>
<dd><p>Full file name of <code>mt</code> binary.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>RSH</b>
<a name="IDX360"></a>
</dt>
<dd><p><a name="RSH"></a>
Full file name of <code>rsh</code> binary or its equivalent.  You may wish to
set it to <code>ssh</code>, to improve security.  In this case you will have
to use public key authentication.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>RSH_COMMAND</b>
<a name="IDX361"></a>
</dt>
<dd><p>Full file name of <code>rsh</code> binary on remote machines.  This will
be passed via <samp>`--rsh-command'</samp> option to the remote invocation
of <acronym>GNU</acronym> <code>tar</code>.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>VOLNO_FILE</b>
<a name="IDX362"></a>
</dt>
<dd><p>Name of temporary file to hold volume numbers.  This needs to be accessible
by all the machines which have file systems to be dumped.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>XLIST</b>
<a name="IDX363"></a>
</dt>
<dd><p>Name of <em>exclude file list</em>.  An <em>exclude file list</em> is a file
located on the remote machine and containing the list of files to
be excluded from the backup.  Exclude file lists are searched in
/etc/tar-backup directory.  A common use for exclude file lists
is to exclude files containing security-sensitive information
(e.g., <tt>`/etc/shadow'</tt> from backups).
</p>
<p>This variable affects only <code>backup</code>.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>SLEEP_TIME</b>
<a name="IDX364"></a>
</dt>
<dd><p>Time to sleep between dumps of any two successive file systems
</p>
<p>This variable affects only <code>backup</code>.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>DUMP_REMIND_SCRIPT</b>
<a name="IDX365"></a>
</dt>
<dd><p>Script to be run when it's time to insert a new tape in for the next
volume.  Administrators may want to tailor this script for their site.
If this variable isn't set, <acronym>GNU</acronym> <code>tar</code> will display its built-in
prompt, and will expect confirmation from the console.  For the
description of the default prompt, see <a href="#change-volume-prompt">change volume prompt</a>.
</p>
</dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>SLEEP_MESSAGE</b>
<a name="IDX366"></a>
</dt>
<dd><p>Message to display on the terminal while waiting for dump time.  Usually
this will just be some literal text.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>TAR</b>
<a name="IDX367"></a>
</dt>
<dd><p>Full file name of the <acronym>GNU</acronym> <code>tar</code> executable.  If this is not set, backup
scripts will search <code>tar</code> in the current shell path.
</p></dd></dl>

<hr size="6">
<a name="Magnetic-Tape-Control"></a>
<a name="SEC100"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC99" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC101" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC98" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.4.2 Magnetic Tape Control </h3>

<p>Backup scripts access tape device using special <em>hook functions</em>.
These functions take a single argument -- the name of the tape
device.  Their names are kept in the following variables:
</p>
<dl>
<dt><u>Backup variable:</u> <b>MT_BEGIN</b>
<a name="IDX368"></a>
</dt>
<dd><p>The name of <em>begin</em> function.  This function is called before
accessing the drive.  By default it retensions the tape:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">MT_BEGIN=mt_begin

mt_begin() {
    mt -f &quot;$1&quot; retension
}
</pre></td></tr></table></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>MT_REWIND</b>
<a name="IDX369"></a>
</dt>
<dd><p>The name of <em>rewind</em> function.  The default definition is as
follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">MT_REWIND=mt_rewind

mt_rewind() {
    mt -f &quot;$1&quot; rewind
}
</pre></td></tr></table>
</dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>MT_OFFLINE</b>
<a name="IDX370"></a>
</dt>
<dd><p>The name of the function switching the tape off line.  By default
it is defined as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">MT_OFFLINE=mt_offline

mt_offline() {
    mt -f &quot;$1&quot; offl
}
</pre></td></tr></table></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>MT_STATUS</b>
<a name="IDX371"></a>
</dt>
<dd><p>The name of the function used to obtain the status of the archive device,
including error count.  Default definition:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">MT_STATUS=mt_status

mt_status() {
    mt -f &quot;$1&quot; status
}
</pre></td></tr></table></dd></dl>

<hr size="6">
<a name="User-Hooks"></a>
<a name="SEC101"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC100" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC102" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC98" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.4.3 User Hooks </h3>

<p><em>User hooks</em> are shell functions executed before and after
each <code>tar</code> invocation.  Thus, there are <em>backup
hooks</em>, which are executed before and after dumping each file
system, and <em>restore hooks</em>, executed before and
after restoring a file system.  Each user hook is a shell function
taking four arguments:
</p>
<dl>
<dt><u>User Hook Function:</u> <b>hook</b><i> <var>level</var> <var>host</var> <var>fs</var> <var>fsname</var></i>
<a name="IDX372"></a>
</dt>
<dd><p>Its arguments are:
</p>
<dl compact="compact">
<dt> <var>level</var></dt>
<dd><p>Current backup or restore level.
</p>
</dd>
<dt> <var>host</var></dt>
<dd><p>Name or IP address of the host machine being dumped or restored.
</p>
</dd>
<dt> <var>fs</var></dt>
<dd><p>Full file name of the file system being dumped or restored.
</p>
</dd>
<dt> <var>fsname</var></dt>
<dd><p>File system name with directory separators replaced with colons.  This
is useful, e.g., for creating unique files.
</p></dd>
</dl>
</dd></dl>

<p>Following variables keep the names of user hook functions:
</p>
<dl>
<dt><u>Backup variable:</u> <b>DUMP_BEGIN</b>
<a name="IDX373"></a>
</dt>
<dd><p>Dump begin function.  It is executed before dumping the file system.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>DUMP_END</b>
<a name="IDX374"></a>
</dt>
<dd><p>Executed after dumping the file system.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>RESTORE_BEGIN</b>
<a name="IDX375"></a>
</dt>
<dd><p>Executed before restoring the file system.
</p></dd></dl>

<dl>
<dt><u>Backup variable:</u> <b>RESTORE_END</b>
<a name="IDX376"></a>
</dt>
<dd><p>Executed after restoring the file system.
</p></dd></dl>

<hr size="6">
<a name="backup_002dspecs-example"></a>
<a name="SEC102"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC101" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC103" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC98" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.4.4 An Example Text of <tt>`Backup-specs'</tt> </h3>

<p>The following is an example of <tt>`backup-specs'</tt>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"># site-specific parameters for file system backup.

ADMINISTRATOR=friedman
BACKUP_HOUR=1
TAPE_FILE=/dev/nrsmt0

# Use <code>ssh</code> instead of the less secure <code>rsh</code>
RSH=/usr/bin/ssh
RSH_COMMAND=/usr/bin/ssh

# Override MT_STATUS function:
my_status() {
      mts -t $TAPE_FILE
}
MT_STATUS=my_status

# Disable MT_OFFLINE function
MT_OFFLINE=:

BLOCKING=124
BACKUP_DIRS=&quot;
        albert:/fs/fsf
        apple-gunkies:/gd
        albert:/fs/gd2
        albert:/fs/gp
        geech:/usr/jla
        churchy:/usr/roland
        albert:/
        albert:/usr
        apple-gunkies:/
        apple-gunkies:/usr
        gnu:/hack
        gnu:/u
        apple-gunkies:/com/mailer/gnu
        apple-gunkies:/com/archive/gnu&quot;

BACKUP_FILES=&quot;/com/mailer/aliases /com/mailer/league*[a-z]&quot;

</pre></td></tr></table>
<hr size="6">
<a name="Scripted-Backups"></a>
<a name="SEC103"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC102" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC104" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.5 Using the Backup Scripts </h2>

<p>The syntax for running a backup script is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">backup --level=<var>level</var> --time=<var>time</var>
</pre></td></tr></table>
<p>The <samp>`--level'</samp> option requests the dump level.  Thus, to produce
a full dump, specify <code>--level=0</code> (this is the default, so
<samp>`--level'</samp> may be omitted if its value is
<code>0</code>)<a name="DOCF14" href="#FOOT14">(14)</a>.
</p>
<p>The <samp>`--time'</samp> option determines when should the backup be
run.  <var>Time</var> may take three forms:
</p>
<dl compact="compact">
<dt> <var>hh</var>:<var>mm</var></dt>
<dd>
<p>The dump must be run at <var>hh</var> hours <var>mm</var> minutes.
</p>
</dd>
<dt> <var>hh</var></dt>
<dd>
<p>The dump must be run at <var>hh</var> hours.
</p>
</dd>
<dt> now</dt>
<dd>
<p>The dump must be run immediately.
</p></dd>
</dl>

<p>You should start a script with a tape or disk mounted.  Once you
start a script, it prompts you for new tapes or disks as it
needs them.  Media volumes don't have to correspond to archive
files -- a multi-volume archive can be started in the middle of a
tape that already contains the end of another multi-volume archive.
The <code>restore</code> script prompts for media by its archive volume,
so to avoid an error message you should keep track of which tape
(or disk) contains which volume of the archive (see section <a href="#SEC104">Using the Restore Script</a>).
</p>
<p>The backup scripts write two files on the file system.  The first is a
record file in <tt>`/etc/tar-backup/'</tt>, which is used by the scripts
to store and retrieve information about which files were dumped.  This
file is not meant to be read by humans, and should not be deleted by
them.  See section <a href="#SEC194">Format of the Incremental Snapshot Files</a>, for a more detailed explanation of this
file.
</p>
<p>The second file is a log file containing the names of the file systems
and files dumped, what time the backup was made, and any error
messages that were generated, as well as how much space was left in
the media volume after the last volume of the archive was written.
You should check this log file after every backup.  The file name is
<tt>`log-<var>mm-dd-yyyy</var>-level-<var>n</var>'</tt>, where <var>mm-dd-yyyy</var>
represents current date, and <var>n</var> represents current dump level number.
</p>
<p>The script also prints the name of each system being dumped to the
standard output.
</p>
<p>Following is the full list of options accepted by <code>backup</code>
script:
</p>
<dl compact="compact">
<dt> <samp>`-l <var>level</var>'</samp></dt>
<dt> <samp>`--level=<var>level</var>'</samp></dt>
<dd><p>Do backup level <var>level</var> (default 0).
</p>
</dd>
<dt> <samp>`-f'</samp></dt>
<dt> <samp>`--force'</samp></dt>
<dd><p>Force backup even if today's log file already exists.
</p>
</dd>
<dt> <samp>`-v[<var>level</var>]'</samp></dt>
<dt> <samp>`--verbose[=<var>level</var>]'</samp></dt>
<dd><p>Set verbosity level.  The higher the level is, the more debugging
information will be output during execution.  Default <var>level</var>
is 100, which means the highest debugging level.
</p>
</dd>
<dt> <samp>`-t <var>start-time</var>'</samp></dt>
<dt> <samp>`--time=<var>start-time</var>'</samp></dt>
<dd><p>Wait till <var>time</var>, then do backup.
</p>
</dd>
<dt> <samp>`-h'</samp></dt>
<dt> <samp>`--help'</samp></dt>
<dd><p>Display short help message and exit.
</p>
</dd>
<dt> <samp>`-V'</samp></dt>
<dt> <samp>`--version'</samp></dt>
<dd><p>Display information about the program's name, version, origin and legal
status, all on standard output, and then exit successfully.
</p></dd>
</dl>


<hr size="6">
<a name="Scripted-Restoration"></a>
<a name="SEC104"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC103" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC94" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.6 Using the Restore Script </h2>

<p>To restore files that were archived using a scripted backup, use the
<code>restore</code> script.  Its usage is quite straightforward.  In the
simplest form, invoke <code>restore --all</code>, it will
then restore all the file systems and files specified in
<tt>`backup-specs'</tt> (see section <a href="#SEC99">BACKUP_DIRS</a>).
</p>
<p>You may select the file systems (and/or files) to restore by
giving <code>restore</code> a list of <em>patterns</em> in its command
line.  For example, running
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">restore 'albert:*'
</pre></td></tr></table>

<p>will restore all file systems on the machine <samp>`albert'</samp>.  A more
complicated example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">restore 'albert:*' '*:/var'
</pre></td></tr></table>

<p>This command will restore all file systems on the machine <samp>`albert'</samp>
as well as <tt>`/var'</tt> file system on all machines.
</p>
<p>By default <code>restore</code> will start restoring files from the lowest
available dump level (usually zero) and will continue through
all available dump levels.  There may be situations where such a
thorough restore is not necessary.  For example, you may wish to
restore only files from the recent level one backup.  To do so,
use <samp>`--level'</samp> option, as shown in the example below:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">restore --level=1
</pre></td></tr></table>
<p>The full list of options accepted by <code>restore</code> follows:
</p>
<dl compact="compact">
<dt> <samp>`-a'</samp></dt>
<dt> <samp>`--all'</samp></dt>
<dd><p>Restore all file systems and files specified in <tt>`backup-specs'</tt>.
</p>
</dd>
<dt> <samp>`-l <var>level</var>'</samp></dt>
<dt> <samp>`--level=<var>level</var>'</samp></dt>
<dd><p>Start restoring from the given backup level, instead of the default 0.
</p>
</dd>
<dt> <samp>`-v[<var>level</var>]'</samp></dt>
<dt> <samp>`--verbose[=<var>level</var>]'</samp></dt>
<dd><p>Set verbosity level.  The higher the level is, the more debugging
information will be output during execution.  Default <var>level</var>
is 100, which means the highest debugging level.
</p>
</dd>
<dt> <samp>`-h'</samp></dt>
<dt> <samp>`--help'</samp></dt>
<dd><p>Display short help message and exit.
</p>
</dd>
<dt> <samp>`-V'</samp></dt>
<dt> <samp>`--version'</samp></dt>
<dd><p>Display information about the program's name, version, origin and legal
status, all on standard output, and then exit successfully.
</p></dd>
</dl>

<p>You should start the restore script with the media containing the
first volume of the archive mounted.  The script will prompt for other
volumes as they are needed.  If the archive is on tape, you don't need
to rewind the tape to to its beginning--if the tape head is
positioned past the beginning of the archive, the script will rewind
the tape as needed.  See section <a href="#SEC162">Tape Positions and Tape Marks</a>, for a discussion of tape
positioning.
</p>
<blockquote><p><strong>Warning:</strong> The script will delete files from the active file
system if they were not in the file system when the archive was made.
</p></blockquote>

<p>See section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>, for an explanation of how the script makes
that determination.
</p>
<hr size="6">
<a name="Choosing"></a>
<a name="SEC105"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC104" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC106" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC94" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 6. Choosing Files and Names for <code>tar</code> </h1>

<p>Certain options to <code>tar</code> enable you to specify a name for your
archive.  Other options let you decide which files to include or exclude
from the archive, based on when or whether files were modified, whether
the file names do or don't match specified patterns, or whether files
are in specified directories.
</p>
<p>This chapter discusses these options in detail.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                        Choosing the Archive's Name
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC107">6.2 Selecting Archive Members</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC112">6.5 Wildcards Patterns and Matching</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC114">6.6 Quoting Member Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Ways of Quoting Special Characters in Names
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC115">6.7 Modifying File and Member Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC117">6.9 Descending into Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC118">6.10 Crossing File System Boundaries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="file"></a>
<a name="SEC106"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC105" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC107" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.1 Choosing and Naming Archive Files </h2>

<p>By default, <code>tar</code> uses an archive file name that was compiled when
it was built on the system; usually this name refers to some physical
tape drive on the machine.  However, the person who installed <code>tar</code>
on the system may not have set the default to a meaningful value as far as
most users are concerned.  As a result, you will usually want to tell
<code>tar</code> where to find (or create) the archive.  The
<samp>`--file=<var>archive-name</var>'</samp> (<samp>`-f <var>archive-name</var>'</samp>)
option allows you to either specify or name a file to use as the archive
instead of the default archive file location.
</p>
<dl compact="compact">
<dd><a name="IDX377"></a>
</dd>
<dt> <samp>`--file=<var>archive-name</var>'</samp></dt>
<dt> <samp>`-f <var>archive-name</var>'</samp></dt>
<dd><p>Name the archive to create or operate on.  Use in conjunction with
any operation.
</p></dd>
</dl>

<p>For example, in this <code>tar</code> command,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cvf collection.tar blues folk jazz</kbd>
</pre></td></tr></table>

<p><tt>`collection.tar'</tt> is the name of the archive.  It must directly
follow the <samp>`-f'</samp> option, since whatever directly follows <samp>`-f'</samp>
<em>will</em> end up naming the archive.  If you neglect to specify an
archive name, you may end up overwriting a file in the working directory
with the archive you create since <code>tar</code> will use this file's name
for the archive name.
</p>
<p>An archive can be saved as a file in the file system, sent through a
pipe or over a network, or written to an I/O device such as a tape,
floppy disk, or CD write drive.
</p>
<a name="IDX378"></a>
<a name="IDX379"></a>
<p>If you do not name the archive, <code>tar</code> uses the value of the
environment variable <code>TAPE</code> as the file name for the archive.  If
that is not available, <code>tar</code> uses a default, compiled-in archive
name, usually that for tape unit zero (i.e., <tt>`/dev/tu00'</tt>).
</p>
<a name="IDX380"></a>
<a name="IDX381"></a>
<p>If you use <tt>`-'</tt> as an <var>archive-name</var>, <code>tar</code> reads the
archive from standard input (when listing or extracting files), or
writes it to standard output (when creating an archive).  If you use
<tt>`-'</tt> as an <var>archive-name</var> when modifying an archive,
<code>tar</code> reads the original archive from its standard input and
writes the entire new archive to its standard output.
</p>
<p>The following example is a convenient way of copying directory
hierarchy from <tt>`sourcedir'</tt> to <tt>`targetdir'</tt>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>(cd sourcedir; tar -cf - .) | (cd targetdir; tar -xpf -)</kbd>
</pre></td></tr></table>
<p>The <samp>`-C'</samp> option allows to avoid using subshells:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -C sourcedir -cf - . | tar -C targetdir -xpf -</kbd>
</pre></td></tr></table>
<p>In both examples above, the leftmost <code>tar</code> invocation archives
the contents of <tt>`sourcedir'</tt> to the standard output, while the
rightmost one reads this archive from its standard input and
extracts it.  The <samp>`-p'</samp> option tells it to restore permissions
of the extracted files.
</p>
<a name="IDX382"></a>
<a name="IDX383"></a>
<p><a name="remote_002ddev"></a>
To specify an archive file on a device attached to a remote machine,
use the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>--file=<var>hostname</var>:/<var>dev</var>/<var>file-name</var></kbd>
</pre></td></tr></table>

<p><code>tar</code> will set up the remote connection, if possible, and
prompt you for a username and password.  If you use
<samp>`--file=@<var>hostname</var>:/<var>dev</var>/<var>file-name</var>'</samp>, <code>tar</code>
will attempt to set up the remote connection using your username
as the username on the remote machine.
</p>
<a name="IDX384"></a>
<p><a name="local-and-remote-archives"></a>
If the archive file name includes a colon (<samp>`:'</samp>), then it is assumed
to be a file on another machine.  If the archive file is
<samp>`<var>user</var>@<var>host</var>:<var>file</var>'</samp>, then <var>file</var> is used on the
host <var>host</var>.  The remote host is accessed using the <code>rsh</code>
program, with a username of <var>user</var>.  If the username is omitted
(along with the <samp>`@'</samp> sign), then your user name will be used.
(This is the normal <code>rsh</code> behavior.)  It is necessary for the
remote machine, in addition to permitting your <code>rsh</code> access, to
have the <tt>`rmt'</tt> program installed (this command is included in
the <acronym>GNU</acronym> <code>tar</code> distribution and by default is installed under
<tt>`<var>prefix</var>/libexec/rmt'</tt>, where <var>prefix</var> means your
installation prefix).  If you need to use a file whose name includes a
colon, then the remote tape drive behavior
can be inhibited by using the <samp>`--force-local'</samp> option.
</p>
<p>When the archive is being created to <tt>`/dev/null'</tt>, <acronym>GNU</acronym> <code>tar</code>
tries to minimize input and output operations.  The Amanda backup
system, when used with <acronym>GNU</acronym> <code>tar</code>, has an initial sizing pass which
uses this feature.
</p>
<hr size="6">
<a name="Selecting-Archive-Members"></a>
<a name="SEC107"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC106" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC108" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.2 Selecting Archive Members </h2>

<p><em>File Name arguments</em> specify which files in the file system
<code>tar</code> operates on, when creating or adding to an archive, or which
archive members <code>tar</code> operates on, when reading or deleting from
an archive.  See section <a href="#SEC59">The Five Advanced <code>tar</code> Operations</a>.
</p>
<p>To specify file names, you can include them as the last arguments on
the command line, as follows:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tar</kbd> <var>operation</var> [<var>option1</var> <var>option2</var> &hellip;] [<var>file name-1</var> <var>file name-2</var> &hellip;]
</pre></td></tr></table>
<p>If a file name begins with dash (<samp>`-'</samp>), precede it with
<samp>`--add-file'</samp> option to prevent it from being treated as an
option.
</p>
<p><a name="input-name-quoting"></a>
By default <acronym>GNU</acronym> <code>tar</code> attempts to <em>unquote</em> each file or member
name, replacing <em>escape sequences</em> according to the following
table:
</p>
<table>
<thead><tr><th><p> Escape </p></th><th><p> Replaced with
</p></th></tr></thead>
<tr><td><p> \a         </p></td><td><p> Audible bell (<acronym>ASCII</acronym> 7)
</p></td></tr>
<tr><td><p> \b         </p></td><td><p> Backspace (<acronym>ASCII</acronym> 8)
</p></td></tr>
<tr><td><p> \f         </p></td><td><p> Form feed (<acronym>ASCII</acronym> 12)
</p></td></tr>
<tr><td><p> \n         </p></td><td><p> New line (<acronym>ASCII</acronym> 10)
</p></td></tr>
<tr><td><p> \r         </p></td><td><p> Carriage return (<acronym>ASCII</acronym> 13)
</p></td></tr>
<tr><td><p> \t         </p></td><td><p> Horizontal tabulation (<acronym>ASCII</acronym> 9)
</p></td></tr>
<tr><td><p> \v         </p></td><td><p> Vertical tabulation (<acronym>ASCII</acronym> 11)
</p></td></tr>
<tr><td><p> \?         </p></td><td><p> <acronym>ASCII</acronym> 127
</p></td></tr>
<tr><td><p> \<var>n</var>   </p></td><td><p> <acronym>ASCII</acronym> <var>n</var> (<var>n</var> should be an octal number
                 of up to 3 digits)
</p></td></tr>
</table>

<p>A backslash followed by any other symbol is retained.
</p>
<p>This default behavior is controlled by the following command line
option:
</p>
<dl compact="compact">
<dd><a name="IDX385"></a>
</dd>
<dt> <samp>`--unquote'</samp></dt>
<dd><p>Enable unquoting input file or member names (default).
</p>
<a name="IDX386"></a>
</dd>
<dt> <samp>`--no-unquote'</samp></dt>
<dd><p>Disable unquoting input file or member names.
</p></dd>
</dl>

<p>If you specify a directory name as a file name argument, all the files
in that directory are operated on by <code>tar</code>.
</p>
<p>If you do not specify files, <code>tar</code> behavior differs depending
on the operation mode as described below:
</p>
<p>When <code>tar</code> is invoked with <samp>`--create'</samp> (<samp>`-c'</samp>),
<code>tar</code> will stop immediately, reporting the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar cf a.tar</kbd>
tar: Cowardly refusing to create an empty archive
Try 'tar --help' or 'tar --usage' for more information.
</pre></td></tr></table>
<p>If you specify either <samp>`--list'</samp> (<samp>`-t'</samp>) or
<samp>`--extract'</samp> (<samp>`--get'</samp>, <samp>`-x'</samp>), <code>tar</code>
operates on all the archive members in the archive.
</p>
<p>If run with <samp>`--diff'</samp> option, tar will compare the archive with
the contents of the current working directory.
</p>
<p>If you specify any other operation, <code>tar</code> does nothing.
</p>
<p>By default, <code>tar</code> takes file names from the command line.  However,
there are other ways to specify file or member names, or to modify the
manner in which <code>tar</code> selects the files or members upon which to
operate.  In general, these methods work both for specifying the names
of files and archive members.
</p>
<hr size="6">
<a name="files"></a>
<a name="SEC108"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC107" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC109" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.3 Reading Names from a File </h2>

<p>Instead of giving the names of files or archive members on the command
line, you can put the names into a file, and then use the
<samp>`--files-from=<var>file-of-names</var>'</samp> (<samp>`-T
<var>file-of-names</var>'</samp>) option to <code>tar</code>.  Give the name of the
file which contains the list of files to include as the argument to
<samp>`--files-from'</samp>.  In the list, the file names should be separated by
newlines.  You will frequently use this option when you have generated
the list of files to archive with the <code>find</code> utility.
</p>
<dl compact="compact">
<dd><a name="IDX387"></a>
</dd>
<dt> <samp>`--files-from=<var>file-name</var>'</samp></dt>
<dt> <samp>`-T <var>file-name</var>'</samp></dt>
<dd><p>Get names to extract or create from file <var>file-name</var>.
</p></dd>
</dl>

<p>If you give a single dash as a file name for <samp>`--files-from'</samp>, (i.e.,
you specify either <code>--files-from=-</code> or <code>-T -</code>), then the file
names are read from standard input.
</p>
<p>Unless you are running <code>tar</code> with <samp>`--create'</samp>, you cannot use
both <code>--files-from=-</code> and <code>--file=-</code> (<code>-f -</code>) in the same
command.
</p>
<p>Any number of <samp>`-T'</samp> options can be given in the command line.
</p>
<p>The following example shows how to use <code>find</code> to generate a list of
files smaller than 400K in length and put that list into a file
called <tt>`small-files'</tt>.  You can then use the <samp>`-T'</samp> option to
<code>tar</code> to specify the files from that file, <tt>`small-files'</tt>, to
create the archive <tt>`little.tgz'</tt>.  (The <samp>`-z'</samp> option to
<code>tar</code> compresses the archive with <code>gzip</code>; see section <a href="#SEC135">Creating and Reading Compressed Archives</a> for
more information.)
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>find . -size -400 -print &gt; small-files</kbd>
$ <kbd>tar -c -v -z -T small-files -f little.tgz</kbd>
</pre></td></tr></table>

<p>By default, each line read from the file list is first stripped off
any leading and trailing whitespace.  If the resulting string begins
with <samp>`-'</samp> character, it is considered a <code>tar</code> option and is
processed accordingly<a name="DOCF15" href="#FOOT15">(15)</a>. For example,
the common use of this feature is to change to another directory by
specifying <samp>`-C'</samp> option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>cat list</kbd>
-C/etc
passwd
hosts
-C/lib
libc.a
$ <kbd>tar -c -f foo.tar --files-from list</kbd>
</pre></td></tr></table>

<p>In this example, <code>tar</code> will first switch to <tt>`/etc'</tt>
directory and add files <tt>`passwd'</tt> and <tt>`hosts'</tt> to the
archive.  Then it will change to <tt>`/lib'</tt> directory and will archive
the file <tt>`libc.a'</tt>.  Thus, the resulting archive <tt>`foo.tar'</tt> will
contain:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf foo.tar</kbd>
passwd
hosts
libc.a
</pre></td></tr></table>
<p>Note, that any options used in the file list remain in effect for the
rest of the command line.  For example, using the same <tt>`list'</tt>
file as above, the following command
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f foo.tar --files-from list libcurses.a</kbd>
</pre></td></tr></table>

<p>will look for file <tt>`libcurses.a'</tt> in the directory <tt>`/lib'</tt>,
because it was used with the last <samp>`-C'</samp> option
(see section <a href="#SEC44">Position-Sensitive Options</a>).
</p>
<p><a name="verbatim_002dfiles_002dfrom"></a>
<a name="IDX388"></a>
If such option handling is undesirable, use the
<samp>`--verbatim-files-from'</samp> option.  When this option is in effect,
each line read from the file list is treated as a file name.  Notice,
that this means, in particular, that no whitespace trimming is
performed.
</p>
<p><a name="no_002dverbatim_002dfiles_002dfrom"></a>
<a name="IDX389"></a>
The <samp>`--verbatim-files-from'</samp> affects all <samp>`-T'</samp> options
that follow it in the command line.  The default behavior can be
restored using <samp>`--no-verbatim-files-from'</samp> option.
</p>
<a name="IDX390"></a>
<p>To disable option handling for a single file name, use the
<samp>`--add-file'</samp> option, e.g.: <code>--add-file=--my-file</code>.
</p>
<p>You can use any <acronym>GNU</acronym> <code>tar</code> command line options in the file list file,
including <samp>`--files-from'</samp> option itself.  This allows for
including contents of a file list into another file list file.
Note however, that options that control file list processing, such as
<samp>`--verbatim-files-from'</samp> or <samp>`--null'</samp> won't affect the
file they appear in.  They will affect next <samp>`--files-from'</samp>
option, if there is any.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC109">6.3.1 <code>NUL</code>-Terminated File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="nul"></a>
<a name="SEC109"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC108" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC108" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.3.1 <code>NUL</code>-Terminated File Names </h3>

<p>The <samp>`--null'</samp> option causes
<samp>`--files-from=<var>file-of-names</var>'</samp> (<samp>`-T <var>file-of-names</var>'</samp>)
to read file names terminated by a <code>NUL</code> instead of a newline, so
files whose names contain newlines can be archived using
<samp>`--files-from'</samp>.
</p>
<dl compact="compact">
<dd><a name="IDX391"></a>
</dd>
<dt> <samp>`--null'</samp></dt>
<dd><p>Only consider <code>NUL</code>-terminated file names, instead of files that
terminate in a newline.
</p>
<a name="IDX392"></a>
</dd>
<dt> <samp>`--no-null'</samp></dt>
<dd><p>Undo the effect of any previous <samp>`--null'</samp> option.
</p></dd>
</dl>

<p>The <samp>`--null'</samp> option is just like the one in <acronym>GNU</acronym>
<code>xargs</code> and <code>cpio</code>, and is useful with the
<samp>`-print0'</samp> predicate of <acronym>GNU</acronym> <code>find</code>.  In
<code>tar</code>, <samp>`--null'</samp> also disables special handling for
file names that begin with dash (similar to
<samp>`--verbatim-files-from'</samp> option).
</p>
<p>This example shows how to use <code>find</code> to generate a list of files
larger than 800K in length and put that list into a file called
<tt>`long-files'</tt>.  The <samp>`-print0'</samp> option to <code>find</code> is just
like <samp>`-print'</samp>, except that it separates files with a <code>NUL</code>
rather than with a newline.  You can then run <code>tar</code> with both the
<samp>`--null'</samp> and <samp>`-T'</samp> options to specify that <code>tar</code> gets the
files from that file, <tt>`long-files'</tt>, to create the archive
<tt>`big.tgz'</tt>.  The <samp>`--null'</samp> option to <code>tar</code> will cause
<code>tar</code> to recognize the <code>NUL</code> separator between files.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>find . -size +800 -print0 &gt; long-files</kbd>
$ <kbd>tar -c -v --null --files-from=long-files --file=big.tar</kbd>
</pre></td></tr></table>
<p>The <samp>`--no-null'</samp> option can be used if you need to read both
<code>NUL</code>-terminated and newline-terminated files on the same command line.
For example, if <tt>`flist'</tt> is a newline-terminated file, then the
following command can be used to combine it with the above command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>find . -size +800 -print0 |
  tar -c -f big.tar --null -T - --no-null -T flist</kbd>
</pre></td></tr></table>
<p>This example uses short options for typographic reasons, to avoid
very long lines.
</p>
<p><acronym>GNU</acronym> <code>tar</code>
lists, so in many cases it is safe to use them even without the
<samp>`--null'</samp> option.  In this case <code>tar</code> will print a
warning and continue reading such a file as if <samp>`--null'</samp> were
actually given:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>find . -size +800 -print0 | tar -c -f big.tar -T -</kbd>
tar: -: file name read contains nul character
</pre></td></tr></table>
<p>The null terminator, however, remains in effect only for this
particular file, any following <samp>`-T'</samp> options will assume
newline termination.  Of course, the null autodetection applies
to these eventual surplus <samp>`-T'</samp> options as well.
</p>
<hr size="6">
<a name="exclude"></a>
<a name="SEC110"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC109" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC111" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.4 Excluding Some Files </h2>

<p>To avoid operating on files whose names match a particular pattern,
use the <samp>`--exclude'</samp> or <samp>`--exclude-from'</samp> options.
</p>
<dl compact="compact">
<dd><a name="IDX393"></a>
</dd>
<dt> <samp>`--exclude=<var>pattern</var>'</samp></dt>
<dd><p>Causes <code>tar</code> to ignore files that match the <var>pattern</var>.
</p></dd>
</dl>

<a name="IDX394"></a>
<p>The <samp>`--exclude=<var>pattern</var>'</samp> option prevents any file or
member whose name matches the shell wildcard (<var>pattern</var>) from
being operated on.
For example, to create an archive with all the contents of the directory
<tt>`src'</tt> except for files whose names end in <tt>`.o'</tt>, use the
command <samp>`tar -cf src.tar --exclude='*.o' src'</samp>.
</p>
<p>You may give multiple <samp>`--exclude'</samp> options.
</p>
<dl compact="compact">
<dd><a name="IDX395"></a>
</dd>
<dt> <samp>`--exclude-from=<var>file</var>'</samp></dt>
<dt> <samp>`-X <var>file</var>'</samp></dt>
<dd><p>Causes <code>tar</code> to ignore files that match the patterns listed in
<var>file</var>.
</p></dd>
</dl>

<a name="IDX396"></a>
<p>Use the <samp>`--exclude-from'</samp> option to read a
list of patterns, one per line, from <var>file</var>; <code>tar</code> will
ignore files matching those patterns.  Thus if <code>tar</code> is
called as <samp>`tar -c -X foo .'</samp> and the file <tt>`foo'</tt> contains a
single line <tt>`*.o'</tt>, no files whose names end in <tt>`.o'</tt> will be
added to the archive.
</p>
<p>Notice, that lines from <var>file</var> are read verbatim. One of the
frequent errors is leaving some extra whitespace after a file name,
which is difficult to catch using text editors.
</p>
<p>However, empty lines are OK.
</p>
<a name="IDX397"></a>
<a name="IDX398"></a>
<a name="IDX399"></a>
<a name="IDX400"></a>
<a name="IDX401"></a>
<a name="IDX402"></a>
<p>When archiving directories that are under some version control system (VCS),
it is often convenient to read exclusion patterns from this VCS'
ignore files (e.g. <tt>`.cvsignore'</tt>, <tt>`.gitignore'</tt>, etc.)  The
following options provide such possibility:
</p>
<dl compact="compact">
<dd><p><a name="exclude_002dvcs_002dignores"></a>
<a name="IDX403"></a>
</p></dd>
<dt> <samp>`--exclude-vcs-ignores'</samp></dt>
<dd><p>Before archiving a directory, see if it contains any of the following
files: <tt>`cvsignore'</tt>, <tt>`.gitignore'</tt>, <tt>`.bzrignore'</tt>, or
<tt>`.hgignore'</tt>.  If so, read ignore patterns from these files.
</p>
<p>The patterns are treated much as the corresponding VCS would treat
them, i.e.:
</p>
<dl compact="compact">
<dd><a name="IDX404"></a>
</dd>
<dt> <tt>`.cvsignore'</tt></dt>
<dd><p>Contains shell-style globbing patterns that apply only to the
directory where this file resides.  No comments are allowed in the
file.  Empty lines are ignored.
</p>
<a name="IDX405"></a>
</dd>
<dt> <tt>`.gitignore'</tt></dt>
<dd><p>Contains shell-style globbing patterns.  Applies to the directory
where <tt>`.gitfile'</tt> is located and all its subdirectories.
</p>
<p>Any line beginning with a <samp>`#'</samp> is a comment.  Backslash escapes
the comment character.
</p>
<a name="IDX406"></a>
</dd>
<dt> <tt>`.bzrignore'</tt></dt>
<dd><p>Contains shell globbing-patterns and regular expressions (if prefixed
with <samp>`RE:'</samp><a name="DOCF16" href="#FOOT16">(16)</a>.  Patterns affect the directory and all its
subdirectories.
</p>
<p>Any line beginning with a <samp>`#'</samp> is a comment.
</p>
<a name="IDX407"></a>
</dd>
<dt> <tt>`.hgignore'</tt></dt>
<dd><p>Contains posix regular expressions<a name="DOCF17" href="#FOOT17">(17)</a>.  The line <samp>`syntax:
glob'</samp> switches to shell globbing patterns.  The line <samp>`syntax:
regexp'</samp> switches back.  Comments begin with a <samp>`#'</samp>.  Patterns
affect the directory and all its subdirectories.
</p></dd>
</dl>

<a name="IDX408"></a>
</dd>
<dt> <samp>`--exclude-ignore=<var>file</var>'</samp></dt>
<dd><p>Before dumping a directory, <code>tar</code> checks if it contains
<var>file</var>.  If so, exclusion patterns are read from this file.
The patterns affect only the directory itself.
</p>
<a name="IDX409"></a>
</dd>
<dt> <samp>`--exclude-ignore-recursive=<var>file</var>'</samp></dt>
<dd><p>Same as <samp>`--exclude-ignore'</samp>, except that the patterns read
affect both the directory where <var>file</var> resides and all its
subdirectories.
</p></dd>
</dl>

<dl compact="compact">
<dd><a name="IDX410"></a>
<a name="IDX411"></a>
<a name="IDX412"></a>
<a name="IDX413"></a>
<a name="IDX414"></a>
<a name="IDX415"></a>
<a name="IDX416"></a>
<a name="IDX417"></a>
<a name="IDX418"></a>
<a name="IDX419"></a>
<a name="IDX420"></a>
<p><a name="exclude_002dvcs"></a>
<a name="IDX421"></a>
</p></dd>
<dt> <samp>`--exclude-vcs'</samp></dt>
<dd><p>Exclude files and directories used by following version control
systems: <samp>`CVS'</samp>, <samp>`RCS'</samp>, <samp>`SCCS'</samp>, <samp>`SVN'</samp>, <samp>`Arch'</samp>,
<samp>`Bazaar'</samp>, <samp>`Mercurial'</samp>, and <samp>`Darcs'</samp>.
</p>
<p>As of version 1.32, the following files are excluded:
</p>
<ul>
<li> <tt>`CVS/'</tt>, and everything under it
</li><li> <tt>`RCS/'</tt>, and everything under it
</li><li> <tt>`SCCS/'</tt>, and everything under it
</li><li> <tt>`.git/'</tt>, and everything under it
</li><li> <tt>`.gitignore'</tt>
</li><li> <tt>`.gitmodules'</tt>
</li><li> <tt>`.gitattributes'</tt>
</li><li> <tt>`.cvsignore'</tt>
</li><li> <tt>`.svn/'</tt>, and everything under it
</li><li> <tt>`.arch-ids/'</tt>, and everything under it
</li><li> <tt>`{arch}/'</tt>, and everything under it
</li><li> <tt>`=RELEASE-ID'</tt>
</li><li> <tt>`=meta-update'</tt>
</li><li> <tt>`=update'</tt>
</li><li> <tt>`.bzr'</tt>
</li><li> <tt>`.bzrignore'</tt>
</li><li> <tt>`.bzrtags'</tt>
</li><li> <tt>`.hg'</tt>
</li><li> <tt>`.hgignore'</tt>
</li><li> <tt>`.hgrags'</tt>
</li><li> <tt>`_darcs'</tt>
</li></ul>

<a name="IDX422"></a>
</dd>
<dt> <samp>`--exclude-backups'</samp></dt>
<dd><p>Exclude backup and lock files.  This option causes exclusion of files
that match the following shell globbing patterns:
</p>
<dl compact="compact">
<dt> .#*</dt>
<dt> *~</dt>
<dt> #*#</dt>
</dl>

</dd>
</dl>

<a name="IDX423"></a>
<p>When creating an archive, the <samp>`--exclude-caches'</samp> option family
causes <code>tar</code> to exclude all directories that contain a <em>cache
directory tag</em>. A cache directory tag is a short file with the
well-known name <tt>`CACHEDIR.TAG'</tt> and having a standard header
specified in <a href="http://www.brynosaurus.com/cachedir/spec.html">http://www.brynosaurus.com/cachedir/spec.html</a>.
Various applications write cache directory tags into directories they
use to hold regenerable, non-precious data, so that such data can be
more easily excluded from backups.
</p>
<p>There are three <samp>`exclude-caches'</samp> options, each providing a different
exclusion semantics:
</p>
<dl compact="compact">
<dd><a name="IDX424"></a>
</dd>
<dt> <samp>`--exclude-caches'</samp></dt>
<dd><p>Do not archive the contents of the directory, but archive the
directory itself and the <tt>`CACHEDIR.TAG'</tt> file.
</p>
<a name="IDX425"></a>
</dd>
<dt> <samp>`--exclude-caches-under'</samp></dt>
<dd><p>Do not archive the contents of the directory, nor the
<tt>`CACHEDIR.TAG'</tt> file, archive only the directory itself.
</p>
<a name="IDX426"></a>
</dd>
<dt> <samp>`--exclude-caches-all'</samp></dt>
<dd><p>Omit directories containing <tt>`CACHEDIR.TAG'</tt> file entirely.
</p></dd>
</dl>

<a name="IDX427"></a>
<p>Another option family, <samp>`--exclude-tag'</samp>, provides a generalization of
this concept.  It takes a single argument, a file name to look for.
Any directory that contains this file will be excluded from the dump.
Similarly to <samp>`exclude-caches'</samp>, there are three options in this
option family:
</p>
<dl compact="compact">
<dd><a name="IDX428"></a>
</dd>
<dt> <samp>`--exclude-tag=<var>file</var>'</samp></dt>
<dd><p>Do not dump the contents of the directory, but dump the
directory itself and the <var>file</var>.
</p>
<a name="IDX429"></a>
</dd>
<dt> <samp>`--exclude-tag-under=<var>file</var>'</samp></dt>
<dd><p>Do not dump the contents of the directory, nor the
<var>file</var>, archive only the directory itself.
</p>
<a name="IDX430"></a>
</dd>
<dt> <samp>`--exclude-tag-all=<var>file</var>'</samp></dt>
<dd><p>Omit directories containing <var>file</var> file entirely.
</p></dd>
</dl>

<p>Multiple <samp>`--exclude-tag*'</samp> options can be given.
</p>
<p>For example, given this directory:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>find dir</kbd>
dir
dir/blues
dir/jazz
dir/folk
dir/folk/tagfile
dir/folk/sanjuan
dir/folk/trote
</pre></td></tr></table>
<p>The <samp>`--exclude-tag'</samp> will produce the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf archive.tar --exclude-tag=tagfile -v dir</kbd>
dir/
dir/blues
dir/jazz
dir/folk/
tar: dir/folk/: contains a cache directory tag tagfile;
  contents not dumped
dir/folk/tagfile
</pre></td></tr></table>
<p>Both the <tt>`dir/folk'</tt> directory and its tagfile are preserved in
the archive, however the rest of files in this directory are not.
</p>
<p>Now, using the <samp>`--exclude-tag-under'</samp> option will exclude
<tt>`tagfile'</tt> from the dump, while still preserving the directory
itself, as shown in this example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf archive.tar --exclude-tag-under=tagfile -v dir</kbd>
dir/
dir/blues
dir/jazz
dir/folk/
./tar: dir/folk/: contains a cache directory tag tagfile;
  contents not dumped
</pre></td></tr></table>
<p>Finally, using <samp>`--exclude-tag-all'</samp> omits the <tt>`dir/folk'</tt>
directory entirely:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf archive.tar --exclude-tag-all=tagfile -v dir</kbd>
dir/
dir/blues
dir/jazz
./tar: dir/folk/: contains a cache directory tag tagfile;
  directory not dumped
</pre></td></tr></table>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC111">Problems with Using the <code>exclude</code> Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="problems-with-exclude"></a>
<a name="SEC111"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC110" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC112" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC110" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="unnumberedsubsec"> Problems with Using the <code>exclude</code> Options </h3>

<p>Some users find <samp>`exclude'</samp> options confusing.  Here are some common
pitfalls:
</p>
<ul>
<li>
The main operating mode of <code>tar</code> does not act on a file name
explicitly listed on the command line, if one of its file name
components is excluded.  In the example above, if
you create an archive and exclude files that end with <samp>`*.o'</samp>, but
explicitly name the file <samp>`dir.o/foo'</samp> after all the options have been
listed, <samp>`dir.o/foo'</samp> will be excluded from the archive.

</li><li>
You can sometimes confuse the meanings of <samp>`--exclude'</samp> and
<samp>`--exclude-from'</samp>.  Be careful: use <samp>`--exclude'</samp> when files
to be excluded are given as a pattern on the command line.  Use
<samp>`--exclude-from'</samp> to introduce the name of a file which contains
a list of patterns, one per line; each of these patterns can exclude
zero, one, or many files.

</li><li>
When you use <samp>`--exclude=<var>pattern</var>'</samp>, be sure to quote the
<var>pattern</var> parameter, so <acronym>GNU</acronym> <code>tar</code> sees wildcard characters
like <samp>`*'</samp>.  If you do not do this, the shell might expand the
<samp>`*'</samp> itself using files at hand, so <code>tar</code> might receive a
list of files instead of one pattern, or none at all, making the
command somewhat illegal.  This might not correspond to what you want.

<p>For example, write:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f <var>archive.tar</var> --exclude '*.o' <var>directory</var></kbd>
</pre></td></tr></table>

<p>rather than:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"># <em>Wrong!</em>
$ <kbd>tar -c -f <var>archive.tar</var> --exclude *.o <var>directory</var></kbd>
</pre></td></tr></table>
</li><li>
You must use use shell syntax, or globbing, rather than <code>regexp</code>
syntax, when using exclude options in <code>tar</code>.  If you try to use
<code>regexp</code> syntax to describe files to be excluded, your command
might fail.

</li><li>
See <cite>The change in semantics must have occurred before 1.11,
so I doubt if it is worth mentioning at all. Anyway, should at
least specify in which version the semantics changed.</cite>

<p>In earlier versions of <code>tar</code>, what is now the
<samp>`--exclude-from'</samp> option was called <samp>`--exclude'</samp> instead.
Now, <samp>`--exclude'</samp> applies to patterns listed on the command
line and <samp>`--exclude-from'</samp> applies to patterns listed in a
file.
</p>
</li></ul>

<hr size="6">
<a name="wildcards"></a>
<a name="SEC112"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC111" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC113" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.5 Wildcards Patterns and Matching </h2>

<p><em>Globbing</em> is the operation by which <em>wildcard</em> characters,
<samp>`*'</samp> or <samp>`?'</samp> for example, are replaced and expanded into all
existing files matching the given pattern.  <acronym>GNU</acronym> <code>tar</code> can use wildcard
patterns for matching (or globbing) archive members when extracting
from or listing an archive.  Wildcard patterns are also used for
verifying volume labels of <code>tar</code> archives.  This section has the
purpose of explaining wildcard syntax for <code>tar</code>.
</p>
<p>See <cite>the next few paragraphs need work.</cite>
</p>

<p>A <var>pattern</var> should be written according to shell syntax, using wildcard
characters to effect globbing.  Most characters in the pattern stand
for themselves in the matched string, and case is significant: <samp>`a'</samp>
will match only <samp>`a'</samp>, and not <samp>`A'</samp>.  The character <samp>`?'</samp> in the
pattern matches any single character in the matched string.  The character
<samp>`*'</samp> in the pattern matches zero, one, or more single characters in
the matched string.  The character <samp>`\'</samp> says to take the following
character of the pattern <em>literally</em>; it is useful when one needs to
match the <samp>`?'</samp>, <samp>`*'</samp>, <samp>`['</samp> or <samp>`\'</samp> characters, themselves.
</p>
<p>The character <samp>`['</samp>, up to the matching <samp>`]'</samp>, introduces a character
class.  A <em>character class</em> is a list of acceptable characters
for the next single character of the matched string.  For example,
<samp>`[abcde]'</samp> would match any of the first five letters of the alphabet.
Note that within a character class, all of the &quot;special characters&quot;
listed above other than <samp>`\'</samp> lose their special meaning; for example,
<samp>`[-\\[*?]]'</samp> would match any of the characters, <samp>`-'</samp>, <samp>`\'</samp>,
<samp>`['</samp>, <samp>`*'</samp>, <samp>`?'</samp>, or <samp>`]'</samp>.  (Due to parsing constraints,
the characters <samp>`-'</samp> and <samp>`]'</samp> must either come <em>first</em> or
<em>last</em> in a character class.)
</p>
<a name="IDX431"></a>
<a name="IDX432"></a>
<p>If the first character of the class after the opening <samp>`['</samp>
is <samp>`!'</samp> or <samp>`^'</samp>, then the meaning of the class is reversed.
Rather than listing character to match, it lists those characters which
are <em>forbidden</em> as the next single character of the matched string.
</p>
<p>Other characters of the class stand for themselves.  The special
construction <samp>`[<var>a</var>-<var>e</var>]'</samp>, using an hyphen between two
letters, is meant to represent all characters between <var>a</var> and
<var>e</var>, inclusive.
</p>
<p>See <cite>need to add a sentence or so here to make this clear for those
who don't have dan around.</cite>
</p>

<p>Periods (<samp>`.'</samp>) or forward slashes (<samp>`/'</samp>) are not considered
special for wildcard matches.  However, if a pattern completely matches
a directory prefix of a matched string, then it matches the full matched
string: thus, excluding a directory also excludes all the files beneath it.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="controlling-pattern_002dmatching"></a>
<a name="SEC113"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC112" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC114" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC112" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="unnumberedsubsec"> Controlling Pattern-Matching </h3>

<p>For the purposes of this section, we call <em>exclusion members</em> all
member names obtained while processing <samp>`--exclude'</samp> and
<samp>`--exclude-from'</samp> options, and <em>inclusion members</em> those
member names that were given in the command line or read from the file
specified with <samp>`--files-from'</samp> option.
</p>
<p>These two pairs of member lists are used in the following operations:
<samp>`--diff'</samp>, <samp>`--extract'</samp>, <samp>`--list'</samp>,
<samp>`--update'</samp>.
</p>
<p>There are no inclusion members in create mode (<samp>`--create'</samp> and
<samp>`--append'</samp>), since in this mode the names obtained from the
command line refer to <em>files</em>, not archive members.
</p>
<p>By default, inclusion members are compared with archive members
literally <a name="DOCF18" href="#FOOT18">(18)</a> and exclusion members are
treated as globbing patterns.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf foo.tar</kbd>
a.c
b.c
a.txt
[remarks]
# <i>Member names are used verbatim:</i>
$ <kbd>tar -xf foo.tar -v '[remarks]'</kbd>
[remarks]
# <i>Exclude member names are globbed:</i>
$ <kbd>tar -xf foo.tar -v --exclude '*.c'</kbd>
a.txt
[remarks]
</pre></td></tr></table>
<p>This behavior can be altered by using the following options:
</p>
<dl compact="compact">
<dd><a name="IDX433"></a>
</dd>
<dt> <samp>`--wildcards'</samp></dt>
<dd><p>Treat all member names as wildcards.
</p>
<a name="IDX434"></a>
</dd>
<dt> <samp>`--no-wildcards'</samp></dt>
<dd><p>Treat all member names as literal strings.
</p></dd>
</dl>

<p>Thus, to extract files whose names end in <samp>`.c'</samp>, you can use:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -xf foo.tar -v --wildcards '*.c'</kbd>
a.c
b.c
</pre></td></tr></table>

<p>Notice quoting of the pattern to prevent the shell from interpreting
it.
</p>
<p>The effect of <samp>`--wildcards'</samp> option is canceled by
<samp>`--no-wildcards'</samp>.  This can be used to pass part of
the command line arguments verbatim and other part as globbing
patterns.  For example, the following invocation:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -xf foo.tar --wildcards '*.txt' --no-wildcards '[remarks]'</kbd>
</pre></td></tr></table>

<p>instructs <code>tar</code> to extract from <tt>`foo.tar'</tt> all files whose
names end in <samp>`.txt'</samp> and the file named <tt>`[remarks]'</tt>.
</p>
<p>Normally, a pattern matches a name if an initial subsequence of the
name's components matches the pattern, where <samp>`*'</samp>, <samp>`?'</samp>, and
<samp>`[...]'</samp> are the usual shell wildcards, <samp>`\'</samp> escapes wildcards,
and wildcards can match <samp>`/'</samp>.
</p>
<p>Other than optionally stripping leading <samp>`/'</samp> from names
(see section <a href="#SEC120">Absolute File Names</a>), patterns and names are used as-is.  For
example, trailing <samp>`/'</samp> is not trimmed from a user-specified name
before deciding whether to exclude it.
</p>
<p>However, this matching procedure can be altered by the options listed
below.  These options accumulate.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--ignore-case --exclude='makefile' --no-ignore-case ---exclude='readme'
</pre></td></tr></table>

<p>ignores case when excluding <samp>`makefile'</samp>, but not when excluding
<samp>`readme'</samp>.
</p>
<dl compact="compact">
<dd><p><a name="anchored-patterns"></a>
<a name="IDX435"></a>
<a name="IDX436"></a>
</p></dd>
<dt> <samp>`--anchored'</samp></dt>
<dt> <samp>`--no-anchored'</samp></dt>
<dd><p>If anchored, a pattern must match an initial subsequence
of the name's components.  Otherwise, the pattern can match any
subsequence.  Default is <samp>`--no-anchored'</samp> for exclusion members
and <samp>`--anchored'</samp> inclusion members.
</p>
<p><a name="case_002dinsensitive-matches"></a>
<a name="IDX437"></a>
<a name="IDX438"></a>
</p></dd>
<dt> <samp>`--ignore-case'</samp></dt>
<dt> <samp>`--no-ignore-case'</samp></dt>
<dd><p>When ignoring case, upper-case patterns match lower-case names and vice versa.
When not ignoring case (the default), matching is case-sensitive.
</p>
<a name="IDX439"></a>
<a name="IDX440"></a>
</dd>
<dt> <samp>`--wildcards-match-slash'</samp></dt>
<dt> <samp>`--no-wildcards-match-slash'</samp></dt>
<dd><p>When wildcards match slash (the default for exclusion members), a
wildcard like <samp>`*'</samp> in the pattern can match a <samp>`/'</samp> in the
name.  Otherwise, <samp>`/'</samp> is matched only by <samp>`/'</samp>.
</p>
</dd>
</dl>

<p>The <samp>`--recursion'</samp> and <samp>`--no-recursion'</samp> options
(see section <a href="#SEC117">Descending into Directories</a>) also affect how member patterns are interpreted.  If
recursion is in effect, a pattern matches a name if it matches any of
the name's parent directories.
</p>
<p>The following table summarizes pattern-matching default values:
</p>
<table>
<thead><tr><th><p> Members </p></th><th><p> Default settings
</p></th></tr></thead>
<tr><td><p> Inclusion </p></td><td><p> <samp>`--no-wildcards --anchored --no-wildcards-match-slash'</samp>
</p></td></tr>
<tr><td><p> Exclusion </p></td><td><p> <samp>`--wildcards --no-anchored --wildcards-match-slash'</samp>
</p></td></tr>
</table>

<hr size="6">
<a name="quoting-styles"></a>
<a name="SEC114"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC113" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC115" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.6 Quoting Member Names </h2>

<p>When displaying member names, <code>tar</code> takes care to avoid
ambiguities caused by certain characters.  This is called <em>name
quoting</em>.  The characters in question are:
</p>
<ul>
<li> Non-printable control characters:
<a name="escape-sequences"></a>
<table>
<thead><tr><th><p> Character </p></th><th><p> <acronym>ASCII</acronym> </p></th><th><p> Character name
</p></th></tr></thead>
<tr><td><p> \a </p></td><td><p> 7  </p></td><td><p> Audible bell
</p></td></tr>
<tr><td><p> \b </p></td><td><p> 8  </p></td><td><p> Backspace
</p></td></tr>
<tr><td><p> \f </p></td><td><p> 12 </p></td><td><p> Form feed
</p></td></tr>
<tr><td><p> \n </p></td><td><p> 10 </p></td><td><p> New line
</p></td></tr>
<tr><td><p> \r </p></td><td><p> 13 </p></td><td><p> Carriage return
</p></td></tr>
<tr><td><p> \t </p></td><td><p> 9  </p></td><td><p> Horizontal tabulation
</p></td></tr>
<tr><td><p> \v </p></td><td><p> 11 </p></td><td><p> Vertical tabulation
</p></td></tr>
</table>

</li><li> Space (<acronym>ASCII</acronym> 32)

</li><li> Single and double quotes (<samp>`''</samp> and <samp>`&quot;'</samp>)

</li><li> Backslash (<samp>`\'</samp>)
</li></ul>

<p>The exact way <code>tar</code> uses to quote these characters depends on
the <em>quoting style</em>.  The default quoting style, called
<em>escape</em> (see below), uses backslash notation to represent control
characters and backslash.
</p>
<p><acronym>GNU</acronym> <code>tar</code> offers seven distinct quoting styles, which can be selected
using <samp>`--quoting-style'</samp> option:
</p>
<dl compact="compact">
<dt> <samp>`--quoting-style=<var>style</var>'</samp></dt>
<dd><a name="IDX441"></a>

<p>Sets quoting style.  Valid values for <var>style</var> argument are:
literal, shell, shell-always, c, escape, locale, clocale.
</p></dd>
</dl>

<p>These styles are described in detail below.  To illustrate their
effect, we will use an imaginary tar archive <tt>`arch.tar'</tt>
containing the following members:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"># 1. Contains horizontal tabulation character.
a       tab
# 2. Contains newline character
a
newline
# 3. Contains a space
a space
# 4. Contains double quotes
a&quot;double&quot;quote
# 5. Contains single quotes
a'single'quote
# 6. Contains a backslash character:
a\backslash
</pre></td></tr></table>
<p>Here is how usual <code>ls</code> command would have listed them, if they
had existed in the current working directory:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>ls</kbd>
a\ttab
a\nnewline
a\ space
a&quot;double&quot;quote
a'single'quote
a\\backslash
</pre></td></tr></table>
<p>Quoting styles:
</p>
<dl compact="compact">
<dt> <samp>`literal'</samp></dt>
<dd><p>No quoting, display each character as is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf arch.tar --quoting-style=literal</kbd>
./
./a space
./a'single'quote
./a&quot;double&quot;quote
./a\backslash
./a     tab
./a
newline
</pre></td></tr></table>
</dd>
<dt> <samp>`shell'</samp></dt>
<dd><p>Display characters the same way Bourne shell does:
control characters, except <samp>`\t'</samp> and <samp>`\n'</samp>, are printed using
backslash escapes, <samp>`\t'</samp> and <samp>`\n'</samp> are printed as is, and a
single quote is printed as <samp>`\''</samp>.  If a name contains any quoted
characters, it is enclosed in single quotes.  In particular, if a name
contains single quotes, it is printed as several single-quoted strings:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf arch.tar --quoting-style=shell</kbd>
./
'./a space'
'./a'\''single'\''quote'
'./a&quot;double&quot;quote'
'./a\backslash'
'./a    tab'
'./a
newline'
</pre></td></tr></table>
</dd>
<dt> <samp>`shell-always'</samp></dt>
<dd><p>Same as <samp>`shell'</samp>, but the names are always enclosed in single
quotes:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf arch.tar --quoting-style=shell-always</kbd>
'./'
'./a space'
'./a'\''single'\''quote'
'./a&quot;double&quot;quote'
'./a\backslash'
'./a    tab'
'./a
newline'
</pre></td></tr></table>
</dd>
<dt> <samp>`c'</samp></dt>
<dd><p>Use the notation of the C programming language.  All names are
enclosed in double quotes.  Control characters are quoted using
backslash notations, double quotes are represented as <samp>`\&quot;'</samp>,
backslash characters are represented as <samp>`\\'</samp>.  Single quotes and
spaces are not quoted:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf arch.tar --quoting-style=c</kbd>
&quot;./&quot;
&quot;./a space&quot;
&quot;./a'single'quote&quot;
&quot;./a\&quot;double\&quot;quote&quot;
&quot;./a\\backslash&quot;
&quot;./a\ttab&quot;
&quot;./a\nnewline&quot;
</pre></td></tr></table>
</dd>
<dt> <samp>`escape'</samp></dt>
<dd><p>Control characters are printed using backslash notation, and a
backslash as <samp>`\\'</samp>.  This is the default quoting style, unless it
was changed when configured the package.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf arch.tar --quoting-style=escape</kbd>
./
./a space
./a'single'quote
./a&quot;double&quot;quote
./a\\backslash
./a\ttab
./a\nnewline
</pre></td></tr></table>
</dd>
<dt> <samp>`locale'</samp></dt>
<dd><p>Control characters, single quote and backslash are printed using
backslash notation.  All names are quoted using left and right
quotation marks, appropriate to the current locale.  If it does not
define quotation marks, use <samp>`''</samp> as left and as right
quotation marks.  Any occurrences of the right quotation mark in a
name are escaped with <samp>`\'</samp>, for example:
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf arch.tar --quoting-style=locale</kbd>
'./'
'./a space'
'./a\'single\'quote'
'./a&quot;double&quot;quote'
'./a\\backslash'
'./a\ttab'
'./a\nnewline'
</pre></td></tr></table>
</dd>
<dt> <samp>`clocale'</samp></dt>
<dd><p>Same as <samp>`locale'</samp>, but <samp>`&quot;'</samp> is used for both left and right
quotation marks, if not provided by the currently selected locale:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf arch.tar --quoting-style=clocale</kbd>
&quot;./&quot;
&quot;./a space&quot;
&quot;./a'single'quote&quot;
&quot;./a\&quot;double\&quot;quote&quot;
&quot;./a\\backslash&quot;
&quot;./a\ttab&quot;
&quot;./a\nnewline&quot;
</pre></td></tr></table></dd>
</dl>

<p>You can specify which characters should be quoted in addition to those
implied by the current quoting style:
</p>
<dl compact="compact">
<dt> <samp>`--quote-chars=<var>string</var>'</samp></dt>
<dd><p>Always quote characters from <var>string</var>, even if the selected
quoting style would not quote them.
</p></dd>
</dl>

<p>For example, using <samp>`escape'</samp> quoting (compare with the usual
escape listing above):
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar tf arch.tar --quoting-style=escape --quote-chars=' &quot;'</kbd>
./
./a\ space
./a'single'quote
./a\&quot;double\&quot;quote
./a\\backslash
./a\ttab
./a\nnewline
</pre></td></tr></table>
<p>To disable quoting of such additional characters, use the following
option:
</p>
<dl compact="compact">
<dt> <samp>`--no-quote-chars=<var>string</var>'</samp></dt>
<dd><p>Remove characters listed in <var>string</var> from the list of quoted
characters set by the previous <samp>`--quote-chars'</samp> option.
</p></dd>
</dl>

<p>This option is particularly useful if you have added
<samp>`--quote-chars'</samp> to your <code>TAR_OPTIONS</code> (see <a href="#TAR_005fOPTIONS">TAR_OPTIONS</a>)
and wish to disable it for the current invocation.
</p>
<p>Note, that <samp>`--no-quote-chars'</samp> does <em>not</em> disable those
characters that are quoted by default in the selected quoting style.
</p>
<hr size="6">
<a name="transform"></a>
<a name="SEC115"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC114" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC116" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.7 Modifying File and Member Names </h2>

<p><code>Tar</code> archives contain detailed information about files stored
in them and full file names are part of that information.  When
storing a file to an archive, its file name is recorded in it,
along with the actual file contents.  When restoring from an archive,
a file is created on disk with exactly the same name as that stored
in the archive.  In the majority of cases this is the desired behavior
of a file archiver.  However, there are some cases when it is not.
</p>
<p>First of all, it is often unsafe to extract archive members with
absolute file names or those that begin with a <tt>`../'</tt>.  <acronym>GNU</acronym> <code>tar</code>
takes special precautions when extracting such names and provides a
special option for handling them, which is described in
<a href="#SEC120">Absolute File Names</a>.
</p>
<p>Secondly, you may wish to extract file names without some leading
directory components, or with otherwise modified names.  In other
cases it is desirable to store files under differing names in the
archive.
</p>
<p><acronym>GNU</acronym> <code>tar</code> provides several options for these needs.
</p>
<dl compact="compact">
<dd><a name="IDX442"></a>
</dd>
<dt> <samp>`--strip-components=<var>number</var>'</samp></dt>
<dd><p>Strip given <var>number</var> of leading components from file names before
extraction.
</p></dd>
</dl>

<p>For example, suppose you have archived whole <tt>`/usr'</tt> hierarchy to
a tar archive named <tt>`usr.tar'</tt>.  Among other files, this archive
contains <tt>`usr/include/stdlib.h'</tt>, which you wish to extract to
the current working directory.  To do so, you type:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -xf usr.tar --strip=2 usr/include/stdlib.h</kbd>
</pre></td></tr></table>
<p>The option <samp>`--strip=2'</samp> instructs <code>tar</code> to strip the
two leading components (<tt>`usr/'</tt> and <tt>`include/'</tt>) off the file
name.
</p>
<p>If you add the <samp>`--verbose'</samp> (<samp>`-v'</samp>) option to the invocation
above, you will note that the verbose listing still contains the
full file name, with the two removed components still in place.  This
can be inconvenient, so <code>tar</code> provides a special option for
altering this behavior:
</p>
<p><a name="show_002dtransformed_002dnames"></a>
</p><dl compact="compact">
<dd><a name="IDX443"></a>
</dd>
<dt> <samp>`--show-transformed-names'</samp></dt>
<dd><p>Display file or member names with all requested transformations
applied.
</p></dd>
</dl>


<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -xf usr.tar -v --strip=2 usr/include/stdlib.h</kbd>
usr/include/stdlib.h
$ <kbd>tar -xf usr.tar -v --strip=2 --show-transformed usr/include/stdlib.h</kbd>
stdlib.h
</pre></td></tr></table>
<p>Notice that in both cases the file <tt>`stdlib.h'</tt> is extracted to the
current working directory, <samp>`--show-transformed-names'</samp> affects
only the way its name is displayed.
</p>
<p>This option is especially useful for verifying whether the invocation
will have the desired effect.  Thus, before running
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -x --strip=<var>n</var></kbd>
</pre></td></tr></table>

<p>it is often advisable to run
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -t -v --show-transformed --strip=<var>n</var></kbd>
</pre></td></tr></table>

<p>to make sure the command will produce the intended results.
</p>
<p>In case you need to apply more complex modifications to the file name,
<acronym>GNU</acronym> <code>tar</code> provides a general-purpose transformation option:
</p>
<dl compact="compact">
<dd><a name="IDX444"></a>
<a name="IDX445"></a>
</dd>
<dt> <samp>`--transform=<var>expression</var>'</samp></dt>
<dt> <samp>`--xform=<var>expression</var>'</samp></dt>
<dd><p>Modify file names using supplied <var>expression</var>.
</p></dd>
</dl>


<p>The <var>expression</var> is a <code>sed</code>-like replace expression of the
form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">s/<var>regexp</var>/<var>replace</var>/[<var>flags</var>]
</pre></td></tr></table>

<p>where <var>regexp</var> is a <em>regular expression</em>, <var>replace</var> is a
replacement for each file name part that matches <var>regexp</var>.  Both
<var>regexp</var> and <var>replace</var> are described in detail in
<a href="${GS}/sed/manual/sed.html#The-_0022s_0022-Command">The &quot;s&quot; Command: (sed)The &quot;s&quot; Command</a> section `The `s' Command' in <cite>GNU sed</cite>.
</p>
<p>Any delimiter can be used in lieu of <samp>`/'</samp>, the only requirement being
that it be used consistently throughout the expression. For example,
the following two expressions are equivalent:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">s/one/two/
s,one,two,
</pre></td></tr></table>
<p>Changing delimiters is often useful when the <var>regex</var> contains
slashes.  For example, it is more convenient to write <code>s,/,-,</code> than
<code>s/\//-/</code>.
</p>
<p>As in <code>sed</code>, you can give several replace expressions,
separated by a semicolon.
</p>
<p>Supported <var>flags</var> are:
</p>
<dl compact="compact">
<dt> <samp>`g'</samp></dt>
<dd><p>Apply the replacement to <em>all</em> matches to the <var>regexp</var>, not
just the first.
</p>
</dd>
<dt> <samp>`i'</samp></dt>
<dd><p>Use case-insensitive matching.
</p>
</dd>
<dt> <samp>`x'</samp></dt>
<dd><p><var>regexp</var> is an <em>extended regular expression</em> (see <a href="${GS}/sed/manual/sed.html#Extended-regexps">Extended regular expressions: (sed)Extended regexps</a> section `Extended regular expressions' in <cite>GNU sed</cite>).
</p>
</dd>
<dt> <samp>`<var>number</var>'</samp></dt>
<dd><p>Only replace the <var>number</var>th match of the <var>regexp</var>.
</p>
<p>Note: the <acronym>POSIX</acronym> standard does not specify what should happen
when you mix the <samp>`g'</samp> and <var>number</var> modifiers.  <acronym>GNU</acronym> <code>tar</code>
follows the GNU <code>sed</code> implementation in this regard, so
the interaction is defined to be: ignore matches before the
<var>number</var>th, and then match and replace all matches from the
<var>number</var>th on.
</p>
</dd>
</dl>

<p>In addition, several <em>transformation scope</em> flags are supported,
that control to what files transformations apply.  These are:
</p>
<dl compact="compact">
<dt> <samp>`r'</samp></dt>
<dd><p>Apply transformation to regular archive members.
</p>
</dd>
<dt> <samp>`R'</samp></dt>
<dd><p>Do not apply transformation to regular archive members.
</p>
</dd>
<dt> <samp>`s'</samp></dt>
<dd><p>Apply transformation to symbolic link targets.
</p>
</dd>
<dt> <samp>`S'</samp></dt>
<dd><p>Do not apply transformation to symbolic link targets.
</p>
</dd>
<dt> <samp>`h'</samp></dt>
<dd><p>Apply transformation to hard link targets.
</p>
</dd>
<dt> <samp>`H'</samp></dt>
<dd><p>Do not apply transformation to hard link targets.
</p></dd>
</dl>

<p>Default is <samp>`rsh'</samp>, which means to apply transformations to both archive
members and targets of symbolic and hard links.
</p>
<p>Default scope flags can also be changed using <samp>`flags='</samp> statement
in the transform expression.  The flags set this way remain in force
until next <samp>`flags='</samp> statement or end of expression, whichever
occurs first.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  --transform 'flags=S;s|^|/usr/local/|'
</pre></td></tr></table>
<p>Here are several examples of <samp>`--transform'</samp> usage:
</p>
<ol>
<li> Extract <tt>`usr/'</tt> hierarchy into <tt>`usr/local/'</tt>:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --transform='s,usr/,usr/local/,' -x -f arch.tar</kbd>
</pre></td></tr></table>
</li><li> Strip two leading directory components (equivalent to
<samp>`--strip-components=2'</samp>):

<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --transform='s,/*[^/]*/[^/]*/,,' -x -f arch.tar</kbd>
</pre></td></tr></table>
</li><li> Convert each file name to lower case:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --transform 's/.*/\L&amp;/' -x -f arch.tar</kbd>
</pre></td></tr></table>
</li><li> Prepend <tt>`/prefix/'</tt>  to each file name:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --transform 's,^,/prefix/,' -x -f arch.tar</kbd>
</pre></td></tr></table>
</li><li> Archive the <tt>`/lib'</tt> directory, prepending <samp>`/usr/local'</samp>
to each archive member:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --transform 's,^,/usr/local/,S' -c -f arch.tar /lib</kbd>
</pre></td></tr></table></li></ol>

<p>Notice the use of flags in the last example.  The <tt>`/lib'</tt>
directory often contains many symbolic links to files within it.
It may look, for example, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>ls -l</kbd>
drwxr-xr-x root/root       0 2008-07-08 16:20 /lib/
-rwxr-xr-x root/root 1250840 2008-05-25 07:44 /lib/libc-2.3.2.so
lrwxrwxrwx root/root       0 2008-06-24 17:12 /lib/libc.so.6 -&gt; libc-2.3.2.so
...
</pre></td></tr></table>
<p>Using the expression <samp>`s,^,/usr/local/,'</samp> would mean adding
<samp>`/usr/local'</samp> to both regular archive members and to link
targets. In this case, <tt>`/lib/libc.so.6'</tt> would become:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  /usr/local/lib/libc.so.6 -&gt; /usr/local/libc-2.3.2.so
</pre></td></tr></table>
<p>This is definitely not desired.  To avoid this, the <samp>`S'</samp> flag
is used, which excludes symbolic link targets from filename
transformations.  The result is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --transform 's,^,/usr/local/,S' -c -v -f arch.tar \
       --show-transformed /lib</kbd>
drwxr-xr-x root/root       0 2008-07-08 16:20 /usr/local/lib/
-rwxr-xr-x root/root 1250840 2008-05-25 07:44 /usr/local/lib/libc-2.3.2.so
lrwxrwxrwx root/root       0 2008-06-24 17:12 /usr/local/lib/libc.so.6 \
 -&gt; libc-2.3.2.so
</pre></td></tr></table>
<p>Unlike <samp>`--strip-components'</samp>, <samp>`--transform'</samp> can be used
in any <acronym>GNU</acronym> <code>tar</code> operation mode.  For example, the following command
adds files to the archive while replacing the leading <tt>`usr/'</tt>
component with <tt>`var/'</tt>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf arch.tar --transform='s,^usr/,var/,' /</kbd>
</pre></td></tr></table>
<p>To test <samp>`--transform'</samp> effect we suggest using
<samp>`--show-transformed-names'</samp> option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf arch.tar --transform='s,^usr/,var/,' \
       --verbose --show-transformed-names /</kbd>
</pre></td></tr></table>
<p>If both <samp>`--strip-components'</samp> and <samp>`--transform'</samp> are used
together, then <samp>`--transform'</samp> is applied first, and the required
number of components is then stripped from its result.
</p>
<p>You can use as many <samp>`--transform'</samp> options in a single command
line as you want.  The specified expressions will then be applied in
order of their appearance.  For example, the following two invocations
are equivalent:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf arch.tar --transform='s,/usr/var,/var/' \
                        --transform='s,/usr/local,/usr/,'</kbd>
$ <kbd>tar -cf arch.tar \
               --transform='s,/usr/var,/var/;s,/usr/local,/usr/,'</kbd>
</pre></td></tr></table>
<hr size="6">
<a name="after"></a>
<a name="SEC116"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC115" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC117" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.8 Operating Only on New Files </h2>

<p>The <samp>`--after-date=<var>date</var>'</samp> (<samp>`--newer=<var>date</var>'</samp>,
<samp>`-N <var>date</var>'</samp>) option causes <code>tar</code> to only work on
files whose data modification or status change times are newer than
the <var>date</var> given.  If <var>date</var> starts with <samp>`/'</samp> or <samp>`.'</samp>,
it is taken to be a file name; the data modification time of that file
is used as the date. If you use this option when creating or appending
to an archive, the archive will only include new files.  If you use
<samp>`--after-date'</samp> when extracting an archive, <code>tar</code> will
only extract files newer than the <var>date</var> you specify.
</p>
<p>If you only want <code>tar</code> to make the date comparison based on
modification of the file's data (rather than status
changes), then use the <samp>`--newer-mtime=<var>date</var>'</samp> option.
</p>
<a name="IDX446"></a>
<a name="IDX447"></a>
<p>You may use these options with any operation.  Note that these options
differ from the <samp>`--update'</samp> (<samp>`-u'</samp>) operation in that they
allow you to specify a particular date against which <code>tar</code> can
compare when deciding whether or not to archive the files.
</p>
<dl compact="compact">
<dd><a name="IDX448"></a>
<a name="IDX449"></a>
</dd>
<dt> <samp>`--after-date=<var>date</var>'</samp></dt>
<dt> <samp>`--newer=<var>date</var>'</samp></dt>
<dt> <samp>`-N <var>date</var>'</samp></dt>
<dd><p>Only store files newer than <var>date</var>.
</p>
<p>Acts on files only if their data modification or status change times are
later than <var>date</var>.  Use in conjunction with any operation.
</p>
<p>If <var>date</var> starts with <samp>`/'</samp> or <samp>`.'</samp>, it is taken to be a file
name; the data modification time of that file is used as the date.
</p>
<a name="IDX450"></a>
</dd>
<dt> <samp>`--newer-mtime=<var>date</var>'</samp></dt>
<dd><p>Acts like <samp>`--after-date'</samp>, but only looks at data modification times.
</p></dd>
</dl>

<p>These options limit <code>tar</code> to operate only on files which have
been modified after the date specified.  A file's status is considered to have
changed if its contents have been modified, or if its owner,
permissions, and so forth, have been changed.  (For more information on
how to specify a date, see <a href="#SEC121">Date input formats</a>; remember that the
entire date argument must be quoted if it contains any spaces.)
</p>
<p>Gurus would say that <samp>`--after-date'</samp> tests both the data
modification time (<code>mtime</code>, the time the contents of the file
were last modified) and the status change time (<code>ctime</code>, the time
the file's status was last changed: owner, permissions, etc.)
fields, while <samp>`--newer-mtime'</samp> tests only the <code>mtime</code>
field.
</p>
<p>To be precise, <samp>`--after-date'</samp> checks <em>both</em> <code>mtime</code> and
<code>ctime</code> and processes the file if either one is more recent than
<var>date</var>, while <samp>`--newer-mtime'</samp> only checks <code>mtime</code> and
disregards <code>ctime</code>.  Neither does it use <code>atime</code> (the last time the
contents of the file were looked at).
</p>
<p>Date specifiers can have embedded spaces.  Because of this, you may need
to quote date arguments to keep the shell from parsing them as separate
arguments.  For example, the following command will add to the archive
all the files modified less than two days ago:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf foo.tar --newer-mtime '2 days ago'</kbd>
</pre></td></tr></table>
<p>When any of these options is used with the option <samp>`--verbose'</samp>
(see section <a href="#SEC15">The <samp>`--verbose'</samp> Option</a>) <acronym>GNU</acronym> <code>tar</code> will try to convert the specified
date back to its textual representation and compare that with the
one given with the option.  If the two dates differ, <code>tar</code> will
print a warning saying what date it will use.  This is to help user
ensure he is using the right date.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar --after-date='10 days ago' .</kbd>
tar: Option --after-date: Treating date '10 days ago' as 2006-06-11
13:19:37.232434
</pre></td></tr></table>
<blockquote><p><strong>Please Note:</strong> <samp>`--after-date'</samp> and <samp>`--newer-mtime'</samp>
should not be used for incremental backups.  See section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>,
for proper way of creating incremental backups.
</p></blockquote>

<hr size="6">
<a name="recurse"></a>
<a name="SEC117"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC116" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC118" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.9 Descending into Directories </h2>

<p>Usually, <code>tar</code> will recursively explore all directories (either
those given on the command line or through the <samp>`--files-from'</samp>
option) for the various files they contain.  However, you may not always
want <code>tar</code> to act this way.
</p>
<a name="IDX451"></a>
<a name="IDX452"></a>
<p>The <samp>`--no-recursion'</samp> option inhibits <code>tar</code>'s recursive descent
into specified directories.  If you specify <samp>`--no-recursion'</samp>, you can
use the <code>find</code> (see <a href="find.html#Top">(find)Top</a> section `find' in <cite>GNU Find Manual</cite>)
utility for hunting through levels of directories to
construct a list of file names which you could then pass to <code>tar</code>.
<code>find</code> allows you to be more selective when choosing which files to
archive; see <a href="#SEC108">Reading Names from a File</a>, for more information on using <code>find</code> with
<code>tar</code>.
</p>
<dl compact="compact">
<dt> <samp>`--no-recursion'</samp></dt>
<dd><p>Prevents <code>tar</code> from recursively descending directories.
</p>
<a name="IDX453"></a>
</dd>
<dt> <samp>`--recursion'</samp></dt>
<dd><p>Requires <code>tar</code> to recursively descend directories.
This is the default.
</p></dd>
</dl>

<p>When you use <samp>`--no-recursion'</samp>, <acronym>GNU</acronym> <code>tar</code> grabs
directory entries themselves, but does not descend on them
recursively.  Many people use <code>find</code> for locating files they
want to back up, and since <code>tar</code> <em>usually</em> recursively
descends on directories, they have to use the <samp>`-not -type d'</samp>
test in their <code>find</code> invocation (see <a href="find.html#Type">Type: (find)Type</a> section `Type test' in <cite>Finding Files</cite>), as they usually do not want all the files in a
directory. They then use the <samp>`--files-from'</samp> option to archive
the files located via <code>find</code>.
</p>
<p>The problem when restoring files archived in this manner is that the
directories themselves are not in the archive; so the
<samp>`--same-permissions'</samp> (<samp>`--preserve-permissions'</samp>,
<samp>`-p'</samp>) option does not affect them--while users might really
like it to.  Specifying <samp>`--no-recursion'</samp> is a way to tell
<code>tar</code> to grab only the directory entries given to it, adding
no new files on its own.  To summarize, if you use <code>find</code> to
create a list of files to be stored in an archive, use it as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>find <var>dir</var> <var>tests</var> | \
  tar -cf <var>archive</var> --no-recursion -T -</kbd>
</pre></td></tr></table>
<p>The <samp>`--no-recursion'</samp> option also applies when extracting: it
causes <code>tar</code> to extract only the matched directory entries, not
the files under those directories.
</p>
<p>The <samp>`--no-recursion'</samp> option also affects how globbing patterns
are interpreted (see section <a href="#SEC113">Controlling Pattern-Matching</a>).
</p>
<p>The <samp>`--no-recursion'</samp> and <samp>`--recursion'</samp> options apply to
later options and operands, and can be overridden by later occurrences
of <samp>`--no-recursion'</samp> and <samp>`--recursion'</samp>.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf jams.tar --no-recursion grape --recursion grape/concord</kbd>
</pre></td></tr></table>

<p>creates an archive with one entry for <tt>`grape'</tt>, and the recursive
contents of <tt>`grape/concord'</tt>, but no entries under <tt>`grape'</tt>
other than <tt>`grape/concord'</tt>.
</p>
<hr size="6">
<a name="one"></a>
<a name="SEC118"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC117" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC119" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC105" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 6.10 Crossing File System Boundaries </h2>

<p><code>tar</code> will normally automatically cross file system boundaries in
order to archive files which are part of a directory tree.  You can
change this behavior by running <code>tar</code> and specifying
<samp>`--one-file-system'</samp>.  This option only affects files that are
archived because they are in a directory that is being archived;
<code>tar</code> will still archive files explicitly named on the command line
or through <samp>`--files-from'</samp>, regardless of where they reside.
</p>
<dl compact="compact">
<dd><a name="IDX454"></a>
</dd>
<dt> <samp>`--one-file-system'</samp></dt>
<dd><p>Prevents <code>tar</code> from crossing file system boundaries when
archiving.  Use in conjunction with any write operation.
</p></dd>
</dl>

<p>The <samp>`--one-file-system'</samp> option causes <code>tar</code> to modify its
normal behavior in archiving the contents of directories.  If a file in
a directory is not on the same file system as the directory itself, then
<code>tar</code> will not archive that file.  If the file is a directory
itself, <code>tar</code> will not archive anything beneath it; in other words,
<code>tar</code> will not cross mount points.
</p>
<p>This option is useful for making full or incremental archival backups of
a file system.  If this option is used in conjunction with
<samp>`--verbose'</samp> (<samp>`-v'</samp>), files that are excluded are
mentioned by name on the standard error.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC119">6.10.1 Changing the Working Directory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Changing Directory
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC120">6.10.2 Absolute File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="directory"></a>
<a name="SEC119"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC118" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC120" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC118" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.10.1 Changing the Working Directory </h3>

<p>See <cite>need to read over this node now for continuity; i've switched
things around some.</cite>
</p>

<a name="IDX455"></a>
<a name="IDX456"></a>
<a name="IDX457"></a>
<p>To change the working directory in the middle of a list of file names,
either on the command line or in a file specified using
<samp>`--files-from'</samp> (<samp>`-T'</samp>), use <samp>`--directory'</samp> (<samp>`-C'</samp>).
This will change the working directory to the specified directory
after that point in the list.
</p>
<dl compact="compact">
<dd><a name="IDX458"></a>
</dd>
<dt> <samp>`--directory=<var>directory</var>'</samp></dt>
<dt> <samp>`-C <var>directory</var>'</samp></dt>
<dd><p>Changes the working directory in the middle of a command line.
</p></dd>
</dl>

<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f jams.tar grape prune -C food cherry</kbd>
</pre></td></tr></table>

<p>will place the files <tt>`grape'</tt> and <tt>`prune'</tt> from the current
directory into the archive <tt>`jams.tar'</tt>, followed by the file
<tt>`cherry'</tt> from the directory <tt>`food'</tt>.  This option is especially
useful when you have several widely separated files that you want to
store in the same archive.
</p>
<p>Note that the file <tt>`cherry'</tt> is recorded in the archive under the
precise name <tt>`cherry'</tt>, <em>not</em> <tt>`food/cherry'</tt>.  Thus, the
archive will contain three files that all appear to have come from the
same directory; if the archive is extracted with plain <samp>`tar
--extract'</samp>, all three files will be written in the current directory.
</p>
<p>Contrast this with the command,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f jams.tar grape prune -C food red/cherry</kbd>
</pre></td></tr></table>

<p>which records the third file in the archive under the name
<tt>`red/cherry'</tt> so that, if the archive is extracted using
<samp>`tar --extract'</samp>, the third file will be written in a subdirectory
named <tt>`red'</tt>.
</p>
<p>You can use the <samp>`--directory'</samp> option to make the archive
independent of the original name of the directory holding the files.
The following command places the files <tt>`/etc/passwd'</tt>,
<tt>`/etc/hosts'</tt>, and <tt>`/lib/libc.a'</tt> into the archive
<tt>`foo.tar'</tt>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f foo.tar -C /etc passwd hosts -C /lib libc.a</kbd>
</pre></td></tr></table>

<p>However, the names of the archive members will be exactly what they were
on the command line: <tt>`passwd'</tt>, <tt>`hosts'</tt>, and <tt>`libc.a'</tt>.
They will not appear to be related by file name to the original
directories where those files were located.
</p>
<p>Note that <samp>`--directory'</samp> options are interpreted consecutively.  If
<samp>`--directory'</samp> specifies a relative file name, it is interpreted
relative to the then current directory, which might not be the same as
the original current working directory of <code>tar</code>, due to a previous
<samp>`--directory'</samp> option.
</p>
<p>When using <samp>`--files-from'</samp> (see section <a href="#SEC108">Reading Names from a File</a>), you can put various
<code>tar</code> options (including <samp>`-C'</samp>) in the file list.  Notice,
however, that in this case the option and its argument may not be
separated by whitespace.  If you use short option, its argument must
either follow the option letter immediately, without any intervening
whitespace, or occupy the next line.  Otherwise, if you use long
option, separate its argument by an equal sign.
</p>
<p>For instance, the file list for the above example will be:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">-C/etc
passwd
hosts
--directory=/lib
libc.a
</pre></td></tr></table>

<p>To use it, you would invoke <code>tar</code> as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f foo.tar --files-from list</kbd>
</pre></td></tr></table>
<p>The interpretation of options in file lists is disabled by
<samp>`--verbatim-files-from'</samp> and <samp>`--null'</samp> options.
</p>
<hr size="6">
<a name="absolute"></a>
<a name="SEC120"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC119" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC118" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 6.10.2 Absolute File Names </h3>

<p>By default, <acronym>GNU</acronym> <code>tar</code> drops a leading <samp>`/'</samp> on
input or output, and complains about file names containing a <tt>`..'</tt>
component.  There is an option that turns off this behavior:
</p>
<dl compact="compact">
<dd><a name="IDX459"></a>
</dd>
<dt> <samp>`--absolute-names'</samp></dt>
<dt> <samp>`-P'</samp></dt>
<dd><p>Do not strip leading slashes from file names, and permit file names
containing a <tt>`..'</tt> file name component.
</p></dd>
</dl>

<p>When <code>tar</code> extracts archive members from an archive, it strips any
leading slashes (<samp>`/'</samp>) from the member name.  This causes absolute
member names in the archive to be treated as relative file names.  This
allows you to have such members extracted wherever you want, instead of
being restricted to extracting the member in the exact directory named
in the archive.  For example, if the archive member has the name
<tt>`/etc/passwd'</tt>, <code>tar</code> will extract it as if the name were
really <tt>`etc/passwd'</tt>.
</p>
<p>File names containing <tt>`..'</tt> can cause problems when extracting, so
<code>tar</code> normally warns you about such files when creating an
archive, and rejects attempts to extracts such files.
</p>
<p>Other <code>tar</code> programs do not do this.  As a result, if you
create an archive whose member names start with a slash, they will be
difficult for other people with a non-<acronym>GNU</acronym> <code>tar</code>
program to use.  Therefore, <acronym>GNU</acronym> <code>tar</code> also strips
leading slashes from member names when putting members into the
archive.  For example, if you ask <code>tar</code> to add the file
<tt>`/bin/ls'</tt> to an archive, it will do so, but the member name will
be <tt>`bin/ls'</tt><a name="DOCF19" href="#FOOT19">(19)</a>.
</p>
<p>Symbolic links containing <tt>`..'</tt> or leading <samp>`/'</samp> can also cause
problems when extracting, so <code>tar</code> normally extracts them last;
it may create empty files as placeholders during extraction.
</p>
<p>If you use the <samp>`--absolute-names'</samp> (<samp>`-P'</samp>) option,
<code>tar</code> will do none of these transformations.
</p>
<p>To archive or extract files relative to the root directory, specify
the <samp>`--absolute-names'</samp> (<samp>`-P'</samp>) option.
</p>
<p>Normally, <code>tar</code> acts on files relative to the working
directory--ignoring superior directory names when archiving, and
ignoring leading slashes when extracting.
</p>
<p>When you specify <samp>`--absolute-names'</samp> (<samp>`-P'</samp>),
<code>tar</code> stores file names including all superior directory
names, and preserves leading slashes.  If you only invoked
<code>tar</code> from the root directory you would never need the
<samp>`--absolute-names'</samp> option, but using this option
may be more convenient than switching to root.
</p>
<p>See <cite>Should be an example in the tutorial/wizardry section using this
to transfer files between systems.</cite>
</p>

<dl compact="compact">
<dt> <samp>`--absolute-names'</samp></dt>
<dd><p>Preserves full file names (including superior directory names) when
archiving and extracting files.
</p>
</dd>
</dl>

<p><code>tar</code> prints out a message about removing the <samp>`/'</samp> from
file names.  This message appears once per <acronym>GNU</acronym> <code>tar</code>
invocation.  It represents something which ought to be told; ignoring
what it means can cause very serious surprises, later.
</p>
<p>Some people, nevertheless, do not want to see this message.  Wanting to
play really dangerously, one may of course redirect <code>tar</code> standard
error to the sink.  For example, under <code>sh</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar /home 2&gt; /dev/null</kbd>
</pre></td></tr></table>

<p>Another solution, both nicer and simpler, would be to change to
the <tt>`/'</tt> directory first, and then avoid absolute notation.
For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -c -f archive.tar -C / home</kbd>
</pre></td></tr></table>
<p>See section <a href="#SEC178">Integrity</a>, for some of the security-related implications
of using this option.
</p>




<hr size="6">
<a name="Date-input-formats"></a>
<a name="SEC121"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC120" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC122" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC105" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 7. Date input formats </h1>


<p>First, a quote:
</p>
<blockquote><p>Our units of temporal measurement, from seconds on up to months, are so
complicated, asymmetrical and disjunctive so as to make coherent mental
reckoning in time all but impossible.  Indeed, had some tyrannical god
contrived to enslave our minds to time, to make it all but impossible
for us to escape subjection to sodden routines and unpleasant surprises,
he could hardly have done better than handing down our present system.
It is like a set of trapezoidal building blocks, with no vertical or
horizontal surfaces, like a language in which the simplest thought
demands ornate constructions, useless particles and lengthy
circumlocutions.  Unlike the more successful patterns of language and
science, which enable us to face experience boldly or at least
level-headedly, our system of temporal calculation silently and
persistently encourages our terror of time.
</p>
<p>&hellip;  It is as though architects had to measure length in feet, width
in meters and height in ells; as though basic instruction manuals
demanded a knowledge of five different languages.  It is no wonder then
that we often look into our own immediate past or future, last Tuesday
or a week from Sunday, with feelings of helpless confusion.  &hellip;
</p>
<p>--Robert Grudin, <cite>Time and the Art of Living</cite>.
</p></blockquote>

<p>This section describes the textual date representations that GNU
programs accept.  These are the strings you, as a user, can supply as
arguments to the various programs.  The C interface (via the
<code>parse_datetime</code> function) is not described here.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC122">7.1 General date syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Common rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC123">7.2 Calendar date items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            19 Dec 1994.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC124">7.3 Time of day items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              9:20pm.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC125">7.4 Time zone items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                EST, PDT, UTC, &hellip;
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC126">7.5 Combined date and time of day items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> 1972-09-24T20:02:00,000000-0500.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC127">7.6 Day of week items</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Monday and others.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> next tuesday, 2 years ago.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC129">7.8 Pure numbers in date strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   19931219, 1440.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC130">7.9 Seconds since the Epoch</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        @1078100502.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC131">7.10 Specifying time zone rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     TZ=&quot;America/New_York&quot;, TZ=&quot;UTC0&quot;.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Bellovin, Eggert, Salz, Berets, et al.
</td></tr>
</table>


<hr size="6">
<a name="General-date-syntax"></a>
<a name="SEC122"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC121" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC123" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.1 General date syntax </h2>


<p>A <em>date</em> is a string, possibly empty, containing many items
separated by whitespace.  The whitespace may be omitted when no
ambiguity arises.  The empty string means the beginning of today (i.e.,
midnight).  Order of the items is immaterial.  A date string may contain
many flavors of items:
</p>
<ul>
<li> calendar date items
</li><li> time of day items
</li><li> time zone items
</li><li> combined date and time of day items
</li><li> day of the week items
</li><li> relative items
</li><li> pure numbers.
</li></ul>

<p>We describe each of these item types in turn, below.
</p>
<a name="IDX460"></a>
<a name="IDX461"></a>
<a name="IDX462"></a>
<a name="IDX463"></a>
<a name="IDX464"></a>
<p>A few ordinal numbers may be written out in words in some contexts.  This is
most useful for specifying day of the week items or relative items (see
below).  Among the most commonly used ordinal numbers, the word
<samp>`last'</samp> stands for <em>-1</em>, <samp>`this'</samp> stands for 0, and
<samp>`first'</samp> and <samp>`next'</samp> both stand for 1.  Because the word
<samp>`second'</samp> stands for the unit of time there is no way to write the
ordinal number 2, but for convenience <samp>`third'</samp> stands for 3,
<samp>`fourth'</samp> for 4, <samp>`fifth'</samp> for 5,
<samp>`sixth'</samp> for 6, <samp>`seventh'</samp> for 7, <samp>`eighth'</samp> for 8,
<samp>`ninth'</samp> for 9, <samp>`tenth'</samp> for 10, <samp>`eleventh'</samp> for 11 and
<samp>`twelfth'</samp> for 12.
</p>
<a name="IDX465"></a>
<p>When a month is written this way, it is still considered to be written
numerically, instead of being &quot;spelled in full&quot;; this changes the
allowed strings.
</p>
<a name="IDX466"></a>
<p>In the current implementation, only English is supported for words and
abbreviations like <samp>`AM'</samp>, <samp>`DST'</samp>, <samp>`EST'</samp>, <samp>`first'</samp>,
<samp>`January'</samp>, <samp>`Sunday'</samp>, <samp>`tomorrow'</samp>, and <samp>`year'</samp>.
</p>
<a name="IDX467"></a>
<a name="IDX468"></a>
<p>The output of the <code>date</code> command
is not always acceptable as a date string,
not only because of the language problem, but also because there is no
standard meaning for time zone items like <samp>`IST'</samp>.  When using
<code>date</code> to generate a date string intended to be parsed later,
specify a date format that is independent of language and that does not
use time zone items other than <samp>`UTC'</samp> and <samp>`Z'</samp>.  Here are some
ways to do this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ LC_ALL=C TZ=UTC0 date
Mon Mar  1 00:21:42 UTC 2004
$ TZ=UTC0 date +'%Y-%m-%d %H:%M:%SZ'
2004-03-01 00:21:42Z
$ date --rfc-3339=ns  # --rfc-3339 is a GNU extension.
2004-02-29 16:21:42.692722128-08:00
$ date --rfc-2822  # a GNU extension
Sun, 29 Feb 2004 16:21:42 -0800
$ date +'%Y-%m-%d %H:%M:%S %z'  # %z is a GNU extension.
2004-02-29 16:21:42 -0800
$ date +'@%s.%N'  # %s and %N are GNU extensions.
@1078100502.692722128
</pre></td></tr></table>
<a name="IDX469"></a>
<a name="IDX470"></a>
<p>Alphabetic case is completely ignored in dates.  Comments may be introduced
between round parentheses, as long as included parentheses are properly
nested.  Hyphens not followed by a digit are currently ignored.  Leading
zeros on numbers are ignored.
</p>
<a name="IDX471"></a>
<p>Invalid dates like <samp>`2005-02-29'</samp> or times like <samp>`24:00'</samp> are
rejected.  In the typical case of a host that does not support leap
seconds, a time like <samp>`23:59:60'</samp> is rejected even if it
corresponds to a valid leap second.
</p>

<hr size="6">
<a name="Calendar-date-items"></a>
<a name="SEC123"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC122" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC124" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.2 Calendar date items </h2>


<p>A <em>calendar date item</em> specifies a day of the year.  It is
specified differently, depending on whether the month is specified
numerically or literally.  All these strings specify the same calendar date:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">1972-09-24     # ISO 8601.
72-9-24        # Assume 19xx for 69 through 99,
               # 20xx for 00 through 68.
72-09-24       # Leading zeros are ignored.
9/24/72        # Common U.S. writing.
24 September 1972
24 Sept 72     # September has a special abbreviation.
24 Sep 72      # Three-letter abbreviations always allowed.
Sep 24, 1972
24-sep-72
24sep72
</pre></td></tr></table>
<p>The year can also be omitted.  In this case, the last specified year is
used, or the current year if none.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">9/24
sep 24
</pre></td></tr></table>
<p>Here are the rules.
</p>
<a name="IDX472"></a>
<a name="IDX473"></a>
<p>For numeric months, the ISO 8601 format
<samp>`<var>year</var>-<var>month</var>-<var>day</var>'</samp> is allowed, where <var>year</var> is
any positive number, <var>month</var> is a number between 01 and 12, and
<var>day</var> is a number between 01 and 31.  A leading zero must be present
if a number is less than ten.  If <var>year</var> is 68 or smaller, then 2000
is added to it; otherwise, if <var>year</var> is less than 100,
then 1900 is added to it.  The construct
<samp>`<var>month</var>/<var>day</var>/<var>year</var>'</samp>, popular in the United States,
is accepted.  Also <samp>`<var>month</var>/<var>day</var>'</samp>, omitting the year.
</p>
<a name="IDX474"></a>
<a name="IDX475"></a>
<p>Literal months may be spelled out in full: <samp>`January'</samp>,
<samp>`February'</samp>, <samp>`March'</samp>, <samp>`April'</samp>, <samp>`May'</samp>, <samp>`June'</samp>,
<samp>`July'</samp>, <samp>`August'</samp>, <samp>`September'</samp>, <samp>`October'</samp>,
<samp>`November'</samp> or <samp>`December'</samp>.  Literal months may be abbreviated
to their first three letters, possibly followed by an abbreviating dot.
It is also permitted to write <samp>`Sept'</samp> instead of <samp>`September'</samp>.
</p>
<p>When months are written literally, the calendar date may be given as any
of the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>day</var> <var>month</var> <var>year</var>
<var>day</var> <var>month</var>
<var>month</var> <var>day</var> <var>year</var>
<var>day</var>-<var>month</var>-<var>year</var>
</pre></td></tr></table>
<p>Or, omitting the year:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>month</var> <var>day</var>
</pre></td></tr></table>

<hr size="6">
<a name="Time-of-day-items"></a>
<a name="SEC124"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC123" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC125" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.3 Time of day items </h2>


<p>A <em>time of day item</em> in date strings specifies the time on a given
day.  Here are some examples, all of which represent the same time:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">20:02:00.000000
20:02
8:02pm
20:02-0500      # In EST (U.S. Eastern Standard Time).
</pre></td></tr></table>
<a name="IDX476"></a>
<p>More generally, the time of day may be given as
<samp>`<var>hour</var>:<var>minute</var>:<var>second</var>'</samp>, where <var>hour</var> is
a number between 0 and 23, <var>minute</var> is a number between 0 and
59, and <var>second</var> is a number between 0 and 59 possibly followed by
<samp>`.'</samp> or <samp>`,'</samp> and a fraction containing one or more digits.
Alternatively,
<samp>`:<var>second</var>'</samp> can be omitted, in which case it is taken to
be zero.  On the rare hosts that support leap seconds, <var>second</var>
may be 60.
</p>
<a name="IDX477"></a>
<a name="IDX478"></a>
<a name="IDX479"></a>
<a name="IDX480"></a>
<p>If the time is followed by <samp>`am'</samp> or <samp>`pm'</samp> (or <samp>`a.m.'</samp>
or <samp>`p.m.'</samp>), <var>hour</var> is restricted to run from 1 to 12, and
<samp>`:<var>minute</var>'</samp> may be omitted (taken to be zero).  <samp>`am'</samp>
indicates the first half of the day, <samp>`pm'</samp> indicates the second
half of the day.  In this notation, 12 is the predecessor of 1:
midnight is <samp>`12am'</samp> while noon is <samp>`12pm'</samp>.
(This is the zero-oriented interpretation of <samp>`12am'</samp> and <samp>`12pm'</samp>,
as opposed to the old tradition derived from Latin
which uses <samp>`12m'</samp> for noon and <samp>`12pm'</samp> for midnight.)
</p>
<a name="IDX481"></a>
<a name="IDX482"></a>
<p>The time may alternatively be followed by a time zone correction,
expressed as <samp>`<var>s</var><var>hh</var><var>mm</var>'</samp>, where <var>s</var> is <samp>`+'</samp>
or <samp>`-'</samp>, <var>hh</var> is a number of zone hours and <var>mm</var> is a number
of zone minutes.
The zone minutes term, <var>mm</var>, may be omitted, in which case
the one- or two-digit correction is interpreted as a number of hours.
You can also separate <var>hh</var> from <var>mm</var> with a colon.
When a time zone correction is given this way, it
forces interpretation of the time relative to
Coordinated Universal Time (UTC), overriding any previous
specification for the time zone or the local time zone.  For example,
<samp>`+0530'</samp> and <samp>`+05:30'</samp> both stand for the time zone 5.5 hours
ahead of UTC (e.g., India).
This is the best way to
specify a time zone correction by fractional parts of an hour.
The maximum zone correction is 24 hours.
</p>
<p>Either <samp>`am'</samp>/<samp>`pm'</samp> or a time zone correction may be specified,
but not both.
</p>

<hr size="6">
<a name="Time-zone-items"></a>
<a name="SEC125"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC124" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC126" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.4 Time zone items </h2>


<p>A <em>time zone item</em> specifies an international time zone, indicated
by a small set of letters, e.g., <samp>`UTC'</samp> or <samp>`Z'</samp>
for Coordinated Universal
Time.  Any included periods are ignored.  By following a
non-daylight-saving time zone by the string <samp>`DST'</samp> in a separate
word (that is, separated by some white space), the corresponding
daylight saving time zone may be specified.
Alternatively, a non-daylight-saving time zone can be followed by a
time zone correction, to add the two values.  This is normally done
only for <samp>`UTC'</samp>; for example, <samp>`UTC+05:30'</samp> is equivalent to
<samp>`+05:30'</samp>.
</p>
<p>Time zone items other than <samp>`UTC'</samp> and <samp>`Z'</samp>
are obsolescent and are not recommended, because they
are ambiguous; for example, <samp>`EST'</samp> has a different meaning in
Australia than in the United States.  Instead, it's better to use
unambiguous numeric time zone corrections like <samp>`-0500'</samp>, as
described in the previous section.
</p>
<p>If neither a time zone item nor a time zone correction is supplied,
timestamps are interpreted using the rules of the default time zone
(see section <a href="#SEC131">Specifying time zone rules</a>).
</p>

<hr size="6">
<a name="Combined-date-and-time-of-day-items"></a>
<a name="SEC126"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC125" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC127" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.5 Combined date and time of day items </h2>


<p>The ISO 8601 date and time of day extended format consists of an ISO
8601 date, a <samp>`T'</samp> character separator, and an ISO 8601 time of
day.  This format is also recognized if the <samp>`T'</samp> is replaced by a
space.
</p>
<p>In this format, the time of day should use 24-hour notation.
Fractional seconds are allowed, with either comma or period preceding
the fraction.  ISO 8601 fractional minutes and hours are not
supported.  Typically, hosts support nanosecond timestamp resolution;
excess precision is silently discarded.
</p>
<p>Here are some examples:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">2012-09-24T20:02:00.052-05:00
2012-12-31T23:59:59,999999999+11:00
1970-01-01 00:00Z
</pre></td></tr></table>
<hr size="6">
<a name="Day-of-week-items"></a>
<a name="SEC127"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC126" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC128" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.6 Day of week items </h2>


<p>The explicit mention of a day of the week will forward the date
(only if necessary) to reach that day of the week in the future.
</p>
<p>Days of the week may be spelled out in full: <samp>`Sunday'</samp>,
<samp>`Monday'</samp>, <samp>`Tuesday'</samp>, <samp>`Wednesday'</samp>, <samp>`Thursday'</samp>,
<samp>`Friday'</samp> or <samp>`Saturday'</samp>.  Days may be abbreviated to their
first three letters, optionally followed by a period.  The special
abbreviations <samp>`Tues'</samp> for <samp>`Tuesday'</samp>, <samp>`Wednes'</samp> for
<samp>`Wednesday'</samp> and <samp>`Thur'</samp> or <samp>`Thurs'</samp> for <samp>`Thursday'</samp> are
also allowed.
</p>
<a name="IDX483"></a>
<a name="IDX484"></a>
<p>A number may precede a day of the week item to move forward
supplementary weeks.  It is best used in expression like <samp>`third
monday'</samp>.  In this context, <samp>`last <var>day</var>'</samp> or <samp>`next
<var>day</var>'</samp> is also acceptable; they move one week before or after
the day that <var>day</var> by itself would represent.
</p>
<p>A comma following a day of the week item is ignored.
</p>

<hr size="6">
<a name="Relative-items-in-date-strings"></a>
<a name="SEC128"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC127" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC129" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.7 Relative items in date strings </h2>


<p><em>Relative items</em> adjust a date (or the current date if none) forward
or backward.  The effects of relative items accumulate.  Here are some
examples:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">1 year
1 year ago
3 years
2 days
</pre></td></tr></table>
<a name="IDX485"></a>
<a name="IDX486"></a>
<a name="IDX487"></a>
<a name="IDX488"></a>
<a name="IDX489"></a>
<a name="IDX490"></a>
<a name="IDX491"></a>
<p>The unit of time displacement may be selected by the string <samp>`year'</samp>
or <samp>`month'</samp> for moving by whole years or months.  These are fuzzy
units, as years and months are not all of equal duration.  More precise
units are <samp>`fortnight'</samp> which is worth 14 days, <samp>`week'</samp> worth 7
days, <samp>`day'</samp> worth 24 hours, <samp>`hour'</samp> worth 60 minutes,
<samp>`minute'</samp> or <samp>`min'</samp> worth 60 seconds, and <samp>`second'</samp> or
<samp>`sec'</samp> worth one second.  An <samp>`s'</samp> suffix on these units is
accepted and ignored.
</p>
<a name="IDX492"></a>
<p>The unit of time may be preceded by a multiplier, given as an optionally
signed number.  Unsigned numbers are taken as positively signed.  No
number at all implies 1 for a multiplier.  Following a relative item by
the string <samp>`ago'</samp> is equivalent to preceding the unit by a
multiplier with value <em>-1</em>.
</p>
<a name="IDX493"></a>
<a name="IDX494"></a>
<a name="IDX495"></a>
<p>The string <samp>`tomorrow'</samp> is worth one day in the future (equivalent
to <samp>`day'</samp>), the string <samp>`yesterday'</samp> is worth
one day in the past (equivalent to <samp>`day ago'</samp>).
</p>
<a name="IDX496"></a>
<a name="IDX497"></a>
<a name="IDX498"></a>
<p>The strings <samp>`now'</samp> or <samp>`today'</samp> are relative items corresponding
to zero-valued time displacement, these strings come from the fact
a zero-valued time displacement represents the current time when not
otherwise changed by previous items.  They may be used to stress other
items, like in <samp>`12:00 today'</samp>.  The string <samp>`this'</samp> also has
the meaning of a zero-valued time displacement, but is preferred in
date strings like <samp>`this thursday'</samp>.
</p>
<p>When a relative item causes the resulting date to cross a boundary
where the clocks were adjusted, typically for daylight saving time,
the resulting date and time are adjusted accordingly.
</p>
<p>The fuzz in units can cause problems with relative items.  For
example, <samp>`2003-07-31 -1 month'</samp> might evaluate to 2003-07-01,
because 2003-06-31 is an invalid date.  To determine the previous
month more reliably, you can ask for the month before the 15th of the
current month.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ date -R
Thu, 31 Jul 2003 13:02:39 -0700
$ date --date='-1 month' +'Last month was %B?'
Last month was July?
$ date --date=&quot;$(date +%Y-%m-15) -1 month&quot; +'Last month was %B!'
Last month was June!
</pre></td></tr></table>
<p>Also, take care when manipulating dates around clock changes such as
daylight saving leaps.  In a few cases these have added or subtracted
as much as 24 hours from the clock, so it is often wise to adopt
universal time by setting the <code>TZ</code> environment variable to
<samp>`UTC0'</samp> before embarking on calendrical calculations.
</p>
<hr size="6">
<a name="Pure-numbers-in-date-strings"></a>
<a name="SEC129"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC128" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC130" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.8 Pure numbers in date strings </h2>


<p>The precise interpretation of a pure decimal number depends
on the context in the date string.
</p>
<p>If the decimal number is of the form <var>yyyy</var><var>mm</var><var>dd</var> and no
other calendar date item (see section <a href="#SEC123">Calendar date items</a>) appears before it
in the date string, then <var>yyyy</var> is read as the year, <var>mm</var> as the
month number and <var>dd</var> as the day of the month, for the specified
calendar date.
</p>
<p>If the decimal number is of the form <var>hh</var><var>mm</var> and no other time
of day item appears before it in the date string, then <var>hh</var> is read
as the hour of the day and <var>mm</var> as the minute of the hour, for the
specified time of day.  <var>mm</var> can also be omitted.
</p>
<p>If both a calendar date and a time of day appear to the left of a number
in the date string, but no relative item, then the number overrides the
year.
</p>

<hr size="6">
<a name="Seconds-since-the-Epoch"></a>
<a name="SEC130"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC129" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC131" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.9 Seconds since the Epoch </h2>

<p>If you precede a number with <samp>`@'</samp>, it represents an internal
timestamp as a count of seconds.  The number can contain an internal
decimal point (either <samp>`.'</samp> or <samp>`,'</samp>); any excess precision not
supported by the internal representation is truncated toward minus
infinity.  Such a number cannot be combined with any other date
item, as it specifies a complete timestamp.
</p>
<a name="IDX499"></a>
<a name="IDX500"></a>
<p>Internally, computer times are represented as a count of seconds since
an epoch--a well-defined point of time.  On GNU and
POSIX systems, the epoch is 1970-01-01 00:00:00 UTC, so
<samp>`@0'</samp> represents this time, <samp>`@1'</samp> represents 1970-01-01
00:00:01 UTC, and so forth.  GNU and most other
POSIX-compliant systems support such times as an extension
to POSIX, using negative counts, so that <samp>`@-1'</samp>
represents 1969-12-31 23:59:59 UTC.
</p>
<p>Traditional Unix systems count seconds with 32-bit two's-complement
integers and can represent times from 1901-12-13 20:45:52 through
2038-01-19 03:14:07 UTC.  More modern systems use 64-bit counts
of seconds with nanosecond subcounts, and can represent all the times
in the known lifetime of the universe to a resolution of 1 nanosecond.
</p>
<a name="IDX501"></a>
<p>On most hosts, these counts ignore the presence of leap seconds.
For example, on most hosts <samp>`@915148799'</samp> represents 1998-12-31
23:59:59 UTC, <samp>`@915148800'</samp> represents 1999-01-01 00:00:00
UTC, and there is no way to represent the intervening leap second
1998-12-31 23:59:60 UTC.
</p>
<hr size="6">
<a name="Specifying-time-zone-rules"></a>
<a name="SEC131"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC130" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC132" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.10 Specifying time zone rules </h2>

<p>Normally, dates are interpreted using the rules of the current time
zone, which in turn are specified by the <code>TZ</code> environment
variable, or by a system default if <code>TZ</code> is not set.  To specify a
different set of default time zone rules that apply just to one date,
start the date with a string of the form <samp>`TZ=&quot;<var>rule</var>&quot;'</samp>.  The
two quote characters (<samp>`&quot;'</samp>) must be present in the date, and any
quotes or backslashes within <var>rule</var> must be escaped by a
backslash.
</p>
<p>For example, with the GNU <code>date</code> command you can
answer the question &quot;What time is it in New York when a Paris clock
shows 6:30am on October 31, 2004?&quot; by using a date beginning with
<samp>`TZ=&quot;Europe/Paris&quot;'</samp> as shown in the following shell transcript:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ export TZ=&quot;America/New_York&quot;
$ date --date='TZ=&quot;Europe/Paris&quot; 2004-10-31 06:30'
Sun Oct 31 01:30:00 EDT 2004
</pre></td></tr></table>
<p>In this example, the <samp>`--date'</samp> operand begins with its own
<code>TZ</code> setting, so the rest of that operand is processed according
to <samp>`Europe/Paris'</samp> rules, treating the string <samp>`2004-10-31
06:30'</samp> as if it were in Paris.  However, since the output of the
<code>date</code> command is processed according to the overall time zone
rules, it uses New York time.  (Paris was normally six hours ahead of
New York in 2004, but this example refers to a brief Halloween period
when the gap was five hours.)
</p>
<p>A <code>TZ</code> value is a rule that typically names a location in the
<a href="http://www.twinsun.com/tz/tz-link.htm"><samp>`tz'</samp> database</a>.
A recent catalog of location names appears in the
<a href="http://twiki.org/cgi-bin/xtra/tzdate">TWiki Date and Time Gateway</a>.  A few non-GNU hosts require a colon before a
location name in a <code>TZ</code> setting, e.g.,
<samp>`TZ=&quot;:America/New_York&quot;'</samp>.
</p>
<p>The <samp>`tz'</samp> database includes a wide variety of locations ranging
from <samp>`Arctic/Longyearbyen'</samp> to <samp>`Antarctica/South_Pole'</samp>, but
if you are at sea and have your own private time zone, or if you are
using a non-GNU host that does not support the <samp>`tz'</samp>
database, you may need to use a POSIX rule instead.  Simple
POSIX rules like <samp>`UTC0'</samp> specify a time zone without
daylight saving time; other rules can specify simple daylight saving
regimes.  See <a href="${GS}/libc/manual/html_mono/libc.html#TZ-Variable">(libc)TZ Variable</a> section `Specifying the Time Zone with <code>TZ</code>' in <cite>The GNU C Library</cite>.
</p>
<hr size="6">
<a name="Authors-of-parse_005fdatetime"></a>
<a name="SEC132"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC131" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC121" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.11 Authors of <code>parse_datetime</code> </h2>
<p><a name="Authors-of-get_005fdate"></a>
</p>
<a name="IDX502"></a>

<a name="IDX503"></a>
<a name="IDX504"></a>
<a name="IDX505"></a>
<a name="IDX506"></a>
<a name="IDX507"></a>
<a name="IDX508"></a>
<p><code>parse_datetime</code> started life as <code>getdate</code>, as originally
implemented by Steven M. Bellovin
(<a href="mailto:smb@research.att.com">smb@research.att.com</a>) while at the University of North Carolina
at Chapel Hill.  The code was later tweaked by a couple of people on
Usenet, then completely overhauled by Rich $alz (<a href="mailto:rsalz@bbn.com">rsalz@bbn.com</a>)
and Jim Berets (<a href="mailto:jberets@bbn.com">jberets@bbn.com</a>) in August, 1990.  Various
revisions for the GNU system were made by David MacKenzie, Jim Meyering,
Paul Eggert and others, including renaming it to <code>get_date</code> to
avoid a conflict with the alternative Posix function <code>getdate</code>,
and a later rename to <code>parse_datetime</code>.  The Posix function
<code>getdate</code> can parse more locale-specific dates using
<code>strptime</code>, but relies on an environment variable and external
file, and lacks the thread-safety of <code>parse_datetime</code>.
</p>
<a name="IDX509"></a>
<a name="IDX510"></a>
<p>This chapter was originally produced by Fran&ccedil;ois Pinard
(<a href="mailto:pinard@iro.umontreal.ca">pinard@iro.umontreal.ca</a>) from the <tt>`parse_datetime.y'</tt> source code,
and then edited by K. Berry (<a href="mailto:kb@cs.umb.edu">kb@cs.umb.edu</a>).
</p>
<hr size="6">
<a name="Formats"></a>
<a name="SEC133"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC132" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC134" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC121" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 8. Controlling the Archive Format </h1>

<p>Due to historical reasons, there are several formats of tar archives.
All of them are based on the same principles, but have some subtle
differences that often make them incompatible with each other.
</p>
<p>GNU tar is able to create and handle archives in a variety of formats.
The most frequently used formats are (in alphabetical order):
</p>
<dl compact="compact">
<dt> gnu</dt>
<dd><p>Format used by <acronym>GNU</acronym> <code>tar</code> versions up to 1.13.25.  This format derived
from an early <acronym>POSIX</acronym> standard, adding some improvements such as
sparse file handling and incremental archives.  Unfortunately these
features were implemented in a way incompatible with other archive
formats.
</p>
<p>Archives in <samp>`gnu'</samp> format are able to hold file names of unlimited
length.
</p>
</dd>
<dt> oldgnu</dt>
<dd><p>Format used by <acronym>GNU</acronym> <code>tar</code> of versions prior to 1.12.
</p>
</dd>
<dt> v7</dt>
<dd><p>Archive format, compatible with the V7 implementation of tar.  This
format imposes a number of limitations.  The most important of them
are:
</p>
<ol>
<li> The maximum length of a file name is limited to 99 characters.
</li><li> The maximum length of a symbolic link is limited to 99 characters.
</li><li> It is impossible to store special files (block and character
devices, fifos etc.)
</li><li> Maximum value of user or group <acronym>ID</acronym> is limited to 2097151 (7777777
octal)
</li><li> V7 archives do not contain symbolic ownership information (user
and group name of the file owner).
</li></ol>

<p>This format has traditionally been used by Automake when producing
Makefiles.  This practice will change in the future, in the meantime,
however this means that projects containing file names more than 99
characters long will not be able to use <acronym>GNU</acronym> <code>tar</code> 1.32 and
Automake prior to 1.9.
</p>
</dd>
<dt> ustar</dt>
<dd><p>Archive format defined by <acronym>POSIX.1-1988</acronym> specification.  It stores
symbolic ownership information.  It is also able to store
special files.  However, it imposes several restrictions as well:
</p>
<ol>
<li> The maximum length of a file name is limited to 256 characters,
provided that the file name can be split at a directory separator in
two parts, first of them being at most 155 bytes long.  So, in most
cases the maximum file name length will be shorter than 256
characters.
</li><li> The maximum length of a symbolic link name is limited to
100 characters.
</li><li> Maximum size of a file the archive is able to accommodate
is 8GB
</li><li> Maximum value of UID/GID is 2097151.
</li><li> Maximum number of bits in device major and minor numbers is 21.
</li></ol>

</dd>
<dt> star</dt>
<dd><p>Format used by J&ouml;rg Schilling <code>star</code>
implementation.  <acronym>GNU</acronym> <code>tar</code> is able to read <samp>`star'</samp> archives but
currently does not produce them.
</p>
</dd>
<dt> posix</dt>
<dd><p>Archive format defined by <acronym>POSIX.1-2001</acronym> specification.  This is the
most flexible and feature-rich format.  It does not impose any
restrictions on file sizes or file name lengths.  This format is quite
recent, so not all tar implementations are able to handle it properly.
However, this format is designed in such a way that any tar
implementation able to read <samp>`ustar'</samp> archives will be able to read
most <samp>`posix'</samp> archives as well, with the only exception that any
additional information (such as long file names etc.) will in such
case be extracted as plain text files along with the files it refers to.
</p>
<p>This archive format will be the default format for future versions
of <acronym>GNU</acronym> <code>tar</code>.
</p>
</dd>
</dl>

<p>The following table summarizes the limitations of each of these
formats:
</p>
<table>
<thead><tr><th><p> Format </p></th><th><p> UID </p></th><th><p> File Size </p></th><th><p> File Name </p></th><th><p> Devn
</p></th></tr></thead>
<tr><td><p> gnu    </p></td><td><p> 1.8e19 </p></td><td><p> Unlimited </p></td><td><p> Unlimited </p></td><td><p> 63
</p></td></tr>
<tr><td><p> oldgnu </p></td><td><p> 1.8e19 </p></td><td><p> Unlimited </p></td><td><p> Unlimited </p></td><td><p> 63
</p></td></tr>
<tr><td><p> v7     </p></td><td><p> 2097151 </p></td><td><p> 8GB </p></td><td><p> 99 </p></td><td><p> n/a
</p></td></tr>
<tr><td><p> ustar  </p></td><td><p> 2097151 </p></td><td><p> 8GB </p></td><td><p> 256 </p></td><td><p> 21
</p></td></tr>
<tr><td><p> posix  </p></td><td><p> Unlimited </p></td><td><p> Unlimited </p></td><td><p> Unlimited </p></td><td><p> Unlimited
</p></td></tr>
</table>

<p>The default format for <acronym>GNU</acronym> <code>tar</code> is defined at compilation
time.  You may check it by running <code>tar --help</code>, and examining
the last lines of its output.  Usually, <acronym>GNU</acronym> <code>tar</code> is configured
to create archives in <samp>`gnu'</samp> format, however, future version will
switch to <samp>`posix'</samp>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC134">8.1 Using Less Space through Compression</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC139">8.3 Making <code>tar</code> Archives More Portable</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC153">8.4 Comparison of <code>tar</code> and <code>cpio</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Compression"></a>
<a name="SEC134"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC133" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC135" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 8.1 Using Less Space through Compression </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC137">8.1.2 Archiving Sparse Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="gzip"></a>
<a name="SEC135"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC134" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC136" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC134" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.1.1 Creating and Reading Compressed Archives </h3>

<p><acronym>GNU</acronym> <code>tar</code> is able to create and read compressed archives.  It supports
a wide variety of compression programs, namely: <code>gzip</code>,
<code>bzip2</code>, <code>lzip</code>, <code>lzma</code>, <code>lzop</code>,
<code>zstd</code>, <code>xz</code> and traditional <code>compress</code>. The
latter is supported mostly for backward compatibility, and we recommend
against using it, because it is by far less effective than the other
compression programs<a name="DOCF20" href="#FOOT20">(20)</a>.
</p>
<p>Creating a compressed archive is simple: you just specify a
<em>compression option</em> along with the usual archive creation
commands.  Available compression options are summarized in the
table below:
</p>
<table>
<thead><tr><th><p> Long            </p></th><th><p> Short       </p></th><th><p> Archive format
</p></th></tr></thead>
<tr><td><p> <samp>`--gzip'</samp>     </p></td><td><p> <samp>`-z'</samp> </p></td><td><p> <code>gzip</code>
</p></td></tr>
<tr><td><p> <samp>`--bzip2'</samp>    </p></td><td><p> <samp>`-j'</samp> </p></td><td><p> <code>bzip2</code>
</p></td></tr>
<tr><td><p> <samp>`--xz'</samp>       </p></td><td><p> <samp>`-J'</samp> </p></td><td><p> <code>xz</code>
</p></td></tr>
<tr><td><p> <samp>`--lzip'</samp>     </p></td><td>             </td><td><p> <code>lzip</code>
</p></td></tr>
<tr><td><p> <samp>`--lzma'</samp>     </p></td><td>             </td><td><p> <code>lzma</code>
</p></td></tr>
<tr><td><p> <samp>`--lzop'</samp>     </p></td><td>             </td><td><p> <code>lzop</code>
</p></td></tr>
<tr><td><p> <samp>`--zstd'</samp>     </p></td><td>             </td><td><p> <code>zstd</code>
</p></td></tr>
<tr><td><p> <samp>`--compress'</samp> </p></td><td><p> <samp>`-Z'</samp> </p></td><td><p> <code>compress</code>
</p></td></tr>
</table>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar czf archive.tar.gz .</kbd>
</pre></td></tr></table>
<p>You can also let <acronym>GNU</acronym> <code>tar</code> select the compression program based on
the suffix of the archive file name. This is done using
<samp>`--auto-compress'</samp> (<samp>`-a'</samp>) command line option. For
example, the following invocation will use <code>bzip2</code> for
compression:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar caf archive.tar.bz2 .</kbd>
</pre></td></tr></table>

<p>whereas the following one will use <code>lzma</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar caf archive.tar.lzma .</kbd>
</pre></td></tr></table>
<p>For a complete list of file name suffixes recognized by <acronym>GNU</acronym> <code>tar</code>,
see <a href="#auto_002dcompress">auto-compress</a>.
</p>
<p>Reading compressed archive is even simpler: you don't need to specify
any additional options as <acronym>GNU</acronym> <code>tar</code> recognizes its format
automatically.  Thus, the following commands will list and extract the
archive created in previous example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"># List the compressed archive
$ <kbd>tar tf archive.tar.gz</kbd>
# Extract the compressed archive
$ <kbd>tar xf archive.tar.gz</kbd>
</pre></td></tr></table>
<p>The format recognition algorithm is based on <em>signatures</em>, a
special byte sequences in the beginning of file, that are specific for
certain compression formats.  If this approach fails, <code>tar</code>
falls back to using archive name suffix to determine its format
(see <a href="#auto_002dcompress">auto-compress</a>, for a list of recognized suffixes).
</p>
<p><a name="alternative-decompression-programs"></a>
<a name="IDX511"></a>
Some compression programs are able to handle different compression
formats.  <acronym>GNU</acronym> <code>tar</code> uses this, if the principal decompressor for the
given format is not available.  For example, if <code>compress</code> is
not installed, <code>tar</code> will try to use <code>gzip</code>.  As of
version 1.32 the following alternatives are
tried<a name="DOCF21" href="#FOOT21">(21)</a>:
</p>
<table>
<thead><tr><th><p> Format </p></th><th><p> Main decompressor </p></th><th><p> Alternatives
</p></th></tr></thead>
<tr><td><p> compress </p></td><td><p> compress </p></td><td><p> gzip
</p></td></tr>
<tr><td><p> lzma     </p></td><td><p> lzma     </p></td><td><p> xz
</p></td></tr>
<tr><td><p> bzip2    </p></td><td><p> bzip2    </p></td><td><p> lbzip2
</p></td></tr>
</table>

<p>The only case when you have to specify a decompression option while
reading the archive is when reading from a pipe or from a tape drive
that does not support random access.  However, in this case <acronym>GNU</acronym> <code>tar</code>
will indicate which option you should use.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>cat archive.tar.gz | tar tf -</kbd>
tar: Archive is compressed.  Use -z option
tar: Error is not recoverable: exiting now
</pre></td></tr></table>
<p>If you see such diagnostics, just add the suggested option to the
invocation of <acronym>GNU</acronym> <code>tar</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>cat archive.tar.gz | tar tzf -</kbd>
</pre></td></tr></table>
<p>Notice also, that there are several restrictions on operations on
compressed archives.  First of all, compressed archives cannot be
modified, i.e., you cannot update (<samp>`--update'</samp>, alias <samp>`-u'</samp>)
them or delete (<samp>`--delete'</samp>) members from them or
add (<samp>`--append'</samp>, alias <samp>`-r'</samp>) members to them.  Likewise, you
cannot append another <code>tar</code> archive to a compressed archive using
<samp>`--concatenate'</samp> (<samp>`-A'</samp>).  Secondly, multi-volume
archives cannot be compressed.
</p>
<p>The following options allow to select a particular compressor program:
</p>
<dl compact="compact">
<dd><a name="IDX512"></a>
<a name="IDX513"></a>
</dd>
<dt> <samp>`-z'</samp></dt>
<dt> <samp>`--gzip'</samp></dt>
<dt> <samp>`--ungzip'</samp></dt>
<dd><p>Filter the archive through <code>gzip</code>.
</p>
<a name="IDX514"></a>
</dd>
<dt> <samp>`-J'</samp></dt>
<dt> <samp>`--xz'</samp></dt>
<dd><p>Filter the archive through <code>xz</code>.
</p>
</dd>
<dt> <samp>`-j'</samp></dt>
<dt> <samp>`--bzip2'</samp></dt>
<dd><p>Filter the archive through <code>bzip2</code>.
</p>
<a name="IDX515"></a>
</dd>
<dt> <samp>`--lzip'</samp></dt>
<dd><p>Filter the archive through <code>lzip</code>.
</p>
<a name="IDX516"></a>
</dd>
<dt> <samp>`--lzma'</samp></dt>
<dd><p>Filter the archive through <code>lzma</code>.
</p>
<a name="IDX517"></a>
</dd>
<dt> <samp>`--lzop'</samp></dt>
<dd><p>Filter the archive through <code>lzop</code>.
</p>
<a name="IDX518"></a>
</dd>
<dt> <samp>`--zstd'</samp></dt>
<dd><p>Filter the archive through <code>zstd</code>.
</p>
<a name="IDX519"></a>
<a name="IDX520"></a>
</dd>
<dt> <samp>`-Z'</samp></dt>
<dt> <samp>`--compress'</samp></dt>
<dt> <samp>`--uncompress'</samp></dt>
<dd><p>Filter the archive through <code>compress</code>.
</p></dd>
</dl>

<p>When any of these options is given, <acronym>GNU</acronym> <code>tar</code> searches the compressor
binary in the current path and invokes it.  The name of the compressor
program is specified at compilation time using a corresponding
<samp>`--with-<var>compname</var>'</samp> option to <code>configure</code>, e.g.
<samp>`--with-bzip2'</samp> to select a specific <code>bzip2</code> binary.
See section <a href="#SEC136">Using lbzip2 with <acronym>GNU</acronym> <code>tar</code>.</a>, for a detailed discussion.
</p>
<p>The output produced by <code>tar --help</code> shows the actual
compressor names along with each of these options.
</p>
<p>You can use any of these options on physical devices (tape drives,
etc.) and remote files as well as on normal files; data to or from
such devices or remote files is reblocked by another copy of the
<code>tar</code> program to enforce the specified (or default) record
size.  The default compression parameters are used.
You can override them by using the <samp>`-I'</samp> option (see
below), e.g.:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf archive.tar.gz -I 'gzip -9 -n' subdir</kbd>
</pre></td></tr></table>

<p>A more traditional way to do this is to use a pipe:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar cf - subdir | gzip -9 -n &gt; archive.tar.gz</kbd>
</pre></td></tr></table>
<a name="IDX521"></a>
<p>Compressed archives are easily corrupted, because compressed files
have little redundancy.  The adaptive nature of the
compression scheme means that the compression tables are implicitly
spread all over the archive.  If you lose a few blocks, the dynamic
construction of the compression tables becomes unsynchronized, and there
is little chance that you could recover later in the archive.
</p>
<p>Other compression options provide better control over creating
compressed archives.  These are:
</p>
<dl compact="compact">
<dd><p><a name="auto_002dcompress"></a>
<a name="IDX522"></a>
</p></dd>
<dt> <samp>`--auto-compress'</samp></dt>
<dt> <samp>`-a'</samp></dt>
<dd><p>Select a compression program to use by the archive file name
suffix.  The following suffixes are recognized:
</p>
<table>
<thead><tr><th><p> Suffix </p></th><th><p> Compression program
</p></th></tr></thead>
<tr><td><p> <samp>`.gz'</samp> </p></td><td><p> <code>gzip</code>
</p></td></tr>
<tr><td><p> <samp>`.tgz'</samp> </p></td><td><p> <code>gzip</code>
</p></td></tr>
<tr><td><p> <samp>`.taz'</samp> </p></td><td><p> <code>gzip</code>
</p></td></tr>
<tr><td><p> <samp>`.Z'</samp> </p></td><td><p> <code>compress</code>
</p></td></tr>
<tr><td><p> <samp>`.taZ'</samp> </p></td><td><p> <code>compress</code>
</p></td></tr>
<tr><td><p> <samp>`.bz2'</samp> </p></td><td><p> <code>bzip2</code>
</p></td></tr>
<tr><td><p> <samp>`.tz2'</samp> </p></td><td><p> <code>bzip2</code>
</p></td></tr>
<tr><td><p> <samp>`.tbz2'</samp> </p></td><td><p> <code>bzip2</code>
</p></td></tr>
<tr><td><p> <samp>`.tbz'</samp> </p></td><td><p> <code>bzip2</code>
</p></td></tr>
<tr><td><p> <samp>`.lz'</samp> </p></td><td><p> <code>lzip</code>
</p></td></tr>
<tr><td><p> <samp>`.lzma'</samp> </p></td><td><p> <code>lzma</code>
</p></td></tr>
<tr><td><p> <samp>`.tlz'</samp> </p></td><td><p> <code>lzma</code>
</p></td></tr>
<tr><td><p> <samp>`.lzo'</samp> </p></td><td><p> <code>lzop</code>
</p></td></tr>
<tr><td><p> <samp>`.xz'</samp> </p></td><td><p> <code>xz</code>
</p></td></tr>
<tr><td><p> <samp>`.zst'</samp> </p></td><td><p> <code>zstd</code>
</p></td></tr>
<tr><td><p> <samp>`.tzst'</samp> </p></td><td><p> <code>zstd</code>
</p></td></tr>
</table>

<p><a name="use_002dcompress_002dprogram"></a>
<a name="IDX523"></a>
</p></dd>
<dt> <samp>`--use-compress-program=<var>command</var>'</samp></dt>
<dt> <samp>`-I=<var>command</var>'</samp></dt>
<dd><p>Use external compression program <var>command</var>.  Use this option if you
want to specify options for the compression program, or if you
are not happy with the compression program associated with the suffix
at compile time, or if you have a compression program that <acronym>GNU</acronym> <code>tar</code>
does not support.  The <var>command</var> argument is a valid command
invocation, as you would type it at the command line prompt, with any
additional options as needed.  Enclose it in quotes if it contains
white space (see section <a href="#SEC55">Running External Commands</a>).
</p>
<p>The <var>command</var> should follow two conventions:
</p>
<p>First, when invoked without additional options, it should read data
from standard input, compress it and output it on standard output.
</p>
<p>Secondly, if invoked with the additional <samp>`-d'</samp> option, it should
do exactly the opposite, i.e., read the compressed data from the
standard input and produce uncompressed data on the standard output.
</p>
<p>The latter requirement means that you must not use the <samp>`-d'</samp>
option as a part of the <var>command</var> itself.
</p></dd>
</dl>

<a name="IDX524"></a>
<a name="IDX525"></a>
<a name="IDX526"></a>
<p>The <samp>`--use-compress-program'</samp> option, in particular, lets you
implement your own filters, not necessarily dealing with
compression/decompression.  For example, suppose you wish to implement
PGP encryption on top of compression, using <code>gpg</code> (see <a href="gpg.html#Top">gpg: (gpg)Top</a> section `gpg --- encryption and signing tool' in <cite>GNU Privacy Guard Manual</cite>).  The following script does that:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">#! /bin/sh
case $1 in
-d) gpg --decrypt - | gzip -d -c;;
'') gzip -c | gpg -s;;
*)  echo &quot;Unknown option $1&quot;&gt;&amp;2; exit 1;;
esac
</pre></td></tr></table>
<p>Suppose you name it <tt>`gpgz'</tt> and save it somewhere in your
<code>PATH</code>.  Then the following command will create a compressed
archive signed with your private key:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cf foo.tar.gpgz -Igpgz .</kbd>
</pre></td></tr></table>

<p>Likewise, the command below will list its contents:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -tf foo.tar.gpgz -Igpgz .</kbd>
</pre></td></tr></table>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC136">8.1.1.1 Using lbzip2 with <acronym>GNU</acronym> <code>tar</code>.</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="lbzip2"></a>
<a name="SEC136"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC135" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC137" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC135" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 8.1.1.1 Using lbzip2 with <acronym>GNU</acronym> <code>tar</code>. </h4>
<p>  <code>Lbzip2</code> is a multithreaded utility for handling
<samp>`bzip2'</samp> compression, written by Laszlo Ersek.  It makes use of
multiple processors to speed up its operation and in general works
considerably faster than <code>bzip2</code>.  For a detailed description
of <code>lbzip2</code> see <a href="http://freshmeat.net/projects/lbzip2">http://freshmeat.net/projects/lbzip2</a> and
<a href="http://www.linuxinsight.com/lbzip2-parallel-bzip2-utility.html">lbzip2: parallel bzip2 utility</a>.
</p>
<p>  Recent versions of <code>lbzip2</code> are mostly command line compatible
with <code>bzip2</code>, which makes it possible to automatically invoke
it via the <samp>`--bzip2'</samp> <acronym>GNU</acronym> <code>tar</code> command line option.  To do so,
<acronym>GNU</acronym> <code>tar</code> must be configured with the <samp>`--with-bzip2'</samp> command
line option, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>./configure --with-bzip2=lbzip2 [<var>other-options</var>]</kbd>
</pre></td></tr></table>
<p>  Once configured and compiled this way, <code>tar --help</code> will show the
following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --help | grep -- --bzip2</kbd>
  -j, --bzip2                filter the archive through lbzip2
</pre></td></tr></table>

<p>which means that running <code>tar --bzip2</code> will invoke <code>lbzip2</code>.
</p>
<hr size="6">
<a name="sparse"></a>
<a name="SEC137"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC136" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC138" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC134" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.1.2 Archiving Sparse Files </h3>

<p>Files in the file system occasionally have <em>holes</em>.  A <em>hole</em>
in a file is a section of the file's contents which was never written.
The contents of a hole reads as all zeros.  On many operating systems,
actual disk storage is not allocated for holes, but they are counted
in the length of the file.  If you archive such a file, <code>tar</code>
could create an archive longer than the original.  To have <code>tar</code>
attempt to recognize the holes in a file, use <samp>`--sparse'</samp>
(<samp>`-S'</samp>).  When you use this option, then, for any file using
less disk space than would be expected from its length, <code>tar</code>
searches the file for holes.  It then records in the archive for the file where
the holes (consecutive stretches of zeros) are, and only archives the
&quot;real contents&quot; of the file.  On extraction (using <samp>`--sparse'</samp> is not
needed on extraction) any such files have also holes created wherever the holes
were found.  Thus, if you use <samp>`--sparse'</samp>, <code>tar</code> archives won't
take more space than the original.
</p>
<p><acronym>GNU</acronym> <code>tar</code> uses two methods for detecting holes in sparse files.  These
methods are described later in this subsection.
</p>
<dl compact="compact">
<dd><a name="IDX527"></a>
</dd>
<dt> <samp>`-S'</samp></dt>
<dt> <samp>`--sparse'</samp></dt>
<dd><p>This option instructs <code>tar</code> to test each file for sparseness
before attempting to archive it.  If the file is found to be sparse it
is treated specially, thus allowing to decrease the amount of space
used by its image in the archive.
</p>
<p>This option is meaningful only when creating or updating archives.  It
has no effect on extraction.
</p></dd>
</dl>

<p>Consider using <samp>`--sparse'</samp> when performing file system backups,
to avoid archiving the expanded forms of files stored sparsely in the
system.
</p>
<p>Even if your system has no sparse files currently, some may be
created in the future.  If you use <samp>`--sparse'</samp> while making file
system backups as a matter of course, you can be assured the archive
will never take more space on the media than the files take on disk
(otherwise, archiving a disk filled with sparse files might take
hundreds of tapes).  See section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>.
</p>
<p>However, be aware that <samp>`--sparse'</samp> option may present a serious
drawback.  Namely, in order to determine the positions of holes in a file
<code>tar</code> may have to read it before trying to archive it, so in total
the file may be read <strong>twice</strong>.  This may happen when your OS or your FS
does not support <em>SEEK_HOLE/SEEK_DATA</em> feature in <em>lseek</em> (See
<samp>`--hole-detection'</samp>, below).
</p>
<a name="IDX528"></a>
<p>When using <samp>`POSIX'</samp> archive format, <acronym>GNU</acronym> <code>tar</code> is able to store
sparse files using in three distinct ways, called <em>sparse
formats</em>.  A sparse format is identified by its <em>number</em>,
consisting, as usual of two decimal numbers, delimited by a dot.  By
default, format <samp>`1.0'</samp> is used.  If, for some reason, you wish to
use an earlier format, you can select it using
<samp>`--sparse-version'</samp> option.
</p>
<dl compact="compact">
<dd><a name="IDX529"></a>
</dd>
<dt> <samp>`--sparse-version=<var>version</var>'</samp></dt>
<dd><p>Select the format to store sparse files in.  Valid <var>version</var> values
are: <samp>`0.0'</samp>, <samp>`0.1'</samp> and <samp>`1.0'</samp>.  See section <a href="#SEC190">Storing Sparse Files</a>,
for a detailed description of each format.
</p></dd>
</dl>

<p>Using <samp>`--sparse-format'</samp> option implies <samp>`--sparse'</samp>.
</p>
<dl compact="compact">
<dd><a name="IDX530"></a>
<a name="IDX531"></a>
</dd>
<dt> <samp>`--hole-detection=<var>method</var>'</samp></dt>
<dd><p>Enforce concrete hole detection method.  Before the real contents of sparse
file are stored, <code>tar</code> needs to gather knowledge about file
sparseness.  This is because it needs to have the file's map of holes
stored into tar header before it starts archiving the file contents.
Currently, two methods of hole detection are implemented:
</p>
<ul>
<li> <samp>`--hole-detection=seek'</samp>
Seeking the file for data and holes.  It uses enhancement of the <code>lseek</code>
system call (<code>SEEK_HOLE</code> and <code>SEEK_DATA</code>) which is able to
reuse file system knowledge about sparse file contents - so the
detection is usually very fast.  To use this feature, your file system
and operating system must support it.  At the time of this writing
(2015) this feature, in spite of not being accepted by POSIX, is
fairly widely supported by different operating systems.

</li><li> <samp>`--hole-detection=raw'</samp>
Reading byte-by-byte the whole sparse file before the archiving.  This
method detects holes like consecutive stretches of zeroes.  Comparing to
the previous method, it is usually much slower, although more
portable.
</li></ul>
</dd>
</dl>

<p>When no <samp>`--hole-detection'</samp> option is given, <code>tar</code> uses
the <samp>`seek'</samp>, if supported by the operating system.
</p>
<p>Using <samp>`--hole-detection'</samp> option implies <samp>`--sparse'</samp>.
</p>
<hr size="6">
<a name="Attributes"></a>
<a name="SEC138"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC137" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 8.2 Handling File Attributes </h2>

<p>When <code>tar</code> reads files, it updates their access times.  To
avoid this, use the <samp>`--atime-preserve[=METHOD]'</samp> option, which can either
reset the access time retroactively or avoid changing it in the first
place.
</p>
<dl compact="compact">
<dd><a name="IDX532"></a>
</dd>
<dt> <samp>`--atime-preserve'</samp></dt>
<dt> <samp>`--atime-preserve=replace'</samp></dt>
<dt> <samp>`--atime-preserve=system'</samp></dt>
<dd><p>Preserve the access times of files that are read.  This works only for
files that you own, unless you have superuser privileges.
</p>
<p><samp>`--atime-preserve=replace'</samp> works on most systems, but it also
restores the data modification time and updates the status change
time.  Hence it doesn't interact with incremental dumps nicely
(see section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>), and it can set access or data modification times
incorrectly if other programs access the file while <code>tar</code> is
running.
</p>
<p><samp>`--atime-preserve=system'</samp> avoids changing the access time in
the first place, if the operating system supports this.
Unfortunately, this may or may not work on any given operating system
or file system.  If <code>tar</code> knows for sure it won't work, it
complains right away.
</p>
<p>Currently <samp>`--atime-preserve'</samp> with no operand defaults to
<samp>`--atime-preserve=replace'</samp>, but this is intended to change to
<samp>`--atime-preserve=system'</samp> when the latter is better-supported.
</p>
<a name="IDX533"></a>
</dd>
<dt> <samp>`-m'</samp></dt>
<dt> <samp>`--touch'</samp></dt>
<dd><p>Do not extract data modification time.
</p>
<p>When this option is used, <code>tar</code> leaves the data modification times
of the files it extracts as the times when the files were extracted,
instead of setting it to the times recorded in the archive.
</p>
<p>This option is meaningless with <samp>`--list'</samp> (<samp>`-t'</samp>).
</p>
<a name="IDX534"></a>
</dd>
<dt> <samp>`--same-owner'</samp></dt>
<dd><p>Create extracted files with the same ownership they have in the
archive.
</p>
<p>This is the default behavior for the superuser,
so this option is meaningful only for non-root users, when <code>tar</code>
is executed on those systems able to give files away.  This is
considered as a security flaw by many people, at least because it
makes quite difficult to correctly account users for the disk space
they occupy.  Also, the <code>suid</code> or <code>sgid</code> attributes of
files are easily and silently lost when files are given away.
</p>
<p>When writing an archive, <code>tar</code> writes the user <acronym>ID</acronym> and user name
separately.  If it can't find a user name (because the user <acronym>ID</acronym> is not
in <tt>`/etc/passwd'</tt>), then it does not write one.  When restoring,
it tries to look the name (if one was written) up in
<tt>`/etc/passwd'</tt>.  If it fails, then it uses the user <acronym>ID</acronym> stored in
the archive instead.
</p>
<a name="IDX535"></a>
</dd>
<dt> <samp>`--no-same-owner'</samp></dt>
<dt> <samp>`-o'</samp></dt>
<dd><p>Do not attempt to restore ownership when extracting.  This is the
default behavior for ordinary users, so this option has an effect
only for the superuser.
</p>
<a name="IDX536"></a>
</dd>
<dt> <samp>`--numeric-owner'</samp></dt>
<dd><p>The <samp>`--numeric-owner'</samp> option allows (ANSI) archives to be written
without user/group name information or such information to be ignored
when extracting.  It effectively disables the generation and/or use
of user/group name information.  This option forces extraction using
the numeric ids from the archive, ignoring the names.
</p>
<p>This is useful in certain circumstances, when restoring a backup from
an emergency floppy with different passwd/group files for example.
It is otherwise impossible to extract files with the right ownerships
if the password file in use during the extraction does not match the
one belonging to the file system(s) being extracted.  This occurs,
for example, if you are restoring your files after a major crash and
had booted from an emergency floppy with no password file or put your
disk into another machine to do the restore.
</p>
<p>The numeric ids are <em>always</em> saved into <code>tar</code> archives.
The identifying names are added at create time when provided by the
system, unless <samp>`--format=oldgnu'</samp> is used.  Numeric ids could be
used when moving archives between a collection of machines using
a centralized management for attribution of numeric ids to users
and groups.  This is often made through using the NIS capabilities.
</p>
<p>When making a <code>tar</code> file for distribution to other sites, it
is sometimes cleaner to use a single owner for all files in the
distribution, and nicer to specify the write permission bits of the
files as stored in the archive independently of their actual value on
the file system.  The way to prepare a clean distribution is usually
to have some Makefile rule creating a directory, copying all needed
files in that directory, then setting ownership and permissions as
wanted (there are a lot of possible schemes), and only then making a
<code>tar</code> archive out of this directory, before cleaning
everything out.  Of course, we could add a lot of options to
<acronym>GNU</acronym> <code>tar</code> for fine tuning permissions and ownership.
This is not the good way, I think.  <acronym>GNU</acronym> <code>tar</code> is
already crowded with options and moreover, the approach just explained
gives you a great deal of control already.
</p>
<a name="IDX537"></a>
<a name="IDX538"></a>
</dd>
<dt> <samp>`-p'</samp></dt>
<dt> <samp>`--same-permissions'</samp></dt>
<dt> <samp>`--preserve-permissions'</samp></dt>
<dd><p>Extract all protection information.
</p>
<p>This option causes <code>tar</code> to set the modes (access permissions) of
extracted files exactly as recorded in the archive.  If this option
is not used, the current <code>umask</code> setting limits the permissions
on extracted files.  This option is by default enabled when
<code>tar</code> is executed by a superuser.
</p>

<p>This option is meaningless with <samp>`--list'</samp> (<samp>`-t'</samp>).
</p></dd>
</dl>

<hr size="6">
<a name="Portability"></a>
<a name="SEC139"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC138" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC140" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 8.3 Making <code>tar</code> Archives More Portable </h2>

<p>Creating a <code>tar</code> archive on a particular system that is meant to be
useful later on many other machines and with other versions of <code>tar</code>
is more challenging than you might think.  <code>tar</code> archive formats
have been evolving since the first versions of Unix.  Many such formats
are around, and are not always compatible with each other.  This section
discusses a few problems, and gives some advice about making <code>tar</code>
archives more portable.
</p>
<p>One golden rule is simplicity.  For example, limit your <code>tar</code>
archives to contain only regular files and directories, avoiding
other kind of special files.  Do not attempt to save sparse files or
contiguous files as such.  Let's discuss a few more problems, in turn.
</p>
<p>See <cite>Discuss GNU extensions (incremental backups, multi-volume
archives and archive labels) in GNU and PAX formats.</cite>
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC140">8.3.1 Portable Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC141">8.3.2 Symbolic Links</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC142">8.3.3 Hard Links</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC143">8.3.4 Old V7 Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC144">8.3.5 Ustar Archive Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       Ustar Archives
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC145">8.3.6 <acronym>GNU</acronym> and old <acronym>GNU</acronym> <code>tar</code> format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                         GNU and old GNU format archives.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC146">8.3.7 <acronym>GNU</acronym> <code>tar</code> and <acronym>POSIX</acronym> <code>tar</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       <acronym>POSIX</acronym> archives
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC148">8.3.8 Checksumming Problems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC149">8.3.9 Large or Negative Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Large files, negative time stamps, etc.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC150">8.3.10 How to Extract GNU-Specific Data Using Other <code>tar</code> Implementations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Portable-Names"></a>
<a name="SEC140"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC139" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC141" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.1 Portable Names </h3>

<p>Use portable file and member names.  A name is portable if it contains
only <acronym>ASCII</acronym> letters and digits, <samp>`/'</samp>, <samp>`.'</samp>, <samp>`_'</samp>, and
<samp>`-'</samp>; it cannot be empty, start with <samp>`-'</samp> or <samp>`//'</samp>, or
contain <samp>`/-'</samp>.  Avoid deep directory nesting.  For portability to
old Unix hosts, limit your file name components to 14 characters or
less.
</p>
<p>If you intend to have your <code>tar</code> archives to be read under
MSDOS, you should not rely on case distinction for file names, and you
might use the <acronym>GNU</acronym> <code>doschk</code> program for helping you
further diagnosing illegal MSDOS names, which are even more limited
than System V's.
</p>
<hr size="6">
<a name="dereference"></a>
<a name="SEC141"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC140" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC142" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.2 Symbolic Links </h3>

<p>Normally, when <code>tar</code> archives a symbolic link, it writes a
block to the archive naming the target of the link.  In that way, the
<code>tar</code> archive is a faithful record of the file system contents.
When <samp>`--dereference'</samp> (<samp>`-h'</samp>) is used with
<samp>`--create'</samp> (<samp>`-c'</samp>), <code>tar</code> archives the files
symbolic links point to, instead of
the links themselves.
</p>
<p>When creating portable archives, use <samp>`--dereference'</samp>
(<samp>`-h'</samp>): some systems do not support
symbolic links, and moreover, your distribution might be unusable if
it contains unresolved symbolic links.
</p>
<p>When reading from an archive, the <samp>`--dereference'</samp> (<samp>`-h'</samp>)
option causes <code>tar</code> to follow an already-existing symbolic
link when <code>tar</code> writes or reads a file named in the archive.
Ordinarily, <code>tar</code> does not follow such a link, though it may
remove the link before writing a new file.  See section <a href="#SEC77">Options Controlling the Overwriting of Existing Files</a>.
</p>
<p>The <samp>`--dereference'</samp> option is unsafe if an untrusted user can
modify directories while <code>tar</code> is running.  See section <a href="#SEC176">Security</a>.
</p>
<hr size="6">
<a name="hard-links"></a>
<a name="SEC142"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC141" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC143" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.3 Hard Links </h3>

<p>Normally, when <code>tar</code> archives a hard link, it writes a
block to the archive naming the target of the link (a <samp>`1'</samp> type
block).  In that way, the actual file contents is stored in file only
once.  For example, consider the following two files:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ ls -l
-rw-r--r-- 2 gray staff 4 2007-10-30 15:11 one
-rw-r--r-- 2 gray staff 4 2007-10-30 15:11 jeden
</pre></td></tr></table>
<p>Here, <tt>`jeden'</tt> is a link to <tt>`one'</tt>.  When archiving this
directory with a verbose level 2, you will get an output similar to
the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ tar cvvf ../archive.tar .
drwxr-xr-x gray/staff        0 2007-10-30 15:13 ./
-rw-r--r-- gray/staff        4 2007-10-30 15:11 ./jeden
hrw-r--r-- gray/staff        0 2007-10-30 15:11 ./one link to ./jeden
</pre></td></tr></table>
<p>The last line shows that, instead of storing two copies of the file,
<code>tar</code> stored it only once, under the name <tt>`jeden'</tt>, and
stored file <tt>`one'</tt> as a hard link to this file.
</p>
<p>It may be important to know that all hard links to the given file are
stored in the archive.  For example, this may be necessary for exact
reproduction of the file system.  The following option does that:
</p>
<dl compact="compact">
<dd><a name="IDX539"></a>
</dd>
<dt> <samp>`--check-links'</samp></dt>
<dt> <samp>`-l'</samp></dt>
<dd><p>Check the number of links dumped for each processed file.  If this
number does not match the total number of hard links for the file, print
a warning message.
</p></dd>
</dl>

<p>For example, trying to archive only file <tt>`jeden'</tt> with this option
produces the following diagnostics:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ tar -c -f ../archive.tar -l jeden
tar: Missing links to 'jeden'.
</pre></td></tr></table>
<p>Although creating special records for hard links helps keep a faithful
record of the file system contents and makes archives more compact, it
may present some difficulties when extracting individual members from
the archive.  For example, trying to extract file <tt>`one'</tt> from the
archive created in previous examples produces, in the absence of file
<tt>`jeden'</tt>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ tar xf archive.tar ./one
tar: ./one: Cannot hard link to './jeden': No such file or directory
tar: Error exit delayed from previous errors
</pre></td></tr></table>
<p>The reason for this behavior is that <code>tar</code> cannot seek back in
the archive to the previous member (in this case, <tt>`one'</tt>), to
extract it<a name="DOCF22" href="#FOOT22">(22)</a>.
If you wish to avoid such problems at the cost of a bigger archive,
use the following option:
</p>
<dl compact="compact">
<dd><a name="IDX540"></a>
</dd>
<dt> <samp>`--hard-dereference'</samp></dt>
<dd><p>Dereference hard links and store the files they refer to.
</p></dd>
</dl>

<p>For example, trying this option on our two sample files, we get two
copies in the archive, each of which can then be extracted
independently of the other:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ tar -c -vv -f ../archive.tar --hard-dereference .
drwxr-xr-x gray/staff        0 2007-10-30 15:13 ./
-rw-r--r-- gray/staff        4 2007-10-30 15:11 ./jeden
-rw-r--r-- gray/staff        4 2007-10-30 15:11 ./one
</pre></td></tr></table>
<hr size="6">
<a name="old"></a>
<a name="SEC143"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC142" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC144" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.4 Old V7 Archives </h3>

<p>Certain old versions of <code>tar</code> cannot handle additional
information recorded by newer <code>tar</code> programs.  To create an
archive in V7 format (not ANSI), which can be read by these old
versions, specify the <samp>`--format=v7'</samp> option in
conjunction with the <samp>`--create'</samp> (<samp>`-c'</samp>) (<code>tar</code> also
accepts <samp>`--portability'</samp> or <samp>`--old-archive'</samp> for this
option).  When you specify it,
<code>tar</code> leaves out information about directories, pipes, fifos,
contiguous files, and device files, and specifies file ownership by
group and user IDs instead of group and user names.
</p>
<p>When updating an archive, do not use <samp>`--format=v7'</samp>
unless the archive was created using this option.
</p>
<p>In most cases, a <em>new</em> format archive can be read by an <em>old</em>
<code>tar</code> program without serious trouble, so this option should
seldom be needed.  On the other hand, most modern <code>tar</code>s are
able to read old format archives, so it might be safer for you to
always use <samp>`--format=v7'</samp> for your distributions.  Notice,
however, that <samp>`ustar'</samp> format is a better alternative, as it is
free from many of <samp>`v7'</samp>'s drawbacks.
</p>
<hr size="6">
<a name="ustar"></a>
<a name="SEC144"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC143" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC145" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.5 Ustar Archive Format </h3>

<p>The archive format defined by the <acronym>POSIX</acronym>.1-1988 specification is
called <code>ustar</code>.  Although it is more flexible than the V7 format, it
still has many restrictions (see section <a href="#SEC133">ustar</a>, for the detailed
description of <code>ustar</code> format).  Along with V7 format,
<code>ustar</code> format is a good choice for archives intended to be read
with other implementations of <code>tar</code>.
</p>
<p>To create an archive in <code>ustar</code> format, use the <samp>`--format=ustar'</samp>
option in conjunction with <samp>`--create'</samp> (<samp>`-c'</samp>).
</p>
<hr size="6">
<a name="gnu"></a>
<a name="SEC145"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC144" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC146" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.6 <acronym>GNU</acronym> and old <acronym>GNU</acronym> <code>tar</code> format </h3>

<p><acronym>GNU</acronym> <code>tar</code> was based on an early draft of the
<acronym>POSIX</acronym> 1003.1 <code>ustar</code> standard.  <acronym>GNU</acronym> extensions to
<code>tar</code>, such as the support for file names longer than 100
characters, use portions of the <code>tar</code> header record which were
specified in that <acronym>POSIX</acronym> draft as unused.  Subsequent changes in
<acronym>POSIX</acronym> have allocated the same parts of the header record for
other purposes.  As a result, <acronym>GNU</acronym> <code>tar</code> format is
incompatible with the current <acronym>POSIX</acronym> specification, and with
<code>tar</code> programs that follow it.
</p>
<p>In the majority of cases, <code>tar</code> will be configured to create
this format by default.  This will change in future releases, since
we plan to make <samp>`POSIX'</samp> format the default.
</p>
<p>To force creation a <acronym>GNU</acronym> <code>tar</code> archive, use option
<samp>`--format=gnu'</samp>.
</p>
<hr size="6">
<a name="posix"></a>
<a name="SEC146"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC145" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC147" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.7 <acronym>GNU</acronym> <code>tar</code> and <acronym>POSIX</acronym> <code>tar</code> </h3>

<p>Starting from version 1.14 <acronym>GNU</acronym> <code>tar</code> features full support for
<acronym>POSIX.1-2001</acronym> archives.
</p>
<p>A <acronym>POSIX</acronym> conformant archive will be created if <code>tar</code>
was given <samp>`--format=posix'</samp> (<samp>`--format=pax'</samp>) option.  No
special option is required to read and extract from a <acronym>POSIX</acronym>
archive.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC147">8.3.7.1 Controlling Extended Header Keywords</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="PAX-keywords"></a>
<a name="SEC147"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC146" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC148" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC146" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 8.3.7.1 Controlling Extended Header Keywords </h4>

<dl compact="compact">
<dd><a name="IDX541"></a>
</dd>
<dt> <samp>`--pax-option=<var>keyword-list</var>'</samp></dt>
<dd><p>Handle keywords in <acronym>PAX</acronym> extended headers.  This option is
equivalent to <samp>`-o'</samp> option of the <code>pax</code> utility.
</p></dd>
</dl>

<p><var>Keyword-list</var> is a comma-separated
list of keyword options, each keyword option taking one of
the following forms:
</p>
<dl compact="compact">
<dt> <code>delete=<var>pattern</var></code></dt>
<dd><p>When used with one of archive-creation commands,
this option instructs <code>tar</code> to omit from extended header records
that it produces any keywords matching the string <var>pattern</var>.
</p>
<p>When used in extract or list mode, this option instructs tar
to ignore any keywords matching the given <var>pattern</var> in the extended
header records.  In both cases, matching is performed using the pattern
matching notation described in <acronym>POSIX 1003.2</acronym>, 3.13
(see section <a href="#SEC112">Wildcards Patterns and Matching</a>).  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--pax-option delete=security.*
</pre></td></tr></table>
<p>would suppress security-related information.
</p>
</dd>
<dt> <code>exthdr.name=<var>string</var></code></dt>
<dd>
<p>This keyword allows user control over the name that is written into the
ustar header blocks for the extended headers.  The name is obtained
from <var>string</var> after making the following substitutions:
</p>
<table>
<thead><tr><th><p> Meta-character </p></th><th><p> Replaced By
</p></th></tr></thead>
<tr><td><p> %d </p></td><td><p>  The directory name of the file, equivalent to the
result of the <code>dirname</code> utility on the translated file name.
</p></td></tr>
<tr><td><p> %f </p></td><td><p>  The name of the file with the directory information
stripped, equivalent to the result of the <code>basename</code> utility
on the translated file name.
</p></td></tr>
<tr><td><p> %p </p></td><td><p>  The process <acronym>ID</acronym> of the <code>tar</code> process.
</p></td></tr>
<tr><td><p> %% </p></td><td><p>  A <samp>`%'</samp> character.
</p></td></tr>
</table>

<p>Any other <samp>`%'</samp> characters in <var>string</var> produce undefined
results.
</p>
<p>If no option <samp>`exthdr.name=string'</samp> is specified, <code>tar</code>
will use the following default value:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">%d/PaxHeaders.%p/%f
</pre></td></tr></table>
</dd>
<dt> <code>exthdr.mtime=<var>value</var></code></dt>
<dd>
<p>This keyword defines the value of the <samp>`mtime'</samp> field that
is written into the ustar header blocks for the extended headers.
By default, the <samp>`mtime'</samp> field is set to the modification time
of the archive member described by that extended header (or to the
value of the <samp>`--mtime'</samp> option, if supplied).
</p>
</dd>
<dt> <code>globexthdr.name=<var>string</var></code></dt>
<dd><p>This keyword allows user control over the name that is written into
the ustar header blocks for global extended header records.  The name
is obtained from the contents of <var>string</var>, after making
the following substitutions:
</p>
<table>
<thead><tr><th><p> Meta-character </p></th><th><p> Replaced By
</p></th></tr></thead>
<tr><td><p> %n </p></td><td><p> An integer that represents the
sequence number of the global extended header record in the archive,
starting at 1.
</p></td></tr>
<tr><td><p> %p </p></td><td><p> The process <acronym>ID</acronym> of the <code>tar</code> process.
</p></td></tr>
<tr><td><p> %% </p></td><td><p> A <samp>`%'</samp> character.
</p></td></tr>
</table>

<p>Any other <samp>`%'</samp> characters in <var>string</var> produce undefined results.
</p>
<p>If no option <samp>`globexthdr.name=string'</samp> is specified, <code>tar</code>
will use the following default value:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$TMPDIR/GlobalHead.%p.%n
</pre></td></tr></table>

<p>where <samp>`$TMPDIR'</samp> represents the value of the <var>TMPDIR</var>
environment variable.  If <var>TMPDIR</var> is not set, <code>tar</code>
uses <samp>`/tmp'</samp>.
</p>
</dd>
<dt> <code>globexthdr.mtime=<var>value</var></code></dt>
<dd>
<p>This keyword defines the value of the <samp>`mtime'</samp> field that
is written into the ustar header blocks for the global extended headers.
By default, the <samp>`mtime'</samp> field is set to the time when
<code>tar</code> was invoked.
</p>
</dd>
<dt> <code><var>keyword</var>=<var>value</var></code></dt>
<dd><p>When used with one of archive-creation commands, these keyword/value pairs
will be included at the beginning of the archive in a global extended
header record.  When used with one of archive-reading commands,
<code>tar</code> will behave as if it has encountered these keyword/value
pairs at the beginning of the archive in a global extended header
record.
</p>
</dd>
<dt> <code><var>keyword</var>:=<var>value</var></code></dt>
<dd><p>When used with one of archive-creation commands, these keyword/value pairs
will be included as records at the beginning of an extended header for
each file.  This is effectively equivalent to <var>keyword</var>=<var>value</var>
form except that it creates no global extended header records.
</p>
<p>When used with one of archive-reading commands, <code>tar</code> will
behave as if these keyword/value pairs were included as records at the
end of each extended header; thus, they will override any global or
file-specific extended header record keywords of the same names.
For example, in the command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">tar --format=posix --create \
    --file archive --pax-option gname:=user .
</pre></td></tr></table>
<p>the group name will be forced to a new value for all files
stored in the archive.
</p></dd>
</dl>

<p>In any of the forms described above, the <var>value</var> may be
a string enclosed in curly braces.  In that case, the string
between the braces is understood either as a textual time
representation, as described in <a href="#SEC121">Date input formats</a>, or a name of
the existing file, starting with <samp>`/'</samp> or <samp>`.'</samp>.  In the latter
case, the modification time of that file is used.
</p>
<p>For example, to set all modification times to the current date, you
use the following option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--pax-option='mtime:={now}'
</pre></td></tr></table>
<p>Note quoting of the option's argument.
</p>
<a name="IDX542"></a>
<a name="IDX543"></a>
<p>As another example, here is the option that ensures that any two
archives created using it, will be binary equivalent if they have the
same contents:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--pax-option=exthdr.name=%d/PaxHeaders/%f,atime:=0
</pre></td></tr></table>

<p>If you extract files from such an archive and recreate the archive
from them, you will also need to eliminate changes due to ctime, as
shown in examples below:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--pax-option=exthdr.name=%d/PaxHeaders/%f,atime:=0,ctime:=0
</pre></td></tr></table>

<p>or
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">--pax-option=exthdr.name=%d/PaxHeaders/%f,atime:=0,delete=ctime
</pre></td></tr></table>
<hr size="6">
<a name="Checksumming"></a>
<a name="SEC148"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC147" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC149" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.8 Checksumming Problems </h3>

<p>SunOS and HP-UX <code>tar</code> fail to accept archives created using
<acronym>GNU</acronym> <code>tar</code> and containing non-<acronym>ASCII</acronym> file names, that
is, file names having characters with the eighth bit set, because they
use signed checksums, while <acronym>GNU</acronym> <code>tar</code> uses unsigned
checksums while creating archives, as per <acronym>POSIX</acronym> standards.  On
reading, <acronym>GNU</acronym> <code>tar</code> computes both checksums and accepts either of them.
It is somewhat worrying that a lot of people may go
around doing backup of their files using faulty (or at least
non-standard) software, not learning about it until it's time to
restore their missing files with an incompatible file extractor, or
vice versa.
</p>
<p><acronym>GNU</acronym> <code>tar</code> computes checksums both ways, and accepts either of them
on read, so <acronym>GNU</acronym> tar can read Sun tapes even with their
wrong checksums.  <acronym>GNU</acronym> <code>tar</code> produces the standard
checksum, however, raising incompatibilities with Sun.  That is to
say, <acronym>GNU</acronym> <code>tar</code> has not been modified to
<em>produce</em> incorrect archives to be read by buggy <code>tar</code>'s.
I've been told that more recent Sun <code>tar</code> now read standard
archives, so maybe Sun did a similar patch, after all?
</p>
<p>The story seems to be that when Sun first imported <code>tar</code>
sources on their system, they recompiled it without realizing that
the checksums were computed differently, because of a change in
the default signing of <code>char</code>'s in their compiler.  So they
started computing checksums wrongly.  When they later realized their
mistake, they merely decided to stay compatible with it, and with
themselves afterwards.  Presumably, but I do not really know, HP-UX
has chosen their <code>tar</code> archives to be compatible with Sun's.
The current standards do not favor Sun <code>tar</code> format.  In any
case, it now falls on the shoulders of SunOS and HP-UX users to get
a <code>tar</code> able to read the good archives they receive.
</p>
<hr size="6">
<a name="Large-or-Negative-Values"></a>
<a name="SEC149"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC148" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC150" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.9 Large or Negative Values </h3>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>The above sections suggest to use <samp>`oldest possible'</samp> archive
format if in doubt.  However, sometimes it is not possible.  If you
attempt to archive a file whose metadata cannot be represented using
required format, <acronym>GNU</acronym> <code>tar</code> will print error message and ignore such a
file.  You will than have to switch to a format that is able to
handle such values.  The format summary table (see section <a href="#SEC133">Controlling the Archive Format</a>) will
help you to do so.
</p>
<p>In particular, when trying to archive files larger than 8GB or with
timestamps not in the range 1970-01-01 00:00:00 through 2242-03-16
12:56:31 <small>UTC</small>, you will have to chose between <acronym>GNU</acronym> and
<acronym>POSIX</acronym> archive formats.  When considering which format to
choose, bear in mind that the <acronym>GNU</acronym> format uses
two's-complement base-256 notation to store values that do not fit
into standard <acronym>ustar</acronym> range.  Such archives can generally be
read only by a <acronym>GNU</acronym> <code>tar</code> implementation.  Moreover, they sometimes
cannot be correctly restored on another hosts even by <acronym>GNU</acronym> <code>tar</code>.  For
example, using two's complement representation for negative time
stamps that assumes a signed 32-bit <code>time_t</code> generates archives
that are not portable to hosts with differing <code>time_t</code>
representations.
</p>
<p>On the other hand, <acronym>POSIX</acronym> archives, generally speaking, can
be extracted by any tar implementation that understands older
<acronym>ustar</acronym> format.  The only exception are files larger than 8GB.
</p>
<p>See <cite>Describe how <acronym>POSIX</acronym> archives are extracted by non
POSIX-aware tars.</cite>
</p>

<hr size="6">
<a name="Other-Tars"></a>
<a name="SEC150"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC149" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC151" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC139" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 8.3.10 How to Extract GNU-Specific Data Using Other <code>tar</code> Implementations </h3>

<p>In previous sections you became acquainted with various quirks
necessary to make your archives portable.  Sometimes you may need to
extract archives containing GNU-specific members using some
third-party <code>tar</code> implementation or an older version of
<acronym>GNU</acronym> <code>tar</code>.  Of course your best bet is to have <acronym>GNU</acronym> <code>tar</code> installed,
but if it is for some reason impossible, this section will explain
how to cope without it.
</p>
<p>When we speak about <em>GNU-specific</em> members we mean two classes of
them: members split between the volumes of a multi-volume archive and
sparse members.  You will be able to always recover such members if
the archive is in PAX format.  In addition split members can be
recovered from archives in old GNU format.  The following subsections
describe the required procedures in detail.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC151">8.3.10.1 Extracting Members Split Between Volumes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Members Split Between Volumes
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC152">8.3.10.2 Extracting Sparse Members</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Sparse Members
</td></tr>
</table>

<hr size="6">
<a name="Split-Recovery"></a>
<a name="SEC151"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC150" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC152" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC150" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 8.3.10.1 Extracting Members Split Between Volumes </h4>

<p>If a member is split between several volumes of an old GNU format archive
most third party <code>tar</code> implementation will fail to extract
it.  To extract it, use <code>tarcat</code> program (see section <a href="#SEC167">Concatenate Volumes into a Single Archive</a>).
This program is available from
<a href="http://www.gnu.org/software/tar/utils/tarcat.html"><acronym>GNU</acronym> <code>tar</code> home page</a>.  It concatenates several archive volumes into a single
valid archive.  For example, if you have three volumes named from
<tt>`vol-1.tar'</tt> to <tt>`vol-3.tar'</tt>, you can do the following to
extract them using a third-party <code>tar</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tarcat vol-1.tar vol-2.tar vol-3.tar | tar xf -</kbd>
</pre></td></tr></table>
<a name="IDX544"></a>
<p>You could use this approach for most (although not all) PAX
format archives as well.  However, extracting split members from a PAX
archive is a much easier task, because PAX volumes are constructed in
such a way that each part of a split member is extracted to a
different file by <code>tar</code> implementations that are not aware of
GNU extensions.  More specifically, the very first part retains its
original name, and all subsequent parts are named using the pattern:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">%d/GNUFileParts.%p/%f.%n
</pre></td></tr></table>

<p>where symbols preceded by <samp>`%'</samp> are <em>macro characters</em> that
have the following meaning:
</p>
<table>
<thead><tr><th><p> Meta-character </p></th><th><p> Replaced By
</p></th></tr></thead>
<tr><td><p> %d </p></td><td><p>  The directory name of the file, equivalent to the
result of the <code>dirname</code> utility on its full name.
</p></td></tr>
<tr><td><p> %f </p></td><td><p>  The file name of the file, equivalent to the result
of the <code>basename</code> utility on its full name.
</p></td></tr>
<tr><td><p> %p </p></td><td><p>  The process <acronym>ID</acronym> of the <code>tar</code> process that
created the archive.
</p></td></tr>
<tr><td><p> %n </p></td><td><p>  Ordinal number of this particular part.
</p></td></tr>
</table>

<p>For example, if the file <tt>`var/longfile'</tt> was split during archive
creation between three volumes, and the creator <code>tar</code> process
had process <acronym>ID</acronym> <samp>`27962'</samp>, then the member names will be:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">var/longfile
var/GNUFileParts.27962/longfile.1
var/GNUFileParts.27962/longfile.2
</pre></td></tr></table>
<p>When you extract your archive using a third-party <code>tar</code>, these
files will be created on your disk, and the only thing you will need
to do to restore your file in its original form is concatenate them in
the proper order, for example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>cd var</kbd>
$ <kbd>cat GNUFileParts.27962/longfile.1 \
  GNUFileParts.27962/longfile.2 &gt;&gt; longfile</kbd>
$ rm -f GNUFileParts.27962
</pre></td></tr></table>
<p>Notice, that if the <code>tar</code> implementation you use supports PAX
format archives, it will probably emit warnings about unknown keywords
during extraction.  They will look like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Tar file too small
Unknown extended header keyword 'GNU.volume.filename' ignored.
Unknown extended header keyword 'GNU.volume.size' ignored.
Unknown extended header keyword 'GNU.volume.offset' ignored.
</pre></td></tr></table>

<p>You can safely ignore these warnings.
</p>
<p>If your <code>tar</code> implementation is not PAX-aware, you will get
more warnings and more files generated on your disk, e.g.:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar xf vol-1.tar</kbd>
var/PaxHeaders.27962/longfile: Unknown file type 'x', extracted as
normal file
Unexpected EOF in archive
$ <kbd>tar xf vol-2.tar</kbd>
tmp/GlobalHead.27962.1: Unknown file type 'g', extracted as normal file
GNUFileParts.27962/PaxHeaders.27962/sparsefile.1: Unknown file type
'x', extracted as normal file
</pre></td></tr></table>
<p>Ignore these warnings.  The <tt>`PaxHeaders.*'</tt> directories created
will contain files with <em>extended header keywords</em> describing the
extracted files.  You can delete them, unless they describe sparse
members.  Read further to learn more about them.
</p>
<hr size="6">
<a name="Sparse-Recovery"></a>
<a name="SEC152"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC151" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC153" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC150" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 8.3.10.2 Extracting Sparse Members </h4>

<p>Any <code>tar</code> implementation will be able to extract sparse members from a
PAX archive.  However, the extracted files will be <em>condensed</em>,
i.e., any zero blocks will be removed from them.  When we restore such
a condensed file to its original form, by adding zero blocks (or
<em>holes</em>) back to their original locations, we call this process
<em>expanding</em> a compressed sparse file.
</p>
<a name="IDX545"></a>
<p>To expand a file, you will need a simple auxiliary program called
<code>xsparse</code>.  It is available in source form from
<a href="http://www.gnu.org/software/tar/utils/xsparse.html"><acronym>GNU</acronym> <code>tar</code> home page</a>.
</p>
<a name="IDX546"></a>
<p>Let's begin with archive members in <em>sparse format
version 1.0</em><a name="DOCF23" href="#FOOT23">(23)</a>, which are the easiest to expand.
The condensed file will contain both file map and file data, so no
additional data will be needed to restore it.  If the original file
name was <tt>`<var>dir</var>/<var>name</var>'</tt>, then the condensed file will be
named <tt>`<var>dir</var>/GNUSparseFile.<var>n</var>/<var>name</var>'</tt>, where
<var>n</var> is a decimal number<a name="DOCF24" href="#FOOT24">(24)</a>.
</p>
<p>To expand a version 1.0 file, run <code>xsparse</code> as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>xsparse <tt>`cond-file'</tt></kbd>
</pre></td></tr></table>

<p>where <tt>`cond-file'</tt> is the name of the condensed file.  The utility
will deduce the name for the resulting expanded file using the
following algorithm:
</p>
<ol>
<li> If <tt>`cond-file'</tt> does not contain any directories,
<tt>`../cond-file'</tt> will be used;

</li><li> If <tt>`cond-file'</tt> has the form
<tt>`<var>dir</var>/<var>t</var>/<var>name</var>'</tt>, where both <var>t</var> and <var>name</var>
are simple names, with no <samp>`/'</samp> characters in them, the output file
name will be <tt>`<var>dir</var>/<var>name</var>'</tt>.

</li><li> Otherwise, if <tt>`cond-file'</tt> has the form
<tt>`<var>dir</var>/<var>name</var>'</tt>, the output file name will be
<tt>`<var>name</var>'</tt>.
</li></ol>

<p>In the unlikely case when this algorithm does not suit your needs,
you can explicitly specify output file name as a second argument to
the command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>xsparse <tt>`cond-file'</tt> <tt>`out-file'</tt></kbd>
</pre></td></tr></table>
<p>It is often a good idea to run <code>xsparse</code> in <em>dry run</em> mode
first.  In this mode, the command does not actually expand the file,
but verbosely lists all actions it would be taking to do so.  The dry
run mode is enabled by <samp>`-n'</samp> command line argument:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>xsparse -n /home/gray/GNUSparseFile.6058/sparsefile</kbd>
Reading v.1.0 sparse map
Expanding file '/home/gray/GNUSparseFile.6058/sparsefile' to
'/home/gray/sparsefile'
Finished dry run
</pre></td></tr></table>
<p>To actually expand the file, you would run:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>xsparse /home/gray/GNUSparseFile.6058/sparsefile</kbd>
</pre></td></tr></table>

<p>The program behaves the same way all UNIX utilities do: it will keep
quiet unless it has something important to tell you (e.g. an error
condition or something).  If you wish it to produce verbose output,
similar to that from the dry run mode, use <samp>`-v'</samp> option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>xsparse -v /home/gray/GNUSparseFile.6058/sparsefile</kbd>
Reading v.1.0 sparse map
Expanding file '/home/gray/GNUSparseFile.6058/sparsefile' to
'/home/gray/sparsefile'
Done
</pre></td></tr></table>
<p>Additionally, if your <code>tar</code> implementation has extracted the
<em>extended headers</em> for this file, you can instruct <code>xstar</code>
to use them in order to verify the integrity of the expanded file.
The option <samp>`-x'</samp> sets the name of the extended header file to
use.  Continuing our example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>xsparse -v -x /home/gray/PaxHeaders.6058/sparsefile \
  /home/gray/GNUSparseFile.6058/sparsefile</kbd>
Reading extended header file
Found variable GNU.sparse.major = 1
Found variable GNU.sparse.minor = 0
Found variable GNU.sparse.name = sparsefile
Found variable GNU.sparse.realsize = 217481216
Reading v.1.0 sparse map
Expanding file '/home/gray/GNUSparseFile.6058/sparsefile' to
'/home/gray/sparsefile'
Done
</pre></td></tr></table>
<p><a name="extracting-sparse-v0x"></a>
<a name="IDX547"></a>
<a name="IDX548"></a>
An <em>extended header</em> is a special <code>tar</code> archive header
that precedes an archive member and contains a set of
<em>variables</em>, describing the member properties that cannot be
stored in the standard <code>ustar</code> header.  While optional for
expanding sparse version 1.0 members, the use of extended headers is
mandatory when expanding sparse members in older sparse formats: v.0.0
and v.0.1 (The sparse formats are described in detail in <a href="#SEC190">Storing Sparse Files</a>.)  So, for these formats, the question is: how to obtain
extended headers from the archive?
</p>
<p>If you use a <code>tar</code> implementation that does not support PAX
format, extended headers for each member will be extracted as a
separate file.  If we represent the member name as
<tt>`<var>dir</var>/<var>name</var>'</tt>, then the extended header file will be
named <tt>`<var>dir</var>/PaxHeaders.<var>n</var>/<var>name</var>'</tt>, where
<var>n</var> is an integer number.
</p>
<p>Things become more difficult if your <code>tar</code> implementation
does support PAX headers, because in this case you will have to
manually extract the headers.  We recommend the following algorithm:
</p>
<ol>
<li>
Consult the documentation of your <code>tar</code> implementation for an
option that prints <em>block numbers</em> along with the archive
listing (analogous to <acronym>GNU</acronym> <code>tar</code>'s <samp>`-R'</samp> option).  For example,
<code>star</code> has <samp>`-block-number'</samp>.

</li><li>
Obtain verbose listing using the <samp>`block number'</samp> option, and
find block numbers of the sparse member in question and the member
immediately following it.  For example, running <code>star</code> on our
archive we obtain:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>star -t -v -block-number -f arc.tar</kbd>
&hellip;
star: Unknown extended header keyword 'GNU.sparse.size' ignored.
star: Unknown extended header keyword 'GNU.sparse.numblocks' ignored.
star: Unknown extended header keyword 'GNU.sparse.name' ignored.
star: Unknown extended header keyword 'GNU.sparse.map' ignored.
block        56:  425984 -rw-r--r--  gray/users Jun 25 14:46 2006 GNUSparseFile.28124/sparsefile
block       897:   65391 -rw-r--r--  gray/users Jun 24 20:06 2006 README
&hellip;
</pre></td></tr></table>

<p>(as usual, ignore the warnings about unknown keywords.)
</p>
</li><li>
Let <var>size</var> be the size of the sparse member, <var>Bs</var> be its block number
and <var>Bn</var> be the block number of the next member.
Compute:

<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>N</var> = <var>Bs</var> - <var>Bn</var> - <var>size</var>/512 - 2
</pre></td></tr></table>

<p>This number gives the size of the extended header part in tar <em>blocks</em>.
In our example, this formula gives: <code>897 - 56 - 425984 / 512 - 2
= 7</code>.
</p>
</li><li>
Use <code>dd</code> to extract the headers:

<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>dd if=<var>archive</var> of=<var>hname</var> bs=512 skip=<var>Bs</var> count=<var>N</var></kbd>
</pre></td></tr></table>

<p>where <var>archive</var> is the archive name, <var>hname</var> is a name of the
file to store the extended header in, <var>Bs</var> and <var>N</var> are
computed in previous steps.
</p>
<p>In our example, this command will be
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>dd if=arc.tar of=xhdr bs=512 skip=56 count=7</kbd>
</pre></td></tr></table></li></ol>

<p>Finally, you can expand the condensed file, using the obtained header:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>xsparse -v -x xhdr GNUSparseFile.6058/sparsefile</kbd>
Reading extended header file
Found variable GNU.sparse.size = 217481216
Found variable GNU.sparse.numblocks = 208
Found variable GNU.sparse.name = sparsefile
Found variable GNU.sparse.map = 0,2048,1050624,2048,&hellip;
Expanding file 'GNUSparseFile.28124/sparsefile' to 'sparsefile'
Done
</pre></td></tr></table>
<hr size="6">
<a name="cpio"></a>
<a name="SEC153"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC152" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC133" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 8.4 Comparison of <code>tar</code> and <code>cpio</code> </h2>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>See <cite>Reorganize the following material</cite>
</p>

<p>The <code>cpio</code> archive formats, like <code>tar</code>, do have maximum
file name lengths.  The binary and old <acronym>ASCII</acronym> formats have a maximum file
length of 256, and the new <acronym>ASCII</acronym> and <acronym>CRC ASCII</acronym> formats have a max
file length of 1024.  <acronym>GNU</acronym> <code>cpio</code> can read and write archives
with arbitrary file name lengths, but other <code>cpio</code> implementations
may crash unexplainedly trying to read them.
</p>
<p><code>tar</code> handles symbolic links in the form in which it comes in <acronym>BSD</acronym>;
<code>cpio</code> doesn't handle symbolic links in the form in which it comes
in System V prior to SVR4, and some vendors may have added symlinks
to their system without enhancing <code>cpio</code> to know about them.
Others may have enhanced it in a way other than the way I did it
at Sun, and which was adopted by AT&amp;T (and which is, I think, also
present in the <code>cpio</code> that Berkeley picked up from AT&amp;T and put
into a later <acronym>BSD</acronym> release--I think I gave them my changes).
</p>
<p>(SVR4 does some funny stuff with <code>tar</code>; basically, its <code>cpio</code>
can handle <code>tar</code> format input, and write it on output, and it
probably handles symbolic links.  They may not have bothered doing
anything to enhance <code>tar</code> as a result.)
</p>
<p><code>cpio</code> handles special files; traditional <code>tar</code> doesn't.
</p>
<p><code>tar</code> comes with V7, System III, System V, and <acronym>BSD</acronym> source;
<code>cpio</code> comes only with System III, System V, and later <acronym>BSD</acronym>
(4.3-tahoe and later).
</p>
<p><code>tar</code>'s way of handling multiple hard links to a file can handle
file systems that support 32-bit i-numbers (e.g., the <acronym>BSD</acronym> file system);
<code>cpio</code>s way requires you to play some games (in its &quot;binary&quot;
format, i-numbers are only 16 bits, and in its &quot;portable <acronym>ASCII</acronym>&quot; format,
they're 18 bits--it would have to play games with the &quot;file system <acronym>ID</acronym>&quot;
field of the header to make sure that the file system <acronym>ID</acronym>/i-number pairs
of different files were always different), and I don't know which
<code>cpio</code>s, if any, play those games.  Those that don't might get
confused and think two files are the same file when they're not, and
make hard links between them.
</p>
<p><code>tar</code>s way of handling multiple hard links to a file places only
one copy of the link on the tape, but the name attached to that copy
is the <em>only</em> one you can use to retrieve the file; <code>cpio</code>s
way puts one copy for every link, but you can retrieve it using any
of the names.
</p>
<blockquote><p>What type of check sum (if any) is used, and how is this calculated.
</p></blockquote>

<p>See the attached manual pages for <code>tar</code> and <code>cpio</code> format.
<code>tar</code> uses a checksum which is the sum of all the bytes in the
<code>tar</code> header for a file; <code>cpio</code> uses no checksum.
</p>
<blockquote><p>If anyone knows why <code>cpio</code> was made when <code>tar</code> was present
at the unix scene,
</p></blockquote>

<p>It wasn't.  <code>cpio</code> first showed up in PWB/UNIX 1.0; no
generally-available version of UNIX had <code>tar</code> at the time.  I don't
know whether any version that was generally available <em>within AT&amp;T</em>
had <code>tar</code>, or, if so, whether the people within AT&amp;T who did
<code>cpio</code> knew about it.
</p>
<p>On restore, if there is a corruption on a tape <code>tar</code> will stop at
that point, while <code>cpio</code> will skip over it and try to restore the
rest of the files.
</p>
<p>The main difference is just in the command syntax and header format.
</p>
<p><code>tar</code> is a little more tape-oriented in that everything is blocked
to start on a record boundary.
</p>
<blockquote><p>Is there any differences between the ability to recover crashed
archives between the two of them.  (Is there any chance of recovering
crashed archives at all.)
</p></blockquote>

<p>Theoretically it should be easier under <code>tar</code> since the blocking
lets you find a header with some variation of <samp>`dd skip=<var>nn</var>'</samp>.
However, modern <code>cpio</code>'s and variations have an option to just
search for the next file header after an error with a reasonable chance
of resyncing.  However, lots of tape driver software won't allow you to
continue past a media error which should be the only reason for getting
out of sync unless a file changed sizes while you were writing the
archive.
</p>
<blockquote><p>If anyone knows why <code>cpio</code> was made when <code>tar</code> was present
at the unix scene, please tell me about this too.
</p></blockquote>

<p>Probably because it is more media efficient (by not blocking everything
and using only the space needed for the headers where <code>tar</code>
always uses 512 bytes per file header) and it knows how to archive
special files.
</p>
<p>You might want to look at the freely available alternatives.  The
major ones are <code>afio</code>, <acronym>GNU</acronym> <code>tar</code>, and
<code>pax</code>, each of which have their own extensions with some
backwards compatibility.
</p>
<p>Sparse files were <code>tar</code>red as sparse files (which you can
easily test, because the resulting archive gets smaller, and
<acronym>GNU</acronym> <code>cpio</code> can no longer read it).
</p>
<hr size="6">
<a name="Media"></a>
<a name="SEC154"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC153" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC155" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC133" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 9. Tapes and Other Archive Media </h1>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>A few special cases about tape handling warrant more detailed
description.  These special cases are discussed below.
</p>
<p>Many complexities surround the use of <code>tar</code> on tape drives.  Since
the creation and manipulation of archives located on magnetic tape was
the original purpose of <code>tar</code>, it contains many features making
such manipulation easier.
</p>
<p>Archives are usually written on dismountable media--tape cartridges,
mag tapes, or floppy disks.
</p>
<p>The amount of data a tape or disk holds depends not only on its size,
but also on how it is formatted.  A 2400 foot long reel of mag tape
holds 40 megabytes of data when formatted at 1600 bits per inch.  The
physically smaller EXABYTE tape cartridge holds 2.3 gigabytes.
</p>
<p>Magnetic media are re-usable--once the archive on a tape is no longer
needed, the archive can be erased and the tape or disk used over.
Media quality does deteriorate with use, however.  Most tapes or disks
should be discarded when they begin to produce data errors.  EXABYTE
tape cartridges should be discarded when they generate an <em>error
count</em> (number of non-usable bits) of more than 10k.
</p>
<p>Magnetic media are written and erased using magnetic fields, and
should be protected from such fields to avoid damage to stored data.
Sticking a floppy disk to a filing cabinet using a magnet is probably
not a good idea.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC155">9.1 Device Selection and Switching</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      Device selection and switching
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC156">9.2 Remote Tape Server</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC157">9.3 Some Common Problems and their Solutions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC158">9.4 Blocking</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC161">9.5 Many Archives on One Tape</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                        Many archives on one tape
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC164">9.6 Using Multiple Tapes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC168">9.7 Including a Label in the Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC169">9.8 Verifying Data as It is Stored</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC170">9.9 Write Protection</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Device"></a>
<a name="SEC155"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC154" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC156" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.1 Device Selection and Switching </h2>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<dl compact="compact">
<dt> <samp>`-f [<var>hostname</var>:]<var>file</var>'</samp></dt>
<dt> <samp>`--file=[<var>hostname</var>:]<var>file</var>'</samp></dt>
<dd><p>Use archive file or device <var>file</var> on <var>hostname</var>.
</p></dd>
</dl>

<p>This option is used to specify the file name of the archive <code>tar</code>
works on.
</p>
<p>If the file name is <samp>`-'</samp>, <code>tar</code> reads the archive from standard
input (when listing or extracting), or writes it to standard output
(when creating).  If the <samp>`-'</samp> file name is given when updating an
archive, <code>tar</code> will read the original archive from its standard
input, and will write the entire new archive to its standard output.
</p>
<p>If the file name contains a <samp>`:'</samp>, it is interpreted as
<samp>`hostname:file name'</samp>.  If the <var>hostname</var> contains an <em>at</em>
sign (<samp>`@'</samp>), it is treated as <samp>`user@hostname:file name'</samp>.  In
either case, <code>tar</code> will invoke the command <code>rsh</code> (or
<code>remsh</code>) to start up an <code>/usr/libexec/rmt</code> on the remote
machine.  If you give an alternate login name, it will be given to the
<code>rsh</code>.
Naturally, the remote machine must have an executable
<code>/usr/libexec/rmt</code>.  This program is free software from the
University of California, and a copy of the source code can be found
with the sources for <code>tar</code>; it's compiled and installed by default.
The exact path to this utility is determined when configuring the package.
It is <tt>`<var>prefix</var>/libexec/rmt'</tt>, where <var>prefix</var> stands for
your installation prefix.  This location may also be overridden at
runtime by using the <samp>`--rmt-command=<var>command</var>'</samp> option (See section <a href="#SEC42">--rmt-command</a>, for detailed description of this option.  See section <a href="#SEC156">Remote Tape Server</a>, for the description of <code>rmt</code> command).
</p>
<p>If this option is not given, but the environment variable <code>TAPE</code>
is set, its value is used; otherwise, old versions of <code>tar</code>
used a default archive name (which was picked when <code>tar</code> was
compiled).  The default is normally set up to be the <em>first</em> tape
drive or other transportable I/O medium on the system.
</p>
<p>Starting with version 1.11.5, <acronym>GNU</acronym> <code>tar</code> uses
standard input and standard output as the default device, and I will
not try anymore supporting automatic device detection at installation
time.  This was failing really in too many cases, it was hopeless.
This is now completely left to the installer to override standard
input and standard output for default device, if this seems
preferable.  Further, I think <em>most</em> actual usages of
<code>tar</code> are done with pipes or disks, not really tapes,
cartridges or diskettes.
</p>
<p>Some users think that using standard input and output is running
after trouble.  This could lead to a nasty surprise on your screen if
you forget to specify an output file name--especially if you are going
through a network or terminal server capable of buffering large amounts
of output.  We had so many bug reports in that area of configuring
default tapes automatically, and so many contradicting requests, that
we finally consider the problem to be portably intractable.  We could
of course use something like <samp>`/dev/tape'</samp> as a default, but this
is <em>also</em> running after various kind of trouble, going from hung
processes to accidental destruction of real tapes.  After having seen
all this mess, using standard input and output as a default really
sounds like the only clean choice left, and a very useful one too.
</p>
<p><acronym>GNU</acronym> <code>tar</code> reads and writes archive in records, I
suspect this is the main reason why block devices are preferred over
character devices.  Most probably, block devices are more efficient
too.  The installer could also check for <samp>`DEFTAPE'</samp> in
<tt>`&lt;sys/mtio.h&gt;'</tt>.
</p>
<dl compact="compact">
<dd><a name="IDX549"></a>
</dd>
<dt> <samp>`--force-local'</samp></dt>
<dd><p>Archive file is local even if it contains a colon.
</p>
<a name="IDX550"></a>
</dd>
<dt> <samp>`--rsh-command=<var>command</var>'</samp></dt>
<dd><p>Use remote <var>command</var> instead of <code>rsh</code>.  This option exists
so that people who use something other than the standard <code>rsh</code>
(e.g., a Kerberized <code>rsh</code>) can access a remote device.
</p>
<p>When this command is not used, the shell command found when
the <code>tar</code> program was installed is used instead.  This is
the first found of <tt>`/usr/ucb/rsh'</tt>, <tt>`/usr/bin/remsh'</tt>,
<tt>`/usr/bin/rsh'</tt>, <tt>`/usr/bsd/rsh'</tt> or <tt>`/usr/bin/nsh'</tt>.
The installer may have overridden this by defining the environment
variable <code>RSH</code> <em>at installation time</em>.
</p>
</dd>
<dt> <samp>`-[0-7][lmh]'</samp></dt>
<dd><p>Specify drive and density.
</p>
<a name="IDX551"></a>
</dd>
<dt> <samp>`-M'</samp></dt>
<dt> <samp>`--multi-volume'</samp></dt>
<dd><p>Create/list/extract multi-volume archive.
</p>
<p>This option causes <code>tar</code> to write a <em>multi-volume</em> archive--one
that may be larger than will fit on the medium used to hold it.
See section <a href="#SEC165">Archives Longer than One Tape or Disk</a>.
</p>
<a name="IDX552"></a>
</dd>
<dt> <samp>`-L <var>num</var>'</samp></dt>
<dt> <samp>`--tape-length=<var>size</var>[<var>suf</var>]'</samp></dt>
<dd><p>Change tape after writing <var>size</var> units of data.  Unless <var>suf</var> is
given, <var>size</var> is treated as kilobytes, i.e. <samp>`<var>size</var> x
1024'</samp> bytes.  The following suffixes alter this behavior:
</p>
<div class="float"><a name="size_002dsuffixes"></a>

<table>
<thead><tr><th><p> Suffix </p></th><th><p> Units            </p></th><th><p> Byte Equivalent
</p></th></tr></thead>
<tr><td><p> b          </p></td><td><p> Blocks           </p></td><td><p> <var>size</var> x 512
</p></td></tr>
<tr><td><p> B          </p></td><td><p> Kilobytes        </p></td><td><p> <var>size</var> x 1024
</p></td></tr>
<tr><td><p> c          </p></td><td><p> Bytes            </p></td><td><p> <var>size</var>
</p></td></tr>
<tr><td><p> G          </p></td><td><p> Gigabytes        </p></td><td><p> <var>size</var> x 1024^3
</p></td></tr>
<tr><td><p> K          </p></td><td><p> Kilobytes        </p></td><td><p> <var>size</var> x 1024
</p></td></tr>
<tr><td><p> k          </p></td><td><p> Kilobytes        </p></td><td><p> <var>size</var> x 1024
</p></td></tr>
<tr><td><p> M          </p></td><td><p> Megabytes        </p></td><td><p> <var>size</var> x 1024^2
</p></td></tr>
<tr><td><p> P          </p></td><td><p> Petabytes        </p></td><td><p> <var>size</var> x 1024^5
</p></td></tr>
<tr><td><p> T          </p></td><td><p> Terabytes        </p></td><td><p> <var>size</var> x 1024^4
</p></td></tr>
<tr><td><p> w          </p></td><td><p> Words            </p></td><td><p> <var>size</var> x 2
</p></td></tr>
</table>
</div><p><strong>Table 9.1: Size Suffixes
</strong>
</p>
<p>This option might be useful when your tape drivers do not properly
detect end of physical tapes.  By being slightly conservative on the
maximum tape length, you might avoid the problem entirely.
</p>
<a name="IDX553"></a>
<a name="IDX554"></a>
</dd>
<dt> <samp>`-F <var>command</var>'</samp></dt>
<dt> <samp>`--info-script=<var>command</var>'</samp></dt>
<dt> <samp>`--new-volume-script=<var>command</var>'</samp></dt>
<dd><p>Execute <var>command</var> at end of each tape.  This implies
<samp>`--multi-volume'</samp> (<samp>`-M'</samp>).  See <a href="#info_002dscript">info-script</a>, for a detailed
description of this option.
</p></dd>
</dl>

<hr size="6">
<a name="Remote-Tape-Server"></a>
<a name="SEC156"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC155" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC157" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.2 Remote Tape Server </h2>

<p>In order to access the tape drive on a remote machine, <code>tar</code>
uses the remote tape server written at the University of California at
Berkeley.  The remote tape server must be installed as
<tt>`<var>prefix</var>/libexec/rmt'</tt> on any machine whose tape drive you
want to use.  <code>tar</code> calls <code>rmt</code> by running an
<code>rsh</code> or <code>remsh</code> to the remote machine, optionally
using a different login name if one is supplied.
</p>
<p>A copy of the source for the remote tape server is provided.  Its
source code can be freely distributed.  It is compiled and
installed by default.
</p>
<a name="IDX555"></a>
<p>Unless you use the <samp>`--absolute-names'</samp> (<samp>`-P'</samp>) option,
<acronym>GNU</acronym> <code>tar</code> will not allow you to create an archive that contains
absolute file names (a file name beginning with <samp>`/'</samp>).  If you try,
<code>tar</code> will automatically remove the leading <samp>`/'</samp> from the
file names it stores in the archive.  It will also type a warning
message telling you what it is doing.
</p>
<p>When reading an archive that was created with a different
<code>tar</code> program, <acronym>GNU</acronym> <code>tar</code> automatically
extracts entries in the archive which have absolute file names as if
the file names were not absolute.  This is an important feature.  A
visitor here once gave a <code>tar</code> tape to an operator to restore;
the operator used Sun <code>tar</code> instead of <acronym>GNU</acronym> <code>tar</code>,
and the result was that it replaced large portions of
our <tt>`/bin'</tt> and friends with versions from the tape; needless to
say, we were unhappy about having to recover the file system from
backup tapes.
</p>
<p>For example, if the archive contained a file <tt>`/usr/bin/computoy'</tt>,
<acronym>GNU</acronym> <code>tar</code> would extract the file to <tt>`usr/bin/computoy'</tt>,
relative to the current directory.  If you want to extract the files in
an archive to the same absolute names that they had when the archive
was created, you should do a <samp>`cd /'</samp> before extracting the files
from the archive, or you should either use the <samp>`--absolute-names'</samp>
option, or use the command <samp>`tar -C / &hellip;'</samp>.
</p>
<a name="IDX556"></a>
<p>Some versions of Unix (Ultrix 3.1 is known to have this problem),
can claim that a short write near the end of a tape succeeded,
when it actually failed.  This will result in the -M option not
working correctly.  The best workaround at the moment is to use a
significantly larger blocking factor than the default 20.
</p>
<p>In order to update an archive, <code>tar</code> must be able to backspace the
archive in order to reread or rewrite a record that was just read (or
written).  This is currently possible only on two kinds of files: normal
disk files (or any other file that can be backspaced with <samp>`lseek'</samp>),
and industry-standard 9-track magnetic tape (or any other kind of tape
that can be backspaced with the <code>MTIOCTOP</code> <code>ioctl</code>).
</p>
<p>This means that the <samp>`--append'</samp>, <samp>`--concatenate'</samp>, and
<samp>`--delete'</samp> commands will not work on any other kind of file.
Some media simply cannot be backspaced, which means these commands and
options will never be able to work on them.  These non-backspacing
media include pipes and cartridge tape drives.
</p>
<p>Some other media can be backspaced, and <code>tar</code> will work on them
once <code>tar</code> is modified to do so.
</p>
<p>Archives created with the <samp>`--multi-volume'</samp>, <samp>`--label'</samp>, and
<samp>`--incremental'</samp> (<samp>`-G'</samp>) options may not be readable by other version
of <code>tar</code>.  In particular, restoring a file that was split over
a volume boundary will require some careful work with <code>dd</code>, if
it can be done at all.  Other versions of <code>tar</code> may also create
an empty file whose name is that of the volume header.  Some versions
of <code>tar</code> may create normal files instead of directories archived
with the <samp>`--incremental'</samp> (<samp>`-G'</samp>) option.
</p>
<hr size="6">
<a name="Common-Problems-and-Solutions"></a>
<a name="SEC157"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC156" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.3 Some Common Problems and their Solutions </h2>


<table><tr><td>&nbsp;</td><td><pre class="format">errors from system:
permission denied
no such file or directory
not owner

errors from <code>tar</code>:
directory checksum error
header format error

errors from media/system:
i/o error
device busy
</pre></td></tr></table>

<hr size="6">
<a name="Blocking"></a>
<a name="SEC158"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC157" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC159" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.4 Blocking </h2>

<p><em>Block</em> and <em>record</em> terminology is rather confused, and it
is also confusing to the expert reader.  On the other hand, readers
who are new to the field have a fresh mind, and they may safely skip
the next two paragraphs, as the remainder of this manual uses those
two terms in a quite consistent way.
</p>
<p>John Gilmore, the writer of the public domain <code>tar</code> from which
<acronym>GNU</acronym> <code>tar</code> was originally derived, wrote (June 1995):
</p>
<blockquote><p>The nomenclature of tape drives comes from IBM, where I believe
they were invented for the IBM 650 or so.  On IBM mainframes, what
is recorded on tape are tape blocks.  The logical organization of
data is into records.  There are various ways of putting records into
blocks, including <code>F</code> (fixed sized records), <code>V</code> (variable
sized records), <code>FB</code> (fixed blocked: fixed size records, <var>n</var>
to a block), <code>VB</code> (variable size records, <var>n</var> to a block),
<code>VSB</code> (variable spanned blocked: variable sized records that can
occupy more than one block), etc.  The <code>JCL</code> <samp>`DD RECFORM='</samp>
parameter specified this to the operating system.
</p>
<p>The Unix man page on <code>tar</code> was totally confused about this.
When I wrote <code>PD TAR</code>, I used the historically correct terminology
(<code>tar</code> writes data records, which are grouped into blocks).
It appears that the bogus terminology made it into <acronym>POSIX</acronym> (no surprise
here), and now Fran&ccedil;ois has migrated that terminology back
into the source code too.
</p></blockquote>

<p>The term <em>physical block</em> means the basic transfer chunk from or
to a device, after which reading or writing may stop without anything
being lost.  In this manual, the term <em>block</em> usually refers to
a disk physical block, <em>assuming</em> that each disk block is 512
bytes in length.  It is true that some disk devices have different
physical blocks, but <code>tar</code> ignore these differences in its own
format, which is meant to be portable, so a <code>tar</code> block is always
512 bytes in length, and <em>block</em> always mean a <code>tar</code> block.
The term <em>logical block</em> often represents the basic chunk of
allocation of many disk blocks as a single entity, which the operating
system treats somewhat atomically; this concept is only barely used
in <acronym>GNU</acronym> <code>tar</code>.
</p>
<p>The term <em>physical record</em> is another way to speak of a physical
block, those two terms are somewhat interchangeable.  In this manual,
the term <em>record</em> usually refers to a tape physical block,
<em>assuming</em> that the <code>tar</code> archive is kept on magnetic tape.
It is true that archives may be put on disk or used with pipes,
but nevertheless, <code>tar</code> tries to read and write the archive one
<em>record</em> at a time, whatever the medium in use.  One record is made
up of an integral number of blocks, and this operation of putting many
disk blocks into a single tape block is called <em>reblocking</em>, or
more simply, <em>blocking</em>.  The term <em>logical record</em> refers to
the logical organization of many characters into something meaningful
to the application.  The term <em>unit record</em> describes a small set
of characters which are transmitted whole to or by the application,
and often refers to a line of text.  Those two last terms are unrelated
to what we call a <em>record</em> in <acronym>GNU</acronym> <code>tar</code>.
</p>
<p>When writing to tapes, <code>tar</code> writes the contents of the archive
in chunks known as <em>records</em>.  To change the default blocking
factor, use the <samp>`--blocking-factor=<var>512-size</var>'</samp> (<samp>`-b
<var>512-size</var>'</samp>) option.  Each record will then be composed of
<var>512-size</var> blocks.  (Each <code>tar</code> block is 512 bytes.
See section <a href="#SEC188">Basic Tar Format</a>.)  Each file written to the archive uses at least one
full record.  As a result, using a larger record size can result in
more wasted space for small files.  On the other hand, a larger record
size can often be read and written much more efficiently.
</p>
<p>Further complicating the problem is that some tape drives ignore the
blocking entirely.  For these, a larger record size can still improve
performance (because the software layers above the tape drive still
honor the blocking), but not as dramatically as on tape drives that
honor blocking.
</p>
<p>When reading an archive, <code>tar</code> can usually figure out the
record size on itself.  When this is the case, and a non-standard
record size was used when the archive was created, <code>tar</code> will
print a message about a non-standard blocking factor, and then operate
normally<a name="DOCF25" href="#FOOT25">(25)</a>.  On some tape
devices, however, <code>tar</code> cannot figure out the record size
itself.  On most of those, you can specify a blocking factor (with
<samp>`--blocking-factor'</samp>) larger than the actual blocking factor,
and then use the <samp>`--read-full-records'</samp> (<samp>`-B'</samp>) option.
(If you specify a blocking factor with <samp>`--blocking-factor'</samp> and
don't use the <samp>`--read-full-records'</samp> option, then <code>tar</code>
will not attempt to figure out the recording size itself.)  On some
devices, you must always specify the record size exactly with
<samp>`--blocking-factor'</samp> when reading, because <code>tar</code> cannot
figure it out.  In any case, use <samp>`--list'</samp> (<samp>`-t'</samp>) before
doing any extractions to see whether <code>tar</code> is reading the archive
correctly.
</p>
<p><code>tar</code> blocks are all fixed size (512 bytes), and its scheme for
putting them into records is to put a whole number of them (one or
more) into each record.  <code>tar</code> records are all the same size;
at the end of the file there's a block containing all zeros, which
is how you tell that the remainder of the last record(s) are garbage.
</p>
<p>In a standard <code>tar</code> file (no options), the block size is 512
and the record size is 10240, for a blocking factor of 20.  What the
<samp>`--blocking-factor'</samp> option does is sets the blocking factor,
changing the record size while leaving the block size at 512 bytes.
20 was fine for ancient 800 or 1600 bpi reel-to-reel tape drives;
most tape drives these days prefer much bigger records in order to
stream and not waste tape.  When writing tapes for myself, some tend
to use a factor of the order of 2048, say, giving a record size of
around one megabyte.
</p>
<p>If you use a blocking factor larger than 20, older <code>tar</code>
programs might not be able to read the archive, so we recommend this
as a limit to use in practice.  <acronym>GNU</acronym> <code>tar</code>, however,
will support arbitrarily large record sizes, limited only by the
amount of virtual memory or the physical characteristics of the tape
device.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC159">9.4.1 Format Variations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Format-Variations"></a>
<a name="SEC159"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC158" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC160" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 9.4.1 Format Variations </h3>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>Format parameters specify how an archive is written on the archive
media.  The best choice of format parameters will vary depending on
the type and number of files being archived, and on the media used to
store the archive.
</p>
<p>To specify format parameters when accessing or creating an archive,
you can use the options described in the following sections.
If you do not specify any format parameters, <code>tar</code> uses
default parameters.  You cannot modify a compressed archive.
If you create an archive with the <samp>`--blocking-factor'</samp> option
specified (see section <a href="#SEC160">The Blocking Factor of an Archive</a>), you must specify that
blocking-factor when operating on the archive.  See section <a href="#SEC133">Controlling the Archive Format</a>, for other
examples of format parameter considerations.
</p>
<hr size="6">
<a name="Blocking-Factor"></a>
<a name="SEC160"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC159" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC161" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC158" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 9.4.2 The Blocking Factor of an Archive </h3>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<a name="IDX557"></a>
<p>The data in an archive is grouped into blocks, which are 512 bytes.
Blocks are read and written in whole number multiples called
<em>records</em>.  The number of blocks in a record (i.e., the size of a
record in units of 512 bytes) is called the <em>blocking factor</em>.
The <samp>`--blocking-factor=<var>512-size</var>'</samp> (<samp>`-b
<var>512-size</var>'</samp>) option specifies the blocking factor of an archive.
The default blocking factor is typically 20 (i.e., 10240 bytes), but
can be specified at installation.  To find out the blocking factor of
an existing archive, use <samp>`tar --list --file=<var>archive-name</var>'</samp>.
This may not work on some devices.
</p>
<p>Records are separated by gaps, which waste space on the archive media.
If you are archiving on magnetic tape, using a larger blocking factor
(and therefore larger records) provides faster throughput and allows you
to fit more data on a tape (because there are fewer gaps).  If you are
archiving on cartridge, a very large blocking factor (say 126 or more)
greatly increases performance.  A smaller blocking factor, on the other
hand, may be useful when archiving small files, to avoid archiving lots
of nulls as <code>tar</code> fills out the archive to the end of the record.
In general, the ideal record size depends on the size of the
inter-record gaps on the tape you are using, and the average size of the
files you are archiving.  See section <a href="#SEC17">How to Create Archives</a>, for information on
writing archives.
</p>
<p>See <cite>Need example of using a cartridge with blocking factor=126 or more.</cite>
</p>

<p>Archives with blocking factors larger than 20 cannot be read
by very old versions of <code>tar</code>, or by some newer versions
of <code>tar</code> running on old machines with small address spaces.
With <acronym>GNU</acronym> <code>tar</code>, the blocking factor of an archive is limited
only by the maximum record size of the device containing the archive,
or by the amount of available virtual memory.
</p>
<p>Also, on some systems, not using adequate blocking factors, as sometimes
imposed by the device drivers, may yield unexpected diagnostics.  For
example, this has been reported:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Cannot write to /dev/dlt: Invalid argument
</pre></td></tr></table>

<p>In such cases, it sometimes happen that the <code>tar</code> bundled by
the system is aware of block size idiosyncrasies, while <acronym>GNU</acronym> <code>tar</code>
requires an explicit specification for the block size,
which it cannot guess.  This yields some people to consider
<acronym>GNU</acronym> <code>tar</code> is misbehaving, because by comparison,
<cite>the bundle <code>tar</code> works OK</cite>.  Adding <kbd>-b 256</kbd>,
for example, might resolve the problem.
</p>
<p>If you use a non-default blocking factor when you create an archive, you
must specify the same blocking factor when you modify that archive.  Some
archive devices will also require you to specify the blocking factor when
reading that archive, however this is not typically the case.  Usually, you
can use <samp>`--list'</samp> (<samp>`-t'</samp>) without specifying a blocking factor--<code>tar</code>
reports a non-default record size and then lists the archive members as
it would normally.  To extract files from an archive with a non-standard
blocking factor (particularly if you're not sure what the blocking factor
is), you can usually use the <samp>`--read-full-records'</samp> (<samp>`-B'</samp>) option while
specifying a blocking factor larger then the blocking factor of the archive
(i.e., <samp>`tar --extract --read-full-records --blocking-factor=300'</samp>).
See section <a href="#SEC23">How to List Archives</a>, for more information on the <samp>`--list'</samp> (<samp>`-t'</samp>)
operation.  See section <a href="#SEC73">Options to Help Read Archives</a>, for a more detailed explanation of that option.
</p>
<dl compact="compact">
<dt> <samp>`--blocking-factor=<var>number</var>'</samp></dt>
<dt> <samp>`-b <var>number</var>'</samp></dt>
<dd><p>Specifies the blocking factor of an archive.  Can be used with any
operation, but is usually not necessary with <samp>`--list'</samp> (<samp>`-t'</samp>).
</p></dd>
</dl>

<p>Device blocking
</p>
<dl compact="compact">
<dt> <samp>`-b <var>blocks</var>'</samp></dt>
<dt> <samp>`--blocking-factor=<var>blocks</var>'</samp></dt>
<dd><p>Set record size to <em><var>blocks</var>*512</em> bytes.
</p>
<p>This option is used to specify a <em>blocking factor</em> for the archive.
When reading or writing the archive, <code>tar</code>, will do reads and writes
of the archive in records of <em><var>block</var>*512</em> bytes.  This is true
even when the archive is compressed.  Some devices requires that all
write operations be a multiple of a certain size, and so, <code>tar</code>
pads the archive out to the next record boundary.
</p>
<p>The default blocking factor is set when <code>tar</code> is compiled, and is
typically 20.  Blocking factors larger than 20 cannot be read by very
old versions of <code>tar</code>, or by some newer versions of <code>tar</code>
running on old machines with small address spaces.
</p>
<p>With a magnetic tape, larger records give faster throughput and fit
more data on a tape (because there are fewer inter-record gaps).
If the archive is in a disk file or a pipe, you may want to specify
a smaller blocking factor, since a large one will result in a large
number of null bytes at the end of the archive.
</p>
<p>When writing cartridge or other streaming tapes, a much larger
blocking factor (say 126 or more) will greatly increase performance.
However, you must specify the same blocking factor when reading or
updating the archive.
</p>
<p>Apparently, Exabyte drives have a physical block size of 8K bytes.
If we choose our blocksize as a multiple of 8k bytes, then the problem
seems to disappear.  Id est, we are using block size of 112 right
now, and we haven't had the problem since we switched&hellip;
</p>
<p>With <acronym>GNU</acronym> <code>tar</code> the blocking factor is limited only
by the maximum record size of the device containing the archive, or by
the amount of available virtual memory.
</p>
<p>However, deblocking or reblocking is virtually avoided in a special
case which often occurs in practice, but which requires all the
following conditions to be simultaneously true:
</p><ul>
<li>
the archive is subject to a compression option,
</li><li>
the archive is not handled through standard input or output, nor
redirected nor piped,
</li><li>
the archive is directly handled to a local disk, instead of any special
device,
</li><li>
<samp>`--blocking-factor'</samp> is not explicitly specified on the <code>tar</code>
invocation.
</li></ul>

<p>If the output goes directly to a local disk, and not through
stdout, then the last write is not extended to a full record size.
Otherwise, reblocking occurs.  Here are a few other remarks on this
topic:
</p>
<ul>
<li>
<code>gzip</code> will complain about trailing garbage if asked to
uncompress a compressed archive on tape, there is an option to turn
the message off, but it breaks the regularity of simply having to use
<samp>`<var>prog</var> -d'</samp> for decompression.  It would be nice if gzip was
silently ignoring any number of trailing zeros.  I'll ask Jean-loup
Gailly, by sending a copy of this message to him.

</li><li>
<code>compress</code> does not show this problem, but as Jean-loup pointed
out to Michael, <samp>`compress -d'</samp> silently adds garbage after
the result of decompression, which tar ignores because it already
recognized its end-of-file indicator.  So this bug may be safely
ignored.

</li><li>
<samp>`gzip -d -q'</samp> will be silent about the trailing zeros indeed,
but will still return an exit status of 2 which tar reports in turn.
<code>tar</code> might ignore the exit status returned, but I hate doing
that, as it weakens the protection <code>tar</code> offers users against
other possible problems at decompression time.  If <code>gzip</code> was
silently skipping trailing zeros <em>and</em> also avoiding setting the
exit status in this innocuous case, that would solve this situation.

</li><li>
<code>tar</code> should become more solid at not stopping to read a pipe at
the first null block encountered.  This inelegantly breaks the pipe.
<code>tar</code> should rather drain the pipe out before exiting itself.
</li></ul>

<a name="IDX558"></a>
</dd>
<dt> <samp>`-i'</samp></dt>
<dt> <samp>`--ignore-zeros'</samp></dt>
<dd><p>Ignore blocks of zeros in archive (means EOF).
</p>
<p>The <samp>`--ignore-zeros'</samp> (<samp>`-i'</samp>) option causes <code>tar</code> to ignore blocks
of zeros in the archive.  Normally a block of zeros indicates the
end of the archive, but when reading a damaged archive, or one which
was created by concatenating several archives together, this option
allows <code>tar</code> to read the entire archive.  This option is not on
by default because many versions of <code>tar</code> write garbage after
the zeroed blocks.
</p>
<p>Note that this option causes <code>tar</code> to read to the end of the
archive file, which may sometimes avoid problems when multiple files
are stored on a single physical tape.
</p>
<a name="IDX559"></a>
</dd>
<dt> <samp>`-B'</samp></dt>
<dt> <samp>`--read-full-records'</samp></dt>
<dd><p>Reblock as we read (for reading 4.2<acronym>BSD</acronym> pipes).
</p>
<p>If <samp>`--read-full-records'</samp> is used, <code>tar</code>
will not panic if an attempt to read a record from the archive does
not return a full record.  Instead, <code>tar</code> will keep reading
until it has obtained a full
record.
</p>
<p>This option is turned on by default when <code>tar</code> is reading
an archive from standard input, or from a remote machine.  This is
because on <acronym>BSD</acronym> Unix systems, a read of a pipe will return however
much happens to be in the pipe, even if it is less than <code>tar</code>
requested.  If this option was not used, <code>tar</code> would fail as
soon as it read an incomplete record from the pipe.
</p>
<p>This option is also useful with the commands for updating an archive.
</p>
</dd>
</dl>

<p>Tape blocking
</p>
<p>See <cite>Appropriate options should be moved here from elsewhere.</cite>
</p>

<a name="IDX560"></a>
<a name="IDX561"></a>

<p>When handling various tapes or cartridges, you have to take care of
selecting a proper blocking, that is, the number of disk blocks you
put together as a single tape block on the tape, without intervening
tape gaps.  A <em>tape gap</em> is a small landing area on the tape
with no information on it, used for decelerating the tape to a
full stop, and for later regaining the reading or writing speed.
When the tape driver starts reading a record, the record has to
be read whole without stopping, as a tape gap is needed to stop the
tape motion without losing information.
</p>
<a name="IDX562"></a>
<a name="IDX563"></a>
<p>Using higher blocking (putting more disk blocks per tape block) will use
the tape more efficiently as there will be less tape gaps.  But reading
such tapes may be more difficult for the system, as more memory will be
required to receive at once the whole record.  Further, if there is a
reading error on a huge record, this is less likely that the system will
succeed in recovering the information.  So, blocking should not be too
low, nor it should be too high.  <code>tar</code> uses by default a blocking of
20 for historical reasons, and it does not really matter when reading or
writing to disk.  Current tape technology would easily accommodate higher
blockings.  Sun recommends a blocking of 126 for Exabytes and 96 for DATs.
We were told that for some DLT drives, the blocking should be a multiple
of 4Kb, preferably 64Kb (<kbd>-b 128</kbd>) or 256 for decent performance.
Other manufacturers may use different recommendations for the same tapes.
This might also depends of the buffering techniques used inside modern
tape controllers.  Some imposes a minimum blocking, or a maximum blocking.
Others request blocking to be some exponent of two.
</p>
<p>So, there is no fixed rule for blocking.  But blocking at read time
should ideally be the same as blocking used at write time.  At one place
I know, with a wide variety of equipment, they found it best to use a
blocking of 32 to guarantee that their tapes are fully interchangeable.
</p>
<p>I was also told that, for recycled tapes, prior erasure (by the same
drive unit that will be used to create the archives) sometimes lowers
the error rates observed at rewriting time.
</p>
<p>I might also use <samp>`--number-blocks'</samp> instead of
<samp>`--block-number'</samp>, so <samp>`--block'</samp> will then expand to
<samp>`--blocking-factor'</samp> unambiguously.
</p>
<hr size="6">
<a name="Many"></a>
<a name="SEC161"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC160" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC162" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.5 Many Archives on One Tape </h2>

<p>See <cite>Appropriate options should be moved here from elsewhere.</cite>
</p>

<a name="IDX564"></a>
<p>Most tape devices have two entries in the <tt>`/dev'</tt> directory, or
entries that come in pairs, which differ only in the minor number for
this device.  Let's take for example <tt>`/dev/tape'</tt>, which often
points to the only or usual tape device of a given system.  There might
be a corresponding <tt>`/dev/nrtape'</tt> or <tt>`/dev/ntape'</tt>.  The simpler
name is the <em>rewinding</em> version of the device, while the name
having <samp>`nr'</samp> in it is the <em>no rewinding</em> version of the same
device.
</p>
<p>A rewinding tape device will bring back the tape to its beginning point
automatically when this device is opened or closed.  Since <code>tar</code>
opens the archive file before using it and closes it afterwards, this
means that a simple:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar cf /dev/tape <var>directory</var></kbd>
</pre></td></tr></table>

<p>will reposition the tape to its beginning both prior and after saving
<var>directory</var> contents to it, thus erasing prior tape contents and
making it so that any subsequent write operation will destroy what has
just been saved.
</p>
<a name="IDX565"></a>
<p>So, a rewinding device is normally meant to hold one and only one file.
If you want to put more than one <code>tar</code> archive on a given tape, you
will need to avoid using the rewinding version of the tape device.  You
will also have to pay special attention to tape positioning.  Errors in
positioning may overwrite the valuable data already on your tape.  Many
people, burnt by past experiences, will only use rewinding devices and
limit themselves to one file per tape, precisely to avoid the risk of
such errors.  Be fully aware that writing at the wrong position on a
tape loses all information past this point and most probably until the
end of the tape, and this destroyed information <em>cannot</em> be
recovered.
</p>
<p>To save <var>directory-1</var> as a first archive at the beginning of a
tape, and leave that tape ready for a second archive, you should use:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>mt -f /dev/nrtape rewind</kbd>
$ <kbd>tar cf /dev/nrtape <var>directory-1</var></kbd>
</pre></td></tr></table>
<a name="IDX566"></a>
<p><em>Tape marks</em> are special magnetic patterns written on the tape
media, which are later recognizable by the reading hardware.  These
marks are used after each file, when there are many on a single tape.
An empty file (that is to say, two tape marks in a row) signal the
logical end of the tape, after which no file exist.  Usually,
non-rewinding tape device drivers will react to the close request issued
by <code>tar</code> by first writing two tape marks after your archive, and by
backspacing over one of these.  So, if you remove the tape at that time
from the tape drive, it is properly terminated.  But if you write
another file at the current position, the second tape mark will be
erased by the new information, leaving only one tape mark between files.
</p>
<p>So, you may now save <var>directory-2</var> as a second archive after the
first on the same tape by issuing the command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar cf /dev/nrtape <var>directory-2</var></kbd>
</pre></td></tr></table>

<p>and so on for all the archives you want to put on the same tape.
</p>
<p>Another usual case is that you do not write all the archives the same
day, and you need to remove and store the tape between two archive
sessions.  In general, you must remember how many files are already
saved on your tape.  Suppose your tape already has 16 files on it, and
that you are ready to write the 17th.  You have to take care of skipping
the first 16 tape marks before saving <var>directory-17</var>, say, by using
these commands:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>mt -f /dev/nrtape rewind</kbd>
$ <kbd>mt -f /dev/nrtape fsf 16</kbd>
$ <kbd>tar cf /dev/nrtape <var>directory-17</var></kbd>
</pre></td></tr></table>
<p>In all the previous examples, we put aside blocking considerations, but
you should do the proper things for that as well.  See section <a href="#SEC158">Blocking</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC162">9.5.1 Tape Positions and Tape Marks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC163">9.5.2 The <code>mt</code> Utility</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Tape-Positioning"></a>
<a name="SEC162"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC161" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC163" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC161" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 9.5.1 Tape Positions and Tape Marks </h3>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>Just as archives can store more than one file from the file system,
tapes can store more than one archive file.  To keep track of where
archive files (or any other type of file stored on tape) begin and
end, tape archive devices write magnetic <em>tape marks</em> on the
archive media.  Tape drives write one tape mark between files,
two at the end of all the file entries.
</p>
<p>If you think of data as a series of records &quot;rrrr&quot;'s, and tape marks as
&quot;*&quot;'s, a tape might look like the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">rrrr*rrrrrr*rrrrr*rr*rrrrr**-------------------------
</pre></td></tr></table>
<p>Tape devices read and write tapes using a read/write <em>tape
head</em>--a physical part of the device which can only access one
point on the tape at a time.  When you use <code>tar</code> to read or
write archive data from a tape device, the device will begin reading
or writing from wherever on the tape the tape head happens to be,
regardless of which archive or what part of the archive the tape
head is on.  Before writing an archive, you should make sure that no
data on the tape will be overwritten (unless it is no longer needed).
Before reading an archive, you should make sure the tape head is at
the beginning of the archive you want to read.  You can do it manually
via <code>mt</code> utility (see section <a href="#SEC163">The <code>mt</code> Utility</a>).  The <code>restore</code> script does
that automatically (see section <a href="#SEC104">Using the Restore Script</a>).
</p>
<p>If you want to add new archive file entries to a tape, you should
advance the tape to the end of the existing file entries, backspace
over the last tape mark, and write the new archive file.  If you were
to add two archives to the example above, the tape might look like the
following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">rrrr*rrrrrr*rrrrr*rr*rrrrr*rrr*rrrr**----------------
</pre></td></tr></table>
<hr size="6">
<a name="mt"></a>
<a name="SEC163"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC162" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC161" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 9.5.2 The <code>mt</code> Utility </h3>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>See <cite>Is it true that this only works on non-block devices?
should explain the difference, (fixed or variable).</cite>
</p>
<p>See section <a href="#SEC160">The Blocking Factor of an Archive</a>.
</p>
<p>You can use the <code>mt</code> utility to advance or rewind a tape past a
specified number of archive files on the tape.  This will allow you
to move to the beginning of an archive before extracting or reading
it, or to the end of all the archives before writing a new one.
See <cite>Why isn't there an &quot;advance 'til you find two tape marks
together&quot;?</cite>
</p>

<p>The syntax of the <code>mt</code> command is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>mt [-f <var>tapename</var>] <var>operation</var> [<var>number</var>]</kbd>
</pre></td></tr></table>
<p>where <var>tapename</var> is the name of the tape device, <var>number</var> is
the number of times an operation is performed (with a default of one),
and <var>operation</var> is one of the following:
</p>
<p>See <cite>is there any use for record operations?</cite>
</p>

<dl compact="compact">
<dt> <samp>`eof'</samp></dt>
<dt> <samp>`weof'</samp></dt>
<dd><p>Writes <var>number</var> tape marks at the current position on the tape.
</p>
</dd>
<dt> <samp>`fsf'</samp></dt>
<dd><p>Moves tape position forward <var>number</var> files.
</p>
</dd>
<dt> <samp>`bsf'</samp></dt>
<dd><p>Moves tape position back <var>number</var> files.
</p>
</dd>
<dt> <samp>`rewind'</samp></dt>
<dd><p>Rewinds the tape.  (Ignores <var>number</var>.)
</p>
</dd>
<dt> <samp>`offline'</samp></dt>
<dt> <samp>`rewoff1'</samp></dt>
<dd><p>Rewinds the tape and takes the tape device off-line.  (Ignores <var>number</var>.)
</p>
</dd>
<dt> <samp>`status'</samp></dt>
<dd><p>Prints status information about the tape unit.
</p>
</dd>
</dl>

<p>If you don't specify a <var>tapename</var>, <code>mt</code> uses the environment
variable <code>TAPE</code>; if <code>TAPE</code> is not set, <code>mt</code> will use
the default device specified in your <tt>`sys/mtio.h'</tt> file
(<code>DEFTAPE</code> variable).  If this is not defined, the program will
display a descriptive error message and exit with code 1.
</p>
<p><code>mt</code> returns a 0 exit status when the operation(s) were
successful, 1 if the command was unrecognized, and 2 if an operation
failed.
</p>
<hr size="6">
<a name="Using-Multiple-Tapes"></a>
<a name="SEC164"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC163" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC165" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.6 Using Multiple Tapes </h2>

<p>Often you might want to write a large archive, one larger than will fit
on the actual tape you are using.  In such a case, you can run multiple
<code>tar</code> commands, but this can be inconvenient, particularly if you
are using options like <samp>`--exclude=<var>pattern</var>'</samp> or dumping entire file systems.
Therefore, <code>tar</code> provides a special mode for creating
multi-volume archives.
</p>
<p><em>Multi-volume</em> archive is a single <code>tar</code> archive, stored
on several media volumes of fixed size.  Although in this section we will
often call <samp>`volume'</samp> a <em>tape</em>, there is absolutely no
requirement for multi-volume archives to be stored on tapes.  Instead,
they can use whatever media type the user finds convenient, they can
even be located on files.
</p>
<p>When creating a multi-volume archive, <acronym>GNU</acronym> <code>tar</code> continues to fill
current volume until it runs out of space, then it switches to
next volume (usually the operator is queried to replace the tape on
this point), and continues working on the new volume.  This operation
continues until all requested files are dumped.  If <acronym>GNU</acronym> <code>tar</code> detects
end of media while dumping a file, such a file is archived in split
form.  Some very big files can even be split across several volumes.
</p>
<p>Each volume is itself a valid <acronym>GNU</acronym> <code>tar</code> archive, so it can be read
without any special options.  Consequently any file member residing
entirely on one volume can be extracted or otherwise operated upon
without needing the other volume.  Sure enough, to extract a split
member you would need all volumes its parts reside on.
</p>
<p>Multi-volume archives suffer from several limitations.  In particular,
they cannot be compressed.
</p>
<p><acronym>GNU</acronym> <code>tar</code> is able to create multi-volume archives of two formats
(see section <a href="#SEC133">Controlling the Archive Format</a>): <samp>`GNU'</samp> and <samp>`POSIX'</samp>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC166">9.6.2 Tape Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC167">9.6.3 Concatenate Volumes into a Single Archive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
</pre></th></tr></table>

<hr size="6">
<a name="Multi_002dVolume-Archives"></a>
<a name="SEC165"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC164" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC166" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 9.6.1 Archives Longer than One Tape or Disk </h3>

<p>To create an archive that is larger than will fit on a single unit of
the media, use the <samp>`--multi-volume'</samp> (<samp>`-M'</samp>) option in conjunction with
the <samp>`--create'</samp> option (see section <a href="#SEC17">How to Create Archives</a>).  A <em>multi-volume</em>
archive can be manipulated like any other archive (provided the
<samp>`--multi-volume'</samp> option is specified), but is stored on more
than one tape or file.
</p>
<p>When you specify <samp>`--multi-volume'</samp>, <code>tar</code> does not report an
error when it comes to the end of an archive volume (when reading), or
the end of the media (when writing).  Instead, it prompts you to load
a new storage volume.  If the archive is on a magnetic tape, you
should change tapes when you see the prompt; if the archive is on a
floppy disk, you should change disks; etc.
</p>
<dl compact="compact">
<dt> <samp>`--multi-volume'</samp></dt>
<dt> <samp>`-M'</samp></dt>
<dd><p>Creates a multi-volume archive, when used in conjunction with
<samp>`--create'</samp> (<samp>`-c'</samp>).  To perform any other operation on a multi-volume
archive, specify <samp>`--multi-volume'</samp> in conjunction with that
operation.
For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --multi-volume --file=/dev/tape <var>files</var></kbd>
</pre></td></tr></table></dd>
</dl>

<p>The method <code>tar</code> uses to detect end of tape is not perfect, and
fails on some operating systems or on some devices.  If <code>tar</code>
cannot detect the end of the tape itself, you can use
<samp>`--tape-length'</samp> option to inform it about the capacity of the
tape:
</p>
<p><a name="tape_002dlength"></a>
</p><dl compact="compact">
<dd><a name="IDX567"></a>
</dd>
<dt> <samp>`--tape-length=<var>size</var>[<var>suf</var>]'</samp></dt>
<dt> <samp>`-L <var>size</var>[<var>suf</var>]'</samp></dt>
<dd><p>Set maximum length of a volume.  The <var>suf</var>, if given, specifies
units in which <var>size</var> is expressed, e.g. <samp>`2M'</samp> mean 2
megabytes (see <a href="#size_002dsuffixes">size-suffixes</a>, for a list of allowed size
suffixes).  Without <var>suf</var>, units of 1024 bytes (kilobyte) are
assumed.
</p>
<p>This option selects <samp>`--multi-volume'</samp> automatically.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --tape-length=41943040 --file=/dev/tape <var>files</var></kbd>
</pre></td></tr></table>

<p>or, which is equivalent:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --tape-length=4G --file=/dev/tape <var>files</var></kbd>
</pre></td></tr></table></dd>
</dl>

<p><a name="change-volume-prompt"></a>
When <acronym>GNU</acronym> <code>tar</code> comes to the end of a storage media, it asks you to
change the volume.  The built-in prompt for POSIX locale
is<a name="DOCF26" href="#FOOT26">(26)</a>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Prepare volume #<var>n</var> for '<var>archive</var>' and hit return:
</pre></td></tr></table>

<p>where <var>n</var> is the ordinal number of the volume to be created and
<var>archive</var> is archive file or device name.
</p>
<p>When prompting for a new tape, <code>tar</code> accepts any of the following
responses:
</p>
<dl compact="compact">
<dt> <kbd>?</kbd></dt>
<dd><p>Request <code>tar</code> to explain possible responses.
</p></dd>
<dt> <kbd>q</kbd></dt>
<dd><p>Request <code>tar</code> to exit immediately.
</p></dd>
<dt> <kbd>n <var>file-name</var></kbd></dt>
<dd><p>Request <code>tar</code> to write the next volume on the file <var>file-name</var>.
</p></dd>
<dt> <kbd>!</kbd></dt>
<dd><p>Request <code>tar</code> to run a subshell.  This option can be disabled
by giving <samp>`--restrict'</samp> command line option to
<code>tar</code><a name="DOCF27" href="#FOOT27">(27)</a>.
</p></dd>
<dt> <kbd>y</kbd></dt>
<dd><p>Request <code>tar</code> to begin writing the next volume.
</p></dd>
</dl>

<p>(You should only type <samp>`y'</samp> after you have changed the tape;
otherwise <code>tar</code> will write over the volume it just finished.)
</p>
<a name="IDX568"></a>
<a name="IDX569"></a>
<p><a name="volno_002dfile"></a>
<a name="IDX570"></a>
The volume number used by <code>tar</code> in its tape-changing prompt
can be changed; if you give the
<samp>`--volno-file=<var>file-of-number</var>'</samp> option, then
<var>file-of-number</var> should be an non-existing file to be created, or
else, a file already containing a decimal number.  That number will be
used as the volume number of the first volume written.  When
<code>tar</code> is finished, it will rewrite the file with the
now-current volume number. (This does not change the volume number
written on a tape label, as per <a href="#SEC168">Including a Label in the Archive</a>, it <em>only</em> affects
the number used in the prompt.)
</p>
<a name="IDX571"></a>
<a name="IDX572"></a>
<p><a name="info_002dscript"></a>
<a name="IDX573"></a>
<a name="IDX574"></a>
If you want more elaborate behavior than this, you can write a special
<em>new volume script</em>, that will be responsible for changing the
volume, and instruct <code>tar</code> to use it instead of its normal
prompting procedure:
</p>
<dl compact="compact">
<dt> <samp>`--info-script=<var>command</var>'</samp></dt>
<dt> <samp>`--new-volume-script=<var>command</var>'</samp></dt>
<dt> <samp>`-F <var>command</var>'</samp></dt>
<dd><p>Specify the command to invoke when switching volumes.  The <var>command</var>
can be used to eject cassettes, or to broadcast messages such as
<samp>`Someone please come change my tape'</samp> when performing unattended
backups.
</p></dd>
</dl>

<p>The <var>command</var> can contain additional options, if such are needed.
See section <a href="#SEC55">Running External Commands</a>, for a detailed discussion
of the way <acronym>GNU</acronym> <code>tar</code> runs external commands.  It inherits
<code>tar</code>'s shell environment.  Additional data is passed to it
via the following environment variables:
</p>
<dl compact="compact">
<dt> <code>TAR_VERSION</code></dt>
<dd><p><acronym>GNU</acronym> <code>tar</code> version number.
</p>
</dd>
<dt> <code>TAR_ARCHIVE</code></dt>
<dd><p>The name of the archive <code>tar</code> is processing.
</p>
</dd>
<dt> <code>TAR_BLOCKING_FACTOR</code></dt>
<dd><p>Current blocking factor (see section <a href="#SEC158">Blocking</a>).
</p>
</dd>
<dt> <code>TAR_VOLUME</code></dt>
<dd><p>Ordinal number of the volume <code>tar</code> is about to start.
</p>
</dd>
<dt> <code>TAR_SUBCOMMAND</code></dt>
<dd><p>A short option describing the operation <code>tar</code> is executing.
See section <a href="#SEC59">The Five Advanced <code>tar</code> Operations</a>, for a complete list of subcommand options.
</p>
</dd>
<dt> <code>TAR_FORMAT</code></dt>
<dd><p>Format of the archive being processed. See section <a href="#SEC133">Controlling the Archive Format</a>, for a complete
list of archive format names.
</p>
</dd>
<dt> <code>TAR_FD</code></dt>
<dd><p>File descriptor which can be used to communicate the new volume
name to <code>tar</code>.
</p></dd>
</dl>

<p>These variables can be used in the <var>command</var> itself, provided that
they are properly quoted to prevent them from being expanded by the
shell that invokes <code>tar</code>.
</p>
<p>The volume script can instruct <code>tar</code> to use new archive name,
by writing in to file descriptor <code>$TAR_FD</code> (see below for an example).
</p>
<p>If the info script fails, <code>tar</code> exits; otherwise, it begins
writing the next volume.
</p>
<p>If you want <code>tar</code> to cycle through a series of files or tape
drives, there are three approaches to choose from.  First of all, you
can give <code>tar</code> multiple <samp>`--file'</samp> options.  In this case
the specified files will be used, in sequence, as the successive
volumes of the archive.  Only when the first one in the sequence needs
to be used again will <code>tar</code> prompt for a tape change (or run
the info script).  For example, suppose someone has two tape drives on
a system named <tt>`/dev/tape0'</tt> and <tt>`/dev/tape1'</tt>.  For having
<acronym>GNU</acronym> <code>tar</code> to switch to the second drive when it needs to write the
second tape, and then back to the first tape, etc., just do either of:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --create --multi-volume --file=/dev/tape0 --file=/dev/tape1 <var>files</var></kbd>
$ <kbd>tar -cM -f /dev/tape0 -f /dev/tape1 <var>files</var></kbd>
</pre></td></tr></table>
<p>The second method is to use the <samp>`n'</samp> response to the tape-change
prompt.
</p>
<p>Finally, the most flexible approach is to use a volume script, that
writes new archive name to the file descriptor <code>$TAR_FD</code>.  For example, the
following volume script will create a series of archive files, named
<tt>`<var>archive</var>-<var>vol</var>'</tt>, where <var>archive</var> is the name of the
archive being created (as given by <samp>`--file'</samp> option) and
<var>vol</var> is the ordinal number of the archive being created:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">#! /bin/bash
# For this script it's advisable to use a shell, such as Bash,
# that supports a TAR_FD value greater than 9.

echo Preparing volume $TAR_VOLUME of $TAR_ARCHIVE.

name=`expr $TAR_ARCHIVE : '\(.*\)-.*'`
case $TAR_SUBCOMMAND in
-c)       ;;
-d|-x|-t) test -r ${name:-$TAR_ARCHIVE}-$TAR_VOLUME || exit 1
          ;;
*)        exit 1
esac

echo ${name:-$TAR_ARCHIVE}-$TAR_VOLUME &gt;&amp;$TAR_FD
</pre></td></tr></table>
<p>The same script can be used while listing, comparing or extracting
from the created archive.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"># Create a multi-volume archive:
$ <kbd>tar -c -L1024 -f archive.tar -F new-volume .</kbd>
# Extract from the created archive:
$ <kbd>tar -x -f archive.tar -F new-volume .</kbd>
</pre></td></tr></table>

<p>Notice, that the first command had to use <samp>`-L'</samp> option, since
otherwise <acronym>GNU</acronym> <code>tar</code> will end up writing everything to file
<tt>`archive.tar'</tt>.
</p>
<p>You can read each individual volume of a multi-volume archive as if it
were an archive by itself.  For example, to list the contents of one
volume, use <samp>`--list'</samp>, without <samp>`--multi-volume'</samp> specified.
To extract an archive member from one volume (assuming it is described
that volume), use <samp>`--extract'</samp>, again without
<samp>`--multi-volume'</samp>.
</p>
<p>If an archive member is split across volumes (i.e., its entry begins on
one volume of the media and ends on another), you need to specify
<samp>`--multi-volume'</samp> to extract it successfully.  In this case, you
should load the volume where the archive member starts, and use
<samp>`tar --extract --multi-volume'</samp>--<code>tar</code> will prompt for later
volumes as it needs them.  See section <a href="#SEC26">Extracting an Entire Archive</a>, for more
information about extracting archives.
</p>
<p>Multi-volume archives can be modified like any other archive.  To add
files to a multi-volume archive, you need to only mount the last
volume of the archive media (and new volumes, if needed).  For all
other operations, you need to use the entire archive.
</p>
<p>If a multi-volume archive was labeled using
<samp>`--label=<var>archive-label</var>'</samp> (see section <a href="#SEC168">Including a Label in the Archive</a>) when it was
created, <code>tar</code> will not automatically label volumes which are
added later.  To label subsequent volumes, specify
<samp>`--label=<var>archive-label</var>'</samp> again in conjunction with the
<samp>`--append'</samp>, <samp>`--update'</samp> or <samp>`--concatenate'</samp> operation.
</p>
<p>Notice that multi-volume support is a GNU extension and the archives
created in this mode should be read only using <acronym>GNU</acronym> <code>tar</code>.  If you
absolutely have to process such archives using a third-party <code>tar</code>
implementation, read <a href="#SEC151">Extracting Members Split Between Volumes</a>.
</p>
<hr size="6">
<a name="Tape-Files"></a>
<a name="SEC166"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC165" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC167" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 9.6.2 Tape Files </h3>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>To give the archive a name which will be recorded in it, use the
<samp>`--label=<var>volume-label</var>'</samp> (<samp>`-V <var>volume-label</var>'</samp>)
option.  This will write a special block identifying
<var>volume-label</var> as the name of the archive to the front of the
archive which will be displayed when the archive is listed with
<samp>`--list'</samp>.  If you are creating a multi-volume archive with
<samp>`--multi-volume'</samp> (see section <a href="#SEC164">Using Multiple Tapes</a>), then the
volume label will have <samp>`Volume <var>nnn</var>'</samp> appended to the name
you give, where <var>nnn</var> is the number of the volume of the archive.
If you use the <samp>`--label=<var>volume-label</var>'</samp> option when
reading an archive, it checks to make sure the label on the tape
matches the one you gave.  See section <a href="#SEC168">Including a Label in the Archive</a>.
</p>
<p>When <code>tar</code> writes an archive to tape, it creates a single
tape file.  If multiple archives are written to the same tape, one
after the other, they each get written as separate tape files.  When
extracting, it is necessary to position the tape at the right place
before running <code>tar</code>.  To do this, use the <code>mt</code> command.
For more information on the <code>mt</code> command and on the organization
of tapes into a sequence of tape files, see <a href="#SEC163">The <code>mt</code> Utility</a>.
</p>
<p>People seem to often do:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>--label=&quot;<var>some-prefix</var> `date +<var>some-format</var>`&quot;</kbd>
</pre></td></tr></table>
<p>or such, for pushing a common date in all volumes or an archive set.
</p>
<hr size="6">
<a name="Tarcat"></a>
<a name="SEC167"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC166" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC168" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC164" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 9.6.3 Concatenate Volumes into a Single Archive </h3>

<p>  Sometimes it is necessary to convert existing <acronym>GNU</acronym> <code>tar</code> multi-volume
archive to a single <code>tar</code> archive.  Simply concatenating all
volumes into one will not work, since each volume carries an additional
information at the beginning.  <acronym>GNU</acronym> <code>tar</code> is shipped with the shell
script <code>tarcat</code> designed for this purpose.
</p>
<p>  The script takes a list of files comprising a multi-volume archive
and creates the resulting archive at the standard output.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><kbd>tarcat vol.1 vol.2 vol.3 | tar tf -</kbd>
</pre></td></tr></table>
<p>  The script implements a simple heuristics to determine the format of
the first volume file and to decide how to process the rest of the
files.  However, it makes no attempt to verify whether the files are
given in order or even if they are valid <code>tar</code> archives.
It uses <code>dd</code> and does not filter its standard error, so you
will usually see lots of spurious messages.
</p>
<p>See <cite>The script is not installed.  Should we install it?</cite>
</p>

<hr size="6">
<a name="label"></a>
<a name="SEC168"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC167" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC169" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.7 Including a Label in the Archive </h2>

<p>  To avoid problems caused by misplaced paper labels on the archive
media, you can include a <em>label</em> entry -- an archive member which
contains the name of the archive -- in the archive itself.  Use the
<samp>`--label=<var>archive-label</var>'</samp> (<samp>`-V <var>archive-label</var>'</samp>)
option<a name="DOCF28" href="#FOOT28">(28)</a> in
conjunction with the <samp>`--create'</samp> operation to include a label
entry in the archive as it is being created.
</p>
<dl compact="compact">
<dt> <samp>`--label=<var>archive-label</var>'</samp></dt>
<dt> <samp>`-V <var>archive-label</var>'</samp></dt>
<dd><p>Includes an <em>archive-label</em> at the beginning of the archive when
the archive is being created, when used in conjunction with the
<samp>`--create'</samp> operation.  Checks to make sure the archive label
matches the one specified (when used in conjunction with any other
operation).
</p></dd>
</dl>

<p>  If you create an archive using both
<samp>`--label=<var>archive-label</var>'</samp> (<samp>`-V <var>archive-label</var>'</samp>)
and <samp>`--multi-volume'</samp> (<samp>`-M'</samp>), each volume of the archive
will have an archive label of the form <samp>`<var>archive-label</var>
Volume <var>n</var>'</samp>, where <var>n</var> is 1 for the first volume, 2 for the
next, and so on. See section <a href="#SEC164">Using Multiple Tapes</a>, for information on
creating multiple volume archives.
</p>
<a name="IDX575"></a>
<a name="IDX576"></a>
<p>  The volume label will be displayed by <samp>`--list'</samp> along with
the file contents.  If verbose display is requested, it will also be
explicitly marked as in the example below:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --verbose --list --file=iamanarchive</kbd>
V--------- 0/0               0 1992-03-07 12:01 iamalabel--Volume Header--
-rw-r--r-- ringo/user       40 1990-05-21 13:30 iamafilename
</pre></td></tr></table>
<a name="IDX577"></a>
<p><a name="g_t_002d_002dtest_002dlabel-option"></a>
  However, <samp>`--list'</samp> option will cause listing entire
contents of the archive, which may be undesirable (for example, if the
archive is stored on a tape).  You can request checking only the volume
label by specifying <samp>`--test-label'</samp> option.  This option reads only the
first block of an archive, so it can be used with slow storage
devices.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --test-label --file=iamanarchive</kbd>
iamalabel
</pre></td></tr></table>
<p>  If <samp>`--test-label'</samp> is used with one or more command line
arguments, <code>tar</code> compares the volume label with each
argument.  It exits with code 0 if a match is found, and with code 1
otherwise<a name="DOCF29" href="#FOOT29">(29)</a>.  No output is displayed, unless you also used the
<samp>`--verbose'</samp> option.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --test-label --file=iamanarchive 'iamalabel'</kbd>
&rArr; 0
$ <kbd>tar --test-label --file=iamanarchive 'alabel'</kbd>
&rArr; 1
</pre></td></tr></table>
<p>  When used with the <samp>`--verbose'</samp> option, <code>tar</code>
prints the actual volume label (if any), and a verbose diagnostics in
case of a mismatch:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --test-label --verbose --file=iamanarchive 'iamalabel'</kbd>
iamalabel
&rArr; 0
$ <kbd>tar --test-label --verbose --file=iamanarchive 'alabel'</kbd>
iamalabel
tar: Archive label mismatch
&rArr; 1
</pre></td></tr></table>
<p>  If you request any operation, other than <samp>`--create'</samp>, along
with using <samp>`--label'</samp> option, <code>tar</code> will first check if
the archive label matches the one specified and will refuse to proceed
if it does not.  Use this as a safety precaution to avoid accidentally
overwriting existing archives.  For example, if you wish to add files
to <tt>`archive'</tt>, presumably labeled with string <samp>`My volume'</samp>,
you will get:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -rf archive --label 'My volume' .</kbd>
tar: Archive not labeled to match 'My volume'
</pre></td></tr></table>

<p>in case its label does not match.  This will work even if
<tt>`archive'</tt> is not labeled at all.
</p>
<p>  Similarly, <code>tar</code> will refuse to list or extract the
archive if its label doesn't match the <var>archive-label</var>
specified.  In those cases, <var>archive-label</var> argument is interpreted
as a globbing-style pattern which must match the actual magnetic
volume label.  See section <a href="#SEC110">Excluding Some Files</a>, for a precise description of how match
is attempted<a name="DOCF30" href="#FOOT30">(30)</a>.  If the switch <samp>`--multi-volume'</samp> (<samp>`-M'</samp>) is being used,
the volume label matcher will also suffix <var>archive-label</var> by
<samp>` Volume [1-9]*'</samp> if the initial match fails, before giving
up.  Since the volume numbering is automatically added in labels at
creation time, it sounded logical to equally help the user taking care
of it when the archive is being read.
</p>
<p>  You can also use <samp>`--label'</samp> to get a common information on
all tapes of a series.  For having this information different in each
series created through a single script used on a regular basis, just
manage to get some date string as part of the label.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -cM -f /dev/tape -V &quot;Daily backup for `date +%Y-%m-%d`&quot;</kbd>
$ <kbd>tar --create --file=/dev/tape --multi-volume \
     --label=&quot;Daily backup for `date +%Y-%m-%d`&quot;</kbd>
</pre></td></tr></table>
<p>  Some more notes about volume labels:
</p>
<ul>
<li> Each label has its own date and time, which corresponds
to the time when <acronym>GNU</acronym> <code>tar</code> initially attempted to write it,
often soon after the operator launches <code>tar</code> or types the
carriage return telling that the next tape is ready.

</li><li> Comparing date labels to get an idea of tape throughput is
unreliable.  It gives correct results only if the delays for rewinding
tapes and the operator switching them were negligible, which is
usually not the case.
</li></ul>

<hr size="6">
<a name="verify"></a>
<a name="SEC169"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC168" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC170" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.8 Verifying Data as It is Stored </h2>

<dl compact="compact">
<dt> <samp>`-W'</samp></dt>
<dt> <samp>`--verify'</samp></dt>
<dd><a name="IDX578"></a>
<p>Attempt to verify the archive after writing.
</p></dd>
</dl>

<p>This option causes <code>tar</code> to verify the archive after writing it.
Each volume is checked after it is written, and any discrepancies
are recorded on the standard error output.
</p>
<p>Verification requires that the archive be on a back-space-able medium.
This means pipes, some cartridge tape drives, and some other devices
cannot be verified.
</p>
<p>You can insure the accuracy of an archive by comparing files in the
system with archive members.  <code>tar</code> can compare an archive to the
file system as the archive is being written, to verify a write
operation, or can compare a previously written archive, to insure that
it is up to date.
</p>
<a name="IDX579"></a>
<a name="IDX580"></a>
<p>To check for discrepancies in an archive immediately after it is
written, use the <samp>`--verify'</samp> (<samp>`-W'</samp>) option in conjunction with
the <samp>`--create'</samp> operation.  When this option is
specified, <code>tar</code> checks archive members against their counterparts
in the file system, and reports discrepancies on the standard error.
</p>
<p>To verify an archive, you must be able to read it from before the end
of the last written entry.  This option is useful for detecting data
errors on some tapes.  Archives written to pipes, some cartridge tape
drives, and some other devices cannot be verified.
</p>
<p>One can explicitly compare an already made archive with the file
system by using the <samp>`--compare'</samp> (<samp>`--diff'</samp>, <samp>`-d'</samp>)
option, instead of using the more automatic <samp>`--verify'</samp> option.
See section <a href="#SEC67">Comparing Archive Members with the File System</a>.
</p>
<p>Note that these two options have a slightly different intent.  The
<samp>`--compare'</samp> option checks how identical are the logical contents of some
archive with what is on your disks, while the <samp>`--verify'</samp> option is
really for checking if the physical contents agree and if the recording
media itself is of dependable quality.  So, for the <samp>`--verify'</samp>
operation, <code>tar</code> tries to defeat all in-memory cache pertaining to
the archive, while it lets the speed optimization undisturbed for the
<samp>`--compare'</samp> option.  If you nevertheless use <samp>`--compare'</samp> for
media verification, you may have to defeat the in-memory cache yourself,
maybe by opening and reclosing the door latch of your recording unit,
forcing some doubt in your operating system about the fact this is really
the same volume as the one just written or read.
</p>
<p>The <samp>`--verify'</samp> option would not be necessary if drivers were indeed
able to detect dependably all write failures.  This sometimes require many
magnetic heads, some able to read after the writes occurred.  One would
not say that drivers unable to detect all cases are necessarily flawed,
as long as programming is concerned.
</p>
<p>The <samp>`--verify'</samp> (<samp>`-W'</samp>) option will not work in
conjunction with the <samp>`--multi-volume'</samp> (<samp>`-M'</samp>) option or
the <samp>`--append'</samp> (<samp>`-r'</samp>), <samp>`--update'</samp> (<samp>`-u'</samp>)
and <samp>`--delete'</samp> operations.  See section <a href="#SEC59">The Five Advanced <code>tar</code> Operations</a>, for more
information on these operations.
</p>
<p>Also, since <code>tar</code> normally strips leading <samp>`/'</samp> from file
names (see section <a href="#SEC120">Absolute File Names</a>), a command like <samp>`tar --verify -cf
/tmp/foo.tar /etc'</samp> will work as desired only if the working directory is
<tt>`/'</tt>, as <code>tar</code> uses the archive's relative member names
(e.g., <tt>`etc/motd'</tt>) when verifying the archive.
</p>
<hr size="6">
<a name="Write-Protection"></a>
<a name="SEC170"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC169" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC154" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 9.9 Write Protection </h2>

<p>Almost all tapes and diskettes, and in a few rare cases, even disks can
be <em>write protected</em>, to protect data on them from being changed.
Once an archive is written, you should write protect the media to prevent
the archive from being accidentally overwritten or deleted.  (This will
protect the archive from being changed with a tape or floppy drive--it
will not protect it from magnet fields or other physical hazards.)
</p>
<p>The write protection device itself is usually an integral part of the
physical media, and can be a two position (write enabled/write
disabled) switch, a notch which can be popped out or covered, a ring
which can be removed from the center of a tape reel, or some other
changeable feature.
</p>
<hr size="6">
<a name="Reliability-and-security"></a>
<a name="SEC171"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC170" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC172" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC154" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 10. Reliability and Security </h1>

<p>The <code>tar</code> command reads and writes files as any other
application does, and is subject to the usual caveats about
reliability and security.  This section contains some commonsense
advice on the topic.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC172">10.1 Reliability</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC176">10.2 Security</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Reliability"></a>
<a name="SEC172"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC171" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC173" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.1 Reliability </h2>

<p>Ideally, when <code>tar</code> is creating an archive, it reads from a
file system that is not being modified, and encounters no errors or
inconsistencies while reading and writing.  If this is the case, the
archive should faithfully reflect what was read.  Similarly, when
extracting from an archive, ideally <code>tar</code> ideally encounters
no errors and the extracted files faithfully reflect what was in the
archive.
</p>
<p>However, when reading or writing real-world file systems, several
things can go wrong; these include permissions problems, corruption of
data, and race conditions.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC173">10.1.1 Permissions Problems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC174">10.1.2 Data Corruption and Repair</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC175">10.1.3 Race conditions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Permissions-problems"></a>
<a name="SEC173"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC172" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC174" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC172" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 10.1.1 Permissions Problems </h3>

<p>If <code>tar</code> encounters errors while reading or writing files, it
normally reports an error and exits with nonzero status.  The work it
does may therefore be incomplete.  For example, when creating an
archive, if <code>tar</code> cannot read a file then it cannot copy the
file into the archive.
</p>
<hr size="6">
<a name="Data-corruption-and-repair"></a>
<a name="SEC174"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC173" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC175" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC172" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 10.1.2 Data Corruption and Repair </h3>

<p>If an archive becomes corrupted by an I/O error, this may corrupt the
data in an extracted file.  Worse, it may corrupt the file's metadata,
which may cause later parts of the archive to become misinterpreted.
An tar-format archive contains a checksum that most likely will detect
errors in the metadata, but it will not detect errors in the data.
</p>
<p>If data corruption is a concern, you can compute and check your own
checksums of an archive by using other programs, such as
<code>cksum</code>.
</p>
<p>When attempting to recover from a read error or data corruption in an
archive, you may need to skip past the questionable data and read the
rest of the archive.  This requires some expertise in the archive
format and in other software tools.
</p>
<hr size="6">
<a name="Race-conditions"></a>
<a name="SEC175"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC174" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC172" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 10.1.3 Race conditions </h3>

<p>If some other process is modifying the file system while <code>tar</code>
is reading or writing files, the result may well be inconsistent due
to race conditions.  For example, if another process creates some
files in a directory while <code>tar</code> is creating an archive
containing the directory's files, <code>tar</code> may see some of the
files but not others, or it may see a file that is in the process of
being created.  The resulting archive may not be a snapshot of the
file system at any point in time.  If an application such as a
database system depends on an accurate snapshot, restoring from the
<code>tar</code> archive of a live file system may therefore break that
consistency and may break the application.  The simplest way to avoid
the consistency issues is to avoid making other changes to the file
system while tar is reading it or writing it.
</p>
<p>When creating an archive, several options are available to avoid race
conditions.  Some hosts have a way of snapshotting a file system, or
of temporarily suspending all changes to a file system, by (say)
suspending the only virtual machine that can modify a file system; if
you use these facilities and have <code>tar -c</code> read from a
snapshot when creating an archive, you can avoid inconsistency
problems.  More drastically, before starting <code>tar</code> you could
suspend or shut down all processes other than <code>tar</code> that have
access to the file system, or you could unmount the file system and
then mount it read-only.
</p>
<p>When extracting from an archive, one approach to avoid race conditions
is to create a directory that no other process can write to, and
extract into that.
</p>
<hr size="6">
<a name="Security"></a>
<a name="SEC176"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC175" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC177" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC171" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.2 Security </h2>

<p>In some cases <code>tar</code> may be used in an adversarial situation,
where an untrusted user is attempting to gain information about or
modify otherwise-inaccessible files.  Dealing with untrusted data
(that is, data generated by an untrusted user) typically requires
extra care, because even the smallest mistake in the use of
<code>tar</code> is more likely to be exploited by an adversary than by a
race condition.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC177">10.2.1 Privacy</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC178">10.2.2 Integrity</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC179">10.2.3 Dealing with Live Untrusted Data</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC180">10.2.4 Security Rules of Thumb</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Privacy"></a>
<a name="SEC177"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC176" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC178" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 10.2.1 Privacy </h3>

<p>Standard privacy concerns apply when using <code>tar</code>.  For
example, suppose you are archiving your home directory into a file
<tt>`/archive/myhome.tar'</tt>.  Any secret information in your home
directory, such as your SSH secret keys, are copied faithfully into
the archive.  Therefore, if your home directory contains any file that
should not be read by some other user, the archive itself should be
not be readable by that user.  And even if the archive's data are
inaccessible to untrusted users, its metadata (such as size or
last-modified date) may reveal some information about your home
directory; if the metadata are intended to be private, the archive's
parent directory should also be inaccessible to untrusted users.
</p>
<p>One precaution is to create <tt>`/archive'</tt> so that it is not
accessible to any user, unless that user also has permission to access
all the files in your home directory.
</p>
<p>Similarly, when extracting from an archive, take care that the
permissions of the extracted files are not more generous than what you
want.  Even if the archive itself is readable only to you, files
extracted from it have their own permissions that may differ.
</p>
<hr size="6">
<a name="Integrity"></a>
<a name="SEC178"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC177" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC179" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 10.2.2 Integrity </h3>

<p>When creating archives, take care that they are not writable by a
untrusted user; otherwise, that user could modify the archive, and
when you later extract from the archive you will get incorrect data.
</p>
<p>When <code>tar</code> extracts from an archive, by default it writes into
files relative to the working directory.  If the archive was generated
by an untrusted user, that user therefore can write into any file
under the working directory.  If the working directory contains a
symbolic link to another directory, the untrusted user can also write
into any file under the referenced directory.  When extracting from an
untrusted archive, it is therefore good practice to create an empty
directory and run <code>tar</code> in that directory.
</p>
<p>When extracting from two or more untrusted archives, each one should
be extracted independently, into different empty directories.
Otherwise, the first archive could create a symbolic link into an area
outside the working directory, and the second one could follow the
link and overwrite data that is not under the working directory.  For
example, when restoring from a series of incremental dumps, the
archives should have been created by a trusted process, as otherwise
the incremental restores might alter data outside the working
directory.
</p>
<p>If you use the <samp>`--absolute-names'</samp> (<samp>`-P'</samp>) option when
extracting, <code>tar</code> respects any file names in the archive, even
file names that begin with <tt>`/'</tt> or contain <tt>`..'</tt>.  As this
lets the archive overwrite any file in your system that you can write,
the <samp>`--absolute-names'</samp> (<samp>`-P'</samp>) option should be used only
for trusted archives.
</p>
<p>Conversely, with the <samp>`--keep-old-files'</samp> (<samp>`-k'</samp>) and
<samp>`--skip-old-files'</samp> options, <code>tar</code> refuses to replace
existing files when extracting.  The difference between the two
options is that the former treats existing files as errors whereas the
latter just silently ignores them.
</p>
<p>Finally, with the <samp>`--no-overwrite-dir'</samp> option, <code>tar</code>
refuses to replace the permissions or ownership of already-existing
directories.  These options may help when extracting from untrusted
archives.
</p>
<hr size="6">
<a name="Live-untrusted-data"></a>
<a name="SEC179"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC178" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC180" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 10.2.3 Dealing with Live Untrusted Data </h3>

<p>Extra care is required when creating from or extracting into a file
system that is accessible to untrusted users.  For example, superusers
who invoke <code>tar</code> must be wary about its actions being hijacked
by an adversary who is reading or writing the file system at the same
time that <code>tar</code> is operating.
</p>
<p>When creating an archive from a live file system, <code>tar</code> is
vulnerable to denial-of-service attacks.  For example, an adversarial
user could create the illusion of an indefinitely-deep directory
hierarchy <tt>`d/e/f/g/...'</tt> by creating directories one step ahead of
<code>tar</code>, or the illusion of an indefinitely-long file by
creating a sparse file but arranging for blocks to be allocated just
before <code>tar</code> reads them.  There is no easy way for
<code>tar</code> to distinguish these scenarios from legitimate uses, so
you may need to monitor <code>tar</code>, just as you'd need to monitor
any other system service, to detect such attacks.
</p>
<p>While a superuser is extracting from an archive into a live file
system, an untrusted user might replace a directory with a symbolic
link, in hopes that <code>tar</code> will follow the symbolic link and
extract data into files that the untrusted user does not have access
to.  Even if the archive was generated by the superuser, it may
contain a file such as <tt>`d/etc/passwd'</tt> that the untrusted user
earlier created in order to break in; if the untrusted user replaces
the directory <tt>`d/etc'</tt> with a symbolic link to <tt>`/etc'</tt> while
<code>tar</code> is running, <code>tar</code> will overwrite
<tt>`/etc/passwd'</tt>.  This attack can be prevented by extracting into a
directory that is inaccessible to untrusted users.
</p>
<p>Similar attacks via symbolic links are also possible when creating an
archive, if the untrusted user can modify an ancestor of a top-level
argument of <code>tar</code>.  For example, an untrusted user that can
modify <tt>`/home/eve'</tt> can hijack a running instance of <samp>`tar -cf
- /home/eve/Documents/yesterday'</samp> by replacing
<tt>`/home/eve/Documents'</tt> with a symbolic link to some other
location.  Attacks like these can be prevented by making sure that
untrusted users cannot modify any files that are top-level arguments
to <code>tar</code>, or any ancestor directories of these files.
</p>
<hr size="6">
<a name="Security-rules-of-thumb"></a>
<a name="SEC180"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC179" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC176" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC181" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 10.2.4 Security Rules of Thumb </h3>

<p>This section briefly summarizes rules of thumb for avoiding security
pitfalls.
</p>
<ul>
<li>
Protect archives at least as much as you protect any of the files
being archived.

</li><li>
Extract from an untrusted archive only into an otherwise-empty
directory.  This directory and its parent should be accessible only to
trusted users.  For example:

<table><tr><td>&nbsp;</td><td><pre class="example">$ <kbd>chmod go-rwx .</kbd>
$ <kbd>mkdir -m go-rwx dir</kbd>
$ <kbd>cd dir</kbd>
$ <kbd>tar -xvf /archives/got-it-off-the-net.tar.gz</kbd>
</pre></td></tr></table>
<p>As a corollary, do not do an incremental restore from an untrusted archive.
</p>
</li><li>
Do not let untrusted users access files extracted from untrusted
archives without checking first for problems such as setuid programs.

</li><li>
Do not let untrusted users modify directories that are ancestors of
top-level arguments of <code>tar</code>.  For example, while you are
executing <samp>`tar -cf /archive/u-home.tar /u/home'</samp>, do not let an
untrusted user modify <tt>`/'</tt>, <tt>`/archive'</tt>, or <tt>`/u'</tt>.

</li><li>
Pay attention to the diagnostics and exit status of <code>tar</code>.

</li><li>
When archiving live file systems, monitor running instances of
<code>tar</code> to detect denial-of-service attacks.

</li><li>
Avoid unusual options such as <samp>`--absolute-names'</samp> (<samp>`-P'</samp>),
<samp>`--dereference'</samp> (<samp>`-h'</samp>), <samp>`--overwrite'</samp>,
<samp>`--recursive-unlink'</samp>, and <samp>`--remove-files'</samp> unless you
understand their security implications.

</li></ul>

<hr size="6">
<a name="Changes"></a>
<a name="SEC181"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC180" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC182" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC171" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC182" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> A. Changes </h1>

<p>This appendix lists some important user-visible changes between
various versions of <acronym>GNU</acronym> <code>tar</code>. An up-to-date version of this document
is available at
<a href="http://www.gnu.org/software/tar/manual/changes.html">the <acronym>GNU</acronym> <code>tar</code> documentation page</a>.
</p>
<dl compact="compact">
<dt> Use of globbing patterns when listing and extracting.</dt>
<dd>
<p>Previous versions of GNU tar assumed shell-style globbing when
extracting from or listing an archive.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar xf foo.tar '*.c'</kbd>
</pre></td></tr></table>
<p>would extract all files whose names end in <samp>`.c'</samp>.  This behavior
was not documented and was incompatible with traditional tar
implementations.  Therefore, starting from version 1.15.91, GNU tar
no longer uses globbing by default.  For example, the above invocation
is now interpreted as a request to extract from the archive the file
named <tt>`*.c'</tt>.
</p>
<p>To facilitate transition to the new behavior for those users who got
used to the previous incorrect one, <code>tar</code> will print a warning
if it finds out that a requested member was not found in the archive
and its name looks like a globbing pattern.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar xf foo.tar  '*.c'</kbd>
tar: Pattern matching characters used in file names. Please,
tar: use --wildcards to enable pattern matching, or --no-wildcards to
tar: suppress this warning.
tar: *.c: Not found in archive
tar: Error exit delayed from previous errors
</pre></td></tr></table>
<p>To treat member names as globbing patterns, use the <samp>`--wildcards'</samp> option.
If you want to tar to mimic the behavior of versions prior to 1.15.91,
add this option to your <code>TAR_OPTIONS</code> variable.
</p>
<p>See section <a href="#SEC112">Wildcards Patterns and Matching</a>, for the detailed discussion of the use of globbing
patterns by <acronym>GNU</acronym> <code>tar</code>.
</p>
</dd>
<dt> Use of short option <samp>`-o'</samp>.</dt>
<dd>
<p>Earlier versions of <acronym>GNU</acronym> <code>tar</code> understood <samp>`-o'</samp> command line
option as a synonym for <samp>`--old-archive'</samp>.
</p>
<p><acronym>GNU</acronym> <code>tar</code> starting from version 1.13.90 understands this option as
a synonym for <samp>`--no-same-owner'</samp>.  This is compatible with
UNIX98 <code>tar</code> implementations.
</p>
<p>However, to facilitate transition, <samp>`-o'</samp> option retains its
old semantics when it is used with one of archive-creation commands.
Users are encouraged to use <samp>`--format=oldgnu'</samp> instead.
</p>
<p>It is especially important, since versions of <acronym>GNU</acronym> Automake
up to and including 1.8.4 invoke tar with this option to produce
distribution tarballs.  See section <a href="#SEC133">v7</a>, for the detailed discussion
of this issue and its implications.
</p>
<p>See <a href="${GS}/automake/manual/automake.html#Options">tar-formats: (automake)Options</a> section `Changing Automake's Behavior' in <cite>GNU Automake</cite>, for a description on how to use various
archive formats with <code>automake</code>.
</p>
<p>Future versions of <acronym>GNU</acronym> <code>tar</code> will understand <samp>`-o'</samp> only as a
synonym for <samp>`--no-same-owner'</samp>.
</p>
</dd>
<dt> Use of short option <samp>`-l'</samp></dt>
<dd>
<p>Earlier versions of <acronym>GNU</acronym> <code>tar</code> understood <samp>`-l'</samp> option as a
synonym for <samp>`--one-file-system'</samp>.  Since such usage contradicted
to UNIX98 specification and harmed compatibility with other
implementations, it was declared deprecated in version 1.14.  However,
to facilitate transition to its new semantics, it was supported by
versions 1.15 and 1.15.90.  The present use of <samp>`-l'</samp> as a short
variant of <samp>`--check-links'</samp> was introduced in version 1.15.91.
</p>
</dd>
<dt> Use of options <samp>`--portability'</samp> and <samp>`--old-archive'</samp></dt>
<dd>
<p>These options are deprecated.  Please use <samp>`--format=v7'</samp> instead.
</p>
</dd>
<dt> Use of option <samp>`--posix'</samp></dt>
<dd>
<p>This option is deprecated.  Please use <samp>`--format=posix'</samp> instead.
</p></dd>
</dl>

<hr size="6">
<a name="Recipes"></a>
<a name="SEC182"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC181" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC183" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC181" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC185" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> B. Recipes </h1>


<p>This appendix provides several recipes for performing common tasks
using <acronym>GNU</acronym> <code>tar</code>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC183">B.1 Copying directory hierarchies</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC184">B.2 Restoring Intermediate Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="copy-directory-hierarchy"></a>
<a name="SEC183"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC182" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC184" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC182" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC182" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC185" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="appendixsec"> B.1 Copying directory hierarchies </h2>

<p>This is a traditional way to copy a directory hierarchy preserving
the dates, modes, owners and link-structure of all the files therein.
It was used back when the <code>cp</code> command lacked the <samp>`-a'</samp>
option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>(cd sourcedir; tar -cf - .) | (cd targetdir; tar -xf -)</kbd>
</pre></td></tr></table>

<p>You can avoid subshells by using <samp>`-C'</samp> option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar -C sourcedir -cf - . | tar -C targetdir -xf -</kbd>
</pre></td></tr></table>

<p>The same command using long option forms:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>(cd sourcedir; tar --create --file=- . ) \
       | (cd targetdir; tar --extract --file=-)</kbd>
</pre></td></tr></table>

<p>or
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --directory sourcedir --create --file=- . \
       | tar --directory targetdir --extract --file=-</kbd>
</pre></td></tr></table>
<hr size="6">
<a name="intermediate-directories"></a>
<a name="SEC184"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC183" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC185" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC182" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC182" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC185" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="appendixsec"> B.2 Restoring Intermediate Directories </h2>

<p>A common concern is how to extract permissions and ownerships of
intermediate directories when extracting only selected members from
the archive.  To illustrate this, consider the following archive:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># tar tvf A.tar
drwxr-xr-x root/root         0 2017-11-16 14:39 foo/
dr-xr-x--- gray/user         0 2017-11-16 14:39 foo/bar/
-rw-r--r-- gray/user        10 2017-11-16 14:40 foo/bar/file
</pre></td></tr></table>
<p>Suppose you extract only the file <tt>`foo/bar/file'</tt>, while being
<samp>`root'</samp>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># <kbd>tar xvf A.tar foo/bar/file</kbd>
foo/bar/file
</pre></td></tr></table>
<p>Now, let's inspect the content of the created directories:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># find foo -ls
427257    0 drwxr-xr-x   3 root     root    16 Nov 17 16:10 foo
427258    0 drwxr-xr-x   2 root     root    17 Nov 17 16:10 foo/bar
427259    0 -rw-r--r--   1 gray     user    10 Nov  6 14:40 foo/bar/file
</pre></td></tr></table>
<p>The requested file is restored, including its ownership and
permissions. The intermediate directories, however, are created with
the default permissions, current timestamp and owned by the current
user. This is because by the time <code>tar</code> has reached the requested file,
it had already skipped the entries for its parent directories, so it
has no iformation about their ownership and modes.
</p>
<p>To restore meta information about the intermediate directories,
you'll need to specify them explicitly in the command line and use the
<samp>`--no-recursive'</samp> option (see section <a href="#SEC117">Descending into Directories</a>) to avoid extracting
their content.
</p>
<p>To automate this process, <cite>Neal P. Murphy</cite> proposed the following
shell script<a name="DOCF31" href="#FOOT31">(31)</a>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#! /bin/sh
(while read path
 do
   path=`dirname $path`
   while [ -n &quot;$path&quot; -a &quot;$path&quot; != &quot;.&quot; ]
   do
     echo $path
     path=`dirname $path`
   done
 done &lt; $2 | sort | uniq) |
 tar -x --no-recursion -v -f $1 -T - -T $2
</pre></td></tr></table>
<p>The script takes two arguments: the name of the archive file, and the
name of the file list file.
</p>
<p>To complete our example, the file list will contain single line:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo/bar/file
</pre></td></tr></table>
<p>Supposing its name is <tt>`file.list'</tt> and the script is named
<tt>`restore.sh'</tt>, you can invoke it as follows: 
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># <kbd>sh restore.sh A.tar file.list</kbd>
</pre></td></tr></table>
<hr size="6">
<a name="Configuring-Help-Summary"></a>
<a name="SEC185"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC184" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC186" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC182" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC186" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> C. Configuring Help Summary </h1>

<p>Running <kbd>tar --help</kbd> displays the short <code>tar</code> option
summary (see section <a href="#SEC45"><acronym>GNU</acronym> <code>tar</code> documentation</a>). This summary is organized by <em>groups</em> of
semantically close options. The options within each group are printed
in the following order: a short option, eventually followed by a list
of corresponding long option names, followed by a short description of
the option. For example, here is an excerpt from the actual <kbd>tar
--help</kbd> output:
</p>
<pre class="verbatim"> Main operation mode:

  -A, --catenate, --concatenate   append tar files to an archive
  -c, --create               create a new archive
  -d, --diff, --compare      find differences between archive and
                             file system
      --delete               delete from the archive
</pre>
<p>The exact visual representation of the help output is configurable via
<code>ARGP_HELP_FMT</code> environment variable. The value of this variable
is a comma-separated list of <em>format variable</em> assignments. There
are two kinds of format variables. An <em>offset variable</em> keeps the
offset of some part of help output text from the leftmost column on
the screen. A <em>boolean</em> variable is a flag that toggles some
output feature on or off. Depending on the type of the corresponding
variable, there are two kinds of assignments:
</p>
<dl compact="compact">
<dt> Offset assignment</dt>
<dd>
<p>The assignment to an offset variable has the following syntax:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>variable</var>=<var>value</var>
</pre></td></tr></table>

<p>where <var>variable</var> is the variable name, and <var>value</var> is a
numeric value to be assigned to the variable.
</p>
</dd>
<dt> Boolean assignment</dt>
<dd>
<p>To assign <code>true</code> value to a variable, simply put this variable name. To
assign <code>false</code> value, prefix the variable name with <samp>`no-'</samp>. For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"># Assign <code>true</code> value:
dup-args
# Assign <code>false</code> value:
no-dup-args
</pre></td></tr></table></dd>
</dl>

<p>Following variables are declared:
</p>
<dl>
<dt><u>Help Output:</u> boolean <b>dup-args</b>
<a name="IDX581"></a>
</dt>
<dd><p>If true, arguments for an option are shown with both short and long
options, even when a given option has both forms, for example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  -f ARCHIVE, --file=ARCHIVE use archive file or device ARCHIVE
</pre></td></tr></table>
<p>If false, then if an option has both short and long forms, the
argument is only shown with the long one, for example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  -f, --file=ARCHIVE         use archive file or device ARCHIVE
</pre></td></tr></table>

<p>and a message indicating that the argument is applicable to both
forms is printed below the options. This message can be disabled
using <code>dup-args-note</code> (see below).
</p>
<p>The default is false.
</p></dd></dl>

<dl>
<dt><u>Help Output:</u> boolean <b>dup-args-note</b>
<a name="IDX582"></a>
</dt>
<dd><p>If this variable is true, which is the default, the following notice
is displayed at the end of the help output:
</p>
<blockquote><p>Mandatory or optional arguments to long options are also mandatory or
optional for any corresponding short options.
</p></blockquote>

<p>Setting <code>no-dup-args-note</code> inhibits this message. Normally, only one of
variables <code>dup-args</code> or <code>dup-args-note</code> should be set.
</p></dd></dl>

<dl>
<dt><u>Help Output:</u> offset <b>short-opt-col</b>
<a name="IDX583"></a>
</dt>
<dd><p>Column in which short options start. Default is 2.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --help|grep ARCHIVE</kbd>
  -f, --file=ARCHIVE   use archive file or device ARCHIVE
$ <kbd>ARGP_HELP_FMT=short-opt-col=6 tar --help|grep ARCHIVE</kbd>
      -f, --file=ARCHIVE   use archive file or device ARCHIVE
</pre></td></tr></table></dd></dl>

<dl>
<dt><u>Help Output:</u> offset <b>long-opt-col</b>
<a name="IDX584"></a>
</dt>
<dd><p>Column in which long options start. Default is 6. For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --help|grep ARCHIVE</kbd>
  -f, --file=ARCHIVE   use archive file or device ARCHIVE
$ <kbd>ARGP_HELP_FMT=long-opt-col=16 tar --help|grep ARCHIVE</kbd>
  -f,           --file=ARCHIVE   use archive file or device ARCHIVE
</pre></td></tr></table></dd></dl>

<dl>
<dt><u>Help Output:</u> offset <b>doc-opt-col</b>
<a name="IDX585"></a>
</dt>
<dd><p>Column in which <em>doc options</em> start.  A doc option isn't actually
an option, but rather an arbitrary piece of documentation that is
displayed in much the same manner as the options.  For example, in
the description of <samp>`--format'</samp> option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  -H, --format=FORMAT        create archive of the given format.

 FORMAT is one of the following:

    gnu                      GNU tar 1.13.x format
    oldgnu                   GNU format as per tar &lt;= 1.12
    pax                      POSIX 1003.1-2001 (pax) format
    posix                    same as pax
    ustar                    POSIX 1003.1-1988 (ustar) format
    v7                       old V7 tar format
</pre></td></tr></table>

<p>the format names are doc options. Thus, if you set
<kbd>ARGP_HELP_FMT=doc-opt-col=6</kbd> the above part of the help output
will look as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  -H, --format=FORMAT        create archive of the given format.

 FORMAT is one of the following:

        gnu                      GNU tar 1.13.x format
        oldgnu                   GNU format as per tar &lt;= 1.12
        pax                      POSIX 1003.1-2001 (pax) format
        posix                    same as pax
        ustar                    POSIX 1003.1-1988 (ustar) format
        v7                       old V7 tar format
</pre></td></tr></table></dd></dl>

<dl>
<dt><u>Help Output:</u> offset <b>opt-doc-col</b>
<a name="IDX586"></a>
</dt>
<dd><p>Column in which option description starts. Default is 29.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --help|grep ARCHIVE</kbd>
  -f, --file=ARCHIVE         use archive file or device ARCHIVE
$ <kbd>ARGP_HELP_FMT=opt-doc-col=19 tar --help|grep ARCHIVE</kbd>
  -f, --file=ARCHIVE   use archive file or device ARCHIVE
$ <kbd>ARGP_HELP_FMT=opt-doc-col=9 tar --help|grep ARCHIVE</kbd>
  -f, --file=ARCHIVE
           use archive file or device ARCHIVE
</pre></td></tr></table>

<p>Notice, that the description starts on a separate line if
<code>opt-doc-col</code> value is too small.
</p></dd></dl>

<dl>
<dt><u>Help Output:</u> offset <b>header-col</b>
<a name="IDX587"></a>
</dt>
<dd><p>Column in which <em>group headers</em> are printed.  A group header is a
descriptive text preceding an option group.  For example, in the
following text:
</p>
<pre class="verbatim"> Main operation mode:

  -A, --catenate, --concatenate   append tar files to
                             an archive
  -c, --create               create a new archive
</pre>
<p><samp>`Main operation mode:'</samp> is the group header.
</p>
<p>The default value is 1.
</p></dd></dl>

<dl>
<dt><u>Help Output:</u> offset <b>usage-indent</b>
<a name="IDX588"></a>
</dt>
<dd><p>Indentation of wrapped usage lines. Affects <samp>`--usage'</samp>
output. Default is 12.
</p></dd></dl>

<dl>
<dt><u>Help Output:</u> offset <b>rmargin</b>
<a name="IDX589"></a>
</dt>
<dd><p>Right margin of the text output. Used for wrapping.
</p></dd></dl>

<hr size="6">
<a name="Fixing-Snapshot-Files"></a>
<a name="SEC186"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC185" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC187" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC185" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC187" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> D. Fixing Snapshot Files </h1>


<p>  Various situations can cause device numbers to change: upgrading your
kernel version, reconfiguring your hardware, loading kernel modules in a
different order, using virtual volumes that are assembled dynamically
(such as with <acronym>LVM</acronym> or <acronym>RAID</acronym>), hot-plugging drives
(e.g. external USB or Firewire drives), etc.  In the majority of 
cases this change is unnoticed by the users.  However, it influences
<code>tar</code> incremental backups: the device number is stored in tar
snapshot files (see section <a href="#SEC194">Format of the Incremental Snapshot Files</a>) and is used to determine whether
the file has changed since the last backup.  If the device numbers
change for some reason, by default the next backup you run will be a
full backup.
</p>

<a name="IDX590"></a>
<p>  To minimize the impact in these cases, GNU <code>tar</code> comes with
the <code>tar-snapshot-edit</code> utility for inspecting and updating
device numbers in snapshot files.  (The utility, written by
Dustin J. Mitchell, is also available from the
<a href="http://www.gnu.org/software/tar/utils/tar-snapshot-edit.html"><acronym>GNU</acronym> <code>tar</code> home page</a>.)
</p>
<p>  To obtain a summary of the device numbers found in the snapshot file, run
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar-snapshot-edit <var>snapfile</var></kbd>
</pre></td></tr></table>

<p>where <var>snapfile</var> is the name of the snapshot file (you can supply as many
files as you wish in a single command line).  You can then compare the 
numbers across snapshot files, or against those currently in use on the
live filesystem (using <code>ls -l</code> or <code>stat</code>).
</p>
<p>  Assuming the device numbers have indeed changed, it's often possible
to simply tell <acronym>GNU</acronym> <code>tar</code> to ignore the device number when processing the
incremental snapshot files for these backups, using the
<samp>`--no-check-device'</samp> option (see <a href="#device-numbers">device numbers</a>).
</p>
<p>  Alternatively, you can use the <code>tar-edit-snapshot</code> script's 
<samp>`-r'</samp> option to update all occurrences of the given device
number in the snapshot file(s).  It takes a single argument
of the form
<samp>`<var>olddev</var>-<var>newdev</var>'</samp>,  where <var>olddev</var> is the device number
used in the snapshot file, and <var>newdev</var> is the corresponding new device
number.  Both numbers may be specified in hex (e.g., <samp>`0xfe01'</samp>),
decimal (e.g., <samp>`65025'</samp>), or as a major:minor number pair (e.g.,
<samp>`254:1'</samp>).  To change several device numbers at once, specify them
in a single comma-separated list, as in
<samp>`-r 0x3060-0x4500,0x307-0x4600'</samp>.
</p>
<p>Before updating the snapshot file, it is a good idea to create a backup
copy of it.  This is accomplished by <samp>`-b'</samp> option.  The name of the
backup file is obtained by appending <samp>`~'</samp> to the original file name.
</p>
<p>An example session:
</p><table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar-snapshot-edit root_snap.0 boot_snap.0</kbd>
File: root_snap.0
  Detected snapshot file version: 2

  Device 0x0000 occurs 1 times.
  Device 0x0003 occurs 1 times.
  Device 0x0005 occurs 1 times.
  Device 0x0013 occurs 1 times.
  Device 0x6801 occurs 1 times.
  Device 0x6803 occurs 6626 times.
  Device 0xfb00 occurs 1 times.

File: boot_snap.0
  Detected snapshot file version: 2

  Device 0x6801 occurs 3 times.
$ <kbd>tar-snapshot-edit -b -r 0x6801-0x6901,0x6803-0x6903 root_snap.0 boot_snap.0</kbd>
File: root_snap.0
  Detected snapshot file version: 2

  Updated 6627 records.

File: boot_snap.0
  Detected snapshot file version: 2

  Updated 3 records.
</pre></td></tr></table>
<hr size="6">
<a name="Tar-Internals"></a>
<a name="SEC187"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC186" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC188" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC186" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> E. Tar Internals </h1>


<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC188">Basic Tar Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC189"><acronym>GNU</acronym> Extensions to the Archive Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC190">Storing Sparse Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC195">Dumpdir</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Standard"></a>
<a name="SEC188"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC187" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC189" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC187" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC187" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="unnumberedsec"> Basic Tar Format </h2>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>While an archive may contain many files, the archive itself is a
single ordinary file.  Like any other file, an archive file can be
written to a storage device such as a tape or disk, sent through a
pipe or over a network, saved on the active file system, or even
stored in another archive.  An archive file is not easy to read or
manipulate without using the <code>tar</code> utility or Tar mode in
<acronym>GNU</acronym> Emacs.
</p>
<p>Physically, an archive consists of a series of file entries terminated
by an end-of-archive entry, which consists of two 512 blocks of zero
bytes.  A file
entry usually describes one of the files in the archive (an
<em>archive member</em>), and consists of a file header and the contents
of the file.  File headers contain file names and statistics, checksum
information which <code>tar</code> uses to detect file corruption, and
information about file types.
</p>
<p>Archives are permitted to have more than one member with the same
member name.  One way this situation can occur is if more than one
version of a file has been stored in the archive.  For information
about adding new versions of a file to an archive, see <a href="#SEC63">Updating an Archive</a>.
</p>
<p>In addition to entries describing archive members, an archive may
contain entries which <code>tar</code> itself uses to store information.
See section <a href="#SEC168">Including a Label in the Archive</a>, for an example of such an archive entry.
</p>
<p>A <code>tar</code> archive file contains a series of blocks.  Each block
contains <code>BLOCKSIZE</code> bytes.  Although this format may be thought
of as being on magnetic tape, other media are often used.
</p>
<p>Each file archived is represented by a header block which describes
the file, followed by zero or more blocks which give the contents
of the file.  At the end of the archive file there are two 512-byte blocks
filled with binary zeros as an end-of-file marker.  A reasonable system
should write such end-of-file marker at the end of an archive, but
must not assume that such a block exists when reading an archive.  In
particular <acronym>GNU</acronym> <code>tar</code> always issues a warning if it does not encounter it.
</p>
<p>The blocks may be <em>blocked</em> for physical I/O operations.
Each record of <var>n</var> blocks (where <var>n</var> is set by the
<samp>`--blocking-factor=<var>512-size</var>'</samp> (<samp>`-b <var>512-size</var>'</samp>) option to <code>tar</code>) is written with a single
<samp>`write ()'</samp> operation.  On magnetic tapes, the result of
such a write is a single record.  When writing an archive,
the last record of blocks should be written at the full size, with
blocks after the zero block containing all zeros.  When reading
an archive, a reasonable system should properly handle an archive
whose last record is shorter than the rest, or which contains garbage
records after a zero block.
</p>
<p>The header block is defined in C as follows.  In the <acronym>GNU</acronym> <code>tar</code>
distribution, this is part of file <tt>`src/tar.h'</tt>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">

/* tar Header Block, from POSIX 1003.1-1990.  */

/* POSIX header.  */

struct posix_header
{                              /* byte offset */
  char name[100];               /*   0 */
  char mode[8];                 /* 100 */
  char uid[8];                  /* 108 */
  char gid[8];                  /* 116 */
  char size[12];                /* 124 */
  char mtime[12];               /* 136 */
  char chksum[8];               /* 148 */
  char typeflag;                /* 156 */
  char linkname[100];           /* 157 */
  char magic[6];                /* 257 */
  char version[2];              /* 263 */
  char uname[32];               /* 265 */
  char gname[32];               /* 297 */
  char devmajor[8];             /* 329 */
  char devminor[8];             /* 337 */
  char prefix[155];             /* 345 */
                                /* 500 */
};

#define TMAGIC   &quot;ustar&quot;        /* ustar and a null */
#define TMAGLEN  6
#define TVERSION &quot;00&quot;           /* 00 and no null */
#define TVERSLEN 2

/* Values used in typeflag field.  */
#define REGTYPE  '0'            /* regular file */
#define AREGTYPE '\0'           /* regular file */
#define LNKTYPE  '1'            /* link */
#define SYMTYPE  '2'            /* reserved */
#define CHRTYPE  '3'            /* character special */
#define BLKTYPE  '4'            /* block special */
#define DIRTYPE  '5'            /* directory */
#define FIFOTYPE '6'            /* FIFO special */
#define CONTTYPE '7'            /* reserved */

#define XHDTYPE  'x'            /* Extended header referring to the
                                   next file in the archive */
#define XGLTYPE  'g'            /* Global extended header */

/* Bits used in the mode field, values in octal.  */
#define TSUID    04000          /* set UID on execution */
#define TSGID    02000          /* set GID on execution */
#define TSVTX    01000          /* reserved */
                                /* file permissions */
#define TUREAD   00400          /* read by owner */
#define TUWRITE  00200          /* write by owner */
#define TUEXEC   00100          /* execute/search by owner */
#define TGREAD   00040          /* read by group */
#define TGWRITE  00020          /* write by group */
#define TGEXEC   00010          /* execute/search by group */
#define TOREAD   00004          /* read by other */
#define TOWRITE  00002          /* write by other */
#define TOEXEC   00001          /* execute/search by other */

/* tar Header Block, GNU extensions.  */

/* In GNU tar, SYMTYPE is for to symbolic links, and CONTTYPE is for
   contiguous files, so maybe disobeying the &quot;reserved&quot; comment in POSIX
   header description.  I suspect these were meant to be used this way, and
   should not have really been &quot;reserved&quot; in the published standards.  */

/* *BEWARE* *BEWARE* *BEWARE* that the following information is still
   boiling, and may change.  Even if the OLDGNU format description should be
   accurate, the so-called GNU format is not yet fully decided.  It is
   surely meant to use only extensions allowed by POSIX, but the sketch
   below repeats some ugliness from the OLDGNU format, which should rather
   go away.  Sparse files should be saved in such a way that they do *not*
   require two passes at archive creation time.  Huge files get some POSIX
   fields to overflow, alternate solutions have to be sought for this.  */

/* Descriptor for a single file hole.  */

struct sparse
{                              /* byte offset */
  char offset[12];              /*   0 */
  char numbytes[12];            /*  12 */
                                /*  24 */
};

/* Sparse files are not supported in POSIX ustar format.  For sparse files
   with a POSIX header, a GNU extra header is provided which holds overall
   sparse information and a few sparse descriptors.  When an old GNU header
   replaces both the POSIX header and the GNU extra header, it holds some
   sparse descriptors too.  Whether POSIX or not, if more sparse descriptors
   are still needed, they are put into as many successive sparse headers as
   necessary.  The following constants tell how many sparse descriptors fit
   in each kind of header able to hold them.  */

#define SPARSES_IN_EXTRA_HEADER  16
#define SPARSES_IN_OLDGNU_HEADER 4
#define SPARSES_IN_SPARSE_HEADER 21

/* Extension header for sparse files, used immediately after the GNU extra
   header, and used only if all sparse information cannot fit into that
   extra header.  There might even be many such extension headers, one after
   the other, until all sparse information has been recorded.  */

struct sparse_header
{                              /* byte offset */
  struct sparse sp[SPARSES_IN_SPARSE_HEADER];
                                /*   0 */
  char isextended;              /* 504 */
                                /* 505 */
};

/* The old GNU format header conflicts with POSIX format in such a way that
   POSIX archives may fool old GNU tar's, and POSIX tar's might well be
   fooled by old GNU tar archives.  An old GNU format header uses the space
   used by the prefix field in a POSIX header, and cumulates information
   normally found in a GNU extra header.  With an old GNU tar header, we
   never see any POSIX header nor GNU extra header.  Supplementary sparse
   headers are allowed, however.  */

struct oldgnu_header
{                              /* byte offset */
  char unused_pad1[345];        /*   0 */
  char atime[12];               /* 345 Incr. archive: atime of the file */
  char ctime[12];               /* 357 Incr. archive: ctime of the file */
  char offset[12];              /* 369 Multivolume archive: the offset of
                                   the start of this volume */
  char longnames[4];            /* 381 Not used */
  char unused_pad2;             /* 385 */
  struct sparse sp[SPARSES_IN_OLDGNU_HEADER];
                                /* 386 */
  char isextended;              /* 482 Sparse file: Extension sparse header
                                   follows */
  char realsize[12];            /* 483 Sparse file: Real size*/
                                /* 495 */
};

/* OLDGNU_MAGIC uses both magic and version fields, which are contiguous.
   Found in an archive, it indicates an old GNU header format, which will be
   hopefully become obsolescent.  With OLDGNU_MAGIC, uname and gname are
   valid, though the header is not truly POSIX conforming.  */
#define OLDGNU_MAGIC &quot;ustar  &quot;  /* 7 chars and a null */

/* The standards committee allows only capital A through capital Z for
   user-defined expansion.  Other letters in use include:

   'A' Solaris Access Control List
   'E' Solaris Extended Attribute File
   'I' Inode only, as in 'star'
   'N' Obsolete GNU tar, for file names that do not fit into the main header.
   'X' POSIX 1003.1-2001 eXtended (VU version)  */

/* This is a dir entry that contains the names of files that were in the
   dir at the time the dump was made.  */
#define GNUTYPE_DUMPDIR 'D'

/* Identifies the *next* file on the tape as having a long linkname.  */
#define GNUTYPE_LONGLINK 'K'

/* Identifies the *next* file on the tape as having a long name.  */
#define GNUTYPE_LONGNAME 'L'

/* This is the continuation of a file that began on another volume.  */
#define GNUTYPE_MULTIVOL 'M'

/* This is for sparse files.  */
#define GNUTYPE_SPARSE 'S'

/* This file is a tape/volume header.  Ignore it on extraction.  */
#define GNUTYPE_VOLHDR 'V'

/* Solaris extended header */
#define SOLARIS_XHDTYPE 'X'

/* J&ouml;rg Schilling star header */

struct star_header
{                              /* byte offset */
  char name[100];               /*   0 */
  char mode[8];                 /* 100 */
  char uid[8];                  /* 108 */
  char gid[8];                  /* 116 */
  char size[12];                /* 124 */
  char mtime[12];               /* 136 */
  char chksum[8];               /* 148 */
  char typeflag;                /* 156 */
  char linkname[100];           /* 157 */
  char magic[6];                /* 257 */
  char version[2];              /* 263 */
  char uname[32];               /* 265 */
  char gname[32];               /* 297 */
  char devmajor[8];             /* 329 */
  char devminor[8];             /* 337 */
  char prefix[131];             /* 345 */
  char atime[12];               /* 476 */
  char ctime[12];               /* 488 */
                                /* 500 */
};

#define SPARSES_IN_STAR_HEADER      4
#define SPARSES_IN_STAR_EXT_HEADER  21

struct star_in_header
{
  char fill[345];       /*   0  Everything that is before t_prefix */
  char prefix[1];       /* 345  t_name prefix */
  char fill2;           /* 346  */
  char fill3[8];        /* 347  */
  char isextended;      /* 355  */
  struct sparse sp[SPARSES_IN_STAR_HEADER]; /* 356  */
  char realsize[12];    /* 452  Actual size of the file */
  char offset[12];      /* 464  Offset of multivolume contents */
  char atime[12];       /* 476  */
  char ctime[12];       /* 488  */
  char mfill[8];        /* 500  */
  char xmagic[4];       /* 508  &quot;tar&quot; */
};

struct star_ext_header
{
  struct sparse sp[SPARSES_IN_STAR_EXT_HEADER];
  char isextended;
};

</pre></td></tr></table>
<p>All characters in header blocks are represented by using 8-bit
characters in the local variant of ASCII.  Each field within the
structure is contiguous; that is, there is no padding used within
the structure.  Each character on the archive medium is stored
contiguously.
</p>
<p>Bytes representing the contents of files (after the header block
of each file) are not translated in any way and are not constrained
to represent characters in any character set.  The <code>tar</code> format
does not distinguish text files from binary files, and no translation
of file contents is performed.
</p>
<p>The <code>name</code>, <code>linkname</code>, <code>magic</code>, <code>uname</code>, and
<code>gname</code> are null-terminated character strings.  All other fields
are zero-filled octal numbers in ASCII.  Each numeric field of width
<var>w</var> contains <var>w</var> minus 1 digits, and a null.
(In the extended <acronym>GNU</acronym> format, the numeric fields can take
other forms.)
</p>
<p>The <code>name</code> field is the file name of the file, with directory names
(if any) preceding the file name, separated by slashes.
</p>
<p>See <cite>how big a name before field overflows?</cite>
</p>

<p>The <code>mode</code> field provides nine bits specifying file permissions
and three bits to specify the Set <acronym>UID</acronym>, Set <acronym>GID</acronym>, and Save Text
(<em>sticky</em>) modes.  Values for these bits are defined above.
When special permissions are required to create a file with a given
mode, and the user restoring files from the archive does not hold such
permissions, the mode bit(s) specifying those special permissions
are ignored.  Modes which are not supported by the operating system
restoring files from the archive will be ignored.  Unsupported modes
should be faked up when creating or updating an archive; e.g., the
group permission could be copied from the <em>other</em> permission.
</p>
<p>The <code>uid</code> and <code>gid</code> fields are the numeric user and group
<acronym>ID</acronym> of the file owners, respectively.  If the operating system does
not support numeric user or group <acronym>ID</acronym>s, these fields should
be ignored.
</p>
<p>The <code>size</code> field is the size of the file in bytes; linked files
are archived with this field specified as zero.
</p>
<p>The <code>mtime</code> field represents the data modification time of the file at
the time it was archived.  It represents the integer number of
seconds since January 1, 1970, 00:00 Coordinated Universal Time.
</p>
<p>The <code>chksum</code> field represents
the simple sum of all bytes in the header block.  Each 8-bit
byte in the header is added to an unsigned integer, initialized to
zero, the precision of which shall be no less than seventeen bits.
When calculating the checksum, the <code>chksum</code> field is treated as
if it were all blanks.
</p>
<p>The <code>typeflag</code> field specifies the type of file archived.  If a
particular implementation does not recognize or permit the specified
type, the file will be extracted as if it were a regular file.  As this
action occurs, <code>tar</code> issues a warning to the standard error.
</p>
<p>The <code>atime</code> and <code>ctime</code> fields are used in making incremental
backups; they store, respectively, the particular file's access and
status change times.
</p>
<p>The <code>offset</code> is used by the <samp>`--multi-volume'</samp> (<samp>`-M'</samp>) option, when
making a multi-volume archive.  The offset is number of bytes into
the file that we need to restart at to continue the file on the next
tape, i.e., where we store the location that a continued file is
continued at.
</p>
<p>The following fields were added to deal with sparse files.  A file
is <em>sparse</em> if it takes in unallocated blocks which end up being
represented as zeros, i.e., no useful data.  A test to see if a file
is sparse is to look at the number blocks allocated for it versus the
number of characters in the file; if there are fewer blocks allocated
for the file than would normally be allocated for a file of that
size, then the file is sparse.  This is the method <code>tar</code> uses to
detect a sparse file, and once such a file is detected, it is treated
differently from non-sparse files.
</p>
<p>Sparse files are often <code>dbm</code> files, or other database-type files
which have data at some points and emptiness in the greater part of
the file.  Such files can appear to be very large when an <samp>`ls
-l'</samp> is done on them, when in truth, there may be a very small amount
of important data contained in the file.  It is thus undesirable
to have <code>tar</code> think that it must back up this entire file, as
great quantities of room are wasted on empty blocks, which can lead
to running out of room on a tape far earlier than is necessary.
Thus, sparse files are dealt with so that these empty blocks are
not written to the tape.  Instead, what is written to the tape is a
description, of sorts, of the sparse file: where the holes are, how
big the holes are, and how much data is found at the end of the hole.
This way, the file takes up potentially far less room on the tape,
and when the file is extracted later on, it will look exactly the way
it looked beforehand.  The following is a description of the fields
used to handle a sparse file:
</p>
<p>The <code>sp</code> is an array of <code>struct sparse</code>.  Each <code>struct
sparse</code> contains two 12-character strings which represent an offset
into the file and a number of bytes to be written at that offset.
The offset is absolute, and not relative to the offset in preceding
array element.
</p>
<p>The header can hold four of these <code>struct sparse</code> at the moment;
if more are needed, they are not stored in the header.
</p>
<p>The <code>isextended</code> flag is set when an <code>extended_header</code>
is needed to deal with a file.  Note that this means that this flag
can only be set when dealing with a sparse file, and it is only set
in the event that the description of the file will not fit in the
allotted room for sparse structures in the header.  In other words,
an extended_header is needed.
</p>
<p>The <code>extended_header</code> structure is used for sparse files which
need more sparse structures than can fit in the header.  The header can
fit 4 such structures; if more are needed, the flag <code>isextended</code>
gets set and the next block is an <code>extended_header</code>.
</p>
<p>Each <code>extended_header</code> structure contains an array of 21
sparse structures, along with a similar <code>isextended</code> flag
that the header had.  There can be an indeterminate number of such
<code>extended_header</code>s to describe a sparse file.
</p>
<dl compact="compact">
<dt> <code>REGTYPE</code></dt>
<dt> <code>AREGTYPE</code></dt>
<dd><p>These flags represent a regular file.  In order to be compatible
with older versions of <code>tar</code>, a <code>typeflag</code> value of
<code>AREGTYPE</code> should be silently recognized as a regular file.
New archives should be created using <code>REGTYPE</code>.  Also, for
backward compatibility, <code>tar</code> treats a regular file whose name
ends with a slash as a directory.
</p>
</dd>
<dt> <code>LNKTYPE</code></dt>
<dd><p>This flag represents a file linked to another file, of any type,
previously archived.  Such files are identified in Unix by each
file having the same device and inode number.  The linked-to name is
specified in the <code>linkname</code> field with a trailing null.
</p>
</dd>
<dt> <code>SYMTYPE</code></dt>
<dd><p>This represents a symbolic link to another file.  The linked-to name
is specified in the <code>linkname</code> field with a trailing null.
</p>
</dd>
<dt> <code>CHRTYPE</code></dt>
<dt> <code>BLKTYPE</code></dt>
<dd><p>These represent character special files and block special files
respectively.  In this case the <code>devmajor</code> and <code>devminor</code>
fields will contain the major and minor device numbers respectively.
Operating systems may map the device specifications to their own
local specification, or may ignore the entry.
</p>
</dd>
<dt> <code>DIRTYPE</code></dt>
<dd><p>This flag specifies a directory or sub-directory.  The directory
name in the <code>name</code> field should end with a slash.  On systems where
disk allocation is performed on a directory basis, the <code>size</code> field
will contain the maximum number of bytes (which may be rounded to
the nearest disk block allocation unit) which the directory may
hold.  A <code>size</code> field of zero indicates no such limiting.  Systems
which do not support limiting in this manner should ignore the
<code>size</code> field.
</p>
</dd>
<dt> <code>FIFOTYPE</code></dt>
<dd><p>This specifies a FIFO special file.  Note that the archiving of a
FIFO file archives the existence of this file and not its contents.
</p>
</dd>
<dt> <code>CONTTYPE</code></dt>
<dd><p>This specifies a contiguous file, which is the same as a normal
file except that, in operating systems which support it, all its
space is allocated contiguously on the disk.  Operating systems
which do not allow contiguous allocation should silently treat this
type as a normal file.
</p>
</dd>
<dt> <code>A</code> &hellip; <code>Z</code></dt>
<dd><p>These are reserved for custom implementations.  Some of these are
used in the <acronym>GNU</acronym> modified format, as described below.
</p>
</dd>
</dl>

<p>Other values are reserved for specification in future revisions of
the P1003 standard, and should not be used by any <code>tar</code> program.
</p>
<p>The <code>magic</code> field indicates that this archive was output in
the P1003 archive format.  If this field contains <code>TMAGIC</code>,
the <code>uname</code> and <code>gname</code> fields will contain the ASCII
representation of the owner and group of the file respectively.
If found, the user and group <acronym>ID</acronym>s are used rather than the values in
the <code>uid</code> and <code>gid</code> fields.
</p>
<p>For references, see ISO/IEC 9945-1:1990 or IEEE Std 1003.1-1990, pages
169-173 (section 10.1) for <cite>Archive/Interchange File Format</cite>; and
IEEE Std 1003.2-1992, pages 380-388 (section 4.48) and pages 936-940
(section E.4.48) for <cite>pax - Portable archive interchange</cite>.
</p>
<hr size="6">
<a name="Extensions"></a>
<a name="SEC189"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC188" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC187" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC187" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="unnumberedsec"> <acronym>GNU</acronym> Extensions to the Archive Format </h2>
<blockquote><p><em>(This message will disappear, once this node revised.)</em>
</p></blockquote>


<p>The <acronym>GNU</acronym> format uses additional file types to describe new types of
files in an archive.  These are listed below.
</p>
<dl compact="compact">
<dt> <code>GNUTYPE_DUMPDIR</code></dt>
<dt> <code>'D'</code></dt>
<dd><p>This represents a directory and a list of files created by the
<samp>`--incremental'</samp> (<samp>`-G'</samp>) option.  The <code>size</code> field gives the total
size of the associated list of files.  Each file name is preceded by
either a <samp>`Y'</samp> (the file should be in this archive) or an <samp>`N'</samp>.
(The file is a directory, or is not stored in the archive.)  Each file
name is terminated by a null.  There is an additional null after the
last file name.
</p>
</dd>
<dt> <code>GNUTYPE_MULTIVOL</code></dt>
<dt> <code>'M'</code></dt>
<dd><p>This represents a file continued from another volume of a multi-volume
archive created with the <samp>`--multi-volume'</samp> (<samp>`-M'</samp>) option.  The original
type of the file is not given here.  The <code>size</code> field gives the
maximum size of this piece of the file (assuming the volume does
not end before the file is written out).  The <code>offset</code> field
gives the offset from the beginning of the file where this part of
the file begins.  Thus <code>size</code> plus <code>offset</code> should equal
the original size of the file.
</p>
</dd>
<dt> <code>GNUTYPE_SPARSE</code></dt>
<dt> <code>'S'</code></dt>
<dd><p>This flag indicates that we are dealing with a sparse file.  Note
that archiving a sparse file requires special operations to find
holes in the file, which mark the positions of these holes, along
with the number of bytes of data to be found after the hole.
</p>
</dd>
<dt> <code>GNUTYPE_VOLHDR</code></dt>
<dt> <code>'V'</code></dt>
<dd><p>This file type is used to mark the volume header that was given with
the <samp>`--label=<var>archive-label</var>'</samp> (<samp>`-V <var>archive-label</var>'</samp>) option when the archive was created.  The <code>name</code>
field contains the <code>name</code> given after the <samp>`--label=<var>archive-label</var>'</samp> (<samp>`-V <var>archive-label</var>'</samp>) option.
The <code>size</code> field is zero.  Only the first file in each volume
of an archive should have this type.
</p>
</dd>
</dl>

<p>For fields containing numbers or timestamps that are out of range for
the basic format, the <acronym>GNU</acronym> format uses a base-256
representation instead of an ASCII octal number.  If the leading byte
is 0xff (255), all the bytes of the field (including the leading byte)
are concatenated in big-endian order, with the result being a negative
number expressed in two's complement form.  If the leading byte is
0x80 (128), the non-leading bytes of the field are concatenated in
big-endian order, with the result being a positive number expressed in
binary form.  Leading bytes other than 0xff, 0x80 and ASCII octal
digits are reserved for future use, as are base-256 representations of
values that would be in range for the basic format.
</p>
<p>You may have trouble reading a <acronym>GNU</acronym> format archive on a
non-<acronym>GNU</acronym> system if the options <samp>`--incremental'</samp> (<samp>`-G'</samp>),
<samp>`--multi-volume'</samp> (<samp>`-M'</samp>), <samp>`--sparse'</samp> (<samp>`-S'</samp>), or <samp>`--label=<var>archive-label</var>'</samp> (<samp>`-V <var>archive-label</var>'</samp>) were
used when writing the archive.  In general, if <code>tar</code> does not
use the <acronym>GNU</acronym>-added fields of the header, other versions of
<code>tar</code> should be able to read the archive.  Otherwise, the
<code>tar</code> program will give an error, the most likely one being a
checksum error.
</p>
<hr size="6">
<a name="Sparse-Formats"></a>
<a name="SEC190"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC189" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC191" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC187" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC187" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="unnumberedsec"> Storing Sparse Files </h2>


<p>The notion of sparse file, and the ways of handling it from the point
of view of <acronym>GNU</acronym> <code>tar</code> user have been described in detail in
<a href="#SEC137">Archiving Sparse Files</a>.  This chapter describes the internal format <acronym>GNU</acronym> <code>tar</code>
uses to store such files.
</p>
<p>The support for sparse files in <acronym>GNU</acronym> <code>tar</code> has a long history.  The
earliest version featuring this support that I was able to find was 1.09,
released in November, 1990.  The format introduced back then is called
<em>old GNU</em> sparse format and in spite of the fact that its design
contained many flaws, it was the only format <acronym>GNU</acronym> <code>tar</code> supported
until version 1.14 (May, 2004), which introduced initial support for
sparse archives in <acronym>PAX</acronym> archives (see section <a href="#SEC146"><acronym>GNU</acronym> <code>tar</code> and <acronym>POSIX</acronym> <code>tar</code></a>).  This
format was not free from design flaws, either and it was subsequently
improved in versions 1.15.2 (November, 2005) and 1.15.92 (June,
2006).
</p>
<p>In addition to GNU sparse format, <acronym>GNU</acronym> <code>tar</code> is able to read and
extract sparse files archived by <code>star</code>.
</p>
<p>The following subsections describe each format in detail.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC191">E.0.1 Old GNU Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC192">E.0.2 PAX Format, Versions 0.0 and 0.1</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SEC193">E.0.3 PAX Format, Version 1.0</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Old-GNU-Format"></a>
<a name="SEC191"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC190" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC192" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC187" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="appendixsubsec"> E.0.1 Old GNU Format </h3>

<p>The format introduced in November 1990 (v. 1.09) was
designed on top of standard <code>ustar</code> headers in such an
unfortunate way that some of its fields overwrote fields required by
POSIX.
</p>
<p>An old GNU sparse header is designated by type <samp>`S'</samp>
(<code>GNUTYPE_SPARSE</code>) and has the following layout:
</p>
<table>
<thead><tr><th><p> Offset </p></th><th><p> Size </p></th><th><p> Name   </p></th><th><p> Data type   </p></th><th><p> Contents
</p></th></tr></thead>
<tr><td><p>          0 </p></td><td><p> 345  </p></td><td>        </td><td><p> N/A         </p></td><td><p> Not used.
</p></td></tr>
<tr><td><p>        345 </p></td><td><p>  12  </p></td><td><p> atime  </p></td><td><p> Number      </p></td><td><p> <code>atime</code> of the file.
</p></td></tr>
<tr><td><p>        357 </p></td><td><p>  12  </p></td><td><p> ctime  </p></td><td><p> Number      </p></td><td><p> <code>ctime</code> of the file .
</p></td></tr>
<tr><td><p>        369 </p></td><td><p>  12  </p></td><td><p> offset </p></td><td><p> Number      </p></td><td><p> For
multivolume archives: the offset of the start of this volume.
</p></td></tr>
<tr><td><p>        381 </p></td><td><p>   4  </p></td><td>        </td><td><p> N/A         </p></td><td><p> Not used.
</p></td></tr>
<tr><td><p>        385 </p></td><td><p>   1  </p></td><td>        </td><td><p> N/A         </p></td><td><p> Not used.
</p></td></tr>
<tr><td><p>        386 </p></td><td><p>  96  </p></td><td><p> sp     </p></td><td><p> <code>sparse_header</code> </p></td><td><p> (4 entries) File map.
</p></td></tr>
<tr><td><p>        482 </p></td><td><p>   1  </p></td><td><p> isextended </p></td><td><p> Bool        </p></td><td><p> <code>1</code> if an
extension sparse header follows, <code>0</code> otherwise.
</p></td></tr>
<tr><td><p>        483 </p></td><td><p>  12  </p></td><td><p> realsize </p></td><td><p> Number      </p></td><td><p> Real size of the file.
</p></td></tr>
</table>

<p>Each of <code>sparse_header</code> object at offset 386 describes a single
data chunk. It has the following structure:
</p>
<table>
<thead><tr><th><p> Offset </p></th><th><p> Size </p></th><th><p> Data type   </p></th><th><p> Contents
</p></th></tr></thead>
<tr><td><p>          0 </p></td><td><p>   12 </p></td><td><p> Number      </p></td><td><p> Offset of the
beginning of the chunk.
</p></td></tr>
<tr><td><p>         12 </p></td><td><p>   12 </p></td><td><p> Number      </p></td><td><p> Size of the chunk.
</p></td></tr>
</table>

<p>If the member contains more than four chunks, the <code>isextended</code>
field of the header has the value <code>1</code> and the main header is
followed by one or more <em>extension headers</em>.  Each such header has
the following structure:
</p>
<table>
<thead><tr><th><p> Offset </p></th><th><p> Size </p></th><th><p> Name   </p></th><th><p> Data type   </p></th><th><p> Contents
</p></th></tr></thead>
<tr><td><p>          0 </p></td><td><p>   21 </p></td><td><p> sp     </p></td><td><p> <code>sparse_header</code> </p></td><td>
<p>(21 entries) File map.
</p></td></tr>
<tr><td><p>        504 </p></td><td><p>    1 </p></td><td><p> isextended </p></td><td><p> Bool    </p></td><td><p> <code>1</code> if an
extension sparse header follows, or <code>0</code> otherwise.
</p></td></tr>
</table>

<p>A header with <code>isextended=0</code> ends the map.
</p>
<hr size="6">
<a name="PAX-0"></a>
<a name="SEC192"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC191" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC193" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC187" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="appendixsubsec"> E.0.2 PAX Format, Versions 0.0 and 0.1 </h3>

<p>There are two formats available in this branch.  The version <code>0.0</code>
is the initial version of sparse format used by <code>tar</code>
versions 1.14-1.15.1.  The sparse file map is kept in extended
(<code>x</code>) PAX header variables:
</p>
<dl compact="compact">
<dt> <code>GNU.sparse.size</code></dt>
<dd><p>Real size of the stored file;
</p>
</dd>
<dt> <code>GNU.sparse.numblocks</code></dt>
<dd><p>Number of blocks in the sparse map;
</p>
</dd>
<dt> <code>GNU.sparse.offset</code></dt>
<dd><p>Offset of the data block;
</p>
</dd>
<dt> <code>GNU.sparse.numbytes</code></dt>
<dd><p>Size of the data block.
</p></dd>
</dl>

<p>The latter two variables repeat for each data block, so the overall
structure is like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">GNU.sparse.size=<var>size</var>
GNU.sparse.numblocks=<var>numblocks</var>
repeat <var>numblocks</var> times
  GNU.sparse.offset=<var>offset</var>
  GNU.sparse.numbytes=<var>numbytes</var>
end repeat
</pre></td></tr></table>
<p>This format presented the following two problems:
</p>
<ol>
<li>
Whereas the POSIX specification allows a variable to appear multiple
times in a header, it requires that only the last occurrence be
meaningful.  Thus, multiple occurrences of <code>GNU.sparse.offset</code> and
<code>GNU.sparse.numbytes</code> are conflicting with the POSIX specs.

</li><li>
Attempting to extract such archives using a third-party's <code>tar</code>
results in extraction of sparse files in <em>condensed form</em>.  If
the <code>tar</code> implementation in question does not support POSIX
format, it will also extract a file containing extension header
attributes.  This file can be used to expand the file to its original
state.  However, posix-aware <code>tar</code>s will usually ignore the
unknown variables, which makes restoring the file more
difficult.  See <a href="#extracting-sparse-v0x">Extraction of sparse members in v.0.0 format</a>, for the detailed description of how to
restore such members using non-GNU <code>tar</code>s.
</li></ol>

<a name="IDX591"></a>
<p><acronym>GNU</acronym> <code>tar</code> 1.15.2 introduced sparse format version <code>0.1</code>, which
attempted to solve these problems.  As its predecessor, this format
stores sparse map in the extended POSIX header.  It retains
<code>GNU.sparse.size</code> and <code>GNU.sparse.numblocks</code> variables, but
instead of <code>GNU.sparse.offset</code>/<code>GNU.sparse.numbytes</code> pairs
it uses a single variable:
</p>
<dl compact="compact">
<dt> <code>GNU.sparse.map</code></dt>
<dd><p>Map of non-null data chunks.  It is a string consisting of
comma-separated values &quot;<var>offset</var>,<var>size</var>[,<var>offset-1</var>,<var>size-1</var>...]&quot;
</p></dd>
</dl>

<p>To address the 2nd problem, the <code>name</code> field in <code>ustar</code>
is replaced with a special name, constructed using the following pattern:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">%d/GNUSparseFile.%p/%f
</pre></td></tr></table>
<p>The real name of the sparse file is stored in the variable
<code>GNU.sparse.name</code>.  Thus, those <code>tar</code> implementations
that are not aware of GNU extensions will at least extract the files
into separate directories, giving the user a possibility to expand it
afterwards.  See <a href="#extracting-sparse-v0x">Extraction of sparse members in v.0.1 format</a>, for the detailed description of how to
restore such members using non-GNU <code>tar</code>s.
</p>
<p>The resulting <code>GNU.sparse.map</code> string can be <em>very</em> long.
Although POSIX does not impose any limit on the length of a <code>x</code>
header variable, this possibly can confuse some <code>tar</code>s.
</p>
<hr size="6">
<a name="PAX-1"></a>
<a name="SEC193"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC192" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC194" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC187" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC190" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="appendixsubsec"> E.0.3 PAX Format, Version 1.0 </h3>

<p>The version <code>1.0</code> of sparse format was introduced with <acronym>GNU</acronym> <code>tar</code>
1.15.92.  Its main objective was to make the resulting file
extractable with little effort even by non-posix aware <code>tar</code>
implementations.  Starting from this version, the extended header
preceding a sparse member always contains the following variables that
identify the format being used:
</p>
<dl compact="compact">
<dt> <code>GNU.sparse.major</code></dt>
<dd><p>Major version
</p>
</dd>
<dt> <code>GNU.sparse.minor</code></dt>
<dd><p>Minor version
</p></dd>
</dl>

<p>The <code>name</code> field in <code>ustar</code> header contains a special name,
constructed using the following pattern:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">%d/GNUSparseFile.%p/%f
</pre></td></tr></table>
<p>The real name of the sparse file is stored in the variable
<code>GNU.sparse.name</code>.  The real size of the file is stored in the
variable <code>GNU.sparse.realsize</code>.
</p>
<p>The sparse map itself is stored in the file data block, preceding the actual
file data.  It consists of a series of decimal numbers delimited
by newlines. The map is padded with nulls to the nearest block boundary.
</p>
<p>The first number gives the number of entries in the map. Following are
map entries, each one consisting of two numbers giving the offset and
size of the data block it describes.
</p>
<p>The format is designed in such a way that non-posix aware <code>tar</code>s and <code>tar</code>s not
supporting <code>GNU.sparse.*</code> keywords will extract each sparse file
in its condensed form with the file map prepended and will place it
into a separate directory.  Then, using a simple program it would be
possible to expand the file to its original form even without <acronym>GNU</acronym> <code>tar</code>.
See section <a href="#SEC152">Extracting Sparse Members</a>, for the detailed information on how to extract
sparse members without <acronym>GNU</acronym> <code>tar</code>.
</p>
<hr size="6">
<a name="Snapshot-Files"></a>
<a name="SEC194"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC193" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC195" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC187" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC187" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="unnumberedsec"> Format of the Incremental Snapshot Files </h2>


<p>  A <em>snapshot file</em> (or <em>directory file</em>) is created during
incremental backups (see section <a href="#SEC96">Using <code>tar</code> to Perform Incremental Dumps</a>).  It
contains the status of the file system at the time of the dump and is
used to determine which files were modified since the last backup.
</p>
<p>  <acronym>GNU</acronym> <code>tar</code> version 1.32 supports three snapshot file
formats.  The first format, called <em>format 0</em>, is the one used by
<acronym>GNU</acronym> <code>tar</code> versions up to and including 1.15.1. The second format, called 
<em>format 1</em> is an extended version of this format, that contains more
metadata and allows for further extensions. It was used by alpha release
version 1.15.90. For alpha version 1.15.91 and stable releases
version 1.16 up through 1.32, the <em>format 2</em> is used.
</p>
<p>  <acronym>GNU</acronym> <code>tar</code> is able to read all three formats, but will create
snapshots only in format 2.
</p>
<p>  This appendix describes all three formats in detail.
</p>
<ol>
<li><a name="IDX592"></a>
<a name="IDX593"></a>
</li><li>
  <samp>`Format 0'</samp> snapshot file begins with a line containing a
decimal number that represents a <acronym>UNIX</acronym> timestamp of the
beginning of the last archivation. This line is followed by directory
metadata descriptions, one per line. Each description has the
following format:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">[<var>nfs</var>]<var>dev</var> <var>inode</var> <var>name</var>
</pre></td></tr></table>

<p>where:
</p>
<dl compact="compact">
<dt> <var>nfs</var></dt>
<dd><p>A single plus character (<samp>`+'</samp>), if this directory is located on
an <acronym>NFS</acronym>-mounted partition, otherwise empty.  
</p>
<p>(That is, for non-NFS directories, the first character on the
description line contains the start of the <var>dev</var> field.)
</p>
</dd>
<dt> <var>dev</var></dt>
<dd><p>Device number of the directory;
</p>
</dd>
<dt> <var>inode</var></dt>
<dd><p>I-node number of the directory;
</p>
</dd>
<dt> <var>name</var></dt>
<dd><p>Name of the directory. Any special characters (white-space,
backslashes, etc.) are quoted.
</p></dd>
</dl>

<a name="IDX594"></a>
<a name="IDX595"></a>
</li><li>
  <samp>`Format 1'</samp> snapshot file begins with a line specifying the
format of the file. This line has the following structure:

<table><tr><td>&nbsp;</td><td><pre class="smallexample"><samp>`GNU tar-'</samp><var>tar-version</var><samp>`-'</samp><var>incr-format-version</var>
</pre></td></tr></table>

<p>where <var>tar-version</var> is the version number of <acronym>GNU</acronym> <code>tar</code>
implementation that created this snapshot, and
<var>incr-format-version</var> is the version number of the snapshot format
(in this case <samp>`1'</samp>).
</p>
<p>  Next line contains two decimal numbers, representing the
time of the last backup. First number is the number of seconds, the
second one is the number of nanoseconds, since the beginning of the
epoch.
</p>
<p>  Lines that follow contain directory metadata, one line per
directory. Each line is formatted as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">[<var>nfs</var>]<var>mtime-sec</var> <var>mtime-nsec</var> <var>dev</var> <var>inode</var> <var>name</var>
</pre></td></tr></table>

<p>where <var>mtime-sec</var> and <var>mtime-nsec</var> represent last
modification time of this directory with nanosecond precision;
<var>nfs</var>, <var>dev</var>, <var>inode</var> and <var>name</var> have the same meaning
as with <samp>`format 0'</samp>.
</p>
<a name="IDX596"></a>
<a name="IDX597"></a>
</li><li>
  <samp>`Format 2'</samp> snapshot file begins with a format identifier, as described for
version 1, e.g.:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">GNU tar-1.32-2
</pre></td></tr></table>
<p>  This line is followed by newline. Rest of file consists of
records, separated by null (<acronym>ASCII</acronym> 0)
characters. Thus, in contrast to the previous formats, format 2
snapshot is a binary file.
</p>
<p>  First two records are decimal integers, representing the
time of the last backup.  First number is the number of seconds, the
second one is the number of nanoseconds, since the beginning of the
epoch.  These are followed by arbitrary number of directory records.
</p>
<p>  Each <em>directory record</em> contains a set of metadata describing a
particular directory.  Parts of a directory record are delimited with
<acronym>ASCII</acronym> 0 characters.  The following table describes each
part.  The <em>Number</em> type in this table stands for a decimal integer
in <acronym>ASCII</acronym> notation.  (Negative values are preceded with a &quot;-&quot;
character, while positive values have no leading punctuation.)
</p>
<table>
<thead><tr><th><p> Field </p></th><th><p> Type </p></th><th><p> Description
</p></th></tr></thead>
<tr><td><p> nfs </p></td><td><p> Character </p></td><td><p> <samp>`1'</samp> if the directory is located on
an <acronym>NFS</acronym>-mounted partition, or <samp>`0'</samp> otherwise;
</p></td></tr>
<tr><td><p> timestamp_sec </p></td><td><p> Number </p></td><td><p> Modification time, seconds;
</p></td></tr>
<tr><td><p> timestamp_nsec </p></td><td><p> Number </p></td><td><p> Modification time, nanoseconds;
</p></td></tr>
<tr><td><p> dev </p></td><td><p> Number </p></td><td><p> Device number;
</p></td></tr>
<tr><td><p> ino </p></td><td><p> Number </p></td><td><p> I-node number;
</p></td></tr>
<tr><td><p> name </p></td><td><p> String </p></td><td><p> Directory name; in contrast to the
previous versions it is not quoted;
</p></td></tr>
<tr><td><p> contents </p></td><td><p> Dumpdir </p></td><td><p> Contents of the directory;
See section <a href="#SEC195">Dumpdir</a>, for a description of its format.
</p></td></tr>
<tr><td>
</td></tr>
</table>

<p>  Dumpdirs stored in snapshot files contain only records of types
<samp>`Y'</samp>, <samp>`N'</samp> and <samp>`D'</samp>.
</p>
<a name="IDX598"></a>
<a name="IDX599"></a>
<p>The specific range of values allowed in each of the <em>Number</em> fields
depends on the underlying C datatypes as determined when <code>tar</code>
is compiled.  To see the specific ranges allowed for a particular
<code>tar</code> binary, you can use the
<samp>`--show-snapshot-field-ranges'</samp> option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <kbd>tar --show-snapshot-field-ranges</kbd>
This tar's snapshot file field ranges are
   (field name      =&gt; [ min, max ]):

    nfs             =&gt; [ 0, 1 ],
    timestamp_sec   =&gt; [ -9223372036854775808, 9223372036854775807 ],
    timestamp_nsec  =&gt; [ 0, 999999999 ],
    dev             =&gt; [ 0, 18446744073709551615 ],
    ino             =&gt; [ 0, 18446744073709551615 ],
</pre></td></tr></table>
<p>(This example is from a GNU/Linux x86_64 system.)
</p>
</li></ol>


<hr size="6">
<a name="Dumpdir"></a>
<a name="SEC195"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC194" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC187" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC187" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="unnumberedsec"> Dumpdir </h2>


<p>  Incremental archives keep information about contents of each
dumped directory in special data blocks called <em>dumpdirs</em>.
</p>
<p>  Dumpdir is a sequence of entries of the following form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><var>C</var> <var>filename</var> \0
</pre></td></tr></table>

<p>where <var>C</var> is one of the <em>control codes</em> described below,
<var>filename</var> is the name of the file <var>C</var> operates upon, and
<samp>`\0'</samp> represents a nul character (ASCII 0).  The white space
characters were added for readability, real dumpdirs do not contain
them.
</p>
<p>  Each dumpdir ends with a single nul character.
</p>
<p>  The following table describes control codes and their meanings:
</p>
<dl compact="compact">
<dt> <samp>`Y'</samp></dt>
<dd><p><var>filename</var> is contained in the archive.
</p>
</dd>
<dt> <samp>`N'</samp></dt>
<dd><p><var>filename</var> was present in the directory at the time the archive
was made, yet it was not dumped to the archive, because it had not
changed since the last backup.
</p>
</dd>
<dt> <samp>`D'</samp></dt>
<dd><p><var>filename</var> is a directory.
</p>
</dd>
<dt> <samp>`R'</samp></dt>
<dd><p>This code requests renaming of the <var>filename</var> to the name
specified with the <samp>`T'</samp> command, that immediately follows it.
</p>
</dd>
<dt> <samp>`T'</samp></dt>
<dd><p>Specify target file name for <samp>`R'</samp> command (see below).
</p>
</dd>
<dt> <samp>`X'</samp></dt>
<dd><p>Specify <em>temporary directory</em> name for a rename operation (see below).
</p></dd>
</dl>

<p>  Codes <samp>`Y'</samp>, <samp>`N'</samp> and <samp>`D'</samp> require <var>filename</var> argument
to be a relative file name to the directory this dumpdir describes,
whereas codes <samp>`R'</samp>, <samp>`T'</samp> and <samp>`X'</samp> require their argument
to be an absolute file name.
</p>
<p> The three codes <samp>`R'</samp>, <samp>`T'</samp> and <samp>`X'</samp> specify a
<em>renaming operation</em>.  In the simplest case it is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">R<tt>`source'</tt>\0T<tt>`dest'</tt>\0
</pre></td></tr></table>

<p>which means &quot;rename file <tt>`source'</tt> to file <tt>`dest'</tt>&quot;.
</p>
<p>  However, there are cases that require using a <em>temporary
directory</em>.  For example, consider the following scenario:
</p>
<ol>
<li>
Previous run dumped a directory <tt>`foo'</tt> which contained the
following three directories:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">a
b
c
</pre></td></tr></table>
</li><li>
They were renamed <em>cyclically</em>, so that:

<table><tr><td>&nbsp;</td><td><pre class="example"><tt>`a'</tt> became <tt>`b'</tt>
<tt>`b'</tt> became <tt>`c'</tt>
<tt>`c'</tt> became <tt>`a'</tt>
</pre></td></tr></table>
</li><li>
New incremental dump was made.
</li></ol>

<p>  This case cannot be handled by three successive renames, since
renaming <tt>`a'</tt> to <tt>`b'</tt> will destroy the existing directory.
To correctly process it, <acronym>GNU</acronym> <code>tar</code> needs a temporary directory, so
it creates the following dumpdir (newlines have been added for
readability):
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">Xfoo\0
Rfoo/a\0T\0
Rfoo/b\0Tfoo/c\0
Rfoo/c\0Tfoo/a\0
R\0Tfoo/a\0
</pre></td></tr></table>
<p>  The first command, <samp>`Xfoo\0'</samp>, instructs the extractor to create a
temporary directory in the directory <tt>`foo'</tt>.  Second command,
<samp>`Rfoo/aT\0'</samp>, says &quot;rename file <tt>`foo/a'</tt> to the temporary
directory that has just been created&quot; (empty file name after a
command means use temporary directory).  Third and fourth commands
work as usual, and, finally, the last command, <samp>`R\0Tfoo/a\0'</samp>
tells tar to rename the temporary directory to <tt>`foo/a'</tt>.
</p>
<p>  The exact placement of a dumpdir in the archive depends on the
archive format (see section <a href="#SEC133">Controlling the Archive Format</a>):
</p>
<ul class="toc">
<li> PAX archives

<p>In PAX archives, dumpdir is stored in the extended header of the
corresponding directory, in variable <code>GNU.dumpdir</code>.
</p>
</li><li> GNU and old GNU archives

<p>These formats implement special header type <samp>`D'</samp>, which is similar
to ustar header <samp>`5'</samp> (directory), except that it precedes a data
block containing the dumpdir.
</p></li></ul>


<hr size="6">
<a name="Genfile"></a>
<a name="SEC196"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC195" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC197" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC187" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC200" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> F. Genfile </h1>


<p>    This appendix describes <code>genfile</code>, an auxiliary program
used in the GNU tar testsuite. If you are not interested in developing
GNU tar, skip this appendix.
</p>
<p>    Initially, <code>genfile</code> was used to generate data files for
the testsuite, hence its name. However, new operation modes were being
implemented as the testsuite grew more sophisticated, and now
<code>genfile</code> is a multi-purpose instrument.
</p>
<p>    There are three basic operation modes:
</p>
<dl compact="compact">
<dt> File Generation</dt>
<dd><p>    This is the default mode. In this mode, <code>genfile</code>
generates data files.
</p>
</dd>
<dt> File Status</dt>
<dd><p>    In this mode <code>genfile</code> displays status of specified files.
</p>
</dd>
<dt> Synchronous Execution.</dt>
<dd><p>    In this mode <code>genfile</code> executes the given program with
<samp>`--checkpoint'</samp> option and executes a set of actions when
specified checkpoints are reached.
</p></dd>
</dl>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC197">F.1 Generate Mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     File Generation Mode.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC198">F.2 Status Mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       File Status Mode.
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC199">F.3 Exec Mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Synchronous Execution mode.
</td></tr>
</table>

<hr size="6">
<a name="Generate-Mode"></a>
<a name="SEC197"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC196" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC198" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC196" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC200" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="appendixsec"> F.1 Generate Mode </h2>

<p>    In this mode <code>genfile</code> creates a data file for the test
suite. The size of the file is given with the <samp>`--length'</samp>
(<samp>`-l'</samp>) option. By default the file contents is written to the
standard output, this can be changed using <samp>`--file'</samp>
(<samp>`-f'</samp>) command line option. Thus, the following two commands
are equivalent:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">genfile --length 100 &gt; outfile
genfile --length 100 --file outfile
</pre></td></tr></table>
<p>    If <samp>`--length'</samp> is not given, <code>genfile</code> will
generate an empty (zero-length) file.
</p>
<a name="IDX600"></a>
<p>    The command line option <samp>`--seek=<var>N</var>'</samp> istructs <code>genfile</code>
to skip the given number of bytes (<var>N</var>) in the output file before
writing to it.  It is similar to the <samp>`seek=<var>N</var>'</samp> of the
<code>dd</code> utility.
</p>
<a name="IDX601"></a>
<p>    You can instruct <code>genfile</code> to create several files at one
go, by giving it <samp>`--files-from'</samp> (<samp>`-T'</samp>) option followed
by a name of file containing a list of file names. Using dash
(<samp>`-'</samp>) instead of the file name causes <code>genfile</code> to read
file list from the standard input. For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"># Read file names from file <tt>`file.list'</tt>
genfile --files-from file.list
# Read file names from standard input
genfile --files-from -
</pre></td></tr></table>
<a name="IDX602"></a>
<p>    The list file is supposed to contain one file name per line. To
use file lists separated by ASCII NUL character, use <samp>`--null'</samp>
(<samp>`-0'</samp>) command line option:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">genfile --null --files-from file.list
</pre></td></tr></table>
<a name="IDX603"></a>
<p>    The default data pattern for filling the generated file consists
of first 256 letters of ASCII code, repeated enough times to fill the
entire file. This behavior can be changed with <samp>`--pattern'</samp>
option. This option takes a mandatory argument, specifying pattern
name to use. Currently two patterns are implemented:
</p>
<dl compact="compact">
<dt> <samp>`--pattern=default'</samp></dt>
<dd><p>    The default pattern as described above.
</p>
</dd>
<dt> <samp>`--pattern=zero'</samp></dt>
<dd><p>    Fills the file with zeroes.
</p></dd>
</dl>

<p>    If no file name was given, the program exits with the code
<code>0</code>.  Otherwise, it exits with <code>0</code> only if it was able to
create a file of the specified length.
</p>
<a name="IDX604"></a>
<a name="IDX605"></a>
<p>    Special option <samp>`--sparse'</samp> (<samp>`-s'</samp>) instructs
<code>genfile</code> to create a sparse file. Sparse files consist of
<em>data fragments</em>, separated by <em>holes</em> or blocks of zeros. On
many operating systems, actual disk storage is not allocated for
holes, but they are counted in the length of the file. To create a
sparse file, <code>genfile</code> should know where to put data fragments,
and what data to use to fill them. So, when <samp>`--sparse'</samp> is given
the rest of the command line specifies a so-called <em>file map</em>.
</p>
<p>    The file map consists of any number of <em>fragment
descriptors</em>. Each descriptor is composed of two values: a number,
specifying fragment offset from the end of the previous fragment or,
for the very first fragment, from the beginning of the file, and
<em>contents string</em>, that specifies the pattern to fill the fragment
with. File offset can be suffixed with the following quantifiers:
</p>
<dl compact="compact">
<dt> <samp>`k'</samp></dt>
<dt> <samp>`K'</samp></dt>
<dd><p>The number is expressed in kilobytes.
</p></dd>
<dt> <samp>`m'</samp></dt>
<dt> <samp>`M'</samp></dt>
<dd><p>The number is expressed in megabytes.
</p></dd>
<dt> <samp>`g'</samp></dt>
<dt> <samp>`G'</samp></dt>
<dd><p>The number is expressed in gigabytes.
</p></dd>
</dl>

<p>    Contents string can be either a fragment size or a pattern.
Fragment size is a decimal number, prefixed with an equals sign.  It
can be suffixed with a quantifier, as discussed above.  If fragment
size is given, the fragment of that size will be filled with the
currently selected pattern (see section <a href="#SEC197">-pattern</a>) and
written to the file.  
</p>
<p>    A pattern is a string of arbitrary ASCII characters.  For each
of them, <code>genfile</code> will generate a <em>block</em> of data,
filled with that character and will write it to the fragment. The size
of block is given by <samp>`--block-size'</samp> option. It defaults to 512.
Thus, if pattern consists of <var>n</var> characters, the resulting file
fragment will contain <code><var>n</var>*<var>block-size</var></code> bytes of data.
</p>
<p>    The last fragment descriptor can have only file offset part. In this
case <code>genfile</code> will create a hole at the end of the file up to
the given offset.
</p>
<p>    A dash appearing as a fragment descriptor instructs
<code>genfile</code> to read file map from the standard input.  Each line
of input should consist of fragment offset and contents string,
separated by any amount of whitespace.
</p>
<p>    For example, consider the following invocation:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">genfile --sparse --file sparsefile 0 ABCD 1M EFGHI 2000K
</pre></td></tr></table>

<p>It will create 3101184-bytes long file of the following structure:
</p>
<table>
<tr><td><p> Offset  </p></td><td><p> Length       </p></td><td><p> Contents
</p></td></tr>
<tr><td><p> 0       </p></td><td><p> 4*512=2048   </p></td><td><p> Four 512-byte blocks, filled with
letters <samp>`A'</samp>, <samp>`B'</samp>, <samp>`C'</samp> and <samp>`D'</samp>.
</p></td></tr>
<tr><td><p> 2048    </p></td><td><p> 1046528      </p></td><td><p> Zero bytes
</p></td></tr>
<tr><td><p> 1050624 </p></td><td><p> 5*512=2560   </p></td><td><p> Five blocks, filled with letters
<samp>`E'</samp>, <samp>`F'</samp>, <samp>`G'</samp>, <samp>`H'</samp>, <samp>`I'</samp>.
</p></td></tr>
<tr><td><p> 1053184  </p></td><td><p> 2048000     </p></td><td><p> Zero bytes
</p></td></tr>
</table>

<a name="IDX606"></a>
<p>    The exit code of <code>genfile --sparse</code> command is <code>0</code>
only if created file is actually sparse.  If it is not, the
appropriate error message is displayed and the command exists with
code <code>1</code>.  The <samp>`--quite'</samp> (<samp>`-q'</samp>) option suppresses
this behavior.  If <samp>`--quite'</samp> is given, <code>genfile
--sparse</code> exits with code <code>0</code> if it was able to create the file,
whether the resulting file is sparse or not.
</p>
<hr size="6">
<a name="Status-Mode"></a>
<a name="SEC198"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC197" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC199" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC196" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC200" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="appendixsec"> F.2 Status Mode </h2>

<p>    In status mode, <code>genfile</code> prints file system status for
each file specified in the command line. This mode is toggled by
<samp>`--stat'</samp> (<samp>`-S'</samp>) command line option. An optional argument to this
option specifies output <em>format</em>: a comma-separated list of
<code>struct stat</code> fields to be displayed. This list can contain
following identifiers:
</p>
<dl compact="compact">
<dt> name</dt>
<dd><p>    The file name.
</p>
</dd>
<dt> dev</dt>
<dt> st_dev</dt>
<dd><p>    Device number in decimal.
</p>
</dd>
<dt> ino</dt>
<dt> st_ino</dt>
<dd><p>    Inode number.
</p>
</dd>
<dt> mode[.<var>number</var>]</dt>
<dt> st_mode[.<var>number</var>]</dt>
<dd>
<p>See <cite>Should we also support <samp>`%'</samp> notations as in stat(1)?</cite>
</p>

<p>    File mode in octal.  Optional <var>number</var> specifies octal mask to
be applied to the mode before outputting.  For example, <code>--stat
mode.777</code> will preserve lower nine bits of it.  Notice, that you can
use any punctuation character in place of <samp>`.'</samp>.
</p>
</dd>
<dt> nlink</dt>
<dt> st_nlink</dt>
<dd><p>    Number of hard links.
</p>
</dd>
<dt> uid</dt>
<dt> st_uid</dt>
<dd><p>    User ID of owner.
</p>
</dd>
<dt> gid</dt>
<dt> st_gid</dt>
<dd><p>    Group ID of owner.
</p>
</dd>
<dt> size</dt>
<dt> st_size</dt>
<dd><p>    File size in decimal.
</p>
</dd>
<dt> blksize</dt>
<dt> st_blksize</dt>
<dd><p>    The size in bytes of each file block.
</p>
</dd>
<dt> blocks</dt>
<dt> st_blocks</dt>
<dd><p>    Number of blocks allocated.
</p>
</dd>
<dt> atime</dt>
<dt> st_atime</dt>
<dd><p>    Time of last access.
</p>
</dd>
<dt> mtime</dt>
<dt> st_mtime</dt>
<dd><p>    Time of last modification
</p>
</dd>
<dt> ctime</dt>
<dt> st_ctime</dt>
<dd><p>    Time of last status change
</p>
</dd>
<dt> sparse</dt>
<dd><p>    A boolean value indicating whether the file is <samp>`sparse'</samp>.
</p></dd>
</dl>

<p>    Modification times are displayed in <acronym>UTC</acronym> as
<acronym>UNIX</acronym> timestamps, unless suffixed with <samp>`H'</samp> (for
&quot;human-readable&quot;), as in <samp>`ctimeH'</samp>, in which case usual
<code>tar tv</code> output format is used.
</p>
<p>    The default output format is: <samp>`name,dev,ino,mode,
nlink,uid,gid,size,blksize,blocks,atime,mtime,ctime'</samp>.
</p>
<p>    For example, the following command will display file names and
corresponding times of last access for each file in the current working
directory:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">genfile --stat=name,atime *
</pre></td></tr></table>
<hr size="6">
<a name="Exec-Mode"></a>
<a name="SEC199"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC198" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC200" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC196" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC196" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC200" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="appendixsec"> F.3 Exec Mode </h2>

<p>    This mode is designed for testing the behavior of <code>paxutils</code>
commands when some of the files change during archiving. It supposes
that the command being executed supports <samp>`--checkpoint'</samp> and
<samp>`--checkpoint-action'</samp> options (see <a href="${GS}/tar/manual/tar.html#checkpoints">Checkpoints: (tar)checkpoints</a> section `checkpoints' in <cite>GNU tar</cite>).
</p>
<p>    The <samp>`Exec Mode'</samp> is enabled by <samp>`--run'</samp> command line
option (or its alias <samp>`-r'</samp>). The non-optional arguments
supply the command line to be executed. <code>Genfile</code> modifies
this command line by inserting the following options between the
command name and first argument:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">--checkpoint=<var>n</var>
--checkpoint-action &quot;echo=genfile checkpoint %u&quot;
--checkpoint-action &quot;wait=SIGUSR1&quot;
</pre></td></tr></table>
<p>    Here, <var>n</var> stands for the checkpoint granularity (for GNU
<code>tar</code>, it is the number of archive records read or written
between each pair of checkpoints).  The default value is 1.  This
value can be changed using the optional argument to the <samp>`--run'</samp>
option.  For example, to run actions on each 10th checkpoint:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">genfile --run=10 ...
</pre></td></tr></table>
<p>    If the command line contains options, it must be preceded by a
double-dash (<samp>`--'</samp>), which will prevent these options from being
interpreted by <code>genfile</code> itself.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">genfile --run --checkpoint=2 --truncate foo -- tar -c -f a.tar .
</pre></td></tr></table>
<p>    Notice also, that when running <code>tar</code>, its command line may
not contain traditional options (cluster of letters without dash).    
</p>
<p>    A set of options is provided for defining checkpoint values and
actions to be executed upon reaching them. Checkpoint values are
introduced with the <samp>`--checkpoint'</samp> command line
option. Argument to this option is the number of checkpoint in decimal.
</p>
<p>    Any number of <em>actions</em> may be specified after a
checkpoint. Available actions are
</p>
<dl compact="compact">
<dt> <samp>`--cut <var>file</var>'</samp></dt>
<dt> <samp>`--truncate <var>file</var>'</samp></dt>
<dd><p>    Truncate <var>file</var> to the size specified by previous
<samp>`--length'</samp> option (or 0, if it is not given).
</p>
</dd>
<dt> <samp>`--append <var>file</var>'</samp></dt>
<dd><p>    Append data to <var>file</var>. The size of data and its pattern are
given by previous <samp>`--length'</samp> and <samp>`pattern'</samp> options.
</p>
</dd>
<dt> <samp>`--touch <var>file</var>'</samp></dt>
<dd><p>    Update the access and modification times of <var>file</var>. These
timestamps are changed to the current time, unless <samp>`--date'</samp>
option was given, in which case they are changed to the specified
time. Argument to <samp>`--date'</samp> option is a date specification in
an almost arbitrary format (see section <a href="#SEC121">Date input formats</a>).
</p>
</dd>
<dt> <samp>`--exec <var>command</var>'</samp></dt>
<dd><p>    Execute given shell command.
</p>
</dd>
<dt> <samp>`--delete <var>file</var>'</samp></dt>
<dt> <samp>`--unlink <var>file</var>'</samp></dt>
<dd><p>    Delete the named file or directory.  If deleting the directory, it
must be empty.    
</p></dd>
</dl>

<p>    Option <samp>`--verbose'</samp> instructs <code>genfile</code> to print on
standard output notifications about checkpoints being executed and to
verbosely describe exit status of the command.
</p>
<p>    While the command is being executed its standard output remains
connected to descriptor 1. All messages it prints to file descriptor
2, except checkpoint notifications, are forwarded to standard
error.
</p>
<p>    In exec mode, <code>genfile</code> exits with the exit status of the
executed command.
</p>

<hr size="6">
<a name="Free-Software-Needs-Free-Documentation"></a>
<a name="SEC200"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC199" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC201" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC196" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC201" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> G. Free Software Needs Free Documentation </h1>


<p>The biggest deficiency in the free software community today is not in
the software--it is the lack of good free documentation that we can
include with the free software.  Many of our most important
programs do not come with free reference manuals and free introductory
texts.  Documentation is an essential part of any software package;
when an important free software package does not come with a free
manual and a free tutorial, that is a major gap.  We have many such
gaps today.
</p>
<p>Consider Perl, for instance.  The tutorial manuals that people
normally use are non-free.  How did this come about?  Because the
authors of those manuals published them with restrictive terms--no
copying, no modification, source files not available--which exclude
them from the free software world.
</p>
<p>That wasn't the first time this sort of thing happened, and it was far
from the last.  Many times we have heard a GNU user eagerly describe a
manual that he is writing, his intended contribution to the community,
only to learn that he had ruined everything by signing a publication
contract to make it non-free.
</p>
<p>Free documentation, like free software, is a matter of freedom, not
price.  The problem with the non-free manual is not that publishers
charge a price for printed copies--that in itself is fine.  (The Free
Software Foundation sells printed copies of manuals, too.)  The
problem is the restrictions on the use of the manual.  Free manuals
are available in source code form, and give you permission to copy and
modify.  Non-free manuals do not allow this.
</p>
<p>The criteria of freedom for a free manual are roughly the same as for
free software.  Redistribution (including the normal kinds of
commercial redistribution) must be permitted, so that the manual can
accompany every copy of the program, both on-line and on paper.
</p>
<p>Permission for modification of the technical content is crucial too.
When people modify the software, adding or changing features, if they
are conscientious they will change the manual too--so they can
provide accurate and clear documentation for the modified program.  A
manual that leaves you no choice but to write a new manual to document
a changed version of the program is not really available to our
community.
</p>
<p>Some kinds of limits on the way modification is handled are
acceptable.  For example, requirements to preserve the original
author's copyright notice, the distribution terms, or the list of
authors, are ok.  It is also no problem to require modified versions
to include notice that they were modified.  Even entire sections that
may not be deleted or changed are acceptable, as long as they deal
with nontechnical topics (like this one).  These kinds of restrictions
are acceptable because they don't obstruct the community's normal use
of the manual.
</p>
<p>However, it must be possible to modify all the <em>technical</em>
content of the manual, and then distribute the result in all the usual
media, through all the usual channels.  Otherwise, the restrictions
obstruct the use of the manual, it is not free, and we need another
manual to replace it.
</p>
<p>Please spread the word about this issue.  Our community continues to
lose manuals to proprietary publishing.  If we spread the word that
free software needs free reference manuals and free tutorials, perhaps
the next person who wants to contribute by writing documentation will
realize, before it is too late, that only free manuals contribute to
the free software community.
</p>
<p>If you are writing documentation, please insist on publishing it under
the GNU Free Documentation License or another free documentation
license.  Remember that this decision requires your approval--you
don't have to let the publisher decide.  Some commercial publishers
will use a free license if you insist, but they will not propose the
option; it is up to you to raise the issue and say firmly that this is
what you want.  If the publisher you are dealing with refuses, please
try other publishers.  If you're not sure whether a proposed license
is free, write to <a href="mailto:licensing@gnu.org">licensing@gnu.org</a>.
</p>
<p>You can encourage commercial publishers to sell more free, copylefted
manuals and tutorials by buying them, and particularly by buying
copies from the publishers that paid for their writing or for major
improvements.  Meanwhile, try to avoid buying non-free documentation
at all.  Check the distribution terms of a manual before you buy it,
and insist that whoever seeks your business must respect your freedom.
Check the history of the book, and try reward the publishers that have
paid or pay the authors to work on it.
</p>
<p>The Free Software Foundation maintains a list of free documentation
published by other publishers, at
<a href="http://www.fsf.org/doc/other-free-books.html">http://www.fsf.org/doc/other-free-books.html</a>.
</p>
<hr size="6">
<a name="GNU-Free-Documentation-License"></a>
<a name="SEC201"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC200" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC200" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> H. GNU Free Documentation License </h1>


<p align="center"> Version 1.3, 3 November 2008
</p>

<table><tr><td>&nbsp;</td><td><pre class="display">Copyright &copy; 2000-2019 Free Software Foundation, Inc.
<a href="http://fsf.org/">http://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></td></tr></table>
<ol>
<li>
PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <em>free</em> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.
</p>
<p>This License is a kind of &quot;copyleft&quot;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li>
APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &quot;Document&quot;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &quot;you&quot;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>
<p>A &quot;Modified Version&quot; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A &quot;Secondary Section&quot; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The &quot;Invariant Sections&quot; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.
</p>
<p>The &quot;Cover Texts&quot; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.
</p>
<p>A &quot;Transparent&quot; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &quot;Transparent&quot; is called &quot;Opaque&quot;.
</p>
<p>Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input
format, SGML or XML using a publicly available
DTD, and standard-conforming simple HTML,
PostScript or PDF designed for human modification.  Examples
of transparent image formats include PNG, XCF and
JPG.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, SGML or
XML for which the DTD and/or processing tools are
not generally available, and the machine-generated HTML,
PostScript or PDF produced by some word processors for
output purposes only.
</p>
<p>The &quot;Title Page&quot; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &quot;Title Page&quot; means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.
</p>
<p>The &quot;publisher&quot; means any person or entity that distributes copies
of the Document to the public.
</p>
<p>A section &quot;Entitled XYZ&quot; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &quot;Acknowledgements&quot;,
&quot;Dedications&quot;, &quot;Endorsements&quot;, or &quot;History&quot;.)  To &quot;Preserve the Title&quot;
of such a section when you modify the Document means that it remains a
section &quot;Entitled XYZ&quot; according to this definition.
</p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li><li>
VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li>
COPYING IN QUANTITY

<p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li>
MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol>
<li>
Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li>
List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

</li><li>
State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li>
Preserve all the copyright notices of the Document.

</li><li>
Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li>
Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li>
Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

</li><li>
Include an unaltered copy of this License.

</li><li>
Preserve the section Entitled &quot;History&quot;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &quot;History&quot; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li>
Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &quot;History&quot; section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li>
For any section Entitled &quot;Acknowledgements&quot; or &quot;Dedications&quot;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

</li><li>
Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li>
Delete any section Entitled &quot;Endorsements&quot;.  Such a section
may not be included in the Modified Version.

</li><li>
Do not retitle any existing section to be Entitled &quot;Endorsements&quot; or
to conflict in title with any Invariant Section.

</li><li>
Preserve any Warranty Disclaimers.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section Entitled &quot;Endorsements&quot;, provided it contains
nothing but endorsements of your Modified Version by various
parties--for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li>
COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections Entitled &quot;History&quot;
in the various original documents, forming one section Entitled
&quot;History&quot;; likewise combine any sections Entitled &quot;Acknowledgements&quot;,
and any sections Entitled &quot;Dedications&quot;.  You must delete all
sections Entitled &quot;Endorsements.&quot;
</p>
</li><li>
COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li>
AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &quot;aggregate&quot; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.
</p>
</li><li>
TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.
</p>
<p>If a section in the Document is Entitled &quot;Acknowledgements&quot;,
&quot;Dedications&quot;, or &quot;History&quot;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li><li>
TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.
</p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.
</p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.
</p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.
</p>
</li><li>
FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License &quot;or any later version&quot; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.
</p>
</li><li>
RELICENSING

<p>&quot;Massive Multiauthor Collaboration Site&quot; (or &quot;MMC Site&quot;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&quot;Massive Multiauthor Collaboration&quot; (or &quot;MMC&quot;) contained in the
site means any set of copyrightable works thus published on the MMC
site.
</p>
<p>&quot;CC-BY-SA&quot; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.
</p>
<p>&quot;Incorporate&quot; means to publish or republish a Document, in whole or
in part, as part of another Document.
</p>
<p>An MMC is &quot;eligible for relicensing&quot; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.
</p>
<p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.
</p>
</li></ol>


<a name="SEC202"></a>
<h2 class="heading"> ADDENDUM: How to use this License for your documents </h2>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.3
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre></td></tr></table>
<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &quot;with&hellip;Texts.&quot; line with this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">    with the Invariant Sections being <var>list their titles</var>, with
    the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
    being <var>list</var>.
</pre></td></tr></table>
<p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>


<hr size="6">
<a name="Index-of-Command-Line-Options"></a>
<a name="SEC203"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC201" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC204" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC201" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#SEC204" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> I. Index of Command Line Options </h1>

<p>This appendix contains an index of all <acronym>GNU</acronym> <code>tar</code> long command line
options. The options are listed without the preceding double-dash.
For a cross-reference of short command line options, see
<a href="#SEC43">Short Options Cross Reference</a>.
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC203_0" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC203_1" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC203_2" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC203_3" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC203_4" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC203_5" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC203_6" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC203_7" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC203_8" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC203_9" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC203_10" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC203_11" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC203_12" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC203_13" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC203_14" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC203_15" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC203_16" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC203_17" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC203_18" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC203_19" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC203_20" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC203_21" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC203_22" class="summary-letter"><b>X</b></a>
 &nbsp; 
<a href="#SEC203_23" class="summary-letter"><b>Z</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-op">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_0">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX459"><code>absolute-names</code></a></td><td valign="top"><a href="#SEC120">6.10.2 Absolute File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX44"><code>absolute-names, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX45"><code>acls, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX390"><code>add-file</code></a></td><td valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX448"><code>after-date</code></a></td><td valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX46"><code>after-date, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX435"><code>anchored</code></a></td><td valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX47"><code>anchored, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC60"><code>append</code></a></td><td valign="top"><a href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC61"><code>append</code></a></td><td valign="top"><a href="#SEC61">4.2.2.1 Appending Files to an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX33"><code>append, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX532"><code>atime-preserve</code></a></td><td valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX48"><code>atime-preserve, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX522"><code>auto-compress</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX49"><code>auto-compress, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_1">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX327"><code>backup</code></a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX50"><code>backup, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX213"><code>block-number</code></a></td><td valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX51"><code>block-number, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX557"><code>blocking-factor</code></a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX52"><code>blocking-factor, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX53"><code>bzip2, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_2">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC65"><code>catenate</code></a></td><td valign="top"><a href="#SEC65">4.2.4 Combining Archives with <samp>`--concatenate'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX34"><code>catenate, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX344"><code>check-device, described</code></a></td><td valign="top"><a href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX54"><code>check-device, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX539"><code>check-links, described</code></a></td><td valign="top"><a href="#SEC142">8.3.3 Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX57"><code>check-links, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC48"><code>checkpoint</code></a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX216"><code>checkpoint, defined</code></a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX55"><code>checkpoint, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC48"><code>checkpoint-action</code></a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX217"><code>checkpoint-action, defined</code></a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX56"><code>checkpoint-action, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX60"><code>clamp-mtime, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC67"><code>compare</code></a></td><td valign="top"><a href="#SEC67">4.2.6 Comparing Archive Members with the File System</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX35"><code>compare, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX519"><code>compress</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX58"><code>compress, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC65"><code>concatenate</code></a></td><td valign="top"><a href="#SEC65">4.2.4 Combining Archives with <samp>`--concatenate'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX36"><code>concatenate, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX61"><code>confirmation, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC68"><code>create, additional options</code></a></td><td valign="top"><a href="#SEC68">4.3 Options Used by <samp>`--create'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX281"><code>create, complementary notes</code></a></td><td valign="top"><a href="#SEC57">4.1 Basic <acronym>GNU</acronym> <code>tar</code> Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC19"><code>create, introduced</code></a></td><td valign="top"><a href="#SEC19">2.6.2 Creating the Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX37"><code>create, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC20"><code>create, using with <samp>`--verbose'</samp></code></a></td><td valign="top"><a href="#SEC20">2.6.3 Running <samp>`--create'</samp> with <samp>`--verbose'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX580"><code>create, using with <samp>`--verify'</samp></code></a></td><td valign="top"><a href="#SEC169">9.8 Verifying Data as It is Stored</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_3">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX313"><code>delay-directory-restore</code></a></td><td valign="top"><a href="#SEC85">Directory Modification Times and Permissions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX62"><code>delay-directory-restore, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC66"><code>delete</code></a></td><td valign="top"><a href="#SEC66">4.2.5 Removing Archive Members Using <samp>`--delete'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX38"><code>delete, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX287"><code>delete, using before --append</code></a></td><td valign="top"><a href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC141"><code>dereference</code></a></td><td valign="top"><a href="#SEC141">8.3.2 Symbolic Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX63"><code>dereference, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX39"><code>diff, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX458"><code>directory</code></a></td><td valign="top"><a href="#SEC119">6.10.1 Changing the Working Directory</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX64"><code>directory, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_4">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC110"><code>exclude</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX393"><code>exclude</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC111"><code>exclude, potential problems with</code></a></td><td valign="top"><a href="#SEC111">Problems with Using the <code>exclude</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX65"><code>exclude, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX422"><code>exclude-backups</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX66"><code>exclude-backups, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX424"><code>exclude-caches</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX68"><code>exclude-caches, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX426"><code>exclude-caches-all</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX70"><code>exclude-caches-all, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX425"><code>exclude-caches-under</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX69"><code>exclude-caches-under, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC110"><code>exclude-from</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX395"><code>exclude-from</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX67"><code>exclude-from, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX408"><code>exclude-ignore</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX71"><code>exclude-ignore, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX409"><code>exclude-ignore-recursive</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX72"><code>exclude-ignore-recursive, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX428"><code>exclude-tag</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX73"><code>exclude-tag, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX430"><code>exclude-tag-all</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX75"><code>exclude-tag-all, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX429"><code>exclude-tag-under</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX74"><code>exclude-tag-under, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX421"><code>exclude-vcs</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX76"><code>exclude-vcs, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX403"><code>exclude-vcs-ignores</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX77"><code>exclude-vcs-ignores, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC25"><code>extract</code></a></td><td valign="top"><a href="#SEC25">2.8 How to Extract Members from an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC72"><code>extract, additional options</code></a></td><td valign="top"><a href="#SEC72">4.4 Options Used by <samp>`--extract'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX282"><code>extract, complementary notes</code></a></td><td valign="top"><a href="#SEC57">4.1 Basic <acronym>GNU</acronym> <code>tar</code> Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX40"><code>extract, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX346"><code>extract, using with <samp>`--listed-incremental'</samp></code></a></td><td valign="top"><a href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_5">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC106"><code>file</code></a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX377"><code>file, short description</code></a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX78"><code>file, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX12"><code>file, tutorial</code></a></td><td valign="top"><a href="#SEC14">The <samp>`--file'</samp> Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX387"><code>files-from</code></a></td><td valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX79"><code>files-from, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX549"><code>force-local, short description</code></a></td><td valign="top"><a href="#SEC155">9.1 Device Selection and Switching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX80"><code>force-local, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX81"><code>format, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX82"><code>full-time, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_6">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX41"><code>get, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX295"><code>group</code></a></td><td valign="top"><a href="#SEC69">4.3.1 Overriding File Metadata</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX83"><code>group, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX84"><code>group-map, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX86"><code>gunzip, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX512"><code>gzip</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX85"><code>gzip, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_7">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX540"><code>hard-dereference, described</code></a></td><td valign="top"><a href="#SEC142">8.3.3 Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX88"><code>hard-dereference, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX14"><code>help</code></a></td><td valign="top"><a href="#SEC16">Getting Help: Using the <samp>`--help'</samp> Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX205"><code>help, introduction</code></a></td><td valign="top"><a href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX89"><code>help, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX530"><code>hole-detection</code></a></td><td valign="top"><a href="#SEC137">8.1.2 Archiving Sparse Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX90"><code>hole-detection, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_8">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX437"><code>ignore-case</code></a></td><td valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX91"><code>ignore-case, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX317"><code>ignore-command-error</code></a></td><td valign="top"><a href="#SEC87">Writing to an External Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX92"><code>ignore-command-error, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX296"><code>ignore-failed-read</code></a></td><td valign="top"><a href="#SEC71">4.3.3 Ignore Failed Read</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX93"><code>ignore-failed-read, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC75"><code>ignore-zeros</code></a></td><td valign="top"><a href="#SEC75">Ignoring Blocks of Zeros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX558"><code>ignore-zeros, short description</code></a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX94"><code>ignore-zeros, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX95"><code>incremental, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX347"><code>incremental, using with <samp>`--list'</samp></code></a></td><td valign="top"><a href="#SEC_Foot"></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX96"><code>index-file, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX573"><code>info-script</code></a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX553"><code>info-script, short description</code></a></td><td valign="top"><a href="#SEC155">9.1 Device Selection and Switching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX97"><code>info-script, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX280"><code>interactive</code></a></td><td valign="top"><a href="#SEC54">3.10 Asking for Confirmation During Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX99"><code>interactive, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_9">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX100"><code>keep-directory-symlink, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX307"><code>keep-newer-files</code></a></td><td valign="top"><a href="#SEC80">Keep Newer Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX101"><code>keep-newer-files, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX306"><code>keep-old-files</code></a></td><td valign="top"><a href="#SEC79">Keep Old Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX299"><code>keep-old-files, introduced</code></a></td><td valign="top"><a href="#SEC77">Options Controlling the Overwriting of Existing Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX102"><code>keep-old-files, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_10">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC166"><code>label</code></a></td><td valign="top"><a href="#SEC166">9.6.2 Tape Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC168"><code>label</code></a></td><td valign="top"><a href="#SEC168">9.7 Including a Label in the Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX103"><code>label, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX341"><code>level, described</code></a></td><td valign="top"><a href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX104"><code>level, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC23"><code>list</code></a></td><td valign="top"><a href="#SEC23">2.7 How to List Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX42"><code>list, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX349"><code>list, using with <samp>`--incremental'</samp></code></a></td><td valign="top"><a href="#SEC_Foot"></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX350"><code>list, using with <samp>`--listed-incremental'</samp></code></a></td><td valign="top"><a href="#SEC_Foot"></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX17"><code>list, using with <samp>`--verbose'</samp></code></a></td><td valign="top"><a href="#SEC23">2.7 How to List Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX16"><code>list, using with file name arguments</code></a></td><td valign="top"><a href="#SEC23">2.7 How to List Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX340"><code>listed-incremental, described</code></a></td><td valign="top"><a href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX105"><code>listed-incremental, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX345"><code>listed-incremental, using with <samp>`--extract'</samp></code></a></td><td valign="top"><a href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX348"><code>listed-incremental, using with <samp>`--list'</samp></code></a></td><td valign="top"><a href="#SEC_Foot"></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX515"><code>lzip</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX106"><code>lzip, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX516"><code>lzma</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX107"><code>lzma, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX517"><code>lzop</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_11">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX292"><code>mode</code></a></td><td valign="top"><a href="#SEC69">4.3.1 Overriding File Metadata</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX108"><code>mode, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX293"><code>mtime</code></a></td><td valign="top"><a href="#SEC69">4.3.1 Overriding File Metadata</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX109"><code>mtime, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC165"><code>multi-volume</code></a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX551"><code>multi-volume, short description</code></a></td><td valign="top"><a href="#SEC155">9.1 Device Selection and Switching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX110"><code>multi-volume, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_12">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX574"><code>new-volume-script</code></a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX554"><code>new-volume-script, short description</code></a></td><td valign="top"><a href="#SEC155">9.1 Device Selection and Switching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX98"><code>new-volume-script, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX111"><code>new-volume-script, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX449"><code>newer</code></a></td><td valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX112"><code>newer, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX450"><code>newer-mtime</code></a></td><td valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX113"><code>newer-mtime, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX114"><code>no-acls, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX436"><code>no-anchored</code></a></td><td valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX115"><code>no-anchored, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX116"><code>no-auto-compress, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX343"><code>no-check-device, described</code></a></td><td valign="top"><a href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX117"><code>no-check-device, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX314"><code>no-delay-directory-restore</code></a></td><td valign="top"><a href="#SEC85">Directory Modification Times and Permissions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX118"><code>no-delay-directory-restore, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX438"><code>no-ignore-case</code></a></td><td valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX119"><code>no-ignore-case, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX318"><code>no-ignore-command-error</code></a></td><td valign="top"><a href="#SEC87">Writing to an External Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX120"><code>no-ignore-command-error, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX392"><code>no-null, described</code></a></td><td valign="top"><a href="#SEC109">6.3.1 <code>NUL</code>-Terminated File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX121"><code>no-null, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX122"><code>no-overwrite-dir, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX123"><code>no-quote-chars, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX451"><code>no-recursion</code></a></td><td valign="top"><a href="#SEC117">6.9 Descending into Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX124"><code>no-recursion, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX535"><code>no-same-owner</code></a></td><td valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX125"><code>no-same-owner, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX126"><code>no-same-permissions, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX127"><code>no-seek, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX128"><code>no-selinux, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX386"><code>no-unquote</code></a></td><td valign="top"><a href="#SEC107">6.2 Selecting Archive Members</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX129"><code>no-unquote, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX389"><code>no-verbatim-files-from</code></a></td><td valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX130"><code>no-verbatim-files-from, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX434"><code>no-wildcards</code></a></td><td valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX131"><code>no-wildcards, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX440"><code>no-wildcards-match-slash</code></a></td><td valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX132"><code>no-wildcards-match-slash, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX133"><code>no-xattrs, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX391"><code>null, described</code></a></td><td valign="top"><a href="#SEC109">6.3.1 <code>NUL</code>-Terminated File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX134"><code>null, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX536"><code>numeric-owner</code></a></td><td valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX135"><code>numeric-owner, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_13">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX284"><code>occurrence, described</code></a></td><td valign="top"><a href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX136"><code>occurrence, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX137"><code>old-archive, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX454"><code>one-file-system</code></a></td><td valign="top"><a href="#SEC118">6.10 Crossing File System Boundaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX138"><code>one-file-system, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX139"><code>one-top-level, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX304"><code>overwrite</code></a></td><td valign="top"><a href="#SEC78">Overwrite Old Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX301"><code>overwrite, introduced</code></a></td><td valign="top"><a href="#SEC77">Options Controlling the Overwriting of Existing Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX140"><code>overwrite, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX305"><code>overwrite-dir</code></a></td><td valign="top"><a href="#SEC78">Overwrite Old Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC77"><code>overwrite-dir, introduced</code></a></td><td valign="top"><a href="#SEC77">Options Controlling the Overwriting of Existing Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX141"><code>overwrite-dir, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX294"><code>owner</code></a></td><td valign="top"><a href="#SEC69">4.3.1 Overriding File Metadata</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX142"><code>owner, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX143"><code>owner-map, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_14">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX541"><code>pax-option</code></a></td><td valign="top"><a href="#SEC147">8.3.7.1 Controlling Extended Header Keywords</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX144"><code>pax-option, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX145"><code>portability, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX146"><code>posix, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX326"><code>preserve-order</code></a></td><td valign="top"><a href="#SEC91">Same Order</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX147"><code>preserve-order, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX311"><code>preserve-permissions</code></a></td><td valign="top"><a href="#SEC84">Setting Access Permissions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX538"><code>preserve-permissions, short description</code></a></td><td valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX148"><code>preserve-permissions, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_15">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX150"><code>quote-chars, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX441"><code>quoting-style</code></a></td><td valign="top"><a href="#SEC114">6.6 Quoting Member Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX151"><code>quoting-style, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_16">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC73"><code>read-full-records</code></a></td><td valign="top"><a href="#SEC73">4.4.1 Options to Help Read Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX297"><code>read-full-records</code></a></td><td valign="top"><a href="#SEC74">Reading Full Records</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX559"><code>read-full-records, short description</code></a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX152"><code>read-full-records, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX153"><code>record-size, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX453"><code>recursion</code></a></td><td valign="top"><a href="#SEC117">6.9 Descending into Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX154"><code>recursion, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX309"><code>recursive-unlink</code></a></td><td valign="top"><a href="#SEC82">Recursive Unlink</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX155"><code>recursive-unlink, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX319"><code>remove-files</code></a></td><td valign="top"><a href="#SEC88">Removing Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX156"><code>remove-files, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX157"><code>restrict, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX158"><code>rmt-command, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX550"><code>rsh-command</code></a></td><td valign="top"><a href="#SEC155">9.1 Device Selection and Switching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX159"><code>rsh-command, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_17">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX325"><code>same-order</code></a></td><td valign="top"><a href="#SEC91">Same Order</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX160"><code>same-order, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX534"><code>same-owner</code></a></td><td valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX161"><code>same-owner, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX312"><code>same-permissions</code></a></td><td valign="top"><a href="#SEC84">Setting Access Permissions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX537"><code>same-permissions, short description</code></a></td><td valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX149"><code>same-permissions, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX162"><code>same-permissions, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX163"><code>seek, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX164"><code>selinux, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC46"><code>show-defaults</code></a></td><td valign="top"><a href="#SEC46">3.6 Obtaining <acronym>GNU</acronym> <code>tar</code> default values</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX165"><code>show-defaults, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX212"><code>show-omitted-dirs</code></a></td><td valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX166"><code>show-omitted-dirs, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX599"><code>show-snapshot-field-ranges</code></a></td><td valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX167"><code>show-snapshot-field-ranges, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX20"><code>show-stored-names</code></a></td><td valign="top"><a href="#SEC23">2.7 How to List Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX169"><code>show-stored-names, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX443"><code>show-transformed-names</code></a></td><td valign="top"><a href="#SEC115">6.7 Modifying File and Member Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX168"><code>show-transformed-names, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX300"><code>skip-old-files, introduced</code></a></td><td valign="top"><a href="#SEC77">Options Controlling the Overwriting of Existing Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX170"><code>skip-old-files, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX171"><code>sort, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX527"><code>sparse</code></a></td><td valign="top"><a href="#SEC137">8.1.2 Archiving Sparse Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX172"><code>sparse, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX529"><code>sparse-version</code></a></td><td valign="top"><a href="#SEC137">8.1.2 Archiving Sparse Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX173"><code>sparse-version, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX322"><code>starting-file</code></a></td><td valign="top"><a href="#SEC90">Starting File</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX174"><code>starting-file, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX442"><code>strip-components</code></a></td><td valign="top"><a href="#SEC115">6.7 Modifying File and Member Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX175"><code>strip-components, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX334"><code>suffix</code></a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX176"><code>suffix, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_18">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX567"><code>tape-length</code></a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX552"><code>tape-length, short description</code></a></td><td valign="top"><a href="#SEC155">9.1 Device Selection and Switching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX177"><code>tape-length, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX577"><code>test-label</code></a></td><td valign="top"><a href="#SEC168">9.7 Including a Label in the Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX178"><code>test-label, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX316"><code>to-command</code></a></td><td valign="top"><a href="#SEC87">Writing to an External Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX179"><code>to-command, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX315"><code>to-stdout</code></a></td><td valign="top"><a href="#SEC86">Writing to Standard Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX180"><code>to-stdout, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX210"><code>totals</code></a></td><td valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX181"><code>totals, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX310"><code>touch</code></a></td><td valign="top"><a href="#SEC83">Setting Data Modification Times</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX533"><code>touch</code></a></td><td valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX182"><code>touch, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX444"><code>transform</code></a></td><td valign="top"><a href="#SEC115">6.7 Modifying File and Member Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX183"><code>transform, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_19">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX520"><code>uncompress</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX59"><code>uncompress, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX185"><code>uncompress, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX513"><code>ungzip</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX87"><code>ungzip, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX186"><code>ungzip, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX308"><code>unlink-first</code></a></td><td valign="top"><a href="#SEC81">Unlink First</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX303"><code>unlink-first, introduced</code></a></td><td valign="top"><a href="#SEC77">Options Controlling the Overwriting of Existing Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX187"><code>unlink-first, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX385"><code>unquote</code></a></td><td valign="top"><a href="#SEC107">6.2 Selecting Archive Members</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX188"><code>unquote, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC63"><code>update</code></a></td><td valign="top"><a href="#SEC63">4.2.3 Updating an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC64"><code>update</code></a></td><td valign="top"><a href="#SEC64">4.2.3.1 How to Update an Archive Using <samp>`--update'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX43"><code>update, summary</code></a></td><td valign="top"><a href="#SEC41">3.4.1 Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX206"><code>usage</code></a></td><td valign="top"><a href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX523"><code>use-compress-program</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX189"><code>use-compress-program, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX190"><code>utc, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_20">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX388"><code>verbatim-files-from</code></a></td><td valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX191"><code>verbatim-files-from, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX208"><code>verbose</code></a></td><td valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX13"><code>verbose, introduced</code></a></td><td valign="top"><a href="#SEC15">The <samp>`--verbose'</samp> Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX192"><code>verbose, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC20"><code>verbose, using with <samp>`--create'</samp></code></a></td><td valign="top"><a href="#SEC20">2.6.3 Running <samp>`--create'</samp> with <samp>`--verbose'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX18"><code>verbose, using with <samp>`--list'</samp></code></a></td><td valign="top"><a href="#SEC23">2.7 How to List Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX578"><code>verify, short description</code></a></td><td valign="top"><a href="#SEC169">9.8 Verifying Data as It is Stored</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX193"><code>verify, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX579"><code>verify, using with <samp>`--create'</samp></code></a></td><td valign="top"><a href="#SEC169">9.8 Verifying Data as It is Stored</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC45"><code>version</code></a></td><td valign="top"><a href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX194"><code>version, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX570"><code>volno-file</code></a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX195"><code>volno-file, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_21">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX226"><code>warning, explained</code></a></td><td valign="top"><a href="#SEC49">3.9 Controlling Warning Messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX196"><code>warning, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX433"><code>wildcards</code></a></td><td valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX197"><code>wildcards, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX439"><code>wildcards-match-slash</code></a></td><td valign="top"><a href="#SEC113">Controlling Pattern-Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX198"><code>wildcards-match-slash, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_22">X</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX199"><code>xattrs, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX200"><code>xattrs-exclude, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX201"><code>xattrs-include, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX445"><code>xform</code></a></td><td valign="top"><a href="#SEC115">6.7 Modifying File and Member Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX184"><code>xform, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX514"><code>xz</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX202"><code>xz, summary</code></a></td><td valign="top"><a href="#SEC42">3.4.2 <code>tar</code> Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC203_23">Z</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX518"><code>zstd</code></a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC203_0" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC203_1" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC203_2" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC203_3" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC203_4" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC203_5" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC203_6" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC203_7" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC203_8" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC203_9" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#SEC203_10" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC203_11" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC203_12" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC203_13" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC203_14" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC203_15" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#SEC203_16" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC203_17" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC203_18" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC203_19" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC203_20" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC203_21" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC203_22" class="summary-letter"><b>X</b></a>
 &nbsp; 
<a href="#SEC203_23" class="summary-letter"><b>Z</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Index"></a>
<a name="SEC204"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC203" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[ &gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC203" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[ &gt;&gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="appendix"> J. Index </h1>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC204_0" class="summary-letter"><b>%</b></a>
 &nbsp; 
<a href="#SEC204_1" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC204_2" class="summary-letter"><b>.</b></a>
 &nbsp; 
<br>
<a href="#SEC204_3" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC204_4" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC204_5" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC204_6" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC204_7" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC204_8" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC204_9" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC204_10" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC204_11" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC204_12" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC204_13" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC204_14" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC204_15" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC204_16" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC204_17" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC204_18" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC204_19" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC204_20" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC204_21" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC204_22" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC204_23" class="summary-letter"><b>X</b></a>
 &nbsp; 
<a href="#SEC204_24" class="summary-letter"><b>Y</b></a>
 &nbsp; 
<a href="#SEC204_25" class="summary-letter"><b>Z</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_0">%</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX272"><samp>`%s: Directory has been renamed from %s'</samp>, warning message</a></td><td valign="top"><a href="#SEC53">Keywords controlling incremental extraction:</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX273"><samp>`%s: Directory has been renamed'</samp>, warning message</a></td><td valign="top"><a href="#SEC53">Keywords controlling incremental extraction:</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX275"><samp>`%s: Directory is new'</samp>, warning message</a></td><td valign="top"><a href="#SEC53">Keywords controlling incremental extraction:</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX277"><samp>`%s: directory is on a different device: not purging'</samp>, warning message</a></td><td valign="top"><a href="#SEC53">Keywords controlling incremental extraction:</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX254"><samp>`%s: skipping existing file'</samp>, warning message</a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_1">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX446">-after-date and -update compared</a></td><td valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX447">-newer-mtime and -update compared</a></td><td valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX606">-quite, option</a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_2">.</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX406"><code>.bzrignore</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX404"><code>.cvsignore</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX405"><code>.gitignore</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX407"><code>.hgignore</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_3">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX232"><samp>`A lone zero block at'</samp>, warning message</a></td><td valign="top"><a href="#SEC50">Keywords controlling <code>tar</code> operation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX475">abbreviations for months</a></td><td valign="top"><a href="#SEC123">7.2 Calendar date items</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC120">absolute file names</a></td><td valign="top"><a href="#SEC120">6.10.2 Absolute File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX555">absolute file names</a></td><td valign="top"><a href="#SEC156">9.2 Remote Tape Server</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC65">Adding archives to an archive</a></td><td valign="top"><a href="#SEC65">4.2.4 Combining Archives with <samp>`--concatenate'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC61">Adding files to an Archive</a></td><td valign="top"><a href="#SEC61">4.2.2.1 Appending Files to an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX351"><code>ADMINISTRATOR</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC116">Age, excluding files by</a></td><td valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX492"><code>ago in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX227"><code>all</code></a></td><td valign="top"><a href="#SEC50">Keywords controlling <code>tar</code> operation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX231"><code>alone-zero-block</code></a></td><td valign="top"><a href="#SEC50">Keywords controlling <code>tar</code> operation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX511">alternative decompression programs</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX477"><code>am in date strings</code></a></td><td valign="top"><a href="#SEC124">7.3 Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC61">Appending files to an Archive</a></td><td valign="top"><a href="#SEC61">4.2.2.1 Appending Files to an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC60">appending files to existing archive</a></td><td valign="top"><a href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX418">Arch, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC3">archive</a></td><td valign="top"><a href="#SEC3">1.2 Some Definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX379">Archive creation</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX4">archive member</a></td><td valign="top"><a href="#SEC3">1.2 Some Definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC106">Archive Name</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC17">Archive, creation of</a></td><td valign="top"><a href="#SEC17">2.6 How to Create Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC61">Archives, Appending files to</a></td><td valign="top"><a href="#SEC61">4.2.2.1 Appending Files to an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX542">archives, binary equivalent</a></td><td valign="top"><a href="#SEC147">8.3.7.1 Controlling Extended Header Keywords</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC22">Archiving Directories</a></td><td valign="top"><a href="#SEC22">2.6.5 Archiving Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX2">archiving files</a></td><td valign="top"><a href="#SEC_Top"><acronym>GNU</acronym> tar: an archiver tool</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX23">arguments to long options</a></td><td valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX31">arguments to old options</a></td><td valign="top"><a href="#SEC38">3.3.3 Old Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX27">arguments to short options</a></td><td valign="top"><a href="#SEC37">3.3.2 Short Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX261"><samp>`Attempting extraction of symbolic links as hard links'</samp>, warning message</a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC138">attributes, files</a></td><td valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX502">authors of <code>parse_datetime</code></a></td><td valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC117">Avoiding recursion in directories</a></td><td valign="top"><a href="#SEC117">6.9 Descending into Directories</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_4">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC92">backup options</a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX335">backup suffix</a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX355"><code>BACKUP_DIRS</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX357"><code>BACKUP_FILES</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX352"><code>BACKUP_HOUR</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX329">backups</a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC94">backups</a></td><td valign="top"><a href="#SEC94">5. Performing Backups and Restoring Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX278"><code>bad-dumpdir</code></a></td><td valign="top"><a href="#SEC53">Keywords controlling incremental extraction:</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC59">basic operations</a></td><td valign="top"><a href="#SEC59">4.2.1 The Five Advanced <code>tar</code> Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX417">Bazaar, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX401">Bazaar, ignore files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX499">beginning of time, for POSIX</a></td><td valign="top"><a href="#SEC130">7.9 Seconds since the Epoch</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX219"><code>bell</code>, checkpoint action</a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX503">Bellovin, Steven M.</a></td><td valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX505">Berets, Jim</a></td><td valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX510">Berry, K.</a></td><td valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX543">binary equivalent archives, creating</a></td><td valign="top"><a href="#SEC147">8.3.7.1 Controlling Extended Header Keywords</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC158">block</a></td><td valign="top"><a href="#SEC158">9.4 Blocking</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX214">Block number where error occurred</a></td><td valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX354"><code>BLOCKING</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX560">blocking factor</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC160">Blocking Factor</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC160">Blocks per record</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC7">bug reports</a></td><td valign="top"><a href="#SEC7">1.6 Reporting bugs or suggestions</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC160">Bytes per record</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC135">bzip2</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_5">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX233"><code>cachedir</code></a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC123">calendar date item</a></td><td valign="top"><a href="#SEC123">7.2 Calendar date items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX469">case, ignored in dates</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX289"><code>cat</code> vs <code>concatenate</code></a></td><td valign="top"><a href="#SEC65">4.2.4 Combining Archives with <samp>`--concatenate'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX455">Changing directory mid-stream</a></td><td valign="top"><a href="#SEC119">6.10.1 Changing the Working Directory</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX432">Character class, excluding characters from</a></td><td valign="top"><a href="#SEC112">6.5 Wildcards Patterns and Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC48">checkpoints, defined</a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC106">Choosing an archive file</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC126">combined date and time of day item</a></td><td valign="top"><a href="#SEC126">7.5 Combined date and time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX470">comments, in dates</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC135">compress</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC135">Compressed archives</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX288"><code>concatenate</code> vs <code>cat</code></a></td><td valign="top"><a href="#SEC65">4.2.4 Combining Archives with <samp>`--concatenate'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC65">Concatenating Archives</a></td><td valign="top"><a href="#SEC65">4.2.4 Combining Archives with <samp>`--concatenate'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX234"><samp>`contains a cache directory tag'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX258"><code>contiguous-cast</code></a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX339">corrupted archives</a></td><td valign="top"><a href="#SEC95">5.1 Using <code>tar</code> to Perform Full Dumps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX521">corrupted archives</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC17">Creation of the archive</a></td><td valign="top"><a href="#SEC17">2.6 How to Create Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX265"><samp>`Current %s is newer or same age'</samp>, warning message</a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX414">CVS, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX399">CVS, ignore files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_6">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX420">Darcs, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX563">DAT blocking</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC116">Data Modification time, excluding files by</a></td><td valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC83">Data modification times of extracted files</a></td><td valign="top"><a href="#SEC83">Setting Data Modification Times</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC126">date and time of day format, ISO 8601</a></td><td valign="top"><a href="#SEC126">7.5 Combined date and time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX473">date format, ISO 8601</a></td><td valign="top"><a href="#SEC123">7.2 Calendar date items</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC121">date input formats</a></td><td valign="top"><a href="#SEC121">7. Date input formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX489"><code>day in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX493"><code>day in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC127">day of week item</a></td><td valign="top"><a href="#SEC127">7.6 Day of week items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX268"><code>decompress-program</code></a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC66">Deleting files from an archive</a></td><td valign="top"><a href="#SEC66">4.2.5 Removing Archive Members Using <samp>`--delete'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX291">Deleting from tape archives</a></td><td valign="top"><a href="#SEC66">4.2.5 Removing Archive Members Using <samp>`--delete'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC142">dereferencing hard links</a></td><td valign="top"><a href="#SEC142">8.3.3 Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC117">Descending directories, avoiding</a></td><td valign="top"><a href="#SEC117">6.9 Descending into Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC186">Device numbers, changing</a></td><td valign="top"><a href="#SEC186">D. Fixing Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX342">Device numbers, using in incremental backups</a></td><td valign="top"><a href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC22">Directories, Archiving</a></td><td valign="top"><a href="#SEC22">2.6.5 Archiving Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC117">Directories, avoiding recursion</a></td><td valign="top"><a href="#SEC117">6.9 Descending into Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX456">Directory, changing mid-stream</a></td><td valign="top"><a href="#SEC119">6.10.1 Changing the Working Directory</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX356"><code>DIRLIST</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC128">displacement of dates</a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX585"><code>doc-opt-col</code></a></td><td valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX242"><samp>`door ignored'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX221"><code>dot</code>, checkpoint action</a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC169">Double-checking a write operation</a></td><td valign="top"><a href="#SEC169">9.8 Verifying Data as It is Stored</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX373"><code>DUMP_BEGIN</code></a></td><td valign="top"><a href="#SEC101">5.4.3 User Hooks</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX374"><code>DUMP_END</code></a></td><td valign="top"><a href="#SEC101">5.4.3 User Hooks</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX365"><code>DUMP_REMIND_SCRIPT</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX338">dumps, full</a></td><td valign="top"><a href="#SEC95">5.1 Using <code>tar</code> to Perform Full Dumps</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX581"><code>dup-args</code></a></td><td valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX582"><code>dup-args-note</code></a></td><td valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_7">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX218"><code>echo</code>, checkpoint action</a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX508">Eggert, Paul</a></td><td valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC75">End-of-archive blocks, ignoring</a></td><td valign="top"><a href="#SEC75">Ignoring Blocks of Zeros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX571">End-of-archive info script</a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX10">entry</a></td><td valign="top"><a href="#SEC5">1.4 How <code>tar</code> Archives are Named</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX500">epoch, for POSIX</a></td><td valign="top"><a href="#SEC130">7.9 Seconds since the Epoch</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX215">Error message, block number of</a></td><td valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX562">Exabyte blocking</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX394"><code>exclude</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX423"><code>exclude-caches</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX396"><code>exclude-from</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX427"><code>exclude-tag</code></a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX431">Excluding characters from a character class</a></td><td valign="top"><a href="#SEC112">6.5 Wildcards Patterns and Matching</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC116">Excluding file by age</a></td><td valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC110">Excluding files by file system</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC110">Excluding files by name and pattern</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC199">Exec Mode, <code>genfile</code></a></td><td valign="top"><a href="#SEC199">F.3 Exec Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX225"><code>exec</code>, checkpoint action</a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX332">existing backup method</a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX253"><code>existing-file</code></a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX21">exit status</a></td><td valign="top"><a href="#SEC33">3.1 General Synopsis of <code>tar</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX259"><samp>`Extracting contiguous files as regular files'</samp>, warning message</a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX283">extracting <var>n</var>th copy of the file</a></td><td valign="top"><a href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX7">extraction</a></td><td valign="top"><a href="#SEC3">1.2 Some Definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC25">Extraction</a></td><td valign="top"><a href="#SEC25">2.8 How to Extract Members from an Archive</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_8">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX1">file archival</a></td><td valign="top"><a href="#SEC_Top"><acronym>GNU</acronym> tar: an archiver tool</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC138">file attributes</a></td><td valign="top"><a href="#SEC138">8.2 Handling File Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX252"><samp>`file changed as we read it'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX238"><samp>`file is on a different filesystem'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX246"><samp>`file is the archive; not dumped'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX248"><samp>`file is the archive; not dumped'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX244"><samp>`file is unchanged; not dumped'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX602">File lists separated by NUL characters</a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX5">file name</a></td><td valign="top"><a href="#SEC3">1.2 Some Definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC108">File Name arguments, alternatives</a></td><td valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX15">File name arguments, using <samp>`--list'</samp> with</a></td><td valign="top"><a href="#SEC23">2.7 How to List Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX230"><samp>`file name read contains nul character'</samp>, warning message</a></td><td valign="top"><a href="#SEC50">Keywords controlling <code>tar</code> operation</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC120">file names, absolute</a></td><td valign="top"><a href="#SEC120">6.10.2 Absolute File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC110">File names, excluding files by</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC109">File names, terminated by <code>NUL</code></a></td><td valign="top"><a href="#SEC109">6.3.1 <code>NUL</code>-Terminated File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC142">File names, using hard links</a></td><td valign="top"><a href="#SEC142">8.3.3 Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC141">File names, using symbolic links</a></td><td valign="top"><a href="#SEC141">8.3.2 Symbolic Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX250"><samp>`File removed before we read it'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX236"><samp>`File shrank by %s bytes'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC118">File system boundaries, not crossing</a></td><td valign="top"><a href="#SEC118">6.10 Crossing File System Boundaries</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX251"><code>file-changed</code></a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX239"><code>file-ignored</code></a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX249"><code>file-removed</code></a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX235"><code>file-shrank</code></a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX243"><code>file-unchanged</code></a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX358"><code>FILELIST</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX229"><code>filename-with-nuls</code></a></td><td valign="top"><a href="#SEC50">Keywords controlling <code>tar</code> operation</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC108"><code>find</code>, using with <code>tar</code></a></td><td valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX452"><code>find</code>, using with <code>tar</code></a></td><td valign="top"><a href="#SEC117">6.9 Descending into Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX462"><code>first in date strings</code></a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX592">format 0, snapshot file</a></td><td valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX594">format 1, snapshot file</a></td><td valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX596">format 2, snapshot file</a></td><td valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC159">Format Options</a></td><td valign="top"><a href="#SEC159">9.4.1 Format Variations</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC159">Format Parameters</a></td><td valign="top"><a href="#SEC159">9.4.1 Format Variations</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC143">Format, old style</a></td><td valign="top"><a href="#SEC143">8.3.4 Old V7 Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX487"><code>fortnight in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC200">free documentation</a></td><td valign="top"><a href="#SEC200">G. Free Software Needs Free Documentation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX337">full dumps</a></td><td valign="top"><a href="#SEC95">5.1 Using <code>tar</code> to Perform Full Dumps</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC149">future time stamps</a></td><td valign="top"><a href="#SEC149">8.3.9 Large or Negative Values</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_9">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC122">general date syntax</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC197">Generate Mode, <code>genfile</code></a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC196">genfile</a></td><td valign="top"><a href="#SEC196">F. Genfile</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC197"><code>genfile</code>, create file</a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX605"><code>genfile</code>, creating sparse files</a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC197"><code>genfile</code>, generate mode</a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX601"><code>genfile</code>, reading a list of file names</a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX600"><code>genfile</code>, seeking to a given offset</a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC45">Getting program version number</a></td><td valign="top"><a href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX416">git, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX400">Git, ignore files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC145">GNU archive format</a></td><td valign="top"><a href="#SEC145">8.3.6 <acronym>GNU</acronym> and old <acronym>GNU</acronym> <code>tar</code> format</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX525">gnupg, using with tar</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX524">gpg, using with tar</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC135">gzip</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_10">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC142">hard links, dereferencing</a></td><td valign="top"><a href="#SEC142">8.3.3 Hard Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX587"><code>header-col</code></a></td><td valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX531">hole detection</a></td><td valign="top"><a href="#SEC137">8.1.2 Archiving Sparse Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX372"><code>hook</code></a></td><td valign="top"><a href="#SEC101">5.4.3 User Hooks</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX490"><code>hour in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_11">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX245"><code>ignore-archive</code></a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX247"><code>ignore-archive</code></a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX264"><code>ignore-newer</code></a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC75">Ignoring end-of-archive blocks</a></td><td valign="top"><a href="#SEC75">Ignoring Blocks of Zeros</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX267"><samp>`Ignoring unknown extended header keyword '%s''</samp>, warning message</a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX256"><samp>`implausibly old time stamp %s'</samp>, warning message</a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX572">Info script</a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC54">Interactive operation</a></td><td valign="top"><a href="#SEC54">3.10 Asking for Confirmation During Operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC126">ISO 8601 date and time of day format</a></td><td valign="top"><a href="#SEC126">7.5 Combined date and time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX472">ISO 8601 date format</a></td><td valign="top"><a href="#SEC123">7.2 Calendar date items</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC122">items in date strings</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_12">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC168">Labeling an archive</a></td><td valign="top"><a href="#SEC168">9.7 Including a Label in the Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC166">labeling archives</a></td><td valign="top"><a href="#SEC166">9.6.2 Tape Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC168">Labeling multi-volume archives</a></td><td valign="top"><a href="#SEC168">9.7 Including a Label in the Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC168">Labels on the archive media</a></td><td valign="top"><a href="#SEC168">9.7 Including a Label in the Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX466">language, in dates</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX467">language, in dates</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX324">Large lists of file names on small machines</a></td><td valign="top"><a href="#SEC91">Same Order</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC149">large values</a></td><td valign="top"><a href="#SEC149">8.3.9 Large or Negative Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX484"><code>last <var>day</var></code></a></td><td valign="top"><a href="#SEC127">7.6 Day of week items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX464"><code>last in date strings</code></a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC136">Laszlo Ersek</a></td><td valign="top"><a href="#SEC136">8.1.1.1 Using lbzip2 with <acronym>GNU</acronym> <code>tar</code>.</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC136">lbzip2</a></td><td valign="top"><a href="#SEC136">8.1.1.1 Using lbzip2 with <acronym>GNU</acronym> <code>tar</code>.</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX471">leap seconds</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX476">leap seconds</a></td><td valign="top"><a href="#SEC124">7.3 Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX501">leap seconds</a></td><td valign="top"><a href="#SEC130">7.9 Seconds since the Epoch</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX204">Listing all <code>tar</code> options</a></td><td valign="top"><a href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX19">listing member and file names</a></td><td valign="top"><a href="#SEC23">2.7 How to List Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX576">Listing volume label</a></td><td valign="top"><a href="#SEC168">9.7 Including a Label in the Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC108">Lists of file names</a></td><td valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX384">Local and remote archives</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC36">long options</a></td><td valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX24">long options with mandatory arguments</a></td><td valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX26">long options with optional arguments</a></td><td valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX584"><code>long-opt-col</code></a></td><td valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC135">lzip</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC135">lzma</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC135">lzop</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_13">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX506">MacKenzie, David</a></td><td valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX279"><samp>`Malformed dumpdir: 'X' never used'</samp>, warning message</a></td><td valign="top"><a href="#SEC53">Keywords controlling incremental extraction:</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX3">member</a></td><td valign="top"><a href="#SEC3">1.2 Some Definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX6">member name</a></td><td valign="top"><a href="#SEC3">1.2 Some Definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC62">members, multiple</a></td><td valign="top"><a href="#SEC62">4.2.2.2 Multiple Members with the Same Name</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX285">Members, replacing with other members</a></td><td valign="top"><a href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX419">Mercurial, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX402">Mercurial, ignore files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX507">Meyering, Jim</a></td><td valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX323">Middle of the archive, starting in the</a></td><td valign="top"><a href="#SEC90">Starting File</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX479"><code>midnight in date strings</code></a></td><td valign="top"><a href="#SEC124">7.3 Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX491"><code>minute in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX482">minutes, time zone correction by</a></td><td valign="top"><a href="#SEC124">7.3 Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC84">Modes of extracted files</a></td><td valign="top"><a href="#SEC84">Setting Access Permissions</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC116">Modification time, excluding files by</a></td><td valign="top"><a href="#SEC116">6.8 Operating Only on New Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC83">Modification times of extracted files</a></td><td valign="top"><a href="#SEC83">Setting Data Modification Times</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX486"><code>month in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX474">month names in date strings</a></td><td valign="top"><a href="#SEC123">7.2 Calendar date items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX465">months, written-out</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX359"><code>MT</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX368"><code>MT_BEGIN</code></a></td><td valign="top"><a href="#SEC100">5.4.2 Magnetic Tape Control</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX370"><code>MT_OFFLINE</code></a></td><td valign="top"><a href="#SEC100">5.4.2 Magnetic Tape Control</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX369"><code>MT_REWIND</code></a></td><td valign="top"><a href="#SEC100">5.4.2 Magnetic Tape Control</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX371"><code>MT_STATUS</code></a></td><td valign="top"><a href="#SEC100">5.4.2 Magnetic Tape Control</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC165">Multi-volume archives</a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX544">Multi-volume archives in PAX format, extracting using non-GNU tars</a></td><td valign="top"><a href="#SEC151">8.3.10.1 Extracting Members Split Between Volumes</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC151">Multi-volume archives, extracting using non-GNU tars</a></td><td valign="top"><a href="#SEC151">8.3.10.1 Extracting Members Split Between Volumes</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC62">multiple members</a></td><td valign="top"><a href="#SEC62">4.2.2.2 Multiple Members with the Same Name</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_14">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC106">Naming an archive</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC149">negative time stamps</a></td><td valign="top"><a href="#SEC149">8.3.9 Large or Negative Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX274"><code>new-directory</code></a></td><td valign="top"><a href="#SEC53">Keywords controlling incremental extraction:</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX483"><code>next <var>day</var></code></a></td><td valign="top"><a href="#SEC127">7.6 Day of week items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX463"><code>next in date strings</code></a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX228"><code>none</code></a></td><td valign="top"><a href="#SEC50">Keywords controlling <code>tar</code> operation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX480"><code>noon in date strings</code></a></td><td valign="top"><a href="#SEC124">7.3 Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX496"><code>now in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX564"><code>ntape device</code></a></td><td valign="top"><a href="#SEC161">9.5 Many Archives on One Tape</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC109"><code>NUL</code>-terminated file names</a></td><td valign="top"><a href="#SEC109">6.3.1 <code>NUL</code>-Terminated File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC160">Number of blocks per record</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC160">Number of bytes per record</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX331">numbered backup method</a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX460">numbers, written-out</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_15">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX203">Obtaining help</a></td><td valign="top"><a href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX209">Obtaining total status information</a></td><td valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC145">Old GNU archive format</a></td><td valign="top"><a href="#SEC145">8.3.6 <acronym>GNU</acronym> and old <acronym>GNU</acronym> <code>tar</code> format</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC191">Old GNU sparse format</a></td><td valign="top"><a href="#SEC191">E.0.1 Old GNU Format</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC38">old option style</a></td><td valign="top"><a href="#SEC38">3.3.3 Old Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX32">old options with mandatory arguments</a></td><td valign="top"><a href="#SEC38">3.3.3 Old Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC143">Old style archives</a></td><td valign="top"><a href="#SEC143">8.3.4 Old V7 Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC143">Old style format</a></td><td valign="top"><a href="#SEC143">8.3.4 Old V7 Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX586"><code>opt-doc-col</code></a></td><td valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC38">option syntax, traditional</a></td><td valign="top"><a href="#SEC38">3.3.3 Old Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX25">optional arguments to long options</a></td><td valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX29">optional arguments to short options</a></td><td valign="top"><a href="#SEC37">3.3.2 Short Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC72">options for use with <samp>`--extract'</samp></a></td><td valign="top"><a href="#SEC72">4.4 Options Used by <samp>`--extract'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC73">Options when reading archives</a></td><td valign="top"><a href="#SEC73">4.4.1 Options to Help Read Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC159">Options, archive format specifying</a></td><td valign="top"><a href="#SEC159">9.4.1 Format Variations</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC159">Options, format specifying</a></td><td valign="top"><a href="#SEC159">9.4.1 Format Variations</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC36">options, GNU style</a></td><td valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC36">options, long style</a></td><td valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC39">options, mixing different styles</a></td><td valign="top"><a href="#SEC39">3.3.4 Mixing Option Styles</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC36">options, mnemonic names</a></td><td valign="top"><a href="#SEC36">3.3.1 Long Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC38">options, old style</a></td><td valign="top"><a href="#SEC38">3.3.3 Old Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC37">options, short style</a></td><td valign="top"><a href="#SEC37">3.3.2 Short Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC37">options, traditional</a></td><td valign="top"><a href="#SEC37">3.3.2 Short Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX461">ordinal numbers</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX298">Overwriting old files, prevention</a></td><td valign="top"><a href="#SEC77">Options Controlling the Overwriting of Existing Files</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_16">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC121"><code>parse_datetime</code></a></td><td valign="top"><a href="#SEC121">7. Date input formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX603">pattern, <code>genfile</code></a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC146">PAX archive format</a></td><td valign="top"><a href="#SEC146">8.3.7 <acronym>GNU</acronym> <code>tar</code> and <acronym>POSIX</acronym> <code>tar</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC84">Permissions of extracted files</a></td><td valign="top"><a href="#SEC84">Setting Access Permissions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX509">Pinard, F.</a></td><td valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX478"><code>pm in date strings</code></a></td><td valign="top"><a href="#SEC124">7.3 Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC146">POSIX archive format</a></td><td valign="top"><a href="#SEC146">8.3.7 <acronym>GNU</acronym> <code>tar</code> and <acronym>POSIX</acronym> <code>tar</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX211">Progress information</a></td><td valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX302">Protecting old files</a></td><td valign="top"><a href="#SEC77">Options Controlling the Overwriting of Existing Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC129">pure numbers in date strings</a></td><td valign="top"><a href="#SEC129">7.8 Pure numbers in date strings</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_17">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX413">RCS, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC108">Reading file names from a file</a></td><td valign="top"><a href="#SEC108">6.3 Reading Names from a File</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC73">Reading incomplete records</a></td><td valign="top"><a href="#SEC73">4.4.1 Options to Help Read Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC158">record</a></td><td valign="top"><a href="#SEC158">9.4 Blocking</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC160">Record Size</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX270"><samp>`Record size = %lu blocks'</samp>, warning message</a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX269"><code>record-size</code></a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC73">Records, incomplete</a></td><td valign="top"><a href="#SEC73">4.4.1 Options to Help Read Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC117">Recursion in directories, avoiding</a></td><td valign="top"><a href="#SEC117">6.9 Descending into Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC128">relative items in date strings</a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX382">Remote devices</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC156">remote tape drive</a></td><td valign="top"><a href="#SEC156">9.2 Remote Tape Server</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC66">Removing files from an archive</a></td><td valign="top"><a href="#SEC66">4.2.5 Removing Archive Members Using <samp>`--delete'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX271"><code>rename-directory</code></a></td><td valign="top"><a href="#SEC53">Keywords controlling incremental extraction:</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX286">Replacing members with other members</a></td><td valign="top"><a href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC7">reporting bugs</a></td><td valign="top"><a href="#SEC7">1.6 Reporting bugs or suggestions</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX375"><code>RESTORE_BEGIN</code></a></td><td valign="top"><a href="#SEC101">5.4.3 User Hooks</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX376"><code>RESTORE_END</code></a></td><td valign="top"><a href="#SEC101">5.4.3 User Hooks</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC25">Resurrecting files from an archive</a></td><td valign="top"><a href="#SEC25">2.8 How to Extract Members from an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC25">Retrieving files from an archive</a></td><td valign="top"><a href="#SEC25">2.8 How to Extract Members from an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX22">return status</a></td><td valign="top"><a href="#SEC33">3.1 General Synopsis of <code>tar</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX589"><code>rmargin</code></a></td><td valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC156"><code>rmt</code></a></td><td valign="top"><a href="#SEC156">9.2 Remote Tape Server</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX360"><code>RSH</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX361"><code>RSH_COMMAND</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX321">Running out of space</a></td><td valign="top"><a href="#SEC89">4.4.3 Coping with Scarce Resources</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_18">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX504">Salz, Rich</a></td><td valign="top"><a href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX412">SCCS, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC37">short options</a></td><td valign="top"><a href="#SEC37">3.3.2 Short Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX28">short options with mandatory arguments</a></td><td valign="top"><a href="#SEC37">3.3.2 Short Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX30">short options with optional arguments</a></td><td valign="top"><a href="#SEC37">3.3.2 Short Option Style</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX583"><code>short-opt-col</code></a></td><td valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX333">simple backup method</a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX336"><code>SIMPLE_BACKUP_SUFFIX</code></a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX223"><code>sleep</code>, checkpoint action</a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX366"><code>SLEEP_MESSAGE</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX364"><code>SLEEP_TIME</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX320">Small memory</a></td><td valign="top"><a href="#SEC89">4.4.3 Coping with Scarce Resources</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX598">snapshot file field ranges</a></td><td valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX593">snapshot file, format 0</a></td><td valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX595">snapshot file, format 1</a></td><td valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX597">snapshot file, format 2</a></td><td valign="top"><a href="#SEC194">Format of the Incremental Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC186">snapshot files, editing</a></td><td valign="top"><a href="#SEC186">D. Fixing Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC186">snapshot files, fixing device numbers</a></td><td valign="top"><a href="#SEC186">D. Fixing Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX241"><samp>`socket ignored'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC137">Sparse Files</a></td><td valign="top"><a href="#SEC137">8.1.2 Archiving Sparse Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX548">sparse files v.0.0, extracting with non-GNU tars</a></td><td valign="top"><a href="#SEC152">8.3.10.2 Extracting Sparse Members</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX547">sparse files v.0.1, extracting with non-GNU tars</a></td><td valign="top"><a href="#SEC152">8.3.10.2 Extracting Sparse Members</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX546">sparse files v.1.0, extracting with non-GNU tars</a></td><td valign="top"><a href="#SEC152">8.3.10.2 Extracting Sparse Members</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX604">Sparse files, creating using <code>genfile</code></a></td><td valign="top"><a href="#SEC197">F.1 Generate Mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC152">sparse files, extracting with non-GNU tars</a></td><td valign="top"><a href="#SEC152">8.3.10.2 Extracting Sparse Members</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC190">sparse formats</a></td><td valign="top"><a href="#SEC190">Storing Sparse Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX528">sparse formats, defined</a></td><td valign="top"><a href="#SEC137">8.1.2 Archiving Sparse Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC191">sparse formats, Old GNU</a></td><td valign="top"><a href="#SEC191">E.0.1 Old GNU Format</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC192">sparse formats, v.0.0</a></td><td valign="top"><a href="#SEC192">E.0.2 PAX Format, Versions 0.0 and 0.1</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX591">sparse formats, v.0.1</a></td><td valign="top"><a href="#SEC192">E.0.2 PAX Format, Versions 0.0 and 0.1</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC193">sparse formats, v.1.0</a></td><td valign="top"><a href="#SEC193">E.0.3 PAX Format, Version 1.0</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC190">sparse versions</a></td><td valign="top"><a href="#SEC190">Storing Sparse Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC107">Specifying archive members</a></td><td valign="top"><a href="#SEC107">6.2 Selecting Archive Members</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC107">Specifying files to act on</a></td><td valign="top"><a href="#SEC107">6.2 Selecting Archive Members</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX380">Standard input and output</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC86">Standard output, writing extracted files to</a></td><td valign="top"><a href="#SEC86">Writing to Standard Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC135">Storing archives in compressed format</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX415">SVN, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC141">Symbolic link as file name</a></td><td valign="top"><a href="#SEC141">8.3.2 Symbolic Links</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX260"><code>symlink-cast</code></a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_19">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX561">tape blocking</a></td><td valign="top"><a href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX566">tape marks</a></td><td valign="top"><a href="#SEC161">9.5 Many Archives on One Tape</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX565">tape positioning</a></td><td valign="top"><a href="#SEC161">9.5 Many Archives on One Tape</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX353"><code>TAPE_FILE</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX290">Tapes, using <samp>`--delete'</samp> and</a></td><td valign="top"><a href="#SEC66">4.2.5 Removing Archive Members Using <samp>`--delete'</samp></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX367"><code>TAR</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC4">tar</a></td><td valign="top"><a href="#SEC4">1.3 What <code>tar</code> Does</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC3">tar archive</a></td><td valign="top"><a href="#SEC3">1.2 Some Definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC133">Tar archive formats</a></td><td valign="top"><a href="#SEC133">8. Controlling the Archive Format</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX11">tar entry</a></td><td valign="top"><a href="#SEC5">1.4 How <code>tar</code> Archives are Named</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX9">tar file</a></td><td valign="top"><a href="#SEC5">1.4 How <code>tar</code> Archives are Named</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX383">tar to a remote device</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX381">tar to standard input and output</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX590"><code>tar-snapshot-edit</code></a></td><td valign="top"><a href="#SEC186">D. Fixing Snapshot Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC167"><code>tarcat</code></a></td><td valign="top"><a href="#SEC167">9.6.3 Concatenate Volumes into a Single Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX498"><code>this in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC124">time of day item</a></td><td valign="top"><a href="#SEC124">7.3 Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX257"><samp>`time stamp %s is %s s in the future'</samp>, warning message</a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX481">time zone correction</a></td><td valign="top"><a href="#SEC124">7.3 Time of day items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX468">time zone item</a></td><td valign="top"><a href="#SEC122">7.1 General date syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC125">time zone item</a></td><td valign="top"><a href="#SEC125">7.4 Time zone items</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX255"><code>timestamp</code></a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX497"><code>today in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX494"><code>tomorrow in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX222"><code>totals</code>, checkpoint action</a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX220"><code>ttyout</code>, checkpoint action</a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC131"><code>TZ</code></a></td><td valign="top"><a href="#SEC131">7.10 Specifying time zone rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_20">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX556">Ultrix 3.1 and write failure</a></td><td valign="top"><a href="#SEC156">9.2 Remote Tape Server</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX263"><samp>`Unknown file type '%c', extracted as normal file'</samp>, warning message</a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX240"><samp>`Unknown file type; file ignored'</samp>, warning message</a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX262"><code>unknown-cast</code></a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX266"><code>unknown-keyword</code></a></td><td valign="top"><a href="#SEC52">Keywords applicable for <code>tar --extract</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX8">unpacking</a></td><td valign="top"><a href="#SEC3">1.2 Some Definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC63">Updating an archive</a></td><td valign="top"><a href="#SEC63">4.2.3 Updating an Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX588"><code>usage-indent</code></a></td><td valign="top"><a href="#SEC185">C. Configuring Help Summary</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX526">Using encrypted archives</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC144">ustar archive format</a></td><td valign="top"><a href="#SEC144">8.3.5 Ustar Archive Format</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_21">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC143">v7 archive format</a></td><td valign="top"><a href="#SEC143">8.3.4 Old V7 Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX411">VCS, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX397">VCS, excluding patterns from ignore files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX398">VCS, ignore files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX207">Verbose operation</a></td><td valign="top"><a href="#SEC47">3.7 Checking <code>tar</code> progress</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC169">Verifying a write operation</a></td><td valign="top"><a href="#SEC169">9.8 Verifying Data as It is Stored</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC67">Verifying the currency of an archive</a></td><td valign="top"><a href="#SEC67">4.2.6 Comparing Archive Members with the File System</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX410">version control system, excluding files</a></td><td valign="top"><a href="#SEC110">6.4 Excluding Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC45">Version of the <code>tar</code> program</a></td><td valign="top"><a href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX330"><code>version-control Emacs variable</code></a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX328"><code>VERSION_CONTROL</code></a></td><td valign="top"><a href="#SEC92">4.5 Backup options</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX569">volno file</a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX362"><code>VOLNO_FILE</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX575">Volume label, listing</a></td><td valign="top"><a href="#SEC168">9.7 Including a Label in the Archive</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX568">Volume number file</a></td><td valign="top"><a href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_22">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX224"><code>wait</code>, checkpoint action</a></td><td valign="top"><a href="#SEC48">3.8 Checkpoints</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX488"><code>week in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC106">Where is the archive?</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX457">Working directory, specifying</a></td><td valign="top"><a href="#SEC119">6.10.1 Changing the Working Directory</a></td></tr>
<tr><td></td><td valign="top"><a href="#SEC86">Writing extracted files to standard output</a></td><td valign="top"><a href="#SEC86">Writing to Standard Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX378">Writing new archives</a></td><td valign="top"><a href="#SEC106">6.1 Choosing and Naming Archive Files</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_23">X</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX237"><code>xdev</code></a></td><td valign="top"><a href="#SEC51">Keywords applicable for <code>tar --create</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX276"><code>xdev</code></a></td><td valign="top"><a href="#SEC53">Keywords controlling incremental extraction:</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX363"><code>XLIST</code></a></td><td valign="top"><a href="#SEC99">5.4.1 General-Purpose Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX545"><code>xsparse</code></a></td><td valign="top"><a href="#SEC152">8.3.10.2 Extracting Sparse Members</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_24">Y</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#IDX485"><code>year in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#IDX495"><code>yesterday in date strings</code></a></td><td valign="top"><a href="#SEC128">7.7 Relative items in date strings</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="SEC204_25">Z</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#SEC135">zstd</a></td><td valign="top"><a href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#SEC204_0" class="summary-letter"><b>%</b></a>
 &nbsp; 
<a href="#SEC204_1" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#SEC204_2" class="summary-letter"><b>.</b></a>
 &nbsp; 
<br>
<a href="#SEC204_3" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#SEC204_4" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#SEC204_5" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#SEC204_6" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#SEC204_7" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#SEC204_8" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#SEC204_9" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#SEC204_10" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#SEC204_11" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#SEC204_12" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#SEC204_13" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#SEC204_14" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#SEC204_15" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#SEC204_16" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#SEC204_17" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#SEC204_18" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#SEC204_19" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#SEC204_20" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#SEC204_21" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#SEC204_22" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#SEC204_23" class="summary-letter"><b>X</b></a>
 &nbsp; 
<a href="#SEC204_24" class="summary-letter"><b>Y</b></a>
 &nbsp; 
<a href="#SEC204_25" class="summary-letter"><b>Z</b></a>
 &nbsp; 
</td></tr></table>


<hr size="6">
<a name="SEC_Foot"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Footnotes</h1>
<h3><a name="FOOT1" href="#DOCF1">(1)</a></h3>
<p>This is only accidentally
true, but not in general.  Whereas modification times are always
restored, in most cases, one has to be root for restoring the owner,
and use a special option for restoring permissions.  Here, it just
happens that the restoring user is also the owner of the archived
members, and that the current <code>umask</code> is compatible with original
permissions.
</p><h3><a name="FOOT2" href="#DOCF2">(2)</a></h3>
<p>For example, <samp>`--file'</samp>
(<samp>`-f'</samp>) takes the name of an archive file as an argument.  If
you do not supply an archive file name, <code>tar</code> will use a
default, but this can be confusing; thus, we recommend that you always
supply a specific archive file name.
</p><h3><a name="FOOT3" href="#DOCF3">(3)</a></h3>
<p>Clustering many
options, the last of which has an argument, is a rather opaque way to
write options.  Some wonder if <acronym>GNU</acronym> <code>getopt</code> should not
even be made helpful enough for considering such usages as invalid.
</p><h3><a name="FOOT4" href="#DOCF4">(4)</a></h3>
<p>Before <acronym>GNU</acronym> <code>tar</code> version 1.11.6,
a bug prevented intermixing old style options with long options in
some cases.
</p><h3><a name="FOOT5" href="#DOCF5">(5)</a></h3>
<p>Earlier versions of <acronym>GNU</acronym> <code>tar</code> understood <samp>`-l'</samp> as a
synonym for <samp>`--one-file-system'</samp>.  The current semantics, which
complies to UNIX98, was introduced with version
1.15.91. See section <a href="#SEC181">Changes</a>, for more information.
</p><h3><a name="FOOT6" href="#DOCF6">(6)</a></h3>
<p>The <samp>`--recursion'</samp>
option is the default and is used here for clarity.  The same example
can be written as:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">tar -cf a.tar /usr --no-recursion /var/*
</pre></td></tr></table><h3><a name="FOOT7" href="#DOCF7">(7)</a></h3>
<p>There are plans to merge the <code>cpio</code> and
<code>tar</code> packages into a single one which would be called
<code>paxutils</code>.  So, who knows if, one of this days, the
<samp>`--version'</samp> would not output <samp>`tar (<acronym>GNU</acronym>
paxutils) 3.2'</samp>.
</p><h3><a name="FOOT8" href="#DOCF8">(8)</a></h3>
<p>This is
actually a shortcut for <samp>`--checkpoint=<var>n</var>
--checkpoint-action=dot'</samp>.  See section <a href="#SEC48">dot</a>.
</p><h3><a name="FOOT9" href="#DOCF9">(9)</a></h3>
<p>This is well described in <cite>Unix-haters
Handbook</cite>, by Simson Garfinkel, Daniel Weise &amp; Steven Strassmann, IDG
Books, ISBN 1-56884-203-1.
</p><h3><a name="FOOT10" href="#DOCF10">(10)</a></h3>
<p>Unless you give it
<samp>`--keep-old-files'</samp> (or <samp>`--skip-old-files'</samp>) option, or
the disk copy is newer than the one in the archive and you invoke
<code>tar</code> with <samp>`--keep-newer-files'</samp> option.
</p><h3><a name="FOOT11" href="#DOCF11">(11)</a></h3>
<p>This can cause multiple members to have the same name.  For
information on how this affects reading the archive, see <a href="#SEC62">Multiple Members with the Same Name</a>.
</p><h3><a name="FOOT12" href="#DOCF12">(12)</a></h3>
<p>Notice, that since both archives
were created without <samp>`-P'</samp> option (see section <a href="#SEC120">Absolute File Names</a>), these
commands should be run from the root file system.
</p><h3><a name="FOOT13" href="#DOCF13">(13)</a></h3>
<p>Two
<samp>`--verbose'</samp> options were selected to avoid breaking usual
verbose listing output (<samp>`--list --verbose'</samp>) when using in
scripts.
</p>
<a name="IDX347"></a>
<a name="IDX348"></a>
<a name="IDX349"></a>
<a name="IDX350"></a>
<p>Versions of <acronym>GNU</acronym> <code>tar</code> up to 1.15.1 used to dump verbatim binary
contents of the DUMPDIR header (with terminating nulls) when
<samp>`--incremental'</samp> or <samp>`--listed-incremental'</samp> option was
given, no matter what the verbosity level.  This behavior, and,
especially, the binary output it produced were considered inconvenient
and were changed in version 1.16.
</p><h3><a name="FOOT14" href="#DOCF14">(14)</a></h3>
<p>For backward compatibility, the <code>backup</code> will also
try to deduce the requested dump level from the name of the
script itself.  If the name consists of a string <samp>`level-'</samp>
followed by a single decimal digit, that digit is taken as
the dump level number.  Thus, you may create a link from <code>backup</code>
to <code>level-1</code> and then run <code>level-1</code> whenever you need to
create a level one dump.
</p><h3><a name="FOOT15" href="#DOCF15">(15)</a></h3>
<p>Versions of <acronym>GNU</acronym> <code>tar</code> up to 1.15.1
recognized only <samp>`-C'</samp> option in file lists, and only if the
option and its argument occupied two consecutive lines.
</p><h3><a name="FOOT16" href="#DOCF16">(16)</a></h3>
<p>According to the Bazaar docs,
globbing-patterns are Korn-shell style and regular expressions are
perl-style.  As of <acronym>GNU</acronym> <code>tar</code> version 1.32, these are
treated as shell-style globs and posix extended regexps.  This will be
fixed in future releases.
</p><h3><a name="FOOT17" href="#DOCF17">(17)</a></h3>
<p>Support for perl-style
regexps will appear in future releases.
</p><h3><a name="FOOT18" href="#DOCF18">(18)</a></h3>
<p>Notice that earlier <acronym>GNU</acronym> <code>tar</code> versions used
globbing for inclusion members, which contradicted to UNIX98
specification and was not documented. See section <a href="#SEC181">Changes</a>, for more
information on this and other changes.
</p><h3><a name="FOOT19" href="#DOCF19">(19)</a></h3>
<p>A side effect of this is that when
<samp>`--create'</samp> is used with <samp>`--verbose'</samp> the resulting output
is not, generally speaking, the same as the one you'd get running
<kbd>tar --list</kbd> command.  This may be important if you use some
scripts for comparing both outputs.  See <a href="#listing-member-and-file-names">listing member and file names</a>,
for the information on how to handle this case.
</p><h3><a name="FOOT20" href="#DOCF20">(20)</a></h3>
<p>It also had patent problems in the past.
</p><h3><a name="FOOT21" href="#DOCF21">(21)</a></h3>
<p>To verbosely trace the decompressor selection, use the
<samp>`--warning=decompress-program'</samp> option
(see section <a href="#SEC49">decompress-program</a>).
</p><h3><a name="FOOT22" href="#DOCF22">(22)</a></h3>
<p>There are plans to fix this in future releases.
</p><h3><a name="FOOT23" href="#DOCF23">(23)</a></h3>
<p>See section <a href="#SEC193">PAX Format, Version 1.0</a>.
</p><h3><a name="FOOT24" href="#DOCF24">(24)</a></h3>
<p>Technically speaking, <var>n</var> is a
<em>process <acronym>ID</acronym></em> of the <code>tar</code> process which created the
archive (see section <a href="#SEC147">Controlling Extended Header Keywords</a>).
</p><h3><a name="FOOT25" href="#DOCF25">(25)</a></h3>
<p>If this message is not needed, you can turn it off
using the <samp>`--warning=no-record-size'</samp> option.
</p><h3><a name="FOOT26" href="#DOCF26">(26)</a></h3>
<p>If you run <acronym>GNU</acronym> <code>tar</code> under a different locale, the
translation to the locale's language will be used.
</p><h3><a name="FOOT27" href="#DOCF27">(27)</a></h3>
<p>See <a href="#g_t_002d_002drestrict">-restrict</a>, for more information about
this option.
</p><h3><a name="FOOT28" href="#DOCF28">(28)</a></h3>
<p>Until version 1.10, that option was called
<samp>`--volume'</samp>, but is not available under that name anymore.
</p><h3><a name="FOOT29" href="#DOCF29">(29)</a></h3>
<p>Note that <acronym>GNU</acronym> <code>tar</code> versions up to 1.23 indicated
mismatch with an exit code 2 and printed a spurious diagnostics on
stderr.
</p><h3><a name="FOOT30" href="#DOCF30">(30)</a></h3>
<p>Previous versions of <code>tar</code> used full
regular expression matching, or before that, only exact string
matching, instead of wildcard matchers.  We decided for the sake of
simplicity to use a uniform matching device through
<code>tar</code>.
</p><h3><a name="FOOT31" href="#DOCF31">(31)</a></h3>
<p>The original version of the script can be
seen at <a href="http://lists.gnu.org/archive/html/bug-tar/2016-11/msg00024.html">http://lists.gnu.org/archive/html/bug-tar/2016-11/msg00024.html</a>
</p><hr size="1">
<a name="SEC_Contents"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="TOC1" href="#SEC1">1. Introduction</a>
  <ul class="toc">
    <li><a name="TOC2" href="#SEC2">1.1 What this Book Contains</a></li>
    <li><a name="TOC3" href="#SEC3">1.2 Some Definitions</a></li>
    <li><a name="TOC4" href="#SEC4">1.3 What <code>tar</code> Does</a></li>
    <li><a name="TOC5" href="#SEC5">1.4 How <code>tar</code> Archives are Named</a></li>
    <li><a name="TOC6" href="#SEC6">1.5 <acronym>GNU</acronym> <code>tar</code> Authors</a></li>
    <li><a name="TOC7" href="#SEC7">1.6 Reporting bugs or suggestions</a></li>
  </ul></li>
  <li><a name="TOC8" href="#SEC8">2. Tutorial Introduction to <code>tar</code></a>
  <ul class="toc">
    <li><a name="TOC9" href="#SEC9">2.1 Assumptions this Tutorial Makes</a></li>
    <li><a name="TOC10" href="#SEC10">2.2 Stylistic Conventions</a></li>
    <li><a name="TOC11" href="#SEC11">2.3 Basic <code>tar</code> Operations and Options</a></li>
    <li><a name="TOC12" href="#SEC12">2.4 The Three Most Frequently Used Operations</a></li>
    <li><a name="TOC13" href="#SEC13">2.5 Two Frequently Used Options</a>
    <ul class="toc">
      <li><a name="TOC14" href="#SEC14">The <samp>`--file'</samp> Option</a></li>
      <li><a name="TOC15" href="#SEC15">The <samp>`--verbose'</samp> Option</a></li>
      <li><a name="TOC16" href="#SEC16">Getting Help: Using the <samp>`--help'</samp> Option</a></li>
    </ul></li>
    <li><a name="TOC17" href="#SEC17">2.6 How to Create Archives</a>
    <ul class="toc">
      <li><a name="TOC18" href="#SEC18">2.6.1 Preparing a Practice Directory for Examples</a></li>
      <li><a name="TOC19" href="#SEC19">2.6.2 Creating the Archive</a></li>
      <li><a name="TOC20" href="#SEC20">2.6.3 Running <samp>`--create'</samp> with <samp>`--verbose'</samp></a></li>
      <li><a name="TOC21" href="#SEC21">2.6.4 Short Forms with <samp>`create'</samp></a></li>
      <li><a name="TOC22" href="#SEC22">2.6.5 Archiving Directories</a></li>
    </ul></li>
    <li><a name="TOC23" href="#SEC23">2.7 How to List Archives</a>
    <ul class="toc">
      <li><a name="TOC24" href="#SEC24">Listing the Contents of a Stored Directory</a></li>
    </ul></li>
    <li><a name="TOC25" href="#SEC25">2.8 How to Extract Members from an Archive</a>
    <ul class="toc">
      <li><a name="TOC26" href="#SEC26">2.8.1 Extracting an Entire Archive</a></li>
      <li><a name="TOC27" href="#SEC27">2.8.2 Extracting Specific Files</a></li>
      <li><a name="TOC28" href="#SEC28">2.8.3 Extracting Files that are Directories</a></li>
      <li><a name="TOC29" href="#SEC29">2.8.4 Extracting Archives from Untrusted Sources</a></li>
      <li><a name="TOC30" href="#SEC30">2.8.5 Commands That Will Fail</a></li>
    </ul></li>
    <li><a name="TOC31" href="#SEC31">2.9 Going Further Ahead in this Manual</a></li>
  </ul></li>
  <li><a name="TOC32" href="#SEC32">3. Invoking <acronym>GNU</acronym> <code>tar</code></a>
  <ul class="toc">
    <li><a name="TOC33" href="#SEC33">3.1 General Synopsis of <code>tar</code></a></li>
    <li><a name="TOC34" href="#SEC34">3.2 Using <code>tar</code> Options</a></li>
    <li><a name="TOC35" href="#SEC35">3.3 The Three Option Styles</a>
    <ul class="toc">
      <li><a name="TOC36" href="#SEC36">3.3.1 Long Option Style</a></li>
      <li><a name="TOC37" href="#SEC37">3.3.2 Short Option Style</a></li>
      <li><a name="TOC38" href="#SEC38">3.3.3 Old Option Style</a></li>
      <li><a name="TOC39" href="#SEC39">3.3.4 Mixing Option Styles</a></li>
    </ul></li>
    <li><a name="TOC40" href="#SEC40">3.4 All <code>tar</code> Options</a>
    <ul class="toc">
      <li><a name="TOC41" href="#SEC41">3.4.1 Operations</a></li>
      <li><a name="TOC42" href="#SEC42">3.4.2 <code>tar</code> Options</a></li>
      <li><a name="TOC43" href="#SEC43">3.4.3 Short Options Cross Reference</a></li>
      <li><a name="TOC44" href="#SEC44">3.4.4 Position-Sensitive Options</a></li>
    </ul></li>
    <li><a name="TOC45" href="#SEC45">3.5 <acronym>GNU</acronym> <code>tar</code> documentation</a></li>
    <li><a name="TOC46" href="#SEC46">3.6 Obtaining <acronym>GNU</acronym> <code>tar</code> default values</a></li>
    <li><a name="TOC47" href="#SEC47">3.7 Checking <code>tar</code> progress</a></li>
    <li><a name="TOC48" href="#SEC48">3.8 Checkpoints</a></li>
    <li><a name="TOC49" href="#SEC49">3.9 Controlling Warning Messages</a></li>
    <li><a name="TOC50" href="#SEC54">3.10 Asking for Confirmation During Operations</a></li>
    <li><a name="TOC51" href="#SEC55">3.11 Running External Commands</a></li>
  </ul></li>
  <li><a name="TOC52" href="#SEC56">4. <acronym>GNU</acronym> <code>tar</code> Operations</a>
  <ul class="toc">
    <li><a name="TOC53" href="#SEC57">4.1 Basic <acronym>GNU</acronym> <code>tar</code> Operations</a></li>
    <li><a name="TOC54" href="#SEC58">4.2 Advanced <acronym>GNU</acronym> <code>tar</code> Operations</a>
    <ul class="toc">
      <li><a name="TOC55" href="#SEC59">4.2.1 The Five Advanced <code>tar</code> Operations</a></li>
      <li><a name="TOC56" href="#SEC60">4.2.2 How to Add Files to Existing Archives: <samp>`--append'</samp></a>
      <ul class="toc">
        <li><a name="TOC57" href="#SEC61">4.2.2.1 Appending Files to an Archive</a></li>
        <li><a name="TOC58" href="#SEC62">4.2.2.2 Multiple Members with the Same Name</a></li>
      </ul></li>
      <li><a name="TOC59" href="#SEC63">4.2.3 Updating an Archive</a>
      <ul class="toc">
        <li><a name="TOC60" href="#SEC64">4.2.3.1 How to Update an Archive Using <samp>`--update'</samp></a></li>
      </ul></li>
      <li><a name="TOC61" href="#SEC65">4.2.4 Combining Archives with <samp>`--concatenate'</samp></a></li>
      <li><a name="TOC62" href="#SEC66">4.2.5 Removing Archive Members Using <samp>`--delete'</samp></a></li>
      <li><a name="TOC63" href="#SEC67">4.2.6 Comparing Archive Members with the File System</a></li>
    </ul></li>
    <li><a name="TOC64" href="#SEC68">4.3 Options Used by <samp>`--create'</samp></a>
    <ul class="toc">
      <li><a name="TOC65" href="#SEC69">4.3.1 Overriding File Metadata</a></li>
      <li><a name="TOC66" href="#SEC70">4.3.2 Extended File Attributes</a></li>
      <li><a name="TOC67" href="#SEC71">4.3.3 Ignore Failed Read</a></li>
    </ul></li>
    <li><a name="TOC68" href="#SEC72">4.4 Options Used by <samp>`--extract'</samp></a>
    <ul class="toc">
      <li><a name="TOC69" href="#SEC73">4.4.1 Options to Help Read Archives</a>
      <ul class="toc">
        <li><a name="TOC70" href="#SEC74">Reading Full Records</a></li>
        <li><a name="TOC71" href="#SEC75">Ignoring Blocks of Zeros</a></li>
      </ul></li>
      <li><a name="TOC72" href="#SEC76">4.4.2 Changing How <code>tar</code> Writes Files</a>
      <ul class="toc">
        <li><a name="TOC73" href="#SEC77">Options Controlling the Overwriting of Existing Files</a></li>
        <li><a name="TOC74" href="#SEC78">Overwrite Old Files</a></li>
        <li><a name="TOC75" href="#SEC79">Keep Old Files</a></li>
        <li><a name="TOC76" href="#SEC80">Keep Newer Files</a></li>
        <li><a name="TOC77" href="#SEC81">Unlink First</a></li>
        <li><a name="TOC78" href="#SEC82">Recursive Unlink</a></li>
        <li><a name="TOC79" href="#SEC83">Setting Data Modification Times</a></li>
        <li><a name="TOC80" href="#SEC84">Setting Access Permissions</a></li>
        <li><a name="TOC81" href="#SEC85">Directory Modification Times and Permissions</a></li>
        <li><a name="TOC82" href="#SEC86">Writing to Standard Output</a></li>
        <li><a name="TOC83" href="#SEC87">Writing to an External Program</a></li>
        <li><a name="TOC84" href="#SEC88">Removing Files</a></li>
      </ul></li>
      <li><a name="TOC85" href="#SEC89">4.4.3 Coping with Scarce Resources</a>
      <ul class="toc">
        <li><a name="TOC86" href="#SEC90">Starting File</a></li>
        <li><a name="TOC87" href="#SEC91">Same Order</a></li>
      </ul>
</li>
    </ul></li>
    <li><a name="TOC88" href="#SEC92">4.5 Backup options</a></li>
    <li><a name="TOC89" href="#SEC93">4.6 Looking Ahead: The Rest of this Manual</a></li>
  </ul></li>
  <li><a name="TOC90" href="#SEC94">5. Performing Backups and Restoring Files</a>
  <ul class="toc">
    <li><a name="TOC91" href="#SEC95">5.1 Using <code>tar</code> to Perform Full Dumps</a></li>
    <li><a name="TOC92" href="#SEC96">5.2 Using <code>tar</code> to Perform Incremental Dumps</a></li>
    <li><a name="TOC93" href="#SEC97">5.3 Levels of Backups</a></li>
    <li><a name="TOC94" href="#SEC98">5.4 Setting Parameters for Backups and Restoration</a>
    <ul class="toc">
      <li><a name="TOC95" href="#SEC99">5.4.1 General-Purpose Variables</a></li>
      <li><a name="TOC96" href="#SEC100">5.4.2 Magnetic Tape Control</a></li>
      <li><a name="TOC97" href="#SEC101">5.4.3 User Hooks</a></li>
      <li><a name="TOC98" href="#SEC102">5.4.4 An Example Text of <tt>`Backup-specs'</tt></a></li>
    </ul></li>
    <li><a name="TOC99" href="#SEC103">5.5 Using the Backup Scripts</a></li>
    <li><a name="TOC100" href="#SEC104">5.6 Using the Restore Script</a></li>
  </ul></li>
  <li><a name="TOC101" href="#SEC105">6. Choosing Files and Names for <code>tar</code></a>
  <ul class="toc">
    <li><a name="TOC102" href="#SEC106">6.1 Choosing and Naming Archive Files</a></li>
    <li><a name="TOC103" href="#SEC107">6.2 Selecting Archive Members</a></li>
    <li><a name="TOC104" href="#SEC108">6.3 Reading Names from a File</a>
    <ul class="toc">
      <li><a name="TOC105" href="#SEC109">6.3.1 <code>NUL</code>-Terminated File Names</a></li>
    </ul></li>
    <li><a name="TOC106" href="#SEC110">6.4 Excluding Some Files</a>
    <ul class="toc">
      <li><a name="TOC107" href="#SEC111">Problems with Using the <code>exclude</code> Options</a></li>
    </ul></li>
    <li><a name="TOC108" href="#SEC112">6.5 Wildcards Patterns and Matching</a>
    <ul class="toc">
      <li><a name="TOC109" href="#SEC113">Controlling Pattern-Matching</a></li>
    </ul></li>
    <li><a name="TOC110" href="#SEC114">6.6 Quoting Member Names</a></li>
    <li><a name="TOC111" href="#SEC115">6.7 Modifying File and Member Names</a></li>
    <li><a name="TOC112" href="#SEC116">6.8 Operating Only on New Files</a></li>
    <li><a name="TOC113" href="#SEC117">6.9 Descending into Directories</a></li>
    <li><a name="TOC114" href="#SEC118">6.10 Crossing File System Boundaries</a>
    <ul class="toc">
      <li><a name="TOC115" href="#SEC119">6.10.1 Changing the Working Directory</a></li>
      <li><a name="TOC116" href="#SEC120">6.10.2 Absolute File Names</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="TOC117" href="#SEC121">7. Date input formats</a>
  <ul class="toc">
    <li><a name="TOC118" href="#SEC122">7.1 General date syntax</a></li>
    <li><a name="TOC119" href="#SEC123">7.2 Calendar date items</a></li>
    <li><a name="TOC120" href="#SEC124">7.3 Time of day items</a></li>
    <li><a name="TOC121" href="#SEC125">7.4 Time zone items</a></li>
    <li><a name="TOC122" href="#SEC126">7.5 Combined date and time of day items</a></li>
    <li><a name="TOC123" href="#SEC127">7.6 Day of week items</a></li>
    <li><a name="TOC124" href="#SEC128">7.7 Relative items in date strings</a></li>
    <li><a name="TOC125" href="#SEC129">7.8 Pure numbers in date strings</a></li>
    <li><a name="TOC126" href="#SEC130">7.9 Seconds since the Epoch</a></li>
    <li><a name="TOC127" href="#SEC131">7.10 Specifying time zone rules</a></li>
    <li><a name="TOC128" href="#SEC132">7.11 Authors of <code>parse_datetime</code></a></li>
  </ul></li>
  <li><a name="TOC129" href="#SEC133">8. Controlling the Archive Format</a>
  <ul class="toc">
    <li><a name="TOC130" href="#SEC134">8.1 Using Less Space through Compression</a>
    <ul class="toc">
      <li><a name="TOC131" href="#SEC135">8.1.1 Creating and Reading Compressed Archives</a>
      <ul class="toc">
        <li><a name="TOC132" href="#SEC136">8.1.1.1 Using lbzip2 with <acronym>GNU</acronym> <code>tar</code>.</a></li>
      </ul></li>
      <li><a name="TOC133" href="#SEC137">8.1.2 Archiving Sparse Files</a></li>
    </ul></li>
    <li><a name="TOC134" href="#SEC138">8.2 Handling File Attributes</a></li>
    <li><a name="TOC135" href="#SEC139">8.3 Making <code>tar</code> Archives More Portable</a>
    <ul class="toc">
      <li><a name="TOC136" href="#SEC140">8.3.1 Portable Names</a></li>
      <li><a name="TOC137" href="#SEC141">8.3.2 Symbolic Links</a></li>
      <li><a name="TOC138" href="#SEC142">8.3.3 Hard Links</a></li>
      <li><a name="TOC139" href="#SEC143">8.3.4 Old V7 Archives</a></li>
      <li><a name="TOC140" href="#SEC144">8.3.5 Ustar Archive Format</a></li>
      <li><a name="TOC141" href="#SEC145">8.3.6 <acronym>GNU</acronym> and old <acronym>GNU</acronym> <code>tar</code> format</a></li>
      <li><a name="TOC142" href="#SEC146">8.3.7 <acronym>GNU</acronym> <code>tar</code> and <acronym>POSIX</acronym> <code>tar</code></a>
      <ul class="toc">
        <li><a name="TOC143" href="#SEC147">8.3.7.1 Controlling Extended Header Keywords</a></li>
      </ul></li>
      <li><a name="TOC144" href="#SEC148">8.3.8 Checksumming Problems</a></li>
      <li><a name="TOC145" href="#SEC149">8.3.9 Large or Negative Values</a></li>
      <li><a name="TOC146" href="#SEC150">8.3.10 How to Extract GNU-Specific Data Using Other <code>tar</code> Implementations</a>
      <ul class="toc">
        <li><a name="TOC147" href="#SEC151">8.3.10.1 Extracting Members Split Between Volumes</a></li>
        <li><a name="TOC148" href="#SEC152">8.3.10.2 Extracting Sparse Members</a></li>
      </ul>
</li>
    </ul></li>
    <li><a name="TOC149" href="#SEC153">8.4 Comparison of <code>tar</code> and <code>cpio</code></a></li>
  </ul></li>
  <li><a name="TOC150" href="#SEC154">9. Tapes and Other Archive Media</a>
  <ul class="toc">
    <li><a name="TOC151" href="#SEC155">9.1 Device Selection and Switching</a></li>
    <li><a name="TOC152" href="#SEC156">9.2 Remote Tape Server</a></li>
    <li><a name="TOC153" href="#SEC157">9.3 Some Common Problems and their Solutions</a></li>
    <li><a name="TOC154" href="#SEC158">9.4 Blocking</a>
    <ul class="toc">
      <li><a name="TOC155" href="#SEC159">9.4.1 Format Variations</a></li>
      <li><a name="TOC156" href="#SEC160">9.4.2 The Blocking Factor of an Archive</a></li>
    </ul></li>
    <li><a name="TOC157" href="#SEC161">9.5 Many Archives on One Tape</a>
    <ul class="toc">
      <li><a name="TOC158" href="#SEC162">9.5.1 Tape Positions and Tape Marks</a></li>
      <li><a name="TOC159" href="#SEC163">9.5.2 The <code>mt</code> Utility</a></li>
    </ul></li>
    <li><a name="TOC160" href="#SEC164">9.6 Using Multiple Tapes</a>
    <ul class="toc">
      <li><a name="TOC161" href="#SEC165">9.6.1 Archives Longer than One Tape or Disk</a></li>
      <li><a name="TOC162" href="#SEC166">9.6.2 Tape Files</a></li>
      <li><a name="TOC163" href="#SEC167">9.6.3 Concatenate Volumes into a Single Archive</a></li>
    </ul></li>
    <li><a name="TOC164" href="#SEC168">9.7 Including a Label in the Archive</a></li>
    <li><a name="TOC165" href="#SEC169">9.8 Verifying Data as It is Stored</a></li>
    <li><a name="TOC166" href="#SEC170">9.9 Write Protection</a></li>
  </ul></li>
  <li><a name="TOC167" href="#SEC171">10. Reliability and Security</a>
  <ul class="toc">
    <li><a name="TOC168" href="#SEC172">10.1 Reliability</a>
    <ul class="toc">
      <li><a name="TOC169" href="#SEC173">10.1.1 Permissions Problems</a></li>
      <li><a name="TOC170" href="#SEC174">10.1.2 Data Corruption and Repair</a></li>
      <li><a name="TOC171" href="#SEC175">10.1.3 Race conditions</a></li>
    </ul></li>
    <li><a name="TOC172" href="#SEC176">10.2 Security</a>
    <ul class="toc">
      <li><a name="TOC173" href="#SEC177">10.2.1 Privacy</a></li>
      <li><a name="TOC174" href="#SEC178">10.2.2 Integrity</a></li>
      <li><a name="TOC175" href="#SEC179">10.2.3 Dealing with Live Untrusted Data</a></li>
      <li><a name="TOC176" href="#SEC180">10.2.4 Security Rules of Thumb</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="TOC177" href="#SEC181">A. Changes</a></li>
  <li><a name="TOC178" href="#SEC182">B. Recipes</a>
  <ul class="toc">
    <li><a name="TOC179" href="#SEC183">B.1 Copying directory hierarchies</a></li>
    <li><a name="TOC180" href="#SEC184">B.2 Restoring Intermediate Directories</a></li>
  </ul></li>
  <li><a name="TOC181" href="#SEC185">C. Configuring Help Summary</a></li>
  <li><a name="TOC182" href="#SEC186">D. Fixing Snapshot Files</a></li>
  <li><a name="TOC183" href="#SEC187">E. Tar Internals</a>
  <ul class="toc">
    <li><a name="TOC184" href="#SEC188">Basic Tar Format</a></li>
    <li><a name="TOC185" href="#SEC189"><acronym>GNU</acronym> Extensions to the Archive Format</a></li>
    <li><a name="TOC186" href="#SEC190">Storing Sparse Files</a>
    <ul class="toc">
      <li><a name="TOC187" href="#SEC191">E.0.1 Old GNU Format</a></li>
      <li><a name="TOC188" href="#SEC192">E.0.2 PAX Format, Versions 0.0 and 0.1</a></li>
      <li><a name="TOC189" href="#SEC193">E.0.3 PAX Format, Version 1.0</a></li>
    </ul></li>
    <li><a name="TOC190" href="#SEC194">Format of the Incremental Snapshot Files</a></li>
    <li><a name="TOC191" href="#SEC195">Dumpdir</a></li>
  </ul></li>
  <li><a name="TOC192" href="#SEC196">F. Genfile</a>
  <ul class="toc">
    <li><a name="TOC193" href="#SEC197">F.1 Generate Mode</a></li>
    <li><a name="TOC194" href="#SEC198">F.2 Status Mode</a></li>
    <li><a name="TOC195" href="#SEC199">F.3 Exec Mode</a></li>
  </ul></li>
  <li><a name="TOC196" href="#SEC200">G. Free Software Needs Free Documentation</a></li>
  <li><a name="TOC197" href="#SEC201">H. GNU Free Documentation License</a></li>
  <li><a name="TOC198" href="#SEC203">I. Index of Command Line Options</a></li>
  <li><a name="TOC199" href="#SEC204">J. Index</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_Overview"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Short Table of Contents</h1>
<div class="shortcontents">
<ul class="toc">
<li><a name="TOC1" href="#SEC1">1. Introduction</a></li>
<li><a name="TOC8" href="#SEC8">2. Tutorial Introduction to <code>tar</code></a></li>
<li><a name="TOC32" href="#SEC32">3. Invoking <acronym>GNU</acronym> <code>tar</code></a></li>
<li><a name="TOC52" href="#SEC56">4. <acronym>GNU</acronym> <code>tar</code> Operations</a></li>
<li><a name="TOC90" href="#SEC94">5. Performing Backups and Restoring Files</a></li>
<li><a name="TOC101" href="#SEC105">6. Choosing Files and Names for <code>tar</code></a></li>
<li><a name="TOC117" href="#SEC121">7. Date input formats</a></li>
<li><a name="TOC129" href="#SEC133">8. Controlling the Archive Format</a></li>
<li><a name="TOC150" href="#SEC154">9. Tapes and Other Archive Media</a></li>
<li><a name="TOC167" href="#SEC171">10. Reliability and Security</a></li>
<li><a name="TOC177" href="#SEC181">A. Changes</a></li>
<li><a name="TOC178" href="#SEC182">B. Recipes</a></li>
<li><a name="TOC181" href="#SEC185">C. Configuring Help Summary</a></li>
<li><a name="TOC182" href="#SEC186">D. Fixing Snapshot Files</a></li>
<li><a name="TOC183" href="#SEC187">E. Tar Internals</a></li>
<li><a name="TOC192" href="#SEC196">F. Genfile</a></li>
<li><a name="TOC196" href="#SEC200">G. Free Software Needs Free Documentation</a></li>
<li><a name="TOC197" href="#SEC201">H. GNU Free Documentation License</a></li>
<li><a name="TOC198" href="#SEC203">I. Index of Command Line Options</a></li>
<li><a name="TOC199" href="#SEC204">J. Index</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#SEC203" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>About This Document</h1>
<p>
  This document was generated on <i>February, 23 2019</i> using <a href="http://texi2html.cvshome.org/"><i>texi2html 1.76</i></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>next section in reading order</td>
    <td>1.2.4</td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>about (help)</td>
    <td> &nbsp; </td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<p>
 <font size="-1">
  This document was generated on <i>February, 23 2019</i> using <a href="http://texi2html.cvshome.org/"><i>texi2html 1.76</i></a>.
 </font>
 <br>

</p>
</body>
</html>
