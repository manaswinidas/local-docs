<html ><head>
<link rel="stylesheet" type="text/css" href="../../docs/css/style.css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="author" value="Apache JMeter developers">
<meta name="email" value="dev@jmeter.apache.org">

<title>Apache JMeter-用户手册：实时统计</title>
<style>
  .code { font-weight: bold; }
</style>
</head>

<body bgcolor="#ffffff"  text="#000000" link="#525D76">
<table border="0" cellspacing="0">
<tbody><tr>
<td align="left">
<a href="http://www.apache.org"><img title="Apache软件基金会" width="261" height="106" src="../../docs/images/asf-logo.png" border="0" style="margin:0px 30px 0px 0px"></a>
</td>
<td align="right">
<a href="http://jmeter.apache.org/"><img width="259" height="88" src="../../docs/images/jmeter.png" alt="Apache JMeter" title="Apache JMeter" border="0"></a>
</td>
</tr>
</tbody></table>
<table border="0" cellspacing="4">
<tbody><tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td align="left" valign="top">
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="best-practices.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="generating-dashboard.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
<br>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="realtime-results"><strong>15实时结果</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>从JMeter 2.13开始，您可以通过提供一个实现<a href="../api/org/apache/jmeter/visualizers/backend/AbstractBackendListenerClient.html">AbstractBackendListenerClient</a>的类，通过可能使用任何后端（JDBC，JMS，Webservice等）的<a href="component_reference.html#Backend_Listener">后端侦听器</a>将实时结果发送到后端。<br>JMeter随附：</p><ul>
<li>一个GraphiteBackendListenerClient，它允许您将指标发送到Graphite Backend。<br>此功能提供：<ul>
<li>即时结果</li>
<li>指标的漂亮图表</li>
<li>能够比较2个或更多负载测试</li>
<li>只要JMeter产生相同的后端，就存储监视数据</li>
<li>…</li>
</ul>
</li>
<li>JMeter 3.2中引入的InfluxDBBackendListenerClient，它允许您使用UDP或HTTP协议将指标发送到InfluxDB后端。<ul>
<li>即时结果</li>
<li>指标的漂亮图表</li>
<li>能够比较2个或更多负载测试</li>
<li>能够向图形添加注释</li>
<li>只要JMeter产生相同的后端，就存储监视数据</li>
<li>…</li>
</ul>
</li>
</ul>在本文档中，我们将介绍配置设置，以图形化并记录不同后端中的数据：<ul>
<li>InfluxDBBackendListenerClient的InfluxDB设置</li>
<li>GraphiteBackendListenerClient的InfluxDB设置</li>
<li>格拉法纳</li>
<li>石墨</li>
</ul>
<p></p><table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="metrics"><strong>15.1暴露的指标</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="metrics-threads"><strong>15.1.1线程/虚拟用户指标</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>线程指标如下：</p><dl>
      <dt><tt class="code"><rootmetricsprefix>test.minAT</rootmetricsprefix></tt></dt><dd>最小活动线程</dd>
      <dt><tt class="code"><rootmetricsprefix>test.maxAT</rootmetricsprefix></tt></dt><dd>最大活动线程</dd>
      <dt><tt class="code"><rootmetricsprefix>测试工具</rootmetricsprefix></tt></dt><dd>平均活动线程</dd>
      <dt><tt class="code"><rootmetricsprefix>test.startedT</rootmetricsprefix></tt></dt><dd>启动线程</dd>
      <dt><tt class="code"><rootmetricsprefix>test.endedT</rootmetricsprefix></tt></dt><dd>成品螺纹</dd>
    </dl></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="metrics-response-times"><strong>15.1.2响应时间指标</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>与响应相关的指标如下：</p><dl>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ok.count</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称的成功响应数</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.h.count</samplername></rootmetricsprefix></tt></dt>
      <dd>服务器每秒命中次数，此度量标准累积样本结果和子结果（如果使用事务控制器，则应取消选中“生成父样本”）</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ok.min</samplername></rootmetricsprefix></tt></dt>
      <dd>成功响应采样器名称所需的最短响应时间</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ok.max</samplername></rootmetricsprefix></tt></dt>
      <dd>成功响应采样器名称的最大响应时间</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ok.avg</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称成功响应的平均响应时间。</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ok.pct<percentilevalue></percentilevalue></samplername></rootmetricsprefix></tt></dt>
      <dd>计算成功采样器名称响应的百分比。每个计算值都有一个度量标准。</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ko.count</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称的失败响应数</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ko.min</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称响应失败的最短响应时间</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ko.max</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称响应失败的最大响应时间</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ko.avg</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称响应失败的平均响应时间。</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.ko.pct<percentilevalue></percentilevalue></samplername></rootmetricsprefix></tt></dt>
      <dd>为采样器名称的失败响应计算的百分比。每个计算值都有一个度量标准。</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.a.count</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称的响应数（ok.count和ko.count的总和）</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.sb。字节</samplername></rootmetricsprefix></tt></dt>
      <dd>已发送字节</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.rb。字节</samplername></rootmetricsprefix></tt></dt>
      <dd>接收字节</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.a.min</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称响应的最短响应时间（ok.count和ko.count的最小值）</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.a.max</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称响应的最大响应时间（ok.count和ko.count的最大值）</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.a.avg</samplername></rootmetricsprefix></tt></dt>
      <dd>采样器名称响应的平均响应时间（ok.count和ko.count的平均值）</dd>
      <dt><tt class="code"><rootmetricsprefix><samplername>.a.pct<percentilevalue></percentilevalue></samplername></rootmetricsprefix></tt></dt>
      <dd>为采样器名称的响应计算的百分比。每个计算值都有一个度量标准。 （根据合格和不合格样品的总数计算）</dd>
    </dl><p><a href="../usermanual/component_reference.html#Backend_Listener">后端侦听器</a>上的默认<tt class="code">百分比</tt>设置为“ 90; 95; 99”，即3个百分点分别为90％，95％和99％。
    </p><p><a href="http://graphite.readthedocs.io/en/latest/feeding-carbon.html#step-1-plan-a-naming-hierarchy">Graphite命名层次结构</a>使用点（“。”）分隔元素。这可能与十进制百分位数值混淆。JMeter转换任何这样的值，用下划线（“-”）替换点（“。”）。例如，“ <tt class="code">99.9</tt> ”变为“ <tt class="code">99_9</tt> ”</p><p>默认情况下，JMeter发送在samplerName“ <tt class="code">all</tt> ”下累积的所有采样器的指标。如果配置了后端侦听<tt class="code">器samplersList</tt> ，则JMeter还将发送匹配样本名称的度量，除非<tt class="code">summaryOnly = true</tt>
    </p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="jmeter-configuration"><strong>15.2 JMeter配置</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>为了使JMeter将指标发送到后端， <a href="./component_reference.html#Backend_Listener">请</a>使用InfluxDBBackendListenerClient添加一个<a href="./component_reference.html#Backend_Listener">BackendListener</a> 。
    </p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img width="902" height="341" src="../../docs/images/screenshots/backend_listener.png"><br>
<font size="-1">InfluxDB配置</font></td></tr></tbody></table>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="influxdb_db_configuration"><strong>15.3 InfluxDB数据库配置</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>使用<a href="https://docs.influxdata.com/influxdb/latest/introduction/getting_started/">InfluxDB的命令行界面（CLI）</a>连接到InfluxDB <a href="https://docs.influxdata.com/influxdb/latest/introduction/getting_started/">。</a>并<a href="https://docs.influxdata.com/influxdb/latest/query_language/database_management/">创建JMeter数据库</a> ：</p><ul>
        <li>jmeter：InfluxDB使用它存储后端侦听器发送的数据</li>
    </ul>您也可以通过使用HTTP API来做到这一点。<p></p><table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="influxdb"><strong>15.3.1为InfluxDBBackendListenerClient设置InfluxDB</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>InfluxDB是一个开放源代码的分布式时间序列数据库，可轻松存储指标。安装和配置非常简单，阅读更多细节<a href="https://docs.influxdata.com/influxdb/latest/introduction/installation/" target="_blank">InfluxDB文档</a> 。<br>可以通过<a href="http://grafana.org/" target="_blank">Grafana</a>在浏览器中轻松查看InfluxDB数据。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="grafana_configuration"><strong>15.4 Grafana配置</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>安装grafana<br>阅读<a href="http://docs.grafana.org/" target="_blank">文档</a>以获取更多详细信息。添加<a href="http://docs.grafana.org/features/datasources/influxdb/" target="_blank">数据源</a><br>

    </p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img width="1265" height="581" src="../../docs/images/screenshots/grafana_dashboard.png"><br>
<font size="-1">Grafana仪表板</font></td></tr></tbody></table>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="graphite"><strong>15.5石墨</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>有关本节的帮助，请参阅<a href="../building.html">贡献文档</a></p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<br>
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="best-practices.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="generating-dashboard.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
</td>
</tr>
<tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td>
<table width="100%">
<tbody><tr>
<td>
<font color="#525D76" size="-1"><em>版权所有©1999-2019，Apache软件基金会</em></font>
</td>
<td align="right">
<font color="#525D76" size="-1"><em>$ Id：realtime-results.xml 1457581 2013-03-17 22：58：08Z sebb $</em></font>
</td>
</tr>
<tr><td colspan="2">
<div align="center"><font color="#525D76" size="-1">Apache，Apache JMeter，JMeter，Apache Feather和Apache JMeter徽标是Apache Software Foundation的商标。
</font>
</div>
</td></tr>
</tbody></table>
</td>
</tr>
</tbody></table>


<!-- end the processing -->














































</body></html>