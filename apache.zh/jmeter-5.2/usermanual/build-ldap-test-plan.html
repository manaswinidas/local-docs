<html ><head>
<link rel="stylesheet" type="text/css" href="../css/style.css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>Apache JMeter-用户手册：建立LDAP测试计划</title>
<style>
  .code { font-weight: bold; }
</style>
</head>

<body bgcolor="#ffffff"  text="#000000" link="#525D76">
<table border="0" cellspacing="0">
<tbody><tr>
<td align="left">
<a href="http://www.apache.org"><img title="Apache软件基金会" width="261" height="106" src="../images/asf-logo.png" border="0" style="margin:0px 30px 0px 0px"></a>
</td>
<td align="right">
<a href="http://jmeter.apache.org/"><img width="259" height="88" src="../images/jmeter.png" alt="Apache JMeter" title="Apache JMeter" border="0"></a>
</td>
</tr>
</tbody></table>
<table border="0" cellspacing="4">
<tbody><tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td align="left" valign="top">
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-ldapext-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-ftp-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
<br>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="building"><strong>8a。建立LDAP测试计划</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>在本节中，您将学习如何创建基本的测试计划以测试LDAP服务器。您将创建四个用户，这些用户在LDAP服务器上发送对四个测试的请求。另外，您将告诉用户运行测试4次。因此，请求总数为（4个用户）x（4个请求）x（重复4次）= 64个LDAP请求。要构建测试计划，您将使用以下元素： <a href="test_plan.html#thread_group">线程组</a> ， <a href="../usermanual/component_reference.html#LDAP_Request">LDAP请求</a> ， <a href="../usermanual/component_reference.html#LDAP_Request_Defaults">LDAP请求默认值</a>和<a href="../usermanual/component_reference.html#View_Results_in_Table">在表中查看结果</a> 。</p><p>本示例假定LDAP服务器在ldap.test.com上可用。</p></blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="adding_users"><strong>8a.1添加用户</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>您要对每个JMeter测试计划进行的第一步是添加一个线程组元素。线程组告诉JMeter您要模拟的用户数量，用户应该发送请求的频率以及应该发送多少请求。</p><p>继续并通过首先选择“测试计划”来添加ThreadGroup元素，单击鼠标右键以获取“ <span class="menuchoice"><span class="guimenuitem">添加”</span></span>菜单，然后选择“ <span class="menuchoice"><span class="guimenuitem">添加”</span> →“ <span class="guimenuitem">ThreadGroup”</span></span> 。现在，您应该在“测试计划”下看到“线程组”元素。如果没有看到该元素，则通过单击“测试计划”元素来“扩展”测试计划树。
</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/ldaptest/threadgroup.png"><br>
<font size="-1">图8a.1。线程组和最终测试树</font></td></tr></tbody></table>


<p></p></blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="add_login"><strong>8a.2添加登录配置元素</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>首先选择“ <tt class="code">LDAP用户”</tt>元素。单击鼠标右键获得“添加”菜单，然后选择“ <span class="menuchoice"><span class="guimenuitem">添加”</span> →“ <span class="guimenuitem">配置元素”</span> →“ <span class="guimenuitem">登录配置元素”</span></span> 。然后，选择此新元素以查看其控制面板。</p><p>与大多数JMeter元素一样， <tt class="code">Login Config Element的</tt> “控制面板”中有一个您可以修改的名称字段。在此示例中，将此字段保留为默认值。</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/ldaptest/login-config-element.png"><br>
<font size="-1">图8a.2测试计划的登录配置元素</font></td></tr></tbody></table>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td><p>在“用户名”字段中输入“您的LDAP用户名”，<br>密码字段为“您的LDAP密码”</p>

        <p>这些值将由LDAP请求使用。</p></td></tr>
</tbody></table>
<p></p>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="add_defaults"><strong>8a.3添加LDAP请求默认值</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>首先选择“ <tt class="code">LDAP用户”</tt>元素。单击鼠标右键获得“ <span class="menuchoice"><span class="guimenuitem">添加”</span></span>菜单，然后选择“ <span class="menuchoice"><span class="guimenuitem">添加”</span> →“ <span class="guimenuitem">配置元素”</span> →“ <span class="guimenuitem">LDAP请求默认值”</span></span> 。然后，选择此新元素以查看其控制面板。</p><p>像大多数JMeter元素一样，“ <tt class="code">LDAP请求默认值”</tt>控制面板具有您可以修改的名称字段。在此示例中，将此字段保留为默认值。</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/ldaptest/requestdefaults.png"><br>
<font size="-1">图8a.3我们的测试计划的LDAP默认值</font></td></tr></tbody></table>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>在“ <tt class="code">您的LDAP根专有名称</tt> ”中输入<tt class="code">DN</tt>字段。<br>在“ <tt class="code">ldap.test.com</tt> ”中输入LDAP服务器的“ <tt class="code">服务器名”</tt>字段。<br>到<tt class="code">389</tt>的<tt class="code">端口</tt> 。<br>这些值是LDAP请求的默认值。</td></tr>
</tbody></table>
<p></p>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="add_requests"><strong>8a.4添加LDAP请求</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>在我们的测试计划中，我们需要发出四个LDAP请求。</p><ol>
            <li>内置添加测试</li>
            <li>内置搜索测试</li>
            <li>内置修改测试</li>
            <li>内置删除测试</li>

        </ol><p>JMeter按照将请求添加到树中的顺序发送请求。首先将第一个LDAP请求添加到LDAP Users元素（ <span class="menuchoice"><span class="guimenuitem">添加</span> → <span class="guimenuitem">采样器</span> → <span class="guimenuitem">LDAP请求</span></span> ）。然后，在树中选择LDAP Request元素并编辑以下属性</p><ol>
            <li>重命名为“ <tt class="code">添加</tt> ”此元素</li>
            <li>选择“ <tt class="code">测试配置”</tt>组中的“ <tt class="code">添加测试”</tt>单选按钮</li>
        </ol><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/ldaptest/add.png"><br>
<font size="-1">图8a.4.1 LDAP请求内置添加测试</font></td></tr></tbody></table>
<p>您不必设置<tt class="code">Servername</tt>字段， <tt class="code">port</tt>字段， <tt class="code">Username</tt> ， <tt class="code">Password</tt>和<tt class="code">DN，</tt>因为您已经在<tt class="code">Login Config Element</tt>和<tt class="code">LDAP Request Defaults中</tt>指定了该值<tt class="code">。</tt></p><p>接下来，添加第二个LDAP请求并编辑以下属性</p><ol>
            <li>重命名为“ <tt class="code">搜索</tt> ”该元素</li>
            <li>在“ <tt class="code">测试配置”</tt>组中选择“ <tt class="code">搜索测试”</tt>单选按钮</li>
        </ol><p>接下来，添加第三个LDAP请求并编辑以下属性</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/ldaptest/search.png"><br>
<font size="-1">图8a.4.2内置搜索的LDAP请求测试</font></td></tr></tbody></table>
<ol>
            <li>重命名为“ <tt class="code">修改</tt> ”此元素</li>
            <li>在“ <tt class="code">测试配置”</tt>组中选择“ <tt class="code">修改测试”</tt>单选按钮。</li>
        </ol><p>接下来，添加第四个LDAP请求并编辑以下属性</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/ldaptest/modify.png"><br>
<font size="-1">图8a.4.3内置修改的LDAP请求测试</font></td></tr></tbody></table>
<ol>
            <li>重命名为“ <tt class="code">Delete</tt> ”这个元素</li>
            <li>选择“ <tt class="code">测试配置”</tt>组中的“ <tt class="code">删除测试”</tt>单选按钮</li>
        </ol><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/ldaptest/delete.png"><br>
<font size="-1">图8a.4.4内置删除测试的LDAP请求</font></td></tr></tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="ResponseAssertion"><strong>8a.5添加响应声明</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>您可以添加一个响应声明元素。该元素将通过验证响应文本是否“ <tt class="code">成功</tt> ”来检查接收到的响应数据。（ <span class="menuchoice"><span class="guimenuitem">添加</span> → <span class="guimenuitem">断言</span> → <span class="guimenuitem">响应断言</span></span> ）。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>注意：在树中的此位置，将为每个LDAP请求执行响应声明。</td></tr>
</tbody></table>
<p></p>
<ol>
            <li>在“ <tt class="code">响应”字段中</tt>选择“ <tt class="code">文本响应”</tt>单选按钮<tt class="code">以测试</tt>组</li>
            <li>在<tt class="code">模式匹配规则</tt>组中选择<tt class="code">子字符串</tt>单选按钮</li>
            <li>单击<tt class="code">添加</tt>按钮，然后在<tt class="code">模式到测试</tt>字段中添加字符串“ <tt class="code">成功</tt> ”</li>
        </ol><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/ldaptest/responseassertion.png"><br>
<font size="-1">图8a.5 LDAP响应声明</font></td></tr></tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="add_listener"><strong>8a.6添加侦听器以查看/存储测试结果</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>您需要添加到测试计划中的最后一个元素是侦听器。该元素负责将LDAP请求的所有结果存储在文件中，并提供数据的可视模型。选择LDAP Users元素并在表中<span class="menuchoice"><span class="guimenuitem">添加</span></span>查看结果（ <span class="menuchoice"><span class="guimenuitem">添加</span> → <span class="guimenuitem">侦听器</span> → <span class="guimenuitem">在表中查看结果</span></span> ）</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/ldaptest/viewtable.png"><br>
<font size="-1">图8a.6在表侦听器中查看结果</font></td></tr></tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<br>
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-ldapext-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-ftp-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
</td>
</tr>
<tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td>
<table width="100%">
<tbody><tr>
<td>
<font color="#525D76" size="-1"><em>版权所有©1999-2019，Apache软件基金会</em></font>
</td>
<td align="right">
<font color="#525D76" size="-1"><em>$ Id $</em></font>
</td>
</tr>
<tr><td colspan="2">
<div align="center"><font color="#525D76" size="-1">Apache，Apache JMeter，JMeter，Apache Feather和Apache JMeter徽标是Apache Software Foundation的商标。
</font>
</div>
</td></tr>
</tbody></table>
</td>
</tr>
</tbody></table>


<!-- end the processing -->














































</body></html>