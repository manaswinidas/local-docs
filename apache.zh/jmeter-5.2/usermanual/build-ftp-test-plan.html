<html ><head>
<link rel="stylesheet" type="text/css" href="../../docs/css/style.css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>Apache JMeter-用户手册：构建FTP测试计划</title>
<style>
  .code { font-weight: bold; }
</style>
</head>

<body bgcolor="#ffffff"  text="#000000" link="#525D76">
<table border="0" cellspacing="0">
<tbody><tr>
<td align="left">
<a href="http://www.apache.org"><img title="Apache软件基金会" width="261" height="106" src="../../docs/images/asf-logo.png" border="0" style="margin:0px 30px 0px 0px"></a>
</td>
<td align="right">
<a href="http://jmeter.apache.org/"><img width="259" height="88" src="../../docs/images/jmeter.png" alt="Apache JMeter" title="Apache JMeter" border="0"></a>
</td>
</tr>
</tbody></table>
<table border="0" cellspacing="4">
<tbody><tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td align="left" valign="top">
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-ldap-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-db-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
<br>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="building"><strong>7。建立FTP测试计划</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>在本节中，您将学习如何创建基本的<a href="build-test-plan.html">测试计划</a>来测试FTP站点。您将创建四个用户，这些用户在FTP站点上发送对两个文件的请求。另外，您将告诉用户两次运行测试。因此，请求总数为（4个用户）x（2个请求）x（重复2次）= 16个FTP请求。</p><p>要构建测试计划，您将使用以下元素： <a href="test_plan.html#thread_group">线程组</a> ， <a href="../usermanual/component_reference.html#FTP_Request">FTP请求</a> ， <a href="../usermanual/component_reference.html#FTP_Request_Defaults">FTP请求默认值</a>和<a href="../usermanual/component_reference.html#View_Results_in_Table">在表中查看结果</a> 。</p></blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="adding_users"><strong>7.1添加用户</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>您要对每个JMeter测试计划进行的第一步是添加一个<a href="test_plan.html#thread_group">线程组</a>元素。线程组告诉JMeter您要模拟的用户数量，用户应该发送请求的频率以及应该发送多少请求。</p><p>继续并通过以下方法添加线程组元素：首先选择“测试计划”，单击鼠标右键以获得“添加”菜单，然后选择“ <b>添加”</b> →“ <b>线程组”。</b></p><p>现在，您应该在“ <b>测试计划”</b>下看到“ <b>线程组”</b>元素<b>。</b>  如果没有看到该元素，则通过单击“ <b>测试计划”</b>元素来“扩展”测试计划树。</p><p>接下来，您需要修改默认属性。如果尚未选择<b>线程组</b>元素，则在树中选择它。现在，您应该在JMeter窗口的右侧看到线程组控制面板（请参见下面的图7.1）</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../../docs/images/screenshots/webtest/threadgroup.png"><br>
<font size="-1">图7.1。具有默认值的线程组</font></td></tr></tbody></table>
<p>首先为我们的<b>线程组</b>提供一个更具描述性的名称<b>。</b> 在名称字段中，输入“ FTP用户”。</p><p>接下来，将用户数量增加到4。</p><p>在未来的领域， <i>提升</i>周期，离开0秒的默认值。该属性告诉JMeter启动每个用户之间要延迟多长时间。例如，如果你进入5秒的<i>等候周期</i> ，JMeter会完成由5秒结束前开启所有的用户。所以，如果我们有5个用户和一个5秒<i>的提升</i>周期，然后开始用户之间的延迟将是1秒（5个用户/5秒= 1个每秒用户）。如果将值设置为0，那么JMeter将立即启动所有用户。</p><p>最后，在“ <i>循环计数”</i>字段中输入值2。该属性告诉JMeter重复测试多少次。要让JMeter重复运行您的<b>测试计划，请</b>选择<i>永久</i>复选框。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>在大多数应用程序中，您必须手动接受在控制面板中所做的更改。但是，在JMeter中，控制面板会在您进行更改时自动接受它们。如果更改元素的名称，则在离开控制面板后（例如，选择另一个树元素时），树将使用新文本进行更新。</td></tr>
</tbody></table>
<p></p>
<p>有关完整的FTP用户线程组，请参见图7.2。</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../../docs/images/screenshots/ftptest/threadgroup2.png"><br>
<font size="-1">图7.2。FTP用户线程组</font></td></tr></tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="adding_defaults"><strong>7.2添加默认的FTP请求属性</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>现在我们已经定义了用户，现在是时候定义他们将要执行的任务了。在本部分中，您将为FTP请求指定默认设置。然后，在7.3节中，您将添加使用在此指定的某些默认设置的<b>FTP请求</b>元素。</p><p>首先选择“ FTP用户”元素。单击鼠标右键获得“添加”菜单，然后选择“ <b>添加”</b> →“ <b>配置元素”</b> →“ <b>FTP请求默认值”。</b> 然后，选择此新元素以查看其控制面板（请参见图7.3）。
</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../../docs/images/screenshots/ftptest/ftp-defaults.png"><br>
<font size="-1">图7.3。FTP请求默认值</font></td></tr></tbody></table>
<p>与大多数JMeter元素一样，“ <a href="../usermanual/component_reference.html#FTP_Request_Defaults">FTP请求默认值”</a>控制面板具有一个您可以修改的名称字段。在此示例中，将此字段保留为默认值。</p><p>跳至下一个字段，即FTP服务器的服务器名称/ IP。对于要构建的测试计划，所有FTP请求都将发送到同一FTP服务器，在这种情况下为ftp.domain.com。在字段中输入此域名。这是我们将指定默认值的唯一字段，因此请保留其余字段的默认值。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>FTP Request Defaults元素不会告诉JMeter发送FTP请求。它仅定义FTP请求元素使用的默认值。</td></tr>
</tbody></table>
<p></p>
<p>有关完整的“ FTP请求默认值”元素，请参见图7.4。</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../../docs/images/screenshots/ftptest/ftp-defaults2.png"><br>
<font size="-1">图7.4。测试计划的FTP默认值</font></td></tr></tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="adding_requests"><strong>7.3添加FTP请求</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>在我们的<b>测试计划中</b> ，我们需要发出两个<b>FTP请求</b> 。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter按照它们在树中出现的顺序发送请求。</td></tr>
</tbody></table>
<p></p>
<p>首先将第一个<a href="../usermanual/component_reference.html#FTP_Request">FTP请求</a>添加到FTP用户元素（ <b>添加</b> → <b>采样器</b> → <b>FTP请求</b> ）。然后，在树中选择“ <b>FTP请求”</b>元素并编辑以下属性（请参见图7.5）：</p><ol>
<li>将<i>名称</i>更改为“ File1”。</li>
<li>将“ <i>远程文件”</i>字段更改为“ /directory/file1.txt”。</li>
<li>将<i>用户名字</i>段更改为“匿名”。</li>
<li>将<i>密码</i>字段更改为“ anonymous@test.com”。</li>
</ol>
<p></p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>您不必设置“ <i>服务器名称”</i>字段，因为您已经在“ <b>FTP请求默认值”</b>元素中指定了该值。</td></tr>
</tbody></table>
<p></p>
<table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../../docs/images/screenshots/ftptest/ftp-request.png"><br>
<font size="-1">图7.5。FTP请求文件1</font></td></tr></tbody></table>
<p>接下来，添加第二个<b>FTP请求</b>并编辑以下属性（请参见图7.6：</p><ol>
<li>将<i>名称</i>更改为“ File2”。</li>
<li>将“ <i>远程文件”</i>字段更改为“ /directory/file2.txt”。</li>
<li>将<i>用户名字</i>段更改为“匿名”。</li>
<li>将<i>密码</i>字段更改为“ anonymous@test.com”。</li>
</ol>
<p></p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../../docs/images/screenshots/ftptest/ftp-request2.png"><br>
<font size="-1">图7.6。FTP请求文件2</font></td></tr></tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="adding_listener"><strong>7.4添加侦听器以查看/存储测试结果</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>您需要添加到<b>测试计划中</b>的最后一个元素是<a href="component_reference.html#listeners">Listener</a> 。此元素负责将<b>FTP请求的</b>所有结果存储在文件中，并提供数据的可视模型。</p><p>选择“ FTP用户”元素，然后<a href="../usermanual/component_reference.html#View_Results_in_Table">在“表”</a>侦听<b>器中</b> <b>添加</b> <b>“</b> <b>查看结果”</b> （“ <b>添加”</b> →“ <b>侦听器”</b> → <b>“在表中查看结果”</b> ）。</p><p>运行测试并查看结果。</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../../docs/images/screenshots/ftptest/ftp-results.png"><br>
<font size="-1">图7.7。在表侦听器中查看结果</font></td></tr></tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<br>
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-ldap-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-db-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
</td>
</tr>
<tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td>
<table width="100%">
<tbody><tr>
<td>
<font color="#525D76" size="-1"><em>版权所有©1999-2019，Apache软件基金会</em></font>
</td>
<td align="right">
<font color="#525D76" size="-1"><em>$ Id $</em></font>
</td>
</tr>
<tr><td colspan="2">
<div align="center"><font color="#525D76" size="-1">Apache，Apache JMeter，JMeter，Apache Feather和Apache JMeter徽标是Apache Software Foundation的商标。
</font>
</div>
</td></tr>
</tbody></table>
</td>
</tr>
</tbody></table>


<!-- end the processing -->














































</body></html>