<html ><head></head><body bgcolor="#ffffff"  text="#000000" link="#525D76">﻿
<link rel="stylesheet" type="text/css" href="../css/style.css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>Apache JMeter-用户手册：入门</title>
<style>
  .code { font-weight: bold; }
</style>



<table border="0" cellspacing="0">
<tbody><tr>
<td align="left">
<a href="http://www.apache.org"><img title="Apache软件基金会" width="261" height="106" src="../images/asf-logo.png" border="0" style="margin:0px 30px 0px 0px"></a>
</td>
<td align="right">
<a href="http://jmeter.apache.org/"><img width="259" height="88" src="../images/jmeter.png" alt="Apache JMeter" title="Apache JMeter" border="0"></a>
</td>
</tr>
</tbody></table>
<table border="0" cellspacing="4">
<tbody><tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td align="left" valign="top">
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
</tr>
</tbody></table>
<br>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="get_started"><strong>1。入门</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<section name="1.0 Overview" anchor="overview">使用JMeter时，通常将遵循以下过程：<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="test_plan_building"><strong>1.0.1测试计划的建立</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>为此，您将<a href="get-started.html#running">在GUI模式下运行JMeter。</a><br>然后，您可以选择从浏览器或本机应用程序记录应用程序。您可以使用菜单<span class="menuchoice"><span class="guimenuitem">文件</span> → <span class="guimenuitem">模板...</span>→ <span class="guimenuitem">录音</span>  </span>
<br>

</p><p>请注意，您还可以手动构建计划。确保阅读本<a href="test_plan.html">文档</a>以了解主要概念。
</p><ul>
    <li> <span class="menuchoice">
 <span class="guimenuitem">运行</span> → <span class="guimenuitem">不暂停</span>  </span>
</li>
    <li> <span class="menuchoice">
 <span class="guimenuitem">运行</span> → <span class="guimenuitem">开始</span>  </span>
</li>
    <li> 在<a href="component_reference.html#Thread_Group">线程组</a>上<span class="menuchoice"><span class="guimenuitem">验证</span></span></li>
</ul><p>并<a href="component_reference.html#View_Results_Tree">查看结果树</a>渲染器或测试器（CSS / JQUERY，JSON，Regexp，XPath）。<br>确保在制定测试计划时遵循<a href="best-practices.html">最佳实践</a> 。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>

<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="load_test_running"><strong>1.0.2负载测试运行</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>准备好测试计划后，就可以开始负载测试了。第一步是配置将运行JMeter的注射器，这与其他任何负载测试工具一样，包括：</p><ul>
    <li>根据CPU，内存和网络正确调整计算机大小</li>
    <li>操作系统调整</li>
    <li>Java设置：确保您安装JMeter支持的最新版本的Java</li>
    <li><b>增加Java堆大小</b> 。默认情况下，JMeter使用1 GB的堆运行，这可能不足以进行测试，并且取决于测试计划和要运行的线程数</li>
</ul>一切准备就绪后，您将使用CLI模式（以前称为<a href="#non_gui">Non-GUI mode的</a>命令行<a href="#non_gui">模式</a> ）运行它以进行负载测试。<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>不要使用GUI模式运行负载测试！</td></tr>
</tbody></table>
<p></p>
<br>使用CLI模式，您可以生成包含结果的CSV（或XML）文件，并让JMeter在负载测试结束时<a href="generating-dashboard.html">生成HTML报告</a> 。默认情况下，JMeter将在运行时提供负载测试的摘要。<br>在测试过程中，您还可以使用<a href="component_reference.html#Backend_Listener">Backend Listener</a>获得<a href="realtime-results.html">实时结果</a> 。
<p></p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>

<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="load_test_analysis"><strong>1.0.3负载测试分析</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<br>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>

</section><table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="lets_start"><strong>1.0.4开始</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>开始使用JMeter的最简单方法是先<a href="http://jmeter.apache.org/download_jmeter.cgi">下载最新的生产版本</a>并安装它。该版本包含构建和运行大多数类型的测试所需的所有文件，例如Web（HTTP / HTTPS），FTP，JDBC，LDAP，Java，JUnit等。</p><p>如果要执行JDBC测试，那么您当然需要供应商提供的适当的JDBC驱动程序。JMeter不附带任何JDBC驱动程序。</p><p>JMeter包含JMS API jar，但不包含JMS客户端实现。如果要运行JMS测试，则需要从JMS提供程序下载相应的jar。
</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>有关安装其他jar的详细信息，请参见<a href="#classpath">JMeter类路径</a>部分。
</td></tr>
</tbody></table>
<p></p>
<p>接下来，启动JMeter，并仔细阅读《用户指南<a href="build-test-plan.html">》</a>的“ <a href="build-test-plan.html">构建测试计划”</a>部分，以熟悉JMeter的基础知识（例如，添加和删除元素）。</p><p>最后，仔细阅读有关如何构建特定类型的测试计划的相应部分。例如，如果您对测试Web应用程序感兴趣，请参阅“ <a href="build-web-test-plan.html">构建Web测试计划”部分</a> 。其他特定的测试计划部分是：</p><ul>
<li><a href="build-adv-web-test-plan.html">高级网络测试计划</a></li>
<li><a href="build-db-test-plan.html">JDBC</a></li>
<li><a href="build-ftp-test-plan.html">的FTP</a></li>
<li><a href="build-jms-point-to-point-test-plan.html">JMS点对点</a></li>
<li><a href="build-jms-topic-test-plan.html">JMS主题</a></li>
<li><a href="build-ldap-test-plan.html">LDAP</a></li>
<li><a href="build-ldapext-test-plan.html">LDAP扩展</a></li>
<li><a href="build-ws-test-plan.html">Web服务（SOAP）</a></li>
</ul>
<p></p><p>一旦您对构建和运行JMeter测试计划感到满意，就可以研究各种配置元素（计时器，侦听器，断言和其他元素），这些元素使您可以更好地控制测试计划。</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="requirements"><strong>1.1要求</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>JMeter要求您的计算环境必须满足一些最低要求。</p><table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="java_versions"><strong>1.1.1 Java版本</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter与Java 8或更高版本兼容。出于安全和性能方面的考虑，我们强烈建议您安装主版本的最新次版本。
</td></tr>
</tbody></table>
<p></p>
<p>由于JMeter仅使用标准Java API，因此如果您的JRE由于JRE实施问题而无法运行JMeter，请不要提交错误报告。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>尽管可以使用JRE，但最好还是安装JDK来记录HTTPS，JMeter需要JDK的<tt class="code">keytool</tt>实用程序。</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="os"><strong>1.1.2操作系统</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>JMeter是100％Java应用程序，应在具有兼容Java实现的任何系统上正确运行。</p><p>可以在JMeter Wiki的<a href="https://cwiki.apache.org/confluence/display/JMETER/JMeterAndOperatingSystemsTested">此页面</a>上查看使用JMeter测试的操作系统。</p><p>即使您的操作系统未在Wiki页面上列出，只要JVM兼容，JMeter也应在其上运行。</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="optional"><strong>1.2可选</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>如果计划进行JMeter开发，则将需要下面列出的一个或多个可选软件包。</p><table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="opt_compiler"><strong>1.2.1 Java编译器</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>如果要构建JMeter源代码或开发JMeter插件，则需要完全兼容的JDK 8或更高版本。</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="opt_sax"><strong>1.2.2 SAX XML解析器</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>JMeter带有Apache的<a href="http://xml.apache.org/">Xerces XML解析器</a> 。您可以选择告诉JMeter使用其他XML解析器。为此，请将第三方解析器的类包括在JMeter的<a href="#classpath">classpath中</a> ，并使用解析器实现的完整类名更新<a href="#configuring_jmeter">jmeter.properties</a>文件。</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="opt_email"><strong>1.2.3电子邮件支持</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>JMeter具有广泛的电子邮件功能。它可以根据测试结果发送电子邮件，并具有POP3（S）/ IMAP（S）采样器。它还具有一个SMTP（S）采样器。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="opt_ssl"><strong>1.2.4 SSL加密</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>为了测试使用SSL加密（HTTPS）的Web服务器，JMeter要求提供SSL实现，与Sun Java 1.4及更高版本一样。如果您的Java版本不包含SSL支持，则可以添加一个外部实现。在JMeter的<a href="#classpath">classpath中</a>包括必要的加密程序包。另外，更新<a href="#configuring_jmeter"><tt class="code">system.properties</tt></a>以注册SSL提供程序。</p><p>JMeter HTTP默认为协议级别的TLS。可以通过编辑<tt class="code">jmeter.properties</tt>或<tt class="code">user.properties中</tt>的JMeter属性<tt class="code">https.default.protocol</tt>来更改。
</p><p><b>JMeter HTTP采样器被配置为接受所有证书，无论是否可信，无论有效期如何。</b>这都是为了最大程度地测试服务器。</p><p>如果服务器需要客户端证书，则可以提供。</p><p>还有<a href="../usermanual/component_reference.html#SSL_Manager">SSL Manager</a> ，可以更好地控制证书。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter代理服务器（如下所示）支持记录HTTPS（SSL）</td></tr>
</tbody></table>
<p></p>
<p>SMTP采样器可以选择使用本地信任存储区或信任所有证书。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="opt_jdbc"><strong>1.2.5 JDBC驱动程序</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>如果要进行JDBC测试，则需要将数据库供应商的JDBC驱动程序添加到<a href="#classpath">类路径中</a> 。确保文件是jar文件，而不是zip文件。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="opt_jms"><strong>1.2.6 JMS客户端</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>JMeter现在包括来自Apache Geronimo的JMS API，因此您只需要从JMS提供程序中添加适当的JMS客户端实现jar。有关详细信息，请参阅其文档。<a href="https://cwiki.apache.org/confluence/display/JMETER/Home">JMeter Wiki</a>上也可能有一些信息。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="libraries_activemq"><strong>1.2.7 ActiveMQ JMS的库</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>您需要将jar <tt class="code">activemq-all-XXXjar添加</tt>到您的类路径中，例如，将其存储在<tt class="code">lib /</tt>目录中。
</p><p>有关详细信息，请参见<a href="http://activemq.apache.org/initial-configuration.html">ActiveMQ初始配置页面</a> 。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>有关安装其他jar的更多详细信息，请参见<a href="#classpath">JMeter类路径</a>部分。
</td></tr>
</tbody></table>
<p></p>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="install"><strong>1.3安装</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>我们建议大多数用户运行<a href="http://jmeter.apache.org/download_jmeter.cgi">最新版本</a> 。</p><p>要安装发行版本，只需将zip / tar文件解压缩到要安装JMeter的目录中。只要您已正确安装了JRE / JDK并设置了<tt class="code">JAVA_HOME</tt>环境变量，您便无所事事。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>如果目录路径包含任何空格，则可能会出现问题（尤其是在客户端-服务器模式下）。
</td></tr>
</tbody></table>
<p></p>
<p>安装目录结构应如下所示（其中<tt class="code">XY</tt>是版本号）：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
apache-jmeter-X.Y
apache-jmeter-X.Y/bin
apache-jmeter-X.Y/docs
apache-jmeter-X.Y/extras
apache-jmeter-X.Y/lib/
apache-jmeter-X.Y/lib/ext
apache-jmeter-X.Y/lib/junit
apache-jmeter-X.Y/licenses
apache-jmeter-X.Y/printable_docs
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>您可以根据需要重命名父目录（即<tt class="code">apache-jmeter-XY</tt> ），但不要更改任何子目录名称。
<p></p></blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="running"><strong>1.4运行JMeter</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<br>
<p>要运行JMeter，请运行<tt class="code">jmeter.bat</tt> （对于Windows）或<tt class="code">jmeter</tt> （对于Unix）文件。这些文件位于<tt class="code">bin</tt>目录中。短时间后，将出现JMeter GUI。
</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>GUI模式应仅用于创建测试脚本，CLI模式（NON GUI）必须用于负载测试</td></tr>
</tbody></table>
<p></p>

<p></p><p><tt class="code">bin</tt>目录中还有一些其他脚本可能会有用。Windows脚本文件（CMD文件需要Win2K或更高版本）：</p><dl>
<dt><tt class="code">jmeter.bat</tt></dt><dd>运行JMeter（默认情况下处于GUI模式）</dd>
<dt><tt class="code">jmeterw.cmd</tt></dt><dd>在没有Windows Shell控制台的情况下运行JMeter（默认情况下处于GUI模式）</dd>
<dt><tt class="code">计米</tt></dt><dd>在其上放置一个JMX文件以运行CLI模式测试</dd>
<dt><tt class="code">jmeter-nr.cmd</tt></dt><dd>在其上放置一个JMX文件以远程运行CLI模式测试</dd>
<dt><tt class="code">高度表</tt></dt><dd>在其上放置一个JMX文件以在GUI模式下加载它</dd>
<dt><tt class="code">jmeter-server.bat</tt></dt><dd>在服务器模式下启动JMeter</dd>
<dt><tt class="code">镜像服务器.cmd</tt></dt><dd>在CLI模式下运行JMeter Mirror Server</dd>
<dt><tt class="code">关闭.cmd</tt></dt><dd>运行Shutdown客户端以正常停止CLI模式实例</dd>
<dt><tt class="code">停止测试</tt></dt><dd>运行Shutdown客户端以突然停止CLI模式实例</dd>
</dl><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>特殊名称<tt class="code">LAST</tt>可以与<tt class="code">jmeter-n.cmd</tt> ， <tt class="code">jmeter-t.cmd</tt>和<tt class="code">jmeter-nr.cmd一起使用</tt> ，表示最后一次交互运行的测试计划。</td></tr>
</tbody></table>
<p></p>
<p>有一些环境变量，可用于自定义JMeter的JVM设置。一种简单的设置方法是在<tt class="code">bin</tt>目录中创建一个名为<tt class="code">setenv.bat</tt>的文件。这样的文件可能看起来像：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
rem This is the content of bin\setenv.bat,
rem it will be called by bin\jmeter.bat

set JVM_ARGS=&quot;-Xms1024m -Xmx1024m -Dpropname=value&quot;
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p><tt class="code">JVM_ARGS</tt>可用于覆盖<tt class="code">jmeter.bat</tt>脚本中的JVM设置，并将在启动JMeter时设置，例如：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
jmeter -t test.jmx …
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>可以定义以下环境变量：</p><dl>
<dt><tt class="code">DDRAW</tt></dt><dd>影响直接绘制用法的JVM选项，例如<tt class="code">-Dsun.java2d.ddscale = true</tt> 。默认为空。</dd>
<dt><tt class="code">GC_ALGO</tt></dt><dd>JVM垃圾收集器选项。默认为<tt class="code">-XX：+ UseG1GC -XX：MaxGCPauseMillis = 250 -XX：G1ReservePercent = 20</tt></dd>
<dt><tt class="code">堆</tt></dt><dd>启动JMeter时使用的JVM内存设置。默认为<tt class="code">-Xms1g -Xmx1g -XX：MaxMetaspaceSize = 256m</tt></dd>
<dt><tt class="code">JMETER_BIN</tt></dt><dd>JMeter bin目录（必须以<tt class="code">\</tt>结束）。调用<tt class="code">setenv.bat</tt>时将猜测值。</dd>
<dt><tt class="code">JMETER_COMPLETE_ARGS</tt></dt><dd>如果设置，表明仅使用<tt class="code">JVM_ARGS</tt>和<tt class="code">JMETER_OPTS</tt> 。所有其他选项（例如<tt class="code">HEAP</tt>和<tt class="code">GC_ALGO）</tt>将被忽略。默认为空。</dd>
<dt><tt class="code">JMETER_HOME</tt></dt><dd>安装目录。将在<tt class="code">jmeter.bat的</tt>位置<tt class="code">猜测</tt></dd>
<dt><tt class="code">JMETER_LANGUAGE</tt></dt><dd>Java运行时选项以指定使用的语言。默认为： <tt class="code">-Duser.language =“ zh-CN” -Duser.region =“ EN”</tt></dd>
<dt><tt class="code">JM_LAUNCH</tt></dt><dd>Java可执行文件的名称，例如<tt class="code">java.exe</tt> （默认）或<tt class="code">javaw.exe</tt></dd>
<dt><tt class="code">JVM_ARGS</tt></dt><dd>启动JMeter时要使用的Java选项。这些将最后添加到java命令。默认为空</dd>
</dl><p>Un * x脚本文件；应该可以在大多数Linux / Unix系统上运行：</p><dl>
<dt><tt class="code">仪表</tt></dt><dd>运行JMeter（默认情况下处于GUI模式）。定义某些JVM设置，可能不适用于所有JVM。</dd>
<dt><tt class="code">jmeter服务器</tt></dt><dd>在服务器模式下启动JMeter（使用适当的参数调用jmeter脚本）</dd>
<dt><tt class="code">jmeter.sh</tt></dt><dd>非常基本的JMeter脚本（您可能需要调整JVM选项（如内存设置））。</dd>
<dt><tt class="code">镜像服务器</tt></dt><dd>在CLI模式下运行JMeter Mirror Server</dd>
<dt><tt class="code">关机</tt></dt><dd>运行Shutdown客户端以正常停止CLI模式实例</dd>
<dt><tt class="code">停止测试</tt></dt><dd>运行Shutdown客户端以突然停止CLI模式实例</dd>
</dl><p>可能需要设置一些环境变量来配置JMeter使用的JVM。可以在启动<tt class="code">jmeter</tt>脚本的shell中直接设置这些变量。例如，设置变量<tt class="code">JVM_ARGS</tt>将覆盖大多数预定义的设置，例如</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
JVM_ARGS=&quot;-Xms1024m -Xmx1024m&quot; jmeter -t test.jmx [etc.]
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>将覆盖脚本中的HEAP设置。
</p><p>要永久设置这些变量，可以将它们放在<tt class="code">bin</tt>目录中的<tt class="code">setenv.sh</tt>文件中。运行JMeter时，将通过调用<tt class="code">jmeter</tt>脚本来获取此文件。<tt class="code">bin / setenv.sh</tt>的示例如下所示：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
# This is the file bin/setenv.sh,
# it will be sourced in by bin/jmeter

# Use a bigger heap, but a smaller metaspace, than the default
export HEAP=&quot;-Xms1G -Xmx1G -XMaxMetaspaceSize=192m&quot;

# Try to guess the locale from the OS. The space as value is on purpose!
export JMETER_LANGUAGE=&quot; &quot;
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>可以定义以下环境变量：</p><dl>
<dt><tt class="code">GC_ALGO</tt></dt><dd>Java运行时选项，用于指定JVM垃圾回收算法。默认为<tt class="code">-XX：+ UseG1GC -XX：MaxGCPauseMillis = 250 -XX：G1ReservePercent = 20</tt></dd>
<dt><tt class="code">堆</tt></dt><dd>启动JMeter时使用的用于内存管理的Java运行时选项。默认为<tt class="code">-Xms1g -Xmx1g -X：MaxMetaspaceSize = 256m</tt></dd>
<dt><tt class="code">JAVA_HOME</tt></dt><dd>必须指向您的Java开发工具包安装。使用“ <tt class="code">debug</tt> ”参数运行时需要。在某些操作系统上，JMeter会尽力猜测JVM的位置。</dd>
<dt><tt class="code">JMETER_COMPLETE_ARGS</tt></dt><dd>如果设置，表明仅使用<tt class="code">JVM_ARGS</tt>和<tt class="code">JMETER_OPTS</tt> 。所有其他选项（例如<tt class="code">HEAP</tt>和<tt class="code">GC_ALGO）</tt>将被忽略。默认为空。</dd>
<dt><tt class="code">JMETER_HOME</tt></dt><dd>可能指向您的JMeter安装目录。如果为空，将相对于<tt class="code">jmeter</tt>脚本进行设置。</dd>
<dt><tt class="code">JMETER_LANGUAGE</tt></dt><dd>Java运行时选项以指定使用的语言。默认为<tt class="code">-Duser.language = en -Duser.region = EN</tt></dd>
<dt><tt class="code">JMETER_OPTS</tt></dt><dd>启动JMeter时使用的Java运行时选项。JMeter可能会添加操作系统的特殊选项。</dd>
<dt><tt class="code">JRE_HOME</tt></dt><dd>必须指向您的Java Runtime安装。如果为空，则默认为<tt class="code">JAVA_HOME</tt> 。如果<tt class="code">JRE_HOME</tt>和<tt class="code">JAVA_HOME</tt>都为空，则JMeter将尝试猜测<tt class="code">JAVA_HOME</tt> 。如果同时设置了<tt class="code">JRE_HOME</tt>和<tt class="code">JAVA_HOME</tt> ，则使用<tt class="code">JAVA_HOME</tt> 。</dd>
<dt><tt class="code">JVM_ARGS</tt></dt><dd>启动JMeter时要使用的Java选项。这些将添加在<tt class="code">JMETER_OPTS</tt>之前和其他JVM选项之后。默认为空</dd>
</dl><table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="classpath"><strong>1.4.1 JMeter的类路径</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>JMeter自动从以下目录中的jar中查找类：</p><dl>
<dt><tt class="code">JMETER_HOME / lib</tt></dt><dd>用于工具罐</dd>
<dt><tt class="code">JMETER_HOME / lib / ext</tt></dt><dd>用于JMeter组件和插件</dd>
</dl><p>如果您已经开发了新的JMeter组件，则应该对它们进行jar并将其复制到JMeter的<tt class="code">lib / ext</tt>目录中。JMeter将在此处找到的任何jar中自动找到JMeter组件。不要将<tt class="code">lib / ext</tt>用于插件使用的实用程序jar或依赖项jar；它仅适用于JMeter组件和插件。
</p><p>如果您不想将JMeter插件jar放在<tt class="code">lib / ext</tt>目录中，请在<tt class="code">jmeter.properties中</tt>定义属性<tt class="code">search_paths</tt> 。
</p><p>实用程序和依赖项jar（库等）可以放在<tt class="code">lib</tt>目录中。</p><p>如果您不想将这样的jar放在<tt class="code">lib</tt>目录中，请在<tt class="code">jmeter.properties中</tt>定义属性<tt class="code">user.classpath</tt>或<tt class="code">plugin_dependency_paths</tt> 。有关差异的说明，请参见下文。
</p><p>其他jar（例如JDBC，JMS实现和JMeter代码所需的任何其他支持库）应放置在<tt class="code">lib</tt>目录中-而不是<tt class="code">lib / ext</tt>目录中，或添加到<tt class="code">user.classpath中</tt> 。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter只会找到<tt class="code">.jar</tt>文件，而不会找到<tt class="code">.zip</tt> 。</td></tr>
</tbody></table>
<p></p>
<p>您还可以在<tt class="code">$ JAVA_HOME / JRE / lib / ext目录</tt>安装程序Jar文件，也可以设置在<tt class="code">jmeter.properties</tt>属性<tt class="code">user.classpath</tt></p><p>请注意，设置<tt class="code">CLASSPATH</tt>环境变量将无效。这是因为JMeter是开始与<tt class="code">“Java的罐子</tt> ”，而java命令默默地忽略<tt class="code">CLASSPATH</tt>变量<tt class="code">，-classpath</tt> / <tt class="code">-cp</tt>选项时使用<tt class="code">的罐子</tt> 。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>所有Java程序都会发生这种情况，而不仅仅是JMeter。</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="template"><strong>1.4.2从模板创建测试计划</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>您可以根据现有模板创建新的测试计划。</p><p>为此，请使用菜单<span class="menuchoice"><span class="guimenuitem">文件</span> → <span class="guimenuitem">模板…</span></span>或模板图标：</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/template_menu.png"><br>
<font size="-1">模板图标项</font></td></tr></tbody></table>

<p></p><p>出现一个弹出窗口，然后您可以从列表中选择一个模板：</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/template_wizard.png"><br>
<font size="-1">模板弹出</font></td></tr></tbody></table>

<p></p><p>一些模板可能需要用户输入参数。对于这些，单击创建按钮后，将出现一个新窗口，如下所示：</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/templates/template_parameters.png"><br>
<font size="-1">参数窗口</font></td></tr></tbody></table>

<p></p><p>完成参数设置后，单击“ <tt class="code">验证”</tt>按钮，将创建模板。
</p><p>每个模板的文档说明了从模板创建测试计划后的处理方法。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>您可以按照<a href="../creating-templates.html">此处的</a>文档创建自己的模板</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="proxy_server"><strong>1.4.3在代理后面使用JMeter</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>如果从防火墙/代理服务器后面进行测试，则可能需要向JMeter提供防火墙/代理服务器的主机名和端口号。为此，请使用以下参数从命令行运行<tt class="code">jmeter [.bat]</tt>文件：</p><dl>
<dt><tt class="code">-E</tt></dt><dd>[要使用的代理方案-可选-非HTTP]</dd>
<dt><tt class="code">-H</tt></dt><dd>[代理服务器主机名或IP地址]</dd>
<dt><tt class="code">-P</tt></dt><dd>[代理服务器端口]</dd>
<dt><tt class="code">-N</tt></dt><dd>[非代理主机]（例如<tt class="code">* .apache.org | localhost</tt> ）</dd>
<dt><tt class="code">-u</tt></dt><dd>[用于代理身份验证的用户名-如果需要的话]</dd>
<dt><tt class="code">-一种</tt></dt><dd>[用于代理身份验证的密码-必要时]</dd>
</dl><b>例</b><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>jmeter -E https -H my.proxy.server -P 8000 -u username -a password -N localhost</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>您还可以使用<tt class="code"><tt class="code"><tt class="code"><tt class="code">--proxyScheme，--proxyHost，--proxyPort，--username</tt></tt></tt></tt>和<tt class="code">--password</tt>作为参数名称</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>命令行上提供的参数对于系统上的其他用户可能是可见的。
</td></tr>
</tbody></table>
<p></p>
<p>如果提供了代理方案，则JMeter设置以下系统属性：</p><ul>
<li><tt class="code">http.proxyScheme</tt></li>
</ul><p>如果提供了代理主机和端口，则JMeter设置以下系统属性：</p><ul>
<li><tt class="code">http.proxyHost</tt></li>
<li><tt class="code">http.proxyPort</tt></li>
<li><tt class="code">https.proxyHost</tt></li>
<li><tt class="code">https.proxyPort</tt></li>
</ul><ul>
<li><tt class="code">http.nonProxyHosts</tt></li>
<li><tt class="code">https.nonProxyHosts</tt></li>
</ul><p>因此，如果您不想同时设置http和https代理，则可以在<tt class="code">system.properties中</tt>定义相关的属性，而不使用命令行参数。
</p><p>代理设置也可以使用<a href="../usermanual/component_reference.html#HTTP_Request_Defaults">HTTP请求默认值</a>配置或<a href="../usermanual/component_reference.html#HTTP_Request">HTTP请求</a>采样器元素在测试计划中定义。
</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter还具有自己的内置代理服务器<a href="../usermanual/component_reference.html#HTTP(S)_Test_Script_Recorder">HTTP（S）测试脚本记录器</a> 。这仅用于记录HTTP或HTTPS浏览器会话。请勿将其与上述代理设置混淆，当JMeter自行发出HTTP或HTTPS请求时将使用这些代理设置。</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="non_gui"><strong>1.4.4 CLI模式（命令行模式称为NON GUI模式）</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>对于负载测试，必须在此模式下运行JMeter（不使用GUI），以从中获得最佳结果。为此，请使用以下命令选项：</p><dl>
<dt><tt class="code">-n</tt></dt><dd>这指定JMeter将在cli模式下运行</dd>
<dt><tt class="code">-t</tt></dt><dd>[包含测试计划的JMX文件的名称]。</dd>
<dt><tt class="code">-l</tt></dt><dd>[将样本结果记录到的JTL文件的名称]。</dd>
<dt><tt class="code">-j</tt></dt><dd>[JMeter运行日志文件的名称]。</dd>
<dt><tt class="code">-r</tt></dt><dd>在JMeter属性“ <tt class="code">remote_hosts</tt> ”指定的服务器上运行测试</dd>
<dt><tt class="code">-R</tt></dt><dd>[远程服务器列表]在指定的远程服务器中运行测试</dd>
<dt><tt class="code">-G</tt></dt><dd>[CSV文件的路径]仅生成报告仪表板</dd>
<dt><tt class="code">-e</tt></dt><dd>负载测试后生成报告仪表板</dd>
<dt><tt class="code">-o</tt></dt><dd>负载测试后在其中生成报告仪表板的输出文件夹。文件夹不能存在或为空</dd>
</dl><p>该脚本还允许您指定可选的防火墙/代理服务器信息：</p><dl>
<dt><tt class="code">-H</tt></dt><dd>[代理服务器主机名或IP地址]</dd>
<dt><tt class="code">-P</tt></dt><dd>[代理服务器端口]</dd>
</dl><b>例</b><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>jmeter -n -t my_test.jmx -l log.jtl -H my.proxy.server -P 8000</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>如果属性<tt class="code">jmeterengine.stopfail.system.exit</tt>设置为<tt class="code">true</tt> （默认值为<tt class="code">false</tt> ），则JMeter如果无法停止所有线程，则将调用<tt class="code">System.exit（1）</tt> 。通常，这不是必需的。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="server"><strong>1.4.5服务器模式</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>对于<a href="remote-test.html">分布式测试</a> ，请在远程节点上以服务器模式运行JMeter，然后从GUI控制服务器。您也可以使用CLI模式运行远程测试。要启动服务器，请在每个服务器主机上运行<tt class="code">jmeter-server [.bat]</tt> 。</p><p>该脚本还允许您指定可选的防火墙/代理服务器信息：</p><dl>
<dt><tt class="code">-H</tt></dt><dd>[代理服务器主机名或IP地址]</dd>
<dt><tt class="code">-P</tt></dt><dd>[代理服务器端口]</dd>
</dl><b>例</b><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>jmeter-server -H my.proxy.server -P 8000</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>如果要在运行单个测试后退出服务器，请定义JMeter属性<tt class="code">server.exitaftertest = true</tt> 。
</p><p>要以CLI模式从客户端运行测试，请使用以下命令：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
jmeter -n -t testplan.jmx -r [-Gprop=val] [-Gglobal.properties] [-X]
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<dl>
<dt><tt class="code">-G</tt></dt><dd>用于定义要在服务器中设置的JMeter属性</dd>
<dt><tt class="code">-X</tt></dt><dd>表示在测试结束时退出服务器</dd>
<dt><tt class="code">-Rserver1，server2</tt></dt><dd>可以代替<tt class="code">-r</tt>来提供要启动的服务器列表。覆盖<tt class="code">remote_hosts</tt> ，但未定义属性。</dd>
</dl><p>如果属性<tt class="code">jmeterengine.remote.system.exit</tt>设置为<tt class="code">true</tt> （默认值为<tt class="code">false</tt> ），则JMeter在测试结束后停止RMI后将调用<tt class="code">System.exit（0）</tt> 。通常，这不是必需的。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="override"><strong>1.4.6通过命令行覆盖属性</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>Java系统属性和JMeter属性可以直接在命令lin上覆盖（而不是修改<tt class="code">jmeter.properties</tt> ）。为此，请使用以下选项：</p><dl>
<dt><tt class="code">-D [prop_name] = [value]</tt></dt><dd>定义一个Java系统属性值。</dd>
<dt><tt class="code">-J [prop_name] = [value]</tt></dt><dd>定义本地JMeter属性。</dd>
<dt><tt class="code">-G [prop_name] = [value]</tt></dt><dd>定义要发送到所有远程服务器的JMeter属性。</dd>
<dt><tt class="code">-G [属性文件]</tt></dt><dd>定义一个包含JMeter属性的文件，该文件将发送到所有远程服务器。</dd>
<dt><tt class="code">-L [类别] = [优先级]</tt></dt><dd>覆盖日志记录设置，将特定类别设置为给定的优先级。</dd>
</dl><p>也可以在不使用类别名称的情况下使用<tt class="code">-L</tt>标志来设置根日志记录级别。</p><p><b>例子</b> ：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
jmeter -Duser.dir=/home/mstover/jmeter_stuff \
    -Jremote_hosts=127.0.0.1 -Ljmeter.engine=DEBUG
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>jmeter -LDEBUG</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>命令行属性在启动的早期进行处理，但在设置日志记录系统之后进行处理。
</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="logging"><strong>1.4.7记录和错误消息</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>从3.2开始，不再通过属性文件（例如<tt class="code">jmeter.properties</tt> ）配置JMeter日志记录，而是通过<a href="http://logging.apache.org/log4j/2.x/" target="_blank">Apache Log4j 2</a>配置文件（默认情况下，从其启动JMeter的目录中的<tt class="code">log4j2.xml）对其</tt>进行配置。 。而且，包括JMeter和插件在内的每个代码都必须使用<a href="https://www.slf4j.org/" target="_blank">SLF4J</a>库以保留自3.2起的日志。
    </td></tr>
</tbody></table>
<p></p>
<p>这是一个示例<tt class="code">log4j2.xml</tt>文件，该文件为每个类别定义了两个日志附加程序和记录程序。
    </p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>&lt;Configuration status=&quot;WARN&quot; packages=&quot;org.apache.jmeter.gui.logging&quot;&gt;

  &lt;Appenders&gt;

    &lt;!-- The main log file appender to jmeter.log in the directory from which JMeter was launched, by default. --&gt;
    &lt;File name=&quot;jmeter-log&quot; fileName=&quot;${sys:jmeter.logfile:-jmeter.log}&quot; append=&quot;false&quot;&gt;
      &lt;PatternLayout&gt;
        &lt;pattern&gt;%d %p %c{1.}: %m%n&lt;/pattern&gt;
      &lt;/PatternLayout&gt;
    &lt;/File&gt;

    &lt;!-- Log appender for GUI Log Viewer. See below. --&gt;
    &lt;GuiLogEvent name=&quot;gui-log-event&quot;&gt;
      &lt;PatternLayout&gt;
        &lt;pattern&gt;%d %p %c{1.}: %m%n&lt;/pattern&gt;
      &lt;/PatternLayout&gt;
    &lt;/GuiLogEvent&gt;

  &lt;/Appenders&gt;

  &lt;Loggers&gt;

    &lt;!-- Root logger --&gt;
    &lt;Root level=&quot;info&quot;&gt;
      &lt;AppenderRef ref=&quot;jmeter-log&quot; /&gt;
      &lt;AppenderRef ref=&quot;gui-log-event&quot; /&gt;
    &lt;/Root&gt;

    &lt;!-- SNIP --&gt;

    &lt;!--
      # Apache HttpClient logging examples
    --&gt;
    &lt;!-- # Enable header wire + context logging - Best for Debugging --&gt;
    &lt;!--
    &lt;Logger name=&quot;org.apache.http&quot; level=&quot;debug&quot; /&gt;
    &lt;Logger name=&quot;org.apache.http.wire&quot; level=&quot;error&quot; /&gt;
    --&gt;

    &lt;!-- SNIP --&gt;

  &lt;/Loggers&gt;

&lt;/Configuration&gt;</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>因此，如果要将<tt class="code">org.apache.http</tt>类别的日志级别更改为调试级别，则可以在启动JMeter之前在<tt class="code">log4j2.xml</tt>文件中添加（或取消注释）以下logger元素。
    </p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>  &lt;Loggers&gt;
    &lt;!-- SNIP --&gt;
    &lt;Logger name=&quot;org.apache.http&quot; level=&quot;debug&quot; /&gt;
    &lt;!-- SNIP --&gt;
  &lt;/Loggers&gt;</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>有关如何配置<tt class="code">log4j2.xml</tt>文件的更多详细信息，请参见<a href="http://logging.apache.org/log4j/2.x/manual/configuration.html" target="_blank">Apache Log4j 2 Configuration</a>页面。
    </p><p>特定类别或root记录器的日志级别也可以直接在命令行上覆盖（而不是修改<tt class="code">log4j2.xml</tt> ）。为此，请使用以下选项：</p><dl>
        <dt>
            <tt class="code">-L [类别] = [优先级]</tt>
        </dt>
        <dd>覆盖日志记录设置，将特定类别设置为给定的优先级。从3.2开始，建议使用完整的类别名称（例如<tt class="code">org.apache.jmeter</tt>或<tt class="code">com.example.foo</tt> ），但是如果类别名称以<tt class="code">jmeter</tt>或<tt class="code">jorphan开头</tt> ，则使用<tt class="code">org.apache。</tt>将在内部输入类别名称之前，以构造完整的类别名称（即<tt class="code">org.apache.jmeter</tt>或<tt class="code">org.apache.jorphan</tt> ），以便向后兼容。
        </dd>
    </dl><p>
        <b>例子</b> ：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>jmeter -Ljmeter.engine=DEBUG</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>jmeter -Lorg.apache.jmeter.engine=DEBUG</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>jmeter -Lcom.example.foo=DEBUG</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>jmeter -LDEBUG</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>
        <b>日志记录的差异：旧实践与新实践</b> ：</p><p>由于JMeter从3.2开始就使用SLF4J作为日志记录API，并使用Apache Log4j 2作为日志记录框架，因此在3.2之前使用的每个日志级别都不能与SLF4J / Log4j2提供的新可用日志级别之一完全匹配。因此，如果您需要迁移任何现有的日志记录配置和日志记录代码，请牢记以下差异和建议的新做法。
    </p><table>
</table>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter通常不使用弹出对话框来显示错误，因为它们会干扰正在运行的测试。对于变量或函数拼写错误，也不会报告任何错误；相反，引用仅按原样使用。有关<a href="functions.html">更多信息，</a>请参见<a href="functions.html">函数和变量</a> 。
    </td></tr>
</tbody></table>
<p></p>
<p>如果JMeter在测试期间检测到错误，则会将一条消息写入日志文件。日志文件名在<tt class="code">log4j2.xml</tt>文件中定义（或使用<span class="code">-j</span>选项，请参见下文）。它的默认值为<tt class="code">jmeter.log</tt> ，并将在启动JMeter的目录中找到。
        </p><p>菜单<span class="menuchoice"><span class="guimenuitem">选项</span> → <span class="guimenuitem">日志查看器</span></span>在JMeter主窗口的底部窗格中显示日志文件。
        </p><p>在GUI模式下，日志文件中记录的错误/致命消息的数量显示在右上方。
        </p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img src="../images/screenshots/log_errors_counter.png"><br>
<font size="-1">错误/致命计数器</font></td></tr></tbody></table>
<p>命令行选项<tt class="code">-j jmeterlogfile</tt>允许在读取初始属性文件之后并且在处理任何其他属性之前进行处理。因此，它允许覆盖<tt class="code">jmeter.log</tt>的默认值。以测试计划名称作为参数的jmeter脚本（例如<tt class="code">jmeter-n.cmd</tt> ）已更新，以使用测试计划名称定义日志文件，例如，对于测试计划<tt class="code">Test27.jmx</tt> ，日志文件设置为<tt class="code">Test27。日志</tt> 。
        </p><p>在Windows上运行时，除非您将Windows设置为显示文件扩展名，否则该文件可能仅显示为<b>jmeter</b> 。[无论如何，您都应该这样做，以使其更容易检测出伪装成文本文件的病毒和其他鼻涕……]</p><p>除了记录错误外， <tt class="code">jmeter.log</tt>文件还记录有关测试运行的一些信息。例如：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
2017-03-01 12:19:20,314 INFO o.a.j.JMeter: Version 3.2.20170301
2017-03-01 12:19:45,314 INFO o.a.j.g.a.Load: Loading file: c:\mytestfiles\BSH.jmx 
2017-03-01 12:19:52,328 INFO o.a.j.e.StandardJMeterEngine: Running the test! 
2017-03-01 12:19:52,384 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group BSH. Ramp up = 1. 
2017-03-01 12:19:52,485 INFO o.a.j.e.StandardJMeterEngine: Continue on error 
2017-03-01 12:19:52,589 INFO o.a.j.t.JMeterThread: Thread BSH1-1 started 
2017-03-01 12:19:52,590 INFO o.a.j.t.JMeterThread: Thread BSH1-1 is done 
2017-03-01 12:19:52,691 INFO o.a.j.e.StandardJMeterEngine: Test has ended
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>日志文件有助于确定错误原因，因为JMeter不会中断测试以显示错误对话框。</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="options"><strong>1.4.8命令行选项的完整列表</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>将JMeter称为“ <tt class="code">jmeter-？</tt>”将显示所有命令行选项的列表。这些如下所示。</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
    --?
        print command line options and exit
    -h, --help
        print usage information and exit
    -v, --version
        print the version information and exit
    -p, --propfile &lt;argument&gt;
        the jmeter property file to use
    -q, --addprop &lt;argument&gt;
        additional JMeter property file(s)
    -t, --testfile &lt;argument&gt;
        the jmeter test(.jmx) file to run
    -l, --logfile &lt;argument&gt;
        the file to log samples to
    -i, --jmeterlogconf &lt;argument&gt;
        jmeter logging configuration file (log4j2.xml)
    -j, --jmeterlogfile &lt;argument&gt;
        jmeter run log file (jmeter.log)
    -n, --nongui
        run JMeter in nongui mode
    -s, --server
        run the JMeter server
    -H, --proxyHost &lt;argument&gt;
        Set a proxy server for JMeter to use
    -P, --proxyPort &lt;argument&gt;
        Set proxy server port for JMeter to use
    -N, --nonProxyHosts &lt;argument&gt;
        Set nonproxy host list (e.g. *.apache.org|localhost)
    -u, --username &lt;argument&gt;
        Set username for proxy server that JMeter is to use
    -a, --password &lt;argument&gt;
        Set password for proxy server that JMeter is to use
    -J, --jmeterproperty &lt;argument&gt;=&lt;value&gt;
        Define additional JMeter properties
    -G, --globalproperty &lt;argument&gt;=&lt;value&gt;
        Define Global properties (sent to servers)
        e.g. -Gport=123
         or -Gglobal.properties
    -D, --systemproperty &lt;argument&gt;=&lt;value&gt;
        Define additional system properties
    -S, --systemPropertyFile &lt;argument&gt;
        additional system property file(s)
    -f, --forceDeleteResultFile
        force delete existing results files and web report folder if present before starting the test
    -L, --loglevel &lt;argument&gt;=&lt;value&gt;
        [category=]level e.g. jorphan=INFO, jmeter.util=DEBUG or com.example.foo=WARN
    -r, --runremote
        Start remote servers (as defined in remote_hosts)
    -R, --remotestart &lt;argument&gt;
        Start these remote servers (overrides remote_hosts)
    -d, --homedir &lt;argument&gt;
        the jmeter home directory to use
    -X, --remoteexit
        Exit the remote servers at end of test (CLI mode)
    -g, --reportonly &lt;argument&gt;
        generate report dashboard only, from a test results file
    -e, --reportatendofloadtests
        generate report dashboard after load test
    -o, --reportoutputfolder &lt;argument&gt;
        output folder for report dashboard
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p>注意：如果JMeter日志文件名包含成对的单引号， <tt class="code">例如。jmeter_'yyyyMMddHHmmss..log</tt> ，则格式为SimpleDateFormat（适用于当前日期）。</p><p>如果将特殊名称<tt class="code">LAST</tt>用于<tt class="code">-t</tt> ， <tt class="code">-j</tt>或<tt class="code">-l</tt>标志，则JMeter会将其表示为以交互方式运行的最后一个测试计划。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="shutdown"><strong>1.4.9 CLI模式关闭</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>在2.5.1版之前，JMeter在CLI模式测试完成时调用<tt class="code">System.exit（）</tt> 。这给直接调用JMeter的应用程序带来了问题，因此JMeter不再为正常测试完成而调用<tt class="code">System.exit（）</tt> 。[某些致命错误可能仍会调用<tt class="code">System.exit（）</tt> ] JMeter将退出其启动的所有非守护程序线程，但仍有可能仍保留一些非守护程序线程；这些将阻止JVM退出。为了检测这种情况，JMeter在退出之前就启动了一个新的守护程序线程。该守护程序线程等待一会儿。如果它从等待中返回，则很显然JVM无法退出，线程将显示一条消息以说明原因。
</p><p>属性<tt class="code">jmeter.exit.check.pause</tt>可用于覆盖默认的2000ms（2秒）暂停。如果设置为<tt class="code">0</tt> ，那么JMeter不会启动守护线程。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="configuring_jmeter"><strong>1.5配置JMeter</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>如果要修改运行JMeter的属性，则需要修改<tt class="code">/ bin</tt>目录中的<tt class="code">user.properties</tt>或创建自己的<tt class="code">jmeter.properties</tt>副本并在命令行中指定它。
  </p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>注意：您可以在JMeter属性<tt class="code">user.properties</tt>定义的文件中定义其他JMeter属性，该文件的默认值为<tt class="code">user.properties</tt> 。如果在当前目录中找到该文件，或者在JMeter bin目录中找到该文件，则将自动加载该文件。同样， <tt class="code">system.properties</tt>用于更新系统属性。
  </td></tr>
</tbody></table>
<p></p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>ssl.provider</td>
<td>如果不想使用内置的Java实现，则可以为SSL实现指定类。
    </td>
<td>没有</td>
</tr>
<tr>
<td>xml.parser</td>
<td>您可以将实现指定为XML解析器。默认值为： <tt class="code">org.apache.xerces.parsers。SAXParser</tt></td>
<td>没有</td>
</tr>
<tr>
<td>remote_hosts</td>
<td>远程JMeter主机的逗号分隔列表（或<tt class="code">主机：端口（</tt>如果需要））。如果要在分布式环境中运行JMeter，请列出运行JMeter远程服务器的计算机。这将允许您从本机的GUI控制那些服务器</td>
<td>没有</td>
</tr>
<tr>
<td>not_in_menu</td>
<td>您不想在JMeter的菜单中看到的组件列表。随着JMeter添加了越来越多的组件，您可能希望自定义JMeter以仅显示您感兴趣的那些组件。您可以在此处列出其类名或类标签（在JMeter的UI中显示的字符串），并且它们将不再出现在菜单中。</td>
<td>没有</td>
</tr>
<tr>
<td>search_paths</td>
<td>JMeter将搜索JMeter插件类的路径列表（以<tt class="code">;</tt>分隔），例如其他采样器。路径项目可以是jar文件或目录。此类目录中的任何jar文件将自动包含在<tt class="code">search_paths中</tt> ，子目录中的jar文件将被忽略。给定值是在<tt class="code">lib / ext</tt>目录中找到的所有jar之外的值。
  </td>
<td>没有</td>
</tr>
<tr>
<td>user.classpath</td>
<td>JMeter将搜索实用程序和插件依赖项类的路径列表。使用平台路径分隔符分隔多个路径。路径项目可以是jar文件或目录。这样的目录中的任何jar文件将自动包含在<tt class="code">user.classpath中</tt> ，子目录中的jar文件将被忽略。给定值是在lib目录中找到的所有jar之外的值。所有条目都将添加到系统类加载器的类路径以及JMeter内部加载器的路径中。
  </td>
<td>没有</td>
</tr>
<tr>
<td>plugin_dependency_paths</td>
<td>JMeter将搜索实用程序和插件依赖项类的路径列表（以<tt class="code">;</tt>分隔）。路径项目可以是jar文件或目录。这样的目录中的任何jar文件将自动包含在<tt class="code">plugin_dependency_paths中</tt> ，子目录中的jar文件将被忽略。给定值是在<tt class="code">lib</tt>目录中找到或由<tt class="code">user.classpath</tt>属性给定的所有jar之外的值。所有条目将仅添加到JMeter内部加载器的路径。对于插件依赖性，应该优先使用<tt class="code">plugin_dependency_paths</tt>而不是<tt class="code">user.classpath</tt> 。
  </td>
<td>没有</td>
</tr>
<tr>
<td>user.properties</td>
<td>包含其他JMeter属性的文件名。它们被添加到初始属性文件之后，但在处理<tt class="code">-q</tt>和<tt class="code">-J</tt>选项之前。
  </td>
<td>没有</td>
</tr>
<tr>
<td>系统属性</td>
<td>包含其他系统属性的文件名。这些是在处理<tt class="code">-S</tt>和<tt class="code">-D</tt>选项之前添加的。
  </td>
<td>没有</td>
</tr>
</tbody></table>
<p>命令行选项和属性文件按以下顺序处理：</p><ol>
  <li><tt class="code">-p属性</tt></li>
  <li>然后加载<tt class="code">jmeter.properties</tt> （或<tt class="code">-p</tt>选项中的文件）</li>
  <li><tt class="code">-j日志文件</tt></li>
  <li>记录已初始化</li>
  <li><tt class="code">user.properties</tt>已加载</li>
  <li><tt class="code">system.properties</tt>已加载</li>
  <li>处理所有其他命令行选项</li>
  </ol>
  <p></p><p><b>另请参阅<tt class="code">jmeter.properties</tt> ， <tt class="code">user.properties</tt>和<tt class="code">system.properties</tt>文件中的<tt class="code">注释</tt> ，以获取有关可以更改的其他设置的更多信息。
</b></p></blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<br>
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="build-test-plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
</tr>
</tbody></table>
</td>
</tr>
<tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td>
<table width="100%">
<tbody><tr>
<td>
<font color="#525D76" size="-1"><em>版权所有©1999-2019，Apache软件基金会</em></font>
</td>
<td align="right">
<font color="#525D76" size="-1"><em>$ Id $</em></font>
</td>
</tr>
<tr><td colspan="2">
<div align="center"><font color="#525D76" size="-1">Apache，Apache JMeter，JMeter，Apache Feather和Apache JMeter徽标是Apache Software Foundation的商标。
</font>
</div>
</td></tr>
</tbody></table>
</td>
</tr>
</tbody></table>


<!-- end the processing -->














































</body></html>