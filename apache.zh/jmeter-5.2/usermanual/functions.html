<html ><head></head><body bgcolor="#ffffff"  text="#000000" link="#525D76">﻿
<link rel="stylesheet" type="text/css" href="../../docs/css/style.css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>Apache JMeter-用户手册：函数和变量</title>
<style>
  .code { font-weight: bold; }
</style>



<table border="0" cellspacing="0">
<tbody><tr>
<td align="left">
<a href="http://www.apache.org"><img title="Apache软件基金会" width="261" height="106" src="../../docs/images/asf-logo.png" border="0" style="margin:0px 30px 0px 0px"></a>
</td>
<td align="right">
<a href="http://jmeter.apache.org/"><img width="259" height="88" src="../../docs/images/jmeter.png" alt="Apache JMeter" title="Apache JMeter" border="0"></a>
</td>
</tr>
</tbody></table>
<table border="0" cellspacing="4">
<tbody><tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td align="left" valign="top">
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="regular_expressions.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="properties_reference.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
<br>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="functions"><strong>20函数和变量</strong></a></font>
</td></tr>
<tr><td>
<blockquote>
<p>JMeter函数是特殊的值，可以填充测试树中任何Sampler或其他元素的字段。函数调用如下所示：</p><p><tt class="code">$ {__ functionName（var1，var2，var3）}</tt></p><p>其中“ __functionName”与函数名称匹配。
<br>括号括住发送给函数的参数，例如<tt class="code">$ {__ time（YMD）}</tt>实际参数因函数而异。不需要参数的函数可以<tt class="code">省略</tt>括号，例如<tt class="code">$ {__ threadNum}</tt> 。
</p><p>如果函数参数包含逗号，请确保使用“ <tt class="code">\</tt> ”将其转义，否则JMeter会将其视为参数定界符。例如：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
${__time(EEE\, d MMM yyyy)}
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>如果逗号未转义-例如<tt class="code">$ {__ javaScript（Math.max（2,5））}</tt> -您将收到诸如以下的错误：<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
ERROR - jmeter.functions.JavaScript: Error processing Javascript: [Math.max(2]
    org.mozilla.javascript.EvaluatorException: missing ) after argument list (&lt;cmd&gt;#1)
 </pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>这是因为字符串“ <tt class="code">Math.max（2,5）</tt> ”被视为__javascript函数的两个参数：<br>

 <tt class="code">Math.max（2</tt>和<tt class="code">5）</tt><br>其他错误消息也是可能的。
<p></p><p>变量引用如下：</p><pre>
${VARIABLE}
</pre>
<p></p><p>
<b>如果引用了未定义的函数或变量，JMeter不会报告/记录错误-引用将保持不变。例如，如果未将<tt class="code">UNDEF</tt>定义为变量，则<tt class="code">$ {UNDEF}的</tt>值为<tt class="code">$ {UNDEF}</tt> 。
</b>变量，函数（和属性）均区分大小写。
<b>JMeter在使用变量之前会从变量名称中<tt class="code">删除</tt>空格，因此，例如<tt class="code">$ {__ Random（1,63，LOTTERY）}</tt>将使用变量' <tt class="code">LOTTERY</tt> '而不是' <tt class="code">LOTTERY</tt> '。
</b>
</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>属性与变量不同。变量是线程本地的；属性是所有线程共有的，需要使用<tt class="code">__P</tt>或<tt class="code">__property</tt>函数进行引用。
</td></tr>
</tbody></table>
<p></p>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>在Windows路径的变量之前使用<tt class="code">\</tt>之前，例如<tt class="code">C：\ test \ $ {test}</tt> ，请确保转义<tt class="code">\，</tt>否则JMeter不会解释该变量，例如： <tt class="code">C：\\ test \\ $ {test}</tt> 。
<br>或者，仅使用<tt class="code">/</tt>代替路径分隔符-例如<tt class="code">C：/ test / $ {test}</tt> -Windows JVM将根据需要转换分隔符。
</td></tr>
</tbody></table>
<p></p>
<p>函数列表，大致分为几种类型。</p><table>
<tbody><tr>
<td bgcolor="#039acc" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">功能类型</font>
</td>
<td bgcolor="#039acc" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">名称</font>
</td>
<td bgcolor="#039acc" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">评论</font>
</td>
<td bgcolor="#039acc" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">以来</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">信息</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__threadNum">threadNum</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">获取线程号</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1。X</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">信息</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__threadGroupName">threadGroupName</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">获取线程组名称</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">4.1</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">信息</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__samplerName">samplerName</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">获取采样器名称（标签）</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.5</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">信息</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__machineIP">机器IP</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">获取本地机器的IP地址</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.6</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">信息</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__machineName">机器名</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">获取本地机器名称</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1。X</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">信息</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__time">时间</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">以各种格式返回当前时间</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.2</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">信息</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__timeShift">时移</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">以各种格式返回日期，并添加指定的秒/分钟/小时/天的数量</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">3.3</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">信息</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__log">日志</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">记录（或显示）消息（并返回值）</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.2</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">信息</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__logn">登录</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">记录（或显示）消息（空返回值）</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.2</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">输入项</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__StringFromFile">StringFromFile</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">从文件中读取一行</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1.9</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">输入项</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__FileToString">FileToString</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">读取整个文件</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.4</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">输入项</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__CSVRead">CSV读取</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">从CSV分隔文件中读取</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1.9</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">输入项</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__XPath">XPath</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">使用XPath表达式从文件中读取</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.0.3</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">输入项</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__StringToFile">StringToFile</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">写一个字符串到文件</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">5.2</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算方式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__counter">计数器</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">产生一个递增的数字</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1。X</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">格式化</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__dateTimeConvert">dateTimeConvert</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">将日期或时间从源转换为目标格式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">4.0</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算方式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__digest">消化</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">生成摘要（SHA-1，SHA-256，MD5 ...）</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">4.0</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算方式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__intSum">求和</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">添加整数</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1.8.1</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算方式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__longSum">长求和</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">加长号</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.3.2</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算方式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__Random">随机</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">产生一个随机数</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1.9</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算方式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__RandomDate">随机日期</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">生成特定日期范围内的随机日期</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">3.3</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算方式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__RandomFromMultipleVars">RandomFromMultipleVars</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">从由<tt class="code">|</tt>分隔的一组变量的值中提取元素</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">3.1</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算方式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__RandomString">随机字符串</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">产生随机字串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.6</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算方式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__UUID">UUID</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">生成随机类型4 UUID</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.9</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">脚本编写</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__groovy">时髦</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">运行一个Apache Groovy脚本</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">3.1</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">脚本编写</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__BeanShell">豆壳</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">运行一个BeanShell脚本</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1。X</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">脚本编写</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__javaScript">Java脚本</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">处理JavaScript（Nashorn）</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1.9</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">脚本编写</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__jexl2">jexl2</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">评估Commons Jexl2表达式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">jexl2（2.1.1）</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">脚本编写</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__jexl3">jexl3</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">评估Commons Jexl3表达式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">jexl3（3.0）</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">性质</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__isPropDefined">isPropDefined</a> </font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">测试属性是否存在</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">4.0</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">性质</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__property">属性</a> </font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">读财产</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.0</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">性质</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__P">P</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">读取属性（速记方法）</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.0</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">性质</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__setProperty">setProperty</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">设置一个JMeter属性</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.1</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">变数</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__split">分裂</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">将字符串拆分为变量</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.0.2</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">变数</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__eval">评估</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算一个变量表达式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.3.1</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">变数</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__evalVar">evalVar</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">计算存储在变量中的表达式</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.3.1</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">性质</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__isVarDefined">isVarDefined</a> </font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">测试变量是否存在</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">4.0</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">变数</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__V">V</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">评估一个变量名</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.3RC3</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__char">烧焦</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">从数字列表生成Unicode字符值</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.3.3</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__changeCase">changeCase</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">按照不同的模式更改大小写</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">4.0</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__escapeHtml">转义</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">使用HTML编码对字符串进行编码</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.3.3</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__escapeOroRegexpChars">escapeOroRegexpChars</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">引用ORO正则表达式使用的元字符</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.9</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__escapeXml">escapeXml</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">使用XMl编码对字符串进行编码</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">3.2</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__regexFunction">regexFunction</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">使用正则表达式解析先前的响应</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">1。X</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__unescape">逃生</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">包含Java转义符的处理字符串（例如\ n和\ t）</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.3.3</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__unescapeHtml">UnscapeHtml</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">解码HTML编码的字符串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.3.3</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__urldecode">网址解码</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">解码应用程序/ x-www-form-urlencoded字符串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.10</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__urlencode">urlencode</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">将字符串编码为application / x-www-form-urlencoded字符串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.10</font>
</td>
</tr>
<tr>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">串</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">
 <a href="#__TestPlanName">测试计划名称</a></font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">返回当前测试计划的名称</font>
</td>
<td bgcolor="#a0ddf0" valign="top" align="left">
<font color="#000000" size="-1" face="arial,helvetica,sanserif">2.6</font>
</td>
</tr>
</tbody></table>
<p></p><table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="what_can_do"><strong>20.1函数可以做什么</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>函数有两种：用户定义的静态值（或变量）和内置函数。<br>用户定义的静态值允许用户定义在编译和提交要运行的测试树时用其静态值替换的变量。此替换在测试运行开始时发生一次。例如，这可以用于替换所有HTTP请求的DOMAIN字段-只需更改测试以针对具有相同测试的其他服务器即可，这很简单。</p><p>注意，变量当前不能嵌套；即<tt class="code">$ {Var $ {N}}</tt>不起作用。<tt class="code">__V</tt> （变量）函数可用于执行此操作： <tt class="code">$ {__ V（Var $ {N}）}</tt> 。您还可以使用<tt class="code">$ {__ BeanShell（vars.get（“ Var $ {N}”））}</tt> 。
</p><p>没有功能也可以进行这种替换，但是这种替换不太方便且不太直观。它要求用户创建默认配置元素，以填充Samplers的空白值。变量只允许替换任何给定值的一部分，而不仅仅是填充空白值。</p><p>使用内置函数，用户可以在运行时根据以前的响应数据（函数所处的线程，时间和许多其他来源）计算新值。在测试过程中，将针对每个请求重新生成这些值。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>函数在线程之间共享。测试计划中每次出现的函数调用均由单独的函数实例处理。</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="where"><strong>20.2在哪里可以使用函数和变量？</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>函数和变量可以写入任何测试组件的任何字段中（除了TestPlan，请参见下文）。有些字段不允许随机字符串，因为它们需要数字，因此将不接受函数。但是，大多数字段将允许功能。
</p><p>测试计划中使用的功能有一些限制。在处理函数时，JMeter线程变量将尚未完全设置，因此将不会设置作为参数传递的变量名称，并且变量引用将不起作用，因此<tt class="code">split（）</tt>和<tt class="code">regex（）</tt>以及变量评估函数将不会运行。工作。<tt class="code">threadNum（）</tt>函数将不起作用（并且在测试计划级别没有意义）。以下功能应在测试计划中正常运行：</p><ul>
<li>求和</li>
<li>长求和</li>
<li>机器名</li>
<li>豆壳</li>
<li>时髦</li>
<li>Java脚本</li>
<li>jexl2 / jexl3</li>
<li>随机</li>
<li>时间</li>
<li>属性功能</li>
<li>日志功能</li>
</ul>
<p></p><p>配置元素由单独的线程处理。因此，诸如<tt class="code">__threadNum之类的</tt>函数无法在诸如用户定义的变量之类的元素中正常工作。还要注意，在UDV元素中定义的变量只有在处理完该元素后才可用。
</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>在SQL代码（例如）中使用变量/函数引用时，请记住为文本字符串包括任何必需的引号，即使用<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
SELECT item from table where name='${VAR}'
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>

<b>不</b>
<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
SELECT item from table where name=${VAR}
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>（除非<tt class="code">VAR</tt>本身包含引号）</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="how"><strong>20.3如何引用变量和函数</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>在测试元素中引用变量是通过将变量名称括在' <tt class="code">$ {</tt> '和' <tt class="code">}</tt> '中来完成的。</p><p>函数的引用方式相同，但按照惯例，函数名称以“ <tt class="code">__</tt> ”开头，以避免与用户值名称<sup>*</sup>冲突。一些函数使用参数来配置它们，这些参数用括号括起来，以逗号分隔。如果函数不带参数，则可以省略括号。</p><p><b>本身包含逗号的参数值应在必要时转义。如果您需要在参数值中包含逗号，请像这样对它进行转义：' <tt class="code">\，</tt> '。</b>例如，这适用于脚本功能-Javascript，Beanshell，Jexl，Groovy-在此处必须转义脚本方法调用中可能需要的任何逗号-例如</p><pre>
${__BeanShell(vars.put(&quot;name&quot;\,&quot;value&quot;))}
</pre><p>另外，您可以将脚本定义为变量，例如在“测试计划”上：</p><pre>SCRIPT          vars.put(&quot;name&quot;,&quot;value&quot;)</pre>然后可以如下引用该脚本：<pre>${__BeanShell(${SCRIPT})}</pre>无需在<tt class="code">SCRIPT</tt>变量中转义逗号，因为在将变量替换为其值之前已对函数调用进行了解析。这可以与JSR223或BeanShell采样器一起很好地工作，因为它们可以用于测试Javascript，Jexl和BeanShell脚本。
<p></p><p>函数可以引用变量和其他函数，例如<tt class="code">$ {__ XPath（$ {__ P（xpath.file），$ {XPATH}）}}</tt>会将属性“ <tt class="code">xpath.file</tt> ”用作文件名，并将变量<tt class="code">XPATH</tt>的内容用作要搜索的表达式。
</p><p>JMeter提供了一个工具来帮助您构造各种内置函数的函数调用，然后可以将其复制粘贴。它不会自动为您转义值，因为函数可以是其他函数的参数，并且您只应转义打算用作文字的值。
</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>如果字符串包含反斜杠（' <tt class="code">\</tt> '）并且还包含函数或变量引用，则反斜杠如果出现在' <tt class="code">$</tt> '或' <tt class="code">，</tt> ' <tt class="code">，</tt> '或' <tt class="code">\</tt> '之前，则将被删除。这种行为对于允许包含逗号或字符串<tt class="code">$ {的</tt>嵌套函数是必需的。如果字符串不包含函数或变量引用，则不会删除' <tt class="code">$</tt> '或' <tt class="code">，</tt> '或' <tt class="code">\</tt> '之前的反斜杠。
</td></tr>
</tbody></table>
<p></p>
<p>
<b>可以</b>使用<a href="#__logn"><tt class="code">__logn（）</tt></a>函数<b>报告变量或函数的值</b> 。定义变量后，可以在测试计划中的任何地方使用<tt class="code">__logn（）</tt>函数引用。另外，可以使用Java Request采样器创建一个包含变量引用的样本。输出将显示在适当的侦听器中。注意，有一个<a href="../usermanual/component_reference.html#Debug_Sampler">调试采样器</a> ，可用于在树视图侦听器中显示变量等的值。
</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td><sup>*</sup>如果您定义的用户定义静态变量与内置函数同名，则您的静态变量将覆盖内置函数。</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="function_helper"><strong>20.4功能帮助程序对话框</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>可从JMeter的“工具”菜单中使用“功能帮助器”对话框。</p><table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><img width="831" height="305" src="../../docs/images/screenshots/function_helper_dialog.png"><br>
<font size="-1">功能助手对话框</font></td></tr></tbody></table>
<p>使用功能助手，您可以从下拉菜单中选择一个功能，并为其参数指定值。表的左列提供了该参数的简要说明，右列是您在其中写入该参数的值的地方。不同的函数采用不同的参数。</p><p>完成此操作后，单击“生成”按钮，将生成适当的字符串供您复制粘贴到您的测试计划中的任意位置。</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="functions"><strong>20.5功能</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__regexFunction">20.5.1 __regexFunction</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>Regex函数用于使用任何正则表达式（由用户提供）来解析先前的响应（或变量的值）。该函数返回已填充变量值的模板字符串。</p>
<p><tt class="code">__regexFunction</tt>也可以存储值以备将来使用。在第六个参数中，您可以指定参考名称。执行此函数后，以后可以使用用户定义值的语法检索相同的值。例如，如果输入“ <tt class="code">refName</tt> ”作为第六个参数，则可以使用：</p><ul>
<li><tt class="code">$ {refName}</tt>引用此函数解析的第二个参数（“替换字符串的模板”）的计算结果</li>
<li><tt class="code">$ {refName_g0}</tt>引用此函数解析的整个匹配项。</li>
<li><tt class="code">$ {refName_g1}</tt>引用此函数解析的第一个组。</li>
<li><tt class="code">$ {refName_g＃}</tt>引用此函数解析的<sup>第</sup> n <sup>个</sup>组。</li>
<li><tt class="code">$ {refName_matchNr}</tt>表示此函数找到的组数。</li>
</ul>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>如果使用分布式测试，请确保切换模式（请参阅<tt class="code">jmeter.properties</tt> ），以免剥离它，请参见<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=56376">错误56376。</a>
</td></tr>
</tbody></table>
<p></p>

<p></p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>第一个论点</td>
<td>第一个参数是要应用于响应数据的正则表达式。它将抓住所有比赛。您希望在模板字符串中使用此表达式的任何部分，请务必将其括在括号中。例： <tt class="code"><a href="(.*)"></a></tt> 。这将获取链接的值并将其存储为第一组（只有1个组）。另一个例子：<tt class="code"><input type="hidden" name="(.*)" value="(.*)"></tt> 。这会将名称作为第一组，将值作为第二组。这些值可以在模板字符串中使用</td>
<td>是</td>
</tr>
<tr>
<td>第二个论点</td>
<td>这是将在运行时替换功能的模板字符串。要引用正则表达式中捕获的组，请使用以下语法： <tt class="code">$ [group_number] $</tt> 。即： <tt class="code">$ 1 $</tt>或<tt class="code">$ 2 $</tt> 。您的模板可以是任何字符串。</td>
<td>是</td>
</tr>
<tr>
<td>第三论点</td>
<td>第三个参数告诉JMeter使用哪个匹配。您的正则表达式可能会找到许多匹配项。您有四个选择：<ul><li>整数-告诉JMeter使用该匹配项。找到第一个匹配项为“ <tt class="code">1</tt> ”，第二个匹配项为“ <tt class="code">2</tt> ”，依此类推</li>
                <li><tt class="code">RAND-</tt>告诉JMeter随机选择一场比赛。</li>
                <li><tt class="code">ALL-</tt>告诉JMeter使用所有匹配项，并为每个匹配项创建一个模板字符串，然后将它们全部附加在一起。此选项很少使用。</li>
                <li>0到1之间的浮点数-告诉JMeter使用以下公式查找第X <sup>个</sup>匹配项：（number_of_matches_found * float_number）舍入到最接近的整数。</li>
                </ul></td>
<td>否，默认值= 1</td>
</tr>
<tr>
<td>第四论点</td>
<td>如果为上述参数值选择了“ <tt class="code">ALL</tt> ”，则将在模板值的每个附加副本之间插入该参数。</td>
<td>没有</td>
</tr>
<tr>
<td>第五论点</td>
<td>如果找不到匹配项，则返回默认值</td>
<td>没有</td>
</tr>
<tr>
<td>第六论点</td>
<td>用于重用此函数解析的值的参考名称。<br>存储的值为<tt class="code">$ {refName}</tt> （替换模板字符串）和<tt class="code">$ {refName_g＃}</tt> ，其中“ <tt class="code">＃</tt> ”是正则表达式中的组号（“ <tt class="code">0</tt> ”可用于表示整个匹配项）。</td>
<td>没有</td>
</tr>
<tr>
<td>第七论点</td>
<td>输入变量名称。如果指定，则将变量的值用作输入，而不使用先前的样本结果。
        </td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__counter">20.5.2 __计数器</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>每次调用计数器都会生成一个新数字，从1开始，每次递增+1。可以将计数器配置为使每个模拟用户的值保持独立，或者对所有用户使用相同的计数器。如果每个用户的值分别增加，那就像在测试计划中计算迭代次数一样。全局计数器就像计算该请求运行了多少次。
</p>
<p>计数器使用整数变量保存计数，因此最大值为2,147,483,647。</p>
<p>计数器功能实例是完全独立的。全局计数器“ <tt class="code">FALSE</tt> ”由每个计数器实例分别维护。
</p>
<p>
<b>同一迭代中的多个<tt class="code">__counter</tt>函数调用不会进一步增加该值。
</b>
<br>如果您希望每个样本的计数递增，请在预处理器中使用该函数，例如<a href="../usermanual/component_reference.html#User_Parameters">User Parameters</a> 。
</p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>第一个论点</td>
<td>如果希望每个模拟用户的计数器保持独立并与其他用户分开，则为<tt class="code">TRUE</tt> 。全局计数器为<tt class="code">FALSE</tt> 。</td>
<td>是</td>
</tr>
<tr>
<td>第二个论点</td>
<td>用于重用此函数创建的值的参考名称。<br>存储的值采用<tt class="code">$ {refName}</tt>的形式。这使您可以保留一个计数器，并在多个位置引用其值。</td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__threadNum">20.5.3a __threadNum</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>线程号函数仅返回当前正在执行的线程号。这些数字仅就其线程组而言是局部唯一的，这意味着从该函数的角度来看，一个线程组中的线程＃1与另一线程组中的线程＃1是无法区分的。</p>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>该函数返回一个到最大运行线程数之间的数字。请注意，如果您将JSR223代码与<a href="../api/org/apache/jmeter/threads/JMeterContext.html">JMeterContext</a>对象（ <tt class="code">ctx</tt>变量）一起使用，则以下代码将返回一个介于零与之间的数字（正在运行的线程的最大数目减去一）<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>ctx.getThreadNum()</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>

</td></tr>
</tbody></table>
<p></p>


<p>此函数没有参数。</p>
<p>用法示例：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__threadNum}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回1到包含线程组中配置的正在运行线程的最大数目之间的数字<p></p>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>此功能不适用于任何配置元素（例如，用户定义的变量），因为它们是从单独的线程运行的。在测试计划中使用它也不有意义。
</td></tr>
</tbody></table>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__threadGroupName">20.5.3b __threadGroupName</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>线程组名称函数仅返回正在执行的线程组的名称。</p>

<p>此函数没有参数。</p>
<p>用法示例：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__threadGroupName}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>

<p></p>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>此功能不适用于任何配置元素（例如，用户定义的变量），因为它们是从单独的线程运行的。在测试计划中使用它也不有意义。
</td></tr>
</tbody></table>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__intSum">20.5.4a __intSum</a>
</h3>
</font>
</td></tr>
<tr><td>

<p>intSum函数可用于计算两个或多个整数值的总和。
</p>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>参考名称是可选的，但不能为有效整数。
</td></tr>
</tbody></table>
<p></p>

<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>第一个论点</td>
<td>第一个int值。</td>
<td>是</td>
</tr>
<tr>
<td>第二个论点</td>
<td>第二个int值。</td>
<td>是</td>
</tr>
<tr>
<td>第n个论点</td>
<td>第n <sup>个</sup> int值。</td>
<td>没有</td>
</tr>
<tr>
<td>最后一个论点</td>
<td>用于重用此函数计算的值的参考名称。如果指定，引用名称必须至少包含一个非数字字符，否则它将被视为要添加的另一个int值。
        </td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__intSum(2,5,MYVAR)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回7（2 + 5）并将结果存储在MYVAR变量中。因此<tt class="code">$ {MYVAR}</tt>等于7。<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__intSum(2,5,7)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回14（2 + 5 + 7）并将结果存储在MYVAR变量中。<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__intSum(1,2,5,${MYVAR})}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>如果MYVAR值等于8，则将返回16，1 + 2 + 5 + $ {MYVAR}）<br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__longSum">20.5.4b __longSum</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>longSum函数可用于计算两个或多个长值的总和，只要您知道自己的值将不在-2147483648到2147483647之间，就可以使用它代替__intSum。
</p><p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>第一个论点</td>
<td>第一个long值。</td>
<td>是</td>
</tr>
<tr>
<td>第二个论点</td>
<td>第二个long值。</td>
<td>是</td>
</tr>
<tr>
<td>第n个论点</td>
<td>第n <sup>个</sup> long值。</td>
<td>没有</td>
</tr>
<tr>
<td>最后一个论点</td>
<td>用于重用此函数计算的值的参考名称。如果指定，则引用名称必须至少包含一个非数字字符，否则它将被视为要添加的另一个长值。
        </td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__longSum(2,5,MYVAR)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回7（2 + 5）并将结果存储在MYVAR变量中。因此<tt class="code">$ {MYVAR}</tt>等于7。<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__longSum(2,5,7)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回14（2 + 5 + 7）并将结果存储在MYVAR变量中。<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__longSum(1,2,5,${MYVAR})}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>如果MYVAR值等于8，则将返回16，1 + 2 + 5 + $ {MYVAR}）<br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__StringFromFile">20.5.5 __StringFromFile</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>StringFromFile函数可用于从文本文件读取字符串。这对于运行需要大量可变数据的测试很有用。例如，在测试银行应用程序时，可能需要100或1000个不同的帐号。
    </p>
    <p>另请参阅<a href="component_reference.html#CSV_Data_Set_Config">CSV数据集配置测试元素</a> ，它可能更易于使用。但是，当前不支持多个输入文件。
    </p>

    <p>每次调用它都会从文件中读取下一行。所有线程共享相同的实例，因此不同的线程将获得不同的行。到达文件末尾时，除非已达到最大循环计数，否则它将从头开始重新读取。如果在测试脚本中有对该函数的多个引用，则即使文件名相同，每个引用也会独立打开文件。[如果要在其他地方再次使用该值，请为每个函数调用使用不同的变量名。]
    </p>
    <p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>函数实例在线程之间共享，并且碰巧需要下一行输入的任何线程都会（重新）打开文件，因此将<tt class="code">threadNumber</tt>用作文件名的一部分将导致不可预测的行为。
    </td></tr>
</tbody></table>
<p></p>

    <p>如果打开或读取文件时发生错误，则该函数返回字符串“ <tt class="code">** ERR **</tt> ”</p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>文档名称</td>
<td>文件名的路径。（该路径可以相对于JMeter启动目录。）如果使用可选的序列号，则该路径名称应适合传递给DecimalFormat。请参阅下面的示例。
        </td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>引用名称<tt class="code">-refName-</tt>用于重用此函数创建的值。存储的值采用<tt class="code">$ {refName}</tt>的形式。默认为“ <tt class="code">StringFromFile_</tt> ”。
        </td>
<td>没有</td>
</tr>
<tr>
<td>起始序号</td>
<td>初始序列号（如果省略，则将结束序列号视为循环计数）</td>
<td>没有</td>
</tr>
<tr>
<td>结束序列号</td>
<td>最终序列号（如果省略，则序列号可以无限制地增加）</td>
<td>没有</td>
</tr>
</tbody></table>
<p>打开或重新打开文件时解析文件名参数。</p><p>每次执行该功能时，都会解析引用名称参数（如果提供）。</p><p><b>使用序列号：</b></p><p>当使用可选序号时，路径名用作<tt class="code">java.text的格式字符串<tt class="code">。DecimalFormat</tt> 。当前序列号作为唯一参数传递。如果未指定可选的起始号，则按原样使用路径名。有用的格式化顺序为：</tt></p><dl><tt class="code">
<dt><tt class="code">＃</tt></dt><dd>插入数字，没有前导零或空格</dd>
<dt><tt class="code">000</tt></dt><dd>如有必要，将包装好的数字插入前三位的三位数</dd>
</tt></dl><tt class="code"><a name="string-from-file-format-examples"></a>
<p><b>格式字符串的用法</b></p>以下是一些格式字符串以及它们将生成的相应序列。
<dl>
  <dt><tt class="code">pin＃'。'dat</tt></dt><dd>将生成不带前导零的数字，并将点按字面意义对待<br>

    <tt class="code">pin1.dat</tt> ，...， <tt class="code">pin9.dat</tt> ， <tt class="code">pin10.dat</tt> ，...， <tt class="code">pin9999.dat</tt></dd>
  <dt><tt class="code">pin000'。'dat</tt></dt><dd>将在保持点的同时生成前导零。当数字开始有更多数字时，则此格式建议的那三个数字，该序列将使用更多数字，如在<br>

    <tt class="code">pin001.dat</tt> ，... <tt class="code">pin099.dat</tt> ，...， <tt class="code">pin999.dat</tt> ，...， <tt class="code">pin9999.dat</tt></dd>
  <dt><tt class="code">pin'。'dat＃</tt></dt><dd>在保留点并生成的同时将附加数字而不加前导零<br>

    <tt class="code">pin.dat1</tt> ，...， <tt class="code">pin.dat9</tt> ，...， <tt class="code">pin.dat999</tt></dd>
</dl>
<p>如果需要的位数多于格式化字符的位数，则该数字将根据需要扩展。<br>

    <b>为防止格式字符被解释，请将其用单引号引起来。请注意，“ <tt class="code">。</tt> ”是格式字符，必须用单引号引起来</b> （尽管<tt class="code">＃。</tt>和<tt class="code">000.</tt>在小数点也为“ <tt class="code">。</tt> ”的语言环境中按预期工作）<br>在其他语言环境（例如<tt class="code">fr</tt> ）中，小数点是“ <tt class="code">，</tt> ”-表示“ <tt class="code">＃。</tt> ”变为“ <tt class="code">nnn，</tt> ”。<br>有关完整的详细信息，请参见<tt class="code">DecimalFormat</tt>的文档。<br>如果路径名不包含任何特殊格式字符，则将在名称后附加当前序列号，否则将根据格式说明插入该序列号。<br>如果省略了起始序列号，并指定了结束序列号，则该序列号将被解释为循环计数，并且该文件将最多使用“ <tt class="code">结束</tt> ”时间。在这种情况下，文件名未格式化。
    <br>

    <tt class="code">$ {__ StringFromFile（PIN＃'。'DAT ,, 1,2）}</tt> -读取<tt class="code">PIN1。DAT</tt> ， <tt class="code">PIN2。DAT</tt><br>

    <tt class="code">$ {__ StringFromFile（PIN.DAT ,,, 2）}</tt> -读取<tt class="code">PIN.DAT</tt>两次<br>需要注意的是“”在<tt class="code">PIN.DAT</tt>以上的<u>不</u>应该被引用。在这种情况下，将省略起始编号，因此文件名将按原样使用。
    </p></tt></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__machineName">20.5.6a __machineName</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>machineName函数返回本地主机名。这使用Java方法<tt class="code">InetAddress.getLocalHost（）</tt>并将其传递给<tt class="code">getHostName（）</tt></p><p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__machineName()}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回机器的主机名<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__machineName}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回机器的主机名<br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__machineIP">20.5.6b __机器IP</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>machineIP函数返回本地IP地址。这使用Java方法<tt class="code">InetAddress.getLocalHost（）</tt>并将其传递给<tt class="code">getHostAddress（）</tt></p><p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__machineIP()}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回机器的IP地址<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__machineIP}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回机器的IP地址<br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__javaScript">20.5.7 __javaScript</a>
</h3>
</font>
</td></tr>
<tr><td>

<p>javaScript函数执行一段JavaScript（不是Java！）代码并返回其值</p>
<p>JMeter Javascript函数调用一个独立的JavaScript解释器。Javascript被用作脚本语言，因此您可以进行计算等。</p>
<p>
</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>对于JMeter中的性能而言，javaScript不是最佳的脚本语言。如果您的计划需要大量线程，则建议使用<tt class="code">__jexl3</tt>或<tt class="code">__groovy</tt>函数。
</td></tr>
</tbody></table>
<p></p>对于Nashorn引擎，请参阅<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/nashorn/">Java平台，标准版Nashorn用户指南</a> 。<br>对于Rhino引擎，请参阅<a href="http://www.mozilla.org/rhino/overview.html">Mozilla Rhino概述</a>
<p></p>
<p>以下变量可用于脚本：</p>
<ul>
<li><tt class="code">log-</tt>函数的<a href="https://www.slf4j.org/api/org/slf4j/Logger.html">Logger</a></li>
<li><tt class="code">ctx</tt> - <a href="../api/org/apache/jmeter/threads/JMeterContext.html">JMeterContext</a>对象</li>
<li><tt class="code">vars</tt> - <a href="../api/org/apache/jmeter/threads/JMeterVariables.html">JMeterVariables</a>对象</li>
<li><tt class="code">threadName-</tt>包含当前线程名称的字符串</li>
<li><tt class="code">sampler-</tt>当前的<a href="../api/org/apache/jmeter/samplers/Sampler.html">Sampler</a>对象（如果有）</li>
<li><tt class="code">sampleResult-</tt>先前的<a href="../api/org/apache/jmeter/samplers/SampleResult.html">SampleResult</a>对象（如果有）</li>
<li><tt class="code">道具</tt> -JMeterProperties（类<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html"><tt class="code">java.util。属性</tt></a> ）对象</li>
</ul>
<p>Rhinoscript允许通过其Packages对象访问静态方法。请参阅<a href="https://wiki.openjdk.java.net/display/Nashorn/Rhino+Migration+Guide">Scripting Java</a>文档。例如，可以这样访问JMeterContextService静态方法： <tt class="code">Java.type（“ org.apache.jmeter.threads。JMeterContextService“）。getTotalThreads（）</tt>
</p>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter不是浏览器，也不解释下载页面中的JavaScript。
</td></tr>
</tbody></table>
<p></p>

<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>表达</td>
<td>要执行的JavaScript表达式。例如：<ul>
                <li><tt class="code">new Date（）</tt> -返回当前日期和时间</li>
                <li><tt class="code">Math.floor（Math.random（）*（$ {maxRandom} +1））</tt> -介于<tt class="code">0</tt>和变量<tt class="code">maxRandom</tt>之间的随机数</li>
                <li><tt class="code">$ {minRandom} + Math.floor（Math.random（）*（$ {maxRandom}-$ {minRandom} +1））</tt> -变量<tt class="code">minRandom</tt>和<tt class="code">maxRandom</tt>之间的随机数</li>
                <li><tt class="code">“ $ {VAR}” ==“ abcd”</tt></li>
            </ul>
            </td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>切记为文本字符串和JMeter变量包括任何必要的引号。另外，如果表达式中有逗号，请确保将其转义。例如：<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
${__javaScript('${sp}'.slice(7\,99999))}
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div><tt class="code">7</tt>之后的逗号转义。</td></tr>
</tbody></table>
<p></p>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__javaScript(new Date())}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将于<tt class="code">2016年1月9日星期六格林尼治标准时间+0100（CET）返回</tt><br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__javaScript(new Date(),MYDATE)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回<tt class="code">2016年1月9日星期六格林尼治标准时间+0100（CET）</tt>并将其存储在变量<tt class="code">MYDATE下</tt><br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__javaScript(Math.floor(Math.random()*(${maxRandom}+1)),MYRESULT)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将使用maxRandom变量，返回0到maxRandom之间的随机值，并将其存储在MYRESULT中<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__javaScript(${minRandom}+Math.floor(Math.random()*(${maxRandom}-${minRandom}+1)),MYRESULT)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将使用<tt class="code">maxRandom</tt>和<tt class="code">minRandom</tt>变量，返回<tt class="code">maxRandom</tt>和<tt class="code">minRandom</tt>之间的随机值并将其存储在变量<tt class="code">MYRESULT下</tt>
<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__javaScript(&quot;${VAR}&quot;==&quot;abcd&quot;,MYRESULT)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将<tt class="code">VAR</tt>变量的值与<tt class="code">abcd</tt>进行比较，返回<tt class="code">true</tt>或<tt class="code">false</tt>并将结果存储在MYRESULT中<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__Random">20.5.8 __随机</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>随机函数返回位于给定最小值和最大值之间的随机数。</p><p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>最低值</td>
<td>一个号码</td>
<td>是</td>
</tr>
<tr>
<td>最大值</td>
<td>更大的数字</td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__Random(0,10)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回0到10之间的随机数<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__Random(0,10, MYVAR)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回0到10之间的随机数，并将其存储在<tt class="code">MYVAR中</tt> 。 <tt class="code">$ {MYVAR}</tt>将包含随机数<br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__RandomDate">20.5.8 __RandomDate</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>RandomDate函数返回位于给定开始日期和结束日期值之间的随机日期。</p><p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>时间格式</td>
<td>DateTimeFormatter的格式字符串（默认<tt class="code">yyyy-MM-dd</tt> ）</td>
<td>没有</td>
</tr>
<tr>
<td>开始日期</td>
<td>开始日期，默认为<em>现在</em></td>
<td>没有</td>
</tr>
<tr>
<td>结束日期</td>
<td>结束日期</td>
<td>是</td>
</tr>
<tr>
<td>用于格式的语言环境</td>
<td>语言环境的字符串格式。语言代码必须为小写。国家/地区代码必须为大写。分隔符必须是下划线，例如<tt class="code">en_EN</tt> 。参见<a href="http://www.oracle.com/technetwork/java/javase/javase7locales-334809.html">http://www.oracle.com/technetwork/java/javase/javase7locales-334809.html</a> 。如果省略，默认情况下该函数使用Apache JMeter语言环境1。
        </td>
<td>没有</td>
</tr>
<tr>
<td>变量名</td>
<td>要设置的变量的名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__RandomDate(,,2050-07-08,,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>从<em>现在</em>到<tt class="code">2050-07-08</tt>之间将返回一个随机日期。例如<tt class="code">2039-06-21</tt><br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__RandomDate(dd MM yyyy,,08 07 2050,,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将以自定义格式返回随机日期，例如<tt class="code">04 03 2034</tt><br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__RandomString">20.5.8 __RandomString</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>RandomString函数使用要使用的char字符返回长度为字符串的随机字符串。</p><p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>长度</td>
<td>生成的字符串的数字长度</td>
<td>是</td>
</tr>
<tr>
<td>使用字符</td>
<td>用于生成字符串的字符</td>
<td>没有</td>
</tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__RandomString(5)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回5个字符的随机字符串，该字符串可读或不可读<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__RandomString(10,abcdefg)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回从<tt class="code">abcdefg</tt>集合中选取的10个字符的随机字符串，例如<tt class="code">cdbgdbeebd</tt>或<tt class="code">adbfeggfad</tt> ，……<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__RandomString(6,a12zeczclk, MYVAR)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回从<tt class="code">a12zeczclk</tt>集合中选取的6个字符的随机字符串，并将结果存储在<tt class="code">MYVAR中</tt> ， <tt class="code">MYVAR</tt>将包含<tt class="code">2z22ak</tt>或<tt class="code">z11kce之</tt>类的字符串，…<br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__RandomFromMultipleVars">20.5.8 __RandomFromMultipleVars</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>RandomFromMultipleVars函数基于<tt class="code">源变量</tt>提供的变量值返回随机值。</p>变量可以是简单值也可以是多值，因为它们可以由以下提取器生成：<ul>
    <li><a href="component_reference.html#Boundary_Extractor">边界提取器</a></li>
    <li><a href="component_reference.html#Regular_Expression_Extractor">正则表达式提取器</a></li>
    <li><a href="component_reference.html#CSS_Selector_Extractor">CSS选择器提取器</a></li>
    <li><a href="component_reference.html#JSON_Extractor">JSON提取器</a></li>
    <li><a href="component_reference.html#XPath_Extractor">XPath提取器</a></li>
    <li><a href="component_reference.html#XPath2_Extractor">XPath2提取器</a></li>
</ul>多值var是在您将<tt class="code">Match Numbers</tt>设置为<tt class="code">-1</tt>时提取的变量。这将导致创建称为<tt class="code">varName_matchNr</tt>的匹配号变量，并为每个值创建变量<tt class="code">varName_n</tt> ，其中n = 1、2、3等。<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>源变量</td>
<td>变量名以<tt class="code">|</tt>分隔包含将用作随机计算输入的值</td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__RandomFromMultipleVars(val)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将基于变量val的内容返回一个随机字符串，并考虑它们是否为多值<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__RandomFromMultipleVars(val1|val2)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将基于变量val1和val2的内容返回随机字符串，并考虑它们是否为多值<br>

<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__RandomFromMultipleVars(val1|val2, MYVAR)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将基于变量val1和val2的内容（考虑它们是否为多值）返回一个随机字符串，并将结果存储在<tt class="code">MYVAR中</tt><br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__UUID">20.5.8 __UUID</a>
</h3>
</font>
</td></tr>
<tr><td>

<p>UUID函数返回伪随机类型4通用唯一标识符（UUID）。</p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__UUID()}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将以以下格式返回UUID： <tt class="code">c69e0dd1-ac6b-4f2b-8d59-5d4e8743eecd</tt> <br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__CSVRead">20.5.8 __CSVRead</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>CSVRead函数从CSV文件返回一个字符串（参见<a href="#__StringFromFile">StringFromFile</a> ）</p>
    <p>注意：JMeter支持多个文件名。
    </p>
    <p><b>在大多数情况下，较新的<a href="component_reference.html#CSV_Data_Set_Config">CSV数据集配置元素</a>更易于使用。</b></p>
    <p>首次遇到文件名时，将打开文件并将其读入内部数组。如果检测到空白行，则将其视为文件结尾-这允许使用结尾注释。
    </p>
    <p>后续所有对相同文件名的引用都使用相同的内部数组。注意，即使操作系统无关紧要，文件名的大小写对函数也很重要，因此<tt class="code">CSVRead（abc.txt，0）</tt>和<tt class="code">CSVRead（aBc.txt，0）</tt>会引用不同的内部数组。
    </p>
    <p><tt class="code">* ALIAS</tt>功能允许同一文件多次打开，并且允许使用较短的文件名。
    </p>
    <p>每个线程都有自己的内部指针，该指针指向文件数组中的当前行。当一个线程首先引用该文件时，它将被分配给数组中的下一个空闲行，因此每个线程将访问与所有其他线程不同的行。[除非线程多于数组中的行。]
    </p>
    <p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>默认情况下，该函数在每个逗号处分割行。如果要输入包含逗号的列，则需要通过设置属性<tt class="code">csvread.delimiter</tt>将定界符更改为任何列数据中都不会出现的字符。
    </td></tr>
</tbody></table>
<p></p>

<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>文档名称</td>
<td>要读取的文件（或<tt class="code">* ALIAS</tt> ）</td>
<td>是</td>
</tr>
<tr>
<td>列号</td>
<td>文件中的列号。
            <tt class="code">0</tt> =第一列， <tt class="code">1</tt> =第二列，以此类推。“ <tt class="code">next</tt> ”-转到文件的下一行。
            <tt class="code">* ALIAS-</tt>打开文件并将其分配给别名</td>
<td>是</td>
</tr>
</tbody></table>
<p>例如，您可以如下设置一些变量：</p><ul>
<li>COL1a <tt class="code">$ {____ CSVRead（random.txt，0）}</tt></li>
<li>COL2a <tt class="code">$ {____ CSVRead（random.txt，1）} $ {__ CSVRead（random.txt，next）}</tt></li>
<li>COL1b <tt class="code">$ {____ CSVRead（random.txt，0）}</tt></li>
<li>COL2b <tt class="code">$ {____ CSVRead（random.txt，1）} $ {__ CSVRead（random.txt，next）}</tt></li>
</ul>这将从一行读取两列，从下一行读取两列。如果所有变量都在同一用户参数预处理器上定义，则这些行将是连续的。否则，其他线程可能会抓住下一行。
<p></p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>该功能不适用于大文件，因为整个文件都存储在内存中。对于较大的文件，请使用<a href="component_reference.html#CSV_Data_Set_Config">CSV数据集配置元素</a>或<a href="#__StringFromFile">StringFromFile</a> 。
</td></tr>
</tbody></table>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__property">20.5.9 __属性</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>属性函数返回JMeter属性的值。如果找不到属性值，并且没有提供默认值，它将返回属性名称。提供默认值时，无需提供函数名称-该参数可以设置为null，它将被忽略。
    </p>例如：<p>
        </p><ul>
<li><tt class="code">$ {__ property（user.dir）}</tt> - <tt class="code">user.dir的</tt>返回值</li>
<li><tt class="code">$ {__ property（user.dir，UDIR）}</tt> -返回<tt class="code">user.dir的</tt>值并保存在<tt class="code">UDIR中</tt></li>
<li><tt class="code">$ {__ property（abcd，ABCD，atod）}</tt> -属性<tt class="code">abcd的</tt>返回值（如果未定义，则返回“ <tt class="code">atod</tt> ”）并保存在<tt class="code">ABCD中</tt></li>
<li><tt class="code">$ {__ property（abcd ,, atod）}</tt> -属性<tt class="code">abcd的</tt>返回值（如果未定义，则返回“ <tt class="code">atod</tt> ”），但不要保存</li>
</ul>
<p></p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>物业名称</td>
<td>要检索的属性名称。</td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>没有</td>
</tr>
<tr>
<td>默认值</td>
<td>属性的默认值。</td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__P">20.5.10 __P</a>
</h3>
</font>
</td></tr>
<tr><td>
<p>这是一个简化的属性函数，旨在与命令行上定义的属性一起使用。与<tt class="code">__property</tt>函数不同，没有选项将值保存在变量中，并且如果未提供默认值，则假定为1。选择值1是因为它对于常见的测试变量（例如循环，线程计数，加速等）有效。</p>例如：<p>
<tt class="code">定义属性值：</tt></p><div align="left"><tt class="code">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
jmeter -Jgroup1.threads=7 -Jhostname1=www.realhost.edu
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</tt></div><tt class="code">获取值：<br>

<tt class="code">$ {__ P（group1.threads）}</tt> -返回<tt class="code">group1.threads</tt>的值
<br>

<tt class="code">$ {__ P（group1.loops）}</tt> -返回<tt class="code">group1.loops</tt>的值
<br>

<tt class="code">$ {__ P（hostname，www.dummy.org）}</tt> -属性<tt class="code">hostname</tt>或<tt class="code">www.dummy.org的</tt>返回值（如果未定义）<br>

</tt>在上面的示例中，第一个函数调用将返回<tt class="code">7</tt> ，第二个函数调用将返回<tt class="code">1</tt> ，最后一个函数调用将返回<tt class="code">www.dummy.org</tt> （除非这些属性在其他地方定义！）
<p></p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>物业名称</td>
<td>要检索的属性名称。</td>
<td>是</td>
</tr>
<tr>
<td>默认值</td>
<td>属性的默认值。如果省略，则默认设置为“ <tt class="code">1</tt> ”。</td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__log">20.5.11 __log</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>日志功能记录一条消息，并返回其输入字符串</p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>要记录的字符串</td>
<td>一串</td>
<td>是</td>
</tr>
<tr>
<td>日志级别</td>
<td><tt class="code">OUT</tt> ， <tt class="code">ERR</tt> ， <tt class="code">DEBUG</tt> ， <tt class="code">INFO</tt> （默认）， <tt class="code">WARN</tt>或<tt class="code">ERROR</tt></td>
<td>没有</td>
</tr>
<tr>
<td>可投掷的文字</td>
<td>如果为非空，则创建Throwable传递给记录器</td>
<td>没有</td>
</tr>
<tr>
<td>评论</td>
<td>如果存在，它将显示在字符串中。对于识别正在记录的内容很有用。</td>
<td>没有</td>
</tr>
</tbody></table>
<p><tt class="code">OUT</tt>和<tt class="code">ERR</tt>日志级别名称分别用于将输出定向到<tt class="code">System.out</tt>和<tt class="code">System.err</tt> 。在这种情况下，将始终打印输出-它不取决于当前的日志设置。
</p><dl>
  <dt><tt class="code">$ {__ log（Message）}</tt></dt><dd>作为“ <tt class="code">…线程名：消息</tt> ”写入日志文件</dd>
  <dt><tt class="code">$ {__ log（Message，OUT）}</tt></dt><dd>写入控制台窗口</dd>
  <dt><tt class="code">$ {__ log（$ {VAR} ,,, VAR =）}</tt></dt><dd>写入日志文件为“ <tt class="code">…线程名VAR =值</tt> ”</dd>
</dl></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__logn">20.5.12 __logn</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>logn函数记录一条消息，并返回空字符串</p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>要记录的字符串</td>
<td>一串</td>
<td>是</td>
</tr>
<tr>
<td>日志级别</td>
<td><tt class="code">OUT</tt> ， <tt class="code">ERR</tt> ， <tt class="code">DEBUG</tt> ， <tt class="code">INFO</tt> （默认）， <tt class="code">WARN</tt>或<tt class="code">ERROR</tt></td>
<td>没有</td>
</tr>
<tr>
<td>可投掷的文字</td>
<td>如果为非空，则创建Throwable传递给记录器</td>
<td>没有</td>
</tr>
</tbody></table>
<p><tt class="code">OUT</tt>和<tt class="code">ERR</tt>日志级别名称分别用于将输出定向到<tt class="code">System.out</tt>和<tt class="code">System.err</tt> 。在这种情况下，将始终打印输出-它不取决于当前的日志设置。
</p><dl>
  <dt><tt class="code">$ {__ logn（VAR1 = $ {VAR1}，OUT）}</tt></dt><dd>将变量的值写入控制台窗口</dd>
</dl></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__BeanShell">20.5.13 __BeanShell</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>BeanShell函数评估传递给它的脚本，并返回结果。
</p>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>为了提高性能，最好使用<a href="#__groovy">__groovy</a>函数</td></tr>
</tbody></table>
<p></p>

<p>
<b>有关使用BeanShell的完整详细信息，请访问BeanShell网站，网址为<a href="http://www.beanshell.org/">http://www.beanshell.org/。</a>
</b>
</p>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>请注意，对于测试脚本中的每个独立出现的函数，将使用不同的解释器，但是对于后续调用，将使用相同的解释器。这意味着变量在对函数的调用之间持续存在。
</td></tr>
</tbody></table>
<p></p>

<p>函数的单个实例可以从多个线程中调用。但是，函数<tt class="code">execute（）</tt>方法是同步的。
</p>
<p>如果定义了属性“ <tt class="code">beanshell.function.init</tt> ”，它将作为源文件的名称传递到Interpreter。这可以用来定义通用方法和变量。bin目录中有一个示例初始化文件： <tt class="code">BeanShellFunction.bshrc</tt> 。
</p>
<p>在执行脚本之前设置了以下变量：</p><ul>
<li><tt class="code">log</tt> -BeanShell函数的<a href="https://www.slf4j.org/api/org/slf4j/Logger.html">记录器</a> （*）</li>
<li><tt class="code">ctx</tt> - <a href="../api/org/apache/jmeter/threads/JMeterContext.html">JMeterContext</a>对象</li>
<li><tt class="code">vars</tt> - <a href="../api/org/apache/jmeter/threads/JMeterVariables.html">JMeterVariables</a>对象</li>
<li><tt class="code">道具</tt> -JMeterProperties（类<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html"><tt class="code">java.util。属性</tt></a> ）对象</li>
<li><tt class="code">threadName-</tt>线程名（字符串）</li>
<li><tt class="code">采样器</tt> -当前的<a href="../api/org/apache/jmeter/samplers/Sampler.html">采样器</a> （如果有）</li>
<li><tt class="code">SampleResult-</tt>当前的<a href="../api/org/apache/jmeter/samplers/SampleResult.html">SampleResult</a> （如果有）</li>
</ul>（*）表示这是在处理初始化文件（如果有）之前设置的。其他变量因调用而异。
<p></p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>BeanShell脚本</td>
<td>Beanshell脚本（不是文件名）</td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例：</p><dl>
<dt><tt class="code">$ {__ BeanShell（123 * 456）}</tt></dt><dd>返回<tt class="code">56088</tt></dd>
<dt><tt class="code">$ {__ BeanShell（source（“ function.bsh”））}</tt></dt><dd>处理<tt class="code">function.bsh中</tt>的脚本</dd>
</dl>
<p></p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>切记为文本字符串和代表文本字符串的JMeter变量包括所有必要的引号。
</td></tr>
</tbody></table>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__groovy">20.5.13 __groovy</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p><tt class="code">__groovy</tt>函数评估传递给它的<a href="http://groovy-lang.org/">Apache Groovy</a>脚本，并返回结果。
</p>
<p>如果定义了属性“ <tt class="code">groovy.utilities</tt> ”，它将由ScriptEngine加载。这可以用来定义通用方法和变量。<tt class="code">bin</tt>目录中有一个样本初始化文件： <tt class="code">Utility.groovy</tt> 。
</p>
<p>在执行脚本之前设置了以下变量：</p>
<ul>
<li><tt class="code">log-</tt>常规功能的<a href="https://www.slf4j.org/api/org/slf4j/Logger.html">记录器</a> （*）</li>
<li><tt class="code">ctx</tt> - <a href="../api/org/apache/jmeter/threads/JMeterContext.html">JMeterContext</a>对象</li>
<li><tt class="code">vars</tt> - <a href="../api/org/apache/jmeter/threads/JMeterVariables.html">JMeterVariables</a>对象</li>
<li><tt class="code">道具</tt> -JMeterProperties（类<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html"><tt class="code">java.util。属性</tt></a> ）对象</li>
<li><tt class="code">threadName-</tt>线程名（字符串）</li>
<li><tt class="code">sampler-</tt>当前的<a href="../api/org/apache/jmeter/samplers/Sampler.html">Sampler</a> （如果有）</li>
<li><tt class="code">prev-</tt>上一个<a href="../api/org/apache/jmeter/samplers/SampleResult.html">SampleResult</a> （如果有）</li>
<li><tt class="code">OUT</tt> -System.out</li>
</ul>
<p>（*）表示这是在处理初始化文件（如果有）之前设置的。其他变量因调用而异。
</p>
<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>使用此函数时，请使用上面定义的变量，而不要使用字符串替换来访问脚本中的变量。遵循这种模式将通过确保可以缓存Groovy来确保您的测试是高性能的。
</td></tr>
</tbody></table>
<p></p>

<p>例如<strong>，不要</strong>执行以下操作：</p>

<p></p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__groovy(&quot;${myVar}&quot;.substring(0\,2))}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p></p>

<p>想象一下，变量myVar随每个事务而变化，由于脚本每次都变化，因此上面的Groovy无法缓存。<br>
<br>而是执行以下可以缓存的操作：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__groovy(vars.get(&quot;myVar&quot;).substring(0\,2))}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>

<p></p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>表达评估</td>
<td>Apache Groovy脚本（不是文件名）<p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>本身包含逗号的参数值应在必要时转义。如果您需要在参数值中包含逗号，请按如下所示对其进行转义：' <tt class="code">\，</tt> '</td></tr>
</tbody></table>
<p></p>

        </td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例：</p><dl>
<dt><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__groovy(123*456)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
</dt><dd>返回<tt class="code">56088</tt></dd>
<dt><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__groovy(vars.get(&quot;myVar&quot;).substring(0\,2))}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
</dt><dd>如果var的值为<tt class="code">JMeter</tt> ，则它将在运行<tt class="code">String.substring（0,2）时</tt>返回<tt class="code">JM</tt> 。请注意<tt class="code">，</tt>已转义为<tt class="code">\，</tt> </dd>
</dl>
<p></p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>切记为文本字符串和代表文本字符串的JMeter变量包括所有必要的引号。
</td></tr>
</tbody></table>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__split">20.5.14 __拆分</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>split函数根据定界符分割传递给它的字符串，并返回原始字符串。如果有任何分隔符，“ <tt class="code">？</tt>”作为值返回。拆分字符串在变量<tt class="code">$ {VAR_1}</tt> ， <tt class="code">$ {VAR_2}</tt>等中返回。变量计数在<tt class="code">$ {VAR_n}中</tt>返回。尾部的定界符被视为丢失的变量，并且“ <tt class="code">？</tt>”返回。另外，为了使其能够更好地与ForEach控制器<tt class="code">一起</tt>使用，如果以前的拆分设置了<tt class="code">__split</tt> ， <tt class="code">它</tt>现在会删除第一个未使用的变量。
    </p>
    <p></p>例：<br>在测试计划中定义<tt class="code">VAR</tt> =“ <tt class="code">a || c |</tt> ”。
    <br>

    <div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__split(${VAR},VAR,|)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>

    <br>这将返回<tt class="code">VAR</tt>的内容，即“ <tt class="code">a || c |</tt> ”并设置以下变量：<br>

        <tt class="code">VAR_n</tt> = <tt class="code">4</tt>
    <br>

        <tt class="code">VAR_1</tt> = <tt class="code">a</tt>
    <br>

        <tt class="code">VAR_2</tt> = <tt class="code">？</tt>
    <br>

        <tt class="code">VAR_3</tt> = <tt class="code">c</tt>
    <br>

        <tt class="code">VAR_4</tt> = <tt class="code">？</tt>
    <br>

        <tt class="code">VAR_5</tt> = <tt class="code">空</tt>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>要分割的字符串</td>
<td>分隔字符串，例如“ <tt class="code">a | b | c</tt> ”</td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>用于重用此函数计算的值的参考名称。</td>
<td>是</td>
</tr>
<tr>
<td>定界符</td>
<td>分隔符，例如<tt class="code">|</tt> 。如果省略<tt class="code">，</tt>则使用。注意<tt class="code">，</tt>需要指定为<tt class="code">\，。</tt>
</td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__XPath">20.5.15 __XPath</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>XPath函数读取XML文件并匹配XPath。每次调用该函数时，将返回下一个匹配项。在文件末尾，它将绕回开始。如果没有匹配的节点，则该函数将返回空字符串，并且警告消息将写入JMeter日志文件。
    </p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>请注意，整个NodeList都保存在内存中。</td></tr>
</tbody></table>
<p></p>

    <p></p>
    <p></p>例：<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__XPath(/path/to/build.xml, //target/@name)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>这将匹配<tt class="code">build.xml</tt>中的所有目标并返回next属性的内容<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>XML文件解析</td>
<td>一个要解析的XML文件</td>
<td>是</td>
</tr>
<tr>
<td>XPath</td>
<td>XPath表达式以匹配XML文件中的节点</td>
<td>是</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__setProperty">20.5.16 __setProperty</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>setProperty函数设置JMeter属性的值。该函数的默认返回值是空字符串，因此可以在任何有效的函数处使用该函数调用。</p>
        <p>原来的值可以通过可选的<sup>第三</sup>参数设置为“ <tt class="code">真</tt> ”返回。</p>
    <p>属性是JMeter的全局属性，因此可用于在线程和线程组之间进行通信</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>物业名称</td>
<td>要设置的属性名称。</td>
<td>是</td>
</tr>
<tr>
<td>适当的价值</td>
<td>属性的值。</td>
<td>是</td>
</tr>
<tr>
<td>真假</td>
<td>是否应返回原始值？</td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__time">20.5.17 __时间</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>时间函数以各种格式返回当前时间。</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>格式</td>
<td>要传递给<a href="https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html">SimpleDateFormat</a>的格式。该函数支持各种速记别名，请参见下文。如果省略，该函数将返回自该纪元以来的当前时间（以毫秒为单位）。
        </td>
<td>没有</td>
</tr>
<tr>
<td>变量名</td>
<td>要设置的变量的名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>如果省略格式字符串，则该函数以毫秒为单位返回自纪元以来的当前时间。如果格式匹配“ <tt class="code">/ ddd</tt> ”（其中<tt class="code">ddd</tt>是十进制数字），则该函数以毫秒为单位返回当前时间除以<tt class="code">ddd</tt>的值。例如，“ <tt class="code">/ 1000</tt> ”以秒为单位返回当前时间。否则，当前时间将传递给SimpleDateFormat。提供了以下速记别名：</p><ul>
<li><tt class="code">YMD</tt> = <tt class="code">yyyyMMdd</tt></li>
<li><tt class="code">HMS</tt> = <tt class="code">HHmmss</tt></li>
<li><tt class="code">YMDHMS</tt> = <tt class="code">yyyyMMdd-HHmmss</tt></li>
<li><tt class="code">USER1</tt> = JMeter属性<tt class="code">时间内的时间。USER1</tt></li>
<li><tt class="code">USER2</tt> = JMeter属性<tt class="code">时间内的时间。USER2</tt></li>
</ul><p>可以通过设置适当的JMeter属性（例如<tt class="code">时间）来更改默认值<tt class="code">。YMD = yyMMdd</tt>
</tt></p><p></p><div align="left"><tt class="code">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__time(dd/MM/yyyy,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</tt></div><tt class="code">如果将返回跑在<tt class="code">21/01/2018</tt> 2018年1月21日<p></p><p></p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__time(YMD,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>如果在2018年1月21日运行，将返回<tt class="code">20180121</tt><p></p><p></p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__time()}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回以<tt class="code">毫秒为单位的</tt>时间<tt class="code">1516540541624</tt><p></p></tt></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__jexl2">20.5.18 __jexl2</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>jexl函数返回评估<a href="http://commons.apache.org/jexl">Commons JEXL表达式</a>的结果。有关JEXL表达式的更多信息，请参见下面的链接。
    </p>
    <p><tt class="code">__jexl2</tt>函数使用Commons JEXL 2</p>
    <ul>
    <li><a href="http://commons.apache.org/proper/commons-jexl/reference/syntax.html">JEXL语法说明</a></li>
    <li><a href="http://commons.apache.org/proper/commons-jexl/reference/examples.html#Example_Expressions">JEXL的例子</a></li>
    </ul>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>表达</td>
<td>要评估的表达式。例如<tt class="code">6 *（5 + 2）</tt>
        </td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>要设置的变量的名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>以下变量可用于脚本：</p><ul>
<li><tt class="code">log-</tt>函数的<a href="https://www.slf4j.org/api/org/slf4j/Logger.html">Logger</a></li>
<li><tt class="code">ctx</tt> - <a href="../api/org/apache/jmeter/threads/JMeterContext.html">JMeterContext</a>对象</li>
<li><tt class="code">vars</tt> - <a href="../api/org/apache/jmeter/threads/JMeterVariables.html">JMeterVariables</a>对象</li>
<li><tt class="code">道具</tt> -JMeterProperties（类<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html"><tt class="code">java.util。属性</tt></a> ）对象</li>
<li><tt class="code">threadName-</tt>包含当前线程名称的字符串</li>
<li><tt class="code">sampler-</tt>当前的<a href="../api/org/apache/jmeter/samplers/Sampler.html">Sampler</a>对象（如果有）</li>
<li><tt class="code">sampleResult-</tt>先前的<a href="../api/org/apache/jmeter/samplers/SampleResult.html">SampleResult</a>对象（如果有）</li>
<li><tt class="code">OUT</tt> -System.out-例如<tt class="code">OUT.println（“ message”）</tt></li>
</ul><p>Jexl还可以创建类并在其上调用方法，例如：</p><p>
    </p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
Systemclass=log.class.forName(&quot;java.lang.System&quot;);
now=Systemclass.currentTimeMillis();
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>请注意，网站上的Jexl文档错误地建议“ <tt class="code">div</tt> ”进行整数除法。实际上，“ <tt class="code">div</tt> ”和“ <tt class="code">/</tt> ”均执行常规除法。可以得到如下相同的效果：<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
i= 5 / 2;
i.intValue(); // or use i.longValue()
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>

    <p></p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter允许表达式包含多个语句。</td></tr>
</tbody></table>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__jexl3">20.5.19 __jexl3</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>jexl函数返回评估<a href="http://commons.apache.org/proper/commons-jexl/">Commons JEXL表达式</a>的结果。有关JEXL表达式的更多信息，请参见下面的链接。
    </p>
    <p><tt class="code">__jexl3</tt>函数使用Commons JEXL 3</p>
    <ul>
    <li><a href="http://commons.apache.org/proper/commons-jexl/reference/syntax.html">JEXL语法说明</a></li>
    <li><a href="http://commons.apache.org/proper/commons-jexl/reference/examples.html#Example_Expressions">JEXL的例子</a></li>
    </ul>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>表达</td>
<td>要评估的表达式。例如<tt class="code">6 *（5 + 2）</tt>
        </td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>要设置的变量的名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>以下变量可用于脚本：</p><ul>
<li><tt class="code">log-</tt>函数的<a href="https://www.slf4j.org/api/org/slf4j/Logger.html">Logger</a></li>
<li><tt class="code">ctx</tt> - <a href="../api/org/apache/jmeter/threads/JMeterContext.html">JMeterContext</a>对象</li>
<li><tt class="code">vars</tt> - <a href="../api/org/apache/jmeter/threads/JMeterVariables.html">JMeterVariables</a>对象</li>
<li><tt class="code">道具</tt> -JMeterProperties（类<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html"><tt class="code">java.util。属性</tt></a> ）对象</li>
<li><tt class="code">threadName-</tt>包含当前线程名称的字符串</li>
<li><tt class="code">sampler-</tt>当前的<a href="../api/org/apache/jmeter/samplers/Sampler.html">Sampler</a>对象（如果有）</li>
<li><tt class="code">sampleResult-</tt>先前的<a href="../api/org/apache/jmeter/samplers/SampleResult.html">SampleResult</a>对象（如果有）</li>
<li><tt class="code">OUT</tt> -System.out-例如<tt class="code">OUT.println（“ message”）</tt></li>
</ul><p>Jexl还可以创建类并在其上调用方法，例如：</p><p>
    </p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
Systemclass=log.class.forName(&quot;java.lang.System&quot;);
now=Systemclass.currentTimeMillis();
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>请注意，网站上的Jexl文档错误地建议“ <tt class="code">div</tt> ”进行整数除法。实际上，“ <tt class="code">div</tt> ”和“ <tt class="code">/</tt> ”均执行常规除法。可以得到如下相同的效果：<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>
i= 5 / 2;
i.intValue(); // or use i.longValue()
</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>

    <p></p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter允许表达式包含多个语句。</td></tr>
</tbody></table>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__V">20.5.20 __V</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>V（变量）函数返回评估变量名表达式的结果。这可用于评估嵌套变量引用（当前不支持）。
    </p>
    <p>例如，如果一个变量具有<tt class="code">A1</tt> ， <tt class="code">A2</tt>和<tt class="code">N</tt> = <tt class="code">1</tt> ：</p>
    <ul>
    <li><tt class="code">$ {A1}</tt> -正常</li>
    <li><tt class="code">$ {A $ {N}}</tt> -不起作用（嵌套变量引用）</li>
    <li><tt class="code">$ {__ V（A $ {N}）}</tt> -正常。 <tt class="code">A $ {N}</tt>变为<tt class="code">A1</tt> ，并且<tt class="code">__V</tt>函数返回<tt class="code">A1</tt>的值</li>
    </ul>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>变量名</td>
<td>要评估的变量。
        </td>
<td>是</td>
</tr>
<tr>
<td>默认值</td>
<td>如果未找到变量，则为默认值，如果为空且未找到变量，则函数返回变量名称</td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__evalVar">20.5.21 __evalVar</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>evalVar函数返回评估存储在变量中的表达式的结果。
    </p>
    <p>这样，就可以从文件中读取字符串，并处理其中的所有变量引用。例如，如果变量“ <tt class="code">query</tt> ”包含“ <tt class="code">从$ {table}中选择$ {column}</tt> ”，“ <tt class="code">column</tt> ”和“ <tt class="code">table</tt> ”包含“ <tt class="code">name</tt> ”和“ <tt class="code">customers</tt> ”，则<tt class="code">$ {__ evalVar（query）}的</tt>计算结果为“ <tt class="code">从客户那里选择名字</tt> ”。
    </p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>变量名</td>
<td>要评估的变量。
        </td>
<td>是</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__eval">20.5.22 __eval</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>eval函数返回评估字符串表达式的结果。
    </p>
    <p>这样一来，就可以在存储在变量中的字符串中插值变量和函数引用。例如，给定以下变量：</p>
    <ul>
    <li><tt class="code">名字</tt> = <tt class="code">史密斯</tt></li>
    <li><tt class="code">栏</tt> = <tt class="code">年龄</tt></li>
    <li><tt class="code">表</tt> = <tt class="code">生日</tt></li>
    <li><tt class="code">SQL</tt> = <tt class="code">从$ {table}中选择$ {column}，其中name ='$ {name}'</tt></li>
    </ul>然后<tt class="code">$ {__ eval（$ {SQL}）}的</tt>评估结果为“ <tt class="code">从name ='Smith'的生日中选择年龄</tt> ”。

    <p>可以将它与CSV数据集结合使用，例如，在数据文件中同时定义了SQL语句和值的情况。
    </p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>变量名</td>
<td>要评估的变量。
        </td>
<td>是</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__char">20.5.23 __字符</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>char函数返回将数字列表评估为Unicode字符的结果。另请参见<tt class="code">__unescape（）</tt> 。
    </p>
    <p>这允许将任意字符值添加到字段中。
    </p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>Unicode字符号（十进制或0xhex）</td>
<td>要转换为Unicode字符的十进制数（如果为<tt class="code">0x</tt> ，则为十六进制数；如果为<tt class="code">0</tt> ，则为八进制数）。
        </td>
<td>是</td>
</tr>
</tbody></table>
<p>例子：<br>

<tt class="code">$ {__ char（13,10）}</tt> = <tt class="code">$ {__ char（0xD，0xA）}</tt> = <tt class="code">$ {__ char（015,012）}</tt> = <tt class="code">CRLF</tt>
<br>

<tt class="code">$ {__ char（165）}</tt> = <tt class="code">¥</tt> （日元）</p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__unescape">20.5.24 __unescape</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>unescape函数返回评估Java转义字符串的结果。另请参见上面的<tt class="code">__char（）</tt> 。
    </p>
    <p>这样就可以将字符添加到字段中，否则很难通过GUI定义（或不可能）。</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>要取消转义的字符串</td>
<td>要取消转义的字符串。
        </td>
<td>是</td>
</tr>
</tbody></table>
<p>例子：<br>

<tt class="code">$ {__ unescape（\ r \ n）}</tt> = <tt class="code">CRLF</tt>
<br>

<tt class="code">$ {__ unescape（1 \ t2）}</tt> = <tt class="code">1</tt> [标签] <tt class="code">2</tt>
 </p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__unescapeHtml">20.5.25 __unescapeHtml</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>将包含HTML实体转义符的字符串取消转义为包含与转义符相对应的实际Unicode字符的字符串的函数。支持HTML 4.0实体。
</p>
<p>例如，字符串</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__unescapeHtml(&amp;lt;Fran&amp;ccedil;ais&amp;gt;)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回<tt class="code"><français></français></tt> 。
<p></p>
<p>如果某个实体无法识别，则将其保留下来，并逐字插入结果字符串中。例如<tt class="code">$ {__ unescapeHtml（>＆zzzz; x）}</tt>将返回<tt class="code">>＆zzzz; x</tt> 。
</p>
    <p>使用Commons Lang中的<tt class="code">StringEscapeUtils＃unescapeHtml（String）</tt> 。
    </p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>要取消转义的字符串</td>
<td>要取消转义的字符串。
        </td>
<td>是</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__escapeHtml">20.5.26 __escapeHtml</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>使用HTML实体对字符串中的字符进行转义的函数。支持HTML 4.0实体。
</p>
<p>例如，</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__escapeHtml(&quot;bread&quot; &amp; &quot;butter&quot;)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回： <tt class="code">“面包”和“黄油”</tt> 。
<p></p>
    <p>使用Commons Lang中的<tt class="code">StringEscapeUtils＃escapeHtml（String）</tt> 。
    </p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>字符串逃脱</td>
<td>要转义的字符串。
        </td>
<td>是</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__urldecode">20.5.27 __urldecode</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>解码<tt class="code">application / x-www-form-urlencoded</tt>字符串的函数。注意：使用UTF-8作为编码方案。
</p>
<p>例如，字符串</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__urldecode(Word+%22school%22+is+%22%C3%A9cole%22+in+french)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回<tt class="code">单词“ school”的法文为“école”</tt> 。
<p></p>
    <p>使用Java类<a href="http://docs.oracle.com/javase/7/docs/api/java/net/URLDecoder.html">URLDecoder</a> 。
    </p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>要解码的字符串</td>
<td>URL编码为char的字符串进行解码。
        </td>
<td>是</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__urlencode">20.5.28 __urlencode</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>将字符串编码为<tt class="code">application / x-www-form-urlencoded</tt>字符串的函数。
</p>
<p>例如，字符串</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__urlencode(Word &quot;school&quot; is &quot;école&quot; in french)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回<tt class="code">Word +％22school％22 + is +％22％C3％A9cole％22 + in + french</tt> 。
<p></p>
    <p>使用Java类<a href="http://docs.oracle.com/javase/7/docs/api/java/net/URLEncoder.html">URLEncoder</a> 。
    </p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>编码字符串</td>
<td>以URL编码的字符编码的字符串。
        </td>
<td>是</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__FileToString">20.5.29 __FileToString</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>FileToString函数可用于读取整个文件。每次调用它都会读取整个文件。
    </p>
    <p>如果打开或读取文件时发生错误，则该函数返回字符串“ <tt class="code">** ERR **</tt> ”</p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>文档名称</td>
<td>文件名的路径。（该路径可以相对于JMeter启动目录）</td>
<td>是</td>
</tr>
<tr>
<td>文件编码（如果不是平台默认值）</td>
<td>用于读取文件的编码。如果未指定，则使用平台默认值。
        </td>
<td>没有</td>
</tr>
<tr>
<td>变量名</td>
<td>引用名称<tt class="code">-refName-</tt>用于重用此函数创建的值。存储的值采用<tt class="code">$ {refName}</tt>的形式。
        </td>
<td>没有</td>
</tr>
</tbody></table>
<p>每次执行该功能时，都会解析文件名，编码和引用名称参数。</p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__samplerName">20.5.30 __samplerName</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>samplerName函数返回当前采样器的名称（即标签）。
    </p>
    <p>该功能不适用于没有关联采样器的Test元素。例如测试计划。配置元素也没有关联的采样器。但是，某些配置元素是由采样器直接引用的，例如HTTP Header Manager和Http Cookie Manager，在这种情况下，这些功能是在Http Sampler的上下文中解析的。预处理器，后处理器和断言始终具有关联的采样器。
    </p>
    <p>例：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__samplerName()}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>
<p></p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>变量名</td>
<td>引用名称<tt class="code">-refName-</tt>用于重用此函数创建的值。存储的值采用<tt class="code">$ {refName}</tt>的形式。
        </td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__TestPlanName">20.5.31 __TestPlanName</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>TestPlanName函数返回当前测试计划的名称（可在“包括计划”中使用以了解调用测试计划的名称）。
    </p>
<p>例：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__TestPlanName}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回测试计划的文件名，例如，如果计划位于名为Demo.jmx的文件中，它将返回“ <tt class="code">Demo.jmx</tt><br>

<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__escapeOroRegexpChars">20.5.32 __escapeOroRegexpChars</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>转义ORO Regexp元字符的函数，它等效于Java Regexp Engine中的<tt class="code">\ Q</tt> <tt class="code">\ E。</tt>
</p>
<p>例如，</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__escapeOroRegexpChars([^&quot;].+?,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回： <tt class="code">\ [\ ^ \“ \] \。\ + \？</tt> 。
<p></p>
    <p>使用ORO中的Perl5Compiler＃quotemeta（String）。</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>字符串逃脱</td>
<td>要转义的字符串。
        </td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>引用名称<tt class="code">-refName-</tt>用于重用此函数创建的值。存储的值采用<tt class="code">$ {refName}</tt>的形式。
        </td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__escapeXml">20.5.33 __escapeXml</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>使用XML 1.0实体对字符串中的字符进行转义的函数。
</p>
<p>例如，</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__escapeXml(&quot;bread&quot; &amp; 'butter')}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回： <tt class="code">“面包”和“黄油”</tt> 。
<p></p>
    <p>使用Commons Lang中的<tt class="code">StringEscapeUtils＃escapeXml10（String）</tt> 。
    </p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>字符串逃脱</td>
<td>要转义的字符串。
        </td>
<td>是</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__timeShift">20.5.22 __timeShift</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p>timeShift函数以给定格式返回日期，并添加指定的秒数，分钟数，小时数，天数或月数</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>格式</td>
<td>要传递给DateTimeFormatter的格式。请参见<a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">DateTimeFormatter。</a>如果省略，则该函数使用自纪元格式以来的毫秒数。
        </td>
<td>没有</td>
</tr>
<tr>
<td>换班日期</td>
<td>以参数“格式”设置的格式指示要转换的日期。如果省略，则日期设置为现在</td>
<td>没有</td>
</tr>
<tr>
<td>转移价值</td>
<td>根据持续时间的文字表示（例如PnDTnHnMn.nS），指示要移动的秒，分钟，小时或天的指定数量。参见https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-<ul>
        <li><tt class="code">PT20.345S</tt>解析为20.345秒</li>
        <li><tt class="code">PT15M</tt>解析为15分钟</li>
        <li><tt class="code">PT10H</tt>解析为10小时</li>
        <li><tt class="code">P2D</tt>解析为2天</li>
        <li><tt class="code">-P6H3M</tt>解析为-6小时和-3分钟</li>
        </ul>
        </td>
<td>没有</td>
</tr>
<tr>
<td>用于格式的语言环境</td>
<td>语言环境的字符串格式。语言代码必须为小写。国家/地区代码必须为大写。分隔符必须是下划线。例如：en_EN请参见http://www.oracle.com/technetwork/java/javase/javase7locales-334809.html如果省略，则默认情况下该函数使用ApacheJMeter语言环境之一。
        </td>
<td>没有</td>
</tr>
<tr>
<td>变量名</td>
<td>要设置的变量的名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__timeShift(dd/MM/yyyy,21/01/2018,P2D,,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回<tt class="code">23/01/2018</tt>
<div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__timeShift(dd MMMM yyyy,21 février 2018,P2D,fr_FR,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回<tt class="code">2018年2月23日</tt>
<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__digest">20.5.34 __摘要</a>
</h3>
</font>
</td></tr>
<tr><td>

        <p>摘要函数在特定的哈希算法中返回加密的值，并带有可选的salt，大写字母和变量名。</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>算法</td>
<td>用于加密的算法有关可能的算法，请参见<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html">StandardNames中的</a> MessageDigest
            <ul>
                <li>MD2</li>
                <li>MD5</li>
                <li>SHA-1</li>
                <li>SHA-224</li>
                <li>SHA-256</li>
                <li>SHA-384</li>
                <li>SHA-512</li>
            </ul>
            <p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td><tt class="code">添加盐</tt>和<tt class="code">编码字符串时要</tt>考虑空格</td></tr>
</tbody></table>
<p></p>

        </td>
<td>是</td>
</tr>
<tr>
<td>编码字符串</td>
<td>将被加密的字符串</td>
<td>是</td>
</tr>
<tr>
<td>加盐</td>
<td>盐要添加到弦上（之后）</td>
<td>没有</td>
</tr>
<tr>
<td>大写值</td>
<td>结果默认为小写。为大写结果选择true。</td>
<td>没有</td>
</tr>
<tr>
<td>变量名</td>
<td>要设置的变量的名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__digest(MD5,Errare humanum est,,,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回<tt class="code">c49f00b92667a35c63708933384dad52</tt><br>

        <div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__digest(SHA-256,Felix qui potuit rerum cognoscere causas,mysalt,,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回<tt class="code">a3bc6900fe2b2fc5fa8a601a4a84e27a079bf2c581d485009bc5c00516729ac7</tt><br>


    <p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__dateTimeConvert">20.5.35 __dateTimeConvert</a>
</h3>
</font>
</td></tr>
<tr><td>

        <p><tt class="code">__dateTimeConvert</tt>函数将源格式的日期转换为目标格式，该结果将结果存储在变量名中（可选）。</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>日期字串</td>
<td>从源日期格式转换为目标日期格式的日期字符串。如果源日期格式为空，则可以在此处使用日期作为纪元时间。
        </td>
<td>是</td>
</tr>
<tr>
<td>来源日期格式</td>
<td>原始日期格式。如果为空，则日期字符串字段必须为一个纪元时间。</td>
<td>没有</td>
</tr>
<tr>
<td>目标日期格式</td>
<td>新的日期格式</td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>要设置的变量的名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__dateTimeConvert(01212018,MMddyyyy,dd/MM/yyyy,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>返回<tt class="code">21/01/2018</tt>
    <p></p><p>纪元时间值：1526574881000，</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__dateTimeConvert(1526574881000,,dd/MM/yyyy HH:mm,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>以UTC时间返回<tt class="code">17/05/2018 16:34</tt> （-Duser.timezone = GMT）<p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__isPropDefined">20.5.36 __isPropDefined</a>
</h3>
</font>
</td></tr>
<tr><td>

        <p>如果属性存在，则<tt class="code">__isPropDefined</tt>函数返回true，否则返回false。</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>物业名称</td>
<td>用于检查是否定义的属性名称</td>
<td>是</td>
</tr>
</tbody></table>
<p>例：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__isPropDefined(START.HMS)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回<tt class="code">true</tt><p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__isVarDefined">20.5.37 __isVar定义</a>
</h3>
</font>
</td></tr>
<tr><td>

        <p>如果变量存在，则<tt class="code">__isVarDefined</tt>函数返回true，否则返回false。</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>变量名</td>
<td>用于检查是否已定义的变量名称</td>
<td>是</td>
</tr>
</tbody></table>
<p>例：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__isVarDefined(JMeterThread.last_sample_ok)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回<tt class="code">true</tt><p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__changeCase">20.5.38 __changeCase</a>
</h3>
</font>
</td></tr>
<tr><td>

        <p>更改大小写功能返回一个字符串值，该大小写已在特定模式下更改。结果可以选择保存在JMeter变量中。</p>
    <p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>更改大小写的字符串</td>
<td>字符串，大小写会改变</td>
<td>是</td>
</tr>
<tr>
<td>更改案例模式</td>
<td>用于更改大小写的模式，例如对于<tt class="code">ab-CD eF</tt> ：<ul>
                <li><tt class="code">上</tt>结果为AB-CD EF</li>
                <li><tt class="code">LOWER</tt>结果为ab-cd ed</li>
                <li><tt class="code">CAPITALIZE</tt>结果为Ab-CD eF</li>
            </ul>
            <p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td><tt class="code">更改大小写模式</tt>不区分大小写</td></tr>
</tbody></table>
<p></p>

        </td>
<td>是</td>
</tr>
<tr>
<td>变量名</td>
<td>要设置的变量的名称。</td>
<td>没有</td>
</tr>
</tbody></table>
<p>例子：</p><div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__changeCase(Avaro omnia desunt\, inopi pauca\, sapienti nihil,UPPER,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回<tt class="code">AVARO OMNIA DESUNT，INOPI PAUCA，SAPIENTI NIHIL</tt>
    <div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__changeCase(LABOR OMNIA VINCIT IMPROBUS,LOWER,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回<tt class="code">分娩性失眠症</tt>
    <div align="left">
<table cellspacing="4" cellpadding="0" border="0">
<tbody><tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#ffffff"><pre>${__changeCase(omnibus viis romam pervenitur,CAPITALIZE,)}</pre></td>
<td bgcolor="#023264" width="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
<tr>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
<td bgcolor="#023264" width="1" height="1"><img src="/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td>
</tr>
</tbody></table>
</div>将返回<tt class="code">Omnibus viis romam pervenitur</tt>
    <p></p></td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
<table border="0" cellspacing="0" cellpadding="2">
<tbody><tr><td>
<font face="arial,helvetica,sanserif">
<h3>
<a name="__StringToFile">20.5.39 __StringToFile</a>
</h3>
</font>
</td></tr>
<tr><td>

    <p><tt class="code">__StringToFile</tt>函数可用于将字符串写入文件。每次调用它时，都会在文件追加或覆盖中写入一个字符串。
    </p>
    <p>该函数的默认返回值是空字符串</p>
<p>
<b>参量</b>
</p>
<table border="1" cellspacing="0" cellpadding="2">
<tbody><tr><th>属性</th><th>描述</th><th>需要</th></tr>
<tr>
<td>文件路径</td>
<td>文件名的路径。（路径是绝对的）</td>
<td>是</td>
</tr>
<tr>
<td>要写的字符串</td>
<td>写入文件的字符串。<br>如果需要在内容中插入换行符，请在字符串中使用<tt class="code">\ n</tt> 。
    </td>
<td>是</td>
</tr>
<tr>
<td>附加文件？</td>
<td>写入字符串的方式， <tt class="code">true</tt>表示追加， <tt class="code">false</tt>表示覆盖。
    </td>
<td>没有</td>
</tr>
<tr>
<td>如果不是UTF-8，则进行文件编码</td>
<td>用于写入文件的编码。如果未指定，则默认编码为<tt class="code">UTF-8</tt> 。
    </td>
<td>没有</td>
</tr>
</tbody></table>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<hr>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="predefinedvars"><strong>20.6预定义变量</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>大多数变量是通过调用函数或通过用户定义变量等测试元素来设置的；在这种情况下，用户可以完全控制所使用的变量名。但是，某些变量是由JMeter内部定义的。这些在下面列出。
</p><ul>
<li><tt class="code">COOKIE_cookiename-</tt>包含cookie值（请参阅<a href="../usermanual/component_reference.html#HTTP_Cookie_Manager">HTTP Cookie Manager</a> ）</li>
<li><tt class="code">JMeterThread.last_sample_ok</tt> -是否不是最后的样品OK - <tt class="code">真</tt> / <tt class="code">假</tt> 。注意：这是在PostProcessors和Assertions运行之后更新的。
</li>
<li><tt class="code">START</tt>变量（请参阅下一节）</li>
</ul></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="predefinedprops"><strong>20.6预定义属性</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>JMeter属性集是根据JMeter启动时定义的系统属性来初始化的；其他的JMeter属性在<tt class="code">jmeter.properties</tt> ， <tt class="code">user.properties</tt>或命令行中定义。
</p><p>JMeter定义了一些内置属性。这些在下面列出。为方便起见， <tt class="code">START</tt>属性也被复制到具有相同名称的变量。
</p><ul>
<li><tt class="code">START.MS</tt> -JMeter的开始时间（以毫秒为单位）</li>
<li><tt class="code">START.YMD</tt> -JMeter的开始时间为<tt class="code">yyyyMMdd</tt></li>
<li><tt class="code">START.HMS</tt> -JMeter的开始时间为<tt class="code">HHmmss</tt></li>
<li><tt class="code">TESTSTART.MS-</tt>测试开始时间（以毫秒为单位）</li>
</ul><p>请注意， <tt class="code">START</tt>变量/属性代表JMeter启动时间，而不是测试启动时间。它们主要用于文件名等。</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<br>
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="regular_expressions.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="properties_reference.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
</td>
</tr>
<tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td>
<table width="100%">
<tbody><tr>
<td>
<font color="#525D76" size="-1"><em>版权所有©1999-2019，Apache软件基金会</em></font>
</td>
<td align="right">
<font color="#525D76" size="-1"><em>$ Id $</em></font>
</td>
</tr>
<tr><td colspan="2">
<div align="center"><font color="#525D76" size="-1">Apache，Apache JMeter，JMeter，Apache Feather和Apache JMeter徽标是Apache Software Foundation的商标。
</font>
</div>
</td></tr>
</tbody></table>
</td>
</tr>
</tbody></table>


<!-- end the processing -->














































</body></html>