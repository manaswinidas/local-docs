<html ><head>
<link rel="stylesheet" type="text/css" href="../css/style.css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>Apache JMeter-用户手册：建立测试计划</title>
<style>
  .code { font-weight: bold; }
</style>
</head>

<body bgcolor="#ffffff"  text="#000000" link="#525D76">
<table border="0" cellspacing="0">
<tbody><tr>
<td align="left">
<a href="http://www.apache.org"><img title="Apache软件基金会" width="261" height="106" src="../images/asf-logo.png" border="0" style="margin:0px 30px 0px 0px"></a>
</td>
<td align="right">
<a href="http://jmeter.apache.org/"><img width="259" height="88" src="../images/jmeter.png" alt="Apache JMeter" title="Apache JMeter" border="0"></a>
</td>
</tr>
</tbody></table>
<table border="0" cellspacing="4">
<tbody><tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td align="left" valign="top">
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="test_plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="get-started.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
<br>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#525D76">
<font color="#ffffff" face="arial,helvetica,sanserif">
<strong>2。建立测试计划</strong></font>
</td></tr>
<tr><td>
<blockquote>
<p>测试计划描述了JMeter在运行时将执行的一系列步骤。完整的测试计划将由一个或多个线程组，逻辑控制器，样本生成控制器，侦听器，计时器，断言和配置元素组成。
</p><table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="add_remove"><strong>2.1添加和删除元素</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>可以通过右键单击树中的元素，然后从“ <tt class="code">添加</tt> ”列表中选择一个新元素， <a href="test_plan.html">来</a>将<a href="test_plan.html">元素</a>添加<a href="test_plan.html">到测试计划</a>中。或者，可以通过选择“ <tt class="code">merge</tt> ”或“ <tt class="code">open</tt> ”选项从文件中加载和添加元素。</p><p>要删除元素，请确保已选择该元素，右键单击该元素，然后选择“ <tt class="code">删除</tt> ”选项。</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="load_save"><strong>2.2加载和保存元素</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>要从文件中加载元素，请右键单击要向其中添加已加载元素的现有树元素，然后选择“ <tt class="code">合并</tt> ”选项。选择保存元素的文件。JMeter将元素合并到树中。</p><p>要保存树元素，请右键单击元素，然后选择“ <tt class="code">将选择另存为...</tt> ”选项。JMeter将保存选定的元素及其下的所有子元素。这样，您可以保存测试树片段和单个元素以供以后使用。</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="config_element"><strong>2.3配置树元素</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>测试树中的任何元素都将在JMeter的右侧框中显示控件。这些控件使您可以配置特定测试元素的行为。元素可配置的内容取决于元素的类型。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>可以通过在测试树周围拖放组件来操纵“测试树”本身。</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="saving"><strong>2.4保存测试计划</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>尽管不是必需的，但我们建议您在运行测试计划之前将其保存到文件中。要保存测试计划，请从“文件”菜单中选择“ <tt class="code">保存</tt> ”或“ <tt class="code">将测试计划另存为...</tt> ”（对于最新版本，不再需要先选择“测试计划”元素）。</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>JMeter允许您保存整个测试计划树或仅保存其中的一部分。要仅保存位于“测试计划”树的特定“分支”中的元素，请在树中选择要从其开始“分支”的“测试计划”元素，然后单击鼠标右键以访问“ <tt class="code">另存为...</tt> ” <tt class="code">。</tt> ”菜单项。或者，选择适当的测试计划元素，然后从“编辑”菜单中选择“ <tt class="code">将选择另存为...</tt> ”。
</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="run"><strong>2.5运行测试计划</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>要运行测试计划，请从“ <tt class="code">运行</tt> ”菜单项中选择“ <tt class="code">开始</tt> ”（ <span class="keycombo"><span class="keysym">Control</span> + <span class="keysym">r</span></span> ）。当JMeter运行时，它在菜单栏下方部分的右端显示一个绿色小框。您也可以检查“ <tt class="code">运行</tt> ”菜单。如果禁用了“ <tt class="code">开始</tt> ”，并且启用了“ <tt class="code">停止</tt> ”，则JMeter正在运行您的测试计划（或者至少认为它是这样）。</p><p>绿色框左侧的数字是活动线程数/线程总数。这些仅适用于本地运行的测试；使用客户端-服务器模式时，它们不包括在远程系统上启动的任何线程。
</p><p>
</p><table border="1" bgcolor="#bbbb00" width="50%" cellspacing="0" cellpadding="2">
<tbody><tr><td>仅在调试测试计划时，才应使用此处所述的GUI模式。要运行实际负载测试，请使用CLI模式。</td></tr>
</tbody></table>
<p></p>
</blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="stop"><strong>2.6停止测试</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>菜单中有两种类型的停止命令：</p><ul>
<li><tt class="code">停止</tt> （ <span class="keycombo"><span class="keysym">Control</span> + <span class="keysym">。</span></span> ）-如果可能，立即停止线程。许多采样器都是可中断的，这意味着可以提前终止活动采样。stop命令将检查所有线程是否已在默认超时内停止，默认超时为5000 ms = 5秒。[这可以使用JMeter属性<tt class="code">jmeterengine.threadstop.wait</tt>进行更改]如果线程尚未停止，则会显示一条消息。可以重试Stop命令，但是如果失败，则必须退出JMeter进行清理。
</li>
<li><tt class="code">关机</tt> （ <span class="keycombo"><span class="keysym">Control</span> + <span class="keysym">，</span></span> ）-请求线程在任何当前工作结束时停止。不会中断任何活动样本。模态关闭对话框将保持活动状态，直到所有线程停止。</li>
</ul>如果关机时间太长。关闭“关机”对话框，然后选择<tt class="code">“运行</tt> / <tt class="code">停止”</tt> ，或仅按<span class="keycombo"><span class="keysym">Control</span> + <span class="keysym">。</span></span> 。
<p></p><p>在CLI模式下运行JMeter时，没有菜单，并且JMeter不会对诸如<span class="keycombo"><span class="keysym">Control</span> +之类的</span>击键作出反应<span class="keycombo"><span class="keysym">。</span></span> 。因此，JMeter CLI模式将在特定端口上侦听命令（默认为<tt class="code">4445</tt> ，请参见JMeter属性<tt class="code">jmeterengine.nongui.port</tt> ）。如果使用默认端口（例如，另一个JMeter实例），JMeter支持自动选择备用端口。在这种情况下，JMeter会尝试下一个更高的端口，继续，直到达到JMeter的属性<tt class="code">jmeterengine.nongui.maxport），</tt>默认为<tt class="code">4455。</tt>如果<tt class="code">maxport</tt>小于或等于<tt class="code">port</tt> ，那么将不会进行端口扫描。
<br>所选端口显示在控制台窗口中。
<br>当前支持的命令是：</p><ul>
<li><tt class="code">关机</tt> -正常关机</li>
<li><tt class="code">StopTestNow-</tt>立即关闭</li>
</ul>可以分别使用<tt class="code">shutdown [.cmd | .sh]</tt>或<tt class="code">stoptest [.cmd | .sh]</tt>脚本发送这些命令。这些脚本可以在JMeter <tt class="code">bin</tt>目录中找到。仅当脚本从同一主机运行时，才会接受命令。
<p></p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr><td bgcolor="#828DA6">
<font color="#ffffff" face="arial,helvetica,sanserif">
<a name="error_reporting"><strong>2.7错误报告</strong></a>
</font>
</td></tr>
<tr><td>
<blockquote>
<p>JMeter将警告和错误报告给<tt class="code">jmeter.log</tt>文件，以及有关测试运行本身的一些信息。JMeter在其窗口右端的警告图标（三角形）旁边显示<tt class="code">jmeter.log</tt>文件中找到的警告/错误数量。单击警告图标以在JMeter窗口的底部显示<tt class="code">jmeter.log</tt>文件。偶尔可能会有一些错误，JMeter无法捕获和记录；这些将显示在命令控制台上。如果测试不符合您的预期，请检查日志文件，以防报告任何错误（例如，函数调用中的语法错误）。
</p><p>通常不会在日志文件中报告采样错误（例如HTTP 404-未找到文件）。而是将它们存储为样本结果的属性。样本结果的状态可以在各种不同的侦听器中看到。
</p></blockquote>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
</blockquote>
<p></p>
</td></tr>
<tr><td><br></td></tr>
</tbody></table>
<br>
<table>
<tbody><tr>
<td bgcolor="#525D76">
<div align="right"><a href="index.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">指数</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="test_plan.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">下一个</font></a></div>
</td>
<td bgcolor="#525D76">
<div align="right"><a href="get-started.html"><font size="-1" color="#ffffff" face="arial,helvetica,sanserif">上一个</font></a></div>
</td>
</tr>
</tbody></table>
</td>
</tr>
<tr><td>
<hr noshade size="1">
</td></tr>
<tr>
<td>
<table width="100%">
<tbody><tr>
<td>
<font color="#525D76" size="-1"><em>版权所有©1999-2019，Apache软件基金会</em></font>
</td>
<td align="right">
<font color="#525D76" size="-1"><em>$ Id $</em></font>
</td>
</tr>
<tr><td colspan="2">
<div align="center"><font color="#525D76" size="-1">Apache，Apache JMeter，JMeter，Apache Feather和Apache JMeter徽标是Apache Software Foundation的商标。
</font>
</div>
</td></tr>
</tbody></table>
</td>
</tr>
</tbody></table>


<!-- end the processing -->














































</body></html>