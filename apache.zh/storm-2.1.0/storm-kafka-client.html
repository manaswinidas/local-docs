<html ><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <title>Storm Kafka集成（0.10.x +）</title>

    <!-- Bootstrap core CSS -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="/assets/css/bootstrap-theme.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="asset?aid=3">
    <link href="/css/style.css" rel="stylesheet">
    <link href="/assets/css/owl.theme.css" rel="stylesheet">
    <link href="/assets/css/owl.carousel.css" rel="stylesheet">
    <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/assets/js/owl.carousel.min.js"></script>
    <script type="text/javascript" src="/assets/js/storm.js"></script>
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>


  <body >
    <header>
  <div class="container-fluid">
     <div class="row">
          <div class="col-md-5">
            <a href="/index.html"><img src="/images/logo.png" class="logo"></a>
          </div>
          <div class="col-md-5">
            
              <h1>版本：2.1.0</h1>
            
          </div>
          <div class="col-md-2">
            <a href="/downloads.html" class="btn-std btn-block btn-download">下载</a>
          </div>
        </div>
    </div>
</header>
<!--Header End-->
<!--Navigation Begin-->
<div class="navbar" role="banner">
  <div class="container-fluid">
      <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse"></button>
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
          <ul class="nav navbar-nav">
              <li><a href="/index.html" id="home">家</a></li>
                <li><a href="/getting-help.html" id="getting-help">获得帮助</a></li>
                <li><a href="/about/integrates.html" id="project-info">项目信息</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" id="documentation" data-toggle="dropdown">文献资料<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        
                          <li><a href="/releases/2.1.0/index.html">2.1.0</a></li>
                        
                      
                        
                          <li><a href="/releases/2.0.0/index.html">2.0.0</a></li>
                        
                      
                        
                          <li><a href="/releases/1.2.3/index.html">1.2.3</a></li>
                        
                      
                    </ul>
                </li>
                <li><a href="/talksAndVideos.html">讲座和幻灯片</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" id="contribute" data-toggle="dropdown">社区<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="/contribute/Contributing-to-Storm.html">贡献</a></li>
                        <li><a href="/contribute/People.html">人</a></li>
                        <li><a href="/contribute/BYLAWS.html">按照法律规定</a></li>
                    </ul>
                </li>
                <li><a href="/2019/10/31/storm210-released.html" id="news">新闻</a></li>
            </ul>
        </nav>
    </div>
</div>



    <div class="container-fluid">
    <h1 class="page-title">Storm Kafka集成（0.10.x +）</h1>
          <div class="row">
           	<div class="col-md-12">
	             <!-- Documentation -->

<p class="post-meta"></p>

<div class="documentation-content"><h1 id="storm-apache-kafka-integration-using-the-kafka-client-jar">使用kafka-client jar进行Storm Apache Kafka集成</h1>

<p>这包括新的Apache Kafka使用者API。</p>

<h2 id="compatibility">兼容性</h2>

<p>Apache Kafka版本0.10.1.0起。请注意， <a href="https://issues.apache.org/jira/browse/KAFKA-7044">KAFKA-7044</a>可能会导致喷口崩溃，因此，如果您使用的是受影响的版本（1.1.0、1.1.1或2.0.0），则应升级Kafka。</p>

<h2 id="writing-to-kafka-as-part-of-your-topology">作为拓扑的一部分写入Kafka</h2>

<p>您可以创建org.apache.storm.kafka.bolt的实例。KafkaBolt并将其作为组件附加到您的拓扑，或者如果您正在使用trident，则可以使用org.apache.storm.kafka.trident。TridentState，org.apache.storm.kafka.trident。TridentStateFactory和org.apache.storm.kafka.trident。TridentKafkaUpdater。</p>

<p>您需要提供以下2个接口的实现</p>

<h3 id="tupletokafkamapper-and-tridenttupletokafkamapper">TupleToKafkaMapper和TridentTupleToKafkaMapper</h3>

<p>这些接口定义了2种方法：</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">K</span> <span class="nf">getKeyFromTuple</span><span class="o">(</span><span class="n">Tuple</span><span class="o">/</span><span class="n">TridentTuple</span> <span class="n">tuple</span><span class="o">);</span>
<span class="n">V</span> <span class="nf">getMessageFromTuple</span><span class="o">(</span><span class="n">Tuple</span><span class="o">/</span><span class="n">TridentTuple</span> <span class="n">tuple</span><span class="o">);</span>
</code></pre></div>
<p>顾名思义，调用这些方法可将元组映射到Kafka密钥和Kafka消息。如果只希望将一个字段作为键并将一个字段作为值，则可以使用提供的FieldNameBasedTupleToKafkaMapper.java实现。在KafkaBolt中，如果您出于向后兼容的原因使用默认构造函数构造FieldNameBasedTupleToKafkaMapper，则实现将始终查找具有字段名称“ key”和“ message”的字段。另外，您也可以使用非默认构造函数来指定其他键和消息字段。在TridentKafkaState中，您必须指定密钥和消息的字段名称是什么，因为没有默认的构造函数。在构造FieldNameBasedTupleToKafkaMapper的实例时应指定这些参数。</p>

<h3 id="kafkatopicselector-and-trident-kafkatopicselector">KafkaTopicSelector和三叉戟KafkaTopicSelector</h3>

<p>该接口只有一种方法</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">KafkaTopicSelector</span> <span class="o">{</span>
    <span class="n">String</span> <span class="nf">getTopics</span><span class="o">(</span><span class="n">Tuple</span><span class="o">/</span><span class="n">TridentTuple</span> <span class="n">tuple</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>
<p>该接口的实现应返回需要将元组的键/消息映射发布到的主题。您可以返回null，并且消息将被忽略。如果您有一个静态主题名称，则可以使用DefaultTopicSelector.java并在构造函数中设置主题的名称。
<code>FieldNameTopicSelector</code>和<code>FieldIndexTopicSelector</code>可以用来选择应该向其发布元组的主题。用户只需要在元组本身中为主题名称指定字段名称或字段索引。当找不到主题名称时， <code>Field*TopicSelector</code>将消息写入默认主题。请确保已创建默认主题。</p>

<h3 id="specifying-kafka-producer-properties">指定Kafka生产者属性</h3>

<p>您可以通过调用提供Storm拓扑中的所有生产者属性<code>KafkaBolt.withProducerProperties()</code>和<code>TridentKafkaStateFactory.withProducerProperties()</code> 。有关更多详细信息，请参见<a href="http://kafka.apache.org/documentation.html#newproducerconfigs">http://kafka.apache.org/documentation.html#newproducerconfigs</a>部分“生产者的重要配置属性”。这些也定义在<code>org.apache.kafka.clients.producer.ProducerConfig</code></p>

<h3 id="using-wildcard-kafka-topic-match">使用通配符kafka主题匹配</h3>

<p>您可以通过添加以下配置来进行通配符主题匹配</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Config</span> <span class="n">config</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Config</span><span class="o">();</span>
<span class="n">config</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"kafka.topic.wildcard.match"</span><span class="o">,</span><span class="kc">true</span><span class="o">);</span>
</code></pre></div>
<p>之后，您可以指定一个通配符主题以进行匹配，例如clickstream。* .log。这将匹配所有与clickstream.my.log，clickstream.cart.log等匹配的流</p>

<h3 id="putting-it-all-together">放在一起</h3>

<p>对于螺栓：</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">TopologyBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TopologyBuilder</span><span class="o">();</span>

<span class="n">Fields</span> <span class="n">fields</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fields</span><span class="o">(</span><span class="s">"key"</span><span class="o">,</span> <span class="s">"message"</span><span class="o">);</span>
<span class="n">FixedBatchSpout</span> <span class="n">spout</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FixedBatchSpout</span><span class="o">(</span><span class="n">fields</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span>
            <span class="k">new</span> <span class="nf">Values</span><span class="o">(</span><span class="s">"storm"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">),</span>
            <span class="k">new</span> <span class="nf">Values</span><span class="o">(</span><span class="s">"trident"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">),</span>
            <span class="k">new</span> <span class="nf">Values</span><span class="o">(</span><span class="s">"needs"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">),</span>
            <span class="k">new</span> <span class="nf">Values</span><span class="o">(</span><span class="s">"javadoc"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">)</span>
<span class="o">);</span>
<span class="n">spout</span><span class="o">.</span><span class="na">setCycle</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">builder</span><span class="o">.</span><span class="na">setSpout</span><span class="o">(</span><span class="s">"spout"</span><span class="o">,</span> <span class="n">spout</span><span class="o">,</span> <span class="mi">5</span><span class="o">);</span>
<span class="c1">//set producer properties.</span>
<span class="n">Properties</span> <span class="n">props</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Properties</span><span class="o">();</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"bootstrap.servers"</span><span class="o">,</span> <span class="s">"localhost:9092"</span><span class="o">);</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"acks"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">);</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"key.serializer"</span><span class="o">,</span> <span class="s">"org.apache.kafka.common.serialization.StringSerializer"</span><span class="o">);</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"value.serializer"</span><span class="o">,</span> <span class="s">"org.apache.kafka.common.serialization.StringSerializer"</span><span class="o">);</span>

<span class="n">KafkaBolt</span> <span class="n">bolt</span> <span class="o">=</span> <span class="k">new</span> <span class="n">KafkaBolt</span><span class="o">()</span>
        <span class="o">.</span><span class="na">withProducerProperties</span><span class="o">(</span><span class="n">props</span><span class="o">)</span>
        <span class="o">.</span><span class="na">withTopicSelector</span><span class="o">(</span><span class="k">new</span> <span class="n">DefaultTopicSelector</span><span class="o">(</span><span class="s">"test"</span><span class="o">))</span>
        <span class="o">.</span><span class="na">withTupleToKafkaMapper</span><span class="o">(</span><span class="k">new</span> <span class="n">FieldNameBasedTupleToKafkaMapper</span><span class="o">());</span>
<span class="n">builder</span><span class="o">.</span><span class="na">setBolt</span><span class="o">(</span><span class="s">"forwardToKafka"</span><span class="o">,</span> <span class="n">bolt</span><span class="o">,</span> <span class="mi">8</span><span class="o">).</span><span class="na">shuffleGrouping</span><span class="o">(</span><span class="s">"spout"</span><span class="o">);</span>

<span class="n">Config</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Config</span><span class="o">();</span>

<span class="n">StormSubmitter</span><span class="o">.</span><span class="na">submitTopology</span><span class="o">(</span><span class="s">"kafkaboltTest"</span><span class="o">,</span> <span class="n">conf</span><span class="o">,</span> <span class="n">builder</span><span class="o">.</span><span class="na">createTopology</span><span class="o">());</span>
</code></pre></div>
<p>对于三叉戟：</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Fields</span> <span class="n">fields</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fields</span><span class="o">(</span><span class="s">"word"</span><span class="o">,</span> <span class="s">"count"</span><span class="o">);</span>
<span class="n">FixedBatchSpout</span> <span class="n">spout</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FixedBatchSpout</span><span class="o">(</span><span class="n">fields</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span>
        <span class="k">new</span> <span class="nf">Values</span><span class="o">(</span><span class="s">"storm"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">),</span>
        <span class="k">new</span> <span class="nf">Values</span><span class="o">(</span><span class="s">"trident"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">),</span>
        <span class="k">new</span> <span class="nf">Values</span><span class="o">(</span><span class="s">"needs"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">),</span>
        <span class="k">new</span> <span class="nf">Values</span><span class="o">(</span><span class="s">"javadoc"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">)</span>
<span class="o">);</span>
<span class="n">spout</span><span class="o">.</span><span class="na">setCycle</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

<span class="n">TridentTopology</span> <span class="n">topology</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TridentTopology</span><span class="o">();</span>
<span class="n">Stream</span> <span class="n">stream</span> <span class="o">=</span> <span class="n">topology</span><span class="o">.</span><span class="na">newStream</span><span class="o">(</span><span class="s">"spout1"</span><span class="o">,</span> <span class="n">spout</span><span class="o">);</span>

<span class="c1">//set producer properties.</span>
<span class="n">Properties</span> <span class="n">props</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Properties</span><span class="o">();</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"bootstrap.servers"</span><span class="o">,</span> <span class="s">"localhost:9092"</span><span class="o">);</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"acks"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">);</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"key.serializer"</span><span class="o">,</span> <span class="s">"org.apache.kafka.common.serialization.StringSerializer"</span><span class="o">);</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"value.serializer"</span><span class="o">,</span> <span class="s">"org.apache.kafka.common.serialization.StringSerializer"</span><span class="o">);</span>

<span class="n">TridentKafkaStateFactory</span> <span class="n">stateFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TridentKafkaStateFactory</span><span class="o">()</span>
        <span class="o">.</span><span class="na">withProducerProperties</span><span class="o">(</span><span class="n">props</span><span class="o">)</span>
        <span class="o">.</span><span class="na">withKafkaTopicSelector</span><span class="o">(</span><span class="k">new</span> <span class="n">DefaultTopicSelector</span><span class="o">(</span><span class="s">"test"</span><span class="o">))</span>
        <span class="o">.</span><span class="na">withTridentTupleToKafkaMapper</span><span class="o">(</span><span class="k">new</span> <span class="n">FieldNameBasedTupleToKafkaMapper</span><span class="o">(</span><span class="s">"word"</span><span class="o">,</span> <span class="s">"count"</span><span class="o">));</span>
<span class="n">stream</span><span class="o">.</span><span class="na">partitionPersist</span><span class="o">(</span><span class="n">stateFactory</span><span class="o">,</span> <span class="n">fields</span><span class="o">,</span> <span class="k">new</span> <span class="n">TridentKafkaStateUpdater</span><span class="o">(),</span> <span class="k">new</span> <span class="n">Fields</span><span class="o">());</span>

<span class="n">Config</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Config</span><span class="o">();</span>
<span class="n">StormSubmitter</span><span class="o">.</span><span class="na">submitTopology</span><span class="o">(</span><span class="s">"kafkaTridentTest"</span><span class="o">,</span> <span class="n">conf</span><span class="o">,</span> <span class="n">topology</span><span class="o">.</span><span class="na">build</span><span class="o">());</span>
</code></pre></div>
<h2 id="reading-from-kafka-spouts">从卡夫卡读书（壶嘴）</h2>

<h3 id="configuration">组态</h3>

<p>通过使用以下命令配置喷口实现<code>KafkaSpoutConfig</code>类。此类使用Builder模式，可以通过调用Builders构造函数之一或通过在KafkaSpoutConfig类中调用静态方法builder来启动。</p>

<p>用于创建构建器的构造器或静态方法需要一些键值（以后可以更改），但这是启动喷口所需的最低配置。</p>

<p><code>bootstrapServers</code>与Kafka消费者属性“ bootstrap.servers”相同。
<code>topics</code>壶嘴将消耗的主题可以是<code>Collection</code>特定主题名称（1个或多个）或正则表达式<code>Pattern</code> ，它指定将使用与该正则表达式匹配的所有主题。</p>

<p>如果您使用的是Builder构造函数，而不是其中一种<code>builder</code>方法，您还需要指定键解串器和值解串器。这是通过使用Java泛型来帮助确保类型安全。可以通过使用以下属性设置的使用者属性来指定反序列化器<code>setProp</code> 。有关详细信息，请参见KafkaConsumer配置文档。</p>

<p>有一些关键配置要注意。</p>

<p><code>setFirstPollOffsetStrategy</code>允许您设置从何处开始使用数据。在故障恢复和第一次启动喷嘴时都使用此功能。允许的值在<a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.FirstPollOffsetStrategy.html">FirstPollOffsetStrategy javadocs</a>中列出。</p>

<p><code>setProcessingGuarantee</code>使您可以配置喷嘴可以提供的处理能力。这会影响消耗的偏移量可以提交的时间以及提交的频率。有关详细信息，请参见<a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.ProcessingGuarantee.html">ProcessingGuarantee javadoc</a> 。</p>

<p><code>setRecordTranslator</code>允许您修改喷口将Kafka消费者记录转换为元组的方式，以及该元组将发布到的流中。默认情况下，“主题”，“分区”，“偏移”，“键”和“值”将被发送到“默认”流。如果要根据主题将条目输出到不同的流，storm提供<code>ByTopicRecordTranslator</code> 。有关如何使用它们的更多示例，请参见下文。</p>

<p><code>setProp</code>和<code>setProps</code>可用于设置KafkaConsumer属性。这些属性的列表可以在<a href="http://kafka.apache.org/documentation.html#consumerconfigs">Kafka网站</a>上的KafkaConsumer配置文档中<a href="http://kafka.apache.org/documentation.html#consumerconfigs">找到</a> 。请注意，不支持KafkaConsumer自动提交。如果设置了“ enable.auto.commit”属性，则KafkaSpoutConfig构造函数将引发异常，并且壶嘴使用的使用者将始终将该属性设置为false。您可以配置类似的行为，以通过<code>setProcessingGuarantee</code> KafkaSpoutConfig构建器上的方法。</p>

<h3 id="usage-examples">使用范例</h3>

<h4 id="create-a-simple-insecure-spout">创建一个简单的不安全喷嘴</h4>

<p>下面将使用发布到“主题”的所有事件，并将它们与“主题”，“分区”，“偏移”，“键”，“值”的字段一起发送到MyBolt。</p>
<div class="highlight"><pre><code class="language-java" data-lang="java">
<span class="kd">final</span> <span class="n">TopologyBuilder</span> <span class="n">tp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TopologyBuilder</span><span class="o">();</span>
<span class="n">tp</span><span class="o">.</span><span class="na">setSpout</span><span class="o">(</span><span class="s">"kafka_spout"</span><span class="o">,</span> <span class="k">new</span> <span class="n">KafkaSpout</span><span class="o">&lt;&gt;(</span><span class="n">KafkaSpoutConfig</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span><span class="s">"127.0.0.1:"</span> <span class="o">+</span> <span class="n">port</span><span class="o">,</span> <span class="s">"topic"</span><span class="o">).</span><span class="na">build</span><span class="o">()),</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">tp</span><span class="o">.</span><span class="na">setBolt</span><span class="o">(</span><span class="s">"bolt"</span><span class="o">,</span> <span class="k">new</span> <span class="n">myBolt</span><span class="o">()).</span><span class="na">shuffleGrouping</span><span class="o">(</span><span class="s">"kafka_spout"</span><span class="o">);</span>
<span class="o">...</span>
</code></pre></div>
<h4 id="wildcard-topics">通配符主题</h4>

<p>通配符主题将从指定代理列表中存在的所有主题中使用，并与模式匹配。因此，在以下示例中，“ topic”，“ topic_foo”和“ topic_bar”将全部与模式“ topic。*”匹配，但“ not_my_topic”将不匹配。</p>
<div class="highlight"><pre><code class="language-java" data-lang="java">
<span class="kd">final</span> <span class="n">TopologyBuilder</span> <span class="n">tp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TopologyBuilder</span><span class="o">();</span>
<span class="n">tp</span><span class="o">.</span><span class="na">setSpout</span><span class="o">(</span><span class="s">"kafka_spout"</span><span class="o">,</span> <span class="k">new</span> <span class="n">KafkaSpout</span><span class="o">&lt;&gt;(</span><span class="n">KafkaSpoutConfig</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span><span class="s">"127.0.0.1:"</span> <span class="o">+</span> <span class="n">port</span><span class="o">,</span> <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">"topic.*"</span><span class="o">)).</span><span class="na">build</span><span class="o">()),</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">tp</span><span class="o">.</span><span class="na">setBolt</span><span class="o">(</span><span class="s">"bolt"</span><span class="o">,</span> <span class="k">new</span> <span class="n">myBolt</span><span class="o">()).</span><span class="na">shuffleGrouping</span><span class="o">(</span><span class="s">"kafka_spout"</span><span class="o">);</span>
<span class="o">...</span>
</code></pre></div>
<h4 id="multiple-streams">多个流</h4>
<div class="highlight"><pre><code class="language-java" data-lang="java">
<span class="kd">final</span> <span class="n">TopologyBuilder</span> <span class="n">tp</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TopologyBuilder</span><span class="o">();</span>

<span class="c1">//By default all topics not covered by another rule, but consumed by the spout will be emitted to "STREAM_1" as "topic", "key", and "value"</span>
<span class="n">ByTopicRecordTranslator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">byTopic</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByTopicRecordTranslator</span><span class="o">&lt;&gt;(</span>
    <span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">Values</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">topic</span><span class="o">(),</span> <span class="n">r</span><span class="o">.</span><span class="na">key</span><span class="o">(),</span> <span class="n">r</span><span class="o">.</span><span class="na">value</span><span class="o">()),</span>
    <span class="k">new</span> <span class="nf">Fields</span><span class="o">(</span><span class="s">"topic"</span><span class="o">,</span> <span class="s">"key"</span><span class="o">,</span> <span class="s">"value"</span><span class="o">),</span> <span class="s">"STREAM_1"</span><span class="o">);</span>
<span class="c1">//For topic_2 all events will be emitted to "STREAM_2" as just "key" and "value"</span>
<span class="n">byTopic</span><span class="o">.</span><span class="na">forTopic</span><span class="o">(</span><span class="s">"topic_2"</span><span class="o">,</span> <span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">Values</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">key</span><span class="o">(),</span> <span class="n">r</span><span class="o">.</span><span class="na">value</span><span class="o">()),</span> <span class="k">new</span> <span class="n">Fields</span><span class="o">(</span><span class="s">"key"</span><span class="o">,</span> <span class="s">"value"</span><span class="o">),</span> <span class="s">"STREAM_2"</span><span class="o">);</span>

<span class="n">tp</span><span class="o">.</span><span class="na">setSpout</span><span class="o">(</span><span class="s">"kafka_spout"</span><span class="o">,</span> <span class="k">new</span> <span class="n">KafkaSpout</span><span class="o">&lt;&gt;(</span><span class="n">KafkaSpoutConfig</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span><span class="s">"127.0.0.1:"</span> <span class="o">+</span> <span class="n">port</span><span class="o">,</span> <span class="s">"topic_1"</span><span class="o">,</span> <span class="s">"topic_2"</span><span class="o">,</span> <span class="s">"topic_3"</span><span class="o">).</span><span class="na">build</span><span class="o">()),</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">tp</span><span class="o">.</span><span class="na">setBolt</span><span class="o">(</span><span class="s">"bolt"</span><span class="o">,</span> <span class="k">new</span> <span class="n">myBolt</span><span class="o">()).</span><span class="na">shuffleGrouping</span><span class="o">(</span><span class="s">"kafka_spout"</span><span class="o">,</span> <span class="s">"STREAM_1"</span><span class="o">);</span>
<span class="n">tp</span><span class="o">.</span><span class="na">setBolt</span><span class="o">(</span><span class="s">"another"</span><span class="o">,</span> <span class="k">new</span> <span class="n">myOtherBolt</span><span class="o">()).</span><span class="na">shuffleGrouping</span><span class="o">(</span><span class="s">"kafka_spout"</span><span class="o">,</span> <span class="s">"STREAM_2"</span><span class="o">);</span>
<span class="o">...</span>
</code></pre></div>
<h4 id="trident">三叉戟</h4>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">final</span> <span class="n">TridentTopology</span> <span class="n">tridentTopology</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TridentTopology</span><span class="o">();</span>
<span class="kd">final</span> <span class="n">Stream</span> <span class="n">spoutStream</span> <span class="o">=</span> <span class="n">tridentTopology</span><span class="o">.</span><span class="na">newStream</span><span class="o">(</span><span class="s">"kafkaSpout"</span><span class="o">,</span>
    <span class="k">new</span> <span class="n">KafkaTridentSpoutOpaque</span><span class="o">&lt;&gt;(</span><span class="n">KafkaSpoutConfig</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span><span class="s">"127.0.0.1:"</span> <span class="o">+</span> <span class="n">port</span><span class="o">,</span> <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">"topic.*"</span><span class="o">)).</span><span class="na">build</span><span class="o">()))</span>
      <span class="o">.</span><span class="na">parallelismHint</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
<span class="o">...</span>
</code></pre></div>
<p>Trident不支持多个流，并且将忽略为输出设置的任何流。但是，如果每个输出主题的字段都不相同，它将抛出异常，并且不会继续。</p>

<h4 id="example-topologies">拓扑示例</h4>

<p>使用storm-kafka-client的示例拓扑可以在Storm源或二进制发行版中包含的examples / storm-kafka-client-examples目录中找到。</p>

<h3 id="custom-recordtranslators-advanced">自定义RecordTranslators（高级）</h3>

<p>在大多数情况下，内置的SimpleRecordTranslator和ByTopicRecordTranslator应该可以解决您的用例。如果确实遇到需要定制的情况，那么本文档将描述如何正确执行此操作，以及涉及的一些不太明显的类。</p>

<p>要点<code>apply</code>是采取一个ConsumerRecord并将其变成一个<code>List<Object></code>可以发出。不明显的是如何告诉喷口将其发射到特定流。为此，您需要返回一个实例<code>org.apache.storm.kafka.spout.KafkaTuple</code> 。这提供了一种方法<code>routedTo</code>那将说明元组应该去哪个特定流。</p>

<p>例如：</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="k">return</span> <span class="k">new</span> <span class="n">KafkaTuple</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">).</span><span class="na">routedTo</span><span class="o">(</span><span class="s">"bar"</span><span class="o">);</span>
</code></pre></div>
<p>将导致元组在“ bar”流上发出。</p>

<p>编写自定义记录翻译器时要小心，因为就像在风暴喷口中一样，它也必须自洽。的<code>streams</code>方法应该返回该转换器将尝试发射的完整的流集。另外<code>getFieldsFor</code>应该为每个流返回一个有效的Fields对象。如果您要对三叉戟执行此操作，则值必须在由返回的列表中<code>apply</code>对于该流的Fields对象中的每个字段，否则三叉戟可能会引发异常。</p>

<h3 id="manual-partition-assignment-advanced">手动分区分配（高级）</h3>

<p>默认情况下，将使用循环策略为KafkaSpout实例分配分区。如果您需要自定义分区分配，则必须实施<code>ManualPartitioner</code>接口。您可以将实现传递给<code>KafkaSpoutConfig.Builder</code>构造函数。提供自定义实现时请多加注意，因为不正确<code>ManualPartitioner</code>实现可能会使某些分区无法读取，或被多个spout实例同时读取。见<code>RoundRobinManualPartitioner</code>有关如何实现此功能的示例。</p>

<h3 id="manual-partition-discovery">手动分区发现</h3>

<p>您可以通过实施以下操作来自定义喷口发现现有分区的方式<code>TopicFilter</code>接口。Storm-kafka-client附带了一些实现。喜欢<code>ManualPartitioner</code> ，您可以将实现传递给<code>KafkaSpoutConfig.Builder</code>构造函数。请注意<code>TopicFilter</code>仅负责发现分区，确定要订阅哪个发现分区是<code>ManualPartitioner</code> 。</p>

<h2 id="using-storm-kafka-client-with-different-versions-of-kafka">将storm-kafka-client与不同版本的kafka一起使用</h2>

<p>Storm-kafka-client的Kafka依赖项定义为<code>provided</code> Maven中的作用域，这意味着它不会作为传递依赖项引入。这使您可以使用与您的kafka集群兼容的Kafka依赖版本。</p>

<p>当使用storm-kafka-client构建项目时，必须显式添加Kafka客户端依赖项。例如，要使用Kafka-clients 0.10.0.0，请在您的计算机上使用以下依赖项<code>pom.xml</code> ：</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml">        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.apache.kafka<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>kafka-clients<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>0.10.0.0<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>您还可以使用参数从Maven构建时覆盖kafka客户端版本<code>storm.kafka.client.version</code>例如<code>mvn clean install -Dstorm.kafka.client.version=0.10.0.0</code></p>

<p>选择kafka客户端版本时，应确保-1。Kafka api必须兼容。storm-kafka-client模块仅支持Kafka <strong>0.10或更高版本</strong> 。对于较旧的版本，您可以使用storm-kafka模块（ <a href="https://github.com/apache/storm/tree/1.x-branch/external/storm-kafka">https://github.com/apache/storm/tree/1.x-branch/external/storm-kafka</a> ）。<br>2。您选择的Kafka客户端版本应与代理完全兼容。请参阅<a href="https://cwiki.apache.org/confluence/display/KAFKA/Compatibility+Matrix">Kafka兼容性矩阵</a> 。</p>

<h1 id="kafka-spout-performance-tuning">Kafka Spout性能调优</h1>

<p>Kafka喷嘴提供两个内部参数来控制其性能。可以使用<a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setOffsetCommitPeriodMs-long-">setOffsetCommitPeriodMs</a>和<a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setMaxUncommittedOffsets-int-">setMaxUncommittedOffsets</a>方法设置参数。</p>

<ul>
<li>“ offset.commit.period.ms”控制喷口提交给Kafka的频率</li>
<li>“ max.uncommitted.offsets”控制在进行另一个轮询之前可以挂起多少个偏移量的提交<br></li>
</ul>

<p><a href="http://kafka.apache.org/documentation.html#consumerconfigs">Kafka使用者配置</a>参数也可能会影响出水嘴的性能。以下Kafka参数可能是对壶嘴性能影响最大的参数：</p>

<ul>
<li>“ fetch.min.bytes”</li>
<li>“ fetch.max.wait.ms”</li>
<li><a href="http://kafka.apache.org/090/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html">Kafka Consumer</a>实例轮询超时，它使用<a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setPollTimeoutMs-long-">setPollTimeoutMs</a>方法为每个Kafka出口指定。
<br></li>
</ul>

<p>根据您的Kafka群集的结构，数据的分布以及要轮询的数据的可用性，必须适当配置这些参数。请参阅有关Kafka参数调整的Kafka文档。</p>

<h3 id="default-values">默认值</h3>

<p>目前，Kafka喷口具有以下默认值，如本<a href="https://hortonworks.com/blog/microbenchmarking-storm-1-0-performance/">博文</a>所述，这些默认值已证明在测试环境中具有良好的性能。</p>

<ul>
<li>poll.timeout.ms = 200</li>
<li>offset.commit.period.ms = 30000（30s）</li>
<li>最大未提交偏移量= 10000000<br></li>
</ul>

<h1 id="tuple-tracking">元组跟踪</h1>

<p>默认情况下，当处理保证为AT_LEAST_ONCE时，喷嘴仅跟踪发出的元组。可能有必要使用其他处理保证来跟踪发出的元组，以便从Storm功能中受益，例如在UI中显示完整的延迟，或者使用Config启用背压。TOPOLOGY_MAX_SPOUT_PENDING。</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">KafkaSpoutConfig</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">kafkaConf</span> <span class="o">=</span> <span class="n">KafkaSpoutConfig</span>
  <span class="o">.</span><span class="na">builder</span><span class="o">(</span><span class="n">String</span> <span class="n">bootstrapServers</span><span class="o">,</span> <span class="n">String</span> <span class="o">...</span> <span class="n">topics</span><span class="o">)</span>
  <span class="o">.</span><span class="na">setProcessingGuarantee</span><span class="o">(</span><span class="n">ProcessingGuarantee</span><span class="o">.</span><span class="na">AT_MOST_ONCE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">setTupleTrackingEnforced</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
</code></pre></div>
<p>注意：此设置对AT_LEAST_ONCE处理保证无效，因为需要进行元组跟踪并因此始终启用该跟踪。</p>

<h1 id="mapping-from-storm-kafka-to-storm-kafka-client-spout-properties">从映射<code>storm-kafka</code>至<code>storm-kafka-client</code>喷口特性</h1>

<p>这可能不是详尽的清单，因为<code>storm-kafka</code>配置来自Storm 0.9.6 <a href="https://svn.apache.org/repos/asf/storm/site/releases/0.9.6/javadocs/storm/kafka/SpoutConfig.html">SpoutConfig</a>和<a href="https://svn.apache.org/repos/asf/storm/site/releases/0.9.6/javadocs/storm/kafka/KafkaConfig.html">KafkaConfig</a> 。
<code>storm-kafka-client</code>喷口配置来自Storm 1.0.6 <a href="https://storm.apache.org/releases/1.0.6/javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.html">KafkaSpoutConfig</a>和Kafka 0.10.1.0 <a href="https://kafka.apache.org/0101/javadoc/index.html?org/apache/kafka/clients/consumer/ConsumerConfig.html">ConsumerConfig</a> 。</p>

<table><thead>
<tr>
<th>SpoutConfig</th>
<th>KafkaSpoutConfig / ConsumerConfig</th>
<th>KafkaSpoutConfig的用法</th>
</tr>
</thead><tbody>
<tr>
<td><strong>设置：</strong> <code>startOffsetTime</code><br><br> <strong>默认：</strong> <code>EarliestTime</code><br>________________________________________________<br> <strong>设置：</strong> <code>forceFromStart</code> <br><br> <strong>默认：</strong> <code>false</code> <br><br> <code>startOffsetTime</code>和<code>forceFromStart</code>一起确定起始偏移量。 <code>forceFromStart</code>确定是否忽略Zookeeper偏移量。 <code>startOffsetTime</code>设置确定起始偏移量的时间戳，以防Zookeeper中没有偏移量，或者忽略Zookeeper偏移量</td>
<td><strong>设置：</strong> <a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.FirstPollOffsetStrategy.html"><code>FirstPollOffsetStrategy</code></a><br><br> <strong>默认：</strong> <code>UNCOMMITTED_EARLIEST</code> <br><br> <a href="#helper-table-for-setting-firstpolloffsetstrategy">请参考助手表</a>进行选择<code>FirstPollOffsetStrategy</code>根据您的<code>startOffsetTime</code>和<code>forceFromStart</code>设定</td>
<td><a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setFirstPollOffsetStrategy-org.apache.storm.kafka.spout.KafkaSpoutConfig.FirstPollOffsetStrategy-"><code><KafkaSpoutConfig-Builder>.setFirstPollOffsetStrategy(<strategy-name>)</code></a></td>
</tr>
<tr>
<td><strong>设置：</strong> <code>scheme</code><br><br>该接口指定如何<code>ByteBuffer</code>从Kafka主题转换为Storm tuple<br><strong>默认：</strong> <code>RawMultiScheme</code></td>
<td><strong>设置：</strong> <a href="https://kafka.apache.org/11/javadoc/org/apache/kafka/common/serialization/Deserializer.html"><code>Deserializers</code></a></td>
<td><a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setProp-java.lang.String-java.lang.Object-"><code><KafkaSpoutConfig-Builder>.setProp(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, <deserializer-class>)</code></a><br><br> <a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setProp-java.lang.String-java.lang.Object-"><code><KafkaSpoutConfig-Builder>.setProp(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, <deserializer-class>)</code></a></td>
</tr>
<tr>
<td><strong>设置：</strong> <code>fetchSizeBytes</code><br><br>消息提取大小-尝试在一个请求中提取到Kafka服务器的字节数<br> <strong>默认：</strong> <code>1MB</code></td>
<td><strong>设置：</strong> <a href="http://kafka.apache.org/10/documentation.html#newconsumerconfigs"><code>max.partition.fetch.bytes</code></a></td>
<td><a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setProp-java.lang.String-java.lang.Object-"><code><KafkaSpoutConfig-Builder>.setProp(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, <int-value>)</code></a></td>
</tr>
<tr>
<td><strong>设置：</strong> <code>bufferSizeBytes</code><br><br>网络请求的缓冲区大小（以字节为单位）。消费者用于从生产者提取数据的缓冲区大小<br> <strong>默认：</strong> <code>1MB</code></td>
<td><strong>设置：</strong> <a href="http://kafka.apache.org/10/documentation.html#newconsumerconfigs"><code>receive.buffer.bytes</code></a></td>
<td><a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setProp-java.lang.String-java.lang.Object-"><code><KafkaSpoutConfig-Builder>.setProp(ConsumerConfig.RECEIVE_BUFFER_CONFIG, <int-value>)</code></a></td>
</tr>
<tr>
<td><strong>设置：</strong> <code>socketTimeoutMs</code><br><br> <strong>默认：</strong> <code>10000</code></td>
<td><strong>不适用</strong></td>
<td></td>
</tr>
<tr>
<td><strong>设置：</strong> <code>useStartOffsetTimeIfOffsetOutOfRange</code><br><br> <strong>默认：</strong> <code>true</code></td>
<td><strong>设置：</strong> <a href="http://kafka.apache.org/10/documentation.html#newconsumerconfigs"><code>auto.offset.reset</code></a> <br><br> <strong>默认值：</strong>请注意<code>auto.offset.reset</code>是<code>earliest</code>如果你有<a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.ProcessingGuarantee.html"><code>ProcessingGuarantee</code></a>调成<code>AT_LEAST_ONCE</code> ，但默认值为<code>latest</code>除此以外。</td>
<td><a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setProp-java.lang.String-java.lang.Object-"><code><KafkaSpoutConfig-Builder>.setProp(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, <String>)</code></a></td>
</tr>
<tr>
<td><strong>设置：</strong> <code>fetchMaxWait</code><br><br>等待响应的最长时间（以毫秒为单位）<br> <strong>默认：</strong> <code>10000</code></td>
<td><strong>设置：</strong> <a href="http://kafka.apache.org/10/documentation.html#newconsumerconfigs"><code>fetch.max.wait.ms</code></a></td>
<td><a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setProp-java.lang.String-java.lang.Object-"><code><KafkaSpoutConfig-Builder>.setProp(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, <value>)</code></a></td>
</tr>
<tr>
<td><strong>设置：</strong> <code>maxOffsetBehind</code><br><br>指定喷口尝试重试失败的元组的时间。一种情况是失败的元组的偏移量大于<code>maxOffsetBehind</code>在缩进的偏移量之后，喷嘴将停止重试元组。<br><strong>默认：</strong> <code>LONG.MAX_VALUE</code></td>
<td><strong>不适用</strong></td>
<td></td>
</tr>
<tr>
<td><strong>设置：</strong> <code>clientId</code></td>
<td><strong>设置：</strong> <a href="http://kafka.apache.org/10/documentation.html#newconsumerconfigs"><code>client.id</code></a></td>
<td><a href="javadocs/org/apache/storm/kafka/spout/KafkaSpoutConfig.Builder.html#setProp-java.lang.String-java.lang.Object-"><code><KafkaSpoutConfig-Builder>.setProp(ConsumerConfig.CLIENT_ID_CONFIG, <String>)</code></a></td>
</tr>
</tbody></table>

<p>如果使用此表升级拓扑以使用<code>storm-kafka-client</code>代替<code>storm-kafka</code> ，那么您还需要将消费者补偿从ZooKeeper迁移到Kafka经纪人。使用<a href="https://github.com/apache/storm/tree/master/external/storm-kafka-migration"><code>storm-kafka-migration</code></a>工具来迁移Kafka消费者补偿。</p>

<h4 id="helper-table-for-setting-firstpolloffsetstrategy">设置助手表<code>FirstPollOffsetStrategy</code></h4>

<p>挑选并设置<code>FirstPollOffsetStrategy</code>基于<code>startOffsetTime</code>和<code>forceFromStart</code>设置：</p>

<table><thead>
<tr>
<th><code>startOffsetTime</code></th>
<th><code>forceFromStart</code></th>
<th><code>FirstPollOffsetStrategy</code></th>
</tr>
</thead><tbody>
<tr>
<td><code>EarliestTime</code></td>
<td><code>true</code></td>
<td><code>EARLIEST</code></td>
</tr>
<tr>
<td><code>EarliestTime</code></td>
<td><code>false</code></td>
<td><code>UNCOMMITTED_EARLIEST</code></td>
</tr>
<tr>
<td><code>LatestTime</code></td>
<td><code>true</code></td>
<td><code>LATEST</code></td>
</tr>
<tr>
<td><code>LatestTime</code></td>
<td><code>false</code></td>
<td><code>UNCOMMITTED_LATEST</code></td>
</tr>
</tbody></table>
</div>


	          </div>
	       </div>
	  </div>
<footer>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
                <div class="footer-widget">
                    <h5>聚会</h5>
                    <ul class="latest-news">
                        
                        <li><a href="http://www.meetup.com/Apache-Storm-Apache-Kafka/">Apache Storm和Apache Kafka</a> <span class="small">（加利福尼亚州桑尼维尔）</span></li>
                        
                        <li><a href="http://www.meetup.com/Apache-Storm-Kafka-Users/">Apache Storm和Kafka用户</a> <span class="small">（华盛顿州西雅图）</span></li>
                        
                        <li><a href="http://www.meetup.com/New-York-City-Storm-User-Group/">NYC Storm用户组</a> <span class="small">（纽约州纽约）</span></li>
                        
                        <li><a href="http://www.meetup.com/Bay-Area-Stream-Processing">湾区流处理</a> <span class="small">（加利福尼亚州埃默里维尔）</span></li>
                        
                        <li><a href="http://www.meetup.com/Boston-Storm-Users/">波士顿实时数据</a> <span class="small">（马萨诸塞州波士顿）</span></li>
                        
                        <li><a href="http://www.meetup.com/storm-london">伦敦风暴用户组</a> <span class="small">（英国伦敦）</span></li>
                        
                        <!-- <li><a href="http://www.meetup.com/Apache-Storm-Kafka-Users/">Seatle, WA</a> <span class="small">(27 Jun 2015)</span></li> -->
                    </ul>
                </div>
            </div>
            <div class="col-md-3">
                <div class="footer-widget">
                    <h5>关于Apache Storm</h5>
                    <p>Apache Storm与任何排队系统和任何数据库系统集成。Apache Storm的喷口抽象使集成新排队系统变得容易。同样，将Apache Storm与数据库系统集成很容易。</p>
               </div>
            </div>
            <div class="col-md-3">
                <div class="footer-widget">
                    <h5>第一眼</h5>
                    <ul class="footer-list">
                        <li><a href="/releases/current/Rationale.html">基本原理</a></li>
                        <li><a href="/releases/current/Tutorial.html">讲解</a></li>
                        <li><a href="/releases/current/Setting-up-development-environment.html">搭建开发环境</a></li>
                        <li><a href="/releases/current/Creating-a-new-Storm-project.html">创建一个新的Apache Storm项目</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-3">
                <div class="footer-widget">
                    <h5>文献资料</h5>
                    <ul class="footer-list">
                        <li><a href="/releases/current/index.html">指数</a></li>
                        <li><a href="/releases/current/javadocs/index.html">Java文档</a></li>
                        <li><a href="/releases/current/FAQ.html">常问问题</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <hr>
        <div class="row">   
            <div class="col-md-12">
                <p align="center">版权所有©2019 <a href="http://www.apache.org">Apache Software Foundation</a> 。版权所有。
                    <br>Apache Storm，Apache，Apache Feather徽标和Apache Storm项目徽标是The Apache Software Foundation的商标。
                    <br>提及的所有其他商标可能是其各自所有者的商标或注册商标。</p>
            </div>
        </div>
    </div>
</footer>
<!--Footer End-->
<!-- Scroll to top -->
<span class="totop"><a href="#"><i class="fa fa-angle-up"></i></a></span> 





</body></html>