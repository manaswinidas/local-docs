<html lang="zh-Hans" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link href="../images/docs-stylesheet.css" rel="stylesheet" type="text/css"><title>Apache Tomcat 9配置参考（9.0.21）-系统属性</title><script type="application/javascript" data-comments-identifier="tomcat-9.0-doc/config/systemprops">
    "use strict"; // Enable strict mode

    (function() {
      var thisScript = document.currentScript;
      if (!thisScript) { // Workaround for IE <= 11
        var scripts = document.getElementsByTagName("script");
        thisScript = scripts[scripts.length - 1];
      }
      document.addEventListener("DOMContentLoaded", (function() {
        var commentsDiv = document.getElementById("comments_thread");
        var commentsShortname = "tomcat";
        var commentsIdentifier = "https://tomcat.apache.org/" +
          thisScript.getAttribute("data-comments-identifier") + ".html";

        (function(w, d) {
          if (w.location.hostname.toLowerCase() == "tomcat.apache.org") {
            var s = d.createElement("script");
            s.type = "application/javascript";
            s.async = true;
            s.src = "https://comments.apache.org/show_comments.lua?site=" +
              encodeURIComponent(commentsShortname) +
              "&page=" + encodeURIComponent(commentsIdentifier);
            d.head.appendChild(s);
          } else {
            commentsDiv.appendChild(d.createTextNode("Comments are disabled for this page at the moment."));
          }
        })(window, document);
      }), false);
    })();
  </script></head><body ><div id="wrapper"><header><div id="header"><div><div><div class="logo noPrint"><a href="https://tomcat.apache.org/"><img alt="Tomcat主页" src="../images/tomcat.png"></a></div><div style="height:1px"></div><div class="asfLogo noPrint"><a href="https://www.apache.org/" target="_blank"><img src="../images/asf-logo.svg" alt="Apache软件基金会" style="width:266px;height:83px"></a></div><h1>Apache Tomcat 9配置参考</h1><div class="versionInfo">版本9.0.21， <time datetime="2019-06-04"> 2019年6月4日</time></div><div style="height:1px"></div><div style="clear:left"></div></div></div></div></header><div id="middle"><div><div id="mainLeft" class="noprint"><div><nav><div><h2>链接</h2><ul><li><a href="../index.html">文件首页</a></li><li><a href="index.html">配置参考家</a></li><li><a href="https://wiki.apache.org/tomcat/FAQ">常问问题</a></li><li><a href="#comments_section">用户评论</a></li></ul></div><div><h2>顶级元素</h2><ul><li><a href="server.html">服务器</a></li><li><a href="service.html">服务</a></li></ul></div><div><h2>执行者</h2><ul><li><a href="executor.html">执行者</a></li></ul></div><div><h2>连接器</h2><ul><li><a href="http.html">HTTP / 1.1</a></li><li><a href="http2.html">HTTP / 2</a></li><li><a href="ajp.html">AJP</a></li></ul></div><div><h2>货柜</h2><ul><li><a href="context.html">语境</a></li><li><a href="engine.html">发动机</a></li><li><a href="host.html">主办</a></li><li><a href="cluster.html">簇</a></li></ul></div><div><h2>嵌套组件</h2><ul><li><a href="cookie-processor.html">Cookie处理器</a></li><li><a href="credentialhandler.html">凭证处理程序</a></li><li><a href="globalresources.html">全球资源</a></li><li><a href="jar-scanner.html">JarScanner</a></li><li><a href="jar-scan-filter.html">JarScanFilter</a></li><li><a href="listeners.html">听众</a></li><li><a href="loader.html">装载机</a></li><li><a href="manager.html">经理</a></li><li><a href="realm.html">领域</a></li><li><a href="resources.html">资源资源</a></li><li><a href="sessionidgenerator.html">SessionIdGenerator</a></li><li><a href="valve.html">阀</a></li></ul></div><div><h2>集群元素</h2><ul><li><a href="cluster.html">簇</a></li><li><a href="cluster-manager.html">经理</a></li><li><a href="cluster-channel.html">渠道</a></li><li><a href="cluster-membership.html">频道/会员</a></li><li><a href="cluster-sender.html">频道/发件人</a></li><li><a href="cluster-receiver.html">频道/接收器</a></li><li><a href="cluster-interceptor.html">通道/拦截器</a></li><li><a href="cluster-valve.html">阀</a></li><li><a href="cluster-deployer.html">部署者</a></li><li><a href="cluster-listener.html">集群监听器</a></li></ul></div><div><h2>web.xml</h2><ul><li><a href="filter.html">过滤</a></li></ul></div><div><h2>其他</h2><ul><li><a href="systemprops.html">系统属性</a></li><li><a href="jaspic.html">日本宝石</a></li></ul></div></nav></div></div><div id="mainRight"><div id="content"><h2>系统属性</h2><h3 id="Table_of_Contents">目录</h3><div class="text">
<ul><li><a href="#Introduction">介绍</a></li><li><a href="#Property_replacements">财产置换</a></li><li><a href="#Clustering">聚类</a></li><li><a href="#Expression_Language">表达语言</a></li><li><a href="#Jasper">碧玉</a></li><li><a href="#Security">安全</a></li><li><a href="#Specifications">技术指标</a></li><li><a href="#Sessions">届会</a></li><li><a href="#Logging">记录中</a></li><li><a href="#JAR_Scanning">JAR扫描</a></li><li><a href="#Websockets">网络套接字</a></li><li><a href="#Other">其他</a></li></ul>
</div><h3 id="Introduction">介绍</h3><div class="text">
  <p>以下各节列出了可以设置为修改默认Tomcat行为的系统属性。</p>
</div><h3 id="Property_replacements">财产置换</h3><div class="text">
  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">org.apache.tomcat.util.digester. PROPERTY_SOURCE</code></td><td>
      <p>将此设置为实现的类的标准名称<code>org.apache.tomcat.util.IntrospectionUtils.PropertySource</code> 。必须具有不带参数的公共构造函数。</p>
      <p>使用它来添加属性源，该属性源将在以下情况下调用<code>${parameter}</code>在Tomcat解析的XML文件中找到指定的参数。</p>
      <p>也可以使用JVM系统属性从指定的属性源进行属性替换。 <code>REPLACE_SYSTEM_PROPERTIES</code>系统属性。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat.util.digester. REPLACE_SYSTEM_PROPERTIES</code></td><td>
      <p>将此布尔系统属性设置为<code>true</code>导致从JVM系统属性上的摘要器属性源进行属性替换。</p>
    </td></tr></tbody></table>

</div><h3 id="Clustering">聚类</h3><div class="text">
  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">org.apache.catalina. tribes.dns_lookups</code></td><td>
      <p>如果<code>true</code> ，群集模块将尝试使用DNS来解析群集配置中提供的任何主机名。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr></tbody></table>

</div><h3 id="Expression_Language">表达语言</h3><div class="text">
  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">org.apache.el.BeanELResolver. CACHE_SIZE</code></td><td>
      <p>javax.el的数量。BeanELResolver。将由EL Parser缓存的BeanProperties对象。</p>
      <p>如果未指定，则默认为<code>1000</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.el.ExpressionBuilder. CACHE_SIZE</code></td><td>
      <p>EL解析器将缓存的已解析EL表达式的数量。</p>
      <p>如果未指定，则默认为<code>5000</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.el.parser. COERCE_TO_ZERO</code></td><td>
      <p>如果<code>true</code> ，强制时<code>null</code> s到Number，Character或Boolean类型的对象，结果将是<code>0</code>用于数字和字符类型，以及<code>false</code> EL 2.2和更早的规范要求的Boolean。如果此属性是<code>false</code>强制的结果将是<code>null</code>按照EL 3.0规范的要求。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.el.parser. SKIP_IDENTIFIER_CHECK</code></td><td>
      <p>如果<code>true</code> ，在解析表达式时，不会检查标识符以确保它们符合Java标识符的Java语言规范。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr></tbody></table>
</div><h3 id="Jasper">碧玉</h3><div class="text">
  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">org.apache.jasper.compiler. Generator.POOL_TAGS_WITH_EXTENDS</code></td><td>
      <p>默认情况下，由于Jasper无法保证将进行必要的初始化，因此通过page指令的extends属性使用自己的基类的JSP将禁用标记池。这可能会对性能产生负面影响。提供从Servlet.init（）调用_jspInit（）的替代基类，将此属性设置为<code>true</code>将启用具有备用基类的池。如果备用基类未调用_jspInit（）且此属性为<code>true</code> ，尝试使用标签时会发生NPE。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。
      </p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.compiler. Generator.STRICT_GET_PROPERTY</code></td><td>
      <p>如果<code>true</code> ，要求在中引用对象<code>jsp:getProperty</code>强制执行先前“引入” JSP处理器的操作，如JSP 2.0的JSP.5.3和更高版本规范中所指定。</p>
      <p>如果未指定，则符合规范的默认值为<code>true</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.compiler. Generator.VAR_EXPRESSIONFACTORY</code></td><td>
      <p>用于表达式语言表达式工厂的变量的名称。</p>
      <p>如果未指定，则默认值为<code>_el_expressionfactory</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.compiler. Generator.VAR_INSTANCEMANAGER</code></td><td>
      <p>用于实例管理器工厂的变量的名称。</p>
      <p>如果未指定，则默认值为<code>_jsp_instancemanager</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.compiler. Parser.STRICT_WHITESPACE</code></td><td>
      <p>如果<code>false</code>放宽属性名称之前对空格的要求，以便缺少空格不会导致错误。</p>
      <p>如果未指定，则符合规范的默认值为<code>true</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.runtime. BodyContentImpl.BUFFER_SIZE</code></td><td>
      <p>创建标签缓冲区时要使用的大小（以字符为单位）。</p>
      <p>如果未指定，则默认值为<code>org.apache.jasper.Constants.DEFAULT_TAG_BUFFER_SIZE</code> （512）将被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.runtime. BodyContentImpl.LIMIT_BUFFER</code></td><td>
      <p>如果<code>true</code> ，任何扩展到<code>org.apache.jasper.runtime.BodyContentImpl.BUFFER_SIZE</code>将被销毁并创建一个新的缓冲区。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.runtime. JspFactoryImpl.USE_POOL</code></td><td>
      <p>如果<code>true</code> ，一个ThreadLocal <code>PageContext</code>池将被使用。</p>
      <p>如果未指定，则默认值为<code>true</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.runtime. JspFactoryImpl.POOL_SIZE</code></td><td>
      <p>ThreadLocal的大小<code>PageContext</code> 。</p>
      <p>如果未指定，则默认值为<code>8</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. JSP_SERVLET_BASE</code></td><td>
      <p>从JSP生成的Servlet的基类。</p>
      <p>如果未指定，则默认值为<code>org.apache.jasper.runtime.HttpJspBase</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. SERVICE_METHOD_NAME</code></td><td>
      <p>基类调用的服务方法的名称。</p>
      <p>如果未指定，则默认值为<code>_jspService</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. SERVLET_CLASSPATH</code></td><td>
      <p>提供JSP的类路径的ServletContext属性的名称。</p>
      <p>如果未指定，则默认值为<code>org.apache.catalina.jsp_classpath</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. JSP_FILE</code></td><td>
      <p>的请求属性名称<code><jsp-file></code> Servlet定义的元素。如果存在于请求中，则它将覆盖<code>request.getServletPath()</code>选择要执行的JSP页面。</p>
      <p>如果未指定，则默认值为<code>org.apache.catalina.jsp_file</code>将会被使用。</p>
      <p><strong>不推荐使用：</strong>将从Tomcat 9.0.x开始将其删除。使用jspFile Servlet初始化参数代替它</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. PRECOMPILE</code></td><td>
      <p>导致JSP引擎仅预生成servlet而不调用它的查询参数的名称。</p>
      <p>如果未指定，则默认值为<code>jsp_precompile</code>将按照JSP规范（JSP.11.4.2）的定义使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. JSP_PACKAGE_NAME</code></td><td>
      <p>编译的JSP的默认软件包名称。</p>
      <p>如果未指定，则默认值为<code>org.apache.jsp</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. TAG_FILE_PACKAGE_NAME</code></td><td>
      <p>从标记文件生成的标记处理程序的默认软件包名称。</p>
      <p>如果未指定，则默认值为<code>org.apache.jsp.tag</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. ALT_DD_ATTR</code></td><td>
      <p>Servlet上下文属性，用于存储此Web应用程序的备用部署描述符的属性。</p>
      <p>如果未指定，则默认值为<code>org.apache.catalina.deploy.alt_dd</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. TEMP_VARIABLE_NAME_PREFIX</code></td><td>
      <p>用于生成的临时变量名称的前缀。</p>
      <p>如果未指定，则默认值为<code>_jspx_temp</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.jasper.Constants. USE_INSTANCE_MANAGER_FOR_TAGS</code></td><td>
      <p>如果<code>true</code> ，实例管理器用于获取标签处理程序实例。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr></tbody></table>

</div><h3 id="Security">安全</h3><div class="text">

  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">org.apache.catalina.connector. RECYCLE_FACADES</code></td><td>
      <p>如果是这样<code>true</code>如果正在使用安全管理器，则将为每个请求创建一个新的外观对象。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.connector. CoyoteAdapter.ALLOW_BACKSLASH</code></td><td>
      <p>如果是这样<code>true</code> “ \”字符将被用作路径定界符。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat.util.buf. UDecoder.ALLOW_ENCODED_SLASH</code></td><td>
      <p>如果是这样<code>true</code>允许'％2F'和'％5C'作为路径定界符。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr></tbody></table>

</div><h3 id="Specifications">技术指标</h3><div class="text">

  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">org.apache.catalina. STRICT_SERVLET_COMPLIANCE</code></td><td>
      <p>此系统属性的默认值为<code>false</code> 。</p>
      <p>如果是这样<code>true</code>默认值将更改为：</p>
      <ul>
      <li><code>org.apache.catalina.core.<br>ApplicationContext.GET_RESOURCE_REQUIRE_SLASH</code></li>
      <li><code>org.apache.catalina.core.<br>ApplicationDispatcher.WRAP_SAME_OBJECT</code></li>
      <li><code>org.apache.catalina.core.<br>StandardHostValve.ACCESS_SESSION</code></li>
      <li><code>org.apache.catalina.session.<br>StandardSession.ACTIVITY_CHECK</code></li>
      <li><code>org.apache.catalina.session.<br>StandardSession.LAST_ACCESS_AT_START</code></li>
      <li><code>org.apache.tomcat.util.http.<br>ServerCookie.STRICT_NAMING</code></li>
      <li>的<code>URIEncoding</code>任何<a href="http.html">HTTP连接器</a>或<a href="ajp.html">AJP连接器</a>元素的属性。</li>
      <li>的<code>resourceOnlyServlets</code>任何<a href="context.html">Context</a>元素的属性。</li>
      <li>的<code>tldValidation</code>任何<a href="context.html">Context</a>元素的属性。</li>
      <li>的<code>useRelativeRedirects</code>任何<a href="context.html">Context</a>元素的属性。</li>
      <li>的<code>xmlNamespaceAware</code>任何<a href="context.html">Context</a>元素的属性。</li>
      <li>的<code>xmlValidation</code>任何<a href="context.html">Context</a>元素的属性。</li>
      </ul>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.connector. Response.ENFORCE_ENCODING_IN_GET_WRITER</code></td><td>
      <p>如果是这样<code>true</code>然后致电<code>Response.getWriter()</code>如果未指定字符编码，将导致后续调用<code>Response.getCharacterEncoding()</code>返回<code>ISO-8859-1</code>和<code>Content-Type</code>响应标头将包含一个<code>charset=ISO-8859-1</code>零件。（SRV.15.2.22.1）</p>
      <p>如果未指定，则默认规范兼容值<code>true</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.core.ApplicationContext .GET_RESOURCE_REQUIRE_SLASH</code></td><td>
      <p>如果是这样<code>true</code>然后路径传递到<code>ServletContext.getResource()</code>要么<code>ServletContext.getResourceAsStream()</code>必须以“ /”开头。如果<code>false</code> ，类似<code>getResource("myfolder/myresource.txt")</code>将工作，因为Tomcat将在提供的路径前加上“ /”。</p>
      <p>如果<code>org.apache.catalina.STRICT_SERVLET_COMPLIANCE</code>被设定为<code>true</code> ，此设置的默认值为<code>true</code> ，否则默认值为<code>false</code> 。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.core. ApplicationDispatcher.WRAP_SAME_OBJECT</code></td><td>
      <p>如果是这样<code>true</code>然后将检查传递给应用程序分派器的所有包装的请求或响应对象，以确保它包装了原始请求或响应。</p>
      <p>如果<code>org.apache.catalina.STRICT_SERVLET_COMPLIANCE</code>被设定为<code>true</code> ，此设置的默认值为<code>true</code> ，否则默认值为<code>false</code> 。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat.websocket. STRICT_SPEC_COMPLIANCE</code></td><td>
      <p>此系统属性的默认值为<code>false</code> 。</p>
      <p>如果是这样<code>true</code>默认值将更改为：</p>
      <ul>
        <li><code>org.apache.tomcat.websocket.server#isEnforceNoAddAfterHandshake</code> （默认更改为<code>false</code>至<code>true</code> ）</li>
      </ul>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat.util.http. ServerCookie.STRICT_NAMING</code></td><td>
      <p>如果是这样<code>true</code>然后将执行Servlet规范中Cookie名称必须遵守RFC2109的要求。如果是这样<code>false</code>将使用RFC6265中指定的命名规则（允许前导“ $”）。</p>
      <p>如果<code>org.apache.catalina.STRICT_SERVLET_COMPLIANCE</code>被设定为<code>true</code> ，此设置的默认值为<code>true</code> ，否则默认值为<code>false</code> 。</p>
    </td></tr></tbody></table>

</div><h3 id="Sessions">届会</h3><div class="text">

  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">org.apache.catalina.authenticator. Constants.SSO_SESSION_COOKIE_NAME</code></td><td>
      <p>会话cookie上单点登录的替代名称。默认为<code>JSESSIONIDSSO</code> 。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.core. StandardHostValve.ACCESS_SESSION</code></td><td>
      <p>如果是这样<code>true</code> ，则与该会话相关联的每个请求都将导致更新该会话的上次访问时间，无论该请求是否显式访问该会话。</p>
      <p>如果<code>org.apache.catalina.STRICT_SERVLET_COMPLIANCE</code>被设定为<code>true</code> ，此设置的默认值为<code>true</code> ，否则默认值为<code>false</code> 。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.session. StandardSession.ACTIVITY_CHECK</code></td><td>
      <p>如果是这样<code>true</code> ，Tomcat将跟踪每个会话的活动请求数。在确定会话是否有效时，任何具有至少一个活动请求的会话将始终被视为有效。</p>
      <p>如果<code>org.apache.catalina.STRICT_SERVLET_COMPLIANCE</code>被设定为<code>true</code> ，此设置的默认值为<code>true</code> ，否则默认值为<code>false</code> 。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.session. StandardSession.LAST_ACCESS_AT_START</code></td><td>
      <p>如果是这样<code>true</code> ，会话的上次访问时间将从上一个请求的开头开始计算。如果<code>false</code> ，会话的上次访问时间将从上一个请求的结尾开始计算。这也会影响空闲时间的计算方式。</p>
      <p>如果<code>org.apache.catalina.STRICT_SERVLET_COMPLIANCE</code>被设定为<code>true</code> ，此设置的默认值为<code>true</code> ，否则默认值为<code>false</code> 。</p>
    </td></tr></tbody></table>

</div><h3 id="Logging">记录中</h3><div class="text">

  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">org.apache.juli.formatter</code></td><td>
      <p>如果未指定日志记录配置文件，并且未使用来指定日志记录配置类<code>java.util.logging.config.class</code>和<code>java.util.logging.config.file</code>属性默认的日志框架<code>org.apache.juli</code>将使用默认值<code>java.util.logging.SimpleFormatter</code>用于所有控制台输出。要简单地覆盖控制台输出格式化程序，可以使用描述的属性。例：<code>-Dorg.apache.juli.formatter=org.apache.juli.OneLineFormatter</code></p>
    </td></tr><tr><td><code class="propertyName">org.apache.juli. AsyncMaxRecordCount</code></td><td>
      <p>JULI AsyncFileHandler将在内存中排队的最大日志记录数。新记录将添加到队列中，并从队列中异步删除，并由单个编写器线程将其写入文件。当队列已满并且正在记录新记录时，将根据<code>org.apache.juli.AsyncOverflowDropType</code>设置。</p>
      <p>默认值为<code>10000</code>记录。此数字表示全局记录数，而不是每个处理程序的总和。
      </p>
    </td></tr><tr><td><code class="propertyName">org.apache.juli. AsyncOverflowDropType</code></td><td>
      <p>当JULI AsyncFileHandler的日志记录队列已满时，将根据以下设置处理新的日志记录：</p>
         <ul>
           <li><code>1</code> -队列中的最新记录将被删除而不记录</li>
           <li><code>2</code> -队列中最旧的记录将被删除而不记录</li>
           <li><code>3</code> -挂起日志记录线程，直到将较旧的记录写入日志文件并且队列不再满为止。这是确保没有消息丢失的唯一设置。</li>
           <li><code>4</code> -删除当前日志记录</li>
         </ul>
      <p>默认值为<code>1</code> （将最新记录删除到队列中）。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.juli. AsyncLoggerPollInterval</code></td><td>
      <p>异步记录器线程的轮询间隔（以毫秒为单位）。如果日志队列为空，则异步线程将发出轮询（轮询间隔），以免太频繁地唤醒。</p>
      <p>默认值为<code>1000</code>毫秒。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.juli.logging. UserDataHelper.CONFIG</code></td><td>
      <p>用于无效输入数据生成的错误的日志记录类型。选项包括： <code>DEBUG_ALL</code> ， <code>INFO_THEN_DEBUG</code> ， <code>INFO_ALL</code>和<code>NONE</code> 。什么时候<code>INFO_THEN_DEBUG</code>使用时，在DEBUG而不是INFO记录错误的时间由系统属性控制<code>org.apache.juli.logging.UserDataHelper.SUPPRESSION_TIME</code> 。
         </p>
      <p>默认值为<code>INFO_THEN_DEBUG</code> 。</p>
      <p>当前使用此系统记录的错误是：</p>
         <ul>
         <li>无效的cookie;</li>
         <li>参数无效；</li>
         <li>标头太多，参数太多（命中<code>maxHeaderCount</code>要么<code>maxParameterCount</code> <a href="http.html">连接器的</a>极限）。</li>
         <li>无效的主机名</li>
         </ul>
         <p>由无效输入数据触发的其他错误可能会在以后的版本中添加到此系统中。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.juli.logging. UserDataHelper.SUPPRESSION_TIME</code></td><td>
      <p>使用时<code>INFO_THEN_DEBUG</code>对于<code>org.apache.juli.logging.UserDataHelper.CONFIG</code>此系统属性控制将消息记录在INFO之后在DEBUG记录消息的时间。一旦此时间段过去，下一条消息将被记录在INFO，然后是一个新的禁止周期，在此期间，消息将被记录在DEBUG，依此类推。该值以秒为单位。</p>
      <p>值<code>0</code>相当于使用<code>INFO_ALL</code>对于<code>org.apache.juli.logging.UserDataHelper.CONFIG</code> 。</p>
      <p>负值表示无限的抑制周期。</p>
      <p>默认值为<code>86400</code> （24小时）。</p>
    </td></tr></tbody></table>

</div><h3 id="JAR_Scanning">JAR扫描</h3><div class="text">

  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">tomcat.util.scan. StandardJarScanFilter.jarsToSkip</code></td><td>
      <p>逗号分隔文件名模式的列表，用作其默认值<code>pluggabilitySkip</code>和<code>tldSkip</code>标准<a href="jar-scan-filter.html">JarScanFilter</a>实现的属性。</p>
      <p>编码的默认值为空，但是系统属性是通过默认的Tomcat安装中的<code>$CATALINA_BASE/conf/catalina.properties</code>文件。</p>
    </td></tr><tr><td><code class="propertyName">tomcat.util.scan. StandardJarScanFilter.jarsToScan</code></td><td>
      <p>逗号分隔文件名模式的列表，用作其默认值<code>pluggabilityScan</code>和<code>tldScan</code>标准<a href="jar-scan-filter.html">JarScanFilter</a>实现的属性。</p>
      <p>编码的默认值为空，但是系统属性是通过默认的Tomcat安装中的<code>$CATALINA_BASE/conf/catalina.properties</code>文件。</p>
    </td></tr></tbody></table>

</div><h3 id="Websockets">网络套接字</h3><div class="text">

  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">org.apache.tomcat. websocket.ALLOW_UNSUPPORTED_EXTENSIONS</code></td><td>
      <p>如果<code>true</code> ，允许用户声明未知的扩展名。</p>
      <p>默认值为<code>false</code> 。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat. websocket.DEFAULT_ORIGIN_HEADER_VALUE</code></td><td>
      <p>客户端在升级握手期间将发送的原始标头的默认值。</p>
      <p>默认值为null，因此不发送任何原始标头。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat. websocket.DEFAULT_PROCESS_PERIOD</code></td><td>
      <p>周期处理之间的周期滴答的数量，尤其涉及会话期满检查。</p>
      <p>默认值为<code>10</code>相当于10秒。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat. websocket.DISABLE_BUILTIN_EXTENSIONS</code></td><td>
      <p>如果<code>true</code> ，请禁用服务器提供的所有内置扩展名，例如消息压缩。</p>
      <p>默认值为<code>false</code> 。</p>
    </td></tr></tbody></table>

</div><h3 id="Other">其他</h3><div class="text">

  <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="propertyName">catalina.useNaming</code></td><td>
      <p>如果是这样<code>false</code>它将覆盖<code>useNaming</code>所有<a href="context.html">上下文</a>元素的属性。</p>
    </td></tr><tr><td><code class="propertyName">javax.sql.DataSource.Factory</code></td><td>
      <p>用于创建类型资源的工厂的类名称<code>javax.sql.DataSource</code> 。如果未指定默认值<code>org.apache.tomcat.dbcp.dbcp2.BasicDataSourceFactory</code>使用，它是一个重命名（以避免冲突） <a href="https://commons.apache.org/dbcp">Apache Commons DBCP 2</a>副本的软件包。</p>
    </td></tr><tr><td><code class="propertyName">javax.mail.Session.Factory</code></td><td>
      <p>用于创建类型资源的工厂的类名称<code>javax.mail.Session</code> 。如果未指定默认值<code>org.apache.naming.factory.MailSessionFactory</code>用来。</p>
    </td></tr><tr><td><code class="propertyName">jvmRoute</code></td><td>
      <p>提供默认值<code>jvmRoute</code> <a href="engine.html">Engine</a>元素的属性。它不会覆盖在<a href="engine.html">Engine</a>元素上配置的值。</p>
    </td></tr><tr><td><code class="propertyName">catalina.config</code></td><td>
      <p>加载catalina.properties配置文件的位置。这可以是绝对URL，相对于（相对于当前工作目录的）URL或备用文件名，在这种情况下，Tomcat会尝试从默认位置加载文件。 <code>$CATALINA_BASE/conf/</code> 。</p>
    </td></tr><tr><td><code class="propertyName">tomcat.util.buf.StringCache.byte.enabled</code></td><td>
      <p>如果<code>true</code> ，启用了字符串缓存<code>ByteChunk</code> 。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">tomcat.util.buf.StringCache.char.enabled</code></td><td>
      <p>如果<code>true</code> ，启用了字符串缓存<code>CharChunk</code> 。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">tomcat.util.buf.StringCache.trainThreshold</code></td><td>
      <p>次数<code>toString()</code>必须在激活缓存之前调用它。</p>
      <p>如果未指定，则默认值为<code>20000</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">tomcat.util.buf.StringCache.cacheSize</code></td><td>
      <p>字符串缓存的大小。</p>
      <p>如果未指定，则默认值为<code>200</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat.util.buf.UriUtil. WAR_SEPARATOR</code></td><td>
      <p>使用Tomcat提供的自定义WAR方案来分隔WAR URL的WAR文件和WAR内容部分的字符。这等效于<code>!</code>在JAR URL中使用。</p>
      <p>如果未指定，则默认值为<code>*</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">tomcat.util.buf.StringCache.maxStringSize</code></td><td>
      <p>将被缓存的String的最大长度。</p>
      <p>如果未指定，则默认值为<code>128</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat.util. http.FastHttpDateFormat.CACHE_SIZE</code></td><td>
      <p>要使用已解析和格式化的日期值的缓存大小。</p>
      <p>如果未指定，则默认值为<code>1000</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.tomcat.util. net.NioSelectorShared</code></td><td>
      <p>如果<code>true</code> ，使用共享选择器进行servlet的读写。</p>
      <p>如果未指定，则默认值为<code>true</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.startup. EXIT_ON_INIT_FAILURE</code></td><td>
      <p>如果<code>true</code> ，如果服务器初始化阶段发生异常，则服务器将退出。为了支持此功能，此系统属性用作连接器的<strong>throwOnFailure</strong>属性的默认值。</p>
      <p>如果未指定，则默认值为<code>false</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.startup. RealmRuleSet.MAX_NESTED_REALM_LEVELS</code></td><td>
      <p>CombinedRealm允许嵌套领域。此属性控制嵌套级别的最大允许数量。</p>
      <p>如果未指定，则默认值为<code>3</code>将会被使用。</p>
    </td></tr><tr><td><code class="propertyName">org.apache.catalina.startup. CredentialHandlerRuleSet.MAX_NESTED_LEVELS</code></td><td>
      <p>NestedCredentialHandler允许嵌套的CredentialHandlers。此属性控制嵌套级别的最大允许数量。</p>
      <p>如果未指定，则默认值为<code>3</code>将会被使用。</p>
    </td></tr></tbody></table>

</div><div class="noprint"><h3 id="comments_section">评论</h3><div class="text"><p class="notice"><strong>注意：</strong>此注释部分收集有关改进Apache Tomcat文档的建议。<br><br>如果您遇到问题并需要帮助，请阅读“ <a href="https://tomcat.apache.org/findhelp.html">查找帮助”</a>页面，然后在tomcat-users <a href="https://tomcat.apache.org/lists.html">邮件列表中</a>询问您的问题。不要在这里问这样的问题。这不是“问答”部分。<br><br><a href="../comments.html">这里</a>解释<a href="../comments.html">了</a> Apache Comments System。如果评论已被实施或被认为无效/偏离主题，则我们的主持人可能会将其删除。
                  </p><div id="comments_thread"></div></div></div></div></div></div></div><footer><div id="footer">版权所有©1999-2019，Apache软件基金会</div></footer></div></body></html>