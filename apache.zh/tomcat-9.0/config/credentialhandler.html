<html lang="zh-Hans" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link href="../images/docs-stylesheet.css" rel="stylesheet" type="text/css"><title>Apache Tomcat 9配置参考（9.0.21）-CredentialHandler组件</title><script type="application/javascript" data-comments-identifier="tomcat-9.0-doc/config/credentialhandler">
    "use strict"; // Enable strict mode

    (function() {
      var thisScript = document.currentScript;
      if (!thisScript) { // Workaround for IE <= 11
        var scripts = document.getElementsByTagName("script");
        thisScript = scripts[scripts.length - 1];
      }
      document.addEventListener("DOMContentLoaded", (function() {
        var commentsDiv = document.getElementById("comments_thread");
        var commentsShortname = "tomcat";
        var commentsIdentifier = "https://tomcat.apache.org/" +
          thisScript.getAttribute("data-comments-identifier") + ".html";

        (function(w, d) {
          if (w.location.hostname.toLowerCase() == "tomcat.apache.org") {
            var s = d.createElement("script");
            s.type = "application/javascript";
            s.async = true;
            s.src = "https://comments.apache.org/show_comments.lua?site=" +
              encodeURIComponent(commentsShortname) +
              "&page=" + encodeURIComponent(commentsIdentifier);
            d.head.appendChild(s);
          } else {
            commentsDiv.appendChild(d.createTextNode("Comments are disabled for this page at the moment."));
          }
        })(window, document);
      }), false);
    })();
  </script></head><body ><div id="wrapper"><header><div id="header"><div><div><div class="logo noPrint"><a href="https://tomcat.apache.org/"><img alt="Tomcat主页" src="../images/tomcat.png"></a></div><div style="height:1px"></div><div class="asfLogo noPrint"><a href="https://www.apache.org/" target="_blank"><img src="../images/asf-logo.svg" alt="Apache软件基金会" style="width:266px;height:83px"></a></div><h1>Apache Tomcat 9配置参考</h1><div class="versionInfo">版本9.0.21， <time datetime="2019-06-04"> 2019年6月4日</time></div><div style="height:1px"></div><div style="clear:left"></div></div></div></div></header><div id="middle"><div><div id="mainLeft" class="noprint"><div><nav><div><h2>链接</h2><ul><li><a href="../index.html">文件首页</a></li><li><a href="index.html">配置参考家</a></li><li><a href="https://wiki.apache.org/tomcat/FAQ">常问问题</a></li><li><a href="#comments_section">用户评论</a></li></ul></div><div><h2>顶级元素</h2><ul><li><a href="server.html">服务器</a></li><li><a href="service.html">服务</a></li></ul></div><div><h2>执行者</h2><ul><li><a href="executor.html">执行者</a></li></ul></div><div><h2>连接器</h2><ul><li><a href="http.html">HTTP / 1.1</a></li><li><a href="http2.html">HTTP / 2</a></li><li><a href="ajp.html">AJP</a></li></ul></div><div><h2>货柜</h2><ul><li><a href="context.html">语境</a></li><li><a href="engine.html">发动机</a></li><li><a href="host.html">主办</a></li><li><a href="cluster.html">簇</a></li></ul></div><div><h2>嵌套组件</h2><ul><li><a href="cookie-processor.html">Cookie处理器</a></li><li><a href="credentialhandler.html">凭证处理程序</a></li><li><a href="globalresources.html">全球资源</a></li><li><a href="jar-scanner.html">JarScanner</a></li><li><a href="jar-scan-filter.html">JarScanFilter</a></li><li><a href="listeners.html">听众</a></li><li><a href="loader.html">装载机</a></li><li><a href="manager.html">经理</a></li><li><a href="realm.html">领域</a></li><li><a href="resources.html">资源资源</a></li><li><a href="sessionidgenerator.html">SessionIdGenerator</a></li><li><a href="valve.html">阀</a></li></ul></div><div><h2>集群元素</h2><ul><li><a href="cluster.html">簇</a></li><li><a href="cluster-manager.html">经理</a></li><li><a href="cluster-channel.html">渠道</a></li><li><a href="cluster-membership.html">频道/会员</a></li><li><a href="cluster-sender.html">频道/发件人</a></li><li><a href="cluster-receiver.html">频道/接收器</a></li><li><a href="cluster-interceptor.html">通道/拦截器</a></li><li><a href="cluster-valve.html">阀</a></li><li><a href="cluster-deployer.html">部署者</a></li><li><a href="cluster-listener.html">集群监听器</a></li></ul></div><div><h2>web.xml</h2><ul><li><a href="filter.html">过滤</a></li></ul></div><div><h2>其他</h2><ul><li><a href="systemprops.html">系统属性</a></li><li><a href="jaspic.html">日本宝石</a></li></ul></div></nav></div></div><div id="mainRight"><div id="content"><h2>CredentialHandler组件</h2><h3 id="Table_of_Contents">目录</h3><div class="text">
<ul><li><a href="#Introduction">介绍</a></li><li><a href="#Attributes">属性</a><ol><li><a href="#Common_Attributes">共同属性</a></li><li><a href="#MessageDigestCredentialHandler">MessageDigestCredentialHandler</a></li><li><a href="#NestedCredentialHandler">NestedCredentialHandler</a></li><li><a href="#SecretKeyCredentialHandler">SecretKeyCredentialHandler</a></li></ol></li><li><a href="#Nested_Components">嵌套组件</a></li><li><a href="#Special_Features">特殊功能</a></li></ul>
</div><h3 id="Introduction">介绍</h3><div class="text">

  <p><strong>CredentialHandler</strong>元素表示<a href="realm.html">Realm</a>用来将提供的凭据（例如密码）与<a href="realm.html">Realm</a>存储的凭据版本进行比较的组件。<strong>CredentialHandler</strong>也可用于生成所需凭据的新存储版本，例如，在将新用户添加到<a href="realm.html">Realm</a>或更改用户密码时，将需要使用该<strong>凭据</strong> 。</p>

  <p>一个<strong>CredentialHandler</strong>元素必须嵌套在一个<a href="realm.html">Realm</a>组件中。如果不包括它，则将使用<strong>MessageDigestCredentialHandler</strong>创建默认的<strong>CredentialHandler</strong> 。</p>

</div><h3 id="Attributes">属性</h3><div class="text">

  <div class="subsection"><h4 id="Common_Attributes">共同属性</h4><div class="text">

    <p><strong>CredentialHandler的</strong>所有实现都支持以下属性：</p>

    <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><strong><code class="attributeName">className</code></strong></td><td>
        <p>使用的Java类名称。此类必须实现<code>org.apache.catalina.CredentialHandler</code>接口。</p>
      </td></tr></tbody></table>

    <p>与大多数Catalina组件不同，有几种可用的标准<strong>CredentialHandler</strong>实现。结果，如果存在<strong>CredentialHandler</strong>元素，则<code>className</code>属性必须用于选择您要使用的实现。</p>

  </div></div>


  <div class="subsection"><h4 id="MessageDigestCredentialHandler">MessageDigestCredentialHandler</h4><div class="text">

    <p>当存储的密码受消息摘要保护时，将使用<strong>MessageDigestCredentialHandler</strong> 。此凭证处理程序支持以下形式的存储密码：</p>
    <ul>
      <li><strong>plainText-</strong>如果未指定算法，则为纯文本凭据</li>
      <li><strong>encodeCredential-</strong>使用配置的摘要摘要的密码的十六进制编码摘要</li>
      <li><strong>{MD5} encodedCredential-</strong>密码的Base64编码MD5摘要</li>
      <li><strong>{SHA} encodedCredential-</strong>密码的Base64编码SHA1摘要</li>
      <li><strong>{SSHA} encodedCredential</strong> -20个字符的盐，后跟盐化的SHA1摘要Base64编码</li>
      <li><strong>salt $ iterationCount $ encodedCredential-</strong>十六进制编码的salt，迭代代码和十六进制编码的凭证，每个凭证之间用$分隔</li>
    </ul>

    <p>如果存储的密码表不包含迭代次数，则使用迭代次数1。</p>

    <p>如果存储的密码表不包含盐，则不使用盐。</p>

    <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="attributeName">algorithm</code></td><td>
        <p>的名称<code>java.security.MessageDigest</code>用于对存储在数据库中的用户密码进行编码的算法。如果未指定，则假定用户密码以明文形式存储。</p>
      </td></tr><tr><td><code class="attributeName">encoding</code></td><td>
        <p>消化密码要求将其转换为字节。此属性确定用于字符和字节之间转换的字符编码。如果未指定，将使用UTF-8。</p>
      </td></tr><tr><td><code class="attributeName">iterations</code></td><td>
        <p>根据明文凭证创建新的存储凭证时要使用的迭代次数。</p>
      </td></tr><tr><td><code class="attributeName">saltLength</code></td><td>
        <p>从明文凭证创建新的存储凭证时要使用的随机生成的盐的长度。</p>
      </td></tr></tbody></table>

  </div></div>

  <div class="subsection"><h4 id="NestedCredentialHandler">NestedCredentialHandler</h4><div class="text">

    <p><strong>NestedCredentialHandler</strong>是<strong>CredentialHandler的</strong>一种实现，委托给一个或多个sub-CredentialHandlers。</p>

    <p>使用<strong>NestedCredentialHandler</strong>使开发人员能够组合相同或不同类型的多个<strong>CredentialHandler</strong> 。</p>

    <p>Sub-CredentialHandlers是通过将CredentialHandler元素嵌套在<code>CredentialHandler</code>定义NestedCredentialHandler的元素。凭证将与每个凭证匹配<code>CredentialHandler</code>按照它们列出的顺序。与任何CredentialHandler匹配将足以使凭据被视为匹配。</p>

  </div></div>

  <div class="subsection"><h4 id="SecretKeyCredentialHandler">SecretKeyCredentialHandler</h4><div class="text">

    <p>当使用以下命令构建存储的密码时，将使用<strong>SecretKeyCredentialHandler</strong> <code>javax.crypto.SecretKeyFactory</code> 。此凭证处理程序支持以下形式的存储密码：</p>
    <ul>
      <li><strong>salt $ iterationCount $ encodedCredential-</strong>十六进制编码的salt，迭代代码和十六进制编码的凭证，每个凭证之间用$分隔</li>
    </ul>

    <p>如果存储的密码表不包含迭代次数，则使用迭代次数1。</p>

    <p>如果存储的密码表不包含盐，则不使用盐。</p>

    <table class="defaultTable"><tbody><tr><th style="width:15%">属性</th><th style="width:85%">描述</th></tr><tr><td><code class="attributeName">algorithm</code></td><td>
        <p>用来对存储在数据库中的用户密码进行编码的密钥算法的名称。如果未指定，则默认为<code>PBKDF2WithHmacSHA1</code>用来。</p>
      </td></tr><tr><td><code class="attributeName">keyLength</code></td><td>
        <p>为存储的凭证生成的密钥的长度。如果未指定，则默认为<code>160</code>用来。</p>
      </td></tr><tr><td><code class="attributeName">iterations</code></td><td>
        <p>根据明文凭证创建新的存储凭证时要使用的迭代次数。</p>
      </td></tr><tr><td><code class="attributeName">saltLength</code></td><td>
        <p>从明文凭证创建新的存储凭证时要使用的随机生成的盐的长度。</p>
      </td></tr></tbody></table>

  </div></div>

</div><h3 id="Nested_Components">嵌套组件</h3><div class="text">

  <p>如果您使用的是<em>NestedCredentialHandler实现</em>或一个扩展NestedCredentialHandler一个或多个的CredentialHandler <strong><credentialhandler></credentialhandler></strong>元素可能嵌套在其中。
  </p>

</div><h3 id="Special_Features">特殊功能</h3><div class="text">

  <p>没有特殊功能与<strong>CredentialHandler</strong>元素相关联。</p>

</div><div class="noprint"><h3 id="comments_section">评论</h3><div class="text"><p class="notice"><strong>注意：</strong>此注释部分收集有关改进Apache Tomcat文档的建议。<br><br>如果您遇到问题并需要帮助，请阅读“ <a href="https://tomcat.apache.org/findhelp.html">查找帮助”</a>页面，然后在tomcat-users <a href="https://tomcat.apache.org/lists.html">邮件列表中</a>询问您的问题。不要在这里问这样的问题。这不是“问答”部分。<br><br><a href="../comments.html">这里</a>解释<a href="../comments.html">了</a> Apache Comments System。如果评论已被实施或被认为无效/偏离主题，则我们的主持人可能会将其删除。
                  </p><div id="comments_thread"></div></div></div></div></div></div></div><footer><div id="footer">版权所有©1999-2019，Apache软件基金会</div></footer></div></body></html>