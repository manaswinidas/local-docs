<html lang="zh-Hans" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link href="../images/docs-stylesheet.css" rel="stylesheet" type="text/css"><title>Catalina功能规范（9.0.21）-管理应用-被管理对象</title><meta name="author" content="Craig McClanahan"><script type="application/javascript" data-comments-identifier="tomcat-9.0-doc/funcspecs/fs-admin-objects">
    "use strict"; // Enable strict mode

    (function() {
      var thisScript = document.currentScript;
      if (!thisScript) { // Workaround for IE <= 11
        var scripts = document.getElementsByTagName("script");
        thisScript = scripts[scripts.length - 1];
      }
      document.addEventListener("DOMContentLoaded", (function() {
        var commentsDiv = document.getElementById("comments_thread");
        var commentsShortname = "tomcat";
        var commentsIdentifier = "https://tomcat.apache.org/" +
          thisScript.getAttribute("data-comments-identifier") + ".html";

        (function(w, d) {
          if (w.location.hostname.toLowerCase() == "tomcat.apache.org") {
            var s = d.createElement("script");
            s.type = "application/javascript";
            s.async = true;
            s.src = "https://comments.apache.org/show_comments.lua?site=" +
              encodeURIComponent(commentsShortname) +
              "&page=" + encodeURIComponent(commentsIdentifier);
            d.head.appendChild(s);
          } else {
            commentsDiv.appendChild(d.createTextNode("Comments are disabled for this page at the moment."));
          }
        })(window, document);
      }), false);
    })();
  </script></head><body ><div id="wrapper"><header><div id="header"><div><div><div class="logo noPrint"><a href="https://tomcat.apache.org/"><img alt="Tomcat主页" src="../images/tomcat.png"></a></div><div style="height:1px"></div><div class="asfLogo noPrint"><a href="https://www.apache.org/" target="_blank"><img src="../images/asf-logo.svg" alt="Apache软件基金会" style="width:266px;height:83px"></a></div><h1>卡塔利娜功能规格</h1><div class="versionInfo">版本9.0.21， <time datetime="2019-06-04"> 2019年6月4日</time></div><div style="height:1px"></div><div style="clear:left"></div></div></div></div></header><div id="middle"><div><div id="mainLeft" class="noprint"><div><nav><div><h2>链接</h2><ul><li><a href="../index.html">文件首页</a></li><li><a href="index.html">功能规格</a></li><li><a href="https://wiki.apache.org/tomcat/FAQ">常问问题</a></li><li><a href="#comments_section">用户评论</a></li></ul></div><div><h2>行政应用</h2><ul><li><a href="fs-admin-apps.html">总体要求</a></li><li><a href="mbean-names.html">Tomcat MBean名称</a></li><li><a href="fs-admin-objects.html">管理对象</a></li><li><a href="fs-admin-opers.html">支持的运营</a></li></ul></div><div><h2>内部Servlet</h2><ul><li><a href="fs-default.html">默认Servlet</a></li></ul></div><div><h2>领域实现</h2><ul><li><a href="fs-jdbc-realm.html">JDBC领域</a></li><li><a href="fs-jndi-realm.html">JNDI领域</a></li><li><a href="fs-memory-realm.html">内存领域</a></li></ul></div></nav></div></div><div id="mainRight"><div id="content"><h2>管理应用程序-被管理对象</h2><h3 id="Table_of_Contents">目录</h3><div class="text">
<ul><li><a href="#Administered_Objects_Overview">受管理对象概述</a></li><li><a href="#Access_Logger">存取记录器</a></li><li><a href="#Connector">连接器</a></li><li><a href="#Context">语境</a></li><li><a href="#Default_Context">默认上下文</a></li><li><a href="#Default_Deployment_Descriptor">默认部署描述符</a></li><li><a href="#Engine">发动机</a></li><li><a href="#Environment_Entry">环境进入</a></li><li><a href="#Host">主办</a></li><li><a href="#JDBC_Resource">JDBC资源</a></li><li><a href="#Loader">装载机</a></li><li><a href="#Manager">经理</a></li><li><a href="#Realm">领域</a></li><li><a href="#Request_Filter">请求过滤器</a></li><li><a href="#Server">服务器</a></li><li><a href="#Service">服务</a></li></ul>
</div><h3 id="Administered_Objects_Overview">受管理对象概述</h3><div class="text">

<p>本文档定义了代表Catalina Servlet容器的内部体系结构组件的受<em>管对象</em> 。与每个<a href="fs-admin-opers.html">操作</a>相关联的是一组<a href="fs-admin-opers.html">支持的操作</a> ，当管理应用程序“关注”特定的可配置对象时可以执行这些<a href="fs-admin-opers.html">操作</a> 。</p>

<p>定义了以下管理对象：</p>
<ul>
<li><a href="#Access_Logger">存取记录器</a></li>
<li><a href="#Connector">连接器</a></li>
<li><a href="#Context">语境</a></li>
<li><a href="#Default_Context">默认上下文</a></li>
<li><a href="#Default_Deployment_Descriptor">默认部署描述符</a></li>
<li><a href="#Engine">发动机</a></li>
<li><a href="#Environment_Entry">环境进入</a></li>
<li><a href="#Host">主办</a></li>
<li><a href="#JDBC_Resource">JDBC资源</a></li>
<li><a href="#Loader">装载机</a></li>
<li><a href="#Manager">经理</a></li>
<li><a href="#Realm">领域</a></li>
<li><a href="#Request_Filter">请求过滤器</a></li>
<li><a href="#Server">服务器</a></li>
<li><a href="#Service">服务</a></li>
</ul>

</div><h3 id="Access_Logger">存取记录器</h3><div class="text">

  <p><em>Access Logger</em>是可选的<code>Valve</code>可以创建与Web服务器提供的格式相同的请求访问日志。这样的访问日志对于命中数和用户访问跟踪分析程序是有用的输入。Access Logger可以附加到<em>引擎</em> ， <em>主机</em> ， <em>上下文</em>或<em>默认上下文</em> 。</p>

  <p>实现<em>访问记录器</em>的标准组件是<code>org.apache.catalina.valves.AccessLogValve</code> 。它支持以下可配置属性：</p>
  <ul>
  <li><code>debug</code> -调试细节级别。[0]</li>
  <li><code>directory</code> -在其中创建访问日志文件的目录的绝对或相对（相对于$ CATALINA_BASE）路径。[日志]。</li>
  <li><code>pattern</code> -定义要包含在访问日志输出中的字段的模式字符串，或者对于标准访问日志模式而言为“ common”。看到<code>org.apache.catalina.valves.AccessLogValve</code>想要查询更多的信息。 [共同]</li>
  <li><code>prefix</code> -在此访问记录器创建的每个日志文件名的开头添加前缀。</li>
  <li><code>resolveHosts</code> -是否应将IP地址解析为日志中的主机名？[假]</li>
  <li><code>suffix</code> -在此访问记录器创建的每个日志文件名的末尾添加后缀。</li>
  </ul>

</div><h3 id="Connector">连接器</h3><div class="text">

  <p><em>连接器</em>是通信端点的表示，通过它可以从Tomcat客户端接收请求（并将响应返回给它）。管理应用程序应支持Tomcat安装中通常使用的那些连接器，如下所述。</p>

  <p>对于独立使用，支持HTTP / 1.1协议的标准连接器是<code>org.apache.catalina.connectors.http.HttpConnector</code> 。它支持以下可配置属性：</p>
  <ul>
  <li><code>acceptCount</code> -尚未接受的传入连接的最大队列长度。[10]</li>
  <li><code>address</code> -对于具有多个IP地址的服务器，此连接器应侦听的地址。[所有地址]</li>
  <li><code>bufferSize</code> -此连接器创建的请求的默认输入缓冲区大小（以字节为单位）。[2048]</li>
  <li><code>debug</code> -调试细节级别。[0]</li>
  <li><code>enableLookups</code> -何时在远程IP地址上执行DNS查找<code>request.getRemoteHost()</code>叫做？[假]</li>
  <li><code>maxProcessors</code> -此连接器支持的最大处理器线程数。[20]</li>
  <li><code>minProcessors</code> -容器启动时要创建的最少处理器线程数。[5]</li>
  <li><code>port</code> -此连接器应在其上侦听传入请求的TCP / IP端口号。[8080]</li>
  <li><code>proxyName</code> -应用程序调用时要返回的主机名<code>request.getServerName()</code> 。[主机的值：标头]</li>
  <li><code>proxyPort</code> -应用程序调用时要返回的端口号<code>request.getServerPort()</code> 。[和...一样<code>port</code> ]</li>
  </ul>

</div><h3 id="Context">语境</h3><div class="text">

  <p><em>上下文</em>是与相应<em>Host</em>关联的单个Web应用程序的表示。请注意， <em>上下文</em>的可管理属性<strong>不</strong>包括该应用程序的Web应用程序部署描述符中的任何设置。</p>

  <p>实现<em>上下文</em>的标准组件是<code>org.apache.catalina.core.StandardContext</code> 。它支持以下可配置属性：</p>
  <ul>
  <li><code>cookies</code> -应该使用cookie进行会话标识符通信吗？[真正]</li>
  <li><code>crossContext</code> -应该致电给<code>ServletContext.getServletContext()</code>返回负责指定路径的实际上下文？[假]</li>
  <li><code>debug</code> -调试细节级别。[0]</li>
  <li><code>docBase</code> -绝对或相对（相对于<code>appBase</code>含未打包的Web应用程序或Web应用程序归档（WAR）文件的目录的拥有我们的<em>主机</em> ）的路径名。</li>
  <li><code>override</code> -此<em>上下文中的</em>设置是否应覆盖<em>默认上下文</em>中的相应设置？[假]</li>
  <li><code>path</code> -此Web应用程序的上下文路径，或<em>Host</em>的根应用程序的空字符串。[从目录或WAR文件名推断]</li>
  <li><code>reloadable</code> -Tomcat是否应监视<code>/WEB-INF/classes</code>目录中进行更改，如果发生更改，请重新加载应用程序？[假]</li>
  <li><code>useNaming</code> -Tomcat是否应提供对应于Java2 Enterprise Edition规范要求的，包含预配置条目和资源的JNDI命名上下文？[真正]</li>
  <li><code>workDir</code> -提供给该Web应用程序的临时目录的绝对路径名。[相对于$ CATALINA_BASE /作品的自动分配]</li>
  </ul>

  <p>每个<em>上下文</em>均由父<em>Host</em>拥有，并与以下内容关联：</p>
  <ul>
  <li>可选的<em>访问记录器</em> ，用于记录此Web应用程序处理的所有请求。</li>
  <li>零个或多个<em>环境条目，</em>代表与Web应用程序关联的JNDI命名上下文的环境条目。</li>
  <li>零个或多个表示与Web应用程序关联的数据库连接池的<em>JDBC资源</em> 。</li>
  <li><em>装载机</em>表示此web应用所使用的Web应用程序的类加载器。</li>
  <li>代表此Web应用程序使用的会话管理<em>器的Manager</em> 。</li>
  <li>一个可选的<em>领域，</em>用于为该Web应用程序提供身份验证和访问控制信息。</li>
  <li>零个或多个<em>请求过滤器，</em>用于根据远程主机名或IP地址来限制对此Web应用程序的访问。</li>
  </ul>

</div><h3 id="Default_Context">默认上下文</h3><div class="text">

  <p>甲<em>默认上下文</em>表示<em>背景信息</em>的可配置属性的子集，并用于这些属性默认设置时web应用自动部署。<em>默认上下文</em>对象可以与<em>Engine</em>或<em>Host</em>关联。支持以下可配置属性：</p>
  <ul>
  <li><code>cookies</code> -应该使用cookie进行会话标识符通信吗？[真正]</li>
  <li><code>crossContext</code> -应该致电给<code>ServletContext.getServletContext()</code>返回负责指定路径的实际上下文？[假]</li>
  <li><code>reloadable</code> -Tomcat是否应监视<code>/WEB-INF/classes</code>目录中进行更改，如果发生更改，请重新加载应用程序？[假]</li>
  <li><code>useNaming</code> -Tomcat是否应提供对应于Java2 Enterprise Edition规范要求的，包含预配置条目和资源的JNDI命名上下文？[真正]</li>
  </ul>

  <p>每个<em>默认上下文</em>都由父<em>引擎</em>或<em>主机拥有</em> ，并与以下各项关联：</p>
  <ul>
  <li>零个或多个<em>环境条目，</em>代表与Web应用程序关联的JNDI命名上下文的环境条目。</li>
  <li>零个或多个表示与Web应用程序关联的数据库连接池的<em>JDBC资源</em> 。</li>
  <li>可选的<em>Loader，</em>代表已部署的Web应用程序的Loader组件的默认配置属性。</li>
  <li>可选的<em>Manager，</em>表示已部署的Web应用程序的Manager组件的默认配置属性。</li>
  </ul>

</div><h3 id="Default_Deployment_Descriptor">默认部署描述符</h3><div class="text">

  <p>默认Web应用程序特征在名为的特殊部署描述符中配置<code>$CATALINA_BASE/conf/web.xml</code> 。本节描述了可能存储在此处的可配置组件。</p>

  <p><strong>FIXME-</strong>完成对默认servlet，默认映射，默认MIME类型等的描述。</p>

</div><h3 id="Engine">发动机</h3><div class="text">

  <p><em>引擎</em>代表整个Catalina Servlet容器，并处理对所有关联的虚拟主机和Web应用程序的所有请求。</p>

  <p>实现<em>引擎</em>的标准组件是<code>org.apache.catalina.core.StandardEngine</code> 。它支持以下可配置属性：</p>
  <ul>
  <li><code>debug</code> -调试细节级别。[0]</li>
  <li><code>defaultHost</code> -如果所请求的主机未知，则将请求定向到的<em>主机的</em>名称。 [本地主机]</li>
  <li><code>name</code> -此引擎的逻辑名称。[Tomcat独立版]</li>
  </ul>

  <p>每个<em>引擎</em>均由父<em>Service</em>拥有，并与以下各项关联：</p>
  <ul>
  <li>可选的<em>访问日志记录器</em> ，记录整个容器处理的所有请求。</li>
  <li><em>默认上下文</em> ，表示所有关联<em>主机的</em>自动部署应用程序的<em>上下文的</em>默认属性（除非被从属组件覆盖）。</li>
  <li>一个或多个<em>主机</em>表示由该容器支持单个虚拟主机。</li>
  <li>一个<em>领域，</em>用于为所有虚拟主机和Web应用程序提供身份验证和访问控制信息（除非被从属组件覆盖）。</li>
  <li>零个或多个<em>请求过滤器，</em>用于基于远程主机名或IP地址来限制对整个容器的访问。</li>
  </ul>

</div><h3 id="Environment_Entry">环境进入</h3><div class="text">

  <p><em>环境条目</em>是一个<code><env-entry></code> Web应用程序部署描述符中的元素。它将导致在提供给相应<em>Context</em>的JNDI命名上下文中创建相应的条目。支持以下可配置属性：</p>
  <ul>
  <li><code>description</code> -此环境条目的描述。</li>
  <li><code>name</code> -环境条目名称（相对于<code>java:comp/env</code>上下文）</li>
  <li><code>type</code> -环境条目类型（必须是servlet规范中列出的标准Java类之一）。</li>
  <li><code>value</code> -环境输入值（必须可以从String转换为指定的值<code>type</code> 。</li>
  </ul>

</div><h3 id="Host">主办</h3><div class="text">

  <p><em>主机</em>是单个虚拟主机的表示，该虚拟主机具有一组唯一的关联的Web应用程序。</p>

  <p>实现<em>主机</em>的标准组件是<code>org.apache.catalina.core.StandardHost</code> 。它支持以下可配置属性：</p>
  <ul>
  <li><code>aliases</code> -零个或多个与此主机关联的DNS名称（例如，特定的主机可能被命名为<code>www.mycompany.com</code>带别名<code>company.com</code> ）。
      </li>
  <li><code>appBase</code> -从中自动部署Web应用程序的目录的绝对或相对（至$ CATALINA_BASE）路径。</li>
  <li><code>debug</code> -调试细节级别。[0]</li>
  <li><code>name</code> -此对象表示的虚拟主机的DNS名称。</li>
  <li><code>unpackWARs</code> -是否应先解压缩由该虚拟主机部署的Web应用程序存档文件？[真正]</li>
  </ul>

  <p>每个<em>主机</em>均由父<em>引擎</em>拥有，并与以下各项关联：</p>
  <ul>
  <li>可选的<em>访问记录器</em> ，用于记录此虚拟主机处理的所有请求。</li>
  <li>表示在此<em>主机</em>上运行的Web应用程序的一个或多个<em>上下文</em> 。</li>
  <li><em>默认上下文，</em>表示此<em>主机</em>自动部署的Web应用程序的默认<em>上下文</em>属性。</li>
  <li>一个可选的<em>领域，</em>用于为与此虚拟主机关联的所有Web应用程序提供身份验证和访问控制信息（除非被从属组件覆盖）。</li>
  </ul>

  <p><strong>FIXME-</strong>我们应该支持用户Web应用程序功能的配置吗？</p>

</div><h3 id="JDBC_Resource">JDBC资源</h3><div class="text">

  <p><em>JDBC资源</em>代表数据库连接池（即<code>javax.sql.DataSource</code>将在与Web应用程序关联的JNDI命名上下文中对其进行配置并使其可用。</p>

  <p><strong>FIXME-</strong>此管理对象的属性</p>

</div><h3 id="Loader">装载机</h3><div class="text">

  <p><em>Loader</em>表示一个Web应用程序类加载器，它将用于为特定<em>Context</em>提供类加载服务。</p>

  <p>实现<em>加载程序</em>的标准组件是<code>org.apache.catalina.loader.WebappLoader</code> 。它支持以下可配置属性：</p>
  <ul>
  <li><code>reloadable</code> -这个类加载器是否应该检查修改后的类并启动自动重载？[从<code>reloadable</code>相应<em>上下文的</em>属性]</li>
  </ul>

  <p>每个<em>Loader</em>均由父<em>Context</em>拥有。</p>

</div><h3 id="Manager">经理</h3><div class="text">

  <p><em>管理器</em>代表将与特定Web应用程序关联的会话管理器。<strong>FIXME-</strong>添加对高级会话管理器及其关联商店的支持。</p>

  <p>实现<em>Manager</em>的标准组件是<code>org.apache.catalina.session.StandardManager</code> 。它支持以下可配置属性：</p>
  <ul>
  <li><code>maxActiveSessions</code> -允许的最大活动会话数，或-1（无限制）。[-1]</li>
  </ul>

  <p>每个<em>Manager</em>由父<em>Context</em>拥有。</p>

</div><h3 id="Realm">领域</h3><div class="text">

  <p><em>领域</em>代表有关授权用户，其密码以及分配给他们的安全角色的信息的“数据库”。容器将根据Servlet规范在实现容器管理的安全性时使用它。支持几种替代实现。</p>

  <p><code>org.apache.catalina.realm.MemoryRealm</code>在启动时从一个简单的XML文件初始化其用户信息。如果对该文件中的信息进行了更改，则必须重新启动使用该文件的相应Web应用程序，以使更改生效。它支持以下可配置属性：</p>
  <ul>
  <li><code>debug</code> -调试细节级别。[0]</li>
  <li><code>pathname</code> -包含我们的用户信息的XML文件的绝对或相对路径（相对于$ CATALINA_BASE）。 [conf / tomcat-users.xml]</li>
  </ul>

  <p><code>org.apache.catalina.realm.JDBCRealm</code>使用关系数据库（可通过JDBC API访问）包含用户信息。该数据库内容的更改将立即生效；但是，仅当用户最初登录时（而不是根据每个请求）才计算分配给特定用户的角色。支持以下可配置属性：</p>
  <ul>
  <li><code>connectionName</code> -建立JDBC连接时要使用的数据库用户名。</li>
  <li><code>connectionPassword</code> -建立JDBC连接时使用的数据库密码。</li>
  <li><code>connectionURL</code> -建立JDBC连接时要使用的连接URL。</li>
  <li><code>driverName</code> -要使用的JDBC驱动程序的标准Java类名称。</li>
  <li><code>roleNameCol</code> -在“用户角色”表中的列名称，其中包含角色名称。</li>
  <li><code>userCredCol</code> -在“用户”表中的列名，其中包含密码（加密或未加密）。</li>
  <li><code>userNameCol</code> -在“用户”和“用户角色”表中的包含用户名的列名称。</li>
  <li><code>userRoleTable</code> -用户角色表的名称，其中每个分配给特定用户的安全角色都包含一行。该表必须包含由<code>userNameCol</code>和<code>roleNameCol</code>属性。</li>
  <li><code>userTable</code> -用户表的名称，每个授权用户包含一行。该表必须包含由<code>userNameCol</code>和<code>userCredCol</code>属性。
      </li>
  </ul>

  <p><strong>FIXME-</strong>我们是否应提供通过管理应用程序编辑“ tomcat-users.xml”文件内容的机制？</p>

  <p>每个<em>领域</em>都由父<em>引擎</em> ， <em>主机</em>或<em>上下文拥有</em> 。</p>

</div><h3 id="Request_Filter">请求过滤器</h3><div class="text">

  <p><strong>FIXME-</strong>完成此条目</p>

</div><h3 id="Server">服务器</h3><div class="text">

  <p><strong>FIXME-</strong>完成此条目</p>

</div><h3 id="Service">服务</h3><div class="text">

  <p><strong>FIXME-</strong>完成此条目</p>

</div><div class="noprint"><h3 id="comments_section">评论</h3><div class="text"><p class="notice"><strong>注意：</strong>此注释部分收集有关改进Apache Tomcat文档的建议。<br><br>如果您遇到问题并需要帮助，请阅读“ <a href="https://tomcat.apache.org/findhelp.html">查找帮助”</a>页面，然后在tomcat-users <a href="https://tomcat.apache.org/lists.html">邮件列表中</a>询问您的问题。不要在这里问这样的问题。这不是“问答”部分。<br><br><a href="../comments.html">这里</a>解释<a href="../comments.html">了</a> Apache Comments System。如果评论已被实施或被认为无效/偏离主题，则我们的主持人可能会将其删除。
                  </p><div id="comments_thread"></div></div></div></div></div></div></div><footer><div id="footer">版权所有©1999-2019，Apache软件基金会</div></footer></div></body></html>