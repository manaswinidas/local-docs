<html lang="zh-Hans" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link href="./images/docs-stylesheet.css" rel="stylesheet" type="text/css"><title>Apache Tomcat 9（9.0.21）-Tomcat Web应用程序管理器</title><meta name="author" content="Glenn L. Nielsen"><script type="application/javascript" data-comments-identifier="tomcat-9.0-doc/html-manager-howto">
    "use strict"; // Enable strict mode

    (function() {
      var thisScript = document.currentScript;
      if (!thisScript) { // Workaround for IE <= 11
        var scripts = document.getElementsByTagName("script");
        thisScript = scripts[scripts.length - 1];
      }
      document.addEventListener("DOMContentLoaded", (function() {
        var commentsDiv = document.getElementById("comments_thread");
        var commentsShortname = "tomcat";
        var commentsIdentifier = "https://tomcat.apache.org/" +
          thisScript.getAttribute("data-comments-identifier") + ".html";

        (function(w, d) {
          if (w.location.hostname.toLowerCase() == "tomcat.apache.org") {
            var s = d.createElement("script");
            s.type = "application/javascript";
            s.async = true;
            s.src = "https://comments.apache.org/show_comments.lua?site=" +
              encodeURIComponent(commentsShortname) +
              "&page=" + encodeURIComponent(commentsIdentifier);
            d.head.appendChild(s);
          } else {
            commentsDiv.appendChild(d.createTextNode("Comments are disabled for this page at the moment."));
          }
        })(window, document);
      }), false);
    })();
  </script></head><body ><div id="wrapper"><header><div id="header"><div><div><div class="logo noPrint"><a href="https://tomcat.apache.org/"><img alt="Tomcat主页" src="./images/tomcat.png"></a></div><div style="height:1px"></div><div class="asfLogo noPrint"><a href="https://www.apache.org/" target="_blank"><img src="./images/asf-logo.svg" alt="Apache软件基金会" style="width:266px;height:83px"></a></div><h1>Apache Tomcat 9</h1><div class="versionInfo">版本9.0.21， <time datetime="2019-06-04"> 2019年6月4日</time></div><div style="height:1px"></div><div style="clear:left"></div></div></div></div></header><div id="middle"><div><div id="mainLeft" class="noprint"><div><nav><div><h2>链接</h2><ul><li><a href="index.html">文件首页</a></li><li><a href="https://wiki.apache.org/tomcat/FAQ">常问问题</a></li><li><a href="#comments_section">用户评论</a></li></ul></div><div><h2>用户指南</h2><ul><li><a href="introduction.html">1）简介</a></li><li><a href="setup.html">2）设定</a></li><li><a href="appdev/index.html">3）第一个webapp</a></li><li><a href="deployer-howto.html">4）部署者</a></li><li><a href="manager-howto.html">5）经理</a></li><li><a href="host-manager-howto.html">6）主机管理员</a></li><li><a href="realm-howto.html">7）领域和AAA</a></li><li><a href="security-manager-howto.html">8）安全经理</a></li><li><a href="jndi-resources-howto.html">9）JNDI资源</a></li><li><a href="jndi-datasource-examples-howto.html">10）JDBC数据源</a></li><li><a href="class-loader-howto.html">11）类加载</a></li><li><a href="jasper-howto.html">12）JSP</a></li><li><a href="ssl-howto.html">13）SSL / TLS</a></li><li><a href="ssi-howto.html">14）SSI</a></li><li><a href="cgi-howto.html">15）CGI</a></li><li><a href="proxy-howto.html">16）代理支持</a></li><li><a href="mbeans-descriptors-howto.html">17）MBean描述符</a></li><li><a href="default-servlet.html">18）默认Servlet</a></li><li><a href="cluster-howto.html">19）聚类</a></li><li><a href="balancer-howto.html">20）负载均衡器</a></li><li><a href="connectors.html">21）连接器</a></li><li><a href="monitoring.html">22）监控与管理</a></li><li><a href="logging.html">23）记录</a></li><li><a href="apr.html">24）APR /本地</a></li><li><a href="virtual-hosting-howto.html">25）虚拟主机</a></li><li><a href="aio.html">26）高级IO</a></li><li><a href="extras.html">27）附加组件</a></li><li><a href="maven-jars.html">28）行刑</a></li><li><a href="security-howto.html">29）安全注意事项</a></li><li><a href="windows-service-howto.html">30）Windows服务</a></li><li><a href="windows-auth-howto.html">31）Windows身份验证</a></li><li><a href="jdbc-pool.html">32）Tomcat的JDBC池</a></li><li><a href="web-socket-howto.html">33）WebSocket</a></li><li><a href="rewrite.html">34）改写</a></li></ul></div><div><h2>参考</h2><ul><li><a href="RELEASE-NOTES.txt">发行说明</a></li><li><a href="config/index.html">组态</a></li><li><a href="api/index.html">Tomcat Java文档</a></li><li><a href="servletapi/index.html">Servlet Java文档</a></li><li><a href="jspapi/index.html">JSP 2.3 Java文档</a></li><li><a href="elapi/index.html">EL 3.0 Java文档</a></li><li><a href="websocketapi/index.html">WebSocket 1.1 Java文档</a></li><li><a href="https://tomcat.apache.org/connectors-doc/">JK 1.2文档</a></li></ul></div><div><h2>Apache Tomcat开发</h2><ul><li><a href="building.html">建造</a></li><li><a href="changelog.html">变更日志</a></li><li><a href="https://wiki.apache.org/tomcat/TomcatVersions">状态</a></li><li><a href="developers.html">开发者</a></li><li><a href="architecture/index.html">建筑</a></li><li><a href="funcspecs/index.html">功能规格。</a></li><li><a href="tribes/introduction.html">部族</a></li></ul></div></nav></div></div><div id="mainRight"><div id="content"><h2>Tomcat Web应用程序管理器如何</h2><h3 id="Table_of_Contents">目录</h3><div class="text">
<ul><li><a href="#Introduction">介绍</a></li><li><a href="#Message">信息</a></li><li><a href="#Manager">经理</a></li><li><a href="#Applications">应用领域</a><ol><li><a href="#Start">开始</a></li><li><a href="#Stop">停止</a></li><li><a href="#Reload">重装</a></li><li><a href="#Undeploy">取消部署</a></li></ol></li><li><a href="#Deploy">部署</a><ol><li><a href="#Deploy_directory_or_WAR_file_located_on_server">部署服务器上的目录或WAR文件</a><ol><li><a href="#Deploy_a_Directory_or_WAR_by_URL">通过URL部署目录或WAR</a></li><li><a href="#Deploy_a_Directory_or_War_from_the_Host_appBase">从主机appBase部署目录或War</a></li><li><a href="#Deploy_using_a_Context_configuration_".xml"_file">使用上下文配置“ .xml”文件进行部署</a></li></ol></li><li><a href="#Upload_a_WAR_file_to_install">上载WAR档案进行安装</a></li><li><a href="#Deployment_Notes">部署说明</a></li><li><a href="#Deploy_Message">部署消息</a></li></ol></li><li><a href="#Diagnostics">诊断程序</a><ol><li><a href="#Finding_memory_leaks">查找内存泄漏</a></li></ol></li><li><a href="#Server_Information">服务器信息</a></li></ul>
</div><h3 id="Introduction">介绍</h3><div class="text">

<p>在许多生产环境中，具有无需关闭并重新启动Tomcat即可管理Web应用程序的功能非常有用。该文档用于Web应用程序<a href="manager-howto.html">管理器</a>的HTML Web界面。</p>

<p>该界面分为六个部分：</p>
<ul>
  <li><strong>消息</strong> -显示成功和失败消息。</li>
  <li><strong>经理</strong> -总经理的操作，例如列表和帮助。</li>
  <li><strong>应用程序</strong> -Web应用程序和命令列表。</li>
  <li><strong>部署</strong> -部署Web应用程序。</li>
  <li><strong>诊断</strong> -识别潜在问题。</li>
  <li><strong>服务器信息</strong> -有关Tomcat服务器的信息。</li>
</ul>

</div><h3 id="Message">信息</h3><div class="text">

<p>显示有关您执行的上一个Web应用程序管理器命令成功或失败的信息。如果成功，将显示<strong>OK</strong> ，然后可能会显示一条成功消息。如果<strong>失败，</strong>则显示<strong>FAIL</strong> ，然后显示错误消息。以下是每个命令的常见故障消息。可以在<a href="manager-howto.html">管理器</a> Web应用程序文档中找到每个命令的故障消息的完整列表。
</p>

</div><h3 id="Manager">经理</h3><div class="text">

<p>管理器部分具有三个链接：</p>
<ul>
  <li><strong>列出应用程序</strong> -重新显示Web应用程序列表。</li>
  <li><strong>HTML Manager帮助</strong> -指向此文档的链接。</li>
  <li><strong>管理员帮助</strong> -指向全面的Manager App HOW TO的链接。</li>
</ul>

</div><h3 id="Applications">应用领域</h3><div class="text">

<p>“应用程序”部分列出了有关所有已安装Web应用程序的信息，并提供了用于管理它们的链接。对于每个Web应用程序，将显示以下内容：</p>
<ul>
  <li><strong>路径</strong> -Web应用程序上下文路径。</li>
  <li><strong>显示名称</strong> -Web应用程序的显示名称（如果在其“ web.xml”文件中配置了该名称）。</li>
  <li><strong>正在运行</strong> -Web应用程序正在运行并且可用（true），还是不运行并且不可用（false）。</li>
  <li><strong>会话</strong>数-此Web应用程序的远程用户的活动会话数。会话数是一个链接，提交后，该链接将在“消息”框中显示有关Web应用程序的会话使用情况的更多详细信息。</li>
  <li><strong>命令</strong> -列出可以在Web应用程序上执行的所有命令。仅那些可以执行的命令将被列为可以提交的链接。无法在管理器Web应用程序本身上执行任何命令。可以执行以下命令：<ul>
        <li><strong>启动</strong> -启动已停止的Web应用程序。</li>
        <li><strong>停止</strong> -停止当前正在运行的Web应用程序并使它不可用。</li>
        <li><strong>重新加载</strong> -重新加载Web应用程序，以使新的“ .jar”文件进入<code>/WEB-INF/lib/</code>或中的新班级<code>/WEB-INF/classes/</code>可以使用。</li>
        <li><strong>取消部署</strong> -停止然后从服务器中删除该Web应用程序。</li>
      </ul>
  </li>
</ul>

<div class="subsection"><h4 id="Start">开始</h4><div class="text">

<p>发出停止的应用程序重新启动的信号，然后使其再次可用。停止和启动很有用，例如，如果应用程序所需的数据库暂时不可用。通常最好停止依赖此数据库的Web应用程序，而不是让用户不断遇到数据库异常。</p>

<p>如果此命令成功，您将看到如下消息：</p>
<div class="codeBox"><pre><code>OK - Started application at context path /examples</code></pre></div>

<p>否则，该消息将以<code>FAIL</code>并包含错误消息。问题的可能原因包括：</p>
<ul>
<li><em>遇到异常</em>
    <p>尝试启动Web应用程序时遇到异常。检查Tomcat日志以获取详细信息。</p>
    </li>
<li><em>指定了无效的上下文路径</em>
    <p>除非您引用ROOT Web应用程序，否则上下文路径必须以斜杠字符开头-在这种情况下，上下文路径必须为零长度的字符串。</p>
    </li>
<li><em>路径/ foo不存在上下文</em>
    <p>您指定的上下文路径上没有部署的应用程序。</p>
    </li>
<li><em>没有指定上下文路径</em>
    <p>的<code>path</code>参数是必需的。
    </p>
</li>
</ul>

</div></div>

<div class="subsection"><h4 id="Stop">停止</h4><div class="text">

<p>发信号通知现有应用程序使其不可用，但将其部署。在应用程序停止时出现的任何请求都将看到HTTP错误404，并且该应用程序在列表应用程序命令上将显示为“已停止”。</p>

<p>如果此命令成功，您将看到如下消息：</p>
<div class="codeBox"><pre><code>OK - Stopped application at context path /examples</code></pre></div>

<p>否则，该消息将以<code>FAIL</code>并包含错误消息。问题的可能原因包括：</p>
<ul>
<li><em>遇到异常</em>
    <p>尝试停止Web应用程序时遇到异常。检查Tomcat日志以获取详细信息。</p>
    </li>
<li><em>指定了无效的上下文路径</em>
    <p>除非您引用ROOT Web应用程序，否则上下文路径必须以斜杠字符开头-在这种情况下，上下文路径必须为零长度的字符串。</p>
    </li>
<li><em>路径/ foo不存在上下文</em>
    <p>您指定的上下文路径上没有部署的应用程序。</p>
    </li>
<li><em>没有指定上下文路径</em>
    <p>的<code>path</code>参数是必需的。
    </p>
</li>
</ul>

</div></div>

<div class="subsection"><h4 id="Reload">重装</h4><div class="text">

<p>向现有应用发出信号以自行关闭并重新加载。当无法重新加载Web应用程序上下文并且您在其中更新了类或属性文件时，这很有用。 <code>/WEB-INF/classes</code>目录，或者在目录中添加或更新了jar文件时<code>/WEB-INF/lib</code>目录。
</p>
<p><strong>注意：</strong> <code>/WEB-INF/web.xml</code>重新加载时未检查Web应用程序配置文件；使用以前的web.xml配置。如果对web.xml文件进行了更改，则必须停止然后启动Web应用程序。
</p>

<p>如果此命令成功，您将看到如下消息：</p>
<div class="codeBox"><pre><code>
OK - Reloaded application at context path /examples
</code></pre></div>

<p>否则，该消息将以<code>FAIL</code>并包含错误消息。问题的可能原因包括：</p>
<ul>
<li><em>遇到异常</em>
    <p>尝试重新启动Web应用程序时遇到异常。检查Tomcat日志以获取详细信息。</p>
    </li>
<li><em>指定了无效的上下文路径</em>
    <p>除非您引用ROOT Web应用程序，否则上下文路径必须以斜杠字符开头-在这种情况下，上下文路径必须为零长度的字符串。</p>
    </li>
<li><em>路径/ foo不存在上下文</em>
    <p>您指定的上下文路径上没有部署的应用程序。</p>
    </li>
<li><em>没有指定上下文路径</em>
    <p>的<code>path</code>参数是必需的。</p>
    </li>
<li><em>在路径/ foo上部署的WAR不支持重新加载</em>
    <p>目前，应用程序正在重新加载（以获取对类或<code>web.xml</code>当直接从WAR文件直接安装Web应用程序时（当主机配置为不解压缩WAR文件时，会发生这种情况），不支持该文件）。因为它仅在从解压目录中安装Web应用程序时才起作用，所以如果您使用的是WAR文件，则应<code>undeploy</code>然后<code>deploy</code>再次应用以获取您的更改。</p>
    </li>
</ul>

</div></div>

<div class="subsection"><h4 id="Undeploy">取消部署</h4><div class="text">

<p><strong><span style="color:red">警告</span> -此命令将删除Web应用程序目录和/或“ .war”文件中的内容，如果它们存在于<code>appBase</code>此虚拟主机的目录（通常为“ webapps”）</strong> 。Web应用程序临时工作目录也将被删除。如果您只是想使某个应用程序退出服务，则应使用<code>/stop</code>命令代替。</p>

<p>向现有应用程序发出信号，以使其正常关闭，然后将其从Tomcat中删除（这也使该上下文路径可用于以后重用）。此命令与<code>/deploy</code> Ant命令以及HTML管理器中可用的相关部署功能。</p>

<p>如果此命令成功，您将看到如下消息：</p>
<div class="codeBox"><pre><code>OK - Undeployed application at context path /examples</code></pre></div>

<p>否则，该消息将以<code>FAIL</code>并包含错误消息。问题的可能原因包括：</p>
<ul>
<li><em>遇到异常</em>
    <p>尝试取消部署Web应用程序时遇到异常。检查Tomcat日志以获取详细信息。</p>
    </li>
<li><em>指定了无效的上下文路径</em>
    <p>除非您引用ROOT Web应用程序，否则上下文路径必须以斜杠字符开头-在这种情况下，上下文路径必须为零长度的字符串。</p>
    </li>
<li><em>路径/ foo不存在上下文</em>
    <p>您指定的上下文路径上没有部署的应用程序。</p>
    </li>
<li><em>未指定上下文路径</em> <code>path</code>参数是必需的。
    </li>
</ul>

</div></div>

</div><h3 id="Deploy">部署</h3><div class="text">

<p>可以使用位于Tomcat服务器上的文件或目录来部署Web应用程序，或者可以将Web应用程序存档（WAR）文件上载到服务器。</p>

<p>要安装应用程序，请填写要执行的安装类型的相应字段，然后使用“ <i>安装”</i>按钮提交该应用程序。</p>

<div class="subsection"><h4 id="Deploy_directory_or_WAR_file_located_on_server">部署服务器上的目录或WAR文件</h4><div class="text">

<p>部署并启动新的Web应用程序，该应用程序附加到指定的<i>上下文路径：（</i>任何其他Web应用程序都不得使用）。此命令与“ <em>取消部署”</em>命令在逻辑上相反。</p>

<p>有许多不同的方式可以使用deploy命令。</p>

<div class="subsection"><h4 id="Deploy_a_Directory_or_WAR_by_URL">通过URL部署目录或WAR</h4><div class="text">

<p>在Tomcat服务器上安装Web应用程序目录或“ .war”文件。如果未指定<i>上下文路径</i> ，则将目录名或不带扩展名“ .war”的war文件名用作路径。<i>WAR或目录URL</i>指定一个URL（包括<code>file:</code>目录或Web应用程序归档（WAR）文件的方案）。引用WAR文件的URL支持的语法在Javadocs页面上针对<code>java.net.JarURLConnection</code>类。仅使用引用整个WAR文件的URL。</p>

<p>在此示例中，位于目录中的Web应用程序<code>C:\path\to\foo</code>在Tomcat服务器（在Windows上运行）上部署为Web应用程序上下文，名称为<code>/footoo</code> 。</p>
<div class="codeBox"><pre><code>Context Path: /footoo
WAR or Directory URL: file:C:/path/to/foo
</code></pre></div>


<p>在此示例中，“。war”文件<code>/path/to/bar.war</code>在Tomcat服务器（在Unix上运行）上部署为Web应用程序上下文，名称为<code>/bar</code> 。请注意，没有<code>path</code>参数，因此上下文路径默认为不带“ .war”扩展名的Web应用程序归档文件的名称。</p>
<div class="codeBox"><pre><code>WAR or Directory URL: jar:file:/path/to/bar.war!/</code></pre></div>

</div></div>

<div class="subsection"><h4 id="Deploy_a_Directory_or_War_from_the_Host_appBase">从主机appBase部署目录或War</h4><div class="text">

<p>在您的主机appBase目录中安装一个Web应用程序目录或“ .war”文件。如果未指定<i>上下文路径</i> ，则将目录名称或不带“ .war”扩展名的war文件名用作路径。</p>

<p>在此示例中，Web应用程序位于一个名为<code>foo</code> Tomcat服务器的Host appBase目录中的部署为名为的Web应用程序上下文<code>/foo</code> 。请注意，没有<code>path</code>参数，因此上下文路径默认为Web应用程序目录的名称。</p>
<div class="codeBox"><pre><code>WAR or Directory URL: foo</code></pre></div>


<p>在此示例中，“。war”文件<code>bar.war</code>位于Tomcat服务器上Host appBase目录中的服务器作为名为<code>/bartoo</code> 。</p>
<div class="codeBox"><pre><code>Context Path: /bartoo
WAR or Directory URL: bar.war</code></pre></div>

</div></div>

<div class="subsection"><h4 id="Deploy_using_a_Context_configuration_" .xm="_file" ="">使用上下文配置“ .xml”文件进行部署</h4><div class="text">

<p>如果Host deployXML标志设置为true，则可以使用上下文配置“ .xml”文件和可选的“ .war”文件或Web应用程序目录来安装Web应用程序。使用上下文“ .xml”配置文件安装Web应用程序时，不使用<i>上下文路径</i> 。</p>

<p>上下文配置“ .xml”文件可以包含适用于Web应用程序上下文的有效XML，就像在Tomcat中对其进行配置一样<code>server.xml</code>配置文件。这是在Windows上运行的Tomcat的示例：</p>
<div class="codeBox"><pre><code>&lt;Context path="/foobar" docBase="C:\path\to\application\foobar"&gt;
&lt;/Context&gt;</code></pre></div>


<p>使用<i>WAR或目录URL</i>是可选的。用于选择Web应用程序“ .war”文件或目录时，它会覆盖上下文配置“ .xml”文件中配置的所有docBase。</p>

<p>这是一个使用上下文配置“ .xml”文件为Windows上运行的Tomcat安装应用程序的示例。</p>
<div class="codeBox"><pre><code>XML Configuration file URL: file:C:/path/to/context.xml</code></pre></div>


<p>这是一个使用服务器上的Context配置文件“ .xml”和Web应用程序“ .war”文件（在Unix上运行Tomcat）安装应用程序的示例。</p>
<div class="codeBox"><pre><code>XML Configuration file URL: file:/path/to/context.xml
WAR or Directory URL: jar:file:/path/to/bar.war!/</code></pre></div>

</div></div>
</div></div>

<div class="subsection"><h4 id="Upload_a_WAR_file_to_install">上载WAR档案进行安装</h4><div class="text">

<p>从本地系统上载WAR文件，并将其安装到主机的appBase中。不带扩展名“ .war”的WAR文件的名称用作上下文路径名。</p>

<p>使用<i>浏览</i>按钮选择一个WAR文件，以从本地桌面系统上载到服务器。</p>

<p>的。通过在其中包含上下文配置XML文件，WAR文件可以包括Tomcat特定的部署配置。 <code>/META-INF/context.xml</code> 。</p>

<p>由于以下原因，上载WAR文件可能会失败：</p>
<ul>
<li><em>上传的文件必须是.war</em>
    <p>上载安装将仅接受文件扩展名为“ .war”的文件。</p>
    </li>
<li><em>伺服器档案已存在</em>
    <p>如果主机的appBase中已经存在同名的war文件，则上传将失败。从主机的appBase取消部署现有的war文件，或使用其他名称上载新的war文件。</p>
    </li>
<li><em>文件上传失败，没有文件</em>
    <p>文件上传失败，服务器未接收到文件。</p>
    </li>
<li><em>安装上传失败，例外：</em>
    <p>战争文件上传或安装失败，出现Java异常。将列出异常消息。</p>
    </li>
</ul>

</div></div>

<div class="subsection"><h4 id="Deployment_Notes">部署说明</h4><div class="text">

<p>如果为主机配置了unpackWARs = true并安装了war文件，则战争将被解压缩到Host appBase目录中的目录中。</p>

<p>如果将应用程序war或目录部署在您的主机appBase目录中，并且使用autoDeploy = true配置了主机，则上下文路径必须与目录名称或war文件名匹配，且不带“ .war”扩展名。</p>

<p>为了确保不受信任的用户可以管理Web应用程序时的安全性，可以将Host deployXML标志设置为false。这可以防止不受信任的用户使用配置XML文件安装Web应用程序，也可以防止他们安装位于其主机appBase外部的应用程序目录或“ .war”文件。</p>

</div></div>

<div class="subsection"><h4 id="Deploy_Message">部署消息</h4><div class="text">

<p>如果部署和启动成功，您将收到以下消息：</p>
<div class="codeBox"><pre><code>OK - Deployed application at context path /foo</code></pre></div>

<p>否则，该消息将以<code>FAIL</code>并包含错误消息。问题的可能原因包括：</p>
<ul>
<li><em>应用程序已存在于路径/ foo中</em>
    <p>当前所有正在运行的Web应用程序的上下文路径必须唯一。因此，您必须使用此上下文路径取消部署现有的Web应用程序，或者为新的应用程序选择其他上下文路径。</p>
    </li>
<li><em>文档库不存在或目录不可读</em>
    <p>“ <i>WAR”或“目录URL：”</i>字段指定的<i>URL</i>必须标识此服务器上包含Web应用程序“解压缩”版本的目录，或包含此应用程序的Web应用程序存档（WAR）文件的绝对URL。更正为“ <i>WAR或目录URL：”</i>字段输入的值。</p>
    </li>
<li><em>遇到异常</em>
    <p>尝试启动新的Web应用程序时遇到异常。检查Tomcat日志以获取详细信息，但可能的解释包括解析您的Tomcat时出现的问题<code>/WEB-INF/web.xml</code>文件，或初始化应用程序事件侦听器和过滤器时遇到缺少的类。</p>
    </li>
<li><em>指定了无效的应用程序URL</em>
    <p>您指定的<i>WAR或目录URL：</i>字段的<i>URL</i>无效。此类网址必须以<code>file:</code> ，并且WAR文件的URL必须以“ .war”结尾。</p>
    </li>
<li><em>指定了无效的上下文路径</em>
    <p>除非您引用ROOT Web应用程序，否则上下文路径必须以斜杠字符开头-在这种情况下，上下文路径必须为“ /”字符串。</p>
    </li>
<li><em>上下文路径必须与目录或WAR文件名匹配：</em>
    <p>如果将应用程序war或目录部署在您的主机appBase目录中，并且使用autoDeploy = true配置了主机，则上下文路径必须与目录名称或war文件名匹配，且不带“ .war”扩展名。</p>
    </li>
<li><em>只能部署主机Web应用程序目录中的Web应用程序</em>
     <p>如果将Host deployXML标志设置为false，并且尝试在主机appBase目录之外安装Web应用程序目录或“ .war”文件，则会发生此错误。
     </p></li>
</ul>

</div></div>
</div><h3 id="Diagnostics">诊断程序</h3><div class="text">

<div class="subsection"><h4 id="Finding_memory_leaks">查找内存泄漏</h4><div class="text">

<p><strong>查找泄漏诊断将触发完整的垃圾回收。在生产系统上使用时应格外小心。</strong></p>

<p>查找泄漏诊断尝试识别停止，重新加载或取消部署时导致内存泄漏的Web应用程序。应始终使用分析器确认结果。该诊断使用StandardHost实现提供的其他功能。如果使用不扩展StandardHost的自定义主机，它将无法正常工作。</p>

<p>此诊断将列出已停止，重新加载或取消部署的Web应用程序的上下文路径，但是先前运行中的哪些类仍存在于内存中，因此是内存泄漏。如果某个应用程序已重新加载几次，则可能会列出几次。</p>

<p>据记录，从Java代码中明确触发完整的垃圾回收是不可靠的。此外，根据所使用的JVM，有一些选项可以禁用显式GC触发，例如<code>-XX:+DisableExplicitGC</code> 。如果要确保诊断程序已成功运行完整的GC，则需要使用GC日志记录，JConsole等工具进行检查。</p>

</div></div>
</div><h3 id="Server_Information">服务器信息</h3><div class="text">

<p>本部分显示有关Tomcat，托管Tomcat的服务器的操作系统，运行Tomcat的Java虚拟机，服务器的主要主机名（可能不是用于访问Tomcat的主机名）和主要IP的信息。服务器的地址（可能不是用于访问Tomcat的IP地址）。</p>

</div><div class="noprint"><h3 id="comments_section">评论</h3><div class="text"><p class="notice"><strong>注意：</strong>此注释部分收集有关改进Apache Tomcat文档的建议。<br><br>如果您遇到问题并需要帮助，请阅读“ <a href="https://tomcat.apache.org/findhelp.html">查找帮助”</a>页面，然后在tomcat-users <a href="https://tomcat.apache.org/lists.html">邮件列表中</a>询问您的问题。不要在这里问这样的问题。这不是“问答”部分。<br><br><a href="./comments.html">这里</a>解释<a href="./comments.html">了</a> Apache Comments System。如果评论已被实施或被认为无效/偏离主题，则我们的主持人可能会将其删除。
                  </p><div id="comments_thread"></div></div></div></div></div></div></div><footer><div id="footer">版权所有©1999-2019，Apache软件基金会</div></footer></div></body></html>