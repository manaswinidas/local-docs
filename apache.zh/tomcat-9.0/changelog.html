<html lang="zh-Hans" ><head></head><body >﻿<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link href="./images/docs-stylesheet.css" rel="stylesheet" type="text/css"><title>Apache Tomcat 9（9.0.21）-更新日志</title><div id="wrapper"><header><div id="header"><div><div><div class="logo noPrint"><a href="https://tomcat.apache.org/"><img alt="Tomcat主页" src="./images/tomcat.png"></a></div><div style="height:1px"></div><div class="asfLogo noPrint"><a href="https://www.apache.org/" target="_blank"><img src="./images/asf-logo.svg" alt="Apache软件基金会" style="width:266px;height:83px"></a></div><h1>Apache Tomcat 9</h1><div class="versionInfo">版本9.0.21， <time datetime="2019-06-04"> 2019年6月4日</time></div><div style="height:1px"></div><div style="clear:left"></div></div></div></div></header><div id="middle"><div><div id="mainLeft" class="noprint"><div><nav><div><h2>链接</h2><ul><li><a href="index.html">文件首页</a></li><li><a href="https://wiki.apache.org/tomcat/FAQ">常问问题</a></li><li><a href="#comments_section">用户评论</a></li></ul></div><div><h2>用户指南</h2><ul><li><a href="introduction.html">1）简介</a></li><li><a href="setup.html">2）设定</a></li><li><a href="appdev/index.html">3）第一个webapp</a></li><li><a href="deployer-howto.html">4）部署者</a></li><li><a href="manager-howto.html">5）经理</a></li><li><a href="host-manager-howto.html">6）主机管理员</a></li><li><a href="realm-howto.html">7）领域和AAA</a></li><li><a href="security-manager-howto.html">8）安全经理</a></li><li><a href="jndi-resources-howto.html">9）JNDI资源</a></li><li><a href="jndi-datasource-examples-howto.html">10）JDBC数据源</a></li><li><a href="class-loader-howto.html">11）类加载</a></li><li><a href="jasper-howto.html">12）JSP</a></li><li><a href="ssl-howto.html">13）SSL / TLS</a></li><li><a href="ssi-howto.html">14）SSI</a></li><li><a href="cgi-howto.html">15）CGI</a></li><li><a href="proxy-howto.html">16）代理支持</a></li><li><a href="mbeans-descriptors-howto.html">17）MBean描述符</a></li><li><a href="default-servlet.html">18）默认Servlet</a></li><li><a href="cluster-howto.html">19）聚类</a></li><li><a href="balancer-howto.html">20）负载均衡器</a></li><li><a href="connectors.html">21）连接器</a></li><li><a href="monitoring.html">22）监控与管理</a></li><li><a href="logging.html">23）记录</a></li><li><a href="apr.html">24）APR /本地</a></li><li><a href="virtual-hosting-howto.html">25）虚拟主机</a></li><li><a href="aio.html">26）高级IO</a></li><li><a href="extras.html">27）附加组件</a></li><li><a href="maven-jars.html">28）行刑</a></li><li><a href="security-howto.html">29）安全注意事项</a></li><li><a href="windows-service-howto.html">30）Windows服务</a></li><li><a href="windows-auth-howto.html">31）Windows身份验证</a></li><li><a href="jdbc-pool.html">32）Tomcat的JDBC池</a></li><li><a href="web-socket-howto.html">33）WebSocket</a></li><li><a href="rewrite.html">34）改写</a></li></ul></div><div><h2>参考</h2><ul><li><a href="RELEASE-NOTES.txt">发行说明</a></li><li><a href="config/index.html">组态</a></li><li><a href="api/index.html">Tomcat Java文档</a></li><li><a href="servletapi/index.html">Servlet Java文档</a></li><li><a href="jspapi/index.html">JSP 2.3 Java文档</a></li><li><a href="elapi/index.html">EL 3.0 Java文档</a></li><li><a href="websocketapi/index.html">WebSocket 1.1 Java文档</a></li><li><a href="https://tomcat.apache.org/connectors-doc/">JK 1.2文档</a></li></ul></div><div><h2>Apache Tomcat开发</h2><ul><li><a href="building.html">建造</a></li><li><a href="changelog.html">变更日志</a></li><li><a href="https://wiki.apache.org/tomcat/TomcatVersions">状态</a></li><li><a href="developers.html">开发者</a></li><li><a href="architecture/index.html">建筑</a></li><li><a href="funcspecs/index.html">功能规格。</a></li><li><a href="tribes/introduction.html">部族</a></li></ul></div></nav></div></div><div id="mainRight"><div id="content"><h2>变更日志</h2><h3 id="Tomcat_9.0.21_(markt)">Tomcat 9.0.21（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.21_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57287">57287</a> ：将文件排序添加到DefaultServlet（schultz）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">固定<code>--no-jmx</code>标志处理，在注册表初始化后调用。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保在上设置了默认的请求字符编码<code>ServletContext</code>在呼叫时使用<code>ServletRequest#getReader()</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果在处理过程中由于以下原因导致请求失败，请尽最大努力进行清理： <code>OutOfMemoryException</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">对于很少使用的UTF-32编码，改进了默认Servlet处理的静态文件的BoM检测。由Coverity Scan识别。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果定义了默认servlet，请确保默认servlet读取了整个全局XSLT文件。由Coverity Scan识别。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免潜在<code>NullPointerException</code>生成HTTP时<code>Allow</code>标头。由Coverity Scan识别。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">加<code>Context.createInstanceManager()</code>以简化框架集成。 （雷姆）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">添加实用程序<code>org.apache.catalina.core.FrameworkListener</code>允许以编程方式复制向Context.xml添加侦听器。 （雷姆）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">移动<code>Container.ADD_CHILD_EVENT</code>到子容器启动之前，以及<code>Container.REMOVE_CHILD_EVENT</code>从内部子项集合中移除子项之前的时间。（雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">删除目标路径中包含的所有片段以获取<code>RequestDispatcher</code> 。由于这是应用程序错误，因此将请求的目标路径记录为警告。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.21_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> NIO轮询器似乎创建了一些不必要的并发，从而导致罕见的CI测试失败。在处理异步操作时请添加同步以避免这种情况。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复导致不正确的HTTP / 2连接超时的并发问题。（毫米/马克）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免在异步IO中使用无用的异常包装。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63412">63412</a> ：从Web应用程序使用异步IO API时，安全管理器失败。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">去掉<code>acceptorThreadCount</code>连接器属性，一个接受线程就足够了。如记录所示，价值<code>2</code>是唯一有意义的价值，但没有并没有超出某些微观基准的影响。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免在连接器挡块上出现NPE。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">去掉<code>pollerThreadCount</code> NIO的连接器属性，一个轮询线程就足够了。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">为APR连接器添加异步IO以实现一致性，但由于性能低下，默认情况下将其禁用。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用异步IO时，避免阻塞内部缓冲区的写入。 （雷姆）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">将异步IO实现重构为<code>SocketWrapperBase</code> 。（雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">重构<code>SocketWrapperBase</code>使用原子布尔和<code>doClose</code>子类将实现的方法，并保证将仅运行一次。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">关闭后，将未回收的套接字包装器与NIOx通道解耦，并用伪静态对象替换。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">套接字包装程序关闭时清除缓冲区。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> NIO2无法正确关闭连接器挡块上的插槽。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">降低默认值<code>maxConcurrentStreams</code>在<code>Http2Protocol</code>从200到100，以符合HTTP / 2实现的典型默认值。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将默认的HTTP / 2标头列表大小从4GB减小到32kB，以符合典型的HTTP / 2实现。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加对同一站点cookie属性的支持。约翰·凯利（John Kelly）提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">丢弃旧版NIO双插槽关闭（关闭通道，然后关闭插槽）。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用异步修复HTTP / 2流结束并发。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">纠正流刷新代码中的一个错误，该错误可能导致多个线程同时处理该流，从而导致处理该流的错误。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.21_(markt)/Cluster">簇</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62841">62841</a> ：重构<code>DeltaRequest</code>序列化以减少其间的窗口<code>DeltaSession</code>已锁定，并消除了序列化期间可能导致死锁的原因。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63441">63441</a> ：进一步简化了会话创建消息的处理<code>DeltaManager</code>以减少在创建会话之前处理会话更新消息的可能性。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.21_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复用于异步非阻塞写入的超时逻辑。由Coverity Scan识别。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.21_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展有关不赞成使用的TLS配置属性如何转换为新的TLS配置样式的说明。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.21_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">对待<code>NoRouteToHostException</code>与...相同<code>SocketTimeoutException</code>检查小组成员的健康状况时。当与组成员关联的主机未开机时，这将避免在每次执行检查时发出SEVERE日志消息。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.21_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">从FindBugs切换到SpotBugs。 （fschumacher）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">启动Graal本机图像兼容性。支持最初是针对tomcat-maven包装的。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63403">63403</a> ：使用非英语语言环境运行时，修复TestHttp2InitialConnection测试失败。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">添加Graal JreCompat，并使用它禁用JMX和URL流处理程序。（雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的捷克语翻译的覆盖范围和质量。包括ArnoštHavelka的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的德语翻译的覆盖范围和质量。包括Niklasmerz，dusiema和Jens的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的法语翻译的覆盖范围和质量。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的简体中文翻译的范围和质量。包括諵的贡献。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用<code>test</code>命令检查终端可用性，而不是<code>tty</code>自从<code>tty</code>基于测试的测试在非英语语言环境中失败。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.20_(markt)"><span style="float:right">2019-05-13</span> Tomcat 9.0.20（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.20_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复一些未使用规范路径设置docBase的极端情况，这反过来又意味着未按预期构造资源URL。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了从WAR文件执行CGI脚本时潜在的资源泄漏。由Coverity扫描识别。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了由Coverity扫描识别的StringCache中潜在的并发问题。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了APR连接器的主Sendfile线程中的潜在并发问题。由Coverity扫描识别。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了从WAR文件运行Web应用程序时潜在的资源泄漏。由Coverity扫描识别。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了某些异常路径中潜在的资源泄漏<code>DataSourceRealm</code> 。由Coverity扫描识别。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了解析JSP文件时异常路径上潜在的资源泄漏。由Coverity扫描识别。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了当JNDI查找返回兼容类的对象时潜在的资源泄漏。由Coverity扫描识别。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构<code>ManagerServlet</code>避免在为指定类型的资源过滤JNDI资源时加载类。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63324">63324</a> ：重构<code>CrawlerSessionManagerValve</code>因此，放置在会话中的对象与带有mem-cached的会话序列化兼容。Martin Lemanski提供的补丁。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63358">63358</a> ：展开<code>throwOnFailure</code>支持中<code>Connector</code>包括添加<code>Connector</code>跑步<code>Service</code> 。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63361">63361</a> ：添加新方法（ <code>Registry.disableRegistry()</code> ），可以用来取消Tomcat组件的JMX注册，前提是在注册第一个组件之前调用它。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免<code>OutOfMemoryError</code>和<code>ArrayIndexOutOfBoundsException</code>在禁用资源缓存时通过默认servlet访问大文件时，使用s。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免<code>NullPointerException</code>当一个<code>Context</code>在中定义<code>server.xml</code>与一个<code>docBase</code>但不是可选的<code>path</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63333">63333</a> ：覆盖<code>isAvailable()</code>中的方法<code>JAASRealm</code>这样，仅当无效凭据导致登录失败时，帐户才会被锁定<code>LockOutRealm</code>正在使用中。jchobantonov提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">加<code>--no-jmx</code>标志以允许在禁用JMX <code>startup.Tomcat.main</code> 。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.20_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">的<code>useAsyncIO</code>现在，Connector元素值上的boolean属性默认为<code>true</code> 。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">与NIO异步使用时，可能出现HTTP / 2连接泄漏问题。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了NIO的套接字关闭差异，现在除了套接字接受问题外，包装关闭都可用于所有地方。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将异步IO与NIO一起使用时，请实现轮询超时。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免在禁用对象高速缓存时创建和使用它们。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在不支持SSLv2Hello的较新JRE上运行时，请不要警告它除非明确配置否则不可用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更改的默认值<code>pollerThreadCount</code> NIO的<code>1</code> 。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将BlockPoller线程名称与其NIO连接器关联，以提高可读性。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">异步HTTP / 2帧解析器应允许并发，因此在尝试读取之前无法清除共享缓冲区。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将HTTP / 2连接前言和初始帧读取更新为异步而不是阻塞IO。 （雷姆）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构主机名验证以提高性能。Uwe Hees提供的补丁。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">添加更接近核心NIO2的其他NIO2样式读取和写入方法，以便与CompletableFuture之类的异步工作流一起使用。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">扩展HTTP / 2超时处理以包括写入时连接窗口耗尽。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.20_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63359">63359</a> ：确保从字符串转换<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63359">为时</a>使用的类型转换<code>jsp:setProperty</code>按照JSP 2.3规范的JSP.1.14.2.1节正确执行了Action。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.20_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63335">63335</a> ：确保堆栈跟踪由<code>OneLineFormatter</code>完全缩进。现在，整个堆栈跟踪由一个附加的TAB字符缩进。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63370">63370</a> ：示例webapp的消息文件（LocalStrings _ *。properties）未转换为ascii。 （元山）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的法语翻译的覆盖范围和质量。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的日语翻译的覆盖范围和质量。包括motohashi.yuki的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的捷克语翻译的覆盖范围和质量。包括ArnoštHavelka的贡献。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用时<code>OneLineFormatter</code> ，请不要在打印堆栈跟踪后在日志中打印空白行。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Apache Commons FileUpload的内部fork更新为41e4047（2019-04-24）以获取一些增强功能。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Apache Commons DBCP 2的内部fork更新为dcdbc72（2019-04-24），以进行一些清理和增强。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Apache Commons Pool 2的内部fork更新为0664f4d（2019-04-30），以获取一些增强功能和错误修复。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.19_(markt)"><span style="float:right">2019-04-13</span> Tomcat 9.0.19（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.19_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复9.0.18中错误的JMX注册回归。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.19_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">在基本和SSL通道中为NIO添加矢量。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将异步IO从NIO2添加到NIO连接器，并支持HTTP / 2和Websocket的异步IO实现。的<code>useAsyncIO</code> Connector元素上的boolean属性允许启用异步IO API的使用。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.19_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">根据是否使用jjtree，确保基于Javacc的解析器的源分发中包含正确的文件。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保源分发中的文本文件具有目标平台的正确行尾。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.18_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.18（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.18_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63196">63196</a> ：提供默认值（ <code>X-Forwarded-Proto</code> ） 为了<code>protocolHeader</code>的属性<code>RemoteIpFilter</code>和<code>RemoteIpValve</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63235">63235</a> ：重构Charset缓存以减少启动时间。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63249">63249</a> ：使用一致的日志级别（ <code>WARN</code> ）记录失败以注册或注销JMX Bean。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63249">63249</a> ：使用一致的日志级别（ <code>ERROR</code> ）记录<code>LifecycleException</code>与启动或停止组件失败相关。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当SSI指令<code>fsize</code>与无效的目标一起使用时，返回文件大小为<code>-</code>而不是<code>1k</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63251">63251</a> ：实现一个已知的JRE错误（ <a href="https://bugs.openjdk.java.net/browse/JDK-8194653">JDK-8194653</a> ） <a href="https://bugs.openjdk.java.net/browse/JDK-8194653">的变通办法</a> ，该错误可能在Tomcat启动时导致死锁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63275">63275</a> ：使用<code>RequestDispatcher</code>确保这件事<code>HttpServletRequest.getContextPath()</code>返回调度的请求中的编码路径。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">为服务器/侦听器添加可选的侦听器，作为标准侦听器的细微变化。区别在于，加载失败时不会致命。如果认为有用，则可以将示例配置添加到标准server.xml中。Storeconfig将不会尝试保留新的侦听器。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63286">63286</a> ：记录以下行为之间的差异<code>LogFormat</code> httpd和中的指令<code>pattern</code>中的属性<code>AccessLogValve</code>对于<code>%D</code>和<code>%T</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63287">63287</a> ：对于严重性相似的相似问题，使日志记录级别更加一致。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63311">63311</a> ：将Tomcat配置为验证XML配置文件（例如web.xml）时，将对https URL的支持添加到Tomcat中的本地解析器，该解析器用于解析标准XML DTD和模式。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">编码SSI的输出<code>printenv</code>命令。这是CVE-2019-0221的修复程序。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">将常量用于SSI编码值。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">当CGI Servlet配置为<code>enableCmdLineArguments</code>如果设置为true，则将各个命令行参数的编码形式限制为RFC 3875允许的值。通过使用新的初始化参数可以放宽此限制<code>cmdLineArgumentsEncoded</code> 。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">当CGI Servlet配置为<code>enableCmdLineArguments</code>如果设置为true，则在Windows上运行时，将各个命令行参数的解码形式限制为已知的安全值。通过使用新的初始化参数可以放宽此限制<code>cmdLineArgumentsDecoded</code> 。这是CVE-2019-0232的修复程序。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.18_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复NIO2异步读取API与常规读取之间的不良交互。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构经典IO API的NIO2写入挂起策略。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">恢复NIO2的默认maxConnections默认值，因为已解决了基本的关闭问题。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用isReadyForRead代码协调NIO2 isReadyForWrite。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当使用支持ALPN（从Java 9开始）且未协商协议的JSSE TLS连接器时，Tomcat无法回退到HTTP / 1.1，而是断开了连接。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">纠正Tomcat 9.0.17中TLS连接器重构中的一个回归，该回归阻止了PKCS＃8私钥与基于OpenSSL的连接器一起使用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复NIO2 SSL边缘情况。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">从HTTP / 1.1升级到HTTP / 2时，请确保原始HTTP / 1.1请求中存在的任何查询字符串都传递给HTTP / 2请求处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当Tomcat在未读取所有HTTP / 2请求的情况下写入最终响应时，请重置流以通知客户端不需要剩余的请求正文。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.18_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">添加对指定Java 11的支持（使用值<code>11</code> ）作为JSP编译的编译器源和/或编译器目标。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加对指定Java 12的支持（使用值<code>12</code> ）和Java 13（带有值<code>13</code> ）作为JSP编译的编译器源和/或编译器目标。如果与不支持这些值的ECJ版本一起使用，将记录警告并使用最新的受支持版本。基于Thomas Collignon的补丁。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.18_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63184">63184</a> ：扩展SSI文档以提供有关受支持的指令及其属性的更多信息。守夜人提供的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">在文档中添加关于使用正则表达式写得不好和<code>RewriteValve</code> 。salgattas提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.18_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进了maxAge处理。添加对在空闲连接上进行年龄检查的支持。过期的连接将重新连接而不是关闭它。toby1984提供的补丁。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63320">63320</a> ：确保<code>StatementCache</code>缓存在参数中包含数组的语句。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.18_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新到Eclipse JDT编译器4.10。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩大Apache Tomcat随附的西班牙语翻译的覆盖范围和质量。包括Ulises Gonzalez Horta的贡献。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的捷克语翻译的覆盖范围和质量。包括ArnoštHavelka的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的中文翻译的覆盖范围和质量。包括winsonzhao和wjt的贡献。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的俄语翻译的覆盖范围和质量。 （kkolinko）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的日语翻译的覆盖范围和质量。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的韩语翻译的覆盖范围和质量。 （元山）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的德语翻译的覆盖范围和质量。 （fschumacher）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的法语翻译的覆盖范围和质量。 （雷姆）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.17_(markt)"><span style="float:right">2019-03-18</span> Tomcat 9.0.17（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.17_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构如何将Cookie从基本请求传输到<code>PushBuilder</code>以便它们可以通过标准进行访问并可以进行编辑<code>PushBuilder</code>使用HTTP标头的方法。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">简化价值<code>jarsToSkip</code>财产<code>catalina.properties</code> tomcat-i18n jar文件的文件。使用前缀模式而不是列出每种语言。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">恢复访问日志阀属性的获取器和设置器<code>maxLogMessageBufferSize</code>被意外删除。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63206">63206</a> ：向添加新属性<code>Context</code> -- <code>createUploadTargets</code>如果<code>true</code>如果Servlet指定的位置不存在，则允许Tomcat创建Servlet使用的临时上载位置。默认值为<code>false</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63210">63210</a> ：当不再需要基于Apache Commons DBCP 2的默认连接池时，请正确关闭它。这确保了非守护进程线程不会保持运行状态，这将阻止Tomcat彻底关闭。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63213">63213</a> ：在将JNDIRealm配置为使用以下命令搜索嵌套组时，请确保正确转义组名<code>roleNested</code>调成<code>true</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63236">63236</a> ：使用<code>String.intern()</code>如Phillip Webb所建议的那样，以减少由于字符串重复而造成的内存浪费。开始全新安装时，此更改可节省〜245k。另外还要感谢YourKit Java profiler来帮助跟踪浪费的内存和根本原因。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63246">63246</a> ：修复潜力<code>NullPointerException</code>打电话时<code>AsyncContext.dispatch()</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">始终使用<code>docBase</code>在部署过程中，确定上下文名称，部署类型，是否<code>docBase</code>位于<code>appBase</code>等（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.17_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当执行从HTTP / 1.1升级到HTTP / 2（h2c）时，请确保通过标准方法使升级后请求的HTTP / 1.1主机标头中的主机名和端口可用<code>ServletRequest.getServerName()</code>和<code>ServletRequest.getServerPort()</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构APR / Native端点TLS配置代码，以使JSSE样式配置-包括JKS密钥库-与APR / Native连接器一起使用。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">通过TLS配置重构，配置属性<code>sessionCacheSize</code>和<code>sessionTimeout</code>不再局限于JSSE实现。它们现在也可以与OpenSSL实现一起使用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构经典IO API的NIO2读取挂起策略。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63182">63182</a> ：使用异步线程时，请避免使用NIO2的HTTP / 1.1的额外读取通知。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63205">63205</a> ：为已知的<a href="https://bugs.openjdk.java.net/browse/JDK-8157404">JRE KeyStore加载错误</a>添加解决方法。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> NIO2应该尝试在任何地方使用SocketTimeoutException，而不是将其与InterruptedByTimeout混合使用。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正请求验证中的错误，该错误意味着HTTP / 2推送请求始终导致400响应。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63223">63223</a> ：跟踪当前活动的HTTP / 2流时，正确考虑推送请求。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将TLS与NIO2一起使用时，请通过使用主读取缓冲区存储其他解密数据来确保有足够的缓冲区空间。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在假定发生超时之前，请验证HTTP / 2流仍可写。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">由于OpenSSL引擎具有内部缓冲区，因此避免使用OpenSSL发生某些溢出情况以提高效率。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">协调HTTP / 1.1 NIO2保持活动代码。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.17_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="码：" class="icon" src="./images/code.gif">去除<code>STREAMS_DROP_EMPTY_MESSAGES</code>解决了四个失败的TCK测试中引入的系统属性。已经实施了替代解决方案。通过发送消息<code>getSendStream()</code>和<code>getSendWriter()</code>现在，如果将数据写入<code>OutputStream</code>要么<code>Writer</code> 。写入零长度数据将导致出现空消息。请注意，通过<code>Encoder</code>可能导致通过<code>getSendStream()</code>要么<code>getSendWriter()</code> 。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.17_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复Manager和Host Manager Web应用程序使用的消息。添加或删除主机时使用的消歧消息键。改善状态页面上摘要值的显示：用空格分隔术语和值。改进过期会话命令的消息措辞。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">不要在Manager和Host Manager Web应用程序中添加CSRF nonce参数并禁止外部链接的Referer标头。 （kkolinko）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.17_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">添加从静态成员列表中发现本地成员的功能。（kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保在addSuspects列表中注册的成员是静态成员。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.17_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的法语翻译的覆盖范围和质量。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63041">63041</a> ：还原对<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53930">53930</a>的更改，该更改增加了对<code>CATALINA_OUT_CMD</code>环境变量，因为它们阻止了未显式指定PID文件的systemd配置的正确操作。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的俄语翻译的覆盖范围和质量。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复的artifactId <code>tomcat-i18n-cs</code> 。 （荣）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的韩语翻译的覆盖范围和质量。 （元山）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的中文翻译的覆盖范围和质量。包括winsonzhao的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的捷克语翻译的覆盖范围和质量。包括ArnoštHavelka的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩大Apache Tomcat随附的西班牙语翻译的覆盖范围和质量。包括Ulises Gonzalez Horta的贡献。（市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.16_(markt)"><span style="float:right">2019-02-08</span> Tomcat 9.0.16（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.16_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在Manager Web应用程序的“服务器状态”页面上使用客户端的首选语言。查看并修复几种在Manager和Host Manager Web应用程序中未遵循客户端语言首选项的情况。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63141">63141</a> ：确保翻译后的经理响应字符串仍以<code>OK -</code>关联的Ant任务所期望的位置。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63143">63143</a> ：当默认系统区域设置的语言不是英语时，请确保Manager Web应用程序遵守浏览器中配置的用户的语言首选项。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.16_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">删除执行程序不必要的关机。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.16_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">将用于构建Windows安装程序的NSIS安装程序更新为3.04版。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将捷克语翻译添加到Apache Tomcat。包括ArnoštHavelka和Alice的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩大Apache Tomcat随附的西班牙语翻译的覆盖范围和质量。包括Ulises Gonzalez Horta的贡献。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的法语翻译的覆盖范围和质量。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的韩语翻译的覆盖范围和质量。 （元山）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的日语翻译的覆盖范围和质量。包括Yujiorama的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的中文翻译的覆盖范围和质量。包括郑的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的俄语翻译的覆盖范围和质量。 （kkolinko）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.15_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.15（标记）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.15_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=54741">54741</a> ：添加新方法， <code>Tomcat.addWebapp(String,URL)</code> ，允许在嵌入式模式下使用Tomcat时从URL部署Web应用程序。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63002">63002</a> ：修复设置重写qsdiscard标志。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">实现Servlet规范的第8.2.2 2c节的要求，并阻止Web应用程序部署（如果它具有名称重复的片段并且配置为使用片段的相对顺序）。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保HEAD响应与GET响应一致<code>HttpServlet</code>依赖于生成HEAD响应，而GET响应则使用分块。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保<code>ServletOutputStream</code>实现与异步I / O的要求一致，并且所有写方法都使用单个写而不是多个写。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正Javadoc为<code>Context.getDocBase()</code>和<code>Context.setDocBase()</code>并删除表示网址可用于<code>docBase</code>因为这种情况已经有一段时间了。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">添加基本的健康检查阀。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">纠正9.0.14中暴露的错误，并确保Tomcat作为服务运行时及时终止。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在使用需要Apr的连接器而不首先启用AprLifecycleListener时记录消息。 （csutherl）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">特殊负数或零值的实用程序线程计数将再次基于Runtime.getRuntime（）。availableProcessors（）。 （雷姆）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">在请求正文读取期间处理I / O错误与在响应正文写入期间处理I / O错误的方式相同。这些错误被视为客户端错误而不是服务器端错误，并且仅在调试级别记录。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63038">63038</a> ：确保<code>ClassNotFoundException</code>尝试从损坏的JAR文件加载类时引发。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63078">63078</a> ：由于部署程序使用阻止模式，因此请确保实用程序线程池至少为两个。 （雷姆，马克）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">可以通过新属性来配置从传递给BASIC身份验证的凭据中删除开头和结尾的空格， <code>trimCredentials</code>在<code>BasicAuthenticator</code> 。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63003">63003</a> ：扩展<code>unloadDelay</code>上的属性<code>Context</code>包含进行中的异步请求。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63026">63026</a> ：添加新属性， <code>forceDnHexEscape</code> ，到<code>JNDIRealm</code>强制转义可分辨名称的String表示形式以使用<code>\nn</code>形成。这样可以避免使用Active Directory的领域出现问题，该领域似乎更容忍在进行<code>\nn</code>使用表格。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在Web应用程序类下运行时，避免吞咽（因此被忽略）的访问失败。 <code>SecurityManager</code> 。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用以下命令将SSL配置选项添加到JMX远程侦听器： <code>SSLHostConfig</code>框架。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将建议的最低Tomcat本机最低版本更新为1.2.21。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63137">63137</a> ：如果Web应用程序的资源已配置有映射到的多个位置<code>/WEB-INF/classes</code> ，请确保在构建Web应用程序类路径时使用所有这些位置。MarcinGołębski提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.15_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63009">63009</a> ：包括可选<code>content-length</code> HTTP / 2响应中的标头（如果有适当的值可用）。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63022">63022</a> ：当对NIO和NIO2使用wrapper isClosed方法时，请勿使用套接字打开状态，因为它将禁用所有进一步的处理。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了NIO2的套接字关闭差异，现在除了套接字接受问题外，包装关闭都可用于所有地方。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复HTTP / 2 NIO2帧读取使用写入超时而不是读取超时的问题。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复错误的APR sendfile线程停止。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.15_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63056">63056</a> ：更正了针对<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53737">53737</a>的修复程序中的回归，该回归没有正确扫描JSP的Web应用程序目录结构。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更新性能优化，以在依赖于具有隐式作用域的未初始化标签属性的标签中使用表达式，以使性能优化了解新的公共类（ <code>java.lang.Enum$EnumDesc</code> ）添加到Java 12中。（标记）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.15_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57974">57974</a> ：确保实施<code>Session.getOpenSessions()</code>返回客户端和服务器端调用的正确值。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63019">63019</a> ：写入时使用有效负载剩余字节而不是限制。由Benoit Courtilly提交。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当在<code>SecurityManager</code> ，请确保<code>ServiceLoader</code>查找默认值<code>javax.websocket.server.ServerEndpointConfig.Configurator</code>实施正确完成，而不是使用硬编码的后备方法无提示地完成。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果客户端收到尝试与服务器通信的I / O错误，请确保关闭网络连接。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">扫描POJO方法时，请忽略合成方法。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">实施WebSocket 1.1规范的5.2.1节的要求，并确保如果一个端点的部署失败，则不会为该Web应用程序部署任何端点。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">实施WebSocket 1.1规范第4.3节的要求，并确保在以下情况下端点部署失败<code>@PathParam</code>与无效的参数类型一起使用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保一个<code>DeploymentException</code>而不是<code>IllegalArgumentException</code>如果用注释的方法被抛出<code>@OnMessage</code>不符合Javadoc中规定的要求。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进确定两个算法的算法<code>@OnMessage</code>为相同的消息类型添加了注释。在此更改之前，有一些比赛被错过了。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.15_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63103">63103</a> ：从示例Web应用程序中删除未使用的source.jsp文件和关联的标记，因为它不再被使用。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.15_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">添加dns-ping支持以枚举群集成员。这比获取Pod列表要简单得多，但是它并不指示Pod的状态。由Maxime Beck提交。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">切勿使本地成员资格失效。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.15_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用监视设备更新容器图像。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的韩语翻译的覆盖范围和质量。包括woonsan和Chris Cho的贡献。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的日语翻译的覆盖范围和质量。包括kfujino，Yujiorama和motohashi.yuki的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的法语翻译的覆盖范围和质量。包括remm，LudovicPénet和evernat的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的德语翻译的覆盖范围和质量。包括fschumacher，Stefan和burghard的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的中文（简体）翻译的覆盖范围和质量。包括来自winsonzhao，Lanranzi，shawn，Winsonzhoa，JinXqian，RichardHo，qingshi huang，Greenman0007，Jim Ma，huxing，袁宇杰和evernat的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩大Apache Tomcat随附的西班牙语翻译的覆盖范围和质量。包括来自Ulises Gonzalez Horta，以色列，Eduardo Quintanilla和Miguel Ortega的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的俄语翻译的覆盖范围和质量。包括Andrei Maiseyenka和solomax的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩大Apache Tomcat随附的巴西葡萄牙语翻译的覆盖范围和质量。包括Victor Caetano和Dabilo的贡献。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=63041">63041</a> ：更正了针对<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53930">53930</a>的修复程序中的回归，该回归使Tomcat无法与systemd一起正常使用。Patrik S.（市场）提供的补丁</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <fix>63072</fix> ：删除<fix>多余的</fix>东西（JMX远程侦听器和webservices对象工厂）并将它们合并回到核心版本中。（雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">更新Apache Commons FileUpload的内部fork，以获取Apache Commons FileUpload 1.4发行版中的更改。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Apache Commons DBCP 2的内部fork更新为de20b77（2019-01-29），以获取一些错误修复和增强功能。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Native / NIO2与OpenSSL结合使用时，将Tomcat本机库的打包版本更新为1.2.21，以获取内存泄漏修复程序。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.14_(markt)"><span style="float:right">2018-12-12</span> Tomcat 9.0.14（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.14_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62788">62788</a> ：添加显式日志记录配置，以使用UTF-8写入日志文件，以默认情况下与Tomcat在其他地方使用的UTF-8保持一致。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">缺省Servlet不应覆盖先前设置的内容类型。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复storeconfig的集群加密拦截器密钥属性。（雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将计划的执行程序添加到服务器，该服务器可用于处理定期的实用程序任务。默认情况下，实用程序线程是非守护程序。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用Server执行程序重构容器后台处理器，并添加监视以在发生意外错误时对其进行重新计划。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用服务器执行程序重构并行部署线程。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">引入ConfigurationSource API以标准化对Tomcat核心配置资源的访问。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">通过允许设置配置源来更新Tomcat嵌入式API，这将允许处理核心配置。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用ConfigurationSource API重构server.xml，web.xml，context.xml，其他配置文件和资源的处理。 JASPIC持久性提供程序基于文件加载和存储遗留文件。StoreConfig Tomcat配置文件根据其先前的默认位置存储剩余文件。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62897">62897</a> ：提供财产（ <code>clearReferencesThreadLocals</code> ） <code>Context</code>通过以下方式实现内存泄漏检查的实现<code>ThreadLocal</code>将被禁用，因为此检查取决于Java更高版本中已弃用的API的使用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用重复的SSL属性修复更多storeconfig问题。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62924">62924</a> ：修复了监视代码中引入的文件描述符泄漏<code>tomcat-users.xml</code>进行修改。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">为服务器上配置的生命周期侦听器添加定期事件通知。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62968">62968</a> ：避免不必要的（并且相对昂贵） <code>getResources()</code>处理规则7时在Mapper中调用。（市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将建议的最低Tomcat本机最低版本更新为1.2.19。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62978">62978</a> ：更新RemoteIpValve，以处理<code>x-forwarded-proto</code>标头。Tom Groot提供的补丁。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更新RemoteIpFilter，以处理<code>x-forwarded-proto</code>标头。基于Tom Groot提供的补丁。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62986">62986</a> ：重构在Web应用程序启动期间执行类扫描的代码，以使下游用户的集成更简单。由rmannibucau提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">从storeconfig的监视资源列表中过滤掉tomcat-web.xml。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62988">62988</a> ：修复<code>LoadBalancerDrainingValve</code>因此，在未明确声明会话cookie配置的情况下，它可以工作。基于Andreas Kurth提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.14_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用调度的执行程序重构连接器异步超时线程。（雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">避免在NIO2连接器上使用专用线程来接受，因为它总是效率较低。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用ConfigurationSource API为JSSE加载SSL配置资源。使用OpenSSL需要实际文件。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62899">62899</a> ：当使用Servlet非阻塞I / O通过HTTP / 2流读取请求正文时，防止错误地超时断开连接。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在初始化之前，请避免SSLHostConfig JMX注册错误。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当客户端使用TLS 1.0连接到配置为使用NIO或NIO2和OpenSSL 1.1.1或更高版本的Tomcat HTTPS连接器时，避免潜在的挂起。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.14_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Eclipse Java编译器更新为4.9。Lukasz Jader的附加补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53737">53737</a> ：扩展预编译工具JspC，以包括对资源JAR的支持。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62976">62976</a> ：避免<code>IllegalStateException</code>当使用标记文件打包在JAR文件中时使用后台编译时。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.14_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53553">53553</a> ：添加了从服务器指定context.xml的功能，以便在上载Web应用程序以与Manager Web应用程序一起部署时使用。由AntonLindström提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62918">62918</a> ：过滤出子类型<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62918">mbean，</a>以避免破坏连接器状态页面。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">统一Web应用程序中“操作方法”一词的字母大小写（csutherl）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.14_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用计划的执行程序重构在部落中执行的各种操作。当部落不是独立运行时，它将使用Catalina服务器中的执行程序。如果独立运行，则通道将提供执行程序。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使EncryptInterceptor线程安全。这使得该拦截器实际上可用。 （舒尔茨/马克特）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将对GCM模式的支持添加到EncryptInterceptor。 （舒尔茨）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.14_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在Cygwin Shell中运行时避免错误，并且<code>JAVA_ENDORSED_DIRS</code>系统属性为空。补丁由Zemian Deng提供。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的法语翻译的覆盖范围和质量。包括来自remm，soliplaya，LudovicPénet，David，NicolasG和bdelacretaz的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将简体中文翻译添加到Apache Tomcat的翻译中。包括来自罗伦，syseal，Winsonzhao，袁宇杰，Lanranzi，ZhangJieWen，Jerry，yinzhili001，安柏诚，shawn，薰衣草，郑丰，zengwc，Richard Ho，mm，gingshi huang，Bob，geekwang，zheng，Deanzhg，Tianfengjingjing，潘布莱克（Okok），戴夫·纽曼（Dave Newman），Cnfnss，马云（Jim Ma），852394875，胡兴和格林曼（Greenman）0007。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将韩语翻译添加到Apache Tomcat。包括woonsan，JunSang Park，Song Choe和OhChan的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩大Apache Tomcat随附的西班牙语翻译的覆盖范围和质量。包括来自Ulises Gonzalez Horta，以色列，Eduardo Quintanilla和Miguel suarez的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的俄语翻译的覆盖范围和质量。包括solomax，Rafael Sachakov和Andrei Maiseyenka的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的德语翻译的覆盖范围和质量。包括来自Matk80，burghard，Daniel Wehringer和Felix Schumacher的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展Apache Tomcat随附的日语翻译的覆盖范围和质量。包括Yujiorama，motohashi.yuki和kfujino的贡献。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将巴西葡萄牙语翻译添加到Apache Tomcat。包括来自geraldo netto的贡献。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在标准Tomcat发行版中包括巴西葡萄牙语翻译。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在标准Tomcat发行版中包括简体中文翻译。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在标准Tomcat发行版中包含韩语翻译。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">使用Maven为Tomcat添加打包方法，并为其添加容器构建文件。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将XML命名空间添加到所有POM文件的项目元素中，以便XML文件格式正确且有效。 （csutherl）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53930">53930</a> ：添加了对<code>CATALINA_OUT_CMD</code>环境变量，用于定义将捕获的stdout和stderr重定向到的命令。凯西·卢卡斯（Casey Lucas）提供的补丁。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.19，以获取使用APR 1.6.5和OpenSSL 1.1.1a构建的最新Windows二进制文件。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将i18n添加到许多缺少它的字符串中。 （雷姆）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.13_(markt)"><span style="float:right">2018-11-07</span> Tomcat 9.0.13（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.13_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58590">58590</a> ：如果检测到上次修改时间的更改，则增加了UserDatabase监视后备XML文件的更改并重新加载源文件的功能。默认情况下启用此功能，即更改为<code>$CATALINA_BASE/conf/tomcat-users.xml</code>现在将在文件保存后不久生效。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61171">61171</a> ：添加<code>portOffset</code>归因于<code>Server</code>元素添加到已配置的关闭和<code>Connector</code>端口。基于Marek Czernek的补丁。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61692">61692</a> ：添加了通过新的初始化参数控制CGI Servlet处理哪些HTTP方法的功能<code>cgiMethods</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62687">62687</a> ：使用压缩战争时公开资源的内容长度信息。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62737">62737</a> ：修复了{}嵌套的重写替换解析。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">恢复重写配置时，添加重写标志输出。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将丢失的qsdiscard标志添加到重写标志中，作为丢弃查询字符串的更干净的方法。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62755">62755</a> ：增加了在嵌入Tomcat并通过以下方式添加上下文时选择不添加默认的web.xml配置的功能<code>addWebapp()</code> 。呼叫<code>setAddDefaultWebXmlToWebapp(false)</code>防止自动配置。 （伊萨皮尔）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">添加有关文件的文档<code>context.xml.default</code>和<code>web.xml.default</code>可以用来定制<code>conf/context.xml</code>和<code>conf/web.xml</code>基于每个主机。 （fschumacher）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保规范路径始终用于上下文的docBase，以确保行为一致。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62803">62803</a> ：修复了storeconfig中的SSL连接器配置处理。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62797">62797</a> ：可传递的传递以使客户端中止状态为200而不是500。zikfat提交的补丁。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62802">62802</a> ：还原<code>appContextProtection</code>归因于<code>JreMemoryLeakPreventionListener</code>因为应用程序代码仍可能触发此内存泄漏。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62809">62809</a> ：更正了对Deployer Ant任务的DIGEST身份验证支持的实现中的回归（错误<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=45832">45832</a> ），该回归阻止了<code>DeployTask</code>需要身份验证时无法正常工作。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将建议的最低Tomcat本机最低版本更新为1.2.18。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">忽略名为<code>source</code>上<code>Context</code>提供的元素<code>StandardContext</code> 。这是为了抑制由Eclipse提供的Eclipse / Tomcat集成生成的警告。基于mdfst13的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62830">62830</a> ：添加<code>JniLifeCycleListener</code>和静态方法<code>Library.loadLibrary(libraryName)</code>和<code>Library.load(filename)</code>通过共享类加载器加载本机库，以便多个Webapp可以使用它。 （伊萨皮尔）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构<code>Connector</code>这样就可以从<code>Endpoint</code>而不是可能最终不同步的本地字段。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正西班牙语资源文件中的错字。DiegoAgulló提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62868">62868</a> ：订购<code>Enumeration<URL></code>由...提供<code>WebappClassLoaderBase.getResources(String)</code>根据委托标志的设置。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.13_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">将TLSv1.3添加到默认协议以及<code>all</code>在支持TLS版本1.3的JVM上运行时，基于JSSE的TLS连接器的别名。这样的JVM就是OpenJDK版本11。（rjung）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62685">62685</a> ：更正主机名验证解析中的错误，该错误不允许完全限定的域名以句点终止。AG提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使PEM文件解析器成为公共实用程序类。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62739">62739</a> ：请勿拒绝具有空HTTP Host标头的请求。这样的请求是异常的，但不是无效的。迈克尔·奥尔（Michael Orr）提供的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62748">62748</a> ：使用OpenSSL支持的JSSE实现时，为APR / Native连接器和NIO / NIO2连接器添加了TLS 1.3支持。 （舒尔茨/马克特）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62791">62791</a> ：删除了NIO TLS实施中不必要的检查，该检查阻止建立安全的WebSocket连接。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当使用NIO / NIO2和OpenSSL支持的JSSE TLS实现时，修订服务器启动TLS重新协商以获得客户端证书。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果套接字绑定过程失败，请确保清理打开的套接字等。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62871">62871</a> ：改进端点实例的MBean（类型<code>ThreadPool</code>在JMX中），方法是使用属性和操作的显式声明，而不是依靠内省。添加一个新的MBean以公开<code>Socketproperties</code>价值观。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.13_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确解析TLD函数签名中的XML空格，该签名错误地仅寻找空格字符。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62674">62674</a> ：在独立的JSP编译器实用程序中更正回归， <code>JspC</code> ，由<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53492">53492</a>的修复程序引起，导致JSP编译器挂起。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62721">62721</a> ：使用JspC时，正确生成了web.xml标头。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62757">62757</a> ：更正了导致<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62603">62603</a>的修复程序中的回归<code>NullPointerException</code>禁用开发模式并启用后台编译时，第一次访问时编译标记文件时。基于Jordi Llach的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.13_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62731">62731</a> ：将URI返回为<code>HandshakeRequest.getRequestURI()</code>和<code>Session.getRequestURI()</code>绝对，以便可以访问方案，主机和端口。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.13_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62676">62676</a> ：扩展CORS筛选器文档以明确要求进行显式配置才能支持跨域请求。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62712">62712</a> ：尝试查看APR /本机TLS连接器的已配置证书时，在Manager应用程序中更正了NPE。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62761">62761</a> ：更正过滤器文档中的高级CORS示例，以使用有效的配置。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62786">62786</a> ：在Context文档中添加注释，以说明默认情况下，server.xml中定义的Context元素的设置将被默认上下文文件中指定的设置覆盖，例如<code>conf/context.xml</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在Manager应用程序中的Undeploy按钮和其他按钮之间创建一些视觉上的分隔。ŁukaszJąder提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.13_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">加<code>setMembershipService</code>方法<code>MembershipProvider</code> 。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">基于Maxime Beck的代码的实验性Kubernetes感知云成员资格提供商。包含从jgroup派生的代码。 （雷姆/ kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">移动事件通知<code>ThreadPoolExecutor</code>至<code>MembershipProviderBase</code> 。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">即使所有成员都已经消失并且无法发送PING，也请确保成员已过期。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">添加成员后，请确保从可疑列表中删除该成员。（kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将EncryptInterceptor添加到可用的集群拦截器的产品组合中。这将会话数据的对称加密添加到Tomcat群集中，而不管所使用的群集管理器类型或成员身份如何。 （舒尔茨）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.13_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">端口DBCP事务同步注册表修复程序（提交d49d45e）。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Apache Commons Pool 2的内部fork更新为d4e0e88（2018-09-12），以获取一些错误修复和增强功能。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62705">62705</a> ：在构建Tomcat时，添加了快速失败检查以快速检查最低必需的Apache Ant版本1.9.8。 （伊萨皮尔）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加了ant目标ide-intellij来创建IntelliJ IDEA项目。 （伊萨皮尔）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">从Robert Fischer编写的公共领域javacc语法生成的实用程序JSON解析器。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.18，以获取使用APR 1.6.5和OpenSSL 1.1.1构建的最新Windows二进制文件。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.12_(markt)"><span style="float:right">2018-09-10</span> Tomcat 9.0.12（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.12_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用RequestDispatcher对象时，改进对路径参数的处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62664">62664</a> ：处理内容类型的请求<code>multipart/form-data</code>到带有<code>@MultipartConfig</code>注释，无论HTTP方法如何。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62667">62667</a> ：添加递归以重写替换解析。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62669">62669</a> ：使用SSIFilter且资源未指定内容类型时，请勿强制将内容类型设置为<code>application/x-octet-stream</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62670">62670</a> ：调整内存泄漏保护<code>DriverManager</code>这样JDBC驱动程序位于<code>$CATALINA_HOME/lib</code>和<code>$CATALINA_BASE/lib</code>启用保护后，将通过服务加载程序机制加载这些文件。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在默认Servlet中生成到目录的重定向时，请避免生成协议相对重定向。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.12_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用HTTP / 2连接器进行异步Servlet处理时，修复潜在的死锁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62620">62620</a> ：修复了通过HTTP / 2使用异步处理编写大型正文时响应正文的损坏。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62628">62628</a> ：针对使用HTTP / 2上的异步处理编写大型主体时响应主体的输出损坏的其他修复程序。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">对Netware的支持<code>org.apache.tomcat.jni</code>由于多年来没有受支持的Netware平台，因此已删除该软件包。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.12_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正启用xpoweredBy选项时生成的X-PoweredBy HTTP标头中的JSP版本。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62662">62662</a> ：修复了JSP编译期间由<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53492">53492</a>引起的web.xml输出损坏。Bernhard Frauendienst提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.12_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展文档Web应用程序中有关以下内容的使用的信息： <code>CATALINA_HOME</code>和<code>CATALINA_BASE</code> 。Marek Czernek提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62652">62652</a> ：更清楚地说明，Tomcat 9.0.x中打包的DBCP版本是DBCP 2。更正在1.x和2.x之间更改的某些DBCP 2配置属性的名称。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62666">62666</a> ：扩展Manager应用程序中的国际化支持，以包括服务器状态页面，并提供除英语之外的俄语翻译。Artem Chebykin提供的补丁。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.12_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用closer.lua脚本将构建脚本切换为使用http从ASF镜像下载，以避免由于HTTPS到HTTP重定向而导致失败。 （荣）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.11_(markt)"><span style="float:right">2018-08-17</span> Tomcat 9.0.11（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.11_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">使<code>isLocked()</code>的方法<code>LockOutRealm</code>公开并通过JMX公开该方法。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53387">53387</a> ：将对正则表达式捕获组的支持添加到SSI Servlet和过滤器。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53411">53411</a> ：改进了在未配置默认主机时未明确指定主机名的HTTP请求的处理。当Tomcat运行时添加和删除主机时，还可以改善对默认主机更改的跟踪。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用CORS筛选器时，请确保正确设置了HTTP Vary标头，并提高了通过COPRS筛选器的请求的可缓存性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62527">62527</a> ：将JNDI的限制还原为<code>java:</code>命名空间。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">开设新课程- <code>MultiThrowable</code> -在执行多个操作时报告异常，其中每个操作都可能引发异常，但是所有操作都在报告任何错误之前执行。在启动过程中报告多个容器（例如Web应用程序）失败时，请使用此新类。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确解码URL路径（ <code>+</code>不应解码为路径中的空格） <code>RequestDispatcher</code>和Web应用程序类加载器。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">如果JASPIC主题意外不可用，请使注销更加可靠。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62547">62547</a> ：日本<code>cleanSubject()</code>配置身份验证器以缓存已验证的主体时，未在注销时调用。GuillermoGonzálezdeAgüero提供的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62559">62559</a> ：添加<code>jaxb-*.jar</code>到被忽略的JAR列表中<code>StandardJarScanner</code> 。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62560">62560</a> ：添加<code>oraclepki.jar</code>到被忽略的JAR列表中<code>StandardJarScanner</code> 。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62607">62607</a> ：从中返回非零退出代码<code>catalina.[bat|sh] run</code>如果Tomcat无法启动。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用短路逻辑来防止CorsFilter中潜在的NPE。 （fschumacher）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">从JAASRealm中的容器名称简化appName的构造。 （fschumacher）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">去掉<code>ServletException</code>从声明<code>Tomcat.addWebapp(String,String)</code>因为它永远不会被抛出。Tzafrir提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.11_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="码：" class="icon" src="./images/code.gif">重构HTTP日期创建和解析，以减少代码重复，减少ThreadLocals的使用并增加缓存的使用。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=56676">56676</a> ：为本地库添加默认位置，即$ {catalina.home} / bin，测试套件已在其中使用它。 （雷姆）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60560">60560</a> ：添加对使用继承的通道到NIO连接器的支持。基于Thomas Meyer提交的补丁以及Coty Sutherland的测试和建议。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62507">62507</a> ：确保基于JSSE的TLS连接器与DKS密钥库一起正常工作。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构代码，在其中添加了额外的标头名称<code>Vary</code> HTTP响应标头，以使用通用的实用程序方法来解决其他几种极端情况。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62515">62515</a> ：配置连接器时（通过设置<code>bindOnInit</code>至<code>false</code> ）以在启动/停止期间绑定/取消绑定服务器套接字，请在停止过程中更早关闭套接字，以便在关闭过程中新连接不会位于TCP待办事项列表中，而只能在停止完成时删除。在这种情况下，现在将立即拒绝新的连接。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62526">62526</a> ：当密钥库密码配置为空字符串时，可以正确处理PKCS12格式的密钥库。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62605">62605</a> ：确保<code>ReadListener.onDataAvailable()</code>当通过HTTP / 2使用异步处理时，当初始请求正文数据到达请求标头之后，将调用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62614">62614</a> ：确保<code>WriteListener.onWritePossible()</code>被称为<code>isReady()</code>退货<code>false</code>当通过HTTP / 2使用异步处理时，窗口大小随后会增加。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.11_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53492">53492</a> ：使Java文件生成过程成为多线程。默认情况下，每个内核将使用一个线程。基于Dan Fabulich的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62453">62453</a> ：添加了性能优化，以在标签中使用依赖于隐式范围的未初始化标签属性的表达式。通常，在EL中使用带有标签属性的显式作用域是避免各种潜在性能问题的最佳方法。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确解码URL路径（ <code>+</code>不应在Jasper类加载器中解码为路径中的空格）。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62603">62603</a> ：修复了禁用开发模式并启用后台编译检查时的潜在竞争条件。某些更新可能不会生效和/或<code>ClassNotFoundException</code>会发生。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.11_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62596">62596</a> ：取消了用于建立Web套接字连接的初始HTTP升级请求的大小限制。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.11_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62558">62558</a> ：为Manager和Host Manager Web应用程序添加俄语翻译。基于Ivan Krasnov的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">为静态会员服务添加文档。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62561">62561</a> ：将有关服务器和共享类加载器使用的高级类加载器配置信息添加到文档Web应用程序。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.11_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保指定<code>rxBufSize</code>正确设置为接收器缓冲区大小。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正通道组件的停止顺序。它以与启动时相反的顺序停止。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加了新的StaticMembership实现。此实现不需要其他任何其他配置<code>ChannelInterceptors</code> 。它仅适用于会员服务。（kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.11_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">支持在运行时保留Java 8兼容性的同时使用Java 9+进行构建（需要Ant 1.9.8或更高版本）。 （外景）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将WSDL4J库更新到1.6.3版（从1.6.2版开始）。 （kkolinko）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将JUnit库更新到版本4.12（从4.11开始）。 （kkolinko）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">由于Maven Central无法提供版本2.2.3，因此将用于EasyMock测试的CGLib库降级到版本2.2.2（从2.2.3开始）。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">下载用于构建Tomcat的依赖项时，实施校验和检查。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">固定的拼写。Jimmy Casey通过GitHub提供的补丁。 （紫罗兰色）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Apache Commons Pool 2的内部fork更新为3e02523（2018-08-09），以获取一些错误修复和增强功能。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Apache Commons DBCP 2的内部fork更新为abc0484（2018-08-09），以获取一些错误修复和增强功能。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在源代码和文档中更正各种拼写错误。Kazuhiro Sera提供的补丁。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.10_(markt)"><span style="float:right">2018年6月25日</span>的Tomcat 9.0.10（Markt的）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.10_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62476">62476</a> ：使用GMT时区作为值<code>Expires</code> HTTP规范（RFC 7231，7234）要求的标头。 （kkolinko）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.9_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.9（标记）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.9_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">对待<code><mapped-name></code>一个元素<code><env-entry></code>在web.xml中的方式与<code>mappedName</code>等价元素<code>@Resource</code>注解。两者现在都尝试设置<code>mappedName</code>资源的属性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正资源处理<code><injection-target></code>在web.xml中定义。首先，使用JavaBean属性名称查找匹配项，然后，仅当找不到匹配项时，才使用字段查找匹配项。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在FORM验证后使用请求正文还原保存的请求时，请确保调用<code>HttpServletRequest</code>方法<code>getRequestURI()</code> ， <code>getQueryString()</code>和<code>getProtocol()</code>不会被保存的请求正文的处理破坏。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">现在将使用注入目标定义但没有值的JNDI资源视为未定义资源。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保用于的JNDI名称<code><lookup-name></code> web.xml中的条目以及<code>lookup</code>要点<code>@Resource</code>批注使用显式指定名称<code>java:</code>命名空间。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=50019">50019</a> ：添加对<code><lookup-name></code> 。基于Gurkan Erdogdu的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加<code>AuthenticatedUserRealm</code>仅在需要经过身份验证的用户名时才可与CLIENT-CERT和SPNEGO一起使用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=50175">50175</a> ：将新属性添加到标准上下文实现中， <code>skipMemoryLeakChecksOnJvmShutdown</code> ，允许用户将Tomcat配置为跳过通常由Web应用程序停止期间执行的内存泄漏检查（如果该停止由JVM关闭触发）。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=51497">51497</a> ：添加选项， <code>ipv6Canonical</code> ，到<code>AccessLogValve</code>导致IPv6地址以RFC 5952定义的规范格式输出。（ognjen / markt）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=51953">51953</a> ：添加<code>RemoteCIDRFilter</code>和<code>RemoteCIDRValve</code>可以用于允许/拒绝基于IPv4和/或IPv6客户端地址的请求，其中IP范围是使用CIDR表示法定义的。基于Francis Galiegue的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62343">62343</a> ：使CORS过滤器默认设置更安全。这是CVE-2018-8014的修复程序。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保Web应用程序资源实现不会错误地缓存仅作为类加载器资源可见的资源的结果。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62387">62387</a> ：如果基于文件的持久性会话存储由于尚未创建该会话而使该会话无效时未能删除该会话的文件，则不要记录警告消息。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使与Tomcat关联的所有记录器提供的“过滤器”均为非静态，以确保在重新加载Web应用程序时不会丢失日志消息。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正批注-api.jar的清单。JAR实现了Common Annotations API 1.3，清单应该反映出这一点。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">切换到非静态记录器，其中记录器可能与Web应用程序类加载器相关联，如果Web应用程序停止，则会导致日志消息丢失。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62389">62389</a> ：将IPv6回送地址添加到默认值<code>internalProxies</code>正则表达式。克雷格·安德鲁斯的补丁。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在里面<code>RemoteIpValve</code>和<code>RemoteIpFilter</code> ，正确处理请求通过一个或多个请求时的情况<code>trustedProxies</code>但不是<code>internalProxies</code> 。基于zhanhb的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正逻辑<code>MBeanFactory.removeConnector()</code>以确保当多个连接器使用不同的地址但使用相同的端口时，删除了正确的连接器。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使<code>JAASRealm</code>通过要求经过身份验证的主体包括至少一个由以下方式指定类型的主体，错误配置会更加明显<code>userClassNames</code> 。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.9_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正错误页面处理中的回归，该回归阻止了错误页面发出重定向或采取其他需要更改响应状态代码的操作。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> NIO2 SSL的一致异常传播关闭。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> NIO2异步IO的后续同步修复程序阻止了读/写。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果AJP连接器检测到反向代理正在发送的AJP消息对于配置的太大，则记录一条错误消息<code>packetSize</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">通过取消FQDN的最后部分必须为字母的要求来放宽主机验证。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62371">62371</a> ：改进了对主机验证失败的记录。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在关闭APR /本机连接器时，修复了一些不太可能的边缘情况。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">为NIO2添加丢失的握手超时。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">用户名包含转义字符时，请正确处理摘要授权标头。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当十六进制字段值之一以无效字符结尾标头时，正确处理摘要授权标头。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确处理广告中的无效质量值<code>Accept-Language</code>标头。 （市场）</li>
      <li><img alt="文件：" class="icon" src="./images/docs.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62423">62423</a> ：修复SSL文档CRL属性拼写错误。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">通过确保IPv4映射的IPv6地址在IPv4部分中不包含前导零来改进IPv6验证。基于Katya Stoycheva的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">固定<code>NullPointerException</code>从抛出<code>replaceSystemProperties()</code>尝试记录消息时。 （csutherl）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免不必要的异步超时处理。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.9_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=50234">50234</a> ：向JspC添加了生成web-fragment.xml文件的功能。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62080">62080</a> ：确保通过UEL API和实现对当前线程的上下文类加载器进行所有读取， <code>PrivilegedAction</code>确保一个<code>SecurityException</code>在A下运行时不会触发<code>SecurityManager</code> 。 （标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62350">62350</a> ：重构<code>org.apache.jasper.runtime.BodyContentImpl</code>所以<code>SecurityException</code>在SecurityManger下运行时不会抛出异常，并且不需要其他权限<code>catalina.policy</code>文件。这是对<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=43925">43925</a>的修复。 （kkolinko /市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">从Tomcat 9启用JspC，使其可以与为Tomcat 8.5.x编写的Maven JspC编译器插件一起使用。Pavel Cibulka提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更新由JspC生成的web.xml，web-fragment.xml和web.xml提取，以使用相关模式的Servlet 4.0版本。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.9_(markt)/Cluster">簇</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">创建复制的会话时，请删除重复的呼叫，以减少创建会话所花费的时间，从而减少由于该会话尚不存在而忽略后续会话更新消息的机会。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加方法以使用指定的sendOptions发送消息。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">发送时<code>GET_ALL_SESSIONS</code>消息，请确保发送带有异步选项，以避免ack超时。等待接收<code>ALL_SESSION_DATA</code>消息应该与<code>waitForSendAllSessions</code>而不是ACK。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.9_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用NIO2 API进行WebSocket写入。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当路径参数解码失败时，请确保抛出<code>DecodeException</code>而不是扔<code>ArrayIndexOutOfBoundsException</code> 。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进WebSocket客户端在TLS握手期间的异常处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将TLS与WebSocket客户端一起使用时，请启用主机名验证。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.9_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62395">62395</a> ：澄清连接器属性的含义<code>minSpareThreads</code>在文档Web应用程序中。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正有关的文档<code>allowHostHeaderMismatch</code> HTTP连接器实现的属性。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.9_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在以下位置检索未设置的属性时，请确保返回正确的默认值： <code>McastService</code> 。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">使<code>MembershipService</code>更容易扩展。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.9_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">什么时候<code>logValidationErrors</code>设置为true，连接验证错误记录为<code>SEVERE</code>代替<code>WARNING</code> 。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.9_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保可以使用Java 11从源代码构建Apache Tomcat。（标记）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=52381">52381</a> ：将OSGi元数据添加到JAR文件中。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62391">62391</a> ：删除对以下内容的引用<code>javaw.exe</code>因为Tomcat不需要此文件，并且引用阻止使用Server JRE。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.17，以获取使用APR 1.6.3和OpenSSL 1.0.2o构建的最新Windows二进制文件。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62458">62458</a> ：将Commons Pool 2的内部fork更新为dfef97b（2018-06-18），以获取一些错误修复和增强功能。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons DBCP 2的内部fork更新为2.4.0。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.8_(markt)"><span style="float:right">2018-05-03</span> Tomcat 9.0.8（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.8_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62263">62263</a> ：避免<code>NullPointerException</code>当。。。的时候<code>RemoteIpValve</code>处理找不到上下文的请求。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62258">62258</a> ：当错误导致与客户端的连接被关闭时，请勿触发标准错误页面机制，因为没有人会看到错误页面。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当数据源资源注册MBean <code>type="javax.sql.XADataSource"</code> 。三浦正史提供的补丁。（csutherl）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了在实际使用中不太可能发生的极少数情况。这种边缘情况意味着将较长的UTF-8字符流写入几乎完全由代理对组成的HTTP响应中可能会导致一个代理对被丢弃。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将Apache Commons BCEL的内部fork更新为r1829827，以将早期访问Java 11支持添加到注释扫描代码。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62297">62297</a> ：启用<code>CrawlerSessionManagerValve</code>在主机或引擎上配置Valve时正确处理爬网多个主机和/或Web应用程序的漫游器。 （fschumacher）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62309">62309</a> ：修复<code>SecurityException</code>在下使用JASPIC时<code>SecurityManager</code>当认证不是强制性的时。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62329">62329</a> ：当目录没有专用条目时，请正确列出JAR文件中的资源。MeelisMüür提供的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">折叠多个领先<code>/</code>单个字符<code>/</code>在...的返回值中<code>HttpServletRequest#getContextPath()</code>避免将值与<code>HttpServletResponse#sendRedirect()</code> 。此行为默认情况下处于启用状态，并且可以通过新的Context属性进行配置<code>allowMultipleLeadingForwardSlashInPath</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用补充字符改进UTF-8解码器中的溢出处理。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.8_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">纠正线程池中的一对一错误，该错误使线程池的大小增加到比配置的限制大一倍。usc提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">防止将NIO或NIO2连接器与NIO或NIO2连接器一起使用时，由于前一次握手期间的错误导致的意外TLS握手失败，而该错误没有正确清理。 <code>OpenSSLImplementation</code> 。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62273">62273</a> ：实施配置选项以解决规范不兼容的用户代理（包括所有主要浏览器）的问题，这些用户代理无法正确地对RFC 7230和RFC 3986要求的URI路径和查询字符串进行％nn编码。（标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复NIO2异步IO阻止读取/写入的同步。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.8_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Eclipse Java编译器更新为4.7.3a。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">允许<code>9</code>用于将Java 9指定为JSP编译的编译器源和/或编译器目标。的抢先体验价值<code>1.9</code>仍受支持。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加对指定Java 10的支持（使用值<code>10</code> ）作为JSP编译的编译器源和/或编译器目标。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62287">62287</a> ：请勿依<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62287">赖哈希</a>码来测试<code>ValueExpressionImpl</code>为了平等。Mark Struberg提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.8_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62301">62301</a> ：更正了针对<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61491">61491</a>的修复程序中的回归，该回归在所有情况下均不能在所有情况下正确处理最终的空消息部分<code>PerMessageDeflate</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62332">62332</a> ：在遇到从客户端读取的I / O错误后，请确保WebSocket连接已关闭。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.8_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当在Cygwin下运行时，避免警告<code>JAVA_ENDORSED_DIRS</code>未设置环境变量。补丁由Zemian Deng提供。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.7_(markt)"><span style="float:right">2018-04-07</span> Tomcat 9.0.7（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.7_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=51195">51195</a> ：通过清除来避免对Web应用程序内存泄漏的误报。 <code>ObjectStreamClass$Caches</code> Web应用程序停止时由Web应用程序加载的类的数量。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=52688">52688</a> ：添加对<code>maxDays</code>归因于<code>AccessLogValve</code>和<code>ExtendedAccessLogValve</code> 。这允许在定义删除之前保留轮换访问日志的最大天数。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保MBean名称为<code>SSLHostConfig</code>和<code>SSLHostConfigCertificate</code>当<code>Connector</code>绑定到特定的IP地址。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62168">62168</a> ：使用<code>PersistentManager</code>尊重的价值<code>-1</code>对于<code>minIdleSwap</code>并且不要交换会话以使活动会话数保持在<code>maxActive</code> 。Holger Sunke提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62172">62172</a> ：针对以下内容改进Javadoc <code>org.apache.catalina.startup.Constants</code>并确保正确使用常数。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62175">62175</a> ：在加载时尝试验证会话时，请避免无限递归<code>PersistentManager</code> 。（fschumacher）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保这件事<code>NamingContextListener</code>实例仅在关联的命名资源上的属性更改被通知一次。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62224">62224</a> ：禁用<code>forkJoinCommonPoolProtection</code>的<code>JreMemoryLeakPreventionListener</code>在Java 9及更高版本上运行时，已修复了底层JRE错误。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.7_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免APR /本机轮询器中的潜在循环。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保已接收但未处理的流从跟踪已处理流的最大ID中排除。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构对暂停的连接器的检查，以始终防止在暂停连接器之后创建新的流。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进HTTP / 2推送流的调试日志记录。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">现在，OpenSSL引擎SSL会话将忽略无效访问。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62177">62177</a> ：使用HTTP / 2纠正两个协议错误<code>PUSH_PROMISE</code>框架。首先，HTTP / 2协议仅允许在对等发起的请求上发送推送。其次，必须按增加的流ID的顺序发送推送。这些限制没有得到强制执行，从而导致客户端出现协议错误。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.7_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">为添加文件<code>FragmentationInterceptor</code> 。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">记录在以下情况下如何确定已认证用户的角色<code>CombinedRealm</code>用来。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62163">62163</a> ：更正Tomcat安装程序文档，该文档错误地将Java 7称为最低版本，而不是<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62163">Java8</a> 。（标记）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.7_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">添加对JMX的支持<code>FragmentationInterceptor</code>为了防止启动警告。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.7_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保这件事<code>SQLWarning</code>连接返回池时已清除。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">启用清除<code>SQLWarning</code>通过JMX。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保在以下情况下清除了参数<code>PreparedStatement</code>和/或<code>CallableStatement</code>被缓存。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">启用即使启动PoolCleaner <code>validationQuery</code>未设置。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.7_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新构建脚本，以便不再根据ASF分发策略中的更改为发行版生成MD5哈希。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62164">62164</a> ：将构建脚本切换为使用TLS从SourceForge和Maven Central下载，以避免由于HTTP到HTTPS重定向而导致失败。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">启动JVM时，始终报告操作系统的umask。 （舒尔茨）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将托管连接软件包添加到名为DBCP 2的软件包中，以在Tomcat中提供完整的DBCP 2。 （雷姆）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.6_(markt)"><span style="float:right">2018-03-08</span> Tomcat 9.0.6（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.6_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=43866">43866</a> ：将其他属性添加到Manager中，以控制已将属性添加到会话（如果已使用相同名称添加）时将调用哪些侦听器。这有助于在以下情况下进行集群方案： <code>setAttribute()</code>通常会调用“”来表示属性值已被更改并且需要复制，但是触发关联的侦听器可能不需要，甚至不希望使用它。默认行为尚未更改。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">调用类转换器时的次要优化。 （荣）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将无效请求或不可用服务触发的错误传递给应用程序提供的错误处理和/或容器提供的错误处理（ <code>ErrorReportValve</code> ） 作为适当的。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=41007">41007</a> ：添加了使用以下命令为特定错误代码和/或异常类型指定静态HTML响应的功能： <code>ErrorReportValve</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">防止Tomcat将gzip压缩应用于已经使用brotli压缩进行压缩的内容。基于burka提供的补丁。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62090">62090</a> ：不允许使用空容器名称。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62104">62104</a> ：修复了编程登录回归，因为必须设置NonLoginAuthenticator才能使其正常工作（如果未指定登录方法）。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62117">62117</a> ：改进以下错误消息<code>catalina.sh</code>打电话时<code>kill -0 <pid></code>失败。根据Mark Morschhaeuser的建议。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62118">62118</a> ：正确创建JNDI <code>ServiceRef</code>使用指定的接口而不是具体的类型。根据ÁngelÁlvarezPáscua的建议。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复<code>RequestDumperFilter</code>日志属性。Kirill Romanov通过Github提供的补丁。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62123">62123</a> ：避免<code>ConcurrentModificationException</code>尝试清理应用程序时，Web应用程序停止时触发了RMI内存泄漏。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">部署包含以下内容的部署描述符时： <code>path</code>属性，记录警告<code>path</code>属性将被忽略。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">当部署引用外部的部署描述符时<code>docBase</code>结果是<code>docBase</code>在下面<code>appBase</code>将被忽略，记录警告。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60276">60276</a>修复程序中的回归，这意味着将压缩应用于所有MIME类型。Stefan Knoblich提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.6_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">为NIO2添加异步HTTP / 2解析器。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">根据Stuart Douglas的修补程序添加次要的HPACK修补程序。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61751">61751</a> ：跟进修复程序，以便在未产生字节且输入为空的情况下，OpenSSL引擎在展开<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61751">包装</a>时返回下溢。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">少量OpenSSL引擎清理。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> NIO SSL握手应在溢出状态上引发异常，例如NIO2 SSL。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.6_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=47467">47467</a> ：当通过管理器应用程序部署Web应用程序且未明确指定路径时，请从提供的部署描述符或WAR或DIR（如果不存在）中获取它。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=48672">48672</a> ：添加有关主机管理器Web应用程序的文档。Marek Czernek提供的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">通过Manager应用程序HTML界面部署应用程序时，添加对指定应用程序版本的支持。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">解决某些版本的IE中已知的，不符合规范的行为，当Manager应用程序生成纯文本响应时，该行为可能允许XSS。根据Muthukumar Marikani的建议。（市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.5_(markt)"><span style="float:right">2018-02-11</span> Tomcat 9.0.5（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.5_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">防止在Java 10上运行时将堆栈跟踪写入标准输出，原因是<code>LogManager</code>实施。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果已经进行过一次加载尝试，则避免重复尝试。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果没有引擎，请避免在ThreadLocalLeakPreventionListener中使用NPE。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62000">62000</a> ：当无法解析JNDI引用时，请确保报告根本原因异常，而不是将其吞下。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62036">62036</a> ：使用Web应用程序配置了Web应用程序时，在会话中缓存经过身份验证的用户主体时<code>NonLoginAuthenticator</code> ，请缓存内部Principal对象，而不是面向用户的Principal对象，因为Tomcat要求内部对象正确处理以后的授权检查。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">重构错误处理，以使在将处理传递给应用程序之前发生的错误可以由应用程序提供的错误处理和/或容器提供的错误处理进行处理（ <code>ErrorReportValve</code> ） 作为适当的。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将由缺少的ROOT Web应用程序触发的404错误传递到容器错误处理，以生成响应主体。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将无效请求目标触发的400个错误传递到容器错误处理，以生成响应主体。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">提供正确的<code>Allow</code>响应HTTP时的标头<code>TRACE</code>请求具有405状态代码的JSP。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用嵌入式Tomcat时，在Web应用程序启动期间仅执行一次Authenticator配置。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62067">62067</a> ：使用以下URL模式正确地应用映射到上下文根的安全约束： <code>""</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">处理全部<code>ServletSecurity</code>注释在Web应用程序开始时而不是在Servlet加载时开始，以确保约束被一致地应用。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.5_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61751">61751</a> ：修复了将NIO2与TLS一起使用时修复的请求输入流被截断的问题。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62023">62023</a> ：使用APR连接器而不是使Tomcat崩溃时，报告多个SSLHostConfig元素时记录错误。 （csutherl）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62032">62032</a> ：当未在SSLHostConfig上定义certificateFile时，修复了NullPointerException，并在定义了certificateFile但对于JKS和PEM文件类型都不存在该文件时，统一了行为。 （csutherl）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保<code>toString()</code>方法在以下方面表现一致<code>ByteChunk</code>和<code>CharChunk</code>然后<code>null</code>何时返回<code>toString()</code>在新创建的对象上以及在调用之后立即被调用<code>recycle()</code> 。这不应影响典型的Tomcat用户。这可能会影响直接在自己的代码中使用这些类的用户。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保<code>toString()</code> ， <code>toBytes()</code>和<code>toChars()</code>方法<code>MessageBytes</code>表现一致，不要扔<code>NullPointerException</code>既在新创建的对象上，又在调用之后<code>recycle()</code> 。这不应影响典型的Tomcat用户。这可能会影响直接在自己的代码中使用这些类的用户。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当在HTTP连接器中处理HTTP 1.0请求且请求中未提供主机信息时，请从本地端口而不是连接器配置获取服务器端口，因为配置值可能为零。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">对所有连接器启用提供的主机名和端口的严格验证。主机名和/或端口无效的请求将被拒绝，并带有400响应。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更新主机验证，以允许主机名和域名的组成部分（顶级域名除外）以数字开头，并确保顶级域名完全按字母顺序排列。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62053">62053</a> ：使用HTTP / 2 NIO2编写<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62053">推头时，</a>修复了NPE。Holger Sunke提交的补丁。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.5_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">包括一个HTTP <code>Allow</code>当JSP由于使用不支持的方法的请求而生成405响应时的标头。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加对HTTP的支持<code>OPTION</code> JSP的方法。JSP规范明确指出，对于JSP，此方法的行为未定义，因此，这是Tomcat特定的行为。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.5_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62024">62024</a> ：当关闭异常关闭的连接时，请立即关闭套接字，而不要等待客户端可能永远不会到达的关闭消息。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Webapps">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62049">62049</a> ：修复了管理器404 JSP错误页面中缺少的类。（雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.5_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">增强对jdbc-pool的JMX支持以公开<code>PooledConnection</code>和<code>JdbcInterceptors</code> 。（kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">为添加MBean <code>PooledConnection</code> 。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62011">62011</a> ：添加用于<code>StatementCache</code> 。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">通过JMX公开每个连接的缓存大小<code>StatementCache</code> 。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">为添加MBean <code>ResetAbandonedTimer</code> 。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.5_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">使用RELEASE-NOTES中的公共接口更新列表。 （紫罗兰色）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将用于构建Windows安装程序的NSIS安装程序更新为3.03版。 （kkolinko）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.4_(markt)"><span style="float:right">2018-01-22</span> Tomcat 9.0.4（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.4_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正先前针对<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61916">61916的</a>修订中的回归，这意味着任何对<code>addHeader()</code>本应被替换为<code>setHeader()</code>对于所有映射到<code>AddDefaultCharsetFilter</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61999">61999</a> ：将maxSavePostSize设置为0会在身份验证期间禁用保存POST数据。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.4_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复NIO2 HTTP / 2发送文件。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61993">61993</a> ：改进了<code>ByteChunk</code>和<code>CharChunk</code>实例增长到接近JRE允许的最大大小。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.4_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=43925">43925</a> ：添加新的系统属性（ <code>org.apache.jasper.runtime.BodyContentImpl.BUFFER_SIZE</code> ）来控制Jasper在缓冲标签主体时使用的缓冲区大小。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.4_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62006">62006</a> ：记录新<code>JvmOptions9</code>的命令行参数<code>tomcat9.exe</code> 。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.3_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.3（标记）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.3_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57619">57619</a> ：对JAR URL的处理方式进行小的优化，以减少重复的String对象在内存中的存储。Dmitri Blinov提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">向ServletContext中添加一些缺少的NPE。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将Java EE 8 XML模式更新为发行版本。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">次要HTTP / 2推送修复。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61916">61916</a> ：扩展<code>AddDefaultCharsetFilter</code>通过设置内容类型时添加字符集<code>setHeader()</code>要么<code>addHeader()</code>以及通过设置时<code>setContentType()</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用WebDAV将文件资源复制到需要覆盖集合的目标位置时，请确保操作成功而不是失败（响应为500）。这使Tomcat可以通过Litmus WebDAV测试套件中的两个附加测试。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">修改默认和WebDAV Servlet，以便返回405状态代码以用于<code>PUT</code>和<code>DELETE</code>通过禁用时的请求<code>readonly</code>初始化参数。
      </li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">对齐内容<code>Allow</code>标头，其中包含Default和WebDAV Servlet的响应代码。对于任何给定资源，返回405状态代码的方法将不会列在<code>Allow</code>标头和列出的方法<code>Allow</code>标头不会返回405状态代码。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.3_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60276">60276</a> ：为通过HTTP / 2提供的响应实施GZIP压缩支持。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">没有任何要读取的数据时，请勿调用onDataAvailable。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确处理EOF时<code>ServletInputStream.isReady()</code>叫做。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61886">61886</a> ：在非容器线程上记录错误，地址为<code>DEBUG</code>而不是<code>INFO</code> 。异常将通过异步错误处理机制提供给应用程序。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61914">61914</a> ：创建SSL引擎时，Java 9可能包含NPE。Evgenij Ryazanov提交的补丁。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61918">61918</a> ：修复了关闭已关闭的套接字时connectionLimitLatch计数的问题。基于Ryan Fong的补丁。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将对OpenSSL ARIA密码的支持添加到OpenSSL到JSSE密码映射中。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61932">61932</a> ：允许呼叫<code>AsyncContext.dispatch()</code>终止非阻塞I / O。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61948">61948</a> ：在代码中改进了格式错误的ClientHello消息的处理，该代码从TLS握手中提取基于JSSE的NIO和NIO2连接器的SNI信息。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用完整的输入缓冲区修复NIO2握手。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">如果客户端尝试与支持TLS的NIO或NIO2连接器建立纯文本HTTP连接，则返回简单的纯文本错误消息。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.3_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61854">61854</a> ：在EL表达式中使用集合和/或映射时，请确保Jasper正确解析表达式。Ricardo Martin Camarero提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进EL表达式中使用varargs的方法的处理。特别是，现在可以正确地调用不带参数的varargs方法。基于Nitkalya（Ing）Wiriyanuparb的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61945">61945</a> ：修复了用于编译标签的原型模式。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.3_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61223">61223</a> ：将mbeans-descriptors.dtd文件添加到自定义MBean文档中，以便用户在为自定义组件构造mbeans-descriptors.xml文件时使用参考。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61565">61565</a> ：添加了通过Manager Web应用程序触发重新加载TLS主机配置（证书和密钥文件，未重新解析server.xml）的功能。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61566">61566</a> ：通过Manager Web应用程序公开使用JSSE样式（密钥库）TLS配置配置的所有虚拟主机的当前使用证书链和受信任证书列表。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">部分修复<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61886">61886</a> 。确保多个线程不要尝试完成<code>AsyncContext</code>如果股票行情记录器示例Servlet中发生I / O错误。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61886">61886</a> ：防止<code>ConcurrentModificationException</code>在示例Web应用程序中运行异步股票行情自动收录器时。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61886">61886</a> ：防止<code>NullPointerException</code>和其他错误（如果在示例Web应用程序停止时正在运行股票报价器示例）。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61910">61910</a> ：澄清<code>allowLinking</code>文档Web应用程序中的选项。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将OCSP配置信息添加到SSL How-To。Marek Czernek提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.3_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61312">61312</a> ：防止<code>NullPointerException</code>使用已关闭的连接的语句缓存时。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.3_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">添加其他系统属性以替换系统属性。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将缺少的SHA-512哈希值添加到构建脚本中，以用于发布工件。（市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons Pool 2的内部fork更新为2.4.3。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons DBCP 2的内部fork更新为8a71764（2017-10-18）以获取一些错误修复和增强功能。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons FileUpload的内部fork更新为6c00d57（2017-11-23）以进行一些代码清理。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons Codec的内部fork更新为r1817136以进行一些代码清除。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">本机源捆绑包（用于Commons Daemon和Tomcat Native）不再复制到部署目标的bin目录中。现在，它们仅被复制到发布目标的bin目录中。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.2_(markt)"><span style="float:right">2017-11-30</span> Tomcat 9.0.2（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.2_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复可能<code>SecurityException</code>使用与TLS相关的请求属性时。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61597">61597</a> ：扩展<code>StandardJarScanner</code>在Java 9上运行并启用类路径扫描时，在模块路径上扫描JAR。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61601">61601</a> ：在JAR扫描和Web应用程序类加载中添加了对多发行版JAR的支持。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61681">61681</a> ：使用请求包装时允许HTTP / 2推送。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">提供<code>SessionInitializerFilter</code>可以用来确保在启动WebSocket连接时存在HTTP会话。isapir提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61682">61682</a> ：重新设置HTTP / 2流优先级时，请确保正确更新了父级和子级字段，以避免可能的情况<code>StackOverflowError</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">通过减少同步的范围来提高并发性<code>javax.security.auth.message.config.AuthConfigFactory</code>在JASPIC API实现中。基于Pavan Kumar的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免可能<code>NullPointerException</code>超时时<code>AsyncContext</code>实例在关闭期间。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61777">61777</a> ：避免<code>NullPointerException</code>分离JASPIC时<code>RegistrationListener</code> 。Lazar提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61778">61778</a> ：在分离<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61778">JASPIC时</a>更正返回值<code>RegistrationListener</code> 。Lazar提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61779">61779</a> ：避免<code>NullPointerException</code>当一个<code>null</code><code>RegistrationListener</code>被传递给<code>AuthConfigFactory.getConfigProvider()</code> 。Lazar提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61780">61780</a> ：仅在返回值中包含默认的<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61780">JASPIC</a>注册ID，以用于<code>AuthConfigFactory.getRegistrationIDs()</code>如果一个<code>RegistrationContext</code>已使用默认注册ID注册。 Lazar提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61781">61781</a> ：当层和/或应用程序上下文为“是”时，启用<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61781">JASPIC</a>提供程序注册可以<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61781">保留</a> <code>null</code> 。Lazar提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61782">61782</a> ：呼叫时<code>AuthConfigFactory.doRegisterConfigProvider()</code>并且Web应用程序类加载器找到了所请求的JASPIC配置提供程序类，请勿尝试使用已加载JASPIC API的类加载器来加载该类。 Lazar提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61783">61783</a> ：呼叫时<code>AuthConfigFactory.removeRegistration()</code>并且注册是持久性的，则应将其从持久性存储中删除。Lazar提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61784">61784</a> ：在以下情况下正确处理案件<code>AuthConfigFactoryImpl.registerConfigProvider()</code>以提供者名称调用<code>null</code> 。Lazar提供的补丁。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61795">61795</a> ：将属性添加到<code>Authenticator</code>实现自定义JASPIC的实现<code>CallbackHandler</code>指定。Lazar提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.2_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61568">61568</a> ：避免潜在<code>SecurityException</code>当使用NIO2连接器并将新线程添加到池中时。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61583">61583</a> ：更正了该修补程序中的进一步回归功能，以启用Java密钥存储，该Java密钥存储包含并非全部具有相同密码的多个密钥。这可以修复使用别名选择的多个密钥的PKCS11密钥存储处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进NIO2同步以实现异步IO操作。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> Sendfile支持HTTP / 2和NIO2。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将连接内的默认HTTP / 2流并发执行次数从200减少到20。（remm）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61668">61668</a> ：呼叫时避免可能的NPE <code>AbstractHttp11Protocol.getSSLProtocol()</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61673">61673</a> ：避免可能<code>ConcurrentModificationException</code>当使用与连接关联的流时。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61719">61719</a> ：避免可能的NPE通过HTTP / 2调用InputStream.setReadListener。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61736">61736</a> ：当客户端在网络数据包之间留出较大的时间间隔时，可提高NIO连接器的性能。紫龙宋提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61740">61740</a> ：更正了Hpack标头索引验证中的一位错误，该错误导致使用HTTP / 2时间歇性的请求失败。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.2_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61604">61604</a> ：修复了不生成输出的JSP的SMAP生成。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61816">61816</a> ：属性值或模板文本中的无效表达式应触发翻译（编译时）错误，而不是运行时错误。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.2_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61604">61604</a> ：在websocket客户端中添加对身份验证的支持。J Fernandez提交的补丁。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.2_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正Javadoc链接以指向Java SE 8和Java EE8。（标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使Javadoc能够使用Java 9构建。（标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61603">61603</a> ：在需要的地方为状态servlet输出添加XML过滤。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正有关CGI servlet如何将请求映射到CGI How-To中的脚本的描述。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.2_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了尝试重新发送频道消息的错误行为，其数量超过了的实际设置值<code>maxRetryAttempts</code> 。（kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">通过避免意外，确保其余发件人可以发送频道消息<code>ChannelException</code>比较失败成员的数量和剩余发件人的数量导致的错误。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保通过抛出一个未处理的剩余SelectionKeys <code>ChannelException</code>在SelectionKey处理期间进行处理。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.2_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进对<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61439">61439</a>的修复，并从Tomcat发行版中完全排除JPA，JAX-WS和EJB批注。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进对认可目录的处理。认可的目录机制仅在以下情况下使用<code>JAVA_ENDORSED_DIRS</code>系统属性已显式设置，或者<code>$CATALINA_HOME/endorsed</code>存在。在Java 9上运行时，任何尝试使用认可目录机制的操作都会触发错误，并且Tomcat无法启动。 （荣）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=51496">51496</a> ：使用Windows安装程序时，请检查所请求的服务名称是否已经存在，如果存在，请提示用户选择其他服务名称。Ralph Plawetzki提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61590">61590</a> ：启用<code>service.bat</code>识别何时<code>JAVA_HOME</code>为Java 9 JDK配置。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61598">61598</a> ：更新Windows安装程序以在查找JRE时搜索新的（从Java 9开始）注册表位置。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将用于发布工件的SHA-512哈希生成添加到构建脚本中。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61658">61658</a> ：更新要使用的字体的MIME映射<code>font/*</code>根据RFC8081。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.16，以获取使用APR 1.6.3和OpenSSL 1.0.2m构建的最新Windows二进制文件。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将用于构建Windows安装程序的NSIS安装程序更新为版本3.02.1。 （kkolinko）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">当在Microsoft Windows的已安装应用程序列表中显示Tomcat时，更新Windows安装程序以将“ Apache Software Foundation”用作发布服务器。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61803">61803</a> ：从安全文档中删除过时的SSL信息。 （雷姆）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.1_(markt)"><span style="float:right">2017-09-30</span> Tomcat 9.0.1（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.1_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">加载JVM时使用正确的路径<code>logging.properties</code> Java 9的文件。（rjung）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">向在Windows上修复CVE-2017-12617所需的资源处理中添加其他验证。这些检查是在其他地方执行的，但是将它们添加到资源处理中可确保始终执行检查。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.1_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61563">61563</a> ：正确的西班牙语翻译错误。GonzaloVásquez提供的补丁。 （csutherl）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.0（标记）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61542">61542</a> ：修复了CVE-2017-12617并防止在启用HTTP PUT时通过特制请求上传JSP。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61554">61554</a> ：从RAT分析中排除打算在GitHub中显示的异常编码的测试文件和markdown文件。克里斯·Thistlethwaite提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60762">60762</a> ：添加了在运行时更改连接器TLS配置的功能，而无需重新启动连接器。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加一个选项以拒绝包含HTTP头的请求，这些请求的HTTP头具有无效的（非令牌）头名称，并且响应为400，并且默认情况下拒绝此类请求。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">实施RFC 7230（和RFC 2616）的要求，HTTP / 1.1请求必须包括一个<code>Host</code>标头和任何不需要的请求都必须以400响应来拒绝。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">实施RFC 7230的要求，即任何在请求行中指定主机的HTTP / 1.1请求都必须在<code>Host</code>标头，并且必须以400响应拒绝任何此类请求。此检查是可选的，但默认情况下启用。它可能被禁用<code>allowHostHeaderMismatch</code>连接器的属性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">实施RFC 7230的要求，即任何包含多个HTTP / 1.1请求的HTTP / 1.1请求<code>Host</code>标头被拒绝，并带有400响应。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">添加一种在嵌入式模式下设置属性源的方法。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61557">61557</a> ：更正了该修补程序中的进一步回归问题，以启用Java密钥库的使用，该Java密钥库包含多个并非都具有相同密码的密钥。回归破坏了对某些FIPS兼容密钥存储的支持。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61545">61545</a> ：正确处理方法中定义的方法的调用<code>PooledConnection</code>使用池XA连接时的接口。Nils Winkler提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更新针对<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59904">59904的</a>修复程序，以便接受小于零的值，而不是<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59904">引发</a> NegativeArraySizeException。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">完成Servlet 4.0规范的实现。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M27_(markt)"><span style="float:right">2017年9月19日</span> Tomcat 9.0.0。M27（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M27_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在生成错误页面之前<code>ErrorReportValve</code> ，请在生成错误页面之前检查关联的连接是否仍允许I / O，以便在永远不发送页面的情况下可以跳过页面生成。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61189">61189</a> ：添加了为单个CGI脚本设置环境变量的功能。基于jm009的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61210">61210</a> ：在SecurityManager下运行时，请勿在该配置文件不存在时打印关于无法读取日志配置文件的警告。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61280">61280</a> ：将RFC 7617支持添加到<code>BasicAuthenticator</code> 。请注意，默认配置不会更改现有行为。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61424">61424</a> ：避免可能<code>StackOverflowError</code>当在<code>SecurityManager</code>和使用<code>Subject.doAs()</code> 。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">在Java 9或更高版本下运行时， <code>urlCacheProtection</code>的选项<code>JreMemoryLeakPreventionListener</code>启用后，请使用Java 9中添加的API仅禁用JAR URL连接的缓存。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61489">61489</a> ：使用CGI servlet时，使从查询字符串生成的命令行参数（按照RFC 3875的4.4节）是可选的，并且默认情况下被禁用。基于jm009的补丁。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61503">61503</a> ：这可以通过添加以下内容的替代解决方案纠正<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60940">60940</a>修复中的潜在回归： <code>JarEntry</code>通常被a跳过的对象<code>JarInputStream</code>仅当这些条目存在时。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M27_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">最低要求的Tomcat Native版本已增加到1.2.14。此版本包含新的API，当Java连接器与OpenSSL TLS实现结合使用时，该API需要正确的客户端证书支持，并支持<code>SSL_CONF</code> OpenSSL API。 （荣）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加对OpenSSL的支持<code>SSL_CONF</code>将TLS与OpenSSL实现结合使用时的API。可以通过添加使用<code>OpenSSLConf</code>下面的元素<code>SSLHostConfig</code> 。新元素包含一个列表<code>OpenSSLConfCmd</code>元素，每个都有属性<code>name</code>和<code>value</code> 。（荣）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当将Java连接器与OpenSSL TLS实现结合使用时，请勿通过OpenSSLEngine配置每个SSL连接对象。对于OpenSSL，SSL对象从我们已经配置的SSL_CTX继承其设置。（荣）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在通过OpenSSL实现和客户端证书使用JSSE TLS配置时：在TLS握手中包括客户端CA主题，以便客户端可以选择适当的客户端证书来呈现。 （荣）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果为<code>certificateVerification</code>一个的属性<code>SSLHostConfig</code>元素，将其视为<code>required</code>除了报告配置错误外，这是最安全/限制性最大的选项。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进TLS重新协商握手期间客户端断开连接的处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">防止在正常关闭NIO连接期间引发异常。这样可以使TLS连接完全关闭。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复在升级的连接上设置IO侦听器时可能出现的竞争状况。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保APR /本机连接器将阻止I / O用于TLS重新协商。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=48655">48655</a> ：使用sendfile，APR / native连接器和<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=48655">分段下载时，</a>允许Tomcat彻底关闭。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58244">58244</a> ：处理OpenSSL使用票证恢复TLS会话而完整的客户端证书链不可用的情况。在这种情况下，没有链的客户证书将显示给应用程序。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当JSSE和OpenSSL配置样式混合在同一样式时，改进警告消息<code>SSLHostConfig</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61415">61415</a> ：使用基于OpenSSL的连接和会话缓存修复TLS重新协商。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">延迟检查配置的属性<code>SSLHostConfig</code>实例与配置的SSL实现一致，直到<code>Connector</code>开始避免SSL实施在初始化期间发生更改时发出不正确的警告。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61450">61450</a> ：修复默认密钥别名算法。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61451">61451</a> ：更正该修复程序中的回归以启用Java密钥存储库，该Java密钥存储库包含多个并非都具有相同密码的密钥。回归破坏了对任何不以PKCS＃8格式存储密钥的密钥存储的支持，例如硬件密钥存储和Windows密钥存储。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M27_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60523">60523</a> ：通过将报头和有效负载写入在一起时不刷新，可以减少用于发送WebSocket消息的数据包数量。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61491">61491</a> ：使用<code>permessage-deflate</code>扩展名，正确处理非空消息之后的空消息发送，以避免<code>IllegalArgumentException</code> 。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M27_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在管理器Web应用程序中以正确的密码顺序显示连接器密码列表。 （荣）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M27_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">为了避免来自备份会话的意外会话超时通知，请在接收映射成员通知消息时更新访问时间。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">故障检测检查失败时，将成员信息添加到日志消息中<code>TcpFailureDetector</code> 。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免Ping超时直到接收到添加的地图成员<code>MSG_START</code>消息已完全启动。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">发送频道消息时，请确保发送方已连接。（kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正备用节点选择逻辑，使节点0连续两次返回。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复的比赛条件<code>responseMap</code>在<code>RpcChannel</code> 。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M27_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61391">61391</a> ：如果<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61391">出现</a>以下情况，请确保记录失败的查询<code>SlowQueryReport</code>拦截器已配置为这样做，并且连接已被放弃。Craig Webb提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61425">61425</a> ：请确保当<code>testWhileIdle</code>被设定为<code>true</code>和<code>defaultAutoCommit</code>被设定为<code>false</code> 。王正提供的补丁。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M27_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61419">61419</a> ：在DOS bat文件中替换Unix样式的注释<code>catalina.bat</code>正确的<code>rem</code>标记。（荣）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61439">61439</a> ：从tomcat-embed-core.jar中删除Java注释API类，并将它们打包在嵌入式发行版的单独的JAR中，以为最终用户提供更大的灵活性来处理与JRE和/或其他JAR的潜在冲突。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61441">61441</a> ：改善对<code>JAVA_HOME</code>由<code>daemon.sh</code>在已从RPM安装Java的平台上运行时运行脚本。 （荣）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.14，以获取使用APR 1.6.2和OpenSSL 1.0.2l构建的最新Windows二进制文件。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61599">61599</a> ：更新到Commons Daemon 1.1.0，以增强对Java 9的支持。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M26_(markt)"><span style="float:right">2017年8月8日</span> Tomcat 9.0.0。M26（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M26_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修正了<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=49464">49464</a>中的多项回归，该回归可能会破坏<code>DefaultServlet</code> （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正中的错误<code>PushBuilder</code>意味着推送URL包含的实现<code>%nn</code>序列未正确解码。由FindBugs标识。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61164">61164</a> ：添加对<code>%X</code>中的模式<code>AccessLogValve</code>在请求结束时报告连接状态。补丁由Zemian Deng提供。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61351">61351</a> ：正确处理web.xml和类似位置中可能合法包含RFC 3986不允许的字符的URL模式的％nn解码。（标记）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61366">61366</a> ：添加新属性， <code>localDataSource</code> ，到<code>JDBCStore</code>允许将商店配置为使用Web应用程序定义的数据源，而不是使用全局定义的数据源的默认值。Jonathan Horowitz提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M26_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61086">61086</a> ：确保为HTTP 205响应明确发信号通知一个空的请求正文。对r1795278的附加修复。基于Alexandr Saperov提供的补丁。 （紫罗兰色）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61345">61345</a> ：添加服务器侦听器，该服务器侦听器可用于从<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61345">摘要程序中</a>配置的属性源进行系统属性替换。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加其他日志记录以记录在连接器停止过程中等待NIO轮询器停止时发生的问题。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M26_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61364">61364</a> ：确保在检测到JSP编码后关闭文件，以免文件被文件系统锁定。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M26_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57767">57767</a> ：在尝试建立WebSocket连接时，为WebSocket客户端添加支持以下重定向。J Fernandez提供的补丁。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M25_(markt)"><span style="float:right">2017年7月28日，</span> Tomcat 9.0.0。M25（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M25_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当Web应用程序部署在打包的WAR文件中时，服务加载程序查找（以及其他类加载程序资源的查找）的性能提高。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60963">60963</a> ：添加<code>ExtractingRoot</code> ，一个新的<code>WebResourceRoot</code>部署打包的WAR文件时，将JAR提取到工作目录以提高性能的实现。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61253">61253</a> ：当Digester.updateAttributes引发异常而不是忽略异常时，添加警告消息。 （csutherl）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修正<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=49464">49464</a>修复程序中的进一步回归，该回归可能导致字节顺序标记字符出现在<code>DefaultServlet</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61313">61313</a> ：使读取超时可在<code>JNDIRealm</code>并确保读取超时将导致尝试故障转移到AlternativeURL。基于Peter Maloney和Felix Schumacher的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M25_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正文档中有关如何<code>StandardRoot</code>已配置。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M25_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61316">61316</a> ：修复了已发布的源发行版中UTF-16编码的源文件的损坏。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M24_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.0。M24（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M24_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=52924">52924</a> ：添加对Tomcat特定部署描述符的支持， <code>/WEB-INF/tomcat-web.xml</code> 。该描述符的格式与<code>/WEB-INF/web.xml</code> 。Tomcat描述符优先于中的任何设置<code>conf/web.xml</code>但不优先于中的任何设置<code>/WEB-INF/web.xml</code> 。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61232">61232</a> ：禁用日志<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61232">循环</a>时，在生成日志文件名时将仅使用一个分隔符。例如，如果前缀是<code>catalina.</code>后缀是<code>.log</code>那么日志文件名将是<code>catalina.log</code>代替<code>catalina..log</code> 。由Katya Stoycheva提供的补丁。（紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61264">61264</a> ：更正重构中使用的回归<code>Charset</code>而不是<code>String</code>存储阻止的请求字符编码<code>getReader()</code>扔一个<code>UnsupportedEncodingException</code>如果用户代理指定了不受支持的字符编码。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正可能导致错误的<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=49464">49464</a>修复程序中的回归<code>Content-Length</code>要发送的标头<code>DefaultServlet</code>如果静态编码与响应编码不一致。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M24_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">启用TLS连接器以使用包含多个密钥的Java密钥存储，其中每个密钥都有一个单独的密码。基于Frank Taffelt的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当使用连续帧时，由于头过多而改进了HTTP / 2流重置的处理。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M24_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53031">53031</a> ：添加对<code>fork</code>使用Jasper Ant任务和javac编译JSP时选择该选项。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M24_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=52791">52791</a> ：添加了从配置文件设置Windows安装程序使用的默认值的功能。Sandra Madden提供的补丁。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M23_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.0。M23（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M23_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=49464">49464</a> ：当文件编码与所需的响应编码不兼容时，改进默认Servlet对静态文件的处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61214">61214</a> ：删除已删除的属性<code>servlets</code>从上下文MBean描述。Alexis Hassler提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61215">61215</a> ：正确定义<code>addConnectorPort</code>和<code>invalidAuthenticationWhenDeny</code>在里面<code>mbean-descriptors.xml</code>的档案<code>org.apache.catalina.valves</code>包，以便可以通过JMX访问属性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61216">61216</a> ：改进布局<code>CompositeData</code>和<code>TabularData</code>通过JMX代理Servlet查看时。Alexis Hassler提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在安全管理器下运行时，FileHandler要求将附加的删除文件权限授予JULI。清理日志文件的线程被标记为守护程序线程。（紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61229">61229</a> ：在9.0.0中更正回归。M21破坏了WebDAV对包含以下内容的名称的资源的处理： <code>&</code>字符。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M23_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">恢复配置对SSLv3的支持的功能。启用此协议将在日志中触发警告，因为它是不安全的。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加LoadBalancerDrainingValve，这是一个Valve，旨在减少节点耗尽其经过身份验证的用户所需的时间。 （舒尔茨）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当出现以下情况时请勿记录警告<code>null</code>对于基于OpenSSL的TLS会话，将返回session，因为启用会话票证时可以预期该会话。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当访问日志阀记录TLS相关的请求属性并且NIO2连接器与OpenSSL一起使用时，请确保在连接关闭时TLS属性对访问日志阀可用。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60461">60461</a> ：同步APR连接器的SSL会话访问。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61224">61224</a> ：将<code>GlobalRequestProcessor</code> MBean属性为只读。Alexis Hassler提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M23_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=49176">49176</a> ：生成引用相关JSP源代码的JSP运行时错误消息时，请从使用JSP页面解析过程的结果切换为使用JSR 045源映射数据从堆栈跟踪中标识JSP源的正确部分。这显着减少了开发模式下Jasper的内存占用，为错误页面生成提供了较小的性能改进，并使Tomcat重新启动后可以继续提供源引号。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M23_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">删除对Loader属性的引用<code>searchExternalFirst</code>从文档中删除，因为不再支持该属性。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M23_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=51513">51513</a> ：添加对<code>compressionMinSize</code>归因于<code>GzipInterceptor</code> ，添加可选的统计信息收集并通过JMX公开拦截器。基于ChristianStöber的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61127">61127</a> ：允许用户使用易于理解的channelSendOptions和mapSendOptions名称。Igal Sapir提供的补丁。 （舒尔茨）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M23_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="码：" class="icon" src="./images/code.gif">由于不建议使用JRE提供的版本，并且默认情况下Java 9不提供它们，因此请还原Web服务批注的本地定义。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将必要的Java 9配置选项添加到启动脚本中，以防止Web应用程序停止时生成警告。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M22_(markt)"><span style="float:right">2017年6月26日，</span> Tomcat 9.0.0。M22（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M22_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=48543">48543</a> ：添加选项以指定替代文件名<code>catalina.config</code>系统属性。还要记录允许相对和绝对URL。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61072">61072</a> ：尊重文档声明，该文档声明允许使用平台默认安全随机数生成会话ID。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正javadoc <code>o.a.c.connector.CoyoteAdapter#parseSessionCookiesId</code> 。John Andrew（XUZHOUWANG）通过Github提供的补丁。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61101">61101</a> ：CORS过滤器应设置Vary标头作为响应。由Rick Riemer提交。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61105">61105</a> ：添加新的JULI FileHandler配置，用于指定保留日志文件的最大天数。默认情况下，日志文件将保留90天，如<code>logging.properties</code> 。 （紫罗兰色）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新Servlet 4.0的实现，以增加对设置HTTP响应的尾部字段的支持。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61125">61125</a> ：确保<code>WarURLConnection</code>返回正确的值以调用<code>getLastModified()</code>因为将JSP打包在WAR文件中时，这对于正确检测JSP修改是必需的。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改善<code>SSLValve</code>因此它能够处理来自Nginx的客户端证书标头。基于Lucas Ventura Carro的补丁。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61134">61134</a> ：生成默认错误页面时，请勿在替换的文本片段周围使用“ [”和“]”符号。由Katya Todorova提供的补丁。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61154">61154</a> ：在安全管理器下运行时，默认情况下允许Manager和Host Manager Web应用程序启动。这是通过添加自定义权限来完成的， <code>org.apache.catalina.security.DeployXmlPermission</code> ，允许应用程序使用<code>META-INF/context.xml</code>文件，然后将该权限授予Manager和Host Manager。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61173">61173</a> ：波兰语为<code>o.a.catalina.startup.Tomcat</code> 。peterhansson_se提供的补丁。 （紫罗兰色）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">新的配置属性<code>crawlerIps</code>被添加到<code>o.a.catalina.valves.CrawlerSessionManagerValve</code> 。使用此属性，可以指定一个正则表达式，该正则表达式将用于基于搜寻器的IP地址来识别它们。基于Tetradeus提供的补丁。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61180">61180</a> ：如果初始化消息的时间超过100毫秒，则记录警告消息而不是信息消息<code>SecureRandom</code> Web应用程序用于生成会话标识符的实例。Piotr Chlebda提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61185">61185</a> ：通过调度异步请求时<code>AsyncContext.dispatch()</code>确保这件事<code>getRequestURI()</code>分派的请求与原始请求匹配。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61197">61197</a> ：请确保在<code>Content-Type</code>标头的格式与应用程序提供的格式完全相同。这将还原9.0.0中的行为更改。M21对某些客户造成了问题。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61201">61201</a> ：确保<code>SCRIPT_NAME</code>不管CGI Servlet如何映射到请求，都以一致的方式填充CGI可执行文件的环境变量。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保在HTTP响应尾部字段的尾部字段名称和字段值之间发送一个空格。 （呼星）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M22_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61086">61086</a> ：为HTTP 205响应明确发信号通知为空的请求正文。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61120">61120</a> ：处理HTTP / 2请求时不要忽略路径参数。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">还原针对漏洞<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60718">60718</a>的修复中引入的更改，该更改将客户端将连接从200断开到500时将访问日志中记录的状态代码更改了。（标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使异步错误处理更加健壮。特别要确保<code>onError()</code>被要求进行任何注册<code>AsyncListener</code>在非容器线程上发生I / O错误后s。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">向OpenSSL引擎提供的SSL会话对象添加其他同步，以便并发销毁不会导致JVM崩溃。（雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M22_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=44787">44787</a> ：改进了JSP编译器配置选项无效时的错误消息。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=45931">45931</a> ：扩展贾斯珀的<code>timeSpaces</code>添加支持的选项<code>single</code>它用一个空格字符替换完全由空格组成的模板文本。基于Meetesh Karia的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53011">53011</a> ：使用JspC进行预编译时，报告所有编译错误，而不是在第一个错误之后停止。一个新的选择<code>-failFast</code>可用于恢复第一个错误后停止的先前行为。基于Marc Pompl提供的补丁。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61137">61137</a> ： <code>j.s.jsp.tagext.TagLibraryInfo#uri</code>和<code>j.s.jsp.tagext.TagLibraryInfo#prefix</code>字段不得为最终字段。由Katya Todorova提供的补丁。 （紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M22_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在以下情况下更正日志消息<code>MessageHandler</code>对于<code>PongMessage</code>没有实现<code>MessageHandler.Whole</code> 。 （荣）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">提高线程安全性<code>Future</code>用于报告发送WebSocket消息的结果。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61183">61183</a> ：更正了先前修订中的<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58624">58624</a>回归，该回归可能会触发死锁，具体取决于客户端代码采用的锁定策略。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M22_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更好地记录Jasper的trimSpaces选项的含义。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61150">61150</a> ：将Manager和Host-Manager Web应用程序配置为允许CRSFPreventionFilter相关会话对象的序列化和反序列化，以避免在安全管理器下运行时Web应用程序停止和/或启动时的警告消息和/或堆栈跟踪。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正TLS配置文档，以从受支持的协议列表中删除SSLv2和SSLv3。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M22_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=45832">45832</a> ：向用于与Manager应用程序通信的Catalina Ant任务添加HTTP DIGEST身份验证支持。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=45879">45879</a> ：添加<code>RELEASE-NOTES</code>文件安装到Windows的Tomcat安装程序创建的安装的根目录中，以使用户更容易识别已安装的Tomcat版本。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61055">61055</a> ：澄清重写阀中的代码注释，以明确没有计划为此阀提供代理支持，因为Tomcat没有代理功能。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61076">61076</a> ：记录<code>altDDName</code>的属性<code>Context</code>元件。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在Jar扫描过滤器配置参考中更正拼写错误。通过comment.apache.org报告的问题。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在《应用程序开发人员指南》中更正最低Java SE版本的要求。通过comment.apache.org报告的问题。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61145">61145</a> ：添加缺失<code>@Documented</code>注解到注解API中的注解。由Katya Todorova提供的补丁。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61146">61146</a> ：添加缺失<code>lookup()</code>方法<code>@EJB</code>注解API中的注解。由Katya Todorova提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在“上下文容器配置参考”中更正拼写错误。由Katya Todorova提供的补丁。 （紫罗兰色）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M21_(markt)"><span style="float:right">2017年5月10日</span> Tomcat 9.0.0。M21（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M21_(markt)/General">一般</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">允许使用build属性排除JUnit测试类<code>test.exclude</code>并在BUILDING.txt中记录该属性。 （荣）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M21_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">查看Tomcat重新编码URI或URI组件的那些地方，并确保应用正确的编码（路径与查询字符串不同），并确保一致地应用编码。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免<code>NullPointerException</code>在读取启用了TLS的初始化HTTP连接器的属性时。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">总是引用<code>hostName</code>的<code>SSLHostConfig</code>元素用作JMX对象名称的一部分时，避免使用通配符来避免导致关联的TLS连接器无法启动的错误<code>hostName</code>已配置（因为<code>*</code>是JMX对象名称的保留字符）。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新默认值<code>URIEncoding</code>为一个<code>Connector</code>至<code>UTF-8</code>根据Servlet 4.0规范的要求。（市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">切换到使用<code>Charset</code>而不是<code>String</code>存储编码设置（包括配置和<code>Content-Type header</code> ），以减少相关地点的数量<code>Charset</code>需要抬头。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用更可靠的机制<code>DefaultServlet</code>确定当前请求是否用于自定义错误页面时。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保当Default或WebDAV servlet处理错误调度时，该错误资源是通过<code>doGet()</code>方法，而与触发错误的原始请求所使用的方法无关。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果指定的静态自定义错误页面不存在或无法读取，请确保返回预期的错误状态，而不是404或403。（标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">配置WebDAV servlet并向位于下面的自定义错误页面进行错误分配时<code>WEB-INF</code> ，请确保显示目标错误页面，而不是404响应。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新Servlet 4.0实施以添加对从分块的HTTP请求中获取尾部字段的支持。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61047">61047</a> ：在默认的web.xml中为woff2字体添加MIME映射。贾斯汀·威廉姆森（Justin Williamson）提供的补丁。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正选择用于解码查询字符串的编码的逻辑<code>SSIServletExternalResolver</code>所以这样<code>useBodyEncodingForURI</code>的属性<code>Connector</code>正确考虑。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在Expires过滤器中，使内容类型的值使用<code>ExpiresByType</code>参数，不区分大小写。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M21_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当一个<code>TrustManager</code>配置为不支持<code>certificateVerificationDepth</code>仅在以下情况下记录有关缺乏支持的警告： <code>certificateVerificationDepth</code>已明确设置。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60970">60970</a> ：扩展了对大标头的推送请求的修复。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">不包括<code>Date</code>状态代码小于200的HTTP / 2响应中的标头。（标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当使用NIO2连接器发送HTTP / 2推送承诺时，推送的流ID仅应包含在初始推送承诺帧中，而不应包含任何后续的继续帧。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M21_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当不存在BOM且检测到编码时，请勿跳过用于检测编码的字节，因为它们不是BOM的一部分。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61057">61057</a> ：更新到Eclipse JDT编译器4.6.3。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61065">61065</a> ：请确保班级解决后<code>javax.el.ImportHandler#resolveClass</code>它将以适当的名称缓存。 （紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M21_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">引入新的API <code>o.a.tomcat.websocket.WsSession#suspend</code> / <code>o.a.tomcat.websocket.WsSession#resume</code>可用于暂停/继续阅读传入消息。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=61003">61003</a> ：确保用于读/写的标志<code>o.a.t.websocket.AsyncChannelWrapperSecure</code>即使在处理过程中发生了某些异常，也可以正确重置。 （markt / violetagg）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M21_(markt)/Web_Applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">为添加文件<code>maxIdleTime</code>频道接收器文档的属性。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M21_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">添加功能以获取该线程池的统计信息<code>Receiver</code>组件和<code>MessageDispatchInterceptor</code> 。这些统计信息可以通过JMX获取。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">加<code>maxIdleTime</code>归因于<code>NioReceiverMBean</code>为了暴露给JMX。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加对JMX的支持<code>Channel Interceptors</code> 。实现JMX支持的拦截器是<code>TcpFailureDetector</code> ， <code>ThroughputInterceptor</code> ， <code>TcpPingInterceptor</code> ， <code>StaticMembershipInterceptor</code> ， <code>MessageDispatchInterceptor</code>和<code>DomainFilterInterceptor</code> 。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M21_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">修改用于发布到Maven存储库的Ant构建脚本，以使其不再需要GPG签名的工件。CI系统可以将快照构建上传到ASF Maven存储库。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M20_(markt)"><span style="float:right">2017年4月18日，</span> Tomcat 9.0.0。M20（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M20_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新Servlet 4.0 API实现，以反映来自的方法名称的更改<code>getPushBuilder()</code>至<code>newPushBuilder()</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在新的HTTP Host标头验证解析器中更正各种边缘情况。由Katya Todorova提供的补丁。 （马丁）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正X中的回归以逗号重构破坏了采用参数的JMX操作。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免<code>NullPointerException</code>在读取未启用TLS的正在运行的HTTP连接器的属性时。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=47214">47214</a> ：重构代码，以便为明确引用的内部类提供明确的名称，而不是匿名的。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59825">59825</a> ：记录一条消息，该消息列出处理链中调用以下命令时不支持异步处理的组件： <code>ServletRequest.startAsync()</code>失败。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60940">60940</a> ：改善对<code>META-INF/</code>和<code>META-INF/MANIFEST.MF</code>位于以下位置的Jar文件的条目<code>/WEB-INF/lib</code>从打包的WAR文件运行Web应用程序时。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">预加载<code>ExceptionUtils</code>类。由于该类在错误处理中被广泛使用，因此，请谨慎地预先加载它，以免在加载该类时出现任何错误，从而掩盖了错误处理过程中的真实问题。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">避免潜在<code>NullPointerException</code>与关机期间的访问日志有关，其中一些在运行单元测试时已观察到。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当没有<code>javax.servlet.WriteListener</code>注册然后致电<code>javax.servlet.ServletOutputStream#isReady</code>将返回<code>false</code>而不是扔<code>IllegalStateException</code> 。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当没有<code>javax.servlet.ReadListener</code>注册然后致电<code>javax.servlet.ServletInputStream#isReady</code>将返回<code>false</code>而不是扔<code>IllegalStateException</code> 。 （紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M20_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将密码配置解析与当前的OpenSSL主文件对齐。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60970">60970</a> ：修复了使用HTTP / 2时应用程序尝试向响应中写入大标头的无限循环。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M20_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=47214">47214</a> ：重构代码，以便为明确引用的内部类提供明确的名称，而不是匿名的。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60925">60925</a> ：在以下情况下，改进对接口定义的属性的访问的处理： <code>BeanELResolver</code>用于<code>SecurityManager</code> 。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M20_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">添加对Tribes组件的JMX支持。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M20_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="码：" class="icon" src="./images/code.gif">重构为代理类创建的构造函数以减少重复的代码。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在<code>StatementFacade</code> ，方法调用已关闭的语句<code>SQLException</code>而不是<code>NullPointerException</code> 。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M20_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60932">60932</a> ：在i18n消息中使用时，请正确转义单引号。基于Michael Osipov的补丁。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">查看i18n属性文件，删除不必要的转义并持续使用<code>[...]</code>分隔插入值。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更新与Symantec Code Signing服务集成的自定义Ant任务，以使用现在强制性的2因子身份验证。（市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构以准备Java 9。进行重构以避免使用某些Java 9及以后版本不推荐使用的方法。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M19_(markt)"><span style="float:right">2017年3月30日</span> Tomcat 9.0.0。M19（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M19_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=54618">54618</a> ：添加对<code>HttpHeaderSecurityFilter</code> HSTS预加载参数。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">纠正Servlet 4.0功能实现中的一个错误，该错误允许为每个Web应用程序指定默认的请求和/或响应字符编码。 <code>null</code>通过编程接口传递的值不再触发<code>NullPointerException</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当将一个或多个容器的startStopThreads的值配置为1时，更正关闭期间的潜在异常。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60853">60853</a> ：暴露<code>SSLHostConfig</code>和<code>SSLHostConfigCertificate</code>通过JMX的对象。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60876">60876</a> ：确保<code>Set-Cookie</code>标头产生<code>Rfc6265CookieProcessor</code>符合规范。Jim Griswold提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60882">60882</a> ：修复一个<code>NullPointerException</code>当获得一个<code>RequestDispatcher</code>对于没有任何pathInfo关联的请求。这是9.0.0中更改的回归。Servlet 4.0 API的M18进行了更改。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">对齐<code>PushBuilder</code> Servlet专家组更改的API。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">使web.xml解析规则与Servlet专家组中的更改对齐<code><request-character-encoding></code>和<code><response-character-encoding></code> 。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构X的各种实现，以逗号分隔列表到单个实用程序类，并更新代码以使用新的实用程序类。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60911">60911</a> ：确保在查找SSL会话ID时不会抛出NPE。基于Didier Gutacker的补丁。 （紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M19_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">为HTTP / 2添加基于异步的IO基础。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复EOF上的HTTP / 2错误输入解除阻止。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果当前连接发生与该连接的当前状态不一致的事件，请尽快关闭该连接。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">通过确保解锁接收器线程的代码正确处理存在多个线程的情况，可以加快使用多个接收器线程时的关机速度。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60851">60851</a> ：添加<code>application/xml</code>和<code>application/json</code>到默认的可压缩MIME类型列表。迈克尔·奥西波夫（Michael Osipov）的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60852">60852</a> ：在配置属性和内部代码中使用时，拼写可正确压缩。基于Michael Osipov的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60900">60900</a> ：避免<code>NullPointerException</code>如果在新数据到达该连接的同时关闭了连接，则在APR轮询器中关闭。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">通过修复Moto Ishizawa编写的h2spec工具报告的一些测试失败，提高HPACK规范的兼容性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">通过修复Moto Ishizawa编写的h2spec工具报告的一些测试失败，提高HTTP / 2规范的合规性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60918">60918</a> ：修复了sendfile处理错误，该错误可能导致后续请求遇到<code>IllegalStateException</code> 。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进请求传递时的sendfile处理。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M19_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60844">60844</a> ：当使用比方法所需的参数值少的参数值来调用EL方法表达式时，可以正确处理错误。Daniel Gray提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M19_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60764">60764</a> ：机具<code>equals()</code>和<code>hashCode()</code>在里面<code>StatementFacade</code>如果设置了任何语句代理，为了使这些方法能够在关闭的语句上调用。可以通过以下方式更改此行为<code>useStatementFacade</code>属性。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M19_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构生成脚本和NSIS安装程序脚本，以便可以使用NSIS 2.x或NSIS 3.x来生成安装程序。这主要是为了重新启用在基于Linux的CI系统上构建安装程序的能力，其中NSIS 3.x和wine的组合导致安装程序构建失败。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M18_(markt)"><span style="float:right">2017年3月13日</span> Tomcat 9.0.0。M18（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M18_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60469">60469</a> ：重构<code>RealmBase</code>在实现使用自定义的领域时可以更好地重用代码<code>Principal</code> 。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60490">60490</a> ：针对各种格式和布局的改进<code>ErrorReportValve</code> 。迈克尔·奥西波夫（Michael Osipov）提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60573">60573</a> ：发送<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60573">邮件时</a>删除原因短语<code>100</code>响应状态，以与其他响应状态行保持一致。迈克尔·奥西波夫（Michael Osipov）提供的补丁。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60596">60596</a> ：在连接器上禁用sendfile功能时，提高DefaultServlet的性能。 （kkolinko）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">使子类更容易<code>Tomcat</code>通过覆盖来修改默认的web.xml设置<code>getDefaultWebXmlListener()</code> 。亚伦·安德森（Aaron Anderson）提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">减少默认竞争<code>InstanceManager</code>多个线程管理对象并且需要引用注释缓存时的实现。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60623">60623</a> ：当startStopThreads为1（或等于1的特殊值）时，请不要使用<code>ExecutorService</code>要启动当前组件的子代，这些子代将在当前线程上启动。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60674">60674</a> ：删除<code>final</code>来自的标记<code>CorsFilter</code>启用子分类。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60683">60683</a> ：在某些JVM上进行IO时，安全管理器故障导致NPE。 （csutherl）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60688">60688</a> ：将Apache Commons BCEL的内部fork更新为r1782855，以将早期访问Java 9支持添加到注释扫描代码。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60694">60694</a> ：在没有JASPIC的情况下，在身份验证期间阻止NPE <code>AuthConfigFactory</code>可用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60697">60697</a> ：当在连接器上禁用HTTP TRACE请求时，请确保来自自定义servlet的HTTP OPTIONS响应在返回的Allow标头中不包括TRACE。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60718">60718</a> ：改进了异步处理的错误处理，并纠正了许多情况下<code>requestDestroyed()</code>未触发事件，并且未在访问日志中进行输入。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60720">60720</a> ：在SpnegoAuthenticator中用静态最终AUTH_HEADER_NAME替换“ WWW-Authenticate”文字。迈克尔·奥西波夫（Michael Osipov）提供的补丁。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">默认的JASPIC <code>AuthConfigFactory</code>现在正确通知注册<code>RegistrationListener</code>当一个新的<code>AuthConfigProvider</code>已被注册。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">提高性能<code>AuthenticatorBase</code>当没有可用的JASPIC配置时。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当在连接器上禁用HTTP TRACE请求时，请确保来自WebDAV servlet的HTTP OPTIONS响应在返回的Allow标头中不包括TRACE。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60722">60722</a> ：生成由以下人员触发的分派路径时，请考虑当前<strong>上下文</strong>上的<strong>dispatchersUseEncodedPaths</strong>设置<code>AsyncContext.dispatch()</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60728">60728</a> ：使Tomcat在特定于Tomcat的分隔符<code>war:file:...</code>可通过系统属性自定义的URL协议。分隔符等效于<code>!</code>字符在<code>jar:file:...</code>网址。的默认分隔符<code>*</code>保持不变。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新Servlet 4.0 API实现，使其与Servlet 4.0专家组的最新建议保持一致。这包括对新的Servlet映射API的更新， <code>ServletContext</code>使可用的API更等同于部署描述符，更新HTTP推送API，并能够为每个Web应用程序设置默认请求和响应字符编码。请注意，Servlet 4.0 API仍在开发中，并且可能会进行进一步的更改。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60798">60798</a> ：更正了未<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60798">打包的</a> WAR中对JAR的处理中的一个错误，该错误意味着多次尝试连续从JAR读取同一条目会在第二次和后续尝试中失败。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60808">60808</a> ：确保<code>Map</code>由...返回<code>ServletRequest.getParameterMap()</code>是完全不变的。基于woosan提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60824">60824</a> ：正确缓存<code>Subject</code>在会话中-如果有会话-在<code>SecurityManager</code> 。Jan Engehausen提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保在触发应用程序侦听器时使用请求和响应外观。 （标记/毫米）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M18_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当HTTP / 2客户端发送的数据量超过当前窗口大小所允许的流控制时，改进对这种情况的处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用大型客户端问候消息，为SNI改进TLS客户端问候的NIO2预读解析。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">在Java 9上运行时，如果将JSSE实现用于TLS，则对NIO和NIO2 HTTP连接器启用ALPN，并因此对HTTP / 2启用。（标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">恢复Java 9直接字节缓冲区兼容性。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59807">59807</a> ：在没有使用<strong>SSLHostConfig</strong>定义的情况下，提供更好的错误消息<code>hostName</code>符合<code>defaultSSLHostConfigName</code>用于关联的<strong>Connector</strong> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60627">60627</a> ：修改<code>Rfc6265CookieProcessor</code>因此，除了以显式RFC 2109开头的cookie标头之外<code>$Version=1</code> ，以开头的cookie <code>$Version=0</code>也被解析为RFC 2109 cookie。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">包括的价值<code>SslHostConfig.truststoreAlgorithm</code>当警告算法不支持<code>certificateVerificationDepth</code>配置选项。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保与连接器一起使用的执行程序线程池会预先启动配置的最小空闲线程数。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60716">60716</a> ：添加新的JSSE特定属性， <code>revocationEnabled</code> ， 至<code>SSLHostConfig</code>允许在没有时启用JSSE提供程序吊销检查<code>certificateRevocationListFile</code>已配置。期望配置将通过JSSE提供程序特定的机制执行。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修改由<code>Rfc6265CookieProcessor</code>所以它总是发送一个<code>Expires</code>属性以及<code>Max-Age</code>属性以避免不支持该功能的Microsoft浏览器出现问题<code>Max-Age</code>属性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60761">60761</a> ：暴露受保护的吸气剂和吸气剂<code>NioEndpoint.stopLatch</code>使课程更容易扩展。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> HTTP / 2发生流异常后，防止阻止读取。（雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M18_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">继续进行<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58178">58178</a>的修复。创建时<code>ELContext</code>对于标记文件，请确保任何已注册<code>ELContextListener</code>被解雇。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构为JSP生成的代码，以减少标签所需代码的大小。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进简单标签的错误处理，以确保使用后即可释放并销毁标签。 （雷姆，violetagg）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60769">60769</a> ：更正了针对9.0.0执行的XML编码检测重构中的回归。M16始终错误地始终使用检测到的BOM编码优先于序言中指定的任何编码。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M18_(markt)/Cluster">簇</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">使<code>accessTimeout</code>可配置的<code>BackupManager</code>和<code>ClusterSingleSignOn</code> 。的<code>accessTimeout</code>用作复制映射中PING的超时时间。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60806">60806</a> ：避免<code>ClassNotFoundException</code> ，确保将Web应用程序类加载器传递给<code>ReplicatedContext</code> 。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M18_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60617">60617</a> ：正确创建一个<code>CONNECT</code>通过代理建立WebSocket连接时请求。Svetlin Zarev提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M18_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">添加超过超时时间已收到PING消息的日志消息。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">收到超过超时时间的PING消息后，请确保将有效成员添加到地图成员中。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保这件事<code>NoRpcChannelReply</code>未收到消息<code>RpcCallback</code> 。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M18_(markt)/Web_Applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将JASPIC的规范和Javadoc参考添加到Docs应用程序。 （csutherl）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M18_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> Josh Soref提供的拼写更正。 （紫罗兰色）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">删除Web服务注释的本地定义，因为它们由JRE提供。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.12，以获取使用OpenSSL 1.0.2k构建的最新Windows二进制文件。 （紫罗兰色）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60784">60784</a> ：更新所有测试HTTP状态行的单元测试，以检查状态代码后的所需空间。迈克尔·奥西波夫（Michael Osipov）提供的补丁。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M17_(markt)"><span style="float:right">2017年1月16日</span> Tomcat 9.0.0。M17（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M17_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60620">60620</a> ：扩展<code>JreMemoryLeakPreventionListener</code>提供保护以防<code>ForkJoinPool.commonPool()</code>相关的内存泄漏。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M17_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保与当前关闭的连接关联的UpgradeProcessor实例已从当前到处理器的连接映射中删除。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">删除先前用WebSocket，TLS和APR报告的问题的变通办法，该问题将某些错误情况视为非错误。原始问题无法用当前代码重现，并且变通办法现在引起问题。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M17_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60497">60497</a> ：使用更好的变量名作为标签重用标志的后续修订。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将简单标签的try / final方法恢复使用。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M17_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">防止在意外的WebSocket连接关闭时可能的处理循环。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M17_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">启用重置统计信息而不重新启动池。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M17_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">将用于构建Windows安装程序的NSIS安装程序更新为3.01版。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> Josh Soref提供的拼写更正。 （紫罗兰色）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M16_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.0。M16（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M16_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=53602">53602</a> ：将HTTP状态代码451（RFC 7725）添加到ErrorReportValve可以识别的HTTP状态代码列表中。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60446">60446</a> ：处理以下情况：存储的用户凭证使用与当前配置的密钥长度不同的密钥长度<code>CredentialHandler</code> 。基于Niklas Holm的补丁。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新引用了在Java 9上运行所需的选项的警告，以对这些选项使用最新的语法。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60513">60513</a> ：使用RMI清理代码解决了线程安全问题。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M16_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当OpenSSL与JSSE连接器一起使用并且尚未配置显式别名时，请扩展服务器证书的搜索过程。（市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">从每个端点中提取通用的接受者代码到所有端点都使用的新的接受者类中。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60450">60450</a> ：改进了TLS虚拟主机默认信任存储类型的选择算法。特别是不要使用<code>PKCS12</code>作为默认的信任库类型。更好地记录如何为TLS虚拟主机选择默认信任存储类型。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60451">60451</a> ：正确处理HTTP / 2标头值，该标头值包含具有Unicode代码点在128到255之间的字符。拒绝并显示一条清晰的错误消息HTTP / 2标头值，其中包含具有255以上的unicode码点的字符。（标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进选择用于解锁接收器的地址的逻辑，以考虑平台配置为以下地址时不会在所有本地地址上侦听的平台： <code>0.0.0.0</code>要么<code>::</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正重构中的回归以更广泛地使用<code>ByteBuffer</code>导致单元测试中出现间歇性故障。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60482">60482</a> ：HTTP / 2不应该对查询字符串进行URL解码。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复HTTP / 2压缩错误。一旦为动态HPACK表确定了新的大小，则下一个标头块必须以动态表更新开始。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60508">60508</a> ：设置HTTP / 2的请求开始时间。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">现在，AJP连接器的默认输出缓冲区大小基于配置的AJP数据包大小，而不是最小允许的AJP数据包大小。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M16_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">实现一个更简单的JSP文件编码检测器，该检测器将XML序言编码检测委托给JRE，而不是使用自定义XML解析器。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60497">60497</a> ：使用try / finally后，恢复以前的标签重用行为。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进简单标签的错误处理，以确保使用后即可释放并销毁标签。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M16_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在尝试写之前，如果写超时，则正确处理阻塞WebSocket的写操作。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M16_(markt)/Web_Applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60344">60344</a> ：在BUILDING.txt中添加有关使用带有正确行尾的源包的注释。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60467">60467</a> ：从XML文档中删除有问题的字符。基于Michael Osipov的补丁。 （舒尔茨）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">在文档Web应用程序中，必须明确指出，群集要求所有群集网络流量都需要一个安全的网络。（市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将ASF徽标更新为新版本。
      </li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60468">60468</a> ：更正用于报告文档生成日期的示例ISO-8601日期的格式。迈克尔·奥西波夫（Michael Osipov）提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M16_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新用于Windows的Apache Tomcat安装程序中使用的ASF徽标，以使用新版本。
      </li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M15_(markt)"><span style="float:right">2016年12月8日</span> Tomcat 9.0.0。M15（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M15_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="码：" class="icon" src="./images/code.gif">由于9.0.0的本地构建配置错误，导致版本增加。在完成数字签名之后才被捕获的M14签名需要唯一的名称，因此需要一个新标签。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M14_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.0。M14（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M14_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60202">60202</a> ：向领域添加可用标志，以指示状态或领域后端。如果锁定域可用，则将锁定域更新为仅注册身份验证失败。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60340">60340</a> ：改进了DefaultServlet和ErrorReportValve中使用的CSS的可读性。迈克尔·奥西波夫（Michael Osipov）提供的补丁。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60351">60351</a> ：延迟创建<code>META-INF/war-tracker</code>直到扩展了WAR之后才解决文件问题，以解决Tomcat进程在扩展过程中终止的情况。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">为本身位于打包的WAR文件中的JAR中的资源正确生成URL。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确处理<code>configClass</code>嵌入Tomcat时主机的属性。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60368">60368</a> ：在嵌入式模式下启动时停止创建默认连接器。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60379">60379</a> ：一旦不再需要GSS凭证，则将其丢弃。迈克尔·奥西波夫（Michael Osipov）提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60380">60380</a> ：确保已致电<code>HttpServletRequest#logout()</code>触发呼叫<code>TomcatPrincipal#logout()</code> 。基于Michael Osipov的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60381">60381</a> ：提供标准<code>toString()</code>实现的组件实现<code>Contained</code> 。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60387">60387</a> ：更正javadoc <code>o.a.catalina.AccessLog.setRequestAttributesEnabled</code> 。对于不同的实现，默认值是不同的。（紫罗兰色）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60393">60393</a> ：在以下实现中使用一致的参数命名<code>Realm#authenticate(GSSContext, boolean)</code> 。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构<code>org.apache.naming</code>打包以减少重复的代码。Simian工具标识的重复代码。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构的实现<code>HttpServletRequest#getRequestURL()</code>减少重复的代码。Simian工具标识的重复代码。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构Catalina接口以更广泛地使用<code>Contained</code>界面并减少重复。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">去除<code>getName()</code>来自的方法<code>RealmBase</code>以及子类用于存储返回值的各种常量。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60395">60395</a> ：登录时<code>Authenticator</code>通过不完整<code>GSSContext</code>到领域，因为它表明<code>Authenticator</code> 。迈克尔·奥西波夫（Michael Osipov）提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60400">60400</a> ：扩展用于读取请求正文的缓冲区时，请确保将读取位置恢复到原始位置。 （紫罗兰色）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构内部Tomcat组件的MBean实现，以减少代码重复。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60410">60410</a> ：确保多个呼叫到<code>JarInputStreamWrapper#close()</code>不要错误地触发底层JAR或WAR文件的关闭。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60411">60411</a> ：在<code>RewriteValve</code>用于使符号名指定在将重定向响应返回给用户代理时要使用的重定向代码。迈克尔·奥西波夫（Michael Osipov）提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60413">60413</a> ：在<code>RewriteValve</code>将空捕获组写为空字符串，而不是<code>"null"</code>生成重写的URL时。基于Michael Osipov的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M14_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60372">60372</a> ：确保在将标头写入套接字时发生IOException时，将响应标头的缓冲区限制重置为该缓冲区的容量。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保在Tomcat启动期间正确报告了需要ALPN的已配置升级协议的可用性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60386">60386</a> ：实现一种更复杂的修剪算法，用于从优先级树中删除关闭的流，以确保该树不会变得太大。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60409">60409</a> ：当无法完成sendfile请求时，请确保仅将处理器添加到缓存一次。 （markt / violetagg）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果将端点配置为侦听特定类型的任何本地地址（例如，端点），请确保端点在关闭期间能够解锁接收器线程<code>0.0.0.0</code>要么<code>::</code> 。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加新的配置选项， <code>ipv6v6only</code>到APR连接器，允许它们配置为仅在配置了IPv6地址时接受IPv6连接，而不是默认值（如果操作系统使用双网络堆栈，则默认值也接受IPv4连接）。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进解锁接收器线程的逻辑，以便在为任何本地端口配置连接器时可以更好地选择要连接的地址。这减少了解锁失败的可能性。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60436">60436</a> ：处理异步超时时，请避免使用潜在的NPE。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">减少一个窗口，在该窗口中，刚开始在容器线程上处理的异步请求仍然有资格进行异步超时。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M14_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60431">60431</a> ：改进了UEL表达式中对varargs的处理。基于Ben Wolfe的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M14_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正《主机配置参考》中的错字。通过comment.apache.org报告的问题。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60412">60412</a> ：添加有关注释语法的信息<code>RewriteValve</code>组态。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M14_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">减少从其他域接收到的消息的警告日志，以避免过多的日志输出。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M14_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60437">60437</a> ：避免websocket客户端中的握手溢出。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M14_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58816">58816</a> ：实现jdbc-pool的统计信息。统计信息是<code>borrowedCount</code> ， <code>returnedCount</code> ， <code>createdCount</code> ， <code>releasedCount</code> ， <code>reconnectedCount</code> ， <code>releasedIdleCount</code>和<code>removeAbandonedCount</code> 。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60194">60194</a> ：如果<code>validationQuery</code>未指定，则通过调用<code>isValid()</code>方法。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60398">60398</a> ：修复测试用例<code>TestSlowQueryReport</code> 。（kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M14_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">允许自定义service.bat，例如堆内存大小，服务启动模式和JVM args。isapir通过Github提供的补丁。（紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60366">60366</a> ：更改<code>catalina.bat</code>直接使用<code>LOGGING_MANAGER</code>和<code>LOGGING_CONFIG</code>变量以配置日志记录，而不是修改<code>JAVA_OPTS</code> 。Petter Isberg提供的补丁。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60383">60383</a> ：将<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60383">JASPIC</a> API作为依赖项添加到<code>org.apache.tomcat:tomcat-catalina</code>专家文物。（紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更新与TLS连接器示例相关的注释<code>server.xml</code> 。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加了新属性<code>test.verbose</code>为了控制测试的输出是否在控制台上显示。Emmanuel Bourg提供的补丁。 （紫罗兰色）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif"><code>TestOpenSSLCipherConfigurationParser.testSpecification</code> -如果测试失败，请提供更多详细信息。Emmanuel Bourg提供的补丁。 （紫罗兰色）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M13_(markt)"><span style="float:right">2016年11月8日</span> Tomcat 9.0.0。M13（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M13_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">检查AbstractProtocol中使用的threadPriority值是否有效。（fschumacher）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M12_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.0。M12（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M12_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">通过JMX创建新的连接器时，请确保可以同时创建HTTP / 1.1和AJP / 1.3连接器。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当连接器无法实例化关联的ProtocolHandler时，减少多个错误消息。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60152">60152</a> ：为连接器生命周期异常提供一个重新抛出而不是记录的选项。这是由新<code>throwOnFailure</code>连接器的属性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">无法将项目添加到缓存时，请在日志消息中包含上下文名称。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">排除JAR文件<code>/WEB-INF/lib</code>从静态资源缓存中。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">打电话时<code>getResourceAsStream()</code>在目录上，确保<code>null</code>返回。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60161">60161</a> ：允许创建容器记录器的子类别，并将其用于重写阀。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">阅读提供的关机密码时，请正确测试控制字符。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60297">60297</a> ：简化嵌入式模式下的连接器创建。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">以嵌入式模式重构容器的创建，以提高一致性和灵活性。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">如果在启用了ThreadLocal内存泄漏检测的Java 9上运行（默认设置），但现在不要求使用命令行选项，则记录警告。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将连接器配置为使用执行程序时，在编写连接器配置时，请确保StoreConfig组件包括执行程序名称。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">配置JMX远程侦听器时，请指定凭据的允许类型。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M12_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在创建编码器和解码器时，请更正转置客户机和服务器表大小的HPACK头表大小配置。（市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">查看HTTP / 2实施，删除未使用的代码，在可能的情况下降低可见性，并在适当的地方使用final。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果HTTP / 2流在标头解析过程中被重置，请不要继续处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> HTTP / 2为每个Cookie使用单独的标头。根据RFC 7540的要求，在继续处理之前将它们合并到单个Cookie标头中。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将HTTP / 2实现与HTTP / 1.1实现对齐，并在请求处理期间发生未处理的异常时返回500响应。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正HTTP标头解析器，以便不将DEL视为有效的令牌字符。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加有关处理HTTP / 2伪标头的检查。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将对尾部标头的支持添加到HTTP / 2实现中。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60232">60232</a> ：处理HTTP / 2流的标头时，请确保读取缓冲区足够大，可以处理标头。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将配置选项添加到HTTP / 2实现中，以控制允许的最大标头数，允许的标头的最大大小，允许的尾部标头的最大数量，允许的尾部标头的最大大小以及允许的cookie的最大数量。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">跟踪HTTP / 2流的状态时，正确区分发送和接收重置帧。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">删除对使用旧的连接器属性名称的未记录支持<code>backlog</code> ， <code>soLinger</code>和<code>soTimeout</code>之前已重命名了几个主要版本。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60319">60319</a> ：使用执行器时，将其与连接器属性断开连接<code>maxThreads</code> ， <code>minSpareThreads</code>和<code>threadPriority</code>以便一致报告配置设置。这些连接器属性将报告为<code>-1</code>使用执行器时。执行者使用的值可以通过执行者进行设置和获取。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果在非容器线程上进行异步处理期间发生I / O错误，请确保<code>onError()</code>事件被触发。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进在非容器线程上进行异步处理期间对I / O错误的检测，并在检测到它们时触发异步错误处理。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将其他有效字符检查添加到HTTP请求行解析中，以便更快地拒绝无效请求行。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M12_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新到Eclipse JDT Compiler 4.6.1。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M12_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">将HTTP / 2配置信息添加到文档Web应用程序。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复默认值<code>validationInterval</code> jdbc-pool中的属性。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正“ CGI操作方法”中的错字。通过comment.apache.org报告的问题。 （紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M12_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当代理节点发送备份检索消息时，请确保使用<code>channelSendOptions</code>已设置而不是默认值<code>channelSendOptions</code> 。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M12_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">将JASPIC API jar添加到Maven Central发布脚本中。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">从tomcat-util-scan.jar中删除与tomcat-util.jar中的类重复的类。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将用于构建Windows安装程序的NSIS安装程序更新为3.0版。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M11_(markt)"><span style="float:right">2016年10月10日，</span> Tomcat 9.0.0。M11（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M11_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59961">59961</a> ：将选项添加到<code>StandardJarScanner</code>控制是否扫描JAR清单以获取其他类路径条目。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60013">60013</a> ：重构先前的修复程序，以使重写阀的行为与mod_rewrite保持一致。为此，请为<code>B</code>和<code>NE</code>标志，并改善<code>QSA</code>旗。包括Santhana Preethiand的多个测试用例和Tiago Oliveira的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60087">60087</a> ：重构Web资源处理以使用特定于Tomcat的资源<code>war:file:...</code>引用WAR文件及其内容而不是标准的URL协议<code>jar:file:...</code>因为使用标准格式时，JRE的某些组件（例如JAR验证）会产生意外结果。重构的副作用是，当使用打包的WAR时，现在可以在在安全环境下运行时使用的安全策略文件中引用WAR和/或WAR中的特定JAR。 <code>SecurityManager</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60116">60116</a> ：解决了改写阀的问题，该问题导致在使用以下条件时评估的反向引用在条件下被强制小写<code>NC</code>旗。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保<code>Digester.useContextClassLoader</code>在使用类加载器的情况下考虑。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60117">60117</a> ：确保名称为<code>LogLevel</code>使用时已本地化<code>OneLineFormatter</code> 。Tatsuya Bessho提供的补丁。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60138">60138</a> ：修复<code>SSLHostConfig</code>所以这样<code>protocols</code>属性仅限于当前JSSE实现所支持的协议，而不是实现所使用的默认协议。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60146">60146</a> ：如果资源足够小，则通过调用WebResource.getInputStream（）触发器缓存来提高资源检索的性能。由mohitchugh提供的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60151">60151</a> ：改善以下情况下的异常错误消息： <code>ResourceLink</code>无法指定类型，指定未知类型或指定了错误的类型。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60167">60167</a> ：忽略中的空行<code>/etc/passwd</code>使用时的文件<code>PasswdUserDatabase</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60170">60170</a> ：排除压缩的测试文件<code>index.html.br</code>根据RAT分析。Gavin McDonald提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">启动Web资源时，请确保仅启动一次类资源。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进对链接的全局资源的访问检查，以处理当前类装入器是Web应用程序类装入器的子级的情况。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60196">60196</a> ：确保<code>isMandatory</code>使用JASPIC认证时，正确设置了flag。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60199">60199</a> ：如果反序列化问题阻止会话属性加载，请记录警告。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60208">60208</a> ：使用兼容RFC6265的cookie时， <code>/</code> cookie名称中不应包含该字符，因为RFC6265会将此类cookie视为无效。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">介绍新方法<code>read(ByteBuffer)</code> / <code>write(ByteBuffer)</code>在<code>o.a.catalina.connector.CoyoteInputStream</code> / <code>o.a.catalina.connector.CoyoteOutputStream</code> 。 （紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M11_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">重构实现对调用的要求的代码<code>complete()</code>要么<code>dispatch()</code>由非容器线程在容器启动的线程之前创建，该线程调用<code>startAsync()</code>必须延迟完成操作，直到容器启动的线程完成为止。而不是通过阻塞非容器线程来实现这一点，而是扩展内部状态机以对此进行跟踪。这消除了阻塞非容器线程可能触发死锁的可能性。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果客户端在SNI处理期间关闭连接，则会更早失败。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60123">60123</a> ：避免潜在的线程问题，该问题可能导致在当前请求的处理时间内返回过大的值。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60174">60174</a> ：的日志实例<code>HeadersTooLargeException</code>在请求处理期间。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60173">60173</a> ：最多允许64kB HTTP / 2标头表大小限制。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">直接ByteBuffer清理程序的Java 9兼容性。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M11_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60101">60101</a> ：删除已删除的类的预加载。（紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M11_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">展开文档中有关嵌套元素的文档<code>Resources</code>元素，以根据资源搜索的顺序来阐明不同配置选项的行为。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加使用<code>classesToInitialize</code>的属性<code>JreMemoryLeakPreventionListener</code>文档Web应用程序。基于Cris Berneburg的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60192">60192</a> ：更正Manager应用程序状态输出中的错字。Radhakrishna Pemmasani提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M11_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">返回已标记为可疑的连接时通知jmx。（kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保<code>POOL_EMPTY</code>通知已添加到jmx通知类型。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60099">60099</a> ：使用时，请确保将所有方法参数用作缓存键<code>StatementCache</code> 。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M11_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更新Objenesis的下载位置。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60164">60164</a> ：更换<code>log4j-core*.jar</code>与<code>log4j-web*.jar</code>因为它是<code>log4j-web*.jar</code>包含<code>ServletContainerInitializer</code> 。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将文档添加到bin / catalina.bat脚本中，以提醒用户在作为Windows服务运行时环境变量不会影响Tomcat的配置。基于James HH Lampert的文档补丁。 （舒尔茨）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.10，以获取使用OpenSSL 1.0.2j构建的最新Windows二进制文件。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M10_(markt)"><span style="float:right">2016年9月5日</span> Tomcat 9.0.0。M10（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M10_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59813">59813</a> ：确保将正确处理JAR清单中的Class-Path属性的循环关系。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保阅读<code>singleThreadModel</code>一个的属性<code>StandardWrapper</code>通过JMX不会触发相关Servlet的初始化。在某些框架下，这可能会触发意外的初始化线程，如果初始化不是线程安全的，则初始化可能会失败。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">与不存在的标头从httpd重写的兼容性。（jfclere）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">默认情况下，将用于获取请求分发程序的路径视为已编码。可以通过以下方式针对每个Web应用程序更改此行为： <code>dispatchersUseEncodedPaths</code>上下文的属性。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">提供一种机制，使该容器能够在SecurityManager下运行时检查组件（通常是Web应用程序）是否已被授予给定权限，而不必使当前执行堆栈通过该组件。使用此新机制将SecurityManager保护扩展到摘要程序的系统属性替换功能。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">通过检索对象时<code>ResourceLink</code> ，请确保获得的对象属于预期的类型。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59823">59823</a> ：确保在调用时考虑到<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59823">JASPIC</a>配置<code>HttpServletRequest.authenticate()</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59824">59824</a> ：标记<code>RewriteValve</code>默认情况下支持异步处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59839">59839</a> ：申请<code>roleSearchAsUser</code> JNDIRealm中的所有嵌套搜索。 （fschumacher）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59859">59859</a> ：修复了WebDAV Servlet中的资源泄漏。基于Coty Sutherland的补丁。 （fschumacher）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59862">59862</a> ：允许使用系统属性过滤嵌套的jar文件扫描<code>tomcat.util.scan.StandardJarScanFilter.jarsToSkip</code> 。补丁由Terence Bandoian提供。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59866">59866</a> ：扫描时<code>WEB-INF/classes</code>对于注释，请勿扫描以下内容<code>WEB-INF/classes/META-INF</code> （如果存在），因为将永远不会从该位置加载类。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59888">59888</a> ：使用时，正确处理引用的第一版Cookie中的制表符和空格<code>Rfc6265CookieProcessor</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> JRE解决了许多JRE内存泄漏<code>JreMemoryLeakPreventionListener</code>已在Java 9中修复，因此现在在Java 9及更高版本上运行时，相关的保护已被禁用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59912">59912</a> ：修复输入流处理中的边缘情况<code>IOException</code>读取POST正文时可能会抛出该错误。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59913">59913</a> ：更正了对Servlet 4的支持引入的回归<code>HttpServletRequest.getMapping()</code>如果从后续包含中请求，则导致转发的请求的属性丢失的API。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59966">59966</a> ：如果web.xml中的错误页面配置无效，请不要启动Web应用程序。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将CGI Servlet切换到标准日志记录机制，并删除对debug属性的支持。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60012">60012</a> ：日志消息中的改进。根据Nemo Chen的建议。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">的变化<code>allowLinking</code>一个的属性<code>StandardRoot</code>现在，如果启用了缓存，实例将使缓存无效。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加一个新的初始化参数， <code>envHttpHeaders</code>到CGI Servlet，以默认情况下缓解<a href="https://httpoxy.org">httpoxy</a> （ <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5388">CVE-2016-5388</a> ），并提供一种可用于缓解未来任何类似问题的机制。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加和删除时<code>ResourceLink</code> ，请确保仅通过<code>ResourceLinkFactory</code>当它应该是。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60008">60008</a> ：在处理COR请求时，请使用URI方案处理任何来源<code>file</code>作为有效来源。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进由状态转换触发的生命周期事件期间的异常处理。现在捕获到异常，并将组件放置到<code>FAILED</code>州。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60013">60013</a> ：修复了将RewriteValve与UTF-8查询字符串或UTF-8重定向URL一起使用时的编码问题。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60022">60022</a> ：将WAR文件和/或关联的分解目录符号链接到文件中时，改进处理<code>appBase</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了读取全局web.xml时文件描述符泄漏的问题。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用指定的web.xml文件的编码或未指定显式编码的UTF-8一致地解码通过web.xml提供的URL模式。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使针对Realm实现的定时攻击变得更加困难。 （舒尔茨）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M10_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正重构中的回归，以启用自定义密钥库的注入，该密钥库破坏了与JSSE TLS连接器一起使用的OpenSSL样式PEM密钥和证书文件的自动转换。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59910">59910</a> ：请勿将JSSE的密钥别名值硬编码为“ tomcat”。使用密钥库时，OpenSSL仍将默认使用它。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59904">59904</a> ：为每个请求允许的cookie数量增加一个限制（默认为200）。基于gehui的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59925">59925</a> ：更正r1628368中的回归并确保HTTP分隔符按照在<code>LegacyCookieProcessor</code> 。中村京平提供的补丁。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59950">59950</a> ：报告无法将连接的当前HTTP / 2流数目无法修剪到限制以下时，更正日志消息。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保这件事<code>Semaphore.release</code>在所有情况下都被调用。即使有例外。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60030">60030</a> ：纠正由于无法处理流结束条件而触发的SNI解析代码中的潜在无限循环。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构JSSE客户端证书验证，以确保<code>certificateVerificationDepth</code>配置属性不取决于证书吊销列表的存在。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">中的小型日志记录优化<code>Rfc6265CookieProcessor</code> 。Svetlin Zarev提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">现在，OpenSSL现在默认情况下会禁用3DES，因此在使用OpenSSL语法选择密码时应体现这一点。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">对NIO2的异步错误使用正确的ERROR套接字状态代码。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60035">60035</a> ：如果客户端在握手完成之前断开了TLS连接，则修复了潜在的连接泄漏。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">如果JSSE TLS连接器配置了尚未生效或已过期的受信任证书，则在启动时记录警告。（市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M10_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当使用JspC写入完整的web.xml文件时，请确保XML序言中使用的编码与用于写入文件内容的编码匹配。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进自定义标记的错误处理，以确保将标记返回到池中或在使用后释放并销毁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60032">60032</a> ：修复了在EL值表达式中使用varargs的方法调用的处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">忽视<code>engineOptionsClass</code>和<code>scratchdir</code>在安全管理器下运行时。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了StringIndexOutOfBoundsException。基于wuwen通过Github提供的补丁。 （紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M10_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59908">59908</a> ：如果由于超时而关闭会话，请确保在关闭消息中包含原因短语。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M10_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59867">59867</a> ：更正Manager 403.jsp提供的文档。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59868">59868</a> ：澄清Manager Web应用程序的文档，以使服务器部分中的主机名和IP地址更加清晰，这是主要的主机名和IP地址。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59940">59940</a> ：更正名称<code>truststorePassword</code>的属性<code>SSLHostConfig</code>配置文档中的元素。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> MBeans描述符操作方法已移至<code>mbeans-descriptors-howto.html</code> 。Radoslav Husar提供的补丁。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用以下信息更新NIO连接器配置文档<code>socket.directSslBuffer</code> 。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60034">60034</a> ：更正文档Web应用程序的“管理人员指南”页面中的错字。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在文档Web应用程序中更正CRL位置配置属性的名称。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M10_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">为了避免意外跳过<code>PoolCleaner</code> ，删除已计划任务中执行间隔的检查代码。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59850">59850</a> ：确保<code>ResultSet</code>启用时关闭<code>StatementCache</code>拦截器。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59923">59923</a> ：降低默认值<code>validationInterval</code>为了避免在数据库重新启动后继续返回无效连接的潜在问题。（kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保<code>ResultSet</code>启用时，将作为代理对象返回<code>StatementDecoratorInterceptor</code> 。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=60043">60043</a> ：确保<code>suspectTimeout</code>在不删除连接的情况下工作<code>removeAbandoned</code>被禁用。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">返回已标记为可疑的连接时添加的日志消息。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确的Javadoc适用于<code>ConnectionPool.suspect()</code> 。基于Yahya Cahyadi的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M10_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59871">59871</a> ：添加属性（ <code>timeFormat</code> ）到JULI的<code>OneLineFormatter</code>启用要配置的日志消息中使用的时间戳的格式。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59899">59899</a> ：更新Tomcat的Java Persistence批注的副本，以包括在2.1 / JavaEE 7中所做的更改。（标记）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了mbeans-descriptors.xml文件中的拼写错误。 （紫罗兰色）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons BCEL的内部fork更新为r1757132以与BCEL 6版本保持一致。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons DBCP 2的内部fork更新为r1757164，以修复一些错误。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons Codec的内部fork更新为r1757174。代码格式仅更改。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons FileUpload的内部fork更新为afdedc9。这样就可以修复具有较大的多部分边界的性能，以提高性能。（市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M9_(markt)"><span style="float:right">2016年7月12日</span> Tomcat 9.0.0。M9（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M9_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=18500">18500</a> ：添加了对通配符主机名和主机别名的有限支持。表格名称<code>*.domainname</code>现在被允许。请注意，确切的主机名匹配优先于通配符主机名匹配。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57705">57705</a> ：为远程主机，远程地址阀和过滤器拒绝的请求添加调试日志记录。基于Graham Leggett的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修正修正了<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58588">58588</a>的回归，该回归删除了整个<code>org.apache.juli</code>嵌入式JAR中的软件包，使其无法使用。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59399">59399</a> ：为Tomcat随附的Realm实现添加一个新选项，该选项允许按Realm控制用于HTTP-> HTTPS重定向的HTTP状态代码。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59708">59708</a> ：修改LockOutRealm逻辑。在锁定期间进行有效的身份验证尝试将不再将锁定计时器重置为零。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">更改默认<code>sessionCookiePathUsesTrailingSlash</code>的属性<code>Context</code>元素<code>false</code>因为当Servlet映射到<code>/*</code>比默认情况下不启用此选项的安全风险更为重要。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">随访至<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59655">59655</a> 。改进有关配置允许的cookie名称的文档。中村京平提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在Web应用程序的初始化阶段，请勿尝试启动Web资源，因为此时Web应用程序尚未完全配置，并且Web资源可能未正确配置。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改善调用前围绕用户代码的错误处理<code>InstanceManager.destroy()</code>确保执行该方法。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M9_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">解决多次尝试关闭同一套接字的原因。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构证书密钥库和信任库的生成，以使嵌入式用户更容易注入自己的密钥库。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">添加一个<code>maxConcurrentStreamExecution</code> HTTP / 2协议处理程序上的，以限制单个连接中正在执行的并发流的数量。默认是不限制它。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59233">59233</a> ：添加了动态添加TLS虚拟主机的功能。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">解决问题<code>ServletRequest.getServerPort()</code>用于安全的HTTP / 2连接，这意味着使用默认端口时返回了错误的值。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改善调用前围绕用户代码的错误处理<code>InstanceManager.destroy()</code>确保执行该方法。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">记录HTTP / 2配置参数的默认值<code>maxConcurrentStreamExecution</code>如20。</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M9_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改善调用前围绕用户代码的错误处理<code>InstanceManager.destroy()</code>确保执行该方法。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M9_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="码：" class="icon" src="./images/code.gif">现在，WebSocket实现不是直接建立在Servlet API之上，而是可以使用Tomcat内部组件，因此不需要专用的WebSocket Executor。它已被使用连接器/端点提供的执行器代替。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改善调用前围绕用户代码的错误处理<code>InstanceManager.destroy()</code>确保执行该方法。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M9_(markt)/Web_Applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">不要记录其他情况<code>IOException</code>根本原因是客户端断开连接（因为日志未添加任何值），因此Drawboard WebSocket示例的错误处理程序中的s。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59642">59642</a> ：提及<code>localDataSource</code>在里面<code>DataSourceRealm</code>领域方法部分。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59672">59672</a> ：更新文档Web应用程序的安全注意事项页面，以考虑到Manager和HostManager应用程序现在具有一个<code>RemoteAddrValve</code>默认配置。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59399">59399的后续措施</a> 。确保新属性<code>transportGuaranteeRedirectStatus</code>已记录所有<strong>Realm</strong> 。同时记录<code>NullRealm</code>以及自动为<strong>Engine</strong>创建的时间。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修正对<code>maxAge</code> jdbc-pool文档中的属性。该属性在返回连接和借用连接时均起作用。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59774">59774</a> ：更正<code>prefix</code>记录的示例中的值用于配置<code>AccessLogValve</code> 。Mike Noordermeer提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M9_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">当ping超时时，添加日志消息。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果在以下位置收到了ping消息： <code>AbstractReplicatedMap#leftOver</code>方法，请确保通知成员还活着，而不是忽略它。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M9_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当连接验证失败时，修复重复的连接版本。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保不要删除已经释放的废弃连接。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M9_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">从Maven发布脚本中删除JULI plus log4j Extras和嵌入式工件。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">使用镜像网络而不是ASF主站点来下载当前的ASF依赖项。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.8，以获取最新的修补程序，并使1.2.8成为最低推荐版本。（市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M8_(markt)"><span style="float:right">2016年6月13日</span> Tomcat 9.0.0。M8（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M8_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">删除意外提交的调试代码。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M7_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.0。M7（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M7_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">可以避免与RMI Target相关的内存泄漏，这使它们成为需要修复的应用程序错误，而不是JRE错误。因此，在Web应用程序停止时开始记录与RMI目标相关的内存泄漏。添加一个选项来控制是否检查这些泄漏。如果在Java 9上运行且启用了此检查，但没有要求的命令行选项，则记录警告。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保扫描没有MANIFEST.MF文件的jar文件时，在部署过程中不会引发NPE。 （紫罗兰色）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">去除<code>clearReferencesStatic</code>来自的选项<code>StandardContext</code> 。已知它会导致某些库（例如log4j）出现问题，并且仅链接到可疑的内存泄漏，而不是已知的内存泄漏。默认情况下已禁用它，并且一段时间以来内存泄漏报告没有增加。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59604">59604</a> ：更正URL解码中的默认平台编码始终与ISO-8859-1兼容的假设。此假设并不总是有效的，例如在z / OS上。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59608">59608</a> ：跳过任何无效<code>Class-Path</code> JAR清单中的属性。由于存在许多错误的库，因此在调试级别记录错误。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">无法注册MBean时修复错误消息。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59655">59655</a> ：将cookie名称验证配置为默认情况下使用RFC6265规则，以使其与默认cookie解析器对齐。记录系统属性对cookie名称验证的影响。 （标记）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M7_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保使用非令牌的HTTP方法名称的请求（RFC 7231要求）以400响应被拒绝。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当AJP连接器处理异步请求时，请确保在开始下一个请求之前完全完成了请求处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">改进对HTTP / 2流重置的处理。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58750">58750</a> ：默认情况下不再设置HTTP Server标头。可以通过设置服务器头来配置<code>server</code>的属性<code>Connector</code> 。一个新的<code>Connector</code>属性， <code>serverRemoveAppProvidedValues</code>可用于删除Web应用程序设置的任何服务器标头。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59564">59564</a> ：更正了当读入HTTP / 2输入缓冲区时的偏移量，该偏移量可能会导致读取请求正文时出现问题。 （紫罗兰/市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修改读/写超时的处理，以便进行适当的错误处理（ <code>ReadListener.onError()</code> ， <code>WriteListener.onError()</code>要么<code>AsyncListener.onError()</code> ） 叫做。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果异步调度导致请求处理完成，请确保在开始处理下一个请求之前吞下任何剩余的请求主体，否则可以将剩余的主体读取为导致400响应的下一个请求的开始。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M7_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59567">59567</a> ：当爆炸的JAR包含一个空的WEB-INF / classes / META-INF文件夹时，修复NPE扫描webapps的TLD。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复表达式语言实现中的内存泄漏，该泄漏导致第一个Web应用程序的类加载器使用表达式固定在内存中。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59654">59654</a> ：改进尝试从无效位置使用TLD文件时的错误消息。张虎星提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M7_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59659">59659</a> ：修复了WebSocket处理客户端意外断开连接时可能发生的内存泄漏。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M7_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58891">58891</a> ：更新SSL方法。根据AlexanderKjäll的建议。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Extras">附加功能</h4><div class="text">
    <ul class="changelog">
      <li><img alt="码：" class="icon" src="./images/code.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58588">58588</a> ：从发行版中删除JULI Extras软件包。它仅在将Tomcat的内部日志切换到log4j 1.2.x时有用，并且不再支持该版本的log4j。如果将Tomcat的内部日志切换为通过log4j 2.x进行日志，则不需要其他Tomcat代码。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M7_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用池清洁器线程修复内存泄漏，该线程清洁器线程保留对第一个Web应用程序使用连接池的Web应用程序类加载器的引用。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M7_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons DBCP 2的内部fork更新为r1743696（2.1.1以及其他修复）。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons Pool 2的内部fork更新为r1743697（2.4.2以及其他修复程序）。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons File Upload的内部fork更新为r1743698（1.3.1以及其他修复）。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">对所有XML文件使用UTF-8和标准序言。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58626">58626</a> ：添加对新环境变量的支持（ <code>USE_NOHUP</code> ） <code>nohup</code>在启动Tomcat时使用。默认情况下禁用此功能，但在HP-UX上默认禁用该功能，因为在HP-UX上启动Tomcat时需要使用它。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M6_(markt)"><span style="float:right">2016年5月16日</span> Tomcat 9.0.0。M6（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M6_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保包装在Web片段中的带注释的Web组件在<code>unpackWARs</code>已启用。 （紫罗兰色）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M5_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.0。M5（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M5_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=48922">48922</a> ：对Tomcat内部请求对象中的日期格式进行很小的性能改进。基于Ondrej Medek提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59206">59206</a> ：确保不会将NPE抛出<code>o.a.tomcat.util.file.ConfigFileLoader</code>什么时候<code>catalina.base</code>未指定。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59217">59217</a> ：删除重复路径中的重复项<code>o.a.tomcat.util.http.ServerCookie</code> 。补丁由中村京平提供。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了可能的NPE <code>o.a.catalina.loader.WebappClassLoaderBase.getResourceAsStream</code> （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59213">59213</a> ：异步分派应基于包装的请求。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保这件事<code>javax.servlet.ServletRequest</code>和<code>javax.servlet.ServletResponse</code>在期间提供<code>javax.servlet.AsyncListener</code>可通过以下方式进行注册<code>javax.servlet.AsyncEvent.getSuppliedRequest</code>和<code>javax.servlet.AsyncEvent.getSuppliedResponse</code> （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59219">59219</a> ：确保<code>AsyncListener.onError()</code>如果一个<code>Exception</code>在异步处理期间抛出。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59220">59220</a> ：确保<code>AsyncListener.onComplete()</code>如果异步请求超时并且响应已经提交，则调用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59226">59226</a> ：处理<code>Class-Path</code>类路径上的JAR的JAR清单中的JAR属性，不包括打包在<code>WEB-INF/lib</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59255">59255</a> ：修复了映射器中可能存在的NPE。 （kkolinko /雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59256">59256</a> ： <code>slf4j-taglib*.jar</code>默认情况下，不应将其排除在标准JAR扫描之外。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">澄清不允许在@WebServlet和@WebFilter批注中同时指定urlPatterns和value属性的日志消息。（紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保由Valves引起的异常在日志文件中可用，以便可以在发生以下情况时对其进行评估<code>o.a.catalina.valves.ErrorReportValve.showReport</code>被禁用。补丁程序由Svetlin Zarev提供。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">删除未使用的<code>distributable</code>定义为<code>TransientAttribute</code>的<code>Manager</code>在StoreConfig中。（kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复StoreConfig中Cluster Receiver的处理。的<code>bind</code>和<code>host</code>属性定义为<code>TransientAttribute</code> 。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59261">59261</a> ： <code>ServletRequest.getAsyncContext()</code>现在抛出<code>IllegalStateException</code>如果调用时请求不是处于异步模式，则按照Servlet规范的要求。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59269">59269</a> ：更正实施<code>PersistentManagerBase</code>以便<code>minIdleSwap</code>按设计功能运行，并交换会话以将活动会话数保持在以下水平<code>maxActiveSessions</code> 。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新建议的Servlet 4.0 API的实现，以提供当前请求的映射类型信息，以反映EG中的讨论。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确配置扩展JAR文件提供的资源目录的基本路径。hengyunabc提供的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">当有多种压缩格式可用并且客户端未表达首选项时，请使用服务器顺序确定首选格式。基于gmokki的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59284">59284</a> ：允许Tomcat提供<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59284">JASPIC</a> <code>SimpleServerAuthConfig</code>从传递给其构造函数的属性集中或从对的调用中传递的属性中获取模块配置属性<code>getAuthContext</code> 。基于Thomas Maslen的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59310">59310</a> ：请勿添加<code>Content-Length: 0</code>用于自定义响应的标头<code>HEAD</code>没有设置请求的请求<code>Content-Length</code>值。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">规范化路径时，请改善路径结尾处的处理<code>/.</code>要么<code>/..</code>并确保输入和输出在是否结尾处保持一致<code>/</code> 。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59317">59317</a> ：确保<code>HttpServletRequest.getRequestURI()</code>分派后返回编码的URI，而不是解码的URI。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">报告错误处理错误时，使用正确的URL片段<code>web-fragment.xml</code>位于解压后的WAR中的JAR文件。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保这件事<code>JarScanner</code>仅使用显式回调进行处理<code>WEB-INF/classes</code>并且仅在配置为处理以下内容时<code>WEB-INF/classes</code>作为可能爆炸的JAR。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">去除<code>java2DDisposerProtection</code>来自的选项<code>JreMemoryLeakPreventionListener</code> 。Java 7及更高版本中已修复了该漏洞，Tomcat 9需要Java 8，因此该选项是不必要的。（市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">去除<code>securityPolicyProtection</code>来自的选项<code>JreMemoryLeakPreventionListener</code> 。Java 8及更高版本中的泄漏已得到修复，Tomcat 9需要Java 8，因此该选项是不必要的。（市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">去除<code>securityLoginConfigurationProtection</code>来自的选项<code>JreMemoryLeakPreventionListener</code> 。Java 8及更高版本中的泄漏已得到修复，Tomcat 9需要Java 8，因此该选项是不必要的。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保标题的值<code>X-Frame-Options</code>根据规格正确构造<code>ALLOW-FROM</code>使用选项。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复<code>IllegalArgumentException</code>如果第一次使用内部<code>Response</code>对象需要JASPIC身份验证。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用JASPIC并使用缓存的凭据对用户进行身份验证时，请勿触发不必要的会话ID更改。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59437">59437</a> ：确保JASPIC <code>CallbackHandler</code>是线程安全的。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59449">59449</a> ：在<code>ContainerBase</code> ，请确保删除子容器的过程与添加一个子容器的过程相反。张虎星提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M5_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当SSL分配由于某种原因失败时，提高了OpenSSL引擎的健壮性。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> OpenSSL引擎代码清除。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将密码配置解析与当前的OpenSSL主文件对齐。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">更改默认值<code>honorCipherOrder</code>至<code>false</code> 。使用当前的默认TLS配置，不再需要这样做<code>true</code>用于合理安全的配置。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加一个新的环境变量<code>JSSE_OPTS</code>旨在用于将JVM范围的配置传递给JSSE实现。默认值为<code>-Djdk.tls.ephemeralDHKeySize=2048</code>可以防止弱Diffie-Hellman键。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58970">58970</a> ：修复了NIO连接器中的连接计数错误，该错误意味着某些断开的连接没有从当前连接计数中删除。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59289">59289</a> ：请勿在意外关闭的情况下回收升级处理器。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59295">59295</a> ：使用<code>Locale.toLanguageTag()</code>构造<code>Content-Language</code> HTTP标头，以确保正确表示语言环境。zikfat提供的补丁。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59295">59295</a> ：添加了对将pem编码的证书与JSSE SSL一起使用的支持。由Emmanuel Bourg提交，并进行了其他调整。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当使用JSSE + OpenSSL并将证书链存储在Java KeyStore中时，使TLS证书链对客户端可用。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">解决ALPS协商失败时<a href="https://github.com/openssl/openssl/issues/188">OpenSSL</a>中的<a href="https://github.com/openssl/openssl/issues/188">一个已知问题，</a>该<a href="https://github.com/openssl/openssl/issues/188">问题</a>不允许TLS握手失败。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59421">59421</a> ：添加直接HTTP / 2连接支持。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确处理对<code>AsyncContext.complete()</code>使用非阻塞I / O时，从非容器线程访问。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59451">59451</a> ：正确的Javadoc适用于<code>MessageBytes</code> 。中村京平提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59450">59450</a> ：正确处理以下情况： <code>LegacyCookieProcessor</code>配置有<code>allowHttpSepsInV0</code>调成<code>false</code>和<code>forwardSlashIsSeparator</code>调成<code>true</code> 。中村京平提供的补丁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M5_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在扫描JAR以获得TLD时，请正确处理JAR爆炸成（罕见）的情况<code>WEB-INF/classes</code>并将Web应用程序部署为打包的WAR。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59640">59640</a> ：未找到TLD的NPE。 （雷姆）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M5_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59189">59189</a> ：显式释放由<code>Inflater</code>和<code>Deflater</code>当使用PerMessageDeflate并且WebSocket会话结束时。基于Henrik Olsson的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">恢复<code>WsServerContainer.doUpgrade()</code>由于Tomcat不使用而被意外删除的方法。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复由连接器重构引起的回归，并确保在服务器上处理WebSocket消息时将线程上下文类加载器设置为Web应用程序类加载器。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保客户端断开连接触发关联的WebSocket端点的错误处理。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">在关闭WebSocket会话期间处理错误时，使WebSocket客户端更强大。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M5_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59218">59218</a> ：更正路径<code>jaspic-providers.xml</code>在Jaspic How-To中。补丁由Tatsuya Bessho提供。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">意外添加到主机管理器的“删除”按钮。由科蒂·萨瑟兰（Coty Sutherland）提交。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在文档中更新指向部署了Tomcat快照工件的Maven存储库的链接。 （markt / violetagg）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">澄清要求<code>ServletContext.log(String, Throwable)</code>要么<code>GenericServlet.log(String, Throwable)</code>以严重级别记录。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正SSL / TLS配置方法中的错字。通过comment.apache.org报告的问题。 （紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M5_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当代理节点无法检索备份条目时，请避免使用NPE。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加指示该成员是localMember的标志。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复潜在的NPE，该NPE在使用静态群集时取决于静态成员的属性的设置顺序。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">为与之相关的频道添加get / set方法<code>ChannelInterceptor</code> 。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">与多播群集环境一样，在静态群集环境中，本地成员从群集接收者继承属性。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">为与每个Channel服务相关的通道添加get / set方法。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将名称添加到频道以标识频道。在tomcat集群环境中，将集群名称+“-Channel”设置为默认值。（kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">将通道名称添加到由通道服务调用的线程中，以标识关联的通道。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">停止频道时，请确保从频道服务中清除频道实例。 （kfujino）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">在复制映射中实现映射状态。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保在复制映射的启动/停止期间未执行ping操作。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在复制映射的ping处理中，不发送<code>INIT</code>消息，但新引入<code>PING</code>信息。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M5_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59211">59211</a> ：将hamcrest添加到Eclipse类路径。补丁由张虎星提供。 （紫罗兰色）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59276">59276</a> ：将可选的Checkstyle库更新为6.17。（kkolinko）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59280">59280</a> ：将用于构建Windows Installers的NSIS安装程序更新为版本2.51。 （kkolinko）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.7，以获取基于OpenSSL 1.0.2h和APR 1.5.2的Windows二进制文件。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M4_(markt)"><span style="float:right">2016年3月16日</span> Tomcat 9.0.0。M4（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M4_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保这件事<code>/WEB-INF/classes</code>永远不会作为Web片段进行处理。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">安装本机时切换默认连接器。除非另行配置，否则默认情况下将使用NIO端点。如果配置了SSL，将使用OpenSSL而不是JSSE。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修正<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58867">58867的</a>修正中的回归。当配置上下文以将外部目录用于<code>docBase</code> ，并且该目录恰好位于原始WAR的旁边，请将该目录用作<code>docBase</code>而不是将战争扩大到<code>appBase</code>并使用新创建的扩展目录作为<code>docBase</code> 。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58351">58351</a> ：使服务器构建日期和服务器版本号可通过JMX访问。张虎星提供的补丁。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58988">58988</a> ： <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58988">RewriteValve</a>替换中的特殊字符现在可以用反斜杠引起来。 （fschumacher）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58999">58999</a> ：修复了<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58999">WebappClassLoader中的</a>类和资源名称过滤。如果名称恰好是“ org”或“ javax”，它将引发StringIndexOutOfBoundsException。 （荣）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加JASPIC（JSR-196）支持。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">使RewriteValve中的var和map替换检查更加严格，并正确检测var替换中的冒号。 （fschumacher）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构Web应用程序类加载器，以减少JAR扫描对Web应用程序的内存占用量的影响。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了从JAR和WAR访问文件的错误处理中的一些资源泄漏。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构JAR和JAR-in-WAR资源处理，以减少Web应用程序的内存占用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构web.xml解析，以便在每次Web应用程序启动时都创建一个新的解析器，而不是在创建Context时创建并缓存解析器。这使解析器能够考虑已修改的Context配置参数，并（略微）减少了正在运行的Tomcat实例的内存占用。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Web应用程序类加载器切换到<code>ParallelWebappClassLoader</code>默认。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57809">57809</a> ：删除保存有效web.xml的自定义上下文属性。需要访问配置信息的组件可以通过Servlet API访问它。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">重构JAR扫描以减少内存占用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59001">59001</a> ：将Tomcat安装在其中一个段以感叹号结尾的路径上时，可以正确处理。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">扩展<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59001">59001</a>的修复程序，以涵盖Tomcat的自定义jar：war：URL中使用的特殊序列。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59043">59043</a> ：如果与单点登录相关的会话到期，则避免警告<code>HttpServletRequest.logout()</code>用来。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59054">59054</a> ：请确保使用<code>CrawlerSessionManagerValve</code> Valve在会话中注册自身时，在分布式环境中，不会触发错误。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将套接字属性支持添加到storeconfig。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了重写规则中对NE和NC标志的错误解析。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59065">59065</a> ：更正了在以下版本中实现的非Windows系统上路径中的冒号检查时间： <code>catalina.sh</code>因此它可以与Cygwin一起正常使用。Ed Randall提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果为主机配置了不存在的appBase，请在尝试将外部WAR文件扩展到其中之前创建appBase。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59115">59115</a> ：使用Servlet 3.0文件上传时，提交的文件名可以作为令牌或带引号的字符串提供。如果是带引号的字符串，请先将该字符串取消引号，然后再返回给用户。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59123">59123</a> ：关闭<code>NamingEnumeration</code>所使用的对象<code>JNDIRealm</code>一旦不再需要它们。（舒马赫/市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">实现建议的Servlet 4.0 API，以提供当前请求的映射类型信息。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59138">59138</a> ：当Web应用程序类加载器已加载键类而非值类时，更正了针对ThreadLocal相关的内存泄漏的误报警告。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59017">59017</a> ：在Default Servlet泛型中提供预压缩文件支持，因此可以使用任何压缩方式，而不仅仅是gzip。Mikko Tiihonen提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59145">59145</a> ：当用户注销与SSO关联的会话时，请不要记录无效的警告。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59150">59150</a> ：在APR侦听器上添加一个附加标志，以允许自动使用OpenSSL。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59151">59151</a> ：修复了针对<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=56917">56917</a>的回归问题，该回归问题为提供的重定向位置添加了其他（可能是不必要的）验证。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59154">59154</a> ：修复<code>NullPointerException</code>在里面<code>JAASMemoryLoginModule</code>由于引入了<code>CredentialHandler</code>至<code>Realm</code> s。（舒尔茨/马克特）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M4_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在NIO2连接器中处理启动连接后所需的TLS缓冲区大小增加的情况。 （标记/毫米）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> NIO2中握手错误的处理不正确。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将JSSE会话配置选项与OpenSSL一起使用。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59015">59015</a> ：如果在关闭过程中Poller遇到错误，请修复关闭期间APR Poller循环不断的潜在原因。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">对齐以下密码的别名<code>kECDHE</code>和<code>ECDHE</code>使用当前的OpenSSL实现。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59081">59081</a> ：定义密码时，请保留用户定义的密码顺序。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59089">59089</a> ：正确忽略标题名称中包含非令牌字符的HTTP标题。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M4_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">更新到Eclipse JDT Compiler 4.5.1。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57583">57583</a> ：提高性能<code>javax.servlet.jsp.el.ScopedAttributeELResolver</code>解决不存在的属性时。仅当Jasper与Tomcat的EL实现一起使用时，此改进才有效。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M4_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了会话关闭上的计时问题，该问题可能导致即使消息已完成也为不完整的消息引发异常。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">当最终消息片段的长度为零时，正确处理部分消息的压缩。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59119">59119</a> ：使用安全连接时，更正WebSocket客户端的读取逻辑。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59134">59134</a> ：对于通过代理建立的安全连接，正确的客户端连接逻辑。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M4_(markt)/Web_applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正用于自动部署的预期行为的文档中的错误。如果更新了WAR，并且存在扩展目录，则在以下情况下，将始终通过扩展WAR来删除和重新创建目录： <code>unpackWARs</code>是<code>true</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=48674">48674</a> ：在主机管理器Web应用程序中实施一个选项以保留当前配置。基于Coty Sutherland的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58935">58935</a> ：删除文档中关于使用的错误引用<code>jar:file:</code> Manager应用程序的URL。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正描述<code>ServletRequest.getServerPort()</code>在代理方法中。通过comment.apache.org报告的问题。 （紫罗兰色）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">现在只能通过以下方式访问Manager和Host Manager应用程序<code>localhost</code>默认。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M4_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果在获得会话时将代理节点提升为主节点，请通知新的主节点已更改为原始备份节点。（kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M4_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58283">58283</a> ：在构建过程中，从以下位置更改库的默认下载位置： <code>/usr/share/java</code>至<code>${user.home}/temp</code> 。艾哈迈德·霍斯尼（Ahmed Hosni）提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59031">59031</a> ：使用Windows卸载程序时，请勿删除已符号链接到Tomcat目录结构中的任何目录的内容。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.5，以获取基于OpenSSL 1.0.2g和APR 1.5.1的Windows二进制文件。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">修改默认<code>tomcat-users.xml</code>文件，使用户难以配置打算与Manager应用程序的示例Web应用程序一起使用的条目。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M3_(markt)"><span style="float:right">2016年2月5日</span> Tomcat 9.0.0。M3（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M3_(markt)/General">一般</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">允许使用build属性配置多个JUnit测试类模式<code>test.name</code>并在BUILDING.txt中记录该属性。 （荣）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M3_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">保护初始化<code>ResourceLinkFactory</code>与SecurityManager一起运行时。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">根据值对象的实现类名称，纠正会话属性过滤中的线程安全问题。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将类加载器决策固定在类加载和资源查找的委托上，并使其更快。 （荣）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58768">58768</a> ：如果由于无效位置导致重定向失败，则记录警告。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58827">58827</a> ：删除JSR-77实施的其余部分。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58946">58946</a> ：确保通过RequestDispatcher处理时，请求参数映射保持不变。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58905">58905</a> ：确保<code>Tomcat.silence()</code>使正确的记录器静音，并遵守当前设置。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M3_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在9.0.0中更正连接器重构中的回归。M2破坏了对APR /本机连接器的TLS支持。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">列出启用TLS的APR /本机连接器的启用密码（例如，通过Manager Web应用程序）时，更正NPE。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">新的配置选项<code>ajpFlush</code>用于AJP连接器以禁用AJP刷新数据包的发送。 （荣）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在NIO连接器中处理启动连接后所需的TLS缓冲区大小增加的情况。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M2_(markt)"><span style="float:right">尚未发布</span> Tomcat 9.0.0。M2（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M2_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="码：" class="icon" src="./images/code.gif">重构创建<code>MapperListener</code>确保<code>Mapper</code>使用的是<code>Mapper</code>与<code>Service</code>为此创建了侦听器。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">移动为上下文根和目录提供重定向的功能，其中尾随<code>/</code>从映射器添加到<code>DefaultServlet</code> 。这样，在进行重定向之前，任何配置的Valves和Filters都可以处理此类请求。此行为可以通过以下方式配置<code>mapperContextRootRedirectEnabled</code>和<code>mapperDirectoryRedirectEnabled</code>上下文的属性，可用于还原以前的行为。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构<code>Service.getContainer()</code>返回一个<code>Engine</code>而不是<code>Container</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=34319">34319</a> ：仅将这些键加载到<code>StoreBase.processExpire</code>来自JDBCStore的已过期的旧文件。基于Tom Anderson的补丁。 （fschumacher）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=56917">56917</a> ：根据RFC7231（HTTP / 1.1），允许HTTP / 1.1和更高版本的重定向使用相对URI。这由新属性控制<code>useRelativeRedirects</code>在<strong>上下文中</strong> ，默认为<code>true</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58629">58629</a> ：允许嵌入式Tomcat实例在以下情况下启动： <code>Service</code>没有<code>Engine</code>配置。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">如果该服务的引擎已更改，请正确通知与该服务关联的MapperListener。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">通过上下文属性使Web应用程序的CredentialHandler可用。这允许Web应用程序使用相同的算法来从明文验证或生成新存储的凭据。 （舒尔茨）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58635">58635</a> ：使用Java代理运行Tomcat时，允许在代理代码中设置断点。基于张虎星的补丁。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">固定潜在NPE <code>HostConfig</code>在部署应用程序时。覆盖率扫描报告的问题。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58655">58655</a> ：修复<code>IllegalStateException</code>打电话时<code>HttpServletResponse.sendRedirect()</code>与<code>RemoteIpFilter</code> 。这是由于尝试正确生成重定向的绝对URI引起的。使用<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=56917">56917</a>的修复程序，重定向现在可能是相对的， <code>sendRedirect()</code>实施<code>RemoteIpFilter</code>简单得多。这也解决了当从http重定向到https到从https重定向到http时重定向可能没有按预期表现的问题。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58657">58657</a> ：Servlet 3.1中的异常<code>ReadListener</code>要么<code>WriteListener</code>不需要立即对连接造成致命伤害。允许写入错误响应。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确执行<code>validateClientProvidedNewSessionId</code>因此，如果启用了验证，则客户端提供的会话ID可能会被拒绝。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58701">58701</a> ：重置<code>instanceInitialized</code>在<code>StandardWrapper</code>在卸载Servlet时可以正确初始化新实例。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">添加新标志<code>aprPreferred</code>给四月听众。如果设置为<code>false</code> ，当使用默认连接器时，如果可用tomcat-native，它将使用NIO + OpenSSL，而不是APR连接器。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">将路径参数处理添加到<code>HttpServletRequest.getContextPath()</code> 。这是<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57215">57215</a>的修复程序。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58692">58692</a> ：制造<code>StandardJarScanner</code>更强大。如果无法扫描类路径条目而不是触发Web应用程序失败，则记录警告。包括Derek Abdine编写的测试用例。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58702">58702</a> ：如果客户端中止连接，请确保生成访问日志条目。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复了Findbugs报告的各种问题。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58735">58735</a> ：添加对<code>X-XSS-Protection</code>标头<code>HttpHeaderSecurityFilter</code> 。Jacopo Cappellato提供的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">添加<code>StatusManagerServlet</code>只能由特权应用程序加载的Servlet列表。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">简化代码并修复消息<code>org.apache.catalina.core.DefaultInstanceManager</code>类。（kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58751">58751</a> ：正确处理以下情况： <code>AsyncListener</code>在异步超时时分派给Servlet，并且Servlet使用<code>sendError()</code>触发错误页面。包括一个基于Andy Wilkinson提供的代码的测试用例。</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保当DefaultServlet提供自述文件时，将使用正确的文件编码（如果指定）。 （紫罗兰色）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修正的声明<code>localPort</code> MBean连接器的属性：它是只读的。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58766">58766</a> ：通过首先检查文件名，可以更快地在注释扫描期间跳过非类文件。改善调试日志记录。（kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58836">58836</a> ：在处理转发的请求时正确合并查询字符串参数，其中目标包括查询字符串，该查询字符串包含无值的参数。 （市场/ kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">确保在以下不太可能的错误情况下重置共享的摘要器<code>HostConfig.deployWAR()</code> 。 （kkolinko）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展集群会话管理器实现中可用的功能，该功能使会话属性复制可以基于属性名称过滤到所有会话管理器实现中。请注意，配置属性名称已从更改为<code>sessionAttributeFilter</code>至<code>sessionAttributeNameFilter</code> 。在加载和卸载时应用筛选器，以确保将Web应用程序停止时所做的配置更改应用于所有持久数据。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">扩展会话属性过滤选项以包括基于值的实现类和可选的过滤<code>WARN</code>级别日志记录（如果过滤了属性）。这些选项可用于Tomcat附带的所有Manager实现。当一个<code>SecurityManager</code>使用默认情况下将启用过滤。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">去掉<code>distributable</code>和<code>maxInactiveInterval</code>来自<code>Manager</code>接口，因为从未使用过属性。来自的等效属性<code>Context</code>始终优先。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58867">58867</a> ：改进了对主机启动的检查，以检查在Tomcat停止时已修改的WAR文件，并在出现以下情况时重新展开它们： <code>unpackWARs</code>是<code>true</code> 。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58900">58900</a> ：正确取消部署<a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58900">符号</a>链接的资源，并防止无限期的部署/取消部署周期。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M2_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58621">58621</a> ：不能使用主证书属性设置证书链，因此请还原证书链属性。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">允许连接器可以使用JSSE或OpenSSL的新SSL配置类型。两者都可以允许，但可能会造成支持问题。NIOx的OpenSSL实现使用此类型。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">通过使用Context.bind和unbind改进升级上下文类加载器的处理。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">通过使用JSSE实现中的代码来改进OpenSSL密钥库/信任库配置。 （雷姆，jfclere）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复客户端意外断开连接时的潜在循环。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">客户端证书身份验证的OpenSSL重新协商支持。（雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复NIO连接器重新协商。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58659">58659</a> ：修复了连接窗口大小受限制的HTTP / 2处理期间的潜在死锁。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M2_(markt)/Jasper">碧玉</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57136#c25">57136＃c25</a> ：更改的默认值<code>quoteAttributeEL</code>在贾斯珀设置为<code>true</code>以便与其他实现和Tomcat的旧版本更好地兼容。添加命令行选项<code>-no-quoteAttributeEL</code>在JspC中。 （kkolinko）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复处理中的丢失消息<code>org.apache.el.util.MessageFactory</code> 。 （紫罗兰色）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M2_(markt)/Cluster">簇</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在静态集群成员身份中启用本地成员的显式配置。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复潜在的整数溢出<code>DeltaSession</code> 。通过覆盖率扫描报告。 （fschumacher）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">为了避免心跳线程和后台线程运行<code>Channel.heartbeat</code>同时，如果<code>heartbeatBackgroundEnabled</code>的<code>SimpleTcpCluster</code>调成<code>true</code> ，请确保心跳线不会启动。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M2_(markt)/WebSocket">WebSocket</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=55006">55006</a> ：WebSocket客户端现在可以使用<code>java.net.java.net.ProxySelector</code>建立到服务器的WebSocket连接时配置（使用HTTP类型）。基于Niki Dokovski的补丁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58624">58624</a> ：如果在编写消息时关闭了WebSocket连接，请更正潜在的死锁。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57489">57489</a> ：确保<code>onClose()</code>即使关闭消息的发送失败，在关闭WebSocket连接时也会调用。包括Barry Coughlan的测试用例。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M2_(markt)/Web_Applications">网络应用</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58631">58631</a> ：更正文档Web应用程序的Windows Service How-To页面中的继续字符使用。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">更正SSL文档中已过时的属性，以指向与各个证书相关的属性的正确的新位置。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">在“ JNDI资源”方法中更正一些错字。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">不要在Manager应用程序中不必要地创建会话。 （市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">不要在主机管理器应用程序中不必要地创建会话。（市场）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=58723">58723</a> ：澄清管理器的文本界面的文档和错误消息，以明确在引用使用并行部署部署的上下文时，版本必须与路径一起使用。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">文献<code>test.threads</code> BUILDING.txt中的选项。 （kkolinko）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M2_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">即使已注册到删除可疑列表的静态成员已消失，也请确保将静态成员注册到添加可疑列表中。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">使用静态集群时，将已在成员资格服务中缓存的成员添加到地图成员列表中，以确保地图成员是静态成员。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">添加对静态集群中本地成员的启动通知的支持。 （kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">忽略来自不同域的不必要的成员删除操作。（kfujino）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">添加对静态集群中本地成员的关闭通知的支持。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M2_(markt)/jdbc-pool">jdbc池</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">正确评估系统属性<code>org.apache.tomcat.jdbc.pool.onlyAttemptCurrentClassLoader</code> 。以前基本上被忽略了。通过覆盖率扫描报告。 （fschumacher）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif">修复潜在的整数溢出<code>ConnectionPool</code>和<code>PooledConnection</code> 。通过覆盖率扫描报告。 （fschumacher）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M2_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">将可选的Checkstyle库更新为6.14.1。 （kkolinko）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Tomcat本机库的打包版本更新为1.2.4，以获取基于OpenSSL 1.0.2e和APR 1.5.1的Windows二进制文件。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将用于生成Windows Installers的NSIS Installer更新到2.50版。 （市场/ kkolinko）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons BCEL的内部fork更新为r1725718，以与BCEL 6（下一个主要的BCEL版本）的重构保持一致。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons DBCP 2的内部fork更新为r1725730（2.1.1以及其他修复）。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons Pool 2的内部fork更新为r1725738（2.4.2以及其他修复程序）。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">将Commons Codec的内部fork更新为r1725746（1.9和其他修复程序）。 （市场）</li>
    </ul>
  </div></div>
</div><h3 id="Tomcat_9.0.0.M1_(markt)"><span style="float:right">2015年11月17日，</span> Tomcat 9.0.0。M1（市场）</h3><div class="text">
  <div class="subsection"><h4 id="Tomcat_9.0.0.M1_(markt)/General">一般</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">使Java 8成为构建和运行Tomcat 9的最低必需版本。（市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">删除对Comet的支持。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">收紧默认文件权限<code>.tar.gz</code>分发，因此默认情况下没有文件或目录可全局读取。将Tomcat配置为以默认umask运行<code>0027</code>可以通过设置来覆盖<code>UMASK</code>在<code>setenv.sh</code> 。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">删除对Windows Itanium的本机代码（Windows Service Wrapper，APR /本机连接器）支持。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M1_(markt)/Catalina">卡塔琳娜</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">默认的HTTP cookie解析器已更改为<code>org.apache.tomcat.util.http.Rfc6265CookieProcessor</code> 。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M1_(markt)/Coyote">土狼</h4><div class="text">
    <ul class="changelog">
      <li><img alt="更新：" class="icon" src="./images/update.gif">删除对HTTP BIO和AJP BIO连接器的支持。 （市场）</li>
      <li><img alt="码：" class="icon" src="./images/code.gif">重构HTTP升级和AJP实现以减少重复。（市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">增加了对Stuart Douglas贡献的HPACK标头编码和解码的支持。 （雷姆）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif"> <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=57108">57108</a> ：添加了对服务器名称指示（SNI）的支持。为了支持此功能，server.xml中的SSL配置进行了重大更改。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加由OpenSSL支持的JSSE的SSL引擎。包括ALPN支持。基于Numa de Montmollin贡献的代码，并源自Twitter和Netty开发的代码。 （雷姆）</li>
      <li><img alt="固定：" class="icon" src="./images/fix.gif"> RFC 7230规定客户端应忽略HTTP / 1.1响应消息中的原因短语。由于原因短语是可选的，因此Tomcat不再发送它。结果是系统属性<code>org.apache.coyote.USE_CUSTOM_STATUS_MSG_IN_HEADER</code>已不再使用，并且已被删除。 （市场）</li>
      <li><img alt="更新：" class="icon" src="./images/update.gif">最低要求的Tomcat本机版本已增加至1.2.2。1.2.x分支包括HTTP / 2所需的ALPN和SNI支持。 （市场）</li>
      <li><img alt="加：" class="icon" src="./images/add.gif">添加对HTTP / 2的支持，包括服务器推送。 （市场）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M1_(markt)/Tribes">部族</h4><div class="text">
    <ul class="changelog">
      <li><img alt="固定：" class="icon" src="./images/fix.gif">明确处理“复制”消息和“复制”节点。 （kfujino）</li>
    </ul>
  </div></div>
  <div class="subsection"><h4 id="Tomcat_9.0.0.M1_(markt)/Other">其他</h4><div class="text">
    <ul class="changelog">
      <li><img alt="加：" class="icon" src="./images/add.gif">支持使用<code>threads</code> Ant的junit任务上的属性。请注意，使用大于1的值将禁用Cobertura代码覆盖率。 （市场）</li>
    </ul>
  </div></div>
</div></div></div></div></div><footer><div id="footer">版权所有©1999-2019，Apache软件基金会</div></footer></div></body></html>