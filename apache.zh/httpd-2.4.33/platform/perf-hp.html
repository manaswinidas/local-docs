<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>在HPUX上运行高性能Web服务器-Apache HTTP Server版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body id="manual-page" class="no-sidebar" ><div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="<-" alt="<-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> > <a href="http://httpd.apache.org/">HTTP Server</a> > <a href="http://httpd.apache.org/docs/">文档</a> > <a href="../index.html">版本2.4</a> > <a href="./index.html">平台特定说明</a></div><div id="page-content"><div id="preamble"><h1>在HPUX上运行高性能Web服务器</h1>



<pre>Date: Wed, 05 Nov 1997 16:59:34 -0800
From: Rick Jones &lt;<a href="mailto:raj@cup.hp.com">raj@cup.hp.com</a>&gt;
Reply-To: <a href="mailto:raj@cup.hp.com">raj@cup.hp.com</a>
Organization: Network Performance
Subject: HP-UX tuning tips</pre>

    <p>以下是一些HP-UX要添加到调优页面的调优技巧。</p>

    <p>对于HP-UX 9。X：升级至10.20<br>对于HP-UX10。[00 | 01 | 10]：升级到10.20</p>

    <p>对于HP-UX 10.20：</p>

    <p>安装最新的累积ARPA传输修补程序。这将允许您配置TCP连接查找哈希表的大小。默认值为256个存储桶，并且必须设置为2的幂。这是通过adb针对内核的* disc *映像完成的。变量名称是<code>tcp_hash_size</code> 。请注意，使用“ <code>W</code> “写一个32位的数量，而不是” <code>w</code> “，以便在修补光盘映像时写入16位值，因为<code>tcp_hash_size</code> variable是32位量。</p>

    <p>如何挑选价值？检查<a href="ftp://ftp.cup.hp.com/dist/networking/tools/connhist">ftp://ftp.cup.hp.com/dist/networking/tools/connhist</a>的输出，并查看系统上共有多少个TCP连接。您可能希望该数字除以哈希表大小要合理地小，例如小于10。人们可以查看HP的SPECweb96公开内容以获得一些常用设置。这些可以在<a href="http://www.specbench.org/">http://www.specbench.org/</a>上找到。如果HP-UX系统以每秒1000个SPECweb96连接的速度执行，则<code>TIME_WAIT</code> 60秒的时间意味着将跟踪60,000个TCP“连接”。</p>

    <p>人们可以使用<a href="ftp://ftp.cup.hp.com/dist/networking/misc/listenq">ftp://ftp.cup.hp.com/dist/networking/misc/listenq</a>检查其侦听队列深度。</p>

    <p>如果人们在基于PA-8000的系统上运行Apache，则应考虑“聊天” Apache可执行文件以使其具有较大的页面大小。这将是“ <code>chatr +pi L <BINARY></code> ”。正在运行的可执行文件的GID必须具有<code>MLOCK</code>特权。
    <code>Setprivgrp(1m)</code>应咨询分配<code>MLOCK</code> 。可以通过运行Glance并检查服务器的内存区域以确保它们显示出被锁定的文本段的重要部分来验证更改。</p>

    <p>如果人们在MP系统上运行Apache，他们可能会考虑编写一个使用<code>mpctl()</code>将进程绑定到处理器。一个简单的<code>pid % numcpu</code>算法可能就足够了。这甚至可能会进入源代码。</p>

    <p>如果人们担心数量<code>FIN_WAIT_2</code>连接，他们可以使用nettune缩小<code>tcp_keepstart</code> 。但是，他们在那儿要小心-绝对不要少于两到四分钟。如果<code>tcp_hash_size</code>已经设置好了，让<code>FIN_WAIT_2</code>的超时时间更长（甚至可能是默认的两个小时）-平均而言，它们不会对性能产生重大影响。</p>

    <p>代码库中可能还有其他内容，但是可能留给另一封电子邮件。如果您或其他人有兴趣，请随时给我留言。</p>

    <p>真诚的</p>

    <p>里克·琼斯</p>

    <p><a href="http://www.netperf.org/netperf/">http://www.netperf.org/netperf/</a></p>

  </div>
</div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>

</body></html>