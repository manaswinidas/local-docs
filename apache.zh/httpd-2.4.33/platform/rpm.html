<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>将Apache与基于RPM的系统一起使用（Redhat / CentOS / Fedora）-Apache HTTP Server版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body id="manual-page" ><div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="<-" alt="<-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> > <a href="http://httpd.apache.org/">HTTP Server</a> > <a href="http://httpd.apache.org/docs/">文档</a> > <a href="../index.html">版本2.4</a> > <a href="./index.html">平台特定说明</a></div><div id="page-content"><div id="preamble"><h1>将Apache与基于RPM的系统一起使用（Redhat / CentOS / Fedora）</h1>



    <p>尽管许多发行版将Apache httpd用作操作系统支持的软件包，但有时可能需要在这些系统上安装和使用Apache httpd的规范版本，以替换软件包的本地提供的版本。</p>

    <p>尽管Apache httpd项目当前没有为各种发行版本创建二进制RPM，但可以从标准的Apache httpd tarball构建自己的二进制RPM还是很容易的。</p>

    <p>本文档说明了在支持RPM打包格式的Unix系统下如何构建，安装，配置和运行Apache httpd 2.4。</p>

  </div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><ul id="toc"><li><img alt="" src="../images/down.gif"> <a href="#creating">创建源RPM</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#building">建立RPM</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#installing">安装服务器</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#default">配置Apache httpd的默认实例</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#additional">在同一台机器上配置Apache httpd的其他实例</a></li>
</ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="creating" id="creating">创建源RPM</a></h2>
    

    <p>可以将Apache httpd源压缩文件转换为SRPM，如下所示：</p>

    <div class="example"><p><code>rpmbuild -ts httpd-2.4.x.tar.bz2</code></p></div>

  </div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="building" id="building">建立RPM</a></h2>
    

    <p>可以使用以下命令直接从Apache httpd源tarball构建RPM：</p>

    <div class="example"><p><code>rpmbuild -tb httpd-2.4.x.tar.bz2</code></p></div>

    <p>在构建RPM之前，需要在构建系统上安装相应的“ -devel”软件包。 <code>rpmbuild</code>命令将自动计算所需的RPM，并将列出系统上缺少的所有依赖项。构建完成后将不需要这些“ -devel”软件包，并且可以安全地删除它们。</p>

    <p>如果成功，将创建以下RPM：</p>

    <dl>
    <dt>httpd-2.4.x-1.i686.rpm</dt>
    <dd>核心服务器和基本模块集。</dd>

    <dt>httpd-debuginfo-2.4.x-1.i686.rpm</dt>
    <dd>服务器和所有模块的调试符号。</dd>

    <dt>httpd-devel-2.4.x-1.i686.rpm</dt>
    <dd>服务器的头和开发文件。</dd>

    <dt>httpd-manual-2.4.x-1.i686.rpm</dt>
    <dd>网络服务器手册。</dd>

    <dt>httpd-tools-2.4.x-1.i686.rpm</dt>
    <dd>Web服务器的支持工具。</dd>

    <dt>mod_authnz_ldap-2.4.x-1.i686.rpm</dt>
    <dd><code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>和<code class="module"><a href="../mod/mod_authnz_ldap.html">mod_authnz_ldap</a></code> ，对openldap具有相应的依赖性。</dd>

    <dt>mod_lua-2.4.x-1.i686.rpm</dt>
    <dd><code class="module"><a href="../mod/mod_lua.html">mod_lua</a></code>模块，对lua有相应的依赖性。</dd>

    <dt>mod_proxy_html-2.4.x-1.i686.rpm</dt>
    <dd><code class="module"><a href="../mod/mod_proxy_html.html">mod_proxy_html</a></code>模块，对libxml2具有相应的依赖性。</dd>

    <dt>mod_socache_dc-2.4.x-1.i686.rpm</dt>
    <dd><code class="module"><a href="../mod/mod_socache_dc.html">mod_socache_dc</a></code>模块，对distcache具有相应的依赖性。</dd>

    <dt>mod_ssl-2.4.x-1.i686.rpm</dt>
    <dd><code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code>模块，对openssl的依赖。</dd>

    </dl>

  </div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="installing" id="installing">安装服务器</a></h2>
    

    <p>的<code>httpd</code> RPM是使基本服务器运行所需的唯一RPM。如下安装：</p>

    <div class="example"><p><code>rpm -U httpd-2.4.x-1.i686.rpm</code></p></div>

    <p>服务器包含自包含的模块。如果需要，依赖于外部库的模块将作为单独的RPM提供来安装。</p>

  </div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="default" id="default">配置Apache httpd的默认实例</a></h2>
    

    <p>服务器的默认配置默认安装在<code>/etc/httpd</code>目录，日志默认写入<code>/var/log/httpd</code> 。默认情况下，在可选服务器中设置了网络服务器的环境<code>/etc/sysconfig/httpd</code>文件。</p>

    <p>启动服务器，如下所示：</p>

    <div class="example"><p><code>service httpd restart</code></p></div>

  </div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="additional" id="additional">在同一台机器上配置Apache httpd的其他实例</a></h2>
    

    <p>可以配置Apache httpd服务器的其他实例，这些实例在同一台计算机上彼此独立运行。这些实例可以具有独立的配置，并且如果这样配置，则可以作为单独的用户运行。</p>

    <p>这是通过使httpd启动脚本知道其自身名称来完成的。然后，使用该名称查找服务器的环境文件，以及服务器实例的服务器根目录。</p>

    <p>创建另一个实例，称为<code>httpd-additional</code> ， 跟着这些步骤：</p>

    <ul>
      <li>创建指向其他服务器启动脚本的符号链接：<div class="example"><p><code>ln -s /etc/rc.d/init.d/httpd /etc/rc.d/init.d/httpd-additional<br> chkconfig --add httpd-additional</code></p></div>

      </li>

      <li>使用以下命令为服务器创建环境文件<code>/etc/sysconfig/httpd</code>文件作为模板：<div class="example"><p><code># template from httpd<br> cp /etc/sysconfig/httpd /etc/sysconfig/httpd-additional</code></p></div>
      
      <div class="example"><p><code># blank template<br> touch /etc/sysconfig/httpd-additional</code></p></div>编辑<code>/etc/sysconfig/httpd-additional</code>并在其中传递新服务器实例的服务器根目录<code>OPTIONS</code>环境变量。

      <div class="example"><p><code>OPTIONS="-d /etc/httpd-additional -f conf/httpd-additional.conf"</code></p></div>

      </li>

      <li>编辑服务器配置文件<code>/etc/httpd-additional/conf/httpd-additional.conf</code>以确保配置了正确的端口和路径。
      </li>

      <li>启动服务器，如下所示：<div class="example"><p><code>service httpd-additional restart</code></p></div>

      </li>

      <li>根据需要为每个服务器实例重复此过程。</li>
    </ul>

  </div></div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>

</body></html>