<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>SSL / TLS强加密：兼容性-Apache HTTP Server版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body id="manual-page" ><div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="<-" alt="<-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> > <a href="http://httpd.apache.org/">HTTP服务器</a> > <a href="http://httpd.apache.org/docs/">文档</a> > <a href="../index.html">版本2.4</a> > <a href="./index.html">SSL / TLS</a></div><div id="page-content"><div id="preamble"><h1>SSL / TLS强加密：兼容性</h1>


<p>本页涵盖了mod_ssl与其他SSL解决方案之间的向后兼容性。 mod_ssl并不是Apache唯一的SSL解决方案；还有（或曾经提供）另外四个产品：Ben Laurie的免费提供的<a href="http://www.apache-ssl.org/">Apache-SSL</a> （最初是mod_ssl的来源，始于1998年），Red Hat的商业安全Web服务器（基于mod_ssl），Covalent的商业Raven SSL模块（也基于mod_ssl），最后是C2Net（现在为Red Hat）的商业产品<a href="http://www.redhat.com/explore/stronghold/">Stronghold</a> （基于一个不同的演进分支，从Stronghold 2.x开始命名为Sioux，并从Stronghold 3.x开始基于mod_ssl）。</p>

<p>mod_ssl主要提供所有其他解决方案功能的超集，因此很容易从较旧的模块之一迁移到mod_ssl。较早的SSL解决方案使用的配置指令和环境变量名称与mod_ssl中使用的指令不同。此处包括映射表，以提供mod_ssl使用的等效项。</p>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><ul id="toc"><li><img alt="" src="../images/down.gif"> <a href="#configuration">配置指令</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#variables">环境变量</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#customlog">自定义日志功能</a></li>
</ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="configuration" id="configuration">配置指令</a></h2>
<p><a href="#table1">表1</a>给出了Apache-SSL 1.x和mod_ssl 2.0.x使用的配置指令之间的映射。由于这些接口中的特殊功能（mod_ssl不提供），因此Sioux 1.x和Stronghold 2.x的映射仅是部分的。</p>


<h3><a name="table1" id="table1">表1：配置指令映射</a></h3>

<table><tbody><tr class="header"><th>旧指令</th><th>mod_ssl指令</th><th>评论</th></tr>
<tr class="header"><th colspan="3">Apache-SSL 1.x和mod_ssl 2.0.x兼容性：</th></tr>
<tr><td><code>SSLEnable</code></td><td><code>SSLEngine on</code></td><td>压实的</td></tr>
<tr class="odd"><td><code>SSLDisable</code></td><td><code>SSLEngine off</code></td><td>压实的</td></tr>
<tr><td><code>SSLLogFile</code> <em>文件</em></td><td><code></code></td><td>使用每个模块<code class="directive"><a href="../mod/core.html#loglevel">LogLevel</a></code>设置。</td></tr>
<tr class="odd"><td><code>SSLRequiredCiphers</code> <em>规格</em></td><td><code>SSLCipherSuite</code> <em>规格</em></td><td>重命名</td></tr>
<tr><td><code>SSLRequireCipher</code> <em>c1</em> ...</td><td><code>SSLRequire %{SSL_CIPHER} in {"</code> <em>c1</em><code>", ...}</code></td><td>广义的</td></tr>
<tr class="odd"><td><code>SSLBanCipher</code> <em>c1</em> ...</td><td><code>SSLRequire not (%{SSL_CIPHER} in {"</code> <em>c1</em><code>", ...})</code></td><td>广义的</td></tr>
<tr><td><code>SSLFakeBasicAuth</code></td><td><code>SSLOptions +FakeBasicAuth</code></td><td>合并</td></tr>
<tr class="odd"><td><code>SSLCacheServerPath</code> <em>目录</em></td><td>--</td><td>功能已删除</td></tr>
<tr><td><code>SSLCacheServerPort</code> <em>整数</em></td><td>--</td><td>功能已删除</td></tr>
<tr class="header"><th colspan="3">Apache-SSL 1.x兼容性：</th></tr>
<tr class="odd"><td><code>SSLExportClientCertificates</code></td><td><code>SSLOptions +ExportCertData</code></td><td>合并</td></tr>
<tr><td><code>SSLCacheServerRunDir</code> <em>目录</em></td><td>--</td><td>不支持的功能</td></tr>
<tr class="header"><th colspan="3">Sioux 1.x兼容性：</th></tr>
<tr class="odd"><td><code>SSL_CertFile</code> <em>文件</em></td><td><code>SSLCertificateFile</code> <em>文件</em></td><td>重命名</td></tr>
<tr><td><code>SSL_KeyFile</code> <em>文件</em></td><td><code>SSLCertificateKeyFile</code> <em>文件</em></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CipherSuite</code> <em>精氨酸</em></td><td><code>SSLCipherSuite</code> <em>精氨酸</em></td><td>重命名</td></tr>
<tr><td><code>SSL_X509VerifyDir</code> <em>精氨酸</em></td><td><code>SSLCACertificatePath</code> <em>精氨酸</em></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_Log</code> <em>文件</em></td><td><code>-</code></td><td>使用每个模块<code class="directive"><a href="../mod/core.html#loglevel">LogLevel</a></code>设置。</td></tr>
<tr><td><code>SSL_Connect</code> <em>旗</em></td><td><code>SSLEngine</code> <em>旗</em></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_ClientAuth</code> <em>精氨酸</em></td><td><code>SSLVerifyClient</code> <em>精氨酸</em></td><td>重命名</td></tr>
<tr><td><code>SSL_X509VerifyDepth</code> <em>精氨酸</em></td><td><code>SSLVerifyDepth</code> <em>精氨酸</em></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_FetchKeyPhraseFrom</code> <em>精氨酸</em></td><td>--</td><td>不可直接映射；使用SSLPassPhraseDialog</td></tr>
<tr><td><code>SSL_SessionDir</code> <em>目录</em></td><td>--</td><td>不可直接映射；使用SSLSessionCache</td></tr>
<tr class="odd"><td><code>SSL_Require</code> <em>expr</em></td><td>--</td><td>不可直接映射；使用SSLRequire</td></tr>
<tr><td><code>SSL_CertFileType</code> <em>精氨酸</em></td><td>--</td><td>不支持的功能</td></tr>
<tr class="odd"><td><code>SSL_KeyFileType</code> <em>精氨酸</em></td><td>--</td><td>不支持的功能</td></tr>
<tr><td><code>SSL_X509VerifyPolicy</code> <em>精氨酸</em></td><td>--</td><td>不支持的功能</td></tr>
<tr class="odd"><td><code>SSL_LogX509Attributes</code> <em>精氨酸</em></td><td>--</td><td>不支持的功能</td></tr>
<tr class="header"><th colspan="3">要塞2.x兼容性：</th></tr>
<tr><td><code>StrongholdAccelerator</code> <em>发动机</em></td><td><code>SSLCryptoDevice</code> <em>发动机</em></td><td>重命名</td></tr>
<tr class="odd"><td><code>StrongholdKey</code> <em>目录</em></td><td>--</td><td>不需要功能</td></tr>
<tr><td><code>StrongholdLicenseFile</code> <em>目录</em></td><td>--</td><td>不需要功能</td></tr>
<tr class="odd"><td><code>SSLFlag</code> <em>旗</em></td><td><code>SSLEngine</code> <em>旗</em></td><td>重命名</td></tr>
<tr><td><code>SSLSessionLockFile</code> <em>文件</em></td><td><code>SSLMutex</code> <em>文件</em></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSLCipherList</code> <em>规格</em></td><td><code>SSLCipherSuite</code> <em>规格</em></td><td>重命名</td></tr>
<tr><td><code>RequireSSL</code></td><td><code>SSLRequireSSL</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSLErrorFile</code> <em>文件</em></td><td>--</td><td>不支持的功能</td></tr>
<tr><td><code>SSLRoot</code> <em>目录</em></td><td>--</td><td>不支持的功能</td></tr>
<tr class="odd"><td><code>SSL_CertificateLogDir</code> <em>目录</em></td><td>--</td><td>不支持的功能</td></tr>
<tr><td><code>AuthCertDir</code> <em>目录</em></td><td>--</td><td>不支持的功能</td></tr>
<tr class="odd"><td><code>SSL_Group</code> <em>名称</em></td><td>--</td><td>不支持的功能</td></tr>
<tr><td><code>SSLProxyMachineCertPath</code> <em>目录</em></td><td><code>SSLProxyMachineCertificatePath</code> <em>目录</em></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSLProxyMachineCertFile</code> <em>文件</em></td><td><code>SSLProxyMachineCertificateFile</code> <em>文件</em></td><td>重命名</td></tr>
<tr><td><code>SSLProxyCipherList</code> <em>规格</em></td><td><code>SSLProxyCipherSpec</code> <em>规格</em></td><td>重命名</td></tr>
</tbody></table>

</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="variables" id="variables">环境变量</a></h2>

<p><a href="#table2">表2中</a>给出了较旧的SSL解决方案使用的环境变量名称与mod_ssl使用的名称之间的映射。</p>

<h3><a name="table2" id="table2">表2：环境变量推导</a></h3>

<table><tbody><tr class="header"><th>旧变量</th><th>mod_ssl变量</th><th>评论</th></tr>
<tr><td><code>SSL_PROTOCOL_VERSION</code></td><td><code>SSL_PROTOCOL</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSLEAY_VERSION</code></td><td><code>SSL_VERSION_LIBRARY</code></td><td>重命名</td></tr>
<tr><td><code>HTTPS_SECRETKEYSIZE</code></td><td><code>SSL_CIPHER_USEKEYSIZE</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>HTTPS_KEYSIZE</code></td><td><code>SSL_CIPHER_ALGKEYSIZE</code></td><td>重命名</td></tr>
<tr><td><code>HTTPS_CIPHER</code></td><td><code>SSL_CIPHER</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>HTTPS_EXPORT</code></td><td><code>SSL_CIPHER_EXPORT</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_KEY_SIZE</code></td><td><code>SSL_CIPHER_ALGKEYSIZE</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_CERTIFICATE</code></td><td><code>SSL_SERVER_CERT</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_CERT_START</code></td><td><code>SSL_SERVER_V_START</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_CERT_END</code></td><td><code>SSL_SERVER_V_END</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_CERT_SERIAL</code></td><td><code>SSL_SERVER_M_SERIAL</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_SIGNATURE_ALGORITHM</code></td><td><code>SSL_SERVER_A_SIG</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_DN</code></td><td><code>SSL_SERVER_S_DN</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_CN</code></td><td><code>SSL_SERVER_S_DN_CN</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_EMAIL</code></td><td><code>SSL_SERVER_S_DN_Email</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_O</code></td><td><code>SSL_SERVER_S_DN_O</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_OU</code></td><td><code>SSL_SERVER_S_DN_OU</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_C</code></td><td><code>SSL_SERVER_S_DN_C</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_SP</code></td><td><code>SSL_SERVER_S_DN_SP</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_L</code></td><td><code>SSL_SERVER_S_DN_L</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_IDN</code></td><td><code>SSL_SERVER_I_DN</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_ICN</code></td><td><code>SSL_SERVER_I_DN_CN</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_IEMAIL</code></td><td><code>SSL_SERVER_I_DN_Email</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_IO</code></td><td><code>SSL_SERVER_I_DN_O</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_IOU</code></td><td><code>SSL_SERVER_I_DN_OU</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_IC</code></td><td><code>SSL_SERVER_I_DN_C</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SERVER_ISP</code></td><td><code>SSL_SERVER_I_DN_SP</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SERVER_IL</code></td><td><code>SSL_SERVER_I_DN_L</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_CERTIFICATE</code></td><td><code>SSL_CLIENT_CERT</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_CERT_START</code></td><td><code>SSL_CLIENT_V_START</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_CERT_END</code></td><td><code>SSL_CLIENT_V_END</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_CERT_SERIAL</code></td><td><code>SSL_CLIENT_M_SERIAL</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_SIGNATURE_ALGORITHM</code></td><td><code>SSL_CLIENT_A_SIG</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_DN</code></td><td><code>SSL_CLIENT_S_DN</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_CN</code></td><td><code>SSL_CLIENT_S_DN_CN</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_EMAIL</code></td><td><code>SSL_CLIENT_S_DN_Email</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_O</code></td><td><code>SSL_CLIENT_S_DN_O</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_OU</code></td><td><code>SSL_CLIENT_S_DN_OU</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_C</code></td><td><code>SSL_CLIENT_S_DN_C</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_SP</code></td><td><code>SSL_CLIENT_S_DN_SP</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_L</code></td><td><code>SSL_CLIENT_S_DN_L</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_IDN</code></td><td><code>SSL_CLIENT_I_DN</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_ICN</code></td><td><code>SSL_CLIENT_I_DN_CN</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_IEMAIL</code></td><td><code>SSL_CLIENT_I_DN_Email</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_IO</code></td><td><code>SSL_CLIENT_I_DN_O</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_IOU</code></td><td><code>SSL_CLIENT_I_DN_OU</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_IC</code></td><td><code>SSL_CLIENT_I_DN_C</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_ISP</code></td><td><code>SSL_CLIENT_I_DN_SP</code></td><td>重命名</td></tr>
<tr><td><code>SSL_CLIENT_IL</code></td><td><code>SSL_CLIENT_I_DN_L</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_EXPORT</code></td><td><code>SSL_CIPHER_EXPORT</code></td><td>重命名</td></tr>
<tr><td><code>SSL_KEYSIZE</code></td><td><code>SSL_CIPHER_ALGKEYSIZE</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_SECKEYSIZE</code></td><td><code>SSL_CIPHER_USEKEYSIZE</code></td><td>重命名</td></tr>
<tr><td><code>SSL_SSLEAY_VERSION</code></td><td><code>SSL_VERSION_LIBRARY</code></td><td>重命名</td></tr>
<tr class="odd"><td><code>SSL_STRONG_CRYPTO</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr><td><code>SSL_SERVER_KEY_EXP</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr class="odd"><td><code>SSL_SERVER_KEY_ALGORITHM</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr><td><code>SSL_SERVER_KEY_SIZE</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr class="odd"><td><code>SSL_SERVER_SESSIONDIR</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr><td><code>SSL_SERVER_CERTIFICATELOGDIR</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr class="odd"><td><code>SSL_SERVER_CERTFILE</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr><td><code>SSL_SERVER_KEYFILE</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr class="odd"><td><code>SSL_SERVER_KEYFILETYPE</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr><td><code>SSL_CLIENT_KEY_EXP</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr class="odd"><td><code>SSL_CLIENT_KEY_ALGORITHM</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
<tr><td><code>SSL_CLIENT_KEY_SIZE</code></td><td><code>-</code></td><td>mod_ssl不支持</td></tr>
</tbody></table>

</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="customlog" id="customlog">自定义日志功能</a></h2>
<p>启用mod_ssl时，“ <a href="../mod/mod_log_config.html#formats">自定义日志格式”</a>的其他功能存在<code class="module"><a href="../mod/mod_log_config.html">mod_log_config</a></code>如参考章节中所述。在``旁边<code>%{</code> <em>变量名</em> <code>}x</code> ''eXtension格式功能，可用于扩展任何模块提供的任何变量，附加密码学'' <code>%{</code> <em>名称</em> <code>}c</code> ''存在加密格式功能以实现向后兼容。<a href="#table3">表3</a>中列出了当前实现的函数调用。</p>

<h3><a name="table3" id="table3">表3：自定义日志密码功能</a></h3>

<table>

<tbody><tr><th>函数调用</th><th>描述</th></tr>

<tr><td><code>%...{version}c</code></td>   <td>SSL协议版本</td></tr>
<tr><td><code>%...{cipher}c</code></td>    <td>SSL密码</td></tr>
<tr><td><code>%...{subjectdn}c</code></td> <td>客户证书主题专有名称</td></tr>
<tr><td><code>%...{issuerdn}c</code></td>  <td>客户证书颁发者的专有名称</td></tr>
<tr><td><code>%...{errcode}c</code></td>   <td>证书验证错误（数字）</td></tr>

<tr><td><code>%...{errstr}c</code></td>    <td>证书验证错误（字符串）</td></tr>
</tbody></table>

</div></div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>

</body></html>