<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>mod_alias-Apache HTTP服务器版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body >
<div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="&lt;-" alt="&lt;-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">HTTP服务器</a> &gt; <a href="http://httpd.apache.org/docs/">文档</a> &gt; <a href="../index.html">版本2.4</a> &gt; <a href="./index.html">模块</a></div>
<div id="page-content">
<div id="preamble"><h1>Apache模块mod_alias</h1>

<table class="module"><tr><th><a href="module-dict.html#Description">描述：</a></th><td>提供在文档树中映射主机文件系统的不同部分以及URL重定向的功能</td></tr>
<tr><th><a href="module-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">模块�标识符：</a></th><td>alias_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">源文件：</a></th><td>mod_alias.c</td></tr></table>
<h3>摘要</h3>

    <p>该模块中包含的指令允许在请求到达服务器时对URL进行操纵和控制。<code class="directive"><a href="#alias">Alias</a></code>和<code class="directive"><a href="#scriptalias">ScriptAlias</a></code>指令用于在URL和文件系统路径之间进行映射。这允许不直接位于<code class="directive"><a href="../mod/core.html#documentroot">DocumentRoot</a></code>下的内容用作Web文档树的一部分。<code class="directive"><a href="#scriptalias">ScriptAlias</a></code>指令还具有将目标目录标记为仅包含CGI脚本的效果。</p>

    <p><code class="directive"><a href="#redirect">Redirect</a></code>指令用于指示客户端使用其他URL发出新请求。当资源移至新位置时，通常会使用它们。</p>

    <p>在<code class="directive"><a href="../mod/core.html#location">&lt;Location&gt;</a></code>或<code class="directive"><a href="../mod/core.html#locationmatch">&lt;LocationMatch&gt;</a></code>部分中使用<code class="directive"><a href="#alias">Alias</a></code> ， <code class="directive"><a href="#scriptalias">ScriptAlias</a></code>和<code class="directive"><a href="#redirect">Redirect</a></code>伪指令时， <a href="../expr.html">表达式语法</a>可用于操纵目标路径或URL。</p>

    <p><code class="module"><a href="../mod/mod_alias.html">mod_alias</a></code>旨在处理简单的URL操作任务。对于更复杂的任务，例如处理查询字符串，请使用<code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code>提供的工具。</p>

</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><h3>话题</h3>
<ul id="topics">
<li><img alt="" src="../images/down.gif"> <a href="#order">加工顺序</a></li>
</ul><h3 class="directives">指令</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif"> <a href="#alias">别名</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#aliasmatch">别名匹配</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#redirect">重新导向</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#redirectmatch">重定向匹配</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#redirectpermanent">重定向永久</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#redirecttemp">重定向温度</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#scriptalias">脚本别名</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#scriptaliasmatch">ScriptAliasMatch</a></li>
</ul>
<h3>错误修正清单</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">httpd更新日志</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache httpd-2&amp;query_format=specific&amp;order=changeddate DESC%2Cpriority%2Cbug_severity&amp;component=mod_alias">已知的问题</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache httpd-2&amp;component=mod_alias">报告错误</a></li></ul><h3>也可以看看</h3>
<ul class="seealso">
<li><code class="module"><a href="../mod/mod_rewrite.html">mod_rewrite</a></code></li>
<li><a href="../urlmapping.html">将URL映射到文件系统</a></li>
</ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="order" id="order">加工顺序</a></h2>

    <p>根据标准<a href="../sections.html#mergin">合并规则，</a>像其他指令一样处理在不同上下文中发生的别名和重定向。但是，如果多个别名或重定向在同一上下文中发生（例如，在同一<code class="directive"><a href="../mod/core.html#virtualhost">&lt;VirtualHost&gt;</a></code>部分中），则会以特定顺序对其进行处理。</p>

    <p>首先，所有重定向都在处理别名之前进行处理，因此，与<code class="directive"><a href="#redirect">Redirect</a></code>或<code class="directive"><a href="#redirectmatch">RedirectMatch</a></code>匹配的请求将永远不会应用别名。其次，别名和重定向按照它们在配置文件中出现的顺序进行处理，第一个匹配项优先。</p>

    <p>因此，当两个或多个这些指令应用于同一子路径时，必须首先列出最特定的路径，以使所有指令均生效。例如，以下配置将按预期工作：</p>

    <pre class="prettyprint lang-config">Alias "/foo/bar" "/baz"
Alias "/foo" "/gaq"</pre>


    <p>但是，如果按顺序颠倒了以上两个指令，则<code>/foo</code> <code class="directive"><a href="#alias">Alias</a></code>将始终在<code>/foo/bar</code> <code class="directive"><a href="#alias">Alias</a></code>之前匹配，因此后一个指令将被忽略。</p>

    <p>在<code class="directive"><a href="../mod/core.html#location">&lt;Location&gt;</a></code>或<code class="directive"><a href="../mod/core.html#locationmatch">&lt;LocationMatch&gt;</a></code>节中使用<code class="directive"><a href="#alias">Alias</a></code> ， <code class="directive"><a href="#scriptalias">ScriptAlias</a></code>和<code class="directive"><a href="#redirect">Redirect</a></code>指令时，这些指令将优先于任何全局定义的<code class="directive"><a href="#alias">Alias</a></code> ， <code class="directive"><a href="#scriptalias">ScriptAlias</a></code>和<code class="directive"><a href="#redirect">Redirect</a></code>指令。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="Alias" id="Alias">别名</a> <a name="alias" id="alias">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>将URL映射到文件系统位置</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>别名[ <var>URL路径</var> ] <var>文件路径</var> | <var>目录路径</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_alias</td></tr>
</table>

    <p><code class="directive">Alias</code>指令允许将文档存储在本地文件系统中，而不是在<code class="directive"><a href="../mod/core.html#documentroot">DocumentRoot</a></code> 。以（-decoded）路径以<var>URL-</var> path开头的<var>URL</var>将被映射到以<var>directory-path</var>开头的本地文件。<var>URL路径</var>区分大小写，即使在不区分大小写的文件系统上也是如此。</p>

    <pre class="prettyprint lang-config">Alias "/image" "/ftp/pub/image"</pre>


    <p>请求<code>http://example.com/image/foo.gif</code>会使服务器返回文件<code>/ftp/pub/image/foo.gif</code> 。仅匹配完整的路径段，因此上述别名与<code>http://example.com/imagefoo.gif</code>的请求不匹配。有关使用正则表达式进行更复杂的匹配的信息，请参见<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>指令。</p>

    <p>请注意，如果在<var>URL路径</var>上包含尾随/，则服务器将需要尾随/才能扩展别名。也就是说，如果您使用</p>

    <pre class="prettyprint lang-config">Alias "/icons/" "/usr/local/apache/icons/"</pre>


    <p>那么网址<code>/icons</code>将不会被别名，因为它缺少后缀/。同样，如果您省略了<var>URL路径</var>上的斜杠，那么您也必须从<var>file-path中</var>省略它。</p>

    <p>请注意，您可能需要指定其他<code class="directive"><a href="../mod/core.html#directory">&lt;Directory&gt;</a></code>部分，这些部分覆盖别名的<em>目的地</em> 。别名在检查<code class="directive"><a href="../mod/core.html#directory">&lt;Directory&gt;</a></code>节之前发生，因此仅别名的目标受到影响。（但是请注意， <code class="directive"><a href="../mod/core.html#location">&lt;Location&gt;</a></code>部分在执行别名之前会运行一次，因此它们将适用。）</p>

    <p>特别是，如果要为<code class="directive"><a href="../mod/core.html#documentroot">DocumentRoot</a></code>之外的目录创建<code>Alias</code> ，则可能需要显式允许访问目标目录。</p>

    <pre class="prettyprint lang-config">Alias "/image" "/ftp/pub/image"
&lt;Directory "/ftp/pub/image"&gt;
    Require all granted
&lt;/Directory&gt;</pre>


    <p><var>URL-path</var>参数中的任何数字斜杠与请求的URL-path中的任何斜杠匹配。</p>

    <p>如果在<code class="directive"><a href="../mod/core.html#location">&lt;Location&gt;</a></code>或<code class="directive"><a href="../mod/core.html#locationmatch">&lt;LocationMatch&gt;</a></code>部分中使用<code class="directive">Alias</code>指令，则将省略URL路径，并使用<a href="../expr.html">表达式语法</a>解释文件路径。<br>该语法在Apache 2.4.19和更高版本中可用。</p>

    <pre class="prettyprint lang-config">&lt;Location "/image"&gt;
    Alias "/ftp/pub/image"
&lt;/Location&gt;
&lt;LocationMatch "/error/(?&lt;NUMBER&gt;[0-9]+)"&gt;
    Alias "/usr/local/apache/errors/%{env:MATCH_NUMBER}.html"
&lt;/LocationMatch&gt;</pre>



</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="AliasMatch" id="AliasMatch">AliasMatch</a> <a name="aliasmatch" id="aliasmatch">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>使用正则表达式将URL映射到文件系统位置</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>AliasMatch <var>正则表达式</var> <var>文件路径</var> | <var>目录路径</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_alias</td></tr>
</table>
    <p>该指令等效于<code class="directive"><a href="#alias">Alias</a></code> ，但是使用<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a> ，而不是简单的前缀匹配。提供的正则表达式与URL路径匹配，如果匹配，则服务器会将所有带括号的匹配替换为给定的字符串，并将其用作文件名。例如，要激活<code>/icons</code>目录，可以使用：</p>

    <pre class="prettyprint lang-config">AliasMatch "^/icons(/|$)(.*)" "/usr/local/apache/icons$1$2"</pre>


    <p>可以使用所有范围的<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a>功能。例如，可以使用URL路径的大小写不敏感匹配来构造别名：</p>

    <pre class="prettyprint lang-config">AliasMatch "(?i)^/image(.*)" "/ftp/pub/image$1"</pre>


    <p><code class="directive"><a href="#alias">Alias</a></code>和<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>之间的细微差别是<code class="directive"><a href="#alias">Alias</a></code>会自动将URI的任何其他部分（经过匹配的部分）复制到右侧文件路径的末尾，而<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>不会。这意味着几乎在所有情况下，您都希望正则表达式从头到尾匹配整个请求URI，并在右侧使用替换。</p>

    <p>换句话说，仅将<code class="directive"><a href="#alias">Alias</a></code>更改为<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>不会具有相同的效果。至少需要在正则表达式的开头添加<code>^</code> ，在末尾添加<code>(.*)$</code> ，并在替换的末尾添加<code>$1</code> 。</p>

    <p>例如，假设您要用AliasMatch替换它：</p>

    <pre class="prettyprint lang-config">Alias "/image/" "/ftp/pub/image/"</pre>


    <p>这不是等效的-不要这样做！这会将所有包含/ image /的请求发送到/ ftp / pub / image /：</p>

    <pre class="prettyprint lang-config">AliasMatch "/image/" "/ftp/pub/image/"</pre>


    <p>这是获得相同效果所需要的：</p>

    <pre class="prettyprint lang-config">AliasMatch "^/image/(.*)$" "/ftp/pub/image/$1"</pre>


    <p>当然，使用<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>在<code class="directive"><a href="#alias">Alias</a></code>可以工作的地方没有意义。<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>使您可以执行更复杂的事情。例如，您可以提供来自不同目录的不同类型的文件：</p>

    <pre class="prettyprint lang-config">AliasMatch "^/image/(.*)\.jpg$" "/files/jpg.images/$1.jpg"
AliasMatch "^/image/(.*)\.gif$" "/files/gif.images/$1.gif"</pre>


    <p>在将来自此模块的指令与请求的URL路径进行比较之前，服务器会丢弃请求的URL中的多个前导斜杠。
    </p>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="Redirect" id="Redirect">重定向</a> <a name="redirect" id="redirect">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>发送外部重定向，要求客户端获取其他URL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>重定向[ <var>状态</var> ] [ <var>URL路径</var> ] <var>URL</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_alias</td></tr>
</table>
    <p>通过要求客户端在新位置重新获取资源， <code class="directive">Redirect</code>指令将旧的URL映射到新的URL。</p>

    <p>旧的<em>URL路径</em>是区分大小写（％解码）的路径，以斜杠开头。不允许使用相对路径。</p>

    <p>新<em>URL</em>可以是以方案和主机名开头的绝对<em>URL，</em>也可以是以斜杠开头的URL路径。在后一种情况下，将添加当前服务器的方案和主机名。</p>

    <p>然后，任何以<em>URL-path</em>开头的请求都将在目标<em>URL</em>的位置向客户端返回重定向请求。匹配的<em>URL</em>路径之外的其他路径信息将附加到目标URL。</p>

    <pre class="prettyprint lang-config"># Redirect to a URL on a different host
Redirect "/service" "http://foo2.example.com/service"

# Redirect to a URL on the same host
Redirect "/one" "/two"</pre>


    <p>如果客户端请求<code>http://example.com/service/foo.txt</code> ，它将被告知访问<code>http://foo2.example.com/service/foo.txt</code> 。这包括带有<code>GET</code>参数的请求，例如<code>http://example.com/service/foo.pl?q=23&amp;a=42</code> ，它将被重定向到<code>http://foo2.example.com/service/foo.pl?q=23&amp;a=42</code> 。请注意， <code>POST</code>将被丢弃。<br>仅匹配完整的路径段，因此上面的示例将不匹配对<code>http://example.com/servicefoo.txt</code>的请求。要使用<a href="../expr.html">表达式语法</a>进行更复杂的匹配，请如下所述省略URL-path参数。另外，要使用正则表达式进行匹配，请参见<code class="directive"><a href="#redirectmatch">RedirectMatch</a></code>指令。</p>


    <div class="note"><h3>注意</h3>
    <p><code class="directive">Redirect</code>指令优先于<code class="directive"><a href="#alias">Alias</a></code>和<code class="directive"><a href="#scriptalias">ScriptAlias</a></code>指令，无论它们在配置文件中的顺序如何。Location中的<code class="directive">Redirect</code>指令优先于具有<var>URL-path的</var> <code class="directive">Redirect</code>和<code class="directive"><a href="#alias">Alias</a></code>指令。</p>
    </div>

    <p>如果未提供<var>状态</var>参数，则重定向将为“临时”（HTTP状态302）。这向客户端指示资源已临时移动。<var>status</var>参数可用于返回其他HTTP状态代码：</p>

    <dl>
      <dt>常驻</dt>

      <dd>返回指示资源已永久移动的永久重定向状态（301）。</dd>

      <dt>温度</dt>

      <dd>返回临时重定向状态（302）。这是默认值。</dd>

      <dt>看见者</dt>

      <dd>返回指示资源已被替换的“查看其他”状态（303）。</dd>

      <dt>不见了</dt>

      <dd>返回“已消失”状态（410），指示资源已被永久删除。使用此状态时，应省略<var>URL</var>参数。</dd>
    </dl>

    <p>其他状态码可以通过给数字状态码的<var>状态</var>值返回。如果状态在300到399之间，则必须存在<var>URL</var>参数。如果状态<em>不在</em> 300到399之间，则必须省略<var>URL</var>参数。该状态必须是Apache HTTP Server已知的有效HTTP状态代码（请参见http_protocol.c中的<code>send_error_response</code>函数）。</p>

    <pre class="prettyprint lang-config">Redirect permanent "/one" "http://example.com/two"
Redirect 303 "/three" "http://example.com/other"</pre>


    <p>如果在<code class="directive"><a href="../mod/core.html#location">&lt;Location&gt;</a></code>或<code class="directive"><a href="../mod/core.html#locationmatch">&lt;LocationMatch&gt;</a></code>部分中使用了<code class="directive">Redirect</code>指令，并且省略了<var>URL路径</var> ，则将使用<a href="../expr.html">表达式语法</a>解释<var>URL</var>参数。<br>该语法在Apache 2.4.19和更高版本中可用。</p>

    <pre class="prettyprint lang-config">&lt;Location "/one"&gt;
    Redirect permanent "http://example.com/two"
&lt;/Location&gt;
&lt;Location "/three"&gt;
    Redirect 303 "http://example.com/other"
&lt;/Location&gt;
&lt;LocationMatch "/error/(?&lt;NUMBER&gt;[0-9]+)"&gt;
    Redirect permanent "http://example.com/errors/%{env:MATCH_NUMBER}.html"
&lt;/LocationMatch&gt;</pre>



</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="RedirectMatch" id="RedirectMatch">RedirectMatch</a> <a name="redirectmatch" id="redirectmatch">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>根据当前URL的正则表达式匹配发送外部重定向</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>RedirectMatch [ <var>status</var> ] <var>正则表达式</var> <var>URL</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_alias</td></tr>
</table>
    <p>此伪指令等效于<code class="directive"><a href="#redirect">Redirect</a></code> ，但使用<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a> ，而不是简单的前缀匹配。提供的正则表达式与URL路径匹配，如果匹配，则服务器会将所有带括号的匹配替换为给定的字符串，并将其用作文件名。例如，要将所有GIF文件重定向到另一台服务器上的同名JPEG文件，则可以使用：</p>

    <pre class="prettyprint lang-config">RedirectMatch "(.*)\.gif$" "http://other.example.com$1.jpg"</pre>


    <p>与<code class="directive"><a href="#alias">Alias</a></code>和<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>之间的差异有关的注意<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>也适用于<code class="directive"><a href="#redirect">Redirect</a></code>和<code class="directive"><a href="#redirectmatch">RedirectMatch</a></code>之间的差异。有关详细信息，请参见<code class="directive"><a href="#aliasmatch">AliasMatch</a></code> 。</p>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="RedirectPermanent" id="RedirectPermanent">重定向永久性</a> <a name="redirectpermanent" id="redirectpermanent">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>发送外部永久重定向，要求客户端获取其他URL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>重定向永久<var>URL路径</var> <var>URL</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_alias</td></tr>
</table>
    <p>该指令使客户端知道重定向是永久的（状态301）。与<code>Redirect permanent</code>完全等效。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="RedirectTemp" id="RedirectTemp">RedirectTemp</a> <a name="redirecttemp" id="redirecttemp">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>发送外部临时重定向，要求客户端获取其他URL</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>RedirectTemp <var>URL-路径</var> <var>URL</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_alias</td></tr>
</table>
    <p>该指令使客户端知道重定向只是临时的（状态302）。完全等同于<code>Redirect temp</code> 。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="ScriptAlias" id="ScriptAlias">ScriptAlias</a> <a name="scriptalias" id="scriptalias">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>将URL映射到文件系统位置，并将目标指定为CGI脚本</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>ScriptAlias [ <var>URL路径</var> ] <var>文件路径</var> | <var>目录路径</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_alias</td></tr>
</table>
    <p><code class="directive">ScriptAlias</code>指令与<code class="directive"><a href="#alias">Alias</a></code>指令具有相同的行为，除了它另外将目标目录标记为包含将由<code class="module"><a href="../mod/mod_cgi.html">mod_cgi</a></code>的cgi-script处理程序处理的CGI脚本。具有以<var>URL</var>路径开头的区分大小写（％解码）路径的<var>URL</var>将被映射到以第二个参数开头的脚本，该参数是本地文件系统中的完整路径名。</p>

    <pre class="prettyprint lang-config">ScriptAlias "/cgi-bin/" "/web/cgi-bin/"</pre>


    <p>请求<code>http://example.com/cgi-bin/foo</code>会使服务器运行脚本<code>/web/cgi-bin/foo</code> 。此配置实质上等效于：</p>
    <pre class="prettyprint lang-config">Alias "/cgi-bin/" "/web/cgi-bin/"
&lt;Location "/cgi-bin"&gt;
    SetHandler cgi-script
    Options +ExecCGI
&lt;/Location&gt;</pre>


    <p><code class="directive">ScriptAlias</code>也可以与您拥有的脚本或处理程序结合使用。例如：</p>

    <pre class="prettyprint lang-config">ScriptAlias "/cgi-bin/" "/web/cgi-handler.pl"</pre>


    <p>在这种情况下， <code>/cgi-bin/</code>请求的所有文件都将由您配置的文件处理，这使您可以使用自己的自定义处理程序。您可能希望将其用作CGI的包装，以便可以添加内容或其他定制操作。</p>

    <div class="warning">最好避免将CGI脚本放在<code class="directive"><a href="../mod/core.html#documentroot">DocumentRoot</a></code>下，以免在配置发生更改时意外泄露其源代码。<code class="directive">ScriptAlias</code>通过映射URL并同时指定CGI脚本使此操作变得容易。如果您确实选择将CGI脚本放在可从Web访问的目录中，请不要使用<code class="directive">ScriptAlias</code> 。而是使用<code class="directive"><a href="../mod/core.html#directory">&lt;Directory&gt;</a></code> ， <code class="directive"><a href="../mod/core.html#sethandler">SetHandler</a></code>和<code class="directive"><a href="../mod/core.html#options">Options</a></code>如下所示：<pre class="prettyprint lang-config">&lt;Directory "/usr/local/apache2/htdocs/cgi-bin"&gt;
    SetHandler cgi-script
    Options ExecCGI
&lt;/Directory&gt;</pre>这是必需的，因为多个<var>URL路径</var>可以映射到同一文件系统位置，从而可能绕过<code class="directive">ScriptAlias</code>并显示CGI脚本的源代码（如果它们不受<code class="directive"><a href="../mod/core.html#directory">Directory</a></code>部分的限制）。</div>

    <p>如果在<code class="directive"><a href="../mod/core.html#location">&lt;Location&gt;</a></code>或<code class="directive"><a href="../mod/core.html#locationmatch">&lt;LocationMatch&gt;</a></code>部分中使用了<code class="directive">ScriptAlias</code>指令，并且省略了URL路径，则将使用<a href="../expr.html">表达式语法</a>解释URL参数。<br>该语法在Apache 2.4.19和更高版本中可用。</p>

    <pre class="prettyprint lang-config">&lt;Location "/cgi-bin"&gt;
    ScriptAlias "/web/cgi-bin/"
&lt;/Location&gt;
&lt;LocationMatch "/cgi-bin/errors/(?&lt;NUMBER&gt;[0-9]+)"&gt;
    ScriptAlias "/web/cgi-bin/errors/%{env:MATCH_NUMBER}.cgi"
&lt;/LocationMatch&gt;</pre>



<h3>也可以看看</h3>
<ul>
<li><a href="../howto/cgi.html">CGI教程</a></li>
</ul>
</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="ScriptAliasMatch" id="ScriptAliasMatch">ScriptAliasMatch</a> <a name="scriptaliasmatch" id="scriptaliasmatch">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>使用正则表达式将URL映射到文件系统位置，并将目标指定为CGI脚本</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>ScriptAliasMatch <var>正则表达式</var> <var>文件路径</var> | <var>目录路径</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_alias</td></tr>
</table>
    <p>该伪指令等效于<code class="directive"><a href="#scriptalias">ScriptAlias</a></code> ，但是使用了<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a> ，而不是简单的前缀匹配。提供的正则表达式与URL路径匹配，如果匹配，则服务器会将所有带括号的匹配替换为给定的字符串，并将其用作文件名。例如，要激活标准的<code>/cgi-bin</code> ，可以使用：</p>

    <pre class="prettyprint lang-config">ScriptAliasMatch "^/cgi-bin(.*)" "/usr/local/apache/cgi-bin$1"</pre>


    <p>至于AliasMatch，则可以使用所有范围的<a class="glossarylink" href="../glossary.html#rexex" title="见词汇">正则表达式</a> 。例如，可以使用URL路径的大小写不敏感匹配来构造别名：</p>

    <pre class="prettyprint lang-config">ScriptAliasMatch "(?i)^/cgi-bin(.*)" "/usr/local/apache/cgi-bin$1"</pre>


    <p>与<code class="directive"><a href="#alias">Alias</a></code>和<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>之间的差异有关的注意<code class="directive"><a href="#aliasmatch">AliasMatch</a></code>也适用于<code class="directive"><a href="#scriptalias">ScriptAlias</a></code>和<code class="directive"><a href="#scriptaliasmatch">ScriptAliasMatch</a></code>之间的差异。有关详细信息，请参见<code class="directive"><a href="#aliasmatch">AliasMatch</a></code> 。</p>


</div>
</div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>