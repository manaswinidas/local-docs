<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>mod_authn_anon-Apache HTTP服务器版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body >
<div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="&lt;-" alt="&lt;-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">HTTP服务器</a> &gt; <a href="http://httpd.apache.org/docs/">文档</a> &gt; <a href="../index.html">版本2.4</a> &gt; <a href="./index.html">模块</a></div>
<div id="page-content">
<div id="preamble"><h1>Apache模块mod_authn_anon</h1>

<table class="module"><tr><th><a href="module-dict.html#Description">描述：</a></th><td>允许“匿名”用户访问经过身份验证的区域</td></tr>
<tr><th><a href="module-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">模块�标识符：</a></th><td>authn_anon_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">源文件：</a></th><td>mod_authn_anon.c</td></tr>
<tr><th><a href="module-dict.html#Compatibility">兼容性：</a></th><td>在Apache 2.1和更高版本中可用</td></tr></table>
<h3>摘要</h3>

    <p>该模块提供身份验证前端，例如<code class="module"><a href="../mod/mod_auth_basic.html">mod_auth_basic</a></code>以对类似于匿名FTP站点的用户进行身份验证， <em>即</em>具有“魔术”用户ID“匿名”和电子邮件地址作为密码。这些电子邮件地址可以被记录。</p>

    <p>与其他（数据库）访问控制方法结合使用时，这可以根据用户配置文件对用户进行有效的跟踪和自定义，同时仍对“未注册”用户保持网站开放。使用基于Auth的用户跟踪的一个优势是，与magic-cookie和有趣的URL前缀/后缀不同，它完全独立于浏览器，并且允许用户共享URL。</p>

    <p>使用<code class="module"><a href="../mod/mod_auth_basic.html">mod_auth_basic</a></code> ，可通过<code class="directive"><a href="../mod/mod_auth_basic.html#authbasicprovider">AuthBasicProvider</a></code>指令以<code>anon</code>值调用此模块。</p>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><h3>话题</h3>
<ul id="topics">
<li><img alt="" src="../images/down.gif"> <a href="#example">例</a></li>
</ul><h3 class="directives">指令</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif"> <a href="#anonymous">匿名</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#anonymous_logemail">Anonymous_LogEmail</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#anonymous_mustgiveemail">Anonymous_MustGiveEmail</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#anonymous_nouserid">Anonymous_NoUserID</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#anonymous_verifyemail">Anonymous_VerifyEmail</a></li>
</ul>
<h3>错误修正清单</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">httpd更新日志</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache httpd-2&amp;query_format=specific&amp;order=changeddate DESC%2Cpriority%2Cbug_severity&amp;component=mod_authn_anon">已知的问题</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache httpd-2&amp;component=mod_authn_anon">报告错误</a></li></ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="example" id="example">例</a></h2>
    <p>下面的示例结合了基于“常规” htpasswd文件的身份验证，并允许用户另外具有以下属性作为“来宾”：</p>

    <ul>
      <li>它坚持要求用户输入一个userID。 （ <code class="directive"><a href="#anonymous_nouserid">Anonymous_NoUserID</a></code> ）</li>

      <li>它坚持要求用户输入密码。（ <code class="directive"><a href="#anonymous_mustgiveemail">Anonymous_MustGiveEmail</a></code> ）</li>

      <li>输入的密码必须是有效的电子邮件地址， <em>即</em>至少包含一个“ @”和一个“”。'。（ <code class="directive"><a href="#anonymous_verifyemail">Anonymous_VerifyEmail</a></code> ）</li>

      <li>userID必须是<code>anonymous guest www test welcome</code>并且比较<strong>不</strong>区分大小写。（ <code class="directive"><a href="#anonymous">Anonymous</a></code> ）</li>

      <li>并且在passwd字段中输入的电子邮件地址将记录到错误日志文件中。（ <code class="directive"><a href="#anonymous_logemail">Anonymous_LogEmail</a></code> ）</li>
    </ul>

    <div class="example"><h3>例</h3><pre class="prettyprint lang-config">&lt;Directory "/var/www/html/private"&gt;
    AuthName "Use 'anonymous' &amp; Email address for guest entry"
    AuthType Basic
    AuthBasicProvider file anon
    AuthUserFile "/path/to/your/.htpasswd"
    
    Anonymous_NoUserID off
    Anonymous_MustGiveEmail on
    Anonymous_VerifyEmail on
    Anonymous_LogEmail on
    Anonymous anonymous guest www test welcome
    
    Require valid-user
&lt;/Directory&gt;</pre>
</div>
</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="Anonymous" id="Anonymous">匿名</a> <a name="anonymous" id="anonymous">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>指定无需密码验证即可访问的用户标识</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>匿名<var>用户</var> [ <var>user</var> ] ...</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>验证配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_authn_anon</td></tr>
</table>
    <p>无需密码验证即可访问的一个或多个“魔术”用户ID的列表。用户ID以空格分隔。可以使用'和'引号在userID和\转义字符中留出空格。</p>

    <p>请注意，比较是<strong>区分大小写的</strong> 。<br>强烈建议魔术用户名“ <code>anonymous</code> ”始终是允许的用户ID之一。</p>

    <div class="example"><h3>例：</h3><pre class="prettyprint lang-config">Anonymous anonymous "Not Registered" "I don't know"</pre>
</div>

    <p>这将允许用户通过使用用户名“匿名”，“匿名”，“未注册”和“我不知道”来输入而无需密码验证。</p>

    <p>从Apache 2.1开始，可以将userID指定为“ <code>*</code> ”。这样就可以接受<em>任何</em>提供的用户ID。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="Anonymous_LogEmail" id="Anonymous_LogEmail">Anonymous_LogEmail</a> <a name="anonymous_logemail" id="anonymous_logemail">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>设置是否将输入的密码记录在错误日志中</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>Anonymous_LogEmail开|关</code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>Anonymous_LogEmail开</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>验证配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_authn_anon</td></tr>
</table>
    <p>当设置为<code>On</code> ，默认情况下，在错误日志中记录输入的“密码”（希望包含一个明智的电子邮件地址）。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="Anonymous_MustGiveEmail" id="Anonymous_MustGiveEmail">Anonymous_MustGiveEmail</a> <a name="anonymous_mustgiveemail" id="anonymous_mustgiveemail">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>指定是否允许空白密码</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>Anonymous_MustGiveEmail开|关</code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>Anonymous_MustGiveEmail开</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>验证配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_authn_anon</td></tr>
</table>
    <p>指定用户是否必须指定电子邮件地址作为密码。这禁止空白密码。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="Anonymous_NoUserID" id="Anonymous_NoUserID">Anonymous_NoUserID</a> <a name="anonymous_nouserid" id="anonymous_nouserid">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>设置userID字段是否可以为空</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>Anonymous_NoUserID开|关</code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>Anonymous_NoUserID关闭</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>验证配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_authn_anon</td></tr>
</table>
    <p>设置为<code>On</code> ，用户可以将userID（也许还有password字段）保留为空。这对于只点击回车键或直接单击“确定”按钮的MS-Explorer用户来说非常方便。这似乎是自然反应。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="Anonymous_VerifyEmail" id="Anonymous_VerifyEmail">Anonymous_VerifyEmail</a> <a name="anonymous_verifyemail" id="anonymous_verifyemail">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>设置是否检查密码字段中格式正确的电子邮件地址</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>Anonymous_VerifyEmail开|关</code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>Anonymous_VerifyEmail已关闭</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>验证配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_authn_anon</td></tr>
</table>
    <p>设置为“ <code>On</code> ”时，将检查输入的至少一个“ @”和一个“。”。鼓励用户输入有效的电子邮件地址（请参阅上面的<code class="directive"><a href="#anonymous_logemail">Anonymous_LogEmail</a></code> ）。</p>

</div>
</div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>