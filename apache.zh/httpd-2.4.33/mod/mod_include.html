<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>mod_include-Apache HTTP服务器版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body >
<div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="&lt;-" alt="&lt;-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">HTTP服务器</a> &gt; <a href="http://httpd.apache.org/docs/">文档</a> &gt; <a href="../index.html">版本2.4</a> &gt; <a href="./index.html">模块</a></div>
<div id="page-content">
<div id="preamble"><h1>Apache模块mod_include</h1>

<table class="module"><tr><th><a href="module-dict.html#Description">描述：</a></th><td>服务器解析的html文档（包含服务器端）</td></tr>
<tr><th><a href="module-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">模块标识符：</a></th><td>include_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">源文件：</a></th><td>mod_include.c</td></tr></table>
<h3>摘要</h3>

    <p>该模块提供了一个过滤器，该过滤器将在文件发送到客户端之前对其进行处理。处理由特殊格式的SGML注释（称为<dfn>元素）控制</dfn> 。这些元素允许条件文本，包含其他文件或程序以及环境变量的设置和打印。</p>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><h3>话题</h3>
<ul id="topics">
<li><img alt="" src="../images/down.gif"> <a href="#enabling">启用服务器端包含</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#pathinfo">服务器端包含的PATH_INFO</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#elements">可用元素</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#includevars">包含变量</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#substitution">可变替代</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#flowctrl">流量控制元件</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#legacyexpr">传统表达式语法</a></li>
</ul><h3 class="directives">指令</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif"> <a href="#ssiendtag">SSIEndTag</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ssierrormsg">SSIErrorMsg</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ssietag">SSIE标签</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ssilastmodified">SSILast修改</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ssilegacyexprparser">SSILegacyExprParser</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ssistarttag">SSIStartTag</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ssitimeformat">SSITimeFormat</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ssiundefinedecho">SSIUndefinedEcho</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#xbithack">XBitHack</a></li>
</ul>
<h3>错误修正清单</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">httpd更新日志</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache httpd-2&amp;query_format=specific&amp;order=changeddate DESC%2Cpriority%2Cbug_severity&amp;component=mod_include">已知的问题</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache httpd-2&amp;component=mod_include">报告错误</a></li></ul><h3>也可以看看</h3>
<ul class="seealso">
<li><code class="directive"><a href="../mod/core.html#options">选件</a></code></li>
<li><code class="directive"><a href="../mod/core.html#acceptpathinfo">AcceptPathInfo</a></code></li>
<li><a href="../filter.html">筛选器</a></li>
<li><a href="../howto/ssi.html">SSI教程</a></li>
</ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="enabling" id="enabling">启用服务器端包含</a></h2>
    

    <p>服务器端包含由<code>INCLUDES</code> <a href="../filter.html">过滤器实现</a> 。如果包含服务器端include指令的文档的扩展名为.shtml，则以下指令将使Apache解析它们，并将结果文档分配为<code>text/html</code>的mime类型：</p>

    <pre class="prettyprint lang-config">AddType text/html .shtml
AddOutputFilter INCLUDES .shtml</pre>


    <p>必须为包含shtml文件的目录提供以下指令（通常在<code class="directive"><a href="../mod/core.html#directory">&lt;Directory&gt;</a></code>节中，但是如果设置了<code class="directive"><a href="../mod/core.html#allowoverride">AllowOverride</a></code> <code>Options</code>则该指令在<code>.htaccess</code>文件中也有效）：</p>

    <pre class="prettyprint lang-config">Options +Includes</pre>


    <p>为了向后兼容， <code>server-parsed</code> <a href="../handler.html">处理程序</a>还会激活INCLUDES过滤器。同样，Apache将为任何MIME类型为<code>text/x-server-parsed-html</code>或<code>text/x-server-parsed-html3</code>文档激活INCLUDES过滤器（并且结果输出将具有mime类型为<code>text/html</code> ）。</p>

    <p>有关更多信息，请参见我们的<a href="../howto/ssi.html">服务器端包含教程</a> 。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="pathinfo" id="pathinfo">服务器端包含的PATH_INFO</a></h2>
    

    <p>默认情况下，为服务器端处理的文件不再包含带有<code>PATH_INFO</code> （跟踪路径名信息）的请求。您可以使用<code class="directive"><a href="../mod/core.html#acceptpathinfo">AcceptPathInfo</a></code>指令将服务器配置为接受<code>PATH_INFO</code>请求。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="elements" id="elements">可用元素</a></h2>
    <p>该文档被解析为HTML文档，并嵌入了作为SGML注释的特殊命令。命令的语法为：</p>

    <div class="example"><p><code>&lt;！-＃ <var>元素</var> <var>属性</var> = <var>值</var> <var>属性</var> = <var>值</var> ...-&gt;</code></p></div>

    <p>该值通常用双引号引起来，但是也可以使用单引号（ <code>'</code> ）和反引号（ <code>`</code> ）。许多命令只允许一个属性-值对。请注意，注释终止符（ <code>--&gt;</code> ）之前应留有空格，以确保它不被视为SSI令牌的一部分。请注意，前导<code>&lt;!--#</code>是<em>一个</em>标记，并且不能包含任何空格。</p>

    <p>下表列出了允许的元素：</p>

    <table class="bordered">
    <tr><th>元件</th><th>描述</th></tr>
    <tr><td><code><a href="#element.comment">评论</a></code></td>
        <td>SSI评论</td></tr>
    <tr><td><code><a href="#element.config">配置</a></code></td>
        <td>配置输出格式</td></tr>
    <tr><td><code><a href="#element.echo">回声</a></code></td>
        <td>打印变量</td></tr>
    <tr><td><code><a href="#element.exec">执行</a></code></td>
        <td>执行外部程序</td></tr>
    <tr><td><code><a href="#element.fsize">尺寸</a></code></td>
        <td>文件的打印尺寸</td></tr>
    <tr><td><code><a href="#element.flastmod">弗拉斯特莫德</a></code></td>
        <td>打印文件的最后修改时间</td></tr>
    <tr><td><code><a href="#element.include">包括</a></code></td>
        <td>包括一个文件</td></tr>
    <tr><td><code><a href="#element.printenv">打印环境</a></code></td>
        <td>打印所有可用变量</td></tr>
    <tr><td><code><a href="#element.set">组</a></code></td>
        <td>设置变量的值</td></tr>
    </table>

    <p>SSI元素可以由<code class="module"><a href="../mod/mod_include.html">mod_include</a></code>以外的模块定义。实际上， <code><a href="#element.exec">exec</a></code>元素由<code class="module"><a href="../mod/mod_cgi.html">mod_cgi</a></code>提供，并且仅在加载了此模块后可用。</p>

    <h3><a name="element.comment" id="element.comment">评论元素</a></h3>
      <p>该命令不输出任何内容。它的唯一用途是在文件中添加注释。这些评论未打印。</p>

      <p>2.4.21版和更高版本中提供了此语法。</p>

      <div class="example"><p><code>&lt;！-＃comment Blah Blah Blah-&gt;</code></p></div>
     

    <h3><a name="element.config" id="element.config">配置元素</a></h3>
      <p>此命令控制解析的各个方面。有效属性是：</p>

      <dl>
      <dt><code>echomsg</code> （ <em>Apache 2.1及更高版本</em> ）</dt>
      <dd><p>该值是一条消息，如果<code><a href="#element.echo">echo</a></code>元素尝试回显未定义的变量，则该消息将发送回客户端。这将覆盖所有<code class="directive"><a href="#ssiundefinedecho">SSIUndefinedEcho</a></code>指令。</p>

      <div class="example"><p><code>&lt;！-＃config echomsg =“ [未定义值]”-&gt;</code></p></div>
      </dd>

      <dt><code>errmsg</code></dt>
      <dd><p>该值是如果在解析文档时发生错误则发送回客户端的消息。这将覆盖所有<code class="directive"><a href="#ssierrormsg">SSIErrorMsg</a></code>指令。</p>

      <div class="example"><p><code>&lt;！-＃config errmsg =“ [糟糕，出现了问题。]”-&gt;</code></p></div>
      </dd>

      <dt><code>sizefmt</code></dt>
      <dd><p>该值设置显示文件大小时要使用的格式。有效值为<code>bytes</code> （以<code>bytes</code>为单位）的计数有效值，或<code>abbrev</code>为以Kb或Mb为<code>bytes</code>的计数的<code>abbrev</code>值，例如1024字节的大小将打印为“ 1K”。</p>

      <div class="example"><p><code>&lt;！-＃config sizefmt =“ abbrev”-&gt;</code></p></div>

      </dd>

      <dt><code>timefmt</code></dt>
      <dd><p>该值是在打印日期时<code>strftime(3)</code>库例程使用的字符串。</p>

      <div class="example"><p><code>&lt;！-＃config timefmt =“”％R，％B％d，％Y“”“-&gt;</code></p></div>

      </dd>
      </dl>
     

    <h3><a name="element.echo" id="element.echo">回声元素</a></h3>
      <p>此命令显示以下定义的<a href="#includevars">包含变量</a>之一。如果未设置变量，则结果由<code class="directive"><a href="#ssiundefinedecho">SSIUndefinedEcho</a></code>指令确定。打印的任何日期均受当前配置的<code>timefmt</code> 。</p>

      <p>属性：</p>

      <dl>
      <dt><code>变种</code></dt>
      <dd>该值是要打印的变量的名称。</dd>

      <dt><code>解码</code></dt>
      <dd><p>指定Apache在进一步处理变量之前是否应从变量中删除编码。默认值为<code>none</code> ，其中不进行解码。如果设置为<code>url</code> ，则将执行URL解码（也称为％-encoding；这适用于链接中的URL等）。如果设置为<code>urlencoded</code> ，则将剥离application / x-www-form-urlencoded兼容编码（在查询字符串中找到）。如果设置为<code>base64</code> ，则将对<code>base64</code>进行解码，如果设置为<code>entity</code> ，则将剥离HTML实体编码。在对该变量进行任何进一步编码之前，先完成解码。通过指定多个逗号分隔的编码，可以剥离多种编码。解码设置将一直有效，直到遇到下一个解码属性，或者元素结束。</p>

      <p><code>decoding</code>属性必须<em>在</em>相应的<code>var</code>属性<em>之前</em>生效。</p>
      </dd>

      <dt><code>编码方式</code></dt>
      <dd><p>指定Apache在输出变量之前应如何编码包含在变量中的特殊字符。如果设置为<code>none</code> ，则不会进行编码。如果设置为<code>url</code> ，则将执行URL编码（也称为％-encoding；这适用于链接中的URL等）。如果设置为<code>urlencoded</code> ，则将改为执行application / x-www-form-urlencoded兼容编码，并且应与查询字符串一起使用。如果设置为<code>base64</code> ，则将执行base64编码。在<code>echo</code>元素的开头，默认设置为<code>entity</code> ，导致实体编码（这在块级HTML元素的上下文中是合适的， <em>例如</em>一段文本）。可以通过添加<code>encoding</code>属性来更改此设置，该属性将一直有效，直到遇到下一个<code>encoding</code>属性或元素结束（以先到者为准）。</p>

      <p><code>encoding</code>属性必须<em>在</em>相应的<code>var</code>属性<em>之前</em>生效。</p>

      <div class="warning">为了避免跨站点脚本问题，您应该<em>始终</em>对用户提供的数据进行编码。
      </div>

      <div class="example"><h3>例</h3><p><code>&lt;！-＃echo encoding =“ entity” var =“ QUERY_STRING”-&gt;</code></p></div>
      </dd>
      </dl>
     

    <h3><a name="element.exec" id="element.exec">exec元素</a></h3>
      <p><code>exec</code>命令执行给定的Shell命令或CGI脚本。它要求<code class="module"><a href="../mod/mod_cgi.html">mod_cgi</a></code>存在于服务器中。如果设置了<code class="directive"><a href="../mod/core.html#options">Options</a></code> <code>IncludesNOEXEC</code> ，则将完全禁用此命令。有效属性是：</p>

      <dl>
      <dt><code>cgi</code></dt>
      <dd><p>该值指定CGI脚本的（％编码）URL路径。如果路径不是以斜杠（/）开头，则将其视为相对于当前文档。即使服务器通常无法正常识别此路径，该路径引用的文档也将作为CGI脚本调用。但是，必须为CGI脚本（使用<code class="directive"><a href="../mod/mod_alias.html#scriptalias">ScriptAlias</a></code>或<code class="directive"><a href="../mod/core.html#options">Options</a></code> <code>ExecCGI</code> ）启用包含脚本的目录。</p>

      <p>向CGI脚本提供了来自客户端的原始请求的<code>PATH_INFO</code>和查询字符串（ <code>QUERY_STRING</code> ）；这些<em>不能</em>在URL路径中指定。除标准<a href="mod_cgi.html">CGI</a>环境外，脚本还可以使用include变量。</p>

      <div class="example"><h3>例</h3><p><code>&lt;！-＃exec cgi =“ / cgi-bin / example.cgi”-&gt;</code></p></div>

      <p>如果脚本返回的是<code>Location:</code>标头而不是输出，那么它将转换为HTML锚点。</p>

      <p><code><a href="#includevirtual">include virtual</a></code>元素应优先于<code>exec cgi</code> 。特别是，如果您需要使用查询字符串将其他参数传递给CGI程序，则不能使用<code>exec cgi</code>来完成，而可以使用<code>include virtual</code>来完成，如下所示：</p>

      <div class="example"><p><code>&lt;！-＃include virtual =“ / cgi-bin / example.cgi？参数=值”-&gt;</code></p></div>
      </dd>

      <dt><code>命令</code></dt>
      <dd><p>服务器将使用<code>/bin/sh</code>执行给定的字符串。除了通常的CGI变量集之外，该命令还可以使用<a href="#includevars">include</a>变量。</p>

      <p>几乎总是喜欢使用<code><a href="#includevirtual">#include virtual</a></code>不是使用<code>#exec cgi</code>或<code>#exec cmd</code> 。前者（ <code>#include virtual</code> ）使用标准的Apache子请求机制来包含文件或脚本。它经过了更好的测试和维护。</p>

      <p>另外，在某些平台上，例如Win32，以及在使用<a href="../suexec.html">suexec的</a> unix上，您不能在<code>exec</code>指令中将参数传递给命令，否则不能在命令中包含空格。因此，尽管以下内容将在unix上的非suexec配置下工作，但在Win32或运行suexec时不会产生预期的结果：</p>

      <div class="example"><p><code>&lt;！-＃exec cmd =“ perl / path / to / perlscript arg1 arg2”-&gt;</code></p></div>
      </dd>
      </dl>
     

    <h3><a name="element.fsize" id="element.fsize">fsize元素</a></h3>
      <p>此命令根据<code>sizefmt</code>格式说明打印指定文件的大小。属性：</p>

      <dl>
      <dt><code>文件</code></dt>
      <dd>该值是相对于包含正在解析的当前文档的目录的路径。

    <div class="example"><p><code>该文件为&lt;！-＃fsize file =“ mod_include.html”-&gt;字节。
    </code></p></div><code>file</code>的值不能以斜杠（ <code>/</code> ）开头，也不能包含<code>../</code>以便引用当前目录上方或文档根目录之外的文件。尝试这样做将导致错误消息： <code>The given path was above the root path</code> 。
      </dd>

      <dt><code>虚拟</code></dt>
      <dd>该值是一个（％编码）URL路径。如果它不是以斜杠（/）开头，则将其视为相对于当前文档。请注意，这并<em>没有</em>打印任何CGI输出的大小，但CGI脚本本身的大小。</dd>
      </dl>

    <div class="example"><p><code>该文件为&lt;！-＃fsize virtual =“ / docs / mod / mod_include.html”-&gt;字节。
    </code></p></div>

      <p>请注意，在许多情况下，这两者是完全相同的。但是， <code>file</code>属性不考虑URL空间别名。</p>
     

    <h3><a name="element.flastmod" id="element.flastmod">flastmod元素</a></h3>
      <p>此命令根据<code>timefmt</code>格式说明打印指定文件的最后修改日期。这些属性与<code><a href="#element.fsize">fsize</a></code>命令的属性相同。</p>
     

    <h3><a name="element.include" id="element.include">包含元素</a></h3>
      <p>此命令将另一个文档或文件的文本插入已分析的文件。任何包含的文件都受通常的访问控制。如果包含已解析文件的目录设置了<a href="core.html#options">Options</a> <code>IncludesNOEXEC</code> ，则仅包含文本<a class="glossarylink" href="../glossary.html#mime-type" title="见词汇">MIME类型的</a>文档（ <code>text/plain</code> ， <code>text/html</code>等）。否则，将使用命令中提供的完整URL（包括任何查询字符串）正常调用CGI脚本。</p>

      <p>属性定义文档的位置，并且可以在include元素中多次出现。依次对赋予include命令的每个属性进行一次包含。有效属性是：</p>

      <dl>
      <dt><code>文件</code></dt>
      <dd>该值是相对于包含正在解析的当前文档的目录的路径。它不能包含<code>../</code> ，也不能是绝对路径。因此，您不能在目录根目录中包含文档根目录之外或当前文档之上的文件。<code>virtual</code>属性应始终优先于此属性使用。</dd>

      <dt><code><a id="includevirtual" name="includevirtual">虚拟</a></code></dt>
      <dd><p>该值是一个（％编码）URL路径。URL不能包含方案或主机名，只能包含路径和可选的查询字符串。如果它不是以斜杠（/）开头，则将其视为相对于当前文档。</p>

      <p>URL是从属性构造的，如果客户端访问的URL被包含在解析的输出中，则服务器将返回该输出。因此，可以嵌套包含的文件。</p>

      <p>如果指定的URL是CGI程序，则将执行该程序并将其输出替换为解析文件中的伪指令。您可以在CGI网址中包含查询字符串：</p>

      <div class="example"><p><code>&lt;！-＃include virtual =“ / cgi-bin / example.cgi？参数=值”-&gt;</code></p></div>

      <p>应该优先使用<code>include virtual</code>而不是<code>exec cgi</code>来将CGI程序的输出包含到HTML文档中。</p>

      <p>如果正确配置了<code class="directive"><a href="../mod/mod_request.html#keptbodysize">KeptBodySize</a></code>指令并对该包含的文件有效，则将POST请求发送到封闭的HTML文档的尝试也将作为POST请求传递给子请求。如果没有该指令，则所有子请求都将作为GET请求处理。</p>

      </dd>

      <dt><code>错误</code></dt>
      <dd><p>该值是（％编码）URL路径，如果先前尝试包含文件或虚拟属性的尝试失败，则显示该URL路径。为了有效，必须在覆盖文件或虚拟属性之后指定此属性。如果尝试包括onerror路径失败，或者未指定onerror，则将包含默认错误消息。</p>

      <div class="example"><p><code>＃简单的例子<br>&lt;！-＃include virtual =“ / not-exist.html” onerror =“ / error.html”-&gt;</code></p></div>

      <div class="example"><p><code>＃专用的错误路径<br>&lt;！-＃include virtual =“ / path-a.html” onerror =“ / error-a.html” virtual =“ / path-b.html” onerror =“ / error-b.html”-&gt;</code></p></div>

      </dd>
      </dl>
     

    <h3><a name="element.printenv" id="element.printenv">printenv元素</a></h3>
      <p>这将打印出所有现有变量及其值的纯文本列表。特殊字符在输出之前经过实体编码（有关详细信息，请参见<code><a href="#element.echo">echo</a></code>元素）。没有属性。</p>

      <div class="example"><h3>例</h3><p><code>&lt;pre&gt; &lt;！-＃printenv-&gt; &lt;/ pre&gt;</code></p></div>
     

    <h3><a name="element.set" id="element.set">设置元素</a></h3>
      <p>这将设置变量的值。属性：</p>

      <dl>
      <dt><code>变种</code></dt>
      <dd>要设置的变量的名称。</dd>

      <dt><code>值</code></dt>
      <dd>给出变量的值。</dd>

      <dt><code>解码</code></dt>
      <dd><p>指定Apache在进一步处理变量之前是否应从变量中删除编码。默认值为<code>none</code> ，其中不进行解码。如果设置为<code>url</code> ， <code>urlencoded</code> ， <code>base64</code>或<code>entity</code> ，则将分别执行URL解码，application / x-www-form-urlencoded解码，base64解码或HTML实体解码。通过用逗号分隔可以指定多个解码。解码设置将一直有效，直到遇到下一个解码属性，或者元素结束。<code>decoding</code>属性必须<em>在</em>相应的<code>var</code>属性<em>之前</em>生效。</p>
      </dd>

      <dt><code>编码方式</code></dt>
      <dd><p>指定Apache在设置特殊字符之前应如何对变量中包含的特殊字符进行编码。默认值为<code>none</code> ，其中不进行任何编码。如果设置为<code>url</code> ， <code>urlencoding</code> ， <code>base64</code>或<code>entity</code> ，则将分别执行URL编码，application / x-www-form-urlencoded编码，base64编码或HTML实体编码。可以使用逗号分隔来指定多个编码。编码设置将一直有效，直到遇到下一个编码属性，或者元素结束。<code>encoding</code>属性必须<em>在</em>相应的<code>var</code>属性<em>之前</em>生效。去除所有解码之后，再应用编码。</p>
      </dd>
      </dl>

      <div class="example"><h3>例</h3><p><code>&lt;！-＃set var =“ category” value =“ help”-&gt;</code></p></div>
     
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="includevars" id="includevars">包含变量</a></h2>
    

    <p>除了标准CGI环境中的变量外，这些变量还可用于<code>echo</code>命令， <code>if</code>和<code>elif</code>以及文档调用的任何程序。</p>

    <dl>
      <dt><code>DATE_GMT</code></dt>
      <dd>格林威治标准时间的当前日期。</dd>

      <dt><code>DATE_LOCAL</code></dt>
      <dd>本地时区的当前日期。</dd>

      <dt><code>DOCUMENT_ARGS</code></dt>
      <dd>此变量包含活动SSI文档的查询字符串，如果不包括查询字符串，则为空字符串。对于通过<code>include</code> SSI指令调用的子请求， <code>QUERY_STRING</code>将代表子请求的查询字符串，而<code>DOCUMENT_ARGS</code>将代表SSI文档的查询字符串。（在Apache HTTP Server 2.4.19和更高版本中可用。）</dd>

      <dt><code>DOCUMENT_NAME</code></dt>
      <dd>用户请求的文档的文件名（不包括目录）。</dd>

      <dt><code>DOCUMENT_URI</code></dt>
      <dd>用户请求的文档的（％解码）URL路径。请注意，在嵌套包含文件的情况下，这<em>不是</em>当前文档的URL。还要注意，如果在内部修改了URL（例如，通过<code class="directive"><a href="../mod/mod_alias.html#alias">alias</a></code>或<code class="directive"><a href="../mod/mod_dir.html#directoryindex">directoryindex</a></code> ），则会显示修改后的URL。</dd>

      <dt><code>上一次更改</code></dt>
      <dd>用户请求的文档的最后修改日期。</dd>

      <dt><code>QUERY_STRING_UNESCAPED</code></dt>
      <dd>如果对活动SSI文档的请求中存在查询字符串，则此变量包含（％解码）查询字符串，该字符串将被shell使用而<em>转义</em> （特殊字符（如<code>&amp;</code>等）后加反斜杠）。如果不存在查询字符串，则不会设置它。如果不需要外壳转义，请使用<code>DOCUMENT_ARGS</code> 。</dd>
    </dl>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="substitution" id="substitution">可变替代</a></h2>

    <p>在大多数情况下，变量替换是在带引号的字符串内完成的，在这些情况下，它们可能会合理地作为SSI指令的参数出现。这包括<code>config</code> ， <code>exec</code> ， <code>flastmod</code> ， <code>fsize</code> ， <code>include</code> ， <code>echo</code>和<code>set</code>指令。如果<code class="directive"><a href="#ssilegacyexprparser">SSILegacyExprParser</a></code>设置为<code>on</code> ，则条件运算符的参数中也会发生替换。您可以使用反斜杠引号在字符串中插入文字美元符号：</p>

    <div class="example"><p><code>&lt;！-＃set var =“ cur” value =“ \ $ test”-&gt;</code></p></div>

    <p>如果需要在一个字符序列中间替换一个变量引用，否则该变量引用本身就可以被视为有效的标识符，可以通过将引用括在括号中来进行歧义消除， <em>例如</em> ：</p>

    <div class="example"><p><code>&lt;！-＃set var =“ Zed” value =“ $ {REMOTE_HOST} _ $ {REQUEST_METHOD}”-&gt;</code></p></div>

    <p>如果<code>REMOTE_HOST</code>是“ <code>X</code> ”并且<code>REQUEST_METHOD</code>是“ <code>Y</code> ”，这将导致<code>Zed</code>变量被设置为“ <code>X_Y</code> ”。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="flowctrl" id="flowctrl">流量控制元件</a></h2>
    

    <p>基本的流量控制元素是：</p>

    <div class="example"><p><code>&lt;！-＃if expr =“ <var>test_condition</var> ”-&gt;<br>&lt;！-＃elif expr =“ <var>test_condition</var> ”-&gt;<br>&lt;！-＃else-&gt;<br>&lt;！-＃endif-&gt;</code></p></div>

    <p><code>if</code>元素的作用类似于编程语言中的if语句。评估测试条件，如果结果为true，则文本直到下一个<code>elif</code> ， <code>else</code>或<code>endif</code>元素都包含在输出流中。</p>

    <p>如果原始的<var>test_condition</var>为false，则使用<code>elif</code>或<code>else</code>语句将文本放入输出流。这些元素是可选的。</p>

    <p><code>endif</code>元素结束<code>if</code>元素，并且是必需的。</p>

    <p><var>test_condition</var>是遵循<a href="../expr.html">ap_expr</a>语法的布尔表达式。可以使用<code class="directive"><a href="#ssilegacyexprparser">SSILegacyExprParser</a></code>将语法更改为与Apache HTTPD 2.2.x兼容。</p>

    <p>使用<code>var</code>元素设置的SSI变量将导出到请求环境中，并且可以使用<code>reqenv</code>函数进行访问。作为捷径，函数名称<code>v</code>也可以在<code class="module"><a href="../mod/mod_include.html">mod_include</a></code> 。</p>

    <p>如果客户端IP地址属于10.0.0.0/8子网，则下面的示例将打印“来自本地网络”。</p>

    <div class="example"><p><code>&lt;！-＃if expr ='-R“ 10.0.0.0/8”'-&gt;<br>
      <span class="indent">来自本地网<br>
      </span> &lt;！-＃else-&gt;<br>
      <span class="indent">从其他地方<br>
      </span> &lt;！-＃endif-&gt;</code></p></div>

    <p>如果变量<code>foo</code>设置为值“ bar”，则下面的示例将显示“ foo is bar”。</p>

    <div class="example"><p><code>&lt;！-＃if expr ='v（“ foo”）=“ bar”'-&gt;<br>
      <span class="indent">foo是吧<br>
      </span> &lt;！-＃endif-&gt;</code></p></div>

    <div class="note"><h3>参考文件</h3>
    <p>另请参阅： <a href="../expr.html">Apache HTTP Server中的表达式</a> ，以获取完整的参考和示例。<em>受限制的</em>功能在<code class="module"><a href="../mod/mod_include.html">mod_include</a></code>内部不可用</p>
    </div>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="legacyexpr" id="legacyexpr">传统表达式语法</a></h2>
    

    <p>本节描述了如果<code class="directive"><a href="#ssilegacyexprparser">SSILegacyExprParser</a></code>设置为<code>on</code> ，则<code>#if expr</code>元素的语法。</p>

    <dl>
      <dt><code><var>串</var></code></dt>
      <dd>如果<var>字符串</var>不为空，则为true</dd>

      <dt><code><var>-字符串</var></code></dt>
      <dd><p>如果可以通过配置访问由字符串表示的URL，则为true，否则为false。如果要向未授权查看URL的用户隐藏页面上的内容（例如指向该URL的链接），这很有用。请注意，仅测试URL是否会被授予访问权限，而不会测试URL是否存在。</p>

      <div class="example"><h3>例</h3><p><code>&lt;！-＃if expr =“-A / private”-&gt;<br>
        <span class="indent">点击&lt;a href="/private"&gt;此处&lt;/a&gt;以访问私人信息。<br>
        </span> &lt;！-＃endif-&gt;</code></p></div>
      </dd>

      <dt><code><var>字符串1</var> = <var>字符串2</var><br>
      <var>字符串1</var> == <var>字符串2</var><br>
      <var>字符串1</var> ！= <var>字符串2</var></code></dt>

      <dd><p>比较<var>string1</var>和<var>string2</var> 。如果<var>string2</var>的格式为<code>/ <var>string2</var> /</code>则将其视为正则表达式。正则表达式由<a href="http://www.pcre.org">PCRE</a>引擎实现，并且语法与<a href="http://www.perl.com">perl 5中的</a>语法相同。请注意， <code>==</code>只是<code>=</code>的别名，其行为完全相同。</p>

      <p>如果您匹配正数（ <code>=</code>或<code>==</code> ），则可以捕获正则表达式的分组部分。捕获的零件存储在特殊变量<code>$1</code> ..
      <code>$9</code> 。正则表达式匹配的整个字符串存储在特殊变量<code>$0</code></p>

      <div class="example"><h3>例</h3><p><code>&lt;！-＃if expr =“ $ QUERY_STRING = / ^ sid =（[[a-zA-Z0-9] +）/”-&gt;<br>
        <span class="indent">&lt;！-＃set var =“ session” value =“ $ 1”-&gt;<br>
        </span> &lt;！-＃endif-&gt;</code></p></div>
      </dd>

      <dt><code><var>字符串1</var> &lt; <var>字符串2</var><br>
       <var>字符串1</var> &lt;= <var>字符串2</var><br>
       <var>字符串1&gt;</var> <var>字符串2</var><br>
       <var>字符串1&gt;</var> = <var>字符串2</var></code></dt>

      <dd>比较<var>string1</var>和<var>string2</var> 。注意，字符串是按<em>字面</em>比较的（使用<code>strcmp(3)</code> ）。因此，字符串“ 100”小于“ 20”。</dd>

      <dt><code>（ <var>test_condition</var> ）</code></dt>
      <dd>如果<var>test_condition</var>为true，则为true</dd>

      <dt><code>！<var>测试条件</var></code></dt>
      <dd>如果<var>test_condition</var>为false，则为true</dd>

      <dt><code><var>test_condition1</var> &amp;&amp; <var>test_condition2</var></code></dt>
      <dd>如果<var>test_condition1</var>和<var>test_condition2</var>均为true，则为true</dd>

      <dt><code><var>test_condition1</var> || <var>test_condition2</var></code></dt>
      <dd>如果<var>test_condition1</var>或<var>test_condition2</var>为true，则为true</dd>
    </dl>

    <p>“ <code>=</code> ”和“ <code>!=</code> “”与“ <code>&amp;&amp;</code> ”和“ <code>||</code> ”的绑定更紧密“” <code>!</code>绑定最紧密。因此，以下内容是等效的：</p>

    <div class="example"><p><code>&lt;！-＃if expr =“ $ a = test1 &amp;&amp; $ b = test2”-&gt;<br>&lt;！-＃if expr =“（$ a = test1）&amp;&amp;（$ b = test2）”-&gt;</code></p></div>

    <p>布尔运算符<code>&amp;&amp;</code>和<code>||</code>拥有相同的优先级。因此，如果您想更紧密地绑定此类运算符，则应使用括号。</p>

    <p>任何不被识别为变量或运算符的东西都被视为字符串。字符串也可以用引号引起来： <code>'string'</code> 。未加引号的字符串不能包含空格（空格和制表符），因为它用于分隔标记（例如变量）。如果在一行中找到多个字符串，则使用空格将它们串联起来。所以，</p>

    <div class="example"><p><code><var>string1</var> <var>string2</var></code>产生<code><var>string1</var> <var>string2</var></code><br>
      <br>和<br>
      <br>
      <code>' <var>string1</var> <var>string2</var> '</code>产生<code><var>string1</var> <var>string2</var></code> 。</p></div>

    <div class="note"><h3>布尔表达式的优化</h3>
      <p>如果表达式变得更加复杂并且大大降低了处理速度，则可以尝试根据评估规则对它们进行优化：</p>
      <ul>
      <li>表达式从左到右求值</li>
      <li>二进制布尔运算符（ <code>&amp;&amp;</code>和<code>||</code> ）尽可能地短路。最后，这意味着上面的规则， <code class="module"><a href="../mod/mod_include.html">mod_include</a></code>首先评估左表达式。如果剩下的结果足以确定最终结果，则处理在此处停止。否则，它将评估右侧，并根据左侧和右侧结果计算最终结果。</li>
      <li>只要存在正则表达式，就可以关闭短路评估。必须对它们进行求值以填充后向引用变量（ <code>$1</code> ..<code>$9</code> ）。</li>
      </ul>
      <p>如果要查看特定表达式的处理方式，可以使用<code>-DDEBUG_INCLUDE</code>编译器选项重新编译<code class="module"><a href="../mod/mod_include.html">mod_include</a></code> 。这将为每个已解析的表达式标记器信息，解析树及其评估方法插入发送到客户端的输出中。</p>
    </div>

    <div class="note"><h3>在正则表达式字符串中转义斜杠</h3>
     <p>所有不打算用作正则表达式分隔符的斜杠都必须转义。这与它们对正则表达式引擎的意义无关。</p>
    </div>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="SSIEndTag" id="SSIEndTag">SSIEndTag</a> <a name="ssiendtag" id="ssiendtag">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>以include元素结尾的字符串</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>SSIEndTag <var>标签</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>SSIEndTag“-&gt;”</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_include</td></tr>
</table>
    <p>该指令更改了<code class="module"><a href="../mod/mod_include.html">mod_include</a></code>寻找以标记include元素结尾的字符串。</p>

    <pre class="prettyprint lang-config">SSIEndTag "%&gt;"</pre>



<h3>也可以看看</h3>
<ul>
<li><code class="directive"><a href="#ssistarttag">SSIStartTag</a></code></li>
</ul>
</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="SSIErrorMsg" id="SSIErrorMsg">SSIErrorMsg</a> <a name="ssierrormsg" id="ssierrormsg">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>SSI错误时显示错误消息</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>SSIErrorMsg <var>消息</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>SSIErrorMsg“ [处理此指令时发生错误]”</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>所有</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_include</td></tr>
</table>
    <p>当<code class="module"><a href="../mod/mod_include.html">mod_include</a></code>遇到错误时， <code class="directive">SSIErrorMsg</code>指令更改显示的错误消息。对于生产服务器，您可以考虑将默认错误消息更改为<code>"&lt;!-- Error --&gt;"</code>以使该消息不会显示给用户。</p>

    <p>此指令具有与相同的效果<code>&lt;!--#config errmsg= <var>message</var> --&gt;</code>元件。</p>

    <pre class="prettyprint lang-config">SSIErrorMsg "&lt;!-- Error --&gt;"</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="SSIETag" id="SSIETag">SSIETag</a> <a name="ssietag" id="ssietag">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>控制服务器是否生成ETag。</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>SSIETag开|关</code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>关闭SSIE</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_include</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>在2.2.15版和更高版本中可用。</td></tr>
</table>
      <p>在正常情况下，由<code class="module"><a href="../mod/mod_include.html">mod_include</a></code>过滤的文件可能包含动态生成的元素，或者可能独立于原始文件而更改的元素。结果，默认情况下要求服务器通过在请求注释中添加<code>no-etag</code>来<code>no-etag</code>为响应生成<code>ETag</code>头。</p>

      <p><code class="directive">SSIETag</code>指令禁止这种行为，并允许服务器生成<code>ETag</code>头。这可用于启用输出缓存。请注意，后端服务器或动态内容生成器可能会生成自己的ETag，而忽略<code>no-etag</code> ，并且无论此设置的值如何，此ETag都会由<code class="module"><a href="../mod/mod_include.html">mod_include</a></code>传递。
        <code class="directive">SSIETag</code>可以采用以下值：</p>

      <dl>

        <dt><code>关</code></dt>
        <dd><code>no-etag</code>将被添加到请求注释中，并且要求服务器不要生成ETag。如果服务器忽略<code>no-etag</code>的值并生成ETag，则将尊重ETag。</dd>

        <dt><code>上</code></dt>
        <dd>将尊重现有的ETag，服务器生成的ETag将在响应中传递。</dd>

      </dl>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="SSILastModified" id="SSILastModified">SSILast修改</a> <a name="ssilastmodified" id="ssilastmodified">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>控制服务器是否生成<code>Last-Modified</code>头。</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>SSILastModified开|关</code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>SSILast修改关闭</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_include</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>在2.2.15版和更高版本中可用。</td></tr>
</table>
      <p>在正常情况下，由<code class="module"><a href="../mod/mod_include.html">mod_include</a></code>过滤的文件可能包含动态生成的元素，或者可能独立于原始文件而更改的元素。结果，默认情况下，从响应中剥离<code>Last-Modified</code>头。</p>

      <p><code class="directive">SSILastModified</code>指令将覆盖此行为，并允许尊重<code>Last-Modified</code>头（如果已存在），或者允许其被设置（如果头不存在）。这可用于启用输出缓存。<code class="directive">SSILastModified</code>可以采用以下值：</p>

      <dl>

        <dt><code>关</code></dt>
        <dd>除非<code class="directive"><a href="#xbithack">XBitHack</a></code>指令如下所述设置为<code>full</code> ，否则将从响应中剥离<code>Last-Modified</code>头。</dd>

        <dt><code>上</code></dt>
        <dd>如果响应中已经存在<code>Last-Modified</code>标头，则将尊重该标头；如果响应是文件且标头丢失，则会将其添加到响应中。<code class="directive"><a href="#ssilastmodified">SSILastModified</a></code>指令优先于<code class="directive"><a href="#xbithack">XBitHack</a></code> 。</dd>

      </dl>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="SSILegacyExprParser" id="SSILegacyExprParser">SSILegacyExprParser</a> <a name="ssilegacyexprparser" id="ssilegacyexprparser">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>为条件表达式启用兼容模式。</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>SSILegacyExprParser开启|关闭</code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>SSILegacyExprParser关闭</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_include</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>在2.3.13版和更高版本中可用。</td></tr>
</table>
    <p>从2.3.13版开始，对于<code>#if</code>流控制元素中的条件表达式， <code class="module"><a href="../mod/mod_include.html">mod_include</a></code>已切换到新的<a href="../expr.html">ap_expr</a>语法。该指令允许切换到与Apache HTTPD 2.2.x及更早版本兼容的<a href="#legacyexpr">旧语法</a> 。
    </p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="SSIStartTag" id="SSIStartTag">SSIStartTag</a> <a name="ssistarttag" id="ssistarttag">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>开始一个include元素的字符串</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>SSIStartTag <var>标签</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>SSIStartTag“ &lt;！-＃”</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_include</td></tr>
</table>
    <p>该指令更改了<code class="module"><a href="../mod/mod_include.html">mod_include</a></code>寻找的字符串以标记要处理的include元素。</p>

    <p>如果您有2台服务器解析文件的输出，每个服务器处理不同的命令（可能在不同的时间），则可能要使用此选项。</p>

    <pre class="prettyprint lang-config">SSIStartTag "&lt;%"
SSIEndTag   "%&gt;"</pre>


    <p>上面给出的示例（还指定了一个匹配的<code class="directive"><a href="#ssiendtag">SSIEndTag</a></code> ）将允许您使用SSI指令，如下例所示：</p>

    <div class="example"><h3>具有备用开始和结束标签的SSI指令</h3><p><code>&lt;％printenv％&gt;</code></p></div>

<h3>也可以看看</h3>
<ul>
<li><code class="directive"><a href="#ssiendtag">SSIEndTag</a></code></li>
</ul>
</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="SSITimeFormat" id="SSITimeFormat">SSITimeFormat</a> <a name="ssitimeformat" id="ssitimeformat">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>配置显示日期字符串的格式</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>SSITimeFormat <var>格式字符串</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>SSITimeFormat“％A，％d-％b-％Y％H：％M：％S％Z”</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>所有</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_include</td></tr>
</table>
<p>该指令更改在回显<code>DATE</code>环境变量时显示日期字符串的格式。<var>格式字符串</var>与C标准库的<code>strftime(3)</code>中的一样。</p>

    <p>该伪指令与<code>&lt;!--#config timefmt= <var>formatstring</var> --&gt;</code>元素具有相同的作用。</p>

    <pre class="prettyprint lang-config">SSITimeFormat "%R, %B %d, %Y"</pre>


    <p>上述指令将导致时间以“ 2002年6月14日22:26”的格式显示。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="SSIUndefinedEcho" id="SSIUndefinedEcho">SSIUndefinedEcho</a> <a name="ssiundefinedecho" id="ssiundefinedecho">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>回显未设置的变量时显示的字符串</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>SSIUndefinedEcho <var>字符串</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>SSIUndefinedEcho“（无）”</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>所有</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_include</td></tr>
</table>
    <p>当未设置变量并“回显”变量时，此伪指令更改<code class="module"><a href="../mod/mod_include.html">mod_include</a></code>显示的字符串。</p>

    <pre class="prettyprint lang-config">SSIUndefinedEcho "&lt;!-- undef --&gt;"</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="XBitHack" id="XBitHack">XBitHack</a> <a name="xbithack" id="xbithack">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>通过设置执行位来解析文件中的SSI指令</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>XBitHack开|关|满</code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>XBitHack关闭</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>选件</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>基础</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_include</td></tr>
</table>
    <p><code class="directive">XBitHack</code>指令控制普通html文档的解析。该指令仅影响与<a class="glossarylink" href="../glossary.html#mime-type" title="见词汇">MIME类型</a> <code>text/html</code>关联的文件。<code class="directive">XBitHack</code>可以采用以下值：</p>

    <dl>
      <dt><code>关</code></dt>
      <dd>对可执行文件没有特殊处理。</dd>

      <dt><code>上</code></dt>
      <dd>设置了用户执行位的任何<code>text/html</code>文件都将被视为服务器解析的html文档。</dd>

      <dt><code>充分</code></dt>
      <dd>至于<code>on</code> ，还要测试组执行位。如果已设置，则将返回文件的<code>Last-modified</code>日期设置为文件的上次修改时间。如果未设置，则不发送最后修改日期。将该位置1，则客户端和代理可以缓存请求结果。<div class="note"><h3>注意</h3>
      <p>除非您确保未为每个SSI脚本设置group-execute位，否则该脚本可能会<code>#include</code> CGI或在每次命中时产生不同的输出（或可能在后续请求中更改），除非您不想使用full选项。</p>

      <p>当<code class="directive"><a href="#ssilastmodified">SSILastModified</a></code>设置为<code>on</code>时， <code class="directive"><a href="#ssilastmodified">SSILastModified</a></code>指令优先于<code class="directive"><a href="#xbithack">XBitHack</a></code>指令。</p>
      </div>

      </dd>
    </dl>


</div>
</div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>