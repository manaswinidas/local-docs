<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>mod_cache_socache-Apache HTTP服务器版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body >
<div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="&lt;-" alt="&lt;-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">HTTP服务器</a> &gt; <a href="http://httpd.apache.org/docs/">文档</a> &gt; <a href="../index.html">版本2.4</a> &gt; <a href="./index.html">模块</a></div>
<div id="page-content">
<div id="preamble"><h1>Apache模块mod_cache_socache</h1>

<table class="module"><tr><th><a href="module-dict.html#Description">描述：</a></th><td>用于HTTP缓存过滤器的基于共享对象缓存（socache）的存储模块。</td></tr>
<tr><th><a href="module-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">模块�标识符：</a></th><td>cache_socache_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">源文件：</a></th><td>mod_cache_socache.c</td></tr></table>
<h3>摘要</h3>

    <p><code class="module"><a href="../mod/mod_cache_socache.html">mod_cache_socache</a></code>器具为共享对象的高速缓存（socache）基于存储管理器<code class="module"><a href="../mod/mod_cache.html">mod_cache</a></code> 。</p>

    <p>缓存的响应的标头和正文被组合，并存储在共享库中的单个键下。共享对象缓存的<a href="../socache.html">多种实现</a>方式可供选择。</p>

    <p>可以同时存储多个内容协商的响应，但是此模块尚不支持部分内容的缓存。</p>

    <pre class="prettyprint lang-config"># Turn on caching
CacheSocache shmcb
CacheSocacheMaxSize 102400
&lt;Location "/foo"&gt;
    CacheEnable socache
&lt;/Location&gt;

# Fall back to the disk cache
CacheSocache shmcb
CacheSocacheMaxSize 102400
&lt;Location "/foo"&gt;
    CacheEnable socache
    CacheEnable disk
&lt;/Location&gt;</pre>


    <div class="note"><h3>注意：</h3>
      <p><code class="module"><a href="../mod/mod_cache_socache.html">mod_cache_socache</a></code>需要的服务<code class="module"><a href="../mod/mod_cache.html">mod_cache</a></code> ，它必须之前加载<code class="module"><a href="../mod/mod_cache_socache.html">mod_cache_socache</a></code> 。</p>
    </div>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><h3 class="directives">指令</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif"> <a href="#cachesocache">高速缓存</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cachesocachemaxsize">CacheSocacheMaxSize</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cachesocachemaxtime">CacheSocacheMaxTime</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cachesocachemintime">CacheSocacheMinTime</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cachesocachereadsize">CacheSocacheReadSize</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cachesocachereadtime">CacheSocacheReadTime</a></li>
</ul>
<h3>错误修正清单</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">httpd更新日志</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache httpd-2&amp;query_format=specific&amp;order=changeddate DESC%2Cpriority%2Cbug_severity&amp;component=mod_cache_socache">已知的问题</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache httpd-2&amp;component=mod_cache_socache">报告错误</a></li></ul><h3>也可以看看</h3>
<ul class="seealso">
<li><code class="module"><a href="../mod/mod_cache.html">mod_cache</a></code></li>
<li><code class="module"><a href="../mod/mod_cache_disk.html">mod_cache_disk</a></code></li>
<li><a href="../caching.html">缓存指南</a></li>
</ul></div>

<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CacheSocache" id="CacheSocache">CacheSocache</a> <a name="cachesocache" id="cachesocache">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>要使用的共享对象缓存实现</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CacheSocache <var>类型[：args]</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_cache_socache</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>在Apache 2.4.5和更高版本中可用</td></tr>
</table>
    <p><code class="directive">CacheSocache</code>伪指令定义要使用的共享库缓存实现的名称，后跟该实现的可选参数。共享对象缓存的<a href="../socache.html">多种实现</a>方式可供选择。</p>

    <pre class="prettyprint lang-config">CacheSocache shmcb</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CacheSocacheMaxSize" id="CacheSocacheMaxSize">CacheSocacheMaxSize</a> <a name="cachesocachemaxsize" id="cachesocachemaxsize">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>要放入缓存中的条目的最大大小（以字节为单位）</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CacheSocacheMaxSize <var>字节</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>CacheSocacheMaxSize 102400</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_cache_socache</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>在Apache 2.4.5和更高版本中可用</td></tr>
</table>
    <p><code class="directive">CacheSocacheMaxSize</code>指令为要考虑在高速缓存中存储的文档的组合标题和正文设置最大大小（以字节为单位）。与主体并排存储的标题越大，主体可能越小。</p>

    <p><code class="module"><a href="../mod/mod_cache_socache.html">mod_cache_socache</a></code>模块将仅尝试缓存具有明确内容长度或足够小以至于可以一遍编写的响应。这样做是为了使<code class="module"><a href="../mod/mod_cache_disk.html">mod_cache_disk</a></code>模块有机会缓存比<code class="module"><a href="../mod/mod_cache_socache.html">mod_cache_socache</a></code>可缓存的响应大的响应。</p>

    <pre class="prettyprint lang-config">CacheSocacheMaxSize 102400</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CacheSocacheMaxTime" id="CacheSocacheMaxTime">CacheSocacheMaxTime</a> <a name="cachesocachemaxtime" id="cachesocachemaxtime">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>将文档放置在缓存中的最长时间（以秒为单位）</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CacheSocacheMaxTime <var>秒</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>CacheSocacheMaxTime 86400</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_cache_socache</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>在Apache 2.4.5和更高版本中可用</td></tr>
</table>
    <p><code class="directive">CacheSocacheMaxTime</code>伪指令设置要存储在缓存中的文档的最大保鲜期（以秒为单位）。此值将覆盖HTTP协议为文档定义的新鲜度生存期。</p>

    <pre class="prettyprint lang-config">CacheSocacheMaxTime 86400</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CacheSocacheMinTime" id="CacheSocacheMinTime">CacheSocacheMinTime</a> <a name="cachesocachemintime" id="cachesocachemintime">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>将文档放入缓存的最短时间（以秒为单位）</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CacheSocacheMinTime <var>秒</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>CacheSocacheMinTime 600</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_cache_socache</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>在Apache 2.4.5和更高版本中可用</td></tr>
</table>
    <p><code class="directive">CacheSocacheMinTime</code>指令设置超出响应的新鲜度生存时间的秒数，应在共享对象高速缓存中为其缓存响应。如果仅在响应的整个生命周期内存储响应，则将没有机会重新验证响应以使其重新保持新鲜。</p>

    <pre class="prettyprint lang-config">CacheSocacheMinTime 600</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CacheSocacheReadSize" id="CacheSocacheReadSize">CacheSocacheReadSize</a> <a name="cachesocachereadsize" id="cachesocachereadsize">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>向下游发送数据之前要读取和缓存的文档的最小大小（以字节为单位）</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CacheSocacheReadSize <var>字节</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>CacheSocacheReadSize 0</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_cache_socache</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>在Apache 2.4.5和更高版本中可用</td></tr>
</table>
    <p><code class="directive">CacheSocacheReadSize</code>伪指令设置在将数据发送到客户端之前要从后端读取的最小数据量（以字节为单位）。默认值为零将导致所有大小的读取数据在到达时立即立即向下游传递到客户端。将此值设置为较高的值会使磁盘高速缓存在将结果发送到客户端之前至少缓冲此数量。从慢速反向代理缓存内容时，这可以提高性能。</p>

    <p>该指令仅在将数据保存到缓存中时才生效，而不是从缓存中提供数据。</p>

    <pre class="prettyprint lang-config">CacheSocacheReadSize 102400</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CacheSocacheReadTime" id="CacheSocacheReadTime">CacheSocacheReadTime</a> <a name="cachesocachereadtime" id="cachesocachereadtime">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>在向下游发送数据之前读取时应经过的最短时间（以毫秒为单位）</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CacheSocacheReadTime <var>毫秒</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>CacheSocacheReadTime 0</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_cache_socache</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>在Apache 2.4.5和更高版本中可用</td></tr>
</table>
    <p><code class="directive">CacheSocacheReadTime</code>伪指令设置尝试向下游发送数据到客户端之前应该经过的最小经过时间。在这段时间内，数据将被缓冲，然后再将结果发送给客户端。从反向代理缓存内容时，这可以提高性能。</p>

    <p>默认值为零禁用此选项。</p>

    <p>该指令仅在将数据保存到缓存中时才生效，而不是从缓存中提供数据。建议将此选项与<code class="directive"><a href="#cachesocachereadsize">CacheSocacheReadSize</a></code>指令一起使用，以确保如果数据到达速度比预期的更快，则服务器不会过多缓冲。</p>

    <pre class="prettyprint lang-config">CacheSocacheReadTime 1000</pre>


</div>
</div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>