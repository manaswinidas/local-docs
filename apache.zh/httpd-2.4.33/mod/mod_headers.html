<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>mod_headers-Apache HTTP服务器版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body >
<div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="&lt;-" alt="&lt;-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">HTTP服务器</a> &gt; <a href="http://httpd.apache.org/docs/">文档</a> &gt; <a href="../index.html">版本2.4</a> &gt; <a href="./index.html">模块</a></div>
<div id="page-content">
<div id="preamble"><h1>Apache模块mod_headers</h1>

<table class="module"><tr><th><a href="module-dict.html#Description">描述：</a></th><td>自定义HTTP请求和响应头</td></tr>
<tr><th><a href="module-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">模块�标识符：</a></th><td>headers_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">源文件：</a></th><td>mod_headers.c</td></tr></table>
<h3>摘要</h3>

    <p>该模块提供指令来控制和修改HTTP请求和响应头。标头可以合并，替换或删除。</p>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><h3>话题</h3>
<ul id="topics">
<li><img alt="" src="../images/down.gif"> <a href="#order">加工顺序</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#early">早期和晚期处理</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#examples">例子</a></li>
</ul><h3 class="directives">指令</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif"> <a href="#header">标头</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#requestheader">RequestHeader</a></li>
</ul>
<h3>错误修正清单</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">httpd更新日志</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache httpd-2&amp;query_format=specific&amp;order=changeddate DESC%2Cpriority%2Cbug_severity&amp;component=mod_headers">已知的问题</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache httpd-2&amp;component=mod_headers">报告错误</a></li></ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="order" id="order">加工顺序</a></h2>

    <p><code class="module"><a href="../mod/mod_headers.html">mod_headers</a></code>提供的指令几乎可以在服务器配置中的任何位置出现，并且可以通过将它们包含在<a href="../sections.html">配置节中</a>来限制范围。</p>

    <p>处理的顺序很重要，并且受配置文件中的顺序以及<a href="../sections.html#mergin">配置部分中</a>的放置位置的影响。如果相反，这两个指令具有不同的效果：</p>

    <pre class="prettyprint lang-config">RequestHeader append MirrorID "mirror 12"
RequestHeader unset MirrorID</pre>


    <p>这样一来，未设置<code>MirrorID</code>标头。如果反转，则MirrorID标头设置为“镜像12”。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="early" id="early">早期和晚期处理</a></h2>
    <p><code class="module"><a href="../mod/mod_headers.html">mod_headers</a></code>可以在请求的早期或晚期应用。正常模式已晚，当在运行内容生成器和<em>响应标</em>头之前立即设置<em>请求标</em>头时，就像响应是通过有线发送一样。始终在可运行的服务器中使用“后期”模式。</p>

    <p>早期模式旨在为开发人员提供测试/调试帮助。使用<code>early</code>关键字定义的指令在处理请求的开始就设置好了。这意味着可以将它们用于模拟不同的请求并设置测试用例，但这也意味着可以在生成响应之前由其他模块随时更改标头。</p>

    <p>由于早期指令是在遍历请求路径的配置之前处理的，因此只能在主服务器或虚拟主机上下文中设置早期标头。早期指令不能依赖于请求路径，因此它们将在<code class="directive"><a href="../mod/core.html#directory">&lt;Directory&gt;</a></code>或<code class="directive"><a href="../mod/core.html#location">&lt;Location&gt;</a></code>上下文中失败。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="examples" id="examples">例子</a></h2>

    <ol>
      <li>将所有以“ TS”开头的请求标头复制到响应标头：<pre class="prettyprint lang-config">Header echo ^TS</pre>

      </li>

      <li>向响应中添加标头<code>MyHeader</code> ，其中包括时间戳，该时间戳表示接收请求的时间以及开始处理请求所需的时间。客户端可以使用此标头来指示服务器上的负载或隔离客户端和服务器之间的瓶颈。

        <pre class="prettyprint lang-config">Header set MyHeader "%D %t"</pre>


        <p>导致将此标头添加到响应中：</p>

        <div class="example"><p><code>MyHeader：D = 3775428 t = 991424704447256</code></p></div>
      </li>

      <li>向乔问好<pre class="prettyprint lang-config">Header set MyHeader "Hello Joe. It took %D microseconds for Apache to serve this request."</pre>


        <p>导致将此标头添加到响应中：</p>

        <div class="example"><p><code>MyHeader：乔你好。Apache完成此请求花了D = 3775428微秒。</code></p></div>
      </li>

      <li>当且仅当请求头<code>MyRequestHeader</code>存在标头<code>MyHeader</code>时，才有条件<code>MyHeader</code>在响应上<code>MyRequestHeader</code> 。这对于响应某些客户端刺激构建标头很有用。请注意，此示例需要<code class="module"><a href="../mod/mod_setenvif.html">mod_setenvif</a></code>模块的服务。

        <pre class="prettyprint lang-config">SetEnvIf MyRequestHeader myvalue HAVE_MyRequestHeader
Header set MyHeader "%D %t mytext" env=HAVE_MyRequestHeader</pre>


        <p>如果HTTP请求上存在标头<code>MyRequestHeader: myvalue</code> ，则响应将包含以下标头：</p>

        <div class="example"><p><code>MyHeader：D = 3775428 t = 991424704447256 mytext</code></p></div>
      </li>

      <li>通过在<var>Destination</var>标头中将<var>https：</var>替换为<var>http :</var> ，使DAV能够通过SSL硬件（ <a href="http://svn.haxx.se/users/archive-2006-03/0549.shtml">问题描述</a> ）与运行HTTP的Apache一起使用：<pre class="prettyprint lang-config">RequestHeader edit Destination ^https: http: early</pre>

      </li>

      <li>在多个非排他条件下设置相同的标头值，但不要在最终标头中重复该值。如果以下所有条件都适用于请求（即，对于该请求存在<code>CGI</code> ， <code>NO_CACHE</code>和<code>NO_STORE</code>环境变量）：<pre class="prettyprint lang-config">Header merge Cache-Control no-cache env=CGI
Header merge Cache-Control no-cache env=NO_CACHE
Header merge Cache-Control no-store env=NO_STORE</pre>


        <p>那么响应将包含以下标头：</p>

        <div class="example"><p><code>缓存控制：无缓存，无存储</code></p></div>

        <p>如果使用<code>append</code>而不是<code>merge</code> ，则响应将包含以下标头：</p>

        <div class="example"><p><code>缓存控制：无缓存，无缓存，无存储</code></p></div>
      </li>
      <li>仅当客户未向我们发送Cookie时，设置测试Cookie<pre class="prettyprint lang-config">Header set Set-Cookie testcookie "expr=-z %{req:Cookie}"</pre>

      </li>
      <li>为HTTP状态代码为200的响应附加一个缓存头<pre class="prettyprint lang-config">Header append Cache-Control s-maxage=600 "expr=%{REQUEST_STATUS} == 200"</pre>

      </li>

    </ol>
</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="Header" id="Header">标头</a> <a name="header" id="header">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>配置HTTP响应头</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>标头[ <var>条件</var> ]添加|追加|回显|编辑|编辑* |合并|设置| setifempty |未设置|注意<var>标头</var> [[expr =] <var>值</var> [ <var>替换</var> ] [early | env = [！]<var>varname</var> | expr = <var>expression</var> ]]</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_headers</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>SetIfEmpty在2.4.7和更高版本中可用，expr = value在2.4.10和更高版本中可用</td></tr>
</table>
    <p>该指令可以替换，合并或删除HTTP响应头。在运行内容处理程序和输出过滤器之后立即修改标头，从而允许修改传出标头。</p>

    <p>可选的<var>condition</var>参数确定此指令将针对哪个内部响应头表。尽管名称，默认值<code>onsuccess</code> <em>并不</em>限制与2xx状态码的<var>动作</var>响应。例如，当CGI <em>成功</em>代理或生成请求时，即使在生成失败状态代码的情况下，仍使用在此条件下设置的标头。</p>

    <p>当您的操作是现有标头的函数时，您可能需要指定一个条件<code>always</code> ，这取决于原始标头设置在哪个内部表中。<code>always</code>对应的表用于本地生成的错误响应以及成功的响应。还请注意，在某些情况下，在两种情况下都重复此指令是有意义的，因为相对于现有标头而言，它<code>always</code>不是<code>onsuccess</code>的超集：</p>

    <ul>
       <li>您正在向本地生成的非成功（非2xx）响应（例如重定向）添加标头，在这种情况下，最终响应中仅使用与<code>always</code>对应的表。</li>
       <li>您正在修改或删除由CGI脚本生成的标头，在这种情况下，CGI脚本位于与<code>always</code>相对应的表中，而不在默认表中。</li>
       <li>您正在修改或删除由服务器的某个部分生成的标头，但是默认的<code>onsuccess</code>条件找不到该标头。</li>
    </ul>

    <p>与上述<var>条件</var>参数不同，您可以基于HTTP状态代码（例如，代理请求或CGI请求）限制操作。请参阅上面部分中使用％{REQUEST_STATUS}的示例。</p>

    <p>它执行的操作由第一个参数确定（如果指定了<var>条件，</var>则由第二个参数确定）。这可以是以下值之一：</p>

    <dl>
    <dt><code>加</code></dt>
    <dd>即使该头已经存在，响应头也会添加到现有的头集中。这可能导致两个（或多个）具有相同名称的标头。这可能导致无法预料的后果，通常应使用<code>set</code> ， <code>append</code>或<code>merge</code>代替。</dd>

    <dt><code>附加</code></dt>
    <dd>响应头被附加到任何同名的现有头上。当新值合并到现有标头中时，将其与现有标头用逗号分隔。这是给标头提供多个值的HTTP标准方法。</dd>

    <dt><code>回声</code></dt>
    <dd>具有此名称的请求标头将在响应标头中回显。 <var>标头</var>可能是一个<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a> 。
    <var>值</var>必须省略。</dd>

    <dt><code>编辑</code></dt>
    <dt><code>编辑*</code></dt>
    <dd>如果此响应标头存在，则根据<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式“</a>搜索并替换”转换其值。<var>value</var>参数是一个<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a> ， <var>替换</var>是替换字符串，其中可能包含反向引用或格式说明符。<code>edit</code>表单将在标题值中完全匹配并替换一次，而<code>edit*</code>表单将显示搜索模式的<em>每个</em>实例（如果出现多次）。</dd>

    <dt><code>合并</code></dt>
    <dd>响应标头会附加到任何同名的现有标头中，除非要附加的值已经出现在标头的逗号分隔值列表中。当新值合并到现有标头中时，将其与现有标头用逗号分隔。这是给标头提供多个值的HTTP标准方法。在区分所有格式说明符后，将以区分大小写的方式比较值。双引号中的值被认为不同于其他相同的未引号。</dd>

    <dt><code>组</code></dt>
    <dd>设置了响应头，并用该名称替换任何先前的头。该<var>值</var>可以是格式字符串。</dd>

    <dt><code>设定性</code></dt>
    <dd>设置了请求标头，但前提是之前没有使用该名称的标头。
    <div class="note">Content-Type标头是一种特殊的用例，因为在评估<code>setifempty</code>时可能会确定其值，但标头不是响应的一部分。在以下用例中，将<code>set</code>用于此用例更安全：<pre class="prettyprint lang-config">Header set Content-Type "text/plain" "expr=-z %{CONTENT_TYPE}"</pre>

    </div></dd>

    <dt><code>未设定</code></dt>
    <dd>该名称的响应头（如果存在）将被删除。如果有多个同名标题，则将全部删除。 <var>值</var>必须省略。</dd>

    <dt><code>注意</code></dt>
    <dd>命名响应<var>标头</var>的值被复制到内部注释中，该内部注释的名称由<var>value指定</var> 。如果将CGI或代理资源发送的标头配置为未设置但也应记录下来，则这很有用。<br>在2.4.7及更高版本中可用。</dd>

    </dl>

    <p>此参数后跟<var>标题</var>名称，该名称可以包含最后的冒号，但这不是必需的。<code>set</code> ， <code>append</code> ， <code>merge</code> ， <code>add</code> ， <code>unset</code>和<code>edit</code>大小写将被忽略。<code>echo</code>的<var>标题</var>名称区分大小写，并且可以是<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a> 。</p>

    <p>对于<code>set</code> ， <code>append</code> ， <code>merge</code>和<code>add</code> <var>值</var> ， <code>add</code>其指定为下一个参数。如果<var>value</var>包含空格，则应将双引号引起来。
    <var>值</var>可以是一个字符串，一个包含<code class="module"><a href="../mod/mod_headers.html">mod_headers</a></code>特定格式说明符（和字符文字）的字符串，或者是一个以<em>expr =</em>为前缀的<a href="../expr.html">ap_expr</a>表达式</p>
    
    <p><var>value</var>支持以下格式说明符：</p>

    <table class="bordered"><tr class="header"><th>格式</th><th>描述</th></tr>
<tr><td><code>%%</code></td>
        <td>百分号</td></tr>
<tr class="odd"><td><code>％t</code></td>
        <td>自纪元（1970年1月1日）以来的通用协调时间收到请求的时间，以微秒为单位。该值前面是<code>t=</code> 。</td></tr>
<tr><td><code>％D</code></td>
        <td>从接收到请求到在网络上发送标头的时间。这是对请求持续时间的度量。该值前面有<code>D=</code> 。该值以微秒为单位。</td></tr>
<tr class="odd"><td><code>％l</code></td>
        <td>实际服务器本身的当前平均负载。它旨在公开由<code>getloadavg()</code>获得的值，它表示当前平均负载，5分钟平均值和15分钟平均值。该值以<code>l=</code>开头，每个平均值以<code>/</code>分隔。<br>在2.4.4及更高版本中可用。
        </td></tr>
<tr><td><code>％一世</code></td>
        <td>基于可用进程和线程的httpd当前空闲百分比（0到100）。该值以<code>i=</code>开头。<br>在2.4.4及更高版本中可用。
        </td></tr>
<tr class="odd"><td><code>％b</code></td>
        <td>基于可用进程和线程的httpd当前繁忙百分比（0到100）。该值前面有<code>b=</code> 。<br>在2.4.4及更高版本中可用。
        </td></tr>
<tr><td><code>％{VARNAME} e</code></td>
        <td><a href="../env.html">环境变量</a> <code>VARNAME</code>的内容。</td></tr>
<tr class="odd"><td><code>％{VARNAME} s</code></td>
        <td><a href="mod_ssl.html#envvars">SSL环境变量</a> <code>VARNAME</code>的内容（如果启用了<code class="module"><a href="../mod/mod_ssl.html">mod_ssl</a></code> ）。</td></tr>
</table>

    <div class="note"><h3>注意</h3>
      <p><code>%s</code>格式说明符仅在Apache 2.1及更高版本中可用。可以使用它代替<code>%e</code>来避免启用<code>SSLOptions +StdEnvVars</code>的开销。如果由于某种其他原因必须启用<code>SSLOptions +StdEnvVars</code> ， <code>%e</code>将比<code>%s</code>更有效率。</p>
    </div>

    <div class="note"><h3>注意表达式值</h3>
    <p>当value参数使用<a href="../expr.html">ap_expr</a>解析器时，某些表达式语法将不同于评估<em>布尔</em>表达式（例如&lt;If&gt;）的示例：</p>
    <ul>
      <li>语法的起点是“字符串”而不是“ expr”。</li>
      <li>函数调用使用％{funcname：arg}语法而不是funcname（arg）。</li>
      <li>从此起点当前无法使用多参数函数</li>
      <li>引用整个参数，例如<pre class="prettyprint lang-config">Header set foo-checksum "expr=%{md5:foo}"</pre>

       </li>
                   
    </ul>
    </div>

    <p>对于<code>edit</code> ，既有一个<var>值</var>参数（它是一个<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式）</a> ，又有一个附加的<var>替换</var>字符串。从版本2.4.7开始，替换字符串也可能包含格式说明符。</p>

    <p><code class="directive">Header</code>指令后面可以有一个附加参数，可以是以下任何一个：</p>
    <dl>
    <dt><code>早</code></dt>
    <dd>指定<a href="#early">早期处理</a> 。</dd>
    <dt><code>env = [！]<var>变量名</var></code></dt>
    <dd>仅当<a href="../env.html">环境变量</a> <code>varname</code>存在时，才应用该指令。A <code>!</code> <code>varname</code>前面的命令会逆转测试，因此该指令仅在未设置<code>varname</code>情况下适用。</dd>
    <dt><code>expr = <var>表达式</var></code></dt>
    <dd>当且仅当<var>expression的</var>计算结果为true时，才应用该指令。表达式语法和求值的详细信息记录在<a href="../expr.html">ap_expr</a>文档中。
        <pre class="prettyprint lang-config"># This delays the evaluation of the condition clause compared to &lt;If&gt;
Header always set CustomHeader my-value "expr=%{REQUEST_URI} =~ m#^/special_path.php$#"</pre>
   
        </dd>
    </dl>

    <p>除<a href="#early">早期</a>模式外， <code class="directive">Header</code>伪指令在响应发送到网络之前进行处理。这意味着可以设置和/或覆盖大多数标头，但HTTP标头过滤器添加的某些标头除外。在2.2.12之前，无法使用此伪指令更改Content-Type标头。</p>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="RequestHeader" id="RequestHeader">RequestHeader</a> <a name="requestheader" id="requestheader">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>配置HTTP请求标头</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>RequestHeader添加|追加|编辑|编辑* |合并|设置| setifempty |未设置<var>标头</var> [[expr =] <var>值</var> [ <var>替换</var> ] [early | env = [！]<var>varname</var> | expr = <var>expression</var> ]]</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_headers</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>SetIfEmpty在2.4.7和更高版本中可用，expr = value在2.4.10和更高版本中可用</td></tr>
</table>
    <p>该指令可以替换，合并，更改或删除HTTP请求标头。标头在内容处理程序运行之前被修改，允许传入的标头被修改。它执行的操作由第一个参数确定。这可以是以下值之一：</p>

    <dl>

    <dt><code>加</code></dt>
    <dd>即使此标头已经存在，请求标头也会添加到现有的标头集中。这可能导致两个（或多个）具有相同名称的标头。这可能导致无法预料的后果，通常应使用<code>set</code> ， <code>append</code>或<code>merge</code>代替。</dd>

    <dt><code>附加</code></dt>
    <dd>请求标头会附加到任何现有的同名标头中。当新值合并到现有标头中时，将其与现有标头用逗号分隔。这是给标头提供多个值的HTTP标准方法。</dd>

    <dt><code>编辑</code></dt>
    <dt><code>编辑*</code></dt>
    <dd>如果此请求标头存在，则其值将根据<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a>搜索并转换。<var>value</var>参数是一个<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a> ， <var>替换</var>是替换字符串，其中可能包含反向引用或格式说明符。<code>edit</code>表单将在标题值中完全匹配并替换一次，而<code>edit*</code>表单将显示搜索模式的<em>每个</em>实例（如果出现多次）。</dd>

    <dt><code>合并</code></dt>
    <dd>除非要添加的值已经出现在现有标头的逗号分隔值列表中，否则请求标头将附加到任何同名的现有标头中。当新值合并到现有标头中时，将其与现有标头用逗号分隔。这是给标头提供多个值的HTTP标准方法。在区分所有格式说明符后，将以区分大小写的方式比较值。双引号中的值被认为不同于其他相同的未引号。</dd>

    <dt><code>组</code></dt>
    <dd>设置了请求标头，用该名称替换了以前的所有标头</dd>

    <dt><code>设定性</code></dt>
    <dd>设置了请求标头，但前提是之前没有使用该名称的标头。<br>在2.4.7及更高版本中可用。</dd>

    <dt><code>未设定</code></dt>
    <dd>如果该名称的请求标头存在，则将其删除。如果有多个同名标题，则将全部删除。
    <var>值</var>必须省略。</dd>
    </dl>

    <p>此参数后跟标题名称，该名称可以包含最后的冒号，但这不是必需的。大小写被忽略。对于<code>set</code> ， <code>append</code> ， <code>merge</code>和<code>add</code>一个<var>值</var>作为第三个参数给出。如果<var>值</var>包含空格，则应该用双引号将其引起来。对于<code>unset</code> ，不应该给出任何<var>值</var> 。
    <var>值</var>可以是字符串，包含格式说明符的字符串或两者的组合。支持的格式说明符与<code class="directive"><a href="#header">Header</a></code>相同，请在此处查看有关详细信息。对于<code>edit</code> ， <var>值</var>和<var>替换</var>都是必需的，并且分别是<a class="glossarylink" href="../glossary.html#regex" title="见词汇">正则表达式</a>和替换字符串。</p>

    <p><code class="directive">RequestHeader</code>指令后可以跟一个附加参数，该参数可以是以下任意一个：</p>
    <dl>
    <dt><code>早</code></dt>
    <dd>指定<a href="#early">早期处理</a> 。</dd>
    <dt><code>env = [！]<var>变量名</var></code></dt>
    <dd>仅当<a href="../env.html">环境变量</a> <code>varname</code>存在时，才应用该指令。A <code>!</code> <code>varname</code>前面的命令会逆转测试，因此该指令仅在未设置<code>varname</code>情况下适用。</dd>
    <dt><code>expr = <var>表达式</var></code></dt>
    <dd>当且仅当<var>expression的</var>计算结果为true时，才应用该指令。表达式语法和求值的详细信息记录在<a href="../expr.html">ap_expr</a>文档中。</dd>
    </dl>

    <p>除了<a href="#early">早期</a>模式外， <code class="directive">RequestHeader</code>指令在修复阶段由其处理程序运行之前<code class="directive">RequestHeader</code>处理。这应该允许浏览器或Apache输入过滤器生成的标头被覆盖或修改。</p>

</div>
</div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>