<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>mod_info-Apache HTTP服务器版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body >
<div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="&lt;-" alt="&lt;-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">HTTP服务器</a> &gt; <a href="http://httpd.apache.org/docs/">文档</a> &gt; <a href="../index.html">版本2.4</a> &gt; <a href="./index.html">模块</a></div>
<div id="page-content">
<div id="preamble"><h1>Apache模块mod_info</h1>

<table class="module"><tr><th><a href="module-dict.html#Description">描述：</a></th><td>提供服务器配置的全面概述</td></tr>
<tr><th><a href="module-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">模块�标识符：</a></th><td>info_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">源文件：</a></th><td>mod_info.c</td></tr></table>
<h3>摘要</h3>

    <p>要配置<code class="module"><a href="../mod/mod_info.html">mod_info</a></code> ，请将以下内容添加到您的<code>httpd.conf</code>文件中。</p>

    <pre class="prettyprint lang-config">&lt;Location "/server-info"&gt;
    SetHandler server-info
&lt;/Location&gt;</pre>


    <p>您可能希望在<code class="directive"><a href="../mod/core.html#location">&lt;Location&gt;</a></code>指令内使用<code class="module"><a href="../mod/mod_authz_host.html">mod_authz_host</a></code>来限制对服务器配置信息的访问：</p>

    <pre class="prettyprint lang-config">&lt;Location "/server-info"&gt;
    SetHandler server-info
    Require host example.com
&lt;/Location&gt;</pre>


    <p>配置完成后，可通过访问<code>http://your.host.example.com/server-info</code>获得服务器信息。</p>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><h3>话题</h3>
<ul id="topics">
<li><img alt="" src="../images/down.gif"> <a href="#security">安全问题</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#queries">选择显示的信息</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#startup">启动时转储配置</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#limitations">已知局限性</a></li>
</ul><h3 class="directives">指令</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif"> <a href="#addmoduleinfo">AddModuleInfo</a></li>
</ul>
<h3>错误修正清单</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">httpd更新日志</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache httpd-2&amp;query_format=specific&amp;order=changeddate DESC%2Cpriority%2Cbug_severity&amp;component=mod_info">已知的问题</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache httpd-2&amp;component=mod_info">报告错误</a></li></ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="security" id="security">安全问题</a></h2>
    <p>将<code class="module"><a href="../mod/mod_info.html">mod_info</a></code>加载到服务器后，其处理程序功能将在<em>所有</em>配置文件（包括按目录文件（ <em>例如</em> <code>.htaccess</code> ））中可用。这可能会对您的站点产生与安全性有关的后果。</p>

    <p>特别是，此模块可以从其他Apache模块的配置指令中泄漏敏感信息，例如系统路径，用户名/密码，数据库名称等。因此，应<strong>仅</strong>在受控环境中使用此模块，请务必谨慎。</p>

    <p>您可能需要使用<code class="module"><a href="../mod/mod_authz_host.html">mod_authz_host</a></code>来限制对服务器配置信息的访问。</p>

    <div class="example"><h3>访问控制</h3><pre class="prettyprint lang-config">&lt;Location "/server-info"&gt;
    SetHandler server-info
    # Allow access from server itself
    Require ip 127.0.0.1

    # Additionally, allow access from local workstation
    Require ip 192.168.1.17
&lt;/Location&gt;</pre>
</div>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="queries" id="queries">选择显示的信息</a></h2>
    <p>默认情况下，服务器信息包括所有已启用模块的列表，并且对于每个模块，包含该模块可理解的指令的描述，该模块实现的挂钩以及当前配置中的相关指令。</p>

    <p>通过将查询附加到<code>server-info</code>请求，可以获得配置信息的其他视图。例如， <code>http://your.host.example.com/server-info?config</code>将显示所有配置指令。</p>

    <dl>
        <dt><code>？&lt;模块名称&gt;</code></dt>
            <dd>仅与指定模块有关的信息</dd>
        <dt><code>？配置</code></dt>
            <dd>仅配置指令，不按模块排序</dd>
        <dt><code>？钩子</code></dt>
            <dd>每个模块仅附有挂钩列表</dd>
        <dt><code>？清单</code></dt>
            <dd>仅启用模块的简单列表</dd>
        <dt><code>？服务器</code></dt>
            <dd>仅基本服务器信息</dd>
        <dt><code>？提供者</code></dt>
            <dd>列出服务器上可用的提供程序</dd>
    </dl>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="startup" id="startup">启动时转储配置</a></h2>
    <p>如果设置了config define <code>-DDUMP_CONFIG</code> ，则<code class="module"><a href="../mod/mod_info.html">mod_info</a></code>将在服务器启动期间将预先解析的配置转储到<code>stdout</code> 。</p>

    <pre class="prettyprint lang-sh">httpd -DDUMP_CONFIG -k start</pre>

    
    <p>预先解析意味着对<code class="directive"><a href="../mod/core.html#ifdefine">&lt;IfDefine&gt;</a></code>和<code class="directive"><a href="../mod/core.html#ifmodule">&lt;IfModule&gt;</a></code>类的指令进行求值，并替换环境变量。但是，它不代表配置的最终状态。特别是，它并不表示重复指令可能发生的合并或覆盖。</p>

    <p>这大致相当于<code>?config</code>查询。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="limitations" id="limitations">已知局限性</a></h2>
    <p><code class="module"><a href="../mod/mod_info.html">mod_info</a></code>通过读取已解析的配置而不是读取原始配置文件<code class="module"><a href="../mod/mod_info.html">mod_info</a></code>提供其信息。由于创建了解析的配置树，因此存在一些限制：</p>
    <ul>
      <li>没有列出立即执行而不是存储在已解析配置中的指令。这些包括<code class="directive"><a href="../mod/core.html#serverroot">ServerRoot</a></code> ， <code class="directive"><a href="../mod/mod_so.html#loadmodule">LoadModule</a></code>和<code class="directive"><a href="../mod/mod_so.html#loadfile">LoadFile</a></code> 。</li>
      <li>没有列出控制配置文件本身的指令，例如<code class="directive"><a href="../mod/core.html#include">Include</a></code> ， <code class="directive"><a href="../mod/core.html#ifmodule">&lt;IfModule&gt;</a></code>和<code class="directive"><a href="../mod/core.html#ifdefine">&lt;IfDefine&gt;</a></code> ，但包含的配置指令却没有列出。</li>
      <li>评论未列出。（这可能被认为是一项功能。）</li>
      <li><code>.htaccess</code>文件中的配置指令未列出（因为它们不构成永久服务器配置的一部分）。</li>
      <li>通常会列出诸如<code class="directive"><a href="../mod/core.html#directory">&lt;Directory&gt;</a></code>类的容器指令，但是<code class="module"><a href="../mod/mod_info.html">mod_info</a></code>无法找出结束<code class="directive"><a href="../mod/core.html#directory">&lt;/Directory&gt;</a></code>的行号。</li>
      <li>由第三方模块（例如<a href="http://perl.apache.org">mod_perl）</a>生成的指令可能不会列出。</li>
    </ul>
</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="AddModuleInfo" id="AddModuleInfo">AddModuleInfo</a> <a name="addmoduleinfo" id="addmoduleinfo">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>将附加信息添加到由服务器信息处理程序显示的模块信息中</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>AddModuleInfo <var>模块名称</var> <var>字符串</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_info</td></tr>
</table>
    <p>这样就可以将<var>字符串</var>的内容显示为HTML解释，这是模块<var>module-name的</var> <strong>附加信息</strong> 。例：</p>

    <pre class="prettyprint lang-config">AddModuleInfo mod_deflate.c 'See &lt;a \
    href="http://httpd.apache.org/docs/2.4/mod/mod_deflate.html"&gt;\
    http://httpd.apache.org/docs/2.4/mod/mod_deflate.html&lt;/a&gt;'</pre>


</div>
</div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>