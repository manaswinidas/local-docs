<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>mod_usertrack-Apache HTTP服务器版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body >
<div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="&lt;-" alt="&lt;-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">HTTP服务器</a> &gt; <a href="http://httpd.apache.org/docs/">文档</a> &gt; <a href="../index.html">版本2.4</a> &gt; <a href="./index.html">模块</a></div>
<div id="page-content">
<div id="preamble"><h1>Apache模块mod_usertrack</h1>

<table class="module"><tr><th><a href="module-dict.html#Description">描述：</a></th><td>
网站上用户活动的<em>点击流</em>日志记录</td></tr>
<tr><th><a href="module-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">模块�标识符：</a></th><td>usertrack_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">源文件：</a></th><td>mod_usertrack.c</td></tr></table>
<h3>摘要</h3>

    <p>通过浏览器cookie通过您的网站跟踪用户。</p>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><h3>话题</h3>
<ul id="topics">
<li><img alt="" src="../images/down.gif"> <a href="#logging">记录中</a></li>
</ul><h3 class="directives">指令</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif"> <a href="#cookiedomain">Cookie域</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cookieexpires">Cookie有效期</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cookiename">Cookie名称</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cookiestyle">Cookie风格</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cookietracking">Cookie追踪</a></li>
</ul>
<h3>错误修正清单</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">httpd更新日志</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache httpd-2&amp;query_format=specific&amp;order=changeddate DESC%2Cpriority%2Cbug_severity&amp;component=mod_usertrack">已知的问题</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache httpd-2&amp;component=mod_usertrack">报告错误</a></li></ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="logging" id="logging">记录中</a></h2>


    <p><code class="module"><a href="../mod/mod_usertrack.html">mod_usertrack</a></code>设置一个cookie，该cookie可以通过<code class="module"><a href="../mod/mod_log_config.html">mod_log_config</a></code>配置的日志记录格式进行记录：</p>

    <pre class="prettyprint lang-config">LogFormat "%{Apache}n %r %t" usertrack
CustomLog logs/clickstream.log usertrack</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CookieDomain" id="CookieDomain">CookieDomain</a> <a name="cookiedomain" id="cookiedomain">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>跟踪Cookie适用的域</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CookieDomain <em>域</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_usertrack</td></tr>
</table>

    <p>此伪指令控制跟踪cookie应用于的域的设置。如果不存在，则cookie标头字段中不包含任何域。</p>

    <p>域字符串<strong>必须</strong>以点开头，并且<strong>必须</strong>至少包含一个嵌入式点。也就是说， <code>.example.com</code>是合法的，但<code>www.example.com</code>和<code>.com</code>却不是。</p>

    <div class="note">当今使用的大多数浏览器都不允许为两部分的顶级域（例如<code>.co.uk</code>设置cookie，尽管这种域表面上可以满足上述要求。<br>这些域与<code>.com</code>等顶级域等效，并且允许此类cookie可能会带来安全风险。因此，如果您是由两部分组成的顶级域，则仍应使用实际域，就像使用其他任何顶级域（例如<code>.example.co.uk</code> ）一样。
    </div>

    <pre class="prettyprint lang-config">CookieDomain .example.com</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CookieExpires" id="CookieExpires">CookieExpires</a> <a name="cookieexpires" id="cookieexpires">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>跟踪Cookie的到期时间</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CookieExpires的<em>有效期限</em></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_usertrack</td></tr>
</table>
    <p>使用时，此伪指令在usertrack模块生成的cookie上设置到期时间。可以以秒为单位给出<em>有效期，</em>也可以采用“ 2周3天7小时”的格式。有效面额为：年，月，周，天，小时，分钟和秒。如果到期时间采用除表示秒数的数字以外的任何格式，则必须用双引号引起来。</p>

    <p>如果不使用此指令，则cookie仅在当前浏览器会话中持续存在。</p>

    <pre class="prettyprint lang-config">CookieExpires "3 weeks"</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CookieName" id="CookieName">CookieName</a> <a name="cookiename" id="cookiename">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>跟踪Cookie的名称</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CookieName <em>令牌</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>CookieName Apache</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_usertrack</td></tr>
</table>
    <p>该指令允许您更改此模块用于其跟踪目的的cookie的名称。默认情况下，cookie名为“ <code>Apache</code> ”。</p>

    <p>您必须指定一个有效的cookie名称；如果使用包含不寻常字符的名称，结果将无法预测。有效字符包括AZ，az，0-9，“ _”和“-”。</p>

    <pre class="prettyprint lang-config">CookieName clicktrack</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CookieStyle" id="CookieStyle">CookieStyle</a> <a name="cookiestyle" id="cookiestyle">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>Cookie标头字段的格式</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CookieStyle <em>Netscape | Cookie | Cookie2 | RFC2109 | RFC2965</em></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>CookieStyle网景</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_usertrack</td></tr>
</table>
    <p>此伪指令控制cookie标头字段的格式。允许的三种格式是：</p>

    <ul>
      <li><strong>Netscape</strong> ，它是原始语法，但现在已弃用。这是默认设置，也是Apache过去使用的语法。</li>

      <li><strong>Cookie</strong>或<strong>RFC2109</strong> ，它是取代Netscape语法的语法。</li>

      <li><strong>Cookie2</strong>或<strong>RFC2965</strong> ，这是最新的cookie语法。</li>
    </ul>

    <p>并非所有客户端都能理解所有这些格式，但是您应该使用用户浏览器通常可以接受的最新格式。在撰写本文时，大多数浏览器都支持这三种格式，其中<code>Cookie2</code>是首选格式。</p>

    <pre class="prettyprint lang-config">CookieStyle Cookie2</pre>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="CookieTracking" id="CookieTracking">CookieTracking</a> <a name="cookietracking" id="cookietracking">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>启用跟踪Cookie</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>CookieTracking开|关</code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>Cookie跟踪关闭</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机，目录，.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>文件信息</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_usertrack</td></tr>
</table>
    <p>加载<code class="module"><a href="../mod/mod_usertrack.html">mod_usertrack</a></code>并将<code>CookieTracking on</code>设置为<code>CookieTracking on</code> ，Apache将为所有新请求发送一个用户跟踪cookie。此伪指令可用于基于每个服务器或每个目录打开或关闭此行为。默认情况下，启用<code class="module"><a href="../mod/mod_usertrack.html">mod_usertrack</a></code> <strong>不会</strong>激活cookie。</p>

    <pre class="prettyprint lang-config">CookieTracking on</pre>



</div>
</div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>