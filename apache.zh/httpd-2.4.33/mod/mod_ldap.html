<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>mod_ldap-Apache HTTP服务器版本2.4</title>
<link href="../style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="../style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="../style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="../style/css/prettify.css">
<script src="../style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body >
<div id="page-header">
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="../images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="&lt;-" alt="&lt;-" src="../images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> &gt; <a href="http://httpd.apache.org/">HTTP服务器</a> &gt; <a href="http://httpd.apache.org/docs/">文档</a> &gt; <a href="../index.html">版本2.4</a> &gt; <a href="./index.html">模块</a></div>
<div id="page-content">
<div id="preamble"><h1>Apache模块mod_ldap</h1>

<table class="module"><tr><th><a href="module-dict.html#Description">描述：</a></th><td>LDAP连接池和结果缓存服务，供其他LDAP模块使用</td></tr>
<tr><th><a href="module-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="module-dict.html#ModuleIdentifier">模块�标识符：</a></th><td>ldap_module</td></tr>
<tr><th><a href="module-dict.html#SourceFile">源文件：</a></th><td>util_ldap.c</td></tr></table>
<h3>摘要</h3>

    <p>创建此模块是为了提高依赖于与LDAP服务器的后端连接的网站的性能。除了标准LDAP库提供的功能外，该模块还添加了LDAP连接池和LDAP共享内存缓存。</p>

    <p>要启用此模块，必须将LDAP支持编译到apr-util中。这是通过在构建Apache时在<code class="program"><a href="../programs/configure.html">configure</a></code>脚本中添加<code>--with-ldap</code>标志来实现的。</p>

    <p>SSL / TLS支持取决于已将哪个LDAP工具包链接到<a class="glossarylink" href="../glossary.html#apr" title="见词汇">APR</a> 。在撰写本文时，APR-util支持： <a href="http://www.openldap.org/">OpenLDAP SDK</a> （2.x或更高版本）， <a href="http://developer.novell.com/ndk/cldap.htm">Novell LDAP SDK</a> ， <a href="https://wiki.mozilla.org/LDAP_C_SDK">Mozilla LDAP SDK</a> ，本机Solaris LDAP SDK（基于Mozilla）或本机Microsoft LDAP SDK。有关详细信息，请参见<a href="http://apr.apache.org">APR</a>网站。</p>

</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><h3>话题</h3>
<ul id="topics">
<li><img alt="" src="../images/down.gif"> <a href="#exampleconfig">配置示例</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#pool">LDAP连接池</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#cache">LDAP缓存</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#usingssltls">使用SSL / TLS</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#settingcerts">SSL / TLS证书</a></li>
</ul><h3 class="directives">指令</h3>
<ul id="toc">
<li><img alt="" src="../images/down.gif"> <a href="#ldapcacheentries">LDAPCacheEntries</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapcachettl">LDAPCacheTTL</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapconnectionpoolttl">LDAPConnectionPoolTTL</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapconnectiontimeout">LDAPConnectionTimeout</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldaplibrarydebug">LDAPLibraryDebug</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapopcacheentries">LDAPOpCacheEntries</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapopcachettl">LDAPOpCacheTTL</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapreferralhoplimit">LDAPReferralHopLimit</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapreferrals">LDAP引荐</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapretries">LDAP重试</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapretrydelay">LDAPRetryDelay</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapsharedcachefile">LDAPSharedCacheFile</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapsharedcachesize">LDAPSharedCacheSize</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldaptimeout">LDAP超时</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldaptrustedclientcert">LDAPTrustedClientCert</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldaptrustedglobalcert">LDAPTrustedGlobalCert</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldaptrustedmode">LDAPTrustedMode</a></li>
<li><img alt="" src="../images/down.gif"> <a href="#ldapverifyservercert">LDAPVerifyServerCert</a></li>
</ul>
<h3>错误修正清单</h3><ul class="seealso"><li><a href="https://www.apache.org/dist/httpd/CHANGES_2.4">httpd更新日志</a></li><li><a href="https://bz.apache.org/bugzilla/buglist.cgi?bug_status=__open__&amp;list_id=144532&amp;product=Apache httpd-2&amp;query_format=specific&amp;order=changeddate DESC%2Cpriority%2Cbug_severity&amp;component=mod_ldap">已知的问题</a></li><li><a href="https://bz.apache.org/bugzilla/enter_bug.cgi?product=Apache httpd-2&amp;component=mod_ldap">报告错误</a></li></ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="exampleconfig" id="exampleconfig">配置示例</a></h2>
    <p>以下是使用<code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>提高<code class="module"><a href="../mod/mod_authnz_ldap.html">mod_authnz_ldap</a></code>提供的HTTP Basic身份验证性能的示例配置。</p>

    <pre class="prettyprint lang-config"># Enable the LDAP connection pool and shared
# memory cache. Enable the LDAP cache status
# handler. Requires that mod_ldap and mod_authnz_ldap
# be loaded. Change the "yourdomain.example.com" to
# match your domain.

LDAPSharedCacheSize 500000
LDAPCacheEntries 1024
LDAPCacheTTL 600
LDAPOpCacheEntries 1024
LDAPOpCacheTTL 600

&lt;Location "/ldap-status"&gt;
    SetHandler ldap-status

    Require host yourdomain.example.com

    Satisfy any
    AuthType Basic
    AuthName "LDAP Protected"
    AuthBasicProvider ldap
    AuthLDAPURL "ldap://127.0.0.1/dc=example,dc=com?uid?one"
    Require valid-user
&lt;/Location&gt;</pre>

</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="pool" id="pool">LDAP连接池</a></h2>

    <p>LDAP连接在请求之间进行池化。这允许LDAP服务器保持连接状态并为下一个请求做好绑定准备，而无需取消绑定/连接/重新绑定。性能优势类似于HTTP keepalive的效果。</p>

    <p>在繁忙的服务器上，许多请求可能会尝试同时访问同一LDAP服务器连接。在使用LDAP连接的地方，Apache将在原始连接的旁边创建一个新连接。这样可以确保连接池不会成为瓶颈。</p>

    <p>无需在Apache配置中手动启用连接池。使用此模块访问LDAP服务的任何模块都将共享连接池。</p>

    <p>LDAP连接可以跟踪绑定到LDAP服务器时使用的ldap客户端凭据。可以将这些凭据提供给LDAP服务器，这些服务器在引用跟踪期间不允许匿名绑定。要控制此功能，请参阅<code class="directive"><a href="#ldapreferrals">LDAPReferrals</a></code>和<code class="directive"><a href="#ldapreferralhoplimit">LDAPReferralHopLimit</a></code>指令。默认情况下，启用此功能。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="cache" id="cache">LDAP缓存</a></h2>

    <p>为了提高性能， <code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>使用积极的缓存策略来最大程度地减少必须联系LDAP服务器的次数。当Apache服务受mod_authnz_ldap保护的页面时，缓存可以轻松使Apache的吞吐量增加一倍或两倍。此外，LDAP服务器上的负载将大大减少。</p>

    <p><code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>在搜索/绑定阶段使用<em>搜索/绑定缓存</em>以及在比较阶段使用两个<em>操作缓存</em>支持两种类型的LDAP缓存。服务器使用的每个LDAP URL都有自己的这三个高速缓存集。</p>

    <h3><a name="search-bind" id="search-bind">搜索/绑定缓存</a></h3>
      <p>进行搜索然后进行绑定的过程是LDAP操作最耗时的方面，尤其是在目录很大的情况下。搜索/绑定缓存用于缓存所有导致绑定成功的搜索。否定结果（ <em>即</em> ，不成功的搜索或未成功绑定的搜索）不会被缓存。该决定的基本原理是具有无效凭据的连接仅占连接总数的一小部分，因此，通过不缓存无效凭据，可以减少缓存的大小。</p>

      <p><code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>将用户名，检索到的DN，用于绑定的密码以及绑定时间存储在缓存中。每当使用相同的用户名启动新连接时， <code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>将新连接的密码与缓存中的密码进行比较。如果密码匹配，并且高速缓存的条目不太旧，则<code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>绕过搜索/绑定阶段。</p>

      <p>搜索和绑定缓存由<code class="directive"><a href="#ldapcacheentries">LDAPCacheEntries</a></code>和<code class="directive"><a href="#ldapcachettl">LDAPCacheTTL</a></code>指令控制。</p>
    

    <h3><a name="opcaches" id="opcaches">操作缓存</a></h3>
      <p>在属性和专有名称比较功能期间， <code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>使用两个操作缓存来缓存比较操作。第一个比较缓存用于缓存比较结果，以测试LDAP组成员身份。第二个比较缓存用于缓存可分辨名称之间完成的比较结果。</p>

      <p>请注意，在检查组成员身份时，将缓存任何子组比较结果，以加快将来的子组比较。</p>

      <p>这两个缓存的行为<code class="directive"><a href="#ldapopcacheentries">LDAPOpCacheEntries</a></code>和<code class="directive"><a href="#ldapopcachettl">LDAPOpCacheTTL</a></code>指令控制。</p>
    

    <h3><a name="monitoring" id="monitoring">监控缓存</a></h3>
      <p><code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>具有内容处理程序，管理员可以使用该内容处理程序监视缓存性能。内容处理程序的名称为<code>ldap-status</code> ，因此可以使用以下指令访问<code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>缓存信息：</p>

      <pre class="prettyprint lang-config">&lt;Location "/server/cache-info"&gt;
    SetHandler ldap-status
&lt;/Location&gt;</pre>


      <p>通过获取URL <code>http://servername/cache-info</code> ，管理员可以获取<code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>缓存使用的每个缓存的状态报告。请注意，如果Apache不支持共享内存，则每个<code class="program"><a href="../programs/httpd.html">httpd</a></code>实例都有其自己的缓存，因此，重新加载URL每次将导致不同的信息，具体取决于哪个<code class="program"><a href="../programs/httpd.html">httpd</a></code>实例处理请求。</p>
    
</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="usingssltls" id="usingssltls">使用SSL / TLS</a></h2>

    <p>创建与LDAP服务器的SSL和TLS连接的能力由指令<code class="directive"><a href="#ldaptrustedglobalcert">LDAPTrustedGlobalCert</a></code> ， <code class="directive"><a href="#ldaptrustedclientcert">LDAPTrustedClientCert</a></code>和<code class="directive"><a href="#ldaptrustedmode">LDAPTrustedMode</a></code> 。这些指令指定要使用的CA和可选客户端证书，以及在连接上使用的加密类型（无，SSL或TLS / STARTTLS）。</p>

    <pre class="prettyprint lang-config"># Establish an SSL LDAP connection on port 636. Requires that
# mod_ldap and mod_authnz_ldap be loaded. Change the
# "yourdomain.example.com" to match your domain.

LDAPTrustedGlobalCert CA_DER "/certs/certfile.der"

&lt;Location "/ldap-status"&gt;
    SetHandler ldap-status

    Require host yourdomain.example.com

    Satisfy any
    AuthType Basic
    AuthName "LDAP Protected"
    AuthBasicProvider ldap
    AuthLDAPURL "ldaps://127.0.0.1/dc=example,dc=com?uid?one"
    Require valid-user
&lt;/Location&gt;</pre>


    <pre class="prettyprint lang-config"># Establish a TLS LDAP connection on port 389. Requires that
# mod_ldap and mod_authnz_ldap be loaded. Change the
# "yourdomain.example.com" to match your domain.

LDAPTrustedGlobalCert CA_DER "/certs/certfile.der"

&lt;Location "/ldap-status"&gt;
    SetHandler ldap-status

    Require host yourdomain.example.com

    Satisfy any
    AuthType Basic
    AuthName "LDAP Protected"
    AuthBasicProvider ldap
    AuthLDAPURL "ldap://127.0.0.1/dc=example,dc=com?uid?one" TLS
    Require valid-user
&lt;/Location&gt;</pre>


</div><div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="section">
<h2><a name="settingcerts" id="settingcerts">SSL / TLS证书</a></h2>

    <p>不同的LDAP SDK设置和处理CA和客户端证书的方法大不相同。</p>

    <p>如果打算使用SSL或TLS，请仔细阅读本节，以了解所支持的不同LDAP工具包上的配置之间的差异。</p>

    <h3><a name="settingcerts-netscape" id="settingcerts-netscape">Netscape / Mozilla / iPlanet SDK</a></h3>
        <p>CA证书在名为cert7.db的文件中指定。SDK不会与证书未由此文件中指定的CA签名的任何LDAP服务器通信。如果需要客户端证书，则可以使用可选密码指定可选的key3.db文件。如果需要，可以指定secmod文件。这些文件与Netscape Communicator或Mozilla Web浏览器使用的格式相同。获取这些文件的最简单方法是从浏览器安装中获取它们。</p>

        <p>通过使用LDAPTrustedClientCert伪指令，通过引用证书“昵称”来为每个连接指定客户端证书。可以指定一个可选密码来解锁证书的私钥。</p>

        <p>SDK仅支持SSL。尝试在运行时联系LDAP服务器时，尝试使用STARTTLS将导致错误。</p>

        <pre class="prettyprint lang-config"># Specify a Netscape CA certificate file
LDAPTrustedGlobalCert CA_CERT7_DB "/certs/cert7.db"
# Specify an optional key3.db file for client certificate support
LDAPTrustedGlobalCert CERT_KEY3_DB "/certs/key3.db"
# Specify the secmod file if required
LDAPTrustedGlobalCert CA_SECMOD "/certs/secmod"
&lt;Location "/ldap-status"&gt;
    SetHandler ldap-status

    Require host yourdomain.example.com

    Satisfy any
    AuthType Basic
    AuthName "LDAP Protected"
    AuthBasicProvider ldap
    LDAPTrustedClientCert CERT_NICKNAME &lt;nickname&gt; [password]
    AuthLDAPURL "ldaps://127.0.0.1/dc=example,dc=com?uid?one"
    Require valid-user
&lt;/Location&gt;</pre>


    

    <h3><a name="settingcerts-novell" id="settingcerts-novell">Novell SDK</a></h3>

        <p>必须指定一个或多个CA证书，Novell SDK才能正常工作。这些证书可以指定为二进制DER或Base64（PEM）编码的文件。</p>

        <p>注意：客户端证书是全局指定的，而不是每个连接指定的，因此必须使用LDAPTrustedGlobalCert指令指定，如下所示。尝试通过LDAPTrustedClientCert指令设置客户端证书时，尝试连接到LDAP服务器时将导致记录错误。</p>

        <p>SDK支持SSL和STARTTLS（使用LDAPTrustedMode参数设置）。如果指定了ldaps：// URL，则强制使用SSL模式，请覆盖此伪指令。</p>

        <pre class="prettyprint lang-config"># Specify two CA certificate files
LDAPTrustedGlobalCert CA_DER "/certs/cacert1.der"
LDAPTrustedGlobalCert CA_BASE64 "/certs/cacert2.pem"
# Specify a client certificate file and key
LDAPTrustedGlobalCert CERT_BASE64 "/certs/cert1.pem"
LDAPTrustedGlobalCert KEY_BASE64 "/certs/key1.pem" [password]
# Do not use this directive, as it will throw an error
#LDAPTrustedClientCert CERT_BASE64 "/certs/cert1.pem"</pre>


    

    <h3><a name="settingcerts-openldap" id="settingcerts-openldap">OpenLDAP SDK</a></h3>

        <p>必须指定一个或多个CA证书，OpenLDAP SDK才能正常工作。这些证书可以指定为二进制DER或Base64（PEM）编码的文件。</p>

        <p>CA证书和客户端证书都可以全局指定（LDAPTrustedGlobalCert）或按连接指定（LDAPTrustedClientCert）。如果为每个连接指定了任何设置，则将取代全局设置。</p>

        <p>SDK的文档声称同时支持SSL和STARTTLS，但是STARTTLS似乎不适用于所有版本的SDK。可以使用LDAPTrustedMode参数设置SSL / TLS模式。如果指定ldaps：// URL，则强制使用SSL模式。OpenLDAP文档指出，不建议使用SSL（ldaps：//）支持，以TLS代替，尽管SSL功能仍然有效。</p>

        <pre class="prettyprint lang-config"># Specify two CA certificate files
LDAPTrustedGlobalCert CA_DER "/certs/cacert1.der"
LDAPTrustedGlobalCert CA_BASE64 "/certs/cacert2.pem"
&lt;Location "/ldap-status"&gt;
    SetHandler ldap-status

    Require host yourdomain.example.com

    LDAPTrustedClientCert CERT_BASE64 "/certs/cert1.pem"
    LDAPTrustedClientCert KEY_BASE64 "/certs/key1.pem"
    # CA certs respecified due to per-directory client certs
    LDAPTrustedClientCert CA_DER "/certs/cacert1.der"
    LDAPTrustedClientCert CA_BASE64 "/certs/cacert2.pem"
    Satisfy any
    AuthType Basic
    AuthName "LDAP Protected"
    AuthBasicProvider ldap
    AuthLDAPURL "ldaps://127.0.0.1/dc=example,dc=com?uid?one"
    Require valid-user
&lt;/Location&gt;</pre>


    

    <h3><a name="settingcerts-solaris" id="settingcerts-solaris">Solaris SDK</a></h3>

        <p>尚不支持本机Solaris LDAP库的SSL / TLS。如果需要，请安装并使用OpenLDAP库。</p>

    

    <h3><a name="settingcerts-microsoft" id="settingcerts-microsoft">Microsoft SDK</a></h3>

        <p>本机Microsoft LDAP库的SSL / TLS证书配置是在系统注册表中完成的，不需要任何配置指令。</p>

        <p>通过使用ldaps：// URL格式或相应地使用LDAPTrustedMode指令，可以同时支持SSL和TLS。</p>

        <p>注意：此工具包尚不支持客户端证书的支持状态。</p>

    

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPCacheEntries" id="LDAPCacheEntries">LDAPCacheEntries</a> <a name="ldapcacheentries" id="ldapcacheentries">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>主LDAP缓存中的最大条目数</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPCacheEntries <var>号</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAPCacheEntries 1024</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>指定主LDAP缓存的最大大小。此缓存包含成功的搜索/绑定。将其设置为0可关闭搜索/绑定缓存。默认大小是1024个缓存的搜索。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPCacheTTL" id="LDAPCacheTTL">LDAPCacheTTL</a> <a name="ldapcachettl" id="ldapcachettl">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>缓存项目保持有效的时间</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPCacheTTL <var>秒</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAPCacheTTL 600</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>指定搜索/绑定缓存中的项目保持有效的时间（以秒为单位）。默认值为600秒（10分钟）。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPConnectionPoolTTL" id="LDAPConnectionPoolTTL">LDAPConnectionPoolTTL</a> <a name="ldapconnectionpoolttl" id="ldapconnectionpoolttl">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>丢弃一直位于连接池中的后端连接</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPConnectionPoolTTL <var>n</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAPConnectionPoolTTL -1</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>Apache HTTP Server 2.3.12及更高版本</td></tr>
</table>
    <p>指定池中的LDAP连接可以保持空闲并且仍然可以使用的最长期限（以秒为单位）。下次需要连接时会清理连接，而不是异步的。</p>

    <p>设置为0会使连接永远不会保存在后端连接池中。默认值-1和其他任何负值都允许重用任何年龄的连接。</p>

    <p>出于性能原因，此伪指令使用的参考时间基于LDAP连接返回池的时间，而不是上一次与LDAP服务器成功进行I / O的时间。</p>

    <p>从2.4.10版本开始，采取了新的措施来避免由于缓存命中或请求缓慢而增加参考时间。首先，如果不需要后端LDAP连接，则不会更新参考时间。其次，参考时间使用接收HTTP请求的时间而不是请求完成的时间。</p>

    <div class="note"><p>此超时默认为秒单位，但接受后缀毫秒（ms），分钟（min）和小时（h）。
    </p></div>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPConnectionTimeout" id="LDAPConnectionTimeout">LDAPConnectionTimeout</a> <a name="ldapconnectiontimeout" id="ldapconnectiontimeout">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>指定套接字连接超时（以秒为单位）</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPConnectionTimeout <var>秒</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>如果存在，此伪指令在基础LDAP客户端库中配置LDAP_OPT_NETWORK_TIMEOUT（或LDAP_OPT_CONNECT_TIMEOUT）选项。该值通常控制LDAP客户端库等待与LDAP服务器的TCP连接完成的时间。</p>

    <p>如果在超时期限内连接失败，则将返回错误，或者如果指定了第二台LDAP服务器（通过<code class="directive"><a href="../mod/mod_authnz_ldap.html#authldapurl">AuthLDAPURL</a></code>以空格分隔的主机名列表），则LDAP客户端库将尝试连接到第二台LDAP服务器。</p>

    <p>如果与服务器链接的LDAP客户端库支持LDAP_OPT_NETWORK_TIMEOUT选项，则默认值为10秒。</p>

    <div class="note">LDAPConnectionTimeout仅在与服务器链接的LDAP客户端库支持LDAP_OPT_NETWORK_TIMEOUT（或LDAP_OPT_CONNECT_TIMEOUT）选项时可用，并且最终行为完全由LDAP客户端库决定。
    </div>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPLibraryDebug" id="LDAPLibraryDebug">LDAPLibraryDebug</a> <a name="ldaplibrarydebug" id="ldaplibrarydebug">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>在LDAP SDK中启用调试</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPLibraryDebug <var>7</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>残障人士</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>打开特定于SDK的LDAP调试选项，这些选项通常会使LDAP SDK将详细的跟踪信息记录到主Apache错误日志中。LDAP SDK的跟踪消息提供了详细信息，这些细节在调试后端LDAP服务器的连接问题时非常有用</p>

    <p>仅当Apache HTTP Server与实现<code>LDAP_OPT_DEBUG</code>或<code>LDAP_OPT_DEBUG_LEVEL</code>的LDAP SDK链接时，才可配置该选项，例如OpenLDAP（值为7表示详细）或Tivoli Directory Server（值为65535表示详细）。</p>

    <div class="warning">
    <p>记录的信息可能包含LDAP身份验证正在使用或验证的纯文本凭据，因此在使用此伪指令时应注意保护和清除错误日志。</p>
    </div>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPOpCacheEntries" id="LDAPOpCacheEntries">LDAPOpCacheEntries</a> <a name="ldapopcacheentries" id="ldapopcacheentries">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>用于缓存LDAP比较操作的条目数</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPOpCacheEntries <var>号</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAPOpCacheEntries 1024</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>这指定<code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>将用于缓存LDAP比较操作的条目数。默认值为1024个条目。将其设置为0将禁用操作缓存。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPOpCacheTTL" id="LDAPOpCacheTTL">LDAPOpCacheTTL</a> <a name="ldapopcachettl" id="ldapopcachettl">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>操作缓存中的条目保持有效的时间</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPOpCacheTTL <var>秒</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAPOpCacheTTL 600</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>指定操作缓存中的条目保持有效的时间（以秒为单位）。默认值为600秒。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPReferralHopLimit" id="LDAPReferralHopLimit">LDAPReferralHopLimit</a> <a name="ldapreferralhoplimit" id="ldapreferralhoplimit">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>在终止LDAP查询之前要追查的最大引荐跃点数。</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPReferralHopLimit <var>编号</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>取决于SDK，通常在5到10之间</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>验证配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>如果该指令由<code class="directive">LDAPReferrals</code>指令启用， <code class="directive">LDAPReferrals</code>限制在终止LDAP查询之前遵循的引用跃点数。</p>

<div class="warning">
<p>在LDAP SDK中很少支持此可调参数。</p>
</div>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPReferrals" id="LDAPReferrals">LDAPReferrals</a> <a name="ldapreferrals" id="ldapreferrals">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>在查询LDAP服务器的过程中启用引用跟踪。</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPReferrals <var>开启|关闭|默认</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAPReferrals开启</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Override">覆写：</a></th><td>验证配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td><var>默认</var>参数在Apache 2.4.7和更高版本中可用</td></tr>
</table>
    <p>某些LDAP服务器在多个域之间划分其目录，并在跨域边界时使用引用来定向客户端。这类似于HTTP重定向。默认情况下，LDAP客户端库可能会也可能不会追踪引用。该指令在基础SDK中显式配置引用跟踪。</p>


    <p><code class="directive">LDAPReferrals</code>采用以下值：</p>
    <dl>
     <dt>“上”</dt>
     <dd> <p>设置为“ on”时，将启用基础SDK的引用<code class="directive">LDAPReferralHopLimit</code>状态，使用<code class="directive">LDAPReferralHopLimit</code>覆盖SDK的跳数限制，并注册LDAP重新绑定回调。</p></dd>
     <dt>“关闭”</dt>
     <dd> <p>当设置为“ off”时，基础SDK的引用跟踪状态将完全禁用。</p></dd>
     <dt>“默认”</dt>
     <dd> <p>设置为“默认”时，基础SDK的引用<code class="directive">LDAPReferralHopLimit</code>状态不会更改， <code class="directive">LDAPReferralHopLimit</code>不会用于覆盖SDK的跳数限制，并且不会注册LDAP重新绑定回调。</p></dd>
    </dl>

    <p>指令<code class="directive">LDAPReferralHopLimit</code>与此指令结合使用，以限制在终止LDAP查询之前要遵循的引用跃点数。当通过“ On”值启用引用处理时，将通过重新绑定回调为需要它们的任何LDAP服务器提供客户端凭据。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPRetries" id="LDAPRetries">LDAPRetries</a> <a name="ldapretries" id="ldapretries">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>配置LDAP服务器重试次数。</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPRetries <var>重试次数</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAP重试3</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>服务器将在<code class="directive">LDAPRetries</code>时间之前重试失败的LDAP请求。将此伪指令设置为0将禁用重试。</p>
    <p>LDAP错误（例如超时和拒绝连接）可以重试。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPRetryDelay" id="LDAPRetryDelay">LDAPRetryDelay</a> <a name="ldapretrydelay" id="ldapretrydelay">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>配置LDAP服务器重试之间的延迟。</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPRetryDelay <var>秒</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAPRetryDelay 0</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>如果<code class="directive">LDAPRetryDelay</code>设置为非零值，则服务器将在指定的时间内延迟重试LDAP请求。将此指令设置为0将导致任何重试都不会延迟。</p>

    <p>LDAP错误（例如超时和拒绝连接）可以重试。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPSharedCacheFile" id="LDAPSharedCacheFile">LDAPSharedCacheFile</a> <a name="ldapsharedcachefile" id="ldapsharedcachefile">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>设置共享内存缓存文件</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPSharedCacheFile <var>目录路径/文件名</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>指定共享内存缓存文件的目录路径和文件名。如果未设置，则在平台支持的情况下将使用匿名共享内存。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPSharedCacheSize" id="LDAPSharedCacheSize">LDAPSharedCacheSize</a> <a name="ldapsharedcachesize" id="ldapsharedcachesize">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>共享内存缓存的大小（以字节为单位）</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPSharedCacheSize <var>字节</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAPSharedCacheSize 500000</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>指定要分配给共享内存缓存的字节数。默认值为500kb。如果设置为0，将不使用共享内存缓存，并且每个HTTPD进程将创建自己的缓存。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPTimeout" id="LDAPTimeout">LDAPTimeout</a> <a name="ldaptimeout" id="ldaptimeout">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>指定LDAP搜索和绑定操作的超时时间（以秒为单位）</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPTimeout <var>秒</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAP超时60</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">兼容性：</a></th><td>Apache HTTP Server 2.3.5及更高版本</td></tr>
</table>
    <p>此伪指令配置绑定和搜索操作的超时以及基础LDAP客户端库中的LDAP_OPT_TIMEOUT选项（如果有）。</p>

    <p>如果超时到期，则在防火墙以静默方式删除现有连接的情况下，httpd将重试。但是，如果将防火墙配置为发送TCP RST数据包而不是静默丢弃数据包，则性能会好得多。</p>

    <div class="note">
    <p>ldap比较操作的超时需要具有LDAP_OPT_TIMEOUT的SDK，例如OpenLDAP&gt; = 2.4.4。</p>
    </div>


</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPTrustedClientCert" id="LDAPTrustedClientCert">LDAPTrustedClientCert</a> <a name="ldaptrustedclientcert" id="ldaptrustedclientcert">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>设置包含每个别名客户端证书的文件或昵称。并非所有的LDAP工具包都支持每个连接客户端证书。</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPTrustedClientCert <var>类型</var> <var>目录路径/文件名/昵称</var> <var>[密码]</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>目录.htaccess</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>它指定在建立与LDAP服务器的SSL或TLS连接时使用的每个连接客户端证书的目录路径，文件名或昵称。不同的位置或目录可能具有自己的独立客户端证书设置。某些LDAP工具包（特别是Novell）不支持按连接的客户端证书，如果尝试使用此指令，则会在LDAP服务器连接上引发错误（对于Novell客户端证书，请使用LDAPTrustedGlobalCert指令-请参阅上面的SSL / TLS证书指南有关详细信息）。该类型指定所设置的证书参数的类型，具体取决于所使用的LDAP工具箱。支持的类型为：</p>
    <ul>
      <li>CA_DER-二进制DER编码的CA证书</li>
      <li>CA_BASE64-PEM编码的CA证书</li>
      <li>CERT_DER-二进制DER编码的客户端证书</li>
      <li>CERT_BASE64-PEM编码的客户端证书</li>
      <li>CERT_NICKNAME-客户端证书“昵称”（Netscape SDK）</li>
      <li>KEY_DER-二进制DER编码的私钥</li>
      <li>KEY_BASE64-PEM编码的私钥</li>
    </ul>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPTrustedGlobalCert" id="LDAPTrustedGlobalCert">LDAPTrustedGlobalCert</a> <a name="ldaptrustedglobalcert" id="ldaptrustedglobalcert">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>设置包含全局可信证书颁发机构或全局客户端证书的文件或数据库</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPTrustedGlobalCert <var>类型</var> <var>目录路径/文件名</var> <var>[密码]</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>它指定在建立与LDAP服务器的SSL或TLS连接时应使用的受信任CA证书和/或系统范围内的客户端证书<code class="module"><a href="../mod/mod_ldap.html">mod_ldap</a></code>的目录路径和文件名。请注意，使用此伪指令指定的所有证书信息将全局应用于整个服务器安装。某些LDAP工具包（尤其是Novell）要求使用此伪指令在全局范围内设置所有客户端证书。大多数其他工具箱都要求使用LDAPTrustedClientCert为每个目录或每个位置设置客户端证书。如果您遇到此错误，则尝试联系LDAP服务器时可能会记录错误，或者连接可能会静默失败（有关详细信息，请参见上面的SSL / TLS证书指南）。该类型指定所设置的证书参数的类型，具体取决于所使用的LDAP工具箱。支持的类型为：</p>
    <ul>
      <li>CA_DER-二进制DER编码的CA证书</li>
      <li>CA_BASE64-PEM编码的CA证书</li>
      <li>CA_CERT7_DB-Netscape cert7.db CA证书数据库文件</li>
      <li>CA_SECMOD-Netscape secmod数据库文件</li>
      <li>CERT_DER-二进制DER编码的客户端证书</li>
      <li>CERT_BASE64-PEM编码的客户端证书</li>
      <li>CERT_KEY3_DB-Netscape key3.db客户端证书数据库文件</li>
      <li>CERT_NICKNAME-客户端证书“昵称”（Netscape SDK）</li>
      <li>CERT_PFX-PKCS＃12编码的客户端证书（Novell SDK）</li>
      <li>KEY_DER-二进制DER编码的私钥</li>
      <li>KEY_BASE64-PEM编码的私钥</li>
      <li>KEY_PFX-PKCS＃12编码的私钥（Novell SDK）</li>
    </ul>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPTrustedMode" id="LDAPTrustedMode">LDAPTrustedMode</a> <a name="ldaptrustedmode" id="ldaptrustedmode">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>指定连接到LDAP服务器时要使用的SSL / TLS模式。</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPTrustedMode <var>类型</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置，虚拟主机</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>支持以下模式：</p>
    <ul>
      <li>无-不加密</li>
      <li>SSL-ldaps：//：默认端口636上的加密</li>
      <li>TLS-默认端口389上的STARTTLS加密</li>
    </ul>

    <p>并非所有的LDAP工具包都支持上述所有模式。如果不支持某种模式，则会在运行时记录一条错误消息，并且与LDAP服务器的连接将失败。
    </p>

    <p>如果指定了ldaps：// URL，则该模式变为SSL，并且LDAPTrustedMode的设置将被忽略。</p>

</div>
<div class="top"><a href="#page-header"><img alt="最佳" src="../images/up.gif"></a></div>
<div class="directive-section"><h2><a name="LDAPVerifyServerCert" id="LDAPVerifyServerCert">LDAPVerifyServerCert</a> <a name="ldapverifyservercert" id="ldapverifyservercert">指令</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">描述：</a></th><td>强制服务器证书验证</td></tr>
<tr><th><a href="directive-dict.html#Syntax">句法：</a></th><td><code>LDAPVerifyServerCert <var>开启|关闭</var></code></td></tr>
<tr><th><a href="directive-dict.html#Default">默认：</a></th><td><code>LDAPVerifyServerCert开启</code></td></tr>
<tr><th><a href="directive-dict.html#Context">内容：</a></th><td>服务器配置</td></tr>
<tr><th><a href="directive-dict.html#Status">状态：</a></th><td>延期</td></tr>
<tr><th><a href="directive-dict.html#Module">模块：</a></th><td>mod_ldap</td></tr>
</table>
    <p>指定在建立与LDAP服务器的SSL连接时是否强制验证服务器证书。</p>

</div>
</div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="../mod/index.html">模块</a> | <a href="../mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="../glossary.html">词汇表</a> | <a href="../sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>