<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>配置文件-Apache HTTP Server版本2.4</title>
<link href="./style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="./style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="./style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="./style/css/prettify.css">
<script src="./style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body id="manual-page" ><div id="page-header">
<p class="menu"><a href="./mod/index.html">模块</a> | <a href="./mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="./glossary.html">词汇表</a> | <a href="./sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="./images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="<-" alt="<-" src="./images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> > <a href="http://httpd.apache.org/">HTTP Server</a> > <a href="http://httpd.apache.org/docs/">文档</a> > <a href="./index.html">版本2.4</a></div><div id="page-content"><div id="preamble"><h1>配置文件</h1>


<p>本文档介绍了用于配置Apache HTTP Server的文件。</p>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><ul id="toc"><li><img alt="" src="./images/down.gif"> <a href="#main">主要配置文件</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#syntax">配置文件的语法</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#modules">模组</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#scope">指令范围</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#htaccess">.htaccess文件</a></li>
</ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="main" id="main">主要配置文件</a></h2>
    
    <table class="related"><tbody><tr><th>相关模块</th><th>相关指令</th></tr><tr><td><ul><li><code class="module"><a href="./mod/mod_mime.html">mod_mime</a></code></li></ul></td><td><ul><li><code class="directive"><a href="./mod/core.html#ifdefine"><IfDefine></a></code></li><li><code class="directive"><a href="./mod/core.html#include">Include</a></code></li><li><code class="directive"><a href="./mod/mod_mime.html#typesconfig">TypesConfig</a></code></li></ul></td></tr></tbody></table>

    <p>通过将<a href="mod/directives.html">伪指令</a>放置在纯文本配置文件中来配置Apache HTTP Server。主要配置文件通常称为<code>httpd.conf</code> 。该文件的位置是在编译时设置的，但可能会被<code>-f</code>命令行标志。此外，其他配置文件可以使用<code class="directive"><a href="./mod/core.html#include">Include</a></code>指令，通配符可用于包含许多配置文件。任何指令都可以放置在任何这些配置文件中。对主要配置文件的更改仅在httpd启动或重新启动时由httpd识别。</p>

    <p>服务器还读取一个包含mime文档类型的文件。文件名由<code class="directive"><a href="./mod/mod_mime.html#typesconfig">TypesConfig</a></code>指令，并且是<code>mime.types</code>默认。</p>
  </div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="syntax" id="syntax">配置文件的语法</a></h2>
    

    <p>httpd配置文件每行包含一个指令。反斜杠“ \”可以用作一行中的最后一个字符，以指示指令继续到下一行。反斜杠和行尾之间不得有其他字符或空格。</p>

    <p>指令的参数由空格分隔。如果参数包含空格，则必须将该参数用引号引起来。</p>

    <p>配置文件中的指令不区分大小写，但是指令的参数通常区分大小写。以井号“＃”开头的行被视为注释，并被忽略。注释<strong>不能</strong>与配置指令放在同一行。在指令之前会出现空白，因此为了清楚起见，您可以缩进指令。空行也将被忽略。</p>

    <p>用定义的变量值<code class="directive"><a href="./mod/core.html#define">Define</a></code> of或shell环境变量可以使用以下语法在配置文件行中使用<code>${VAR}</code> 。如果“ VAR”是有效变量的名称，则将该变量的值替换为配置文件行中的该位置，然后继续进行处理，就像直接在配置文件中找到该文本一样。定义的变量<code class="directive"><a href="./mod/core.html#define">Define</a></code>优先于shell环境变量。如果找不到“ VAR”变量，则字符<code>${VAR}</code>保持不变，并记录警告。变量名不能包含冒号“：”字符，以避免与<code class="directive"><a href="./mod/mod_rewrite.html#rewritemap">RewriteMap</a></code>的语法。</p>

    <p>只有在服务器启动之前定义的外壳环境变量才能在扩展中使用。在配置文件本身中定义的环境变量，例如<code class="directive"><a href="./mod/mod_env.html#setenv">SetEnv</a></code> ，生效太晚了，无法用于配置文件中的扩展。</p>

    <p>常规配置文件中的一条线的最大长度（在替换变量并加入任何连续的线之后）约为16 MiB。在<a href="configuring.html#htaccess">.htaccess文件中</a> ，最大长度为8190个字符。</p>

    <p>您可以使用以下命令检查配置文件中是否存在语法错误，而无需启动服务器<code>apachectl configtest</code>或者<code>-t</code>命令行选项。</p>

    <p>您可以使用<code class="module"><a href="./mod/mod_info.html">mod_info</a></code>的<code>-DDUMP_CONFIG</code>转储配置，包括所有包含的文件和环境变量，所有注释和不匹配项<code class="directive"><a href="./mod/core.html#ifdefine"><IfDefine></a></code>和<code class="directive"><a href="./mod/core.html#ifmodule"><IfModule></a></code>部分已删除。但是，输出不会反映重复指令可能发生的合并或覆盖。</p>
  </div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="modules" id="modules">模组</a></h2>
    

    <table class="related"><tbody><tr><th>相关模块</th><th>相关指令</th></tr><tr><td><ul><li><code class="module"><a href="./mod/mod_so.html">mod_so</a></code></li></ul></td><td><ul><li><code class="directive"><a href="./mod/core.html#ifmodule"><IfModule></a></code></li><li><code class="directive"><a href="./mod/mod_so.html#loadmodule">LoadModule</a></code></li></ul></td></tr></tbody></table>

    <p>httpd是模块化服务器。这意味着核心服务器中仅包含最基本的功能。可通过可加载到httpd中的<a href="mod/index.html">模块</a>获得扩展功能。缺省情况下， <a href="mod/module-dict.html#Status">基部</a>模块的集合被包括在编译时的服务器。如果将服务器编译为使用<a href="dso.html">动态加载的</a>模块，则可以分别编译模块，并可以使用<code class="directive"><a href="./mod/mod_so.html#loadmodule">LoadModule</a></code>指示。否则，必须重新编译httpd以添加或删除模块。可以根据特定模块的存在来包含配置指令，方法是将配置指令包含在<code class="directive"><a href="./mod/core.html#ifmodule"><IfModule></a></code>块。然而， <code class="directive"><IfModule></code>块不是必需的，并且在某些情况下可能掩盖了您缺少重要模块的事实。</p>

    <p>要查看当前已将哪些模块编译到服务器中，可以使用<code>-l</code>命令行选项。您还可以使用查看动态加载了哪些模块<code>-M</code>命令行选项。</p>
  </div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="scope" id="scope">指令范围</a></h2>
    

    <table class="related"><tbody><tr><th>相关模块</th><th>相关指令</th></tr><tr><td></td><td><ul><li><code class="directive"><a href="./mod/core.html#directory"><Directory></a></code></li><li><code class="directive"><a href="./mod/core.html#directorymatch"><DirectoryMatch></a></code></li><li><code class="directive"><a href="./mod/core.html#files"><Files></a></code></li><li><code class="directive"><a href="./mod/core.html#filesmatch"><FilesMatch></a></code></li><li><code class="directive"><a href="./mod/core.html#location"><Location></a></code></li><li><code class="directive"><a href="./mod/core.html#locationmatch"><LocationMatch></a></code></li><li><code class="directive"><a href="./mod/core.html#virtualhost"><VirtualHost></a></code></li></ul></td></tr></tbody></table>

    <p>放置在主配置文件中的指令适用于整个服务器。如果您只想更改部分服务器的配置，则可以通过将指令放在<code class="directive"><a href="./mod/core.html#directory"><Directory></a></code> ， <code class="directive"><a href="./mod/core.html#directorymatch"><DirectoryMatch></a></code> ， <code class="directive"><a href="./mod/core.html#files"><Files></a></code> ， <code class="directive"><a href="./mod/core.html#filesmatch"><FilesMatch></a></code> ， <code class="directive"><a href="./mod/core.html#location"><Location></a></code>和<code class="directive"><a href="./mod/core.html#locationmatch"><LocationMatch></a></code>部分。这些部分将它们所包含的指令的应用限制为特定的文件系统位置或URL。它们也可以嵌套，以实现非常精细的配置。</p>

    <p>httpd可以同时服务于许多不同的网站。这称为<a href="vhosts/index.html">虚拟主机</a> 。指令也可以通过将它们放在内部来确定范围<code class="directive"><a href="./mod/core.html#virtualhost"><VirtualHost></a></code>部分，以便它们仅适用于特定网站的请求。</p>

    <p>尽管大多数指令都可以放在这些部分的任何部分中，但是某些指令在某些情况下没有意义。例如，控制进程创建的指令只能放在主服务器上下文中。要查找可以在哪些节中放置哪些指令，请检查指令的<a href="mod/directive-dict.html#Context">上下文</a> 。有关更多信息，我们提供有关<a href="sections.html">目录，位置和文件部分工作方式的</a>详细信息。</p>
  </div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="htaccess" id="htaccess">.htaccess文件</a></h2>
    

    <table class="related"><tbody><tr><th>相关模块</th><th>相关指令</th></tr><tr><td></td><td><ul><li><code class="directive"><a href="./mod/core.html#accessfilename">AccessFileName</a></code></li><li><code class="directive"><a href="./mod/core.html#allowoverride">AllowOverride</a></code></li></ul></td></tr></tbody></table>

    <p>httpd允许通过放置在Web树中的特殊文件来分散管理配置。特殊文件通常称为<code>.htaccess</code> ，但是可以在<code class="directive"><a href="./mod/core.html#accessfilename">AccessFileName</a></code>指示。放置在指令中<code>.htaccess</code>文件适用于放置文件的目录以及所有子目录。的<code>.htaccess</code>文件遵循与主要配置文件相同的语法。以来<code>.htaccess</code>每次请求都会读取文件，对这些文件所做的更改将立即生效。</p>

    <p>查找可以放置哪些指令<code>.htaccess</code>文件，请检查指令的<a href="mod/directive-dict.html#Context">上下文</a> 。服务器管理员进一步控制可以在其中放置哪些指令<code>.htaccess</code>通过配置文件<code class="directive"><a href="./mod/core.html#allowoverride">AllowOverride</a></code>指令在主配置文件中。</p>

    <p>有关更多信息<code>.htaccess</code>文件，请参见<a href="howto/htaccess.html">.htaccess教程</a> 。</p>
  </div></div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="./mod/index.html">模块</a> | <a href="./mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="./glossary.html">词汇表</a> | <a href="./sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>

</body></html>