<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>启动Apache-Apache HTTP Server版本2.4</title>
<link href="./style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="./style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="./style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="./style/css/prettify.css">
<script src="./style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body id="manual-page" ><div id="page-header">
<p class="menu"><a href="./mod/index.html">模块</a> | <a href="./mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="./glossary.html">词汇表</a> | <a href="./sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="./images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="<-" alt="<-" src="./images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> > <a href="http://httpd.apache.org/">HTTP Server</a> > <a href="http://httpd.apache.org/docs/">文档</a> > <a href="./index.html">版本2.4</a></div><div id="page-content"><div id="preamble"><h1>启动Apache</h1>


    <p>在Windows上，Apache通常作为服务运行。有关详细信息，请参阅<a href="platform/windows.html#winsvc">“将Apache作为服务运行”</a> 。
    </p>

    <p>在Unix上， <code class="program"><a href="./programs/httpd.html">httpd</a></code>程序作为守护程序运行，该守护程序在后台连续执行以处理请求。本文档介绍了如何调用<code class="program"><a href="./programs/httpd.html">httpd</a></code> 。</p>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><ul id="toc"><li><img alt="" src="./images/down.gif"> <a href="#startup">Apache的启动方式</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#errors">启动过程中的错误</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#boot">在启动时开始</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#info">附加信息</a></li>
</ul><h3>也可以看看</h3><ul class="seealso"><li><a href="stopping.html">停止并重新启动</a></li><li><code class="program"><a href="./programs/httpd.html">httpd</a></code></li><li><code class="program"><a href="./programs/apachectl.html">apachectl</a></code></li></ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="startup" id="startup">Apache的启动方式</a></h2>

    <p>如果<code class="directive"><a href="./mod/mpm_common.html#listen">Listen</a></code>配置文件中指定的默认值是80（或低于1024的任何其他端口），则必须具有root特权才能启动apache，以便它可以绑定到该特权端口。服务器启动并执行了一些初步的活动（如打开其日志文件）后，它将启动几个<em>子</em>进程，这些<em>子</em>进程负责侦听和答复客户端的请求。主要的<code>httpd</code>进程继续以root用户身份运行，但是子进程以特权较低的用户身份运行。这由所选的<a href="mpm.html">多处理模块控制</a> 。</p>

    <p>推荐的调用方法<code class="program"><a href="./programs/httpd.html">httpd</a></code>可执行文件是使用<code class="program"><a href="./programs/apachectl.html">apachectl</a></code>控制脚本。该脚本设置某些环境变量，这些变量对于<code class="program"><a href="./programs/httpd.html">httpd</a></code>在某些操作系统下正常运行，然后调用<code class="program"><a href="./programs/httpd.html">httpd</a></code>二进制
    <code class="program"><a href="./programs/apachectl.html">apachectl</a></code>将通过任何命令行参数，所以任何<code class="program"><a href="./programs/httpd.html">httpd</a></code>选项也可以与<code class="program"><a href="./programs/apachectl.html">apachectl</a></code> 。您也可以直接编辑<code class="program"><a href="./programs/apachectl.html">apachectl</a></code>通过更改脚本<code>HTTPD</code>顶部附近的变量以指定正确的位置<code class="program"><a href="./programs/httpd.html">httpd</a></code>二进制和希望<em>始终</em>存在的任何命令行参数。</p>

    <p>第一件事<code class="program"><a href="./programs/httpd.html">httpd</a></code>调用它时要做的是查找并读取<a href="configuring.html">配置文件</a> <code>httpd.conf</code> 。该文件的位置在编译时设置，但是可以在运行时使用<code>-f</code>命令行选项如</p>

<div class="example"><p><code>/usr/local/apache2/bin/apachectl -f /usr/local/apache2/conf/httpd.conf</code></p></div>

    <p>如果在启动过程中一切正常，则服务器将与终端分离，并且命令提示符将立即返回。这表明服务器已启动并正在运行。然后，您可以使用浏览器连接到服务器，并在<code class="directive"><a href="./mod/core.html#documentroot">DocumentRoot</a></code>目录。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="errors" id="errors">启动过程中的错误</a></h2>

    <p>如果Apache在启动过程中遇到致命问题，它将向控制台或控制台发送一条描述问题的消息。 <code class="directive"><a href="./mod/core.html#errorlog">ErrorLog</a></code>在退出之前。最常见的错误消息之一是“ <code>Unable to bind to Port ...</code> ”。此消息通常是由以下任一原因引起的：</p>

    <ul>
      <li>不以root用户身份登录时尝试在特权端口上启动服务器；要么</li>

      <li>当已有另一个Apache实例或某些其他Web服务器已绑定到同一端口时，尝试启动服务器。</li>
    </ul>

    <p>有关进一步的故障排除说明，请查阅Apache <a href="http://wiki.apache.org/httpd/FAQ">FAQ</a> 。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="boot" id="boot">在启动时开始</a></h2>

    <p>如果希望服务器在系统重新引导后继续运行，则应添加一个呼叫<code class="program"><a href="./programs/apachectl.html">apachectl</a></code>到系统启动文件（通常是<code>rc.local</code>或<code>rc.N</code>目录）。这将以root身份启动Apache。在执行此操作之前，请确保已正确配置服务器的安全性和访问限制。</p>

    <p>的<code class="program"><a href="./programs/apachectl.html">apachectl</a></code>脚本旨在像标准SysV初始化脚本一样工作；它可以接受参数<code>start</code> ， <code>restart</code>和<code>stop</code>并将其转换为适当的信号<code class="program"><a href="./programs/httpd.html">httpd</a></code> 。因此，您通常可以简单地链接<code class="program"><a href="./programs/apachectl.html">apachectl</a></code>放入适当的init目录。但是请务必检查系统的确切要求。</p>
</div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="info" id="info">附加信息</a></h2>

    <p>有关的命令行选项的其他信息<code class="program"><a href="./programs/httpd.html">httpd</a></code>和<code class="program"><a href="./programs/apachectl.html">apachectl</a></code>服务器随附的其他支持程序以及服务器随附的其他支持程序可在“ <a href="programs/index.html">服务器和支持程序”</a>页面上找到。还提供了有关Apache发行版随附的所有<a href="mod/index.html">模块</a>及其提供的<a href="mod/directives.html">指令的</a>文档。</p>
</div></div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="./mod/index.html">模块</a> | <a href="./mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="./glossary.html">词汇表</a> | <a href="./sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>

</body></html>