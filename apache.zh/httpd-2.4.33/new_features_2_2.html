<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<title>Apache HTTP Server 2.2中的新功能概述-Apache HTTP Server版本2.4</title>
<link href="./style/css/manual-zip.css" rel="stylesheet" type="text/css" title="Main stylesheet" media="all">
<link href="./style/css/manual-zip-100pc.css" rel="alternate stylesheet" type="text/css" title="No Sidebar - Default font size" media="all">
<link href="./style/css/manual-print.css" rel="stylesheet" type="text/css" media="print"><link rel="stylesheet" type="text/css" href="./style/css/prettify.css">
<script src="./style/scripts/prettify.min.js" type="text/javascript">
</script>
</head>
<body id="manual-page" ><div id="page-header">
<p class="menu"><a href="./mod/index.html">模块</a> | <a href="./mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="./glossary.html">词汇表</a> | <a href="./sitemap.html">网站地图</a></p>
<p class="apache">Apache HTTP服务器版本2.4</p>
<img alt="" src="./images/feather.png"></div>
<div class="up"><a href="./index.html"><img title="<-" alt="<-" src="./images/left.gif"></a></div>
<div id="path">
<a href="http://www.apache.org/">Apache</a> > <a href="http://httpd.apache.org/">HTTP Server</a> > <a href="http://httpd.apache.org/docs/">文档</a> > <a href="./index.html">版本2.4</a></div><div id="page-content"><div id="preamble"><h1>Apache HTTP Server 2.2中的新功能概述</h1>


  <p>本文档描述了Apache HTTP Server 2.0和2.2版本之间的一些主要更改。有关自1.3版以来的新功能，请参阅<a href="new_features_2_0.html">2.0新功能</a>文档。</p>
</div>
<div id="quickview"><a href="https://www.apache.org/foundation/contributing.html" class="badge"><img src="https://www.apache.org/images/SupportApache-small.png" alt="支持Apache！"></a><ul id="toc"><li><img alt="" src="./images/down.gif"> <a href="#core">核心增强</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#module">模块增强</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#programs">程序增强</a></li>
<li><img alt="" src="./images/down.gif"> <a href="#developer">模块开发人员变更</a></li>
</ul></div>
<div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="core" id="core">核心增强</a></h2>
    
    <dl>

      <dt>验证/验证</dt>
      <dd>捆绑的身份验证和授权模块已重构。新的mod_authn_alias（已从2.3 / 2.4中删除）模块可以大大简化某些身份验证配置。请参阅<a href="#module">模块名称更改</a> ，以及<a href="#developer">开发人员更改</a>以获取有关这些更改如何影响用户和模块编写者的更多信息。</dd>

      <dt>快取</dt>
      <dd><code class="module"><a href="./mod/mod_cache.html">mod_cache</a></code> ， <code class="module"><a href="./mod/mod_cache_disk.html">mod_cache_disk</a></code>以及mod_mem_cache（已从2.3 / 2.4中删除）和进行了很多更改，现在被认为是生产质量的。<code class="program"><a href="./programs/htcacheclean.html">htcacheclean</a></code>已经介绍了清理<code class="module"><a href="./mod/mod_cache_disk.html">mod_cache_disk</a></code>设置。</dd>

      <dt>组态</dt>
      <dd>默认配置布局已简化和模块化。现在可以将可用于启用常用功能的配置片段与Apache捆绑在一起，并且可以轻松地将其添加到主服务器配置中。</dd>

      <dt>优雅的停止</dt>
      <dd>的<code class="module"><a href="./mod/prefork.html">prefork</a></code> ， <code class="module"><a href="./mod/worker.html">worker</a></code>和<code class="module"><a href="./mod/event.html">event</a></code> MPM现在允许<code class="program"><a href="./programs/httpd.html">httpd</a></code>通过以下方式正常关闭<a href="stopping.html#gracefulstop"><code>graceful-stop</code></a>信号。的<code class="directive"><a href="./mod/mpm_common.html#gracefulshutdowntimeout">GracefulShutdownTimeout</a></code>指令已添加以指定可选的超时，之后<code class="program"><a href="./programs/httpd.html">httpd</a></code>会终止，无论正在处理的任何请求的状态如何。</dd>

      <dt>代理</dt>
      <dd>新的<code class="module"><a href="./mod/mod_proxy_balancer.html">mod_proxy_balancer</a></code>该模块为<code class="module"><a href="./mod/mod_proxy.html">mod_proxy</a></code> 。新的<code class="module"><a href="./mod/mod_proxy_ajp.html">mod_proxy_ajp</a></code>模块增加了对<code>Apache JServ Protocol version 1.3</code>由<a href="http://tomcat.apache.org/">Apache Tomcat使用</a> 。</dd>

      <dt>正则表达式库已更新</dt>
      <dd>现在包括<a href="http://www.pcre.org/">Perl兼容正则表达式库</a> （PCRE）的5.0版。 <code class="program"><a href="./programs/httpd.html">httpd</a></code>可以通过以下方式配置为使用PCRE的系统安装： <code>--with-pcre</code>标志进行配置。</dd>

      <dt>智能过滤</dt>
      <dd><code class="module"><a href="./mod/mod_filter.html">mod_filter</a></code>将动态配置引入输出滤波器链。它使过滤器能够基于任何Request或Response标头或环境变量被有条件地插入，并且免除了2.0体系结构中更棘手的依赖性和排序问题。</dd>

      <dt>大文件支持</dt>
      <dd><code class="program"><a href="./programs/httpd.html">httpd</a></code>现在在现代32位Unix系统上构建了对大于2GB的文件的支持。还增加了对处理大于2GB请求正文的支持。</dd>

      <dt>活动MPM</dt>
      <dd>的<code class="module"><a href="./mod/event.html">event</a></code> MPM使用一个单独的线程来处理Keep Alive请求和接受连接。传统上，“保持活动”请求需要httpd专门负责处理此请求。在达到“保持活动”超时之前，无法再次使用此专用工作程序。</dd>

      <dt>SQL数据库支持</dt>
      <dd><code class="module"><a href="./mod/mod_dbd.html">mod_dbd</a></code> ，以及<code>apr_dbd</code>框架，为需要的模块提供直接的SQL支持。支持线程MPM中的连接池。</dd>

    </dl>
  </div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="module" id="module">模块增强</a></h2>
    
    <dl>
      <dt>验证/验证</dt>
      <dd>aaa目录中的模块已重命名，并为摘要身份验证提供了更好的支持。例如， <code>mod_auth</code>现在分为<code class="module"><a href="./mod/mod_auth_basic.html">mod_auth_basic</a></code>和<code class="module"><a href="./mod/mod_authn_file.html">mod_authn_file</a></code> ; <code>mod_auth_dbm</code>现在被称为<code class="module"><a href="./mod/mod_authn_dbm.html">mod_authn_dbm</a></code> ; <code>mod_access</code>已重命名<code class="module"><a href="./mod/mod_authz_host.html">mod_authz_host</a></code> 。还有一个新的mod_authn_alias（已从2.3 / 2.4中删除）模块，用于简化某些身份验证配置。
      </dd>

      <dt><code class="module"><a href="./mod/mod_authnz_ldap.html">mod_authnz_ldap</a></code></dt>
      <dd>该模块是2.0的端口<code>mod_auth_ldap</code> 2.2的模块<code>Authn/Authz</code>框架。新功能包括在LDAP中使用LDAP属性值和复杂的搜索过滤器<code class="directive"><a href="./mod/mod_authz_core.html#require">Require</a></code>指示。</dd>

      <dt><code class="module"><a href="./mod/mod_authz_owner.html">mod_authz_owner</a></code></dt>
      <dd>一个新模块，该模块根据文件系统上文件的所有者授权对文件的访问</dd>

      <dt><code class="module"><a href="./mod/mod_version.html">mod_version</a></code></dt>
      <dd>一个新模块，允许根据正在运行的服务器的版本号启用配置块。</dd>

      <dt><code class="module"><a href="./mod/mod_info.html">mod_info</a></code></dt>
      <dd>新增了<code>?config</code>参数，它将显示Apache解析的配置指令，包括其文件名和行号。该模块还显示所有请求挂钩的顺序和其他构建信息，类似于<code>httpd -V</code> 。</dd>

      <dt><code class="module"><a href="./mod/mod_ssl.html">mod_ssl</a></code></dt>
      
      <dd>添加了对<a href="http://www.ietf.org/rfc/rfc2817.txt">RFC 2817</a>的支持，该支持允许连接从明文升级到TLS加密。</dd>

      <dt><code class="module"><a href="./mod/mod_imagemap.html">mod_imagemap</a></code></dt>
      <dd><code>mod_imap</code>已重命名为<code class="module"><a href="./mod/mod_imagemap.html">mod_imagemap</a></code>以避免用户混淆。</dd>
    </dl>

  </div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="programs" id="programs">程序增强</a></h2>
    
    <dl>
      <dt><code class="program"><a href="./programs/httpd.html">httpd</a></code></dt>
      <dd>新的命令行选项<code>-M</code>已添加列表，列出了基于当前配置加载的所有模块。不像<code>-l</code>选项，此列表包括通过以下方式加载的DSO <code class="module"><a href="./mod/mod_so.html">mod_so</a></code> 。</dd>

      <dt><code class="program"><a href="./programs/httxt2dbm.html">httxt2dbm</a></code></dt>
      <dd>一个新程序，用于从文本输入生成dbm文件，用于<code class="directive"><a href="./mod/mod_rewrite.html#rewritemap">RewriteMap</a></code>与<code>dbm</code>地图类型。</dd>
    </dl>
  </div><div class="top"><a href="#page-header"><img alt="最佳" src="./images/up.gif"></a></div>
<div class="section">
<h2><a name="developer" id="developer">模块开发人员变更</a></h2>
    
    <dl>
      <dt><a class="glossarylink" href="./glossary.html#apr" title="见词汇">APR</a> 1.0 API</dt>

      <dd>Apache 2.2使用APR 1.0 API。所有不推荐使用的功能和符号已从中删除<code>APR</code>和<code>APR-Util</code> 。有关详细信息，请参见<a href="http://apr.apache.org/">APR网站</a> 。</dd>

      <dt>验证/验证</dt>
      <dd>捆绑的身份验证和授权模块已按照以下几行进行了重命名：<ul>
          <li><code>mod_auth_*</code> ->实现HTTP身份验证机制的模块</li>
          <li><code>mod_authn_*</code> ->提供后端身份验证提供程序的模块</li>
          <li><code>mod_authz_*</code> ->实现授权（或访问）的模块</li>
          <li><code>mod_authnz_*</code> ->实现身份验证和授权的模块</li>
          </ul>有一个新的身份验证后端提供程序方案，可以大大简化新身份验证后端的构建。</dd>

      <dt>连接错误记录</dt>

      <dd>新功能<code>ap_log_cerror</code>已添加以记录客户端连接发生的错误。记录后，该消息包括客户端IP地址。</dd>

      <dt>测试配置挂钩已添加</dt>

      <dd>一个新的钩子<code>test_config</code>已添加到仅在用户通过时才执行特殊代码的辅助模块<code>-t</code>至<code class="program"><a href="./programs/httpd.html">httpd</a></code> 。</dd>

      <dt>设置线程MPM的堆栈大小</dt>

      <dd>一个新的指令， <code class="directive"><a href="./mod/mpm_common.html#threadstacksize">ThreadStackSize</a></code>已添加以设置所有线程MPM的堆栈大小。对于默认线程堆栈较小的平台上的某些第三方模块，这是必需的。</dd>

      <dt>输出过滤器的协议处理</dt>

      <dd>过去，每个过滤器负责确保在影响它们的地方生成正确的响应头。过滤器现在可以将通用协议管理委托给<code class="module"><a href="./mod/mod_filter.html">mod_filter</a></code> ， 使用<code>ap_register_output_filter_protocol</code>要么<code>ap_filter_protocol</code>电话。</dd>

      <dt>监视器挂钩已添加</dt>
      <dd>监视器挂钩使模块能够在父（根）进程中运行常规/计划的作业。</dd>

      <dt>正则表达式API的更改</dt>

      <dd>的<code>pcreposix.h</code>标头不再可用；它被新的<code>ap_regex.h</code>标头。POSIX.2 <code>regex.h</code>旧标头公开的实现现在可以在<code>ap_</code>来自的命名空间<code>ap_regex.h</code> 。致电<code>regcomp</code> ， <code>regexec</code>依此类推，可以通过调用<code>ap_regcomp</code> ， <code>ap_regexec</code> 。</dd>

      <dt>DBD框架（SQL数据库API）</dt>

      <dd><p>使用Apache 1.x和2.0，需要SQL后端的模块必须自行管理。除了重新设计轮子之外，这可能非常无效，例如，当几个模块各自维护自己的连接时。</p>

      <p>Apache 2.1及更高版本提供了<code>ap_dbd</code>用于管理数据库连接的API（包括针对线程和非线程MPM的优化策略），而APR 1.2及更高版本提供了<code>apr_dbd</code>与数据库交互的API。</p>

      <p>现在，新模块应该将这些API用于所有SQL数据库操作。应该升级现有的应用程序以在可行的情况下使用它，以透明方式或作为对其用户的推荐选项。</p></dd>
    </dl>
  </div></div>
<div id="footer">
<p class="apache">版权所有2018 The Apache Software Foundation。<br>根据<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache许可，版本2.0许可</a> 。</p>
<p class="menu"><a href="./mod/index.html">模块</a> | <a href="./mod/directives.html">指令</a> | <a href="http://wiki.apache.org/httpd/FAQ">常见问题</a> | <a href="./glossary.html">词汇表</a> | <a href="./sitemap.html">网站地图</a></p></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>

</body></html>