<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Using signed jar files">
<meta name="abstract" content="In a Java SE environment, Derby can detect digital signatures on jar files. When attempting to load a class from a signed jar file stored in the database, Derby will verify the validity of the signature.">
<meta name="description" content="In a Java SE environment, Derby can detect digital signatures on jar files. When attempting to load a class from a signed jar file stored in the database, Derby will verify the validity of the signature.">
<meta name="DC.subject" content="jar files, loading signed, signed jar files">
<meta name="keywords" content="jar files, loading signed, signed jar files">
<meta name="DC.Relation" scheme="URI" content="cseccsecuree.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure12392.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure24366.html">
<meta name="DC.Relation" scheme="URI" content="csecssl.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecureidentity.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure42374.html">
<meta name="DC.Relation" scheme="URI" content="csecauthorization.html">
<meta name="DC.Relation" scheme="URI" content="csecjavasecurity.html">
<meta name="DC.Relation" scheme="URI" content="csecnetservfileperms.html">
<meta name="DC.Relation" scheme="URI" content="csecputtogether.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cseccsecure90988">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>使用签名的jar文件</title>
</head>
<body id="cseccsecure90988" ><a name="cseccsecure90988"><!-- --></a>


<h1 class="topictitle1">使用签名的jar文件</h1>



<div><p>在Java SE环境中， <span>Derby</span>可以检测jar文件上的数字签名。尝试从存储在数据库中的已签名jar文件中加载类时， <span>Derby</span>将验证签名的有效性。</p>

<div class="note"><span class="notetitle">注意：</span> <span>Derby</span>类装入器仅验证签名的jar文件的完整性，并验证证书尚未过期。
<span>德比</span>无法确定已声明签名者的有效性或身份是否正确。要验证身份，请使用安全管理器（即<samp class="codeph">java.lang.SecurityManager</samp> ）。有关详细信息，请参阅<a href="csecjavasecurity.html">配置Java安全性</a> 。</div>

<p>在Java SE环境中从应用程序jar文件加载类时，如果对该类进行了签名，则<span>Derby的</span>行为如下：</p>

<ul>
<li>验证jar文件是否已使用X.509证书签名（也就是说，它可以由类表示） <samp class="codeph">java.security.cert.X509Certificate</samp> ）。如果不是，则抛出异常。</li>

<li>验证数字签名与文件内容匹配。如果不是，则抛出异常。</li>

<li>检查签名证书集对于当前日期和时间均有效。如果任何证书已过期或尚未生效，则引发异常。</li>

<li>将证书数组传递给<samp class="codeph">setSigners()</samp>的方法<samp class="codeph">java.lang.ClassLoader</samp> 。这使安全管理员可以获取类的签名者列表（使用<samp class="codeph">java.lang.Class.getSigners</samp> ），然后使用公共密钥基础结构（PKI）的服务来验证签名者的身份。</li>

</ul>

<p>有关签名的jar文件的更多信息，请参见<a href="http://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html" target="_blank">http://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html</a> 。</p>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cseccsecuree.html" title="手册的此部分描述了保护Derby数据库所涉及的特定任务。">第二部分：为Derby配置安全性</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cseccsecure12392.html" title="在大多数情况下，您可以通过使用属性来启用Derby安全功能。了解为您的环境设置属性的最佳方法很重要。">基本安全配置任务</a></div>
<div><a href="cseccsecure24366.html" title="Derby为您提供了一种加密磁盘上数据的方法。">配置数据库加密</a></div>
<div><a href="csecssl.html" title="默认情况下，网络流量以明文形式在Derby客户端和服务器之间传输。">配置SSL / TLS</a></div>
<div><a href="cseccsecureidentity.html" title="Derby提供两种身份，系统范围的身份和特定于数据库的身份。">了解Derby中的身份</a></div>
<div><a href="cseccsecure42374.html" title="默认情况下，Derby在运行时不进行任何凭据检查。对于许多收缩包装的嵌入式应用程序，这种情况可能很好。但是，这意味着任何人都可以连接到不安全的数据库并窃取或破坏那里的数据。幸运的是，通过身份验证很容易阻止这些攻击。">配置用户身份验证</a></div>
<div><a href="csecauthorization.html" title="在身份验证确定某人是否为合法数据库用户的同时，授权确定可以通过用户身份执行的操作。">配置用户授权</a></div>
<div><a href="csecjavasecurity.html" title="Java安全管理器使您可以减少应用程序可能造成的损害。">配置Java安全性</a></div>
<div><a href="csecnetservfileperms.html" title="其他文件保护在某些文件系统上可用，包括Windows NTFS，Unix和Linux。您可以配置Derby以利用这些额外的文件保护。">限制文件权限</a></div>
<div><a href="csecputtogether.html" title="本节说明如何启用所有可用的Derby防御。">放在一起</a></div>
</div>
</div>



</body></html>