<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Guest access to search for DNs">
<meta name="abstract" content="In an LDAP system, users are hierarchically organized in the directory as a set of entries. An entry is a set of name-attribute pairs identified by a unique name, called a DN (distinguished name).">
<meta name="description" content="In an LDAP system, users are hierarchically organized in the directory as a set of entries. An entry is a set of name-attribute pairs identified by a unique name, called a DN (distinguished name).">
<meta name="DC.Relation" scheme="URI" content="cseccsecure41285.html">
<meta name="DC.Relation" scheme="URI" content="csecldapbooting.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure863446.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure863546.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure863676.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure864242.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cseccsecure876908">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>来宾访问以搜索DN</title>
</head>
<body id="cseccsecure876908" ><a name="cseccsecure876908"><!-- --></a>


<h1 class="topictitle1">来宾访问以搜索DN</h1>



<div><p>在LDAP系统中，用户在目录中按层次结构组织为一组条目。<em>条目</em>是由唯一名称（称为DN（专有名称））标识的一组名称-属性对。</p>

<p>条目由DN明确标识，该名称是从树中每个条目沿从根到命名条目的路径（从右到左排序）从树中每个条目中选择的属性的串联。例如，用户的DN可能如下所示：</p>

<pre>cn=mary,ou=People,o=example.com

uid=mary,ou=People,o=example.com</pre>

<p>名称的允许条目由条目的<samp class="codeph">objectClass</samp> 。</p>

<p>如果LDAP客户端提供用户ID和密码，则它可以绑定到目录（成功登录）。用户ID必须是DN，即名称和属性的标准列表。这意味着用户必须提供一个非常长的名称。</p>

<p>通常，用户只知道一个简单的用户名（例如，上面DN的第一部分， <samp class="codeph">mary</samp> ）。使用<span>Derby时</span> ，您不需要完整的DN，因为LDAP客户端（ <span>Derby</span> ）可以首先以访客或什至是匿名用户的身份进入目录，搜索完整的DN，然后使用完整的DN重新绑定到目录（以及从而验证用户身份）。</p>

<p>在使用完整DN绑定到目录之前， <span>Derby</span>通常会启动对完整DN的搜索，以进行用户认证。在以下情况下， <span>Derby</span>不会启动搜索：</p>

<ul>
<li>你已经设定<samp class="codeph">derby.authentication.ldap.searchFilter</samp>至<samp class="codeph">derby.user</samp> 。</li>

<li>用户DN已针对特定用户在本地缓存，其中<samp class="codeph">derby.user.UserName</samp>属性。</li>

</ul>

<p>有关更多信息，请参见“ <samp class="codeph">derby.authentication.ldap.searchFilter</samp> “在” <span><em>Derby参考手册“中</em></span> 。</p>

<p>一些系统允许匿名搜索。其他则需要用户DN和密码。您可以使用下面列出的属性为搜索指定用户的DN和密码。另外，可以通过使用以下属性指定过滤器（为用户定义对象类）和基础（开始搜索的目录）来限制搜索范围。</p>

<ul>
<li><samp class="codeph">derby.authentication.ldap.searchAuthDN (optional)</samp>
<p>指定搜索用户DN时用于绑定（认证）到服务器的DN。如果服务器支持匿名访问，则此参数是可选的。如果指定，则此值必须是目录服务可识别的DN，并且还必须具有搜索条目的权限。</p>

<p>如果未设置，则默认为使用由<samp class="codeph">derby.authentication.ldap.searchBase</samp>属性。例如：</p>

<pre>uid=guest,o=example.com</pre>
</li>

<li><samp class="codeph">derby.authentication.ldap.searchAuthPW</samp> （可选的）<p>指定用于上面配置的来宾用户在查找DN时绑定到目录服务的密码。如果未设置，则默认为使用由<samp class="codeph">derby.authentication.ldap.searchBase</samp>属性。</p>

<pre>myPassword</pre>
</li>

<li><samp class="codeph">derby.authentication.ldap.searchBase</samp> （可选的）<p>指定层次结构中从其开始访客搜索用户DN的点的根DN。例如：</p>

<pre>ou=people,o=example.com</pre>
</li>

</ul>

<p>要缩小搜索范围，您可以指定用户的<samp class="codeph">objectClass</samp> 。</p>

<ul>
<li><samp class="codeph">derby.authentication.ldap.searchFilter</samp> （可选的）<p>组<samp class="codeph">derby.authentication.ldap.searchFilter</samp>逻辑表达式，该逻辑表达式指定什么构成LDAP目录服务的用户。此属性的默认值为<samp class="codeph">objectClass=inetOrgPerson</samp> 。例如：</p>

<pre>objectClass=person</pre>
</li>

</ul>

<p>有关所有这些属性的详细信息，请参见《 <span><em>Derby参考手册</em></span> 》。</p>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cseccsecure41285.html" title="您可以允许Derby针对企业中现有的LDAP目录服务对用户进行身份验证。LDAP（轻型目录访问协议）提供了在TCP / IP上运行的开放目录访问协议。 LDAP目录服务可以快速验证用户名和密码。">配置LDAP认证</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="csecldapbooting.html" title="首先，启动OpenDS QuickSetup JNLP（Java Web Start）安装程序，然后按照安装步骤设置目录服务器。">引导LDAP服务器</a></div>
<div><a href="cseccsecure863446.html" title="将LDAP指定为身份验证服务时，必须指定要使用的LDAP服务器。">设置Derby以使用您的LDAP目录服务</a></div>
<div><a href="cseccsecure863546.html" title="出于性能原因，LDAP目录服务器应与Derby位于同一LAN中。Derby不会在本地缓存用户的凭据信息，因此每次用户连接时都必须连接到目录服务器。">LDAP性能问题</a></div>
<div><a href="cseccsecure863676.html" title="Derby不支持LDAP组。">LDAP限制</a></div>
<div><a href="cseccsecure864242.html" title="Derby允许您设置一些高级JNDI属性，可以使用任何受支持的设置Derby属性的方式进行设置。通常，将这些设置为与配置外部身份验证服务相同的级别（数据库或系统）。">外部目录服务的特定于JNDI的属性</a></div>
</div>
</div>



</body></html>