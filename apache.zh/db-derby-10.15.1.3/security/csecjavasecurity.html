<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Configuring Java security">
<meta name="abstract" content="The Java security manager lets you reduce the damage that your application can do.">
<meta name="description" content="The Java security manager lets you reduce the damage that your application can do.">
<meta name="DC.Relation" scheme="URI" content="cseccsecuree.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure12392.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure24366.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure90988.html">
<meta name="DC.Relation" scheme="URI" content="csecssl.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecureidentity.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure42374.html">
<meta name="DC.Relation" scheme="URI" content="csecauthorization.html">
<meta name="DC.Relation" scheme="URI" content="csecnetservfileperms.html">
<meta name="DC.Relation" scheme="URI" content="csecputtogether.html">
<meta name="DC.Relation" scheme="URI" content="rsecbasicengine.html">
<meta name="DC.Relation" scheme="URI" content="rsecbasicserver.html">
<meta name="DC.Relation" scheme="URI" content="rsecbasicclient.html">
<meta name="DC.Relation" scheme="URI" content="rsecbasictools.html">
<meta name="DC.Relation" scheme="URI" content="rsecpolicysample.html">
<meta name="DC.Relation" scheme="URI" content="csecrunpolicy.html">
<meta name="DC.Relation" scheme="URI" content="tsecnetservrun.html">
<meta name="DC.Relation" scheme="URI" content="tsecnetservopen.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="csecjavasecurity">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>配置Java安全性</title>
</head>
<body id="csecjavasecurity" ><a name="csecjavasecurity"><!-- --></a>


<h1 class="topictitle1">配置Java安全性</h1>



<div><p>Java安全管理器使您可以减少应用程序可能造成的损害。</p>

<p>使用安全管理器，系统管理员可以限制应用程序与在同一虚拟机（VM）或同一计算机上其他位置运行的其他应用程序的协作方式。在安全管理器下运行<span>Derby时</span> ，可以限制以下各项：</p>

<ul>
<li><strong>备份</strong> ：您可以控制<span>Derby</span>引擎在何处写入和读取数据库备份文件。</li>

<li><strong>导入和导出</strong> ：您可以控制引擎从何处导入数据以及将数据导出到何处。</li>

<li><strong>Jar文件</strong> ：您控制引擎从何处获取客户编码的函数，过程，类型和集合的jar文件。</li>

<li><strong>套接字</strong> ：您可以控制哪些计算机可以连接到服务器以及服务器可以连接到哪些计算机。</li>

</ul>

<p>要利用这些强大的控件，请首先自定义此处记录的模板安全策略之一。您可以在<span>Derby</span>发行版的<samp class="codeph">demo/templates</samp>目录。选择与您正在运行的<span>Derby</span>配置相对应的策略：</p>


<ul>
<li>如果要在应用程序中嵌入<span>Derby</span>引擎，即，如果运行的是最小的Derby核心配置，请自定义<a href="rsecbasicengine.html">基本引擎安全策略模板</a> 。</li>

<li>如果您正在运行<span>Derby</span>网络服务器，请自定义<a href="rsecbasicserver.html">基本服务器安全策略模板</a> 。</li>

<li>如果您的应用程序在远程计算机上运行并通过网络访问<span>Derby</span>数据库，请自定义<a href="rsecbasicclient.html">基本客户端安全策略模板</a> 。</li>

<li>如果需要在与数据库相同的计算机上本地运行<span>Derby</span>工具，请自定义<a href="rsecbasictools.html">基本工具安全策略模板</a> 。</li>

</ul>


<p>要自定义这些文件，请进行以下编辑：</p>

<ul>
<li><strong>网址</strong> ：替换<samp class="codeph">${derby.install.url}</samp> URL指向包含<span>Derby</span> jar文件的目录的URL变量。例如：<pre>file:///Users/me/javadb/lib/</pre>或者，您可以设置<samp class="codeph">${derby.install.url}</samp>引导JVM时的系统属性（通过-D标志）。</li>

<li><strong>系统主目录</strong> ：查找字符串的实例<samp class="codeph">${derby.system.home}</samp> 。将其替换为包含您的目录的名称<samp class="codeph">derby.properties</samp>文件。同样，您也可以在引导JVM时设置此系统属性。</li>

<li><strong>跟踪</strong> ：授予<span>Derby</span>权力来管理将保存服务器跟踪信息的目录树。寻找<samp class="codeph">${derby.drda.traceDirectory}</samp>变量并将其替换为服务器应在其中写入其诊断跟踪的目录。有关<span>Derby</span>跟踪的更多信息，请参阅《 <span><em>Derby服务器和管理指南</em></span> 》中的“使用跟踪工具控制跟踪<span><em>”</em></span> 。同样，您也可以在引导JVM时设置此系统属性。</li>

<li><strong>备份/导入/ jar</strong> ：查找与备份/还原，导入/导出和jar文件加载相关的注释掉的权限。如果需要，请取消注释这些权限，用本地文件系统中的安全位置替换目录引用，最好是数据库所有者或启动JVM的用户拥有的位置。</li>

<li><strong>Sysinfo</strong> ：自定义模板工具策略时，应替换<samp class="codeph"><<ALL FILES>></samp>包含保存在模块路径或类路径中显示的jar文件的目录。</li>

<li><strong>套接字</strong> ：模板策略文件接受来自所有主机的连接请求。您可能想限制模板文件的<samp class="codeph">java.net.SocketPermission</samp>到特定子域的连接。有关详细信息，请参见API文档。 <samp class="codeph">java.net.SocketPermission</samp> 。此外，如果您使用LDAP身份验证，则必须授予<samp class="codeph">derby.jar</samp>连接到LDAP服务器的特权。</li>

</ul>

<p>本手册未深入介绍Java安全管理器。有关更多信息，请参见<a href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/" target="_blank">http://docs.oracle.com/javase/8/docs/technotes/guides/security/</a> 。特别是，您可能需要阅读“安全性体系结构”论文（ <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/spec/security-spec.doc.html" target="_blank">http://docs.oracle.com/javase/8/docs/technotes/guides/security/spec/security-spec.doc.html</a> ）和“默认策略实现”和策略文件语法信息（ <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/PolicyFiles.html" target="_blank">http://docs.oracle.com/javase/8/docs/technotes/guides/security/PolicyFiles.html</a> ）。</p>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rsecbasicengine.html">基本引擎安全策略模板</a></strong><br>如果您的应用程序嵌入了Derby引擎，并在单个JVM进程中运行Derby和应用程序代码，请自定义此策略。</li>
<li class="ulchildlink"><strong><a href="rsecbasicserver.html">基本服务器安全策略模板</a></strong><br>如果运行独立或嵌入式应用程序中的Derby服务器，请自定义此策略。</li>
<li class="ulchildlink"><strong><a href="rsecbasicclient.html">基本客户端安全策略模板</a></strong><br>如果运行客户端应用程序（通过网络连接到Derby服务器），请自定义此策略。</li>
<li class="ulchildlink"><strong><a href="rsecbasictools.html">基本工具安全策略模板</a></strong><br>如果您针对嵌入式Derby引擎运行Derby工具，请自定义此策略。</li>
<li class="ulchildlink"><strong><a href="rsecpolicysample.html">样本定制的Java安全策略文件</a></strong><br>这是一个定制的Java安全策略文件示例。</li>
<li class="ulchildlink"><strong><a href="csecrunpolicy.html">使用Java安全策略文件</a></strong><br>您可以使用安全管理器和自定义的策略文件来启动网络服务器。</li>
<li class="ulchildlink"><strong><a href="tsecnetservrun.html">使用安全管理器运行网络服务器</a></strong><br>如果在不指定安全管理器的情况下启动网络服务器，则网络服务器将安装一个实施基本策略的默认Java安全管理器。</li>
<li class="ulchildlink"><strong><a href="tsecnetservopen.html">在没有安全管理器的情况下运行网络服务器</a></strong><br>如果出于某种原因需要在Java安全保护之外运行应用程序，则可以覆盖网络服务器的安全管理器的默认安装。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cseccsecuree.html" title="手册的此部分描述了保护Derby数据库所涉及的特定任务。">第二部分：为Derby配置安全性</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cseccsecure12392.html" title="在大多数情况下，您可以通过使用属性来启用Derby安全功能。了解为您的环境设置属性的最佳方法很重要。">基本安全配置任务</a></div>
<div><a href="cseccsecure24366.html" title="Derby为您提供了一种加密磁盘上数据的方法。">配置数据库加密</a></div>
<div><a href="cseccsecure90988.html" title="在Java SE环境中，Derby可以检测jar文件上的数字签名。尝试从存储在数据库中的已签名jar文件中加载类时，Derby将验证签名的有效性。">使用签名的jar文件</a></div>
<div><a href="csecssl.html" title="默认情况下，网络流量以明文形式在Derby客户端和服务器之间传输。">配置SSL / TLS</a></div>
<div><a href="cseccsecureidentity.html" title="Derby提供两种身份，系统范围的身份和特定于数据库的身份。">了解Derby中的身份</a></div>
<div><a href="cseccsecure42374.html" title="默认情况下，Derby在运行时不进行任何凭据检查。对于许多收缩包装的嵌入式应用程序，这种情况可能很好。但是，这意味着任何人都可以连接到不安全的数据库并窃取或破坏那里的数据。幸运的是，通过身份验证很容易阻止这些攻击。">配置用户身份验证</a></div>
<div><a href="csecauthorization.html" title="在身份验证确定某人是否为合法数据库用户的同时，授权确定可以通过用户身份执行的操作。">配置用户授权</a></div>
<div><a href="csecnetservfileperms.html" title="其他文件保护在某些文件系统上可用，包括Windows NTFS，Unix和Linux。您可以配置Derby以利用这些额外的文件保护。">限制文件权限</a></div>
<div><a href="csecputtogether.html" title="本节说明如何启用所有可用的Derby防御。">放在一起</a></div>
</div>
</div>



</body></html>