<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="SQL standard authorization exceptions">
<meta name="abstract" content="SQL exceptions are returned when errors occur with SQL authorization.">
<meta name="description" content="SQL exceptions are returned when errors occur with SQL authorization.">
<meta name="DC.subject" content="SQL exceptions, SQL authorization">
<meta name="keywords" content="SQL exceptions, SQL authorization">
<meta name="DC.Relation" scheme="URI" content="csecauthorfine.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecuregrantrevokeaccess.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecureprivileges.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecureroles.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecuresqlauthupgrade.html">
<meta name="DC.Relation" scheme="URI" content="rseccsecurenativeauthex.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rseccsecuresqlauthexceptions">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>SQL标准授权例外</title>
</head>
<body id="rseccsecuresqlauthexceptions" ><a name="rseccsecuresqlauthexceptions"><!-- --></a>


<h1 class="topictitle1">SQL标准授权例外</h1>



<div><p>SQL授权发生错误时，将返回SQL异常。</p>

<div class="section">
<p>CREATE ROLE语句可能导致以下错误：</p>

<ul>
<li>如果您不是<a href="cseccsecuredbowner.html">数据库所有者，</a>则不能创建角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 4251A。</li>

<li>如果具有该名称的角色已经存在，则无法创建角色。尝试这样做会引起<samp class="codeph">SQLException</samp> X0Y68。</li>

<li>如果有一个使用该名称的用户，则无法创建该名称。尝试创建与现有用户名冲突的角色名会导致<samp class="codeph">SQLException</samp> X0Y68。</li>

<li>角色名称不能以前缀SYS开头（大小写标准化后）。使用前缀SYS会引起<samp class="codeph">SQLException</samp> 4293A。</li>

<li>您不能创建名称为PUBLIC的角色（大小写标准化后）。PUBLIC是保留的授权标识符。尝试创建名称为PUBLIC的角色会引发<samp class="codeph">SQLException</samp> 4251B。</li>

</ul>

<p>DROP ROLE语句可能导致以下错误：</p>

<ul>
<li>如果您不是数据库所有者，则不能删除角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 4251A。</li>

<li>您不能删除不存在的角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 0P000。</li>

</ul>

<p>SET ROLE语句可能导致以下错误：</p>

<ul>
<li>如果您不是数据库所有者，则无法设置角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 4251A。</li>

<li>您无法设置不存在的角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 0P000。</li>

<li>正在进行事务时，您无法设置角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 25001。</li>

<li>您不能将NONE或格式错误的标识符用作字符串或<samp class="codeph">?</samp> SET ROLE的参数。尝试这样做会引起<samp class="codeph">SQLException</samp> XCXA0。</li>

</ul>

<p>GRANT语句可能导致以下错误：</p>

<ul>
<li>如果您不是数据库所有者，则不能授予角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 4251A。</li>

<li>您不能授予不存在的角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 0P000。</li>

<li>您不能授予角色“ PUBLIC”。尝试这样做会引起<samp class="codeph">SQLException</samp> 4251B。</li>

<li>如果这样做会通过将容器角色授予包含的角色来创建循环性，则不能授予角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 4251C。</li>

</ul>

<p>REVOKE语句可能导致以下错误：</p>

<ul>
<li>如果您不是数据库所有者，则无法撤消角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 4251A。</li>

<li>您不能撤消不存在的角色。尝试这样做会引起<samp class="codeph">SQLException</samp> 0P000。</li>

<li>您不能撤销角色“ PUBLIC”。尝试这样做会引起<samp class="codeph">SQLException</samp> 4251B。</li>

</ul>

<p>对于所有语句，尝试指定长度超过128个字符的标识符参数都会引发<samp class="codeph">SQLException</samp> 42622。</p>

<p>有关异常的更多信息，请参见《 <span><em>Derby参考手册</em></span> 》中的“ SQL错误消息和异常”。</p>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="csecauthorfine.html" title="您可以使用细粒度的用户授权（也称为SQL标准授权）来限制对特定数据的访问。">配置细粒度的用户授权</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cseccsecuregrantrevokeaccess.html" title="启用SQL标准授权模式后，对象所有者可以使用GRANT和REVOKE SQL语句来设置特定数据库对象或特定SQL操作的用户特权。他们还可以使用角色来管理特权。">使用细粒度的用户授权</a></div>
<div><a href="cseccsecureprivileges.html" title="视图，触发器，约束和生成的列以视图，触发器，约束或生成的列的所有者的特权运行。">视图，触发器，约束和生成的列的特权</a></div>
<div><a href="cseccsecureroles.html" title="启用SQL标准授权模式后，对象所有者可以使用SQL角色工具来管理特权。">使用SQL角色</a></div>
<div><a href="cseccsecuresqlauthupgrade.html" title="以后可以通过身份验证和SQL授权来屏蔽未受保护的旧数据库。">升级旧数据库以使用SQL标准授权</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rseccsecurenativeauthex.html" title="该示例由程序NativeAuthenticationExample.java组成，该程序显示了如何通过嵌入式或客户端驱动程序使用Derby的NATIVE用户身份验证和SQL授权。">NATIVE身份验证和SQL授权示例</a></div>
</div>
</div>



</body></html>