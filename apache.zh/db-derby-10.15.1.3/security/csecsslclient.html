<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Running the client with SSL/TLS">
<meta name="abstract" content="Basic SSL encryption on the client is enabled either by the URL attribute ssl, the property ssl, or the datasource attribute ssl set to basic.">
<meta name="description" content="Basic SSL encryption on the client is enabled either by the URL attribute ssl, the property ssl, or the datasource attribute ssl set to basic.">
<meta name="DC.subject" content="Network Client, SSL, TLS">
<meta name="keywords" content="Network Client, SSL, TLS">
<meta name="DC.Relation" scheme="URI" content="csecssl.html">
<meta name="DC.Relation" scheme="URI" content="tsecsslclientkeycert.html">
<meta name="DC.Relation" scheme="URI" content="tsecsslserverkeycert.html">
<meta name="DC.Relation" scheme="URI" content="tsecsslimportcerts.html">
<meta name="DC.Relation" scheme="URI" content="csecsslbootconn.html">
<meta name="DC.Relation" scheme="URI" content="csecsslkeys.html">
<meta name="DC.Relation" scheme="URI" content="csecsslserver.html">
<meta name="DC.Relation" scheme="URI" content="csecssladmin.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="csecsslclient">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>使用SSL / TLS运行客户端</title>
</head>
<body id="csecsslclient" ><a name="csecsslclient"><!-- --></a>


<h1 class="topictitle1">使用SSL / TLS运行客户端</h1>



<div><p>可以通过URL属性在客户端上启用基本SSL加密<samp class="codeph">ssl</samp> ，财产<samp class="codeph">ssl</samp> ，或数据源属性<samp class="codeph">ssl</samp>调成<samp class="codeph">basic</samp> 。</p>

<div class="example"><h2 class="sectiontitle">例</h2>
<pre>Connection c = getConnection("jdbc:derby://myhost:1527/db;ssl=basic");</pre>

</div>

<div class="section"><h2 class="sectiontitle">运行对服务器进行身份验证的客户端</h2>
<p>如果客户端要对服务器进行身份验证，则客户端的<em>信任库</em>必须包含服务器的证书。请参阅<a href="csecsslkeys.html">密钥和证书处理</a> 。</p>

<p>URL属性启用具有服务器身份验证的客户端SSL <samp class="codeph">ssl</samp>或财产<samp class="codeph">ssl</samp>调成<samp class="codeph">peerAuthentication</samp> 。另外，系统属性<samp class="codeph">javax.net.ssl.trustStore</samp>和<samp class="codeph">javax.net.ssl.trustStorePassword</samp>需要设置。</p>

</div>

<div class="example"><h2 class="sectiontitle">例</h2>
<pre>System.setProperty("javax.net.ssl.trustStore","clientTrustStore.key");
System.setProperty("javax.net.ssl.trustStorePassword","qwerty");
Connection c = 
   getConnection("jdbc:derby://myhost:1527/db;ssl=peerAuthentication");</pre>

</div>

<div class="section"><h2 class="sectiontitle">服务器执行客户端身份验证时运行客户端</h2>
<p>如果服务器进行客户端身份验证，则客户端将需要密钥对和安装在服务器<em>信任库</em>中的客户端证书。请参阅<a href="csecsslkeys.html">密钥和证书处理</a> 。</p>
 
<p>客户需要设定<samp class="codeph">javax.net.ssl.keyStore</samp>和<samp class="codeph">javax.net.ssl.keyStorePassword</samp> 。</p>
 
</div>

<div class="example"><h2 class="sectiontitle">例</h2>
<pre>System.setProperty("javax.net.ssl.keyStore","clientKeyStore.key");
System.setProperty("javax.net.ssl.keyStorePassword","qwerty");
Connection c = getConnection("jdbc:derby://myhost:1527/db;ssl=basic");</pre>

</div>

<div class="section"><h2 class="sectiontitle">双方都进行对等身份验证时运行客户端</h2>
<p>这是最后两个变体的组合。</p>

</div>

<div class="example"><h2 class="sectiontitle">例</h2>
<pre>System.setProperty("javax.net.ssl.keyStore","clientKeyStore.key");
System.setProperty("javax.net.ssl.keyStorePassword","qwerty");
System.setProperty("javax.net.ssl.trustStore","clientTrustStore.key");
System.setProperty("javax.net.ssl.trustStorePassword","qwerty");
Connection c = 
   getConnection("jdbc:derby://myhost:1527/db;ssl=peerAuthentication");</pre>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="csecssl.html" title="默认情况下，网络流量以明文形式在Derby客户端和服务器之间传输。">配置SSL / TLS</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="csecsslbootconn.html" title="最后，启动服务器并启动客户端。">引导服务器并连接到它</a></div>
<div><a href="csecsslkeys.html" title="对于SSL操作，服务器始终需要一个密钥对。如果服务器以对等身份验证模式运行（服务器对客户端进行身份验证），则每个客户端都需要自己的密钥对。通常，如果通信的一端要验证其伙伴，则第一端需要安装由伙伴生成的证书。">密钥和证书处理</a></div>
<div><a href="csecsslserver.html" title="对于服务器SSL / TLS，需要生成服务器密钥对。如果服务器要进行客户端身份验证，则需要在信任存储区中安装客户端证书。">使用SSL / TLS启动服务器</a></div>
<div><a href="csecssladmin.html" title="其他服务器命令（关闭，ping，sysinfo，runtimeinfo，logconnections，maxthreads，timelice，trace和tracedirectory）均作为客户端实现，并且就SSL而言，它们的行为与客户端完全相同。">其他服务器命令</a></div>
</div>
<div class="reltasks"><strong>相关任务</strong><br>
<div><a href="tsecsslclientkeycert.html" title="请按照以下步骤创建客户端密钥对和客户端证书。">创建客户端密钥对和证书</a></div>
<div><a href="tsecsslserverkeycert.html" title="请按照以下步骤创建服务器密钥对和服务器证书。">创建服务器密钥对和证书</a></div>
<div><a href="tsecsslimportcerts.html" title="请按照以下步骤将每个证书导入到另一个的信任库中。">导入证书</a></div>
</div>
</div>



</body></html>