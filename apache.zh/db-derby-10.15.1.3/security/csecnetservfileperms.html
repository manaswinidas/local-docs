<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Restricting file permissions">
<meta name="abstract" content="Additional file protections are available on some file systems, including Windows NTFS, Unix, and Linux. You can configure Derby to take advantage of these extra file protections.">
<meta name="description" content="Additional file protections are available on some file systems, including Windows NTFS, Unix, and Linux. You can configure Derby to take advantage of these extra file protections.">
<meta name="DC.subject" content="derby.storage.useDefaultFilePermissions property, database files, specifying permissions with Java SE 7 and up, file permissions, specifying with Java SE 7 and up, permissions, file, specifying with Java SE 7 and up">
<meta name="keywords" content="derby.storage.useDefaultFilePermissions property, database files, specifying permissions with Java SE 7 and up, file permissions, specifying with Java SE 7 and up, permissions, file, specifying with Java SE 7 and up">
<meta name="DC.Relation" scheme="URI" content="cseccsecuree.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure12392.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure24366.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure90988.html">
<meta name="DC.Relation" scheme="URI" content="csecssl.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecureidentity.html">
<meta name="DC.Relation" scheme="URI" content="cseccsecure42374.html">
<meta name="DC.Relation" scheme="URI" content="csecauthorization.html">
<meta name="DC.Relation" scheme="URI" content="csecjavasecurity.html">
<meta name="DC.Relation" scheme="URI" content="csecputtogether.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="csecnetservfileperms">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>限制文件权限</title>
</head>
<body id="csecnetservfileperms" ><a name="csecnetservfileperms"><!-- --></a>


<h1 class="topictitle1">限制文件权限</h1>



<div><p>其他文件保护在某些文件系统上可用，包括Windows NTFS，Unix和Linux。您可以配置<span>Derby</span>以利用这些额外的文件保护。</p>

<p>默认情况下， <span>Derby</span>使用启动VM的操作系统帐户（Unix和Linux上的umask设置）的默认权限创建新目录和文件。您可以将<span>Derby</span>配置为覆盖这些默认权限，并限制仅对该帐户的访问。如果以这种方式配置<span>Derby</span> ，则只有该帐户可以访问<span>Derby</span>创建的目录和文件。您可以通过在VM命令行上或在以下位置设置以下系统属性来配置此额外保护： <samp class="codeph">derby.properties</samp> ：</p>

<pre>derby.storage.useDefaultFilePermissions=false</pre>

<p>有关更多信息，请参见《 <span><em>Derby参考手册</em></span> 》中的“ derby.storage.useDefaultFilePermissions”。</p>

<p>如果设置此属性，则其他操作系统帐户将无权访问<span>Derby</span>创建的目录或文件。此行为可能有助于增强数据库文件的默认安全性。</p>

<p>确切的行为取决于两个因素： <span>Derby</span>引擎如何启动以及该属性的存在与否和指定值<samp class="codeph">derby.storage.useDefaultFilePermissions</samp> 。</p>

<p>下表显示了文件访问的工作方式。在这张桌子里</p>

<ul>
<li>“环境”意味着访问完全由JVM环境和文件位置控制（即，由UNIX和Linux系统上的umask设置以及Windows NTFS上的默认文件权限控制）。</li>

<li>“受限制”是指<span>Derby</span>限制对启动JVM的操作系统帐户的访问。</li>

</ul>

<p>下表显示了文件访问如何与<samp class="codeph">derby.storage.useDefaultFilePermissions</samp>属性。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table shows how access to Derby files is controlled." frame="border" rules="all"><caption>表格1。档案存取</caption>



<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="20%" id="N1011F">属性设定</th>

<th valign="bottom" width="40%" id="N10126">服务器从命令行启动</th>

<th valign="bottom" width="40%" id="N1012D">服务器以编程方式启动或嵌入式</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="20%" headers="N1011F">未指定属性</td>

<td valign="top" width="40%" headers="N10126">受限制的</td>

<td valign="top" width="40%" headers="N1012D">环境</td>

</tr>

<tr>
<td valign="top" width="20%" headers="N1011F">属性设置为true</td>

<td valign="top" width="40%" headers="N10126">环境</td>

<td valign="top" width="40%" headers="N1012D">环境</td>

</tr>

<tr>
<td valign="top" width="20%" headers="N1011F">属性设置为false</td>

<td valign="top" width="40%" headers="N10126">受限制的</td>

<td valign="top" width="40%" headers="N1012D">受限制的</td>

</tr>

</tbody>

</table>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cseccsecuree.html" title="手册的此部分描述了保护Derby数据库所涉及的特定任务。">第二部分：为Derby配置安全性</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cseccsecure12392.html" title="在大多数情况下，您可以通过使用属性来启用Derby安全功能。了解为您的环境设置属性的最佳方法很重要。">基本安全配置任务</a></div>
<div><a href="cseccsecure24366.html" title="Derby为您提供了一种加密磁盘上数据的方法。">配置数据库加密</a></div>
<div><a href="cseccsecure90988.html" title="在Java SE环境中，Derby可以检测jar文件上的数字签名。尝试从存储在数据库中的已签名jar文件中加载类时，Derby将验证签名的有效性。">使用签名的jar文件</a></div>
<div><a href="csecssl.html" title="默认情况下，网络流量以明文形式在Derby客户端和服务器之间传输。">配置SSL / TLS</a></div>
<div><a href="cseccsecureidentity.html" title="Derby提供两种身份，系统范围的身份和特定于数据库的身份。">了解Derby中的身份</a></div>
<div><a href="cseccsecure42374.html" title="默认情况下，Derby在运行时不进行任何凭据检查。对于许多收缩包装的嵌入式应用程序，这种情况可能很好。但是，这意味着任何人都可以连接到不安全的数据库并窃取或破坏那里的数据。幸运的是，通过身份验证很容易阻止这些攻击。">配置用户身份验证</a></div>
<div><a href="csecauthorization.html" title="在身份验证确定某人是否为合法数据库用户的同时，授权确定可以通过用户身份执行的操作。">配置用户授权</a></div>
<div><a href="csecjavasecurity.html" title="Java安全管理器使您可以减少应用程序可能造成的损害。">配置Java安全性</a></div>
<div><a href="csecputtogether.html" title="本节说明如何启用所有可用的Derby防御。">放在一起</a></div>
</div>
</div>



</body></html>