<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Activity 3: Run a JDBC program using the embedded driver">
<meta name="abstract" content="This activity loads the Derby database engine using a simple Java JDBC program.">
<meta name="description" content="This activity loads the Derby database engine using a simple Java JDBC program.">
<meta name="DC.subject" content="WwdEmbedded.java program, running, CLASSPATH environment variable">
<meta name="keywords" content="WwdEmbedded.java program, running, CLASSPATH environment variable">
<meta name="DC.Relation" scheme="URI" content="cgstutorialintro.html">
<meta name="DC.Relation" scheme="URI" content="rwwdactivity3.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tgsactivity3_Setup">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>活动3：使用嵌入式驱动程序运行JDBC程序</title>
</head>
<body id="tgsactivity3_Setup" ><a name="tgsactivity3_Setup"><!-- --></a>


<h1 class="topictitle1">活动3：使用嵌入式驱动程序运行JDBC程序</h1>



<div><p>此活动使用简单的Java JDBC程序加载<span>Derby</span>数据库引擎。</p>

<div class="p">此活动假定您已打开命令窗口并导航到<samp class="codeph">DERBYTUTOR</samp>目录。</div>

<div class="section">JDBC是Java数据库连接API，也是<span>Derby</span>的本机API。该程序使用嵌入式驱动程序来创建<samp class="codeph">jdbcDemoDB</samp>数据库（如果数据库不存在），然后连接到数据库。然后，您可以使用文本填充数据库中的表。该程序演示了一些基本的JDBC处理以及相关的错误处理。<p>Java编译器和运行时使用类路径，由<samp class="codeph">CLASSPATH</samp>环境变量，以查找运行<span>Derby</span>和其他Java应用程序所需的二进制文件（jar文件和类文件）。在执行此活动之前，您需要设置类路径并编译<samp class="codeph">WwdEmbedded.java</samp>程序。</p>
</div>

<ol>
<li class="stepexpand"><span>将程序文件复制到<samp class="codeph">DERBYTUTOR</samp>目录并设置<samp class="codeph">CLASSPATH</samp>环境变量，如下表所示。</span> 

<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the commands to copy the program files into the DERBYTUTOR directory and set the CLASSPATH environment variable on UNIX and Windows systems." frame="border" rules="all"><caption>表格1。复制程序文件并设置<samp class="codeph">CLASSPATH</samp>环境变量</caption>


<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="25%" id="N100DD">操作系统</th>

<th valign="bottom" width="75%" id="N100E4">命令</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="25%" headers="N100DD">UNIX（Korn Shell）</td>

<td valign="top" width="75%" headers="N100E4"><pre><strong><kbd class="userinput">cp $DERBY_HOME/demo/programs/workingwithderby/* .

export CLASSPATH=$DERBY_HOME/lib/derby.jar:$DERBY_HOME/lib/derbyshared.jar:.</kbd></strong></pre>
</td>

</tr>

<tr>
<td valign="top" width="25%" headers="N100DD">视窗</td>

<td valign="top" width="75%" headers="N100E4"><pre><strong><kbd class="userinput">copy %DERBY_HOME%\demo\programs\workingwithderby\* .

set CLASSPATH=%DERBY_HOME%\lib\derby.jar;%DERBY_HOME%\lib\derbyshared.jar;.</kbd></strong></pre>
</td>

</tr>

</tbody>

</table>
</div>

<div class="important"><span class="importanttitle">重要提示：请</span>添加点号（ <samp class="codeph">.</samp> ）在每个命令的末尾，这样您的当前工作目录将包含在类路径中，并将文件复制到正确的位置。</div>

</li>

<li class="stepexpand"><span>编译程序源文件。</span>该示例程序包含在两个源文件中： <samp class="codeph">WwdEmbedded.java</samp>和<samp class="codeph">WwdUtils.java</samp> 。发出以下命令以同时编译两者：<pre><strong><kbd class="userinput">javac WwdEmbedded.java WwdUtils.java</kbd></strong></pre>

<div class="important"><span class="importanttitle">重要：</span>如果编译成功，将出现命令提示符。二进制文件<samp class="codeph">WwdEmbedded.class</samp>和<samp class="codeph">WwdUtils.class</samp>被创建。如果出现错误消息，请验证是否正确安装了JDK。</div>
 
</li>

<li class="stepexpand"><span>运行程序。</span> 的<a href="rwwdactivity3.html#rwwdactivity3"><samp class="codeph">WwdEmbedded.java</samp>程序</a>使用愿望清单项目填充表格。该程序提示您输入文本（最多32个字符），将输入的文本存储在数据库表中，然后列出表中存储的项目。在您键入命令之前，程序将继续询问愿望清单项目<samp class="codeph">exit</samp>或遇到问题。有关程序进度的一些基本信息显示在程序的开头和结尾。<pre><strong><kbd class="userinput">java WwdEmbedded</kbd></strong>
<tt class="sysout">org.apache.derby.jdbc.EmbeddedDriver loaded.
Connected to database jdbcDemoDB
 . . . . creating table WISH_LIST
Enter wish-list item (enter exit to end):</tt>
<strong><kbd class="userinput">a peppermint stick</kbd></strong>
<tt class="sysout">  __________________________________________________
On 2012-09-14 09:46:37.77 I wished for a peppermint stick
  __________________________________________________
Enter wish-list item (enter exit to end):</tt>
<strong><kbd class="userinput">a long vacation</kbd></strong>
<tt class="sysout">  __________________________________________________
On 2012-09-14 09:46:37.77 I wished for a peppermint stick
On 2012-09-14 09:46:51.654 I wished for a long vacation
  __________________________________________________
Enter wish-list item (enter exit to end):</tt>
<strong><kbd class="userinput">exit</kbd></strong>
<tt class="sysout">Closed connection
Database shut down normally
Getting Started With Derby JDBC program ending.</tt></pre>

</li>

</ol>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rwwdactivity3.html">WwdEmbedded程序</a></strong><br>本节描述WwdEmbedded.java程序，突出显示特定于从JDBC程序访问Derby数据库的详细信息。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cgstutorialintro.html" title="为了帮助您尽快起步并使用Derby，本自学指南重点介绍了Derby的一些更重要的功能。">针对Derby新手的自学教程</a></div>
</div>
</div>



</body></html>