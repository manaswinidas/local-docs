<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="The NsSample sample program">
<meta name="abstract" content="The NsSample demonstration program is a simple JDBC application that interacts with the Network Server.">
<meta name="description" content="The NsSample demonstration program is a simple JDBC application that interacts with the Network Server.">
<meta name="DC.subject" content="Network Server, NsSample sample program">
<meta name="keywords" content="Network Server, NsSample sample program">
<meta name="DC.Relation" scheme="URI" content="radminsampleprograms.html">
<meta name="DC.Relation" scheme="URI" content="cadminovntsrvsample.html">
<meta name="DC.Relation" scheme="URI" content="tadminovnsrundemo.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="radminovnssample">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>NsSample示例程序</title>
</head>
<body id="radminovnssample" ><a name="radminovnssample"><!-- --></a>


<h1 class="topictitle1">NsSample示例程序</h1>



<div><p>的<samp class="codeph">NsSample</samp>演示程序是与网络服务器交互的简单JDBC应用程序。</p>

<div class="section"><div class="p">的<samp class="codeph">NsSample</samp>程序执行以下任务：<ul>
<li>启动网络服务器。</li>

<li>检查网络服务器是否正在运行。</li>

<li>创建<samp class="codeph">NsSampledb</samp>数据库（如果尚未创建）。</li>

<li>检查是否已创建模式，如果没有，则创建模式，该模式包括SAMPLETBL表和相应的索引。</li>

<li>连接到数据库。</li>

<li>通过插入数据来加载架构。</li>

<li>启动客户端线程以执行与数据库相关的操作。</li>

<li>让每个客户端使用JDBC调用执行DML操作（选择，插入，删除，更新）。例如，一个客户端线程建立嵌入式连接以执行数据库操作，而另一个客户端线程建立与网络服务器的客户端连接以执行数据库操作。</li>

<li>等待客户端线程完成任务。</li>

<li>演示结束时，关闭网络服务器。</li>

</ul>
</div>

<div class="p">您必须在<samp class="codeph">%<span>DERBY_HOME</span>%\demo\nserverdemo\</samp>目录，然后才能运行示例程序：<ul>
<li><samp class="codeph">NsSample.java</samp>
<p>这是示例程序的入口。该程序启动两个客户端线程。第一客户端建立嵌入式连接以执行数据库操作，第二客户端建立与网络服务器的客户端连接以执行数据库操作。</p>

<p>您可以更改以下常量来修改示例程序：</p>

<dl>
<dt class="dlterm">NUM_ROWS</dt>

<dd>最初必须加载到架构中的行数。</dd>


<dt class="dlterm">项目</dt>

<dd>每个客户端线程进行数据库相关工作的迭代次数。</dd>


<dt class="dlterm">NUM_CLIENT_THREADS</dt>

<dd>您要针对其运行程序的客户端数量。</dd>


<dt class="dlterm">NETWORKSERVER_PORT</dt>

<dd>运行网络服务器的端口。</dd>

</dl>
</li>

<li><samp class="codeph">NsSampleClientThread.java</samp>
<div class="p">该文件包含两个Java类：<ul>
<li>的<samp class="codeph">NsSampleClientThread</samp>类扩展<samp class="codeph">Thread</samp>并实例化一个<samp class="codeph">NsSampleWork</samp>实例。</li>

<li>的<samp class="codeph">NsSampleWork</samp>该类包含使用JDBC调用执行DML操作所需的所有内容。的<samp class="codeph">doWork</samp>中的方法<samp class="codeph">NsSampleWork</samp>类表示作为此示例程序的一部分完成的所有工作。</li>

</ul>
</div>
</li>

<li><samp class="codeph">NetworkServerUtil.java</samp>
<p>此文件包含用于启动网络服务器和关闭服务器的帮助程序方法。</p>
</li>

</ul>的已编译类文件<samp class="codeph">NsSample</samp>程序是：<ul>
<li><samp class="codeph">NsSample.class</samp></li>

<li><samp class="codeph">NsSampleClientThread.class</samp></li>

<li><samp class="codeph">NsSampleWork.class</samp></li>

<li><samp class="codeph">NetworkServerUtil.class</samp></li>

</ul>
</div>
</div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="tadminovnsrundemo.html">运行NsSample示例程序</a></strong><br>要运行NsSample程序，请按照下列步骤操作。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="radminsampleprograms.html" title="Derby为网络服务器用户提供了几个示例程序。">Derby Network Server示例程序</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cadminovntsrvsample.html" title="此Derby Network Server示例程序演示了如何通过使用Network Server获得与同一数据库的嵌入式连接和客户端连接。此程序显示如何使用DriverManager或DataSource获得客户端连接。">用于嵌入式和客户端连接的网络服务器示例程序</a></div>
</div>
</div>



</body></html>