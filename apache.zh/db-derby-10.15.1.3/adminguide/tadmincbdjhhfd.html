<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Starting the Network Server">
<meta name="abstract" content="To start the Network Server, you can invoke a script, a jar file, or a class.">
<meta name="description" content="To start the Network Server, you can invoke a script, a jar file, or a class.">
<meta name="DC.subject" content="Starting the Network Server, from scripts, Network Server, starting">
<meta name="keywords" content="Starting the Network Server, from scripts, Network Server, starting">
<meta name="DC.Relation" scheme="URI" content="cadminapps59125.html">
<meta name="DC.Relation" scheme="URI" content="cadminappsthenetworkserverandjvms.html">
<meta name="DC.Relation" scheme="URI" content="tadminappschangingyourclasspath.html">
<meta name="DC.Relation" scheme="URI" content="tadminconfigshuttingdownthenetworkserver.html">
<meta name="DC.Relation" scheme="URI" content="tadminconfigsysteminformation.html">
<meta name="DC.Relation" scheme="URI" content="cadminappsclient.html">
<meta name="DC.Relation" scheme="URI" content="cadminnsdatasources.html">
<meta name="DC.Relation" scheme="URI" content="cadminapps811478.html">
<meta name="DC.Relation" scheme="URI" content="cadminappsusingthederbytoolswiththene.html">
<meta name="DC.Relation" scheme="URI" content="cadminapps.html">
<meta name="DC.Relation" scheme="URI" content="tadminappssettingportnumbers.html">
<meta name="DC.Relation" scheme="URI" content="tadminconfig814963.html">
<meta name="DC.Relation" scheme="URI" content="tadminconfigipx.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tadmincbdjhhfd">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>启动网络服务器</title>
</head>
<body id="tadmincbdjhhfd" ><a name="tadmincbdjhhfd"><!-- --></a>


<h1 class="topictitle1">启动网络服务器</h1>



<div><p>要启动网络服务器，可以调用脚本，JAR文件或类。</p>

<div class="section"><div class="important"><span class="importanttitle">要点：</span>使用完网络服务器后，请务必正确关闭它，因为这样做可能会导致不可预知的副作用，例如服务器上的端口被阻塞。</div>
</div>

<div class="example">
<p>强烈建议您在运行网络服务器时启用用户身份验证和用户授权。有关如何配置用户认证和授权的详细信息，请参阅《 <span><em>Derby安全指南</em></span> 》中的“配置用户认证”和“配置用户授权”。</p>

<p>还敦促您安装具有自定义安全策略的Java安全管理器。有关如何执行此操作的详细信息，请参阅《 <span><em>Derby安全指南</em></span> 》中的“配置Java安全性”。默认情况下，启动网络服务器时，将使用默认安全策略安装安全管理器。此默认策略文件称为<samp class="codeph">server.policy</samp>并且是<samp class="codeph">derbynet.jar</samp> 。还有一个<samp class="codeph">serverTemplate.policy</samp>文件在<samp class="codeph">demo/templates</samp>分发目录。它可以用作自定义服务器策略的起点。有关策略文件，授予权限和属性扩展的更多信息，请参见<a href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/PolicyFiles.html" target="_blank">http://docs.oracle.com/javase/7/docs/technotes/guides/security/PolicyFiles.html上的</a> “默认策略实现和策略文件语法”。以及<a href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/PolicyGuide.html" target="_blank">http://docs.oracle.com/javase/7/docs/technotes/guides/security/PolicyGuide.html上的</a> “策略文件创建和管理”。</p>

<p>如果按此处所述从命令行启动<span>Derby</span> Network Server，则默认情况下，对数据库和其他<span>Derby</span>文件的访问仅限于启动Network Server的操作系统帐户。可以覆盖此默认行为。有关更多信息，请参阅《 <span><em>Derby安全指南</em></span> 》中的“限制文件权限”。</p>

<p>您可以通过以下任意一种方式启动网络服务器：</p>

<ul>
<li><p>如果您是Java编程语言的新手，请按照<span><em>Derby入门</em></span>中“设置环境”中的说明进行操作。 <samp class="codeph"><span>DERBY_HOME</span></samp>和<samp class="codeph">JAVA_HOME</samp>环境变量并添加<samp class="codeph"><span>DERBY_HOME</span>/bin</samp>到你的路。然后使用<samp class="codeph">startNetworkServer.bat</samp>脚本以在Windows计算机上启动网络服务器，并且<samp class="codeph">startNetworkServer</samp>脚本以在UNIX系统上启动网络服务器。这些脚本位于<samp class="codeph">$<span>DERBY_HOME</span>/bin</samp> ，在哪里<samp class="codeph">$<span>DERBY_HOME</span></samp>是您安装<span>Derby</span>的目录。</p>

<p>您只能从启动网络服务器的主机上运行NetworkServerControl命令。下表显示了命令顺序。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the commands to run the startNetworkServer command on UNIX and Windows systems." frame="border" rules="all"><caption>表格1。运行命令<samp class="codeph">startNetworkServer</samp>命令</caption>


<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="25%" id="N10161">操作系统</th>

<th valign="bottom" width="75%" id="N10168">命令</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="25%" headers="N10161">视窗</td>

<td valign="top" width="75%" headers="N10168"><pre><strong><kbd class="userinput">set DERBY_HOME=C:\derby</kbd></strong>
<strong><kbd class="userinput">set JAVA_HOME=C:\Program Files\Java\jdk1.6.0_24</kbd></strong>
<strong><kbd class="userinput">set PATH=%DERBY_HOME%\bin;%PATH%</kbd></strong>
<strong><kbd class="userinput">startNetworkServer</kbd></strong></pre>
</td>

</tr>

<tr>
<td valign="top" width="25%" headers="N10161">UNIX（Korn Shell）</td>

<td valign="top" width="75%" headers="N10168"><pre><strong><kbd class="userinput">export DERBY_HOME=/opt/derby</kbd></strong>
<strong><kbd class="userinput">export JAVA_HOME=/usr/j2se</kbd></strong>
<strong><kbd class="userinput">export PATH="$DERBY_HOME/bin:$PATH"</kbd></strong>
<strong><kbd class="userinput">startNetworkServer</kbd></strong></pre>
</td>

</tr>

</tbody>

</table>
</div>

</li>

<li><p>如果您是Java的普通用户，但不<span>熟悉Derby</span> ，请设置<samp class="codeph"><span>DERBY_HOME</span></samp>环境变量，然后使用<samp class="codeph">java</samp>命令来调用<samp class="codeph">derbyrun.jar</samp>要么<samp class="codeph">derbynet.jar</samp>文件，如下表所示。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the commands to invoke the Derby jar files on UNIX and Windows systems." frame="border" rules="all"><caption>表2。调用<span>Derby</span> jar文件的命令</caption>


<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="25%" id="N10264">操作系统</th>

<th valign="bottom" width="75%" id="N1026B">命令</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="25%" headers="N10264">视窗</td>

<td valign="top" width="75%" headers="N1026B"><pre><strong><kbd class="userinput">set DERBY_HOME=C:\derby</kbd></strong>
<strong><kbd class="userinput">java -jar %DERBY_HOME%\lib\derbyrun.jar server start</kbd></strong>
or
<strong><kbd class="userinput">java -jar %DERBY_HOME%\lib\derbynet.jar start</kbd></strong></pre>
</td>

</tr>

<tr>
<td valign="top" width="25%" headers="N10264">UNIX（Korn Shell）</td>

<td valign="top" width="75%" headers="N1026B"><pre><strong><kbd class="userinput">export DERBY_HOME=/opt/derby</kbd></strong>
<strong><kbd class="userinput">java -jar $DERBY_HOME/lib/derbyrun.jar server start</kbd></strong>
or
<strong><kbd class="userinput">java -jar $DERBY_HOME/lib/derbynet.jar start</kbd></strong></pre>
</td>

</tr>

</tbody>

</table>
</div>

<p>要查看命令语法，请调用<samp class="codeph">derbyrun.jar server</samp>要么<samp class="codeph">derbynet.jar</samp>没有参数。</p>

</li>

<li><p>如果您既熟悉Java编程语言又熟悉<span>Derby</span> ，那么您已经设置好了<samp class="codeph"><span>DERBY_HOME</span></samp> 。设置您的类路径/模块路径以包括<span>Derby</span> jar文件。然后使用<samp class="codeph">java</samp>命令来调用<samp class="codeph">NetworkServerControl</samp>直接进行分类，如下表所示。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the commands to invoke the NetworkServerControl class via the classpath on UNIX and Windows systems." frame="border" rules="all"><caption>表3。调用<samp class="codeph">NetworkServerControl</samp>通过类路径进行类</caption>


<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="25%" id="N10365">操作系统</th>

<th valign="bottom" width="75%" id="N1036C">命令</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="25%" headers="N10365">视窗</td>

<td valign="top" width="75%" headers="N1036C"><pre><strong><kbd class="userinput">%DERBY_HOME%\bin\setNetworkServerCP</kbd></strong>
<strong><kbd class="userinput">java org.apache.derby.drda.NetworkServerControl start</kbd></strong></pre>
</td>

</tr>

<tr>
<td valign="top" width="25%" headers="N10365">UNIX（Korn Shell）</td>

<td valign="top" width="75%" headers="N1036C"><pre><strong><kbd class="userinput">$DERBY_HOME/bin/setNetworkServerCP</kbd></strong>
<strong><kbd class="userinput">java org.apache.derby.drda.NetworkServerControl start</kbd></strong></pre>
</td>

</tr>

</tbody>

</table>
</div>



<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the commands to invoke the NetworkServerControl class via the modulepath on UNIX and Windows systems." frame="border" rules="all"><caption>表4。调用<samp class="codeph">NetworkServerControl</samp>通过modulepath类</caption>


<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="25%" id="N10413">操作系统</th>

<th valign="bottom" width="75%" id="N1041A">命令</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="25%" headers="N10413">视窗</td>

<td valign="top" width="75%" headers="N1041A"><pre><strong><kbd class="userinput">%DERBY_HOME%\bin\setNetworkServerCP</kbd></strong>
<strong><kbd class="userinput">java -p %MODULEPATH% ^
  -m org.apache.derby.server/org.apache.derby.drda.NetworkServerControl start</kbd></strong></pre>
</td>

</tr>

<tr>
<td valign="top" width="25%" headers="N10413">UNIX（Korn Shell）</td>

<td valign="top" width="75%" headers="N1041A"><pre><strong><kbd class="userinput">$DERBY_HOME/bin/setNetworkServerCP</kbd></strong>
<strong><kbd class="userinput">java -p $MODULEPATH \
  -m org.apache.derby.server/org.apache.derby.drda.NetworkServerControl start</kbd></strong></pre>
</td>

</tr>

</tbody>

</table>
</div>

</li>

</ul>

<p>默认系统目录是启动<span>Derby</span>的目录。（有关默认系统目录的更多信息，请参见《 <span><em>Derby开发人员指南》</em></span> 。）</p>

<p>启动网络服务器时，可以通过指定命令选项来指定其他主机或端口号。</p>

<ul>
<li>
<p>使用以下命令指定默认端口号（1527）以外的端口号<samp class="codeph">-p <var class="varname">portnumber</var></samp>选项，如以下示例所示：</p>

<pre><strong><kbd class="userinput">java org.apache.derby.drda.NetworkServerControl start -p 1368</kbd></strong></pre>

</li>

<li><p>指定特定接口（主机名或IP地址）以监听默认接口（默认接口除外） <samp class="codeph">localhost</samp> ），使用<samp class="codeph">-h</samp>选项，如以下示例所示：</p>

<pre><strong><kbd class="userinput">$DERBY_HOME/bin/startNetworkServer -h myhost -p 1368</kbd></strong></pre>

<p>哪里<var class="varname">myhost</var>是主机名或IP地址。</p>

<div class="remember"><span class="remembertitle">切记：</span>使用<samp class="codeph">-h</samp>选项，则应使用自定义的安全策略在Java安全管理器下运行，并应启用用户身份验证。</div>

</li>

</ul>

</div>

<div class="section"><p>默认情况下，网络服务器将仅在环回地址上侦听请求，这意味着它将仅接受来自本地主机的连接。</p>
</div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="tadminconfig814963.html">从Java应用程序启动网络服务器</a></strong><br>使用后请务必正确关闭网络服务器，因为这样做可能会导致不可预知的副作用，例如服务器上的端口被阻塞。</li>
<li class="ulchildlink"><strong><a href="tadminconfigipx.html">在IPv6 / IPv4双堆栈Windows计算机上启动网络服务器</a></strong><br>在IPv6 / IPv4双堆栈Windows计算机上启动服务器时，将以下JVM属性添加到命令中。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cadminapps59125.html" title="您必须修改当前以嵌入式模式针对Derby运行的Java应用程序，以便它们可与Derby Network Server一起使用。">将网络服务器与预先存在的Derby应用程序一起使用</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cadminappsthenetworkserverandjvms.html" title="Derby Network Server与Java平台标准版（Java SE）9及更高版本兼容。">网络服务器和Java虚拟机（JVM）</a></div>
<div><a href="cadminappsclient.html" title="连接到网络服务器时，您的应用程序需要加载特定于网络服务器的驱动程序和连接URL。此外，如果使用身份验证，则必须指定用户名和密码。">使用网络客户端驱动程序访问网络服务器</a></div>
<div><a href="cadminnsdatasources.html" title="网络服务器支持一组Derby Network Client驱动程序数据源类。">通过使用数据源对象访问网络服务器</a></div>
<div><a href="cadminapps811478.html" title="Derby嵌入式驱动程序和网络服务器都提供XA支持。网络服务器提供DRDA 7级支持。支持XAMGR的DRDA客户端（例如Derby网络客户端）可以将XA请求发送到网络服务器。">XA和网络服务器</a></div>
<div><a href="cadminappsusingthederbytoolswiththene.html" title="Derby工具ij和dblook在嵌入式模式和客户机/服务器模式下工作。">在网络服务器上使用Derby工具</a></div>
<div><a href="cadminapps.html" title="本节描述了在嵌入式模式下运行Derby与使用网络服务器之间的区别。">在嵌入式模式下运行Derby与使用网络服务器之间的区别</a></div>
</div>
<div class="reltasks"><strong>相关任务</strong><br>
<div><a href="tadminappschangingyourclasspath.html" title="要使用网络服务器和网络客户端驱动程序，请将以下jar文件添加到服务器的classpath / modulepath中。">安装所需的jar文件并将其添加到classpath / modulepath</a></div>
<div><a href="tadminconfigshuttingdownthenetworkserver.html" title="要关闭网络服务器，您可以调用脚本，jar文件或类。">关闭网络服务器</a></div>
<div><a href="tadminconfigsysteminformation.html" title="您可以使用sysinfo实用程序获取有关网络服务器的信息，例如版本和当前属性值，Java信息以及Derby数据库服务器信息。">获取系统信息</a></div>
<div><a href="tadminappssettingportnumbers.html" title="默认情况下，Derby Network Server侦听TCP / IP端口号1527。如果要使用其他端口号，则可以在启动网络服务器时在命令行上指定它。">设置端口号</a></div>
</div>
</div>



</body></html>