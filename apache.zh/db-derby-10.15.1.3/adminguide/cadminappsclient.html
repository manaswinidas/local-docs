<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Accessing the Network Server by using the network client driver">
<meta name="abstract" content="When connecting to the Network Server, your application needs to load a driver and connection URL that are specific to the Network Server. In addition, you must specify a user name and password if you are using authentication.">
<meta name="description" content="When connecting to the Network Server, your application needs to load a driver and connection URL that are specific to the Network Server. In addition, you must specify a user name and password if you are using authentication.">
<meta name="DC.subject" content="Network client driver">
<meta name="keywords" content="Network client driver">
<meta name="DC.Relation" scheme="URI" content="cadminapps59125.html">
<meta name="DC.Relation" scheme="URI" content="cadminappsthenetworkserverandjvms.html">
<meta name="DC.Relation" scheme="URI" content="tadminappschangingyourclasspath.html">
<meta name="DC.Relation" scheme="URI" content="tadmincbdjhhfd.html">
<meta name="DC.Relation" scheme="URI" content="tadminconfigshuttingdownthenetworkserver.html">
<meta name="DC.Relation" scheme="URI" content="tadminconfigsysteminformation.html">
<meta name="DC.Relation" scheme="URI" content="cadminnsdatasources.html">
<meta name="DC.Relation" scheme="URI" content="cadminapps811478.html">
<meta name="DC.Relation" scheme="URI" content="cadminappsusingthederbytoolswiththene.html">
<meta name="DC.Relation" scheme="URI" content="cadminapps.html">
<meta name="DC.Relation" scheme="URI" content="tadminappssettingportnumbers.html">
<meta name="DC.Relation" scheme="URI" content="cadminappsclienttracing.html">
<meta name="DC.Relation" scheme="URI" content="radminappsclientxmp.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cadminappsclient">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>使用网络客户端驱动程序访问网络服务器</title>
</head>
<body id="cadminappsclient" ><a name="cadminappsclient"><!-- --></a>


<h1 class="topictitle1">使用网络客户端驱动程序访问网络服务器</h1>



<div><p>连接到网络服务器时，您的应用程序需要加载特定于网络服务器的驱动程序和连接URL。此外，如果使用身份验证，则必须指定用户名和密码。</p>

<p>有关配置网络服务器认证的信息，请参阅《 <span><em>Derby安全指南</em></span> 》中的“配置用户认证”。</p>

<div class="p">您需要访问网络服务器的驱动程序是：<pre>org.apache.derby.jdbc.ClientDriver</pre>
</div>

<div class="p">访问网络服务器所需的URL的语法为：<pre>jdbc:derby://<em>server</em>[:<em>port</em>]/
<em>databaseName</em>[;<em>URL-attribute</em>=<em>value</em> [;...]]</pre>在哪里<samp class="codeph"><em>URL-attribute</em></samp>是<span>Derby</span>嵌入式属性或网络客户端属性。数据库名称或数据库路径中目录的名称都不能包含冒号（ <samp class="codeph">:</samp> ），但允许在Windows路径中的驱动器名称后加冒号。连接URL中的路径分隔符为正斜杠（ <samp class="codeph">/</samp> ）。</div>

<p>有关连接URL的完整信息，请参见《 <span><em>Derby参考手册》</em></span>和《 <span><em>Derby开发人员指南》</em></span> 。</p>

<p>使用连接URL访问网络服务器时，将自动加载网络客户端驱动程序。</p>
 
<p>要使用网络服务器访问内存数据库，语法为：</p>

<pre>jdbc:derby://<em>server</em>[:<em>port</em>]/memory:
<em>databaseName</em>[;<em>URL-attribute</em>=<em>value</em> [;...]]</pre>

<p>有关更多信息，请参阅《 <span><em>Derby开发人员指南</em></span> 》中的“使用内存数据库”。</p>

<p>对于驱动程序和数据源访问，数据库名称（包括路径），用户，密码和其他属性值必须由可以转换为UTF-8的字符组成。转换为UTF-8时，数据库名称加上属性的总字节长度不得超过1024个字节；请记住，在UTF-8中，一个字符可能占用1到4个字节。您可以通过设置长路径或包含多字节字符的路径来解决此限制。 <samp class="codeph">derby.system.home</samp>启动网络服务器并使用较短且不包含多字节字符的相对路径访问数据库时的系统属性。</p>

<p>下表显示了标准的JDBC DataSource属性。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the standard JDBC DataSource properties, providing the data type, description, URL attribute, and additional information for each property." frame="border" rules="all"><caption>表格1。标准JDBC数据源属性</caption>





<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="23%" id="N1014E">属性</th>

<th valign="bottom" width="10%" id="N10155">类型</th>

<th valign="bottom" width="21%" id="N1015C">描述</th>

<th valign="bottom" width="16%" id="N10163">URL属性</th>

<th valign="bottom" width="30%" id="N1016A">笔记</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="23%" headers="N1014E"><samp class="codeph">databaseName</samp></td>

<td valign="top" width="10%" headers="N10155"><samp class="codeph">String</samp></td>

<td valign="top" width="21%" headers="N1015C">数据库的名称。此属性是必需的。</td>

<td valign="top" width="16%" headers="N10163">没有</td>

<td valign="top" width="30%" headers="N1016A">此属性也可以使用<samp class="codeph">EmbeddedDataSource</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23%" headers="N1014E"><samp class="codeph">dataSourceName</samp></td>

<td valign="top" width="10%" headers="N10155"><samp class="codeph">String</samp></td>

<td valign="top" width="21%" headers="N1015C">数据源名称。</td>

<td valign="top" width="16%" headers="N10163">没有</td>

<td valign="top" width="30%" headers="N1016A">此属性也可以使用<samp class="codeph">EmbeddedDataSource</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23%" headers="N1014E"><samp class="codeph">description</samp></td>

<td valign="top" width="10%" headers="N10155"><samp class="codeph">String</samp></td>

<td valign="top" width="21%" headers="N1015C">数据源的描述。</td>

<td valign="top" width="16%" headers="N10163">没有</td>

<td valign="top" width="30%" headers="N1016A">此属性也可以使用<samp class="codeph">EmbeddedDataSource</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23%" headers="N1014E"><samp class="codeph">user</samp></td>

<td valign="top" width="10%" headers="N10155"><samp class="codeph">String</samp></td>

<td valign="top" width="21%" headers="N1015C">用户的帐户名。</td>

<td valign="top" width="16%" headers="N10163"><samp class="codeph">user</samp></td>

<td valign="top" width="30%" headers="N1016A">默认为APP。此属性也可以使用<samp class="codeph">EmbeddedDataSource</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23%" headers="N1014E"><samp class="codeph">password</samp></td>

<td valign="top" width="10%" headers="N10155"><samp class="codeph"><samp class="codeph">String</samp></samp></td>

<td valign="top" width="21%" headers="N1015C">用户的数据库密码。</td>

<td valign="top" width="16%" headers="N10163"><samp class="codeph">password</samp></td>

<td valign="top" width="30%" headers="N1016A">此属性也可以使用<samp class="codeph">EmbeddedDataSource</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23%" headers="N1014E"><samp class="codeph">serverName</samp></td>

<td valign="top" width="10%" headers="N10155"><samp class="codeph"><samp class="codeph">String</samp></samp></td>

<td valign="top" width="21%" headers="N1015C">服务器正在侦听请求的主机名或TCP / IP地址。</td>

<td valign="top" width="16%" headers="N10163">没有</td>

<td valign="top" width="30%" headers="N1016A">默认为<samp class="codeph">localhost</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23%" headers="N1014E"><samp class="codeph">portNumber</samp></td>

<td valign="top" width="10%" headers="N10155"><samp class="codeph">Integer</samp></td>

<td valign="top" width="21%" headers="N1015C">服务器正在侦听请求的端口号。</td>

<td valign="top" width="16%" headers="N10163">没有</td>

<td valign="top" width="30%" headers="N1016A">默认为<samp class="codeph">1527</samp> 。</td>

</tr>

</tbody>

</table>
</div>

<p>下表显示了特定于客户端的JDBC DataSource属性。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the client-specific JDBC DataSource properties, providing the data type, description, URL attribute, and additional information for each property." frame="border" rules="all"><caption>表2。客户端特定的数据源属性</caption>





<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="23.711340206185564%" id="N1035E">属性</th>

<th valign="bottom" width="10.309278350515463%" id="N10365">类型</th>

<th valign="bottom" width="21.649484536082475%" id="N1036C">描述</th>

<th valign="bottom" width="25.773195876288657%" id="N10373">URL属性</th>

<th valign="bottom" width="18.556701030927837%" id="N1037A">笔记</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="23.711340206185564%" headers="N1035E"><samp class="codeph">traceFile</samp></td>

<td valign="top" width="10.309278350515463%" headers="N10365"><samp class="codeph"><samp class="codeph">String</samp></samp></td>

<td valign="top" width="21.649484536082475%" headers="N1036C">跟踪输出的文件名。设置此属性将打开跟踪。请参阅<a href="cadminappsclienttracing.html#cadminappsclienttracing">网络客户端跟踪</a> 。</td>

<td valign="top" width="25.773195876288657%" headers="N10373"><samp class="codeph">traceFile</samp></td>

<td valign="top" width="18.556701030927837%" headers="N1037A">没有</td>

</tr>

<tr>
<td valign="top" width="23.711340206185564%" headers="N1035E"><samp class="codeph">traceDirectory</samp></td>

<td valign="top" width="10.309278350515463%" headers="N10365"><samp class="codeph"><samp class="codeph">String</samp></samp></td>

<td valign="top" width="21.649484536082475%" headers="N1036C">跟踪输出的目录。每个连接都会将输出发送到单独的文件。设置此属性将打开跟踪。请参阅<a href="cadminappsclienttracing.html#cadminappsclienttracing">网络客户端跟踪</a> 。</td>

<td valign="top" width="25.773195876288657%" headers="N10373"><samp class="codeph">traceDirectory</samp></td>

<td valign="top" width="18.556701030927837%" headers="N1037A">没有</td>

</tr>

<tr>
<td valign="top" width="23.711340206185564%" headers="N1035E"><samp class="codeph">traceLevel</samp></td>

<td valign="top" width="10.309278350515463%" headers="N10365"><samp class="codeph">Integer</samp></td>

<td valign="top" width="21.649484536082475%" headers="N1036C">客户端跟踪的级别，如果<samp class="codeph">traceFile</samp>要么<samp class="codeph">traceDirectory</samp>被设置。</td>

<td valign="top" width="25.773195876288657%" headers="N10373"><samp class="codeph">traceLevel</samp></td>

<td valign="top" width="18.556701030927837%" headers="N1037A">默认是<samp class="codeph">TRACE_ALL</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23.711340206185564%" headers="N1035E"><samp class="codeph">traceFileAppend</samp></td>

<td valign="top" width="10.309278350515463%" headers="N10365"><samp class="codeph">Boolean</samp></td>

<td valign="top" width="21.649484536082475%" headers="N1036C">价值是<samp class="codeph">true</samp>跟踪输出是否应追加到现有跟踪文件中。</td>

<td valign="top" width="25.773195876288657%" headers="N10373"><samp class="codeph">traceFileAppend</samp></td>

<td valign="top" width="18.556701030927837%" headers="N1037A">默认是<samp class="codeph">false</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23.711340206185564%" headers="N1035E"><samp class="codeph">securityMechanism</samp></td>

<td valign="top" width="10.309278350515463%" headers="N10365"><samp class="codeph">Integer</samp></td>

<td valign="top" width="21.649484536082475%" headers="N1036C">安全机制。请参阅《 <span><em>Derby安全指南</em></span> 》中的“配置不使用SSL / TLS的网络客户端身份验证<span><em>”</em></span> 。</td>

<td valign="top" width="25.773195876288657%" headers="N10373"><samp class="codeph">securityMechanism</samp></td>

<td valign="top" width="18.556701030927837%" headers="N1037A">默认是<samp class="codeph">USER_ONLY_SECURITY</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23.711340206185564%" headers="N1035E"><samp class="codeph">retrieveMessageText</samp></td>

<td valign="top" width="10.309278350515463%" headers="N10365"><samp class="codeph">Boolean</samp></td>

<td valign="top" width="21.649484536082475%" headers="N1036C">从服务器检索消息文本。调用存储过程以检索每个消息的消息文本<samp class="codeph">SQLException</samp>并可能开始一个新的工作单元。将此属性设置为<samp class="codeph">false</samp>如果您不希望对性能产生影响，或者在开始新的工作单元时。</td>

<td valign="top" width="25.773195876288657%" headers="N10373"><samp class="codeph">retrieveMessageText</samp></td>

<td valign="top" width="18.556701030927837%" headers="N1037A">默认是<samp class="codeph">true</samp> 。</td>

</tr>

<tr>
<td valign="top" width="23.711340206185564%" headers="N1035E"><samp class="codeph">ssl</samp></td>

<td valign="top" width="10.309278350515463%" headers="N10365"><samp class="codeph">String</samp></td>

<td valign="top" width="21.649484536082475%" headers="N1036C">客户端连接的SSL模式。请参阅《 <span><em>Derby安全指南</em></span> 》中的“配置SSL / TLS”。</td>

<td valign="top" width="25.773195876288657%" headers="N10373"><samp class="codeph">ssl</samp></td>

<td valign="top" width="18.556701030927837%" headers="N1037A">默认是<samp class="codeph">off</samp> 。</td>

</tr>

</tbody>

</table>
</div>

<p>下表显示了特定于服务器的JDBC数据源属性。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the server-specific JDBC DataSource properties, providing the data type, description, URL attribute, and additional information for each property." frame="border" rules="all"><caption>表3。服务器特定的数据源属性</caption>





<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="23%" id="N105B8">属性</th>

<th valign="bottom" width="10%" id="N105BF">类型</th>

<th valign="bottom" width="21%" id="N105C6">描述</th>

<th valign="bottom" width="16%" id="N105CD">URL属性</th>

<th valign="bottom" width="30%" id="N105D4">笔记</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="23%" headers="N105B8"><samp class="codeph">connectionAttributes</samp></td>

<td valign="top" width="10%" headers="N105BF"><samp class="codeph">String</samp></td>

<td valign="top" width="21%" headers="N105C6">设置为由分号分隔的<span>Derby</span>嵌入式连接属性列表。</td>

<td valign="top" width="16%" headers="N105CD">各种</td>

<td valign="top" width="30%" headers="N105D4">此属性也可以使用<samp class="codeph">EmbeddedDataSource</samp> 。有关各种连接属性的更多信息，请参见《 <span><em>Derby参考手册</em></span> 》。</td>

</tr>

<tr>
<td valign="top" width="23%" headers="N105B8"><samp class="codeph">createDatabase</samp></td>

<td valign="top" width="10%" headers="N105BF"><samp class="codeph">String</samp></td>

<td valign="top" width="21%" headers="N105C6">如果设置为<samp class="codeph">create</samp> ，创建使用指定的数据库<samp class="codeph">databaseName</samp>属性。</td>

<td valign="top" width="16%" headers="N105CD"><samp class="codeph">create</samp></td>

<td valign="top" width="30%" headers="N105D4">此属性也可以使用<samp class="codeph">EmbeddedDataSource</samp> 。有关更多信息，请参见《 <span><em>Derby参考手册</em></span> 》。类似于设置<samp class="codeph">connectionAttribute</samp>至<samp class="codeph">create=true</samp> 。只要<samp class="codeph">create</samp>被允许;其他值等于<samp class="codeph">null</samp> 。设置冲突的结果<samp class="codeph">createDatabase</samp> ， <samp class="codeph">shutdownDatabase</samp>和<samp class="codeph">connectionAttributes</samp>未定义。</td>

</tr>

<tr>
<td valign="top" width="23%" headers="N105B8"><samp class="codeph">shutdownDatabase</samp></td>

<td valign="top" width="10%" headers="N105BF"><samp class="codeph">String</samp></td>

<td valign="top" width="21%" headers="N105C6">如果设置为<samp class="codeph">shutdown</samp> ，请关闭使用指定的数据库<samp class="codeph">databaseName</samp>属性。</td>

<td valign="top" width="16%" headers="N105CD"><samp class="codeph">shutdown</samp></td>

<td valign="top" width="30%" headers="N105D4">此属性也可以使用<samp class="codeph">EmbeddedDataSource</samp> 。有关更多信息，请参见《 <span><em>Derby参考手册</em></span> 》。类似于设置<samp class="codeph">connectionAttribute</samp>至<samp class="codeph">shutdown=true</samp> 。只要<samp class="codeph">shutdown</samp>被允许;其他值等于<samp class="codeph">null</samp> 。设置冲突的结果<samp class="codeph">createDatabase</samp> ， <samp class="codeph">shutdownDatabase</samp>和<samp class="codeph">connectionAttributes</samp>未定义。如果同时启用身份验证<strong>和</strong> SQL授权，则数据库关闭仅限于数据库所有者。
</td>

</tr>

</tbody>

</table>
</div>

<div class="note"><span class="notetitle">注意：</span> <samp class="codeph">setAttributesAsPassword</samp>嵌入式数据源可用的属性，客户端数据源不可用。</div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="cadminappsclienttracing.html">网络客户端跟踪</a></strong><br>Derby Network客户端提供了一种跟踪工具，可以收集JDBC跟踪信息并查看协议流。</li>
<li class="ulchildlink"><strong><a href="radminappsclientxmp.html">网络客户端驱动程序示例</a></strong><br>以下示例指定用户和密码URL属性。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cadminapps59125.html" title="您必须修改当前以嵌入式模式针对Derby运行的Java应用程序，以便它们可与Derby Network Server一起使用。">将网络服务器与预先存在的Derby应用程序一起使用</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cadminappsthenetworkserverandjvms.html" title="Derby Network Server与Java平台标准版（Java SE）9及更高版本兼容。">网络服务器和Java虚拟机（JVM）</a></div>
<div><a href="cadminnsdatasources.html" title="网络服务器支持一组Derby Network Client驱动程序数据源类。">通过使用数据源对象访问网络服务器</a></div>
<div><a href="cadminapps811478.html" title="Derby嵌入式驱动程序和网络服务器都提供XA支持。网络服务器提供DRDA 7级支持。支持XAMGR的DRDA客户端（例如Derby网络客户端）可以将XA请求发送到网络服务器。">XA和网络服务器</a></div>
<div><a href="cadminappsusingthederbytoolswiththene.html" title="Derby工具ij和dblook在嵌入式模式和客户机/服务器模式下工作。">在网络服务器上使用Derby工具</a></div>
<div><a href="cadminapps.html" title="本节描述了在嵌入式模式下运行Derby与使用网络服务器之间的区别。">在嵌入式模式下运行Derby与使用网络服务器之间的区别</a></div>
</div>
<div class="reltasks"><strong>相关任务</strong><br>
<div><a href="tadminappschangingyourclasspath.html" title="要使用网络服务器和网络客户端驱动程序，请将以下jar文件添加到服务器的classpath / modulepath中。">安装所需的jar文件并将其添加到classpath / modulepath</a></div>
<div><a href="tadmincbdjhhfd.html" title="要启动网络服务器，可以调用脚本，JAR文件或类。">启动网络服务器</a></div>
<div><a href="tadminconfigshuttingdownthenetworkserver.html" title="要关闭网络服务器，您可以调用脚本，jar文件或类。">关闭网络服务器</a></div>
<div><a href="tadminconfigsysteminformation.html" title="您可以使用sysinfo实用程序获取有关网络服务器的信息，例如版本和当前属性值，Java信息以及Derby数据库服务器信息。">获取系统信息</a></div>
<div><a href="tadminappssettingportnumbers.html" title="默认情况下，Derby Network Server侦听TCP / IP端口号1527。如果要使用其他端口号，则可以在启动网络服务器时在命令行上指定它。">设置端口号</a></div>
</div>
</div>



</body></html>