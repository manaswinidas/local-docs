<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Bulk import and export of large objects">
<meta name="abstract" content="You can import and export large objects (LOBs) using the Derby system procedures.">
<meta name="description" content="You can import and export large objects (LOBs) using the Derby system procedures.">
<meta name="DC.subject" content="bulk import and export, large objects, large objects, importing and exporting, importing data, exporting data, CLOB data, BLOB data, CHAR FOR BIT DATA, VARCHAR FOR BIT DATA, LONG VARCHAR FOR BIT DATA">
<meta name="keywords" content="bulk import and export, large objects, large objects, importing and exporting, importing data, exporting data, CLOB data, BLOB data, CHAR FOR BIT DATA, VARCHAR FOR BIT DATA, LONG VARCHAR FOR BIT DATA">
<meta name="DC.Relation" scheme="URI" content="radminimport91458.html">
<meta name="DC.Relation" scheme="URI" content="cadminimport16245.html">
<meta name="DC.Relation" scheme="URI" content="cadminimport98264.html">
<meta name="DC.Relation" scheme="URI" content="cadminimport27052.html">
<meta name="DC.Relation" scheme="URI" content="cadminimportdefaultformat.html">
<meta name="DC.Relation" scheme="URI" content="tadminimporting.html">
<meta name="DC.Relation" scheme="URI" content="tadminexporting.html">
<meta name="DC.Relation" scheme="URI" content="radminimport91458.html">
<meta name="DC.Relation" scheme="URI" content="cadminimportjdbc.html">
<meta name="DC.Relation" scheme="URI" content="cadminimportnulls.html">
<meta name="DC.Relation" scheme="URI" content="radminimportcodeset.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cadminimportlobs">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>批量导入和导出大对象</title>
</head>
<body id="cadminimportlobs" ><a name="cadminimportlobs"><!-- --></a>


<h1 class="topictitle1">批量导入和导出大对象</h1>



<div><p>您可以使用<span>Derby</span>系统过程导入和导出大对象（LOB）。</p>

<div class="section"><h2 class="sectiontitle">导入和导出CLOB和BLOB数据</h2>
<p>可以将CLOB和BLOB数据与其余的列数据导出到同一文件，或者可以将LOB列数据导出到单独的外部文件。当LOB列数据导出到单独的外部文件时，对LOB数据位置的引用将放置在主导出文件的LOB列中。</p>

<p>使用单独的外部文件导入和导出LOB数据可能比将LOB数据与其余列数据存储在同一文件中要快：</p>

<ul>
<li>不必在CLOB数据中扫描数据中的分隔符</li>

<li>BLOB数据不需要转换为十六进制格式</li>

</ul>

</div>

<div class="section"><h2 class="sectiontitle">导入和导出其他二进制数据</h2>
<p>当您导出包含数据类型为CHAR FOR BIT DATA，VARCHAR FOR BIT DATA和LONG VARCHAR FOR BIT DATA的列时，列数据始终会导出到主导出文件中。数据以十六进制格式写入。要将数据导入到具有这些数据类型的列的表中，这些列的导入文件中的数据必须为十六进制格式。</p>

</div>

<div class="section"><h2 class="sectiontitle">从包含所有数据的文件中导入LOB数据</h2>
<p>您可以使用<samp class="codeph">SYSCS_UTIL.SYSCS_IMPORT_TABLE</samp>和<samp class="codeph">SYSCS_UTIL.SYSCS_IMPORT_DATA</samp>将数据导入到包含LOB列的表中的过程。LOB数据必须与要导入的其他列数据存储在同一文件中。如果要从非<span>Derby</span>源导出的文件中导入数据，则二进制数据必须为十六进制格式。</p>

</div>

<div class="section"><h2 class="sectiontitle">从单独的外部文件导入LOB数据</h2>
<p>您可以使用<samp class="codeph">SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE</samp>和<samp class="codeph">SYSCS_UTIL.SYSCS_IMPORT_DATA_LOBS_FROM_EXTFILE</samp>导入存储在与主导入文件不同的文件中的LOB数据的过程。这些过程使用存储在主导入文件中的引用读取LOB数据。如果要从非<span>Derby</span>来源导入数据，则对LOB数据的引用必须在主导入文件中，格式为<samp class="codeph"><em>lobsFileName</em>.<em>Offset</em>.<em>length</em>/</samp> 。这与<span>Derby</span>导出过程将LOB数据导出到单独的外部文件时使用的方法相同。</p>

</div>

<div class="section"><h2 class="sectiontitle">将LOB数据导出到与其他列数据相同的文件中</h2>
<p>您可以使用<samp class="codeph">SYSCS_UTIL.SYSCS_EXPORT_TABLE</samp>和<samp class="codeph">SYSCS_UTIL.SYSCS_EXPORT_QUERY</samp>将LOB数据与其余列数据一起写入单个导出文件的过程。</p>

<p>CLOB列数据与其他字符数据相同。CLOB数据中允许使用字符定界符。导出过程将定界符作为双定界符写入数据中。</p>

<p>BLOB列数据以十六进制格式写入导出文件。对于BLOB数据的每个字节，将生成两个字符。第一个字符代表十六进制的高半字节（4位），第二个字符代表低半字节。</p>

</div>

<div class="section"><h2 class="sectiontitle">将LOB数据与其他列数据导出到单独的外部文件</h2>
<p>您可以使用<samp class="codeph">SYSCS_UTIL.SYSCS_EXPORT_TABLE_LOBS_TO_EXTFILE</samp>和<samp class="codeph">SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE</samp>将LOB数据写入单独的外部文件的过程。这些程序包括<samp class="codeph">LOBSFILENAME</samp>参数，用于指定LOB数据的外部文件的名称。</p>

<p>使用这些过程时，LOB数据的位置将写入主导出文件。存储在主导出文件中的对LOB的引用格式为<samp class="codeph"><em>lobsFileName</em>.<em>Offset</em>.<em>length</em>/</samp> 。</p>

<ul>
<li><em>偏移量</em>是外部文件中的位置，以字节为单位</li>

<li><em>length</em>是LOB列数据的大小（以字节为单位）</li>

</ul>

<p>如果LOB列的值为NULL，则<em>长度</em>写为-1。将LOB数据导出到外部文件时，不执行任何数据转换。BLOB数据以二进制格式写入，而CLOB数据使用指定的代码集写入。</p>

<p>有关使用每个导入和导出过程的<a href="radminimport91458.html#radminimport91458">示例，</a>请参见<a href="radminimport91458.html#radminimport91458">批量导入和导出</a>示例。</p>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cadminimport16245.html" title="您可以在文件和Derby数据库之间导入和导出大量数据。您不必使用INSERT和SELECT语句，而可以使用Derby系统过程将数据直接从文件导入表中，以及将数据从表导出到文件中。">导入和导出数据</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cadminimport98264.html" title="您可以使用ij或任何Java应用程序从SQL语句中运行导入和导出过程。">运行进出口程序的方法</a></div>
<div><a href="cadminimport27052.html" title="使用Derby导入和导出过程之前，必须考虑一些要求和限制。">批量进出口的要求和注意事项</a></div>
<div><a href="cadminimportdefaultformat.html" title="导入和导出数据时，对输入和输出文件的格式有特定要求。">输入和输出的文件格式</a></div>
<div><a href="cadminimportjdbc.html" title="您可以从JDBC程序运行导入和导出过程。">从JDBC运行导入和导出过程</a></div>
<div><a href="cadminimportnulls.html" title="在定界文件中，NULL值被导出为空字段。">导入和导出过程如何处理NULL值</a></div>
</div>
<div class="reltasks"><strong>相关任务</strong><br>
<div><a href="tadminimporting.html" title="您可以使用Derby导入过程从表或查询中导入所有数据，或与其他数据分开导入LOB数据。">使用内置过程导入数据</a></div>
<div><a href="tadminexporting.html" title="您可以使用Derby导出过程从表或查询中导出所有数据，或者将LOB数据与其他数据分开导出。">使用内置过程导出数据</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="radminimportcodeset.html" title="导入和导出过程接受用于指定代码集值的参数。您可以为导入和导出过程指定代码集（字符编码），以覆盖系统默认值。">进出口程序的CODESET值</a></div>
<div><a href="radminimport91458.html" title="本节中的所有示例都使用ij实用程序运行。">批量进出口示例</a></div>
</div>
</div>



</body></html>