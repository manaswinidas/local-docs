<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Forcing a failover">
<meta name="abstract" content="At any time, you can transform the Derby database that has the slave role into a normal Derby database that can process transactions. This transformation from being a slave to becoming an active Derby database is called failover.">
<meta name="description" content="At any time, you can transform the Derby database that has the slave role into a normal Derby database that can process transactions. This transformation from being a slave to becoming an active Derby database is called failover.">
<meta name="DC.subject" content="replicating databases, forcing failover, database replication">
<meta name="keywords" content="replicating databases, forcing failover, database replication">
<meta name="DC.Relation" scheme="URI" content="cadminreplication.html">
<meta name="DC.Relation" scheme="URI" content="cadminreplicstartrun.html">
<meta name="DC.Relation" scheme="URI" content="cadminreplicstop.html">
<meta name="DC.Relation" scheme="URI" content="cadminreplicsecurity.html">
<meta name="DC.Relation" scheme="URI" content="cadminreplicfailures.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cadminreplicfailover">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>强制故障转移</title>
</head>
<body id="cadminreplicfailover" ><a name="cadminreplicfailover"><!-- --></a>


<h1 class="topictitle1">强制故障转移</h1>



<div><p>在任何时候，你可以将具有从角色到能够处理的交易正常<span>Derby</span>数据库<span>Derby</span>数据库。从成为从属数据库到成为活动<span>Derby</span>数据库的这种转换称为<em>故障转移</em> 。</p>

<p>在故障转移期间，从服务器将应用事务日志中尚未处理的部分。然后，它撤消属于未提交事务的操作，从而导致事务一致状态，其中包括提交日志记录已发送到从属设备的所有事务。</p>

<p>您从主系统执行故障转移。为此，您可以使用以下命令连接到主系统上的数据库： <samp class="codeph">failover=true</samp>连接URL属性。例如，对于一个名为<samp class="codeph">wombat</samp> ，您可以指定以下连接网址：</p>

<pre>jdbc:derby:wombat;failover=true</pre>

<p>如果主系统和从系统之间的网络连接丢失，则可以从从系统执行故障转移。</p>

<p>有关以下内容的详细信息，请参见《 <span><em>Derby参考手册》</em></span> 。 <samp class="codeph">failover=true</samp>属性。</p>

<p>实例之一发生故障后，不会进行自动故障转移或复制重启。</p>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cadminreplication.html" title="复制是强大的数据库管理系统的重要功能。在Derby中，使用连接URL属性启动数据库复制。">复制数据库</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cadminreplicstartrun.html" title="每个复制的数据库都从该数据库的主版本复制到从版本。">启动和运行复制</a></div>
<div><a href="cadminreplicstop.html" title="要停止数据库复制，请使用stopMaster = true连接URL属性连接到master数据库。">停止复制</a></div>
<div><a href="cadminreplicsecurity.html" title="如果要在启用安全管理器的情况下执行复制，则必须在主系统和从系统上都修改安全策略文件，以允许主从网络连接。">复制和安全性</a></div>
<div><a href="cadminreplicfailures.html" title="复制可能会遇到几种故障情况。下表列出了这些情况，并描述了Derby所采取的措施。">复制失败处理</a></div>
</div>
</div>



</body></html>