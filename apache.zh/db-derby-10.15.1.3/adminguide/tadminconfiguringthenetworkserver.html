<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Network Server to handle connections">
<meta name="abstract" content="You can configure the Network Server to use a specific number of threads to handle connections. You can change the configuration on the command line.">
<meta name="description" content="You can configure the Network Server to use a specific number of threads to handle connections. You can change the configuration on the command line.">
<meta name="DC.subject" content="derby.drda.minthreads, derby.drda.maxthreads">
<meta name="keywords" content="derby.drda.minthreads, derby.drda.maxthreads">
<meta name="DC.Relation" scheme="URI" content="cadminadvtops.html">
<meta name="DC.Relation" scheme="URI" content="tadminlogfile.html">
<meta name="DC.Relation" scheme="URI" content="tadmintracefacility.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tadminconfiguringthenetworkserver">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>配置网络服务器以处理连接</title>
</head>
<body id="tadminconfiguringthenetworkserver" ><a name="tadminconfiguringthenetworkserver"><!-- --></a>


<h1 class="topictitle1">配置网络服务器以处理连接</h1>



<div><p>您可以将网络服务器配置为使用特定数量的线程来处理连接。您可以在命令行上更改配置。</p>

<div class="section"><p>最小线程数是引导网络服务器时启动的线程数。此值被指定为属性， <samp class="codeph">derby.drda.minThreads=<em>min</em></samp> 。最大线程数是将用于连接的最大线程数。如果活动的连接数多于可用线程数，则额外的连接必须等待下一个线程可用。线程可以在指定时间后变为可用状态，只有在线程完成通信处理后才会检查线程。</p>

</div>

<ul>
<li class="stepexpand"><span>您可以使用以下命令（最大一行）来更改最大线程数：</span>
 
<pre><strong>java org.apache.derby.drda.NetworkServerControl maxthreads <em>max</em>
  [-h <em>hostname</em>] [-p <em>portnumber</em></strong></pre>您也可以使用<samp class="codeph">derby.drda.maxThreads</samp>属性以分配最大值。<em>最大值</em> 0表示没有最大值，如果没有当前线程可用，则将为连接生成一个新线程。这是默认值。<em>最大值</em>和<em>最小值</em>存储为整数，因此理论最大值为2147483647（整数的最大大小）。但是实际最大值取决于机器配置。
</li>

<li class="stepexpand"><span>要更改线程应在一个会话的请求上工作的时间并检查是否有等待的会话，请使用以下命令（全部在一行上）：</span>
 
<pre><strong>java org.apache.derby.drda.NetworkServerControl
  timeslice <em>milliseconds</em> [-h <em>hostname</em>] [-p <em>portnumber</em>]</strong></pre>

 <p>您也可以使用<samp class="codeph">derby.drda.timeSlice</samp>属性以设置此值。值为0毫秒表示线程在会话结束之前不会放弃在该会话上的工作。-1毫秒的值表示使用默认值。默认值为0。可以指定的最大毫秒数为2147483647（整数的最大大小）。</p>
 
</li>

</ul>

<div class="section">有关这些属性的更多信息，请参见<a href="radmindrdaminthreads.html#radmindrdaminthreads">derby.drda.minThreads属性</a> ， <a href="radmindrdamaxthreads.html#radmindrdamaxthreads">derby.drda.maxThreads属性</a>和<a href="radmindrdatimeslice.html#radmindrdatimeslice">derby.drda.timeSlice属性</a> 。</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cadminadvtops.html" title="本节为Derby Network Server的用户讨论了几个高级主题。">Derby Network Server高级主题</a></div>
</div>
<div class="reltasks"><strong>相关任务</strong><br>
<div><a href="tadminlogfile.html" title="网络服务器使用derby.log文件记录它遇到的问题。当属性derby.drda.logConnections设置为true时，它还会记录连接。">使用日志文件控制日志记录</a></div>
<div><a href="tadmintracefacility.html" title="仅在您与技术支持一起使用且他们需要跟踪信息时，才使用跟踪工具。">使用跟踪工具控制跟踪</a></div>
</div>
</div>



</body></html>