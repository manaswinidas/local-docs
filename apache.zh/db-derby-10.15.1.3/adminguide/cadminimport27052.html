<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Bulk import and export requirements and considerations">
<meta name="abstract" content="There are requirements and limitations that you must consider before you use the Derby import and export procedures.">
<meta name="description" content="There are requirements and limitations that you must consider before you use the Derby import and export procedures.">
<meta name="DC.subject" content="bulk import and export, requirements, import procedures, limitations, export procedures, system procedures, import and export, requirements">
<meta name="keywords" content="bulk import and export, requirements, import procedures, limitations, export procedures, system procedures, import and export, requirements">
<meta name="DC.Relation" scheme="URI" content="tadminimporting.html">
<meta name="DC.Relation" scheme="URI" content="tadminexporting.html">
<meta name="DC.Relation" scheme="URI" content="cadminimport16245.html">
<meta name="DC.Relation" scheme="URI" content="cadminimport98264.html">
<meta name="DC.Relation" scheme="URI" content="cadminimportlobs.html">
<meta name="DC.Relation" scheme="URI" content="cadminimportdefaultformat.html">
<meta name="DC.Relation" scheme="URI" content="tadminimporting.html">
<meta name="DC.Relation" scheme="URI" content="tadminexporting.html">
<meta name="DC.Relation" scheme="URI" content="radminimport91458.html">
<meta name="DC.Relation" scheme="URI" content="cadminimportjdbc.html">
<meta name="DC.Relation" scheme="URI" content="cadminimportnulls.html">
<meta name="DC.Relation" scheme="URI" content="radminimportcodeset.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cadminimport27052">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>批量进出口的要求和注意事项</title>
</head>
<body id="cadminimport27052" ><a name="cadminimport27052"><!-- --></a>


<h1 class="topictitle1">批量进出口的要求和注意事项</h1>



<div><p>在使用<span>Derby</span>导入和导出过程之前，必须考虑一些要求和限制。</p>

<dl>
<dt class="dlterm">数据库交易</dt>

<dd>在每个导入和导出过程运行之后， <span>Derby</span>发出COMMIT或ROLLBACK语句（如果该过程成功完成，则为COMMIT；如果失败，则为ROLLBACK）。因此，在调用导入或导出过程之前，应发出COMMIT或ROLLBACK语句来完成所有事务并释放所有表级锁。导入或导出过程中的错误以及随后的ROLLBACK将丢弃在调用该过程之前执行的所有更改，反之亦然：导入或导出过程调用之前不应该进行的任何不合理的更改都可以自动提交。</dd>


<dt class="dlterm">数据库连接</dt>

<dd>要调用<span>Derby</span>导入或导出过程，必须连接到要导入数据或要从中导出数据的数据库。使用单独连接访问表的其他用户应用程序无需断开连接。</dd>


<dt class="dlterm">类路径</dt>

<dd>必须先在类路径中包含<span class="filepath">derbytools.jar</span>文件，然后才能使用导入或导出过程<samp class="codeph">ij</samp> 。</dd>


<dt class="dlterm">该表必须存在</dt>

<dd>要将数据导入表中，该表必须已经存在于<span>Derby中</span> 。该表不必为空。如果表不为空，则批量导入将执行单行插入，这会导致性能降低。</dd>


<dt class="dlterm">导入之前创建索引，键和唯一约束</dt>

<dd>为了避免单独的步骤，请在导入数据之前在表上创建索引，键（主键和外键）和唯一约束。但是，如果内存和磁盘空间资源有限，则可以在导入数据后构建索引和主键。</dd>


<dt class="dlterm">资料类型</dt>

<dd><span>Derby</span>将字符串隐式转换为接收列的数据类型。如果任何隐式转换失败，则将终止整个导入。例如，“ 3 + 7”不能转换为整数。遇到运行时错误的导出将停止。
<div class="note"><span class="notetitle">注意：</span>您不能导入或导出XML数据类型。</div>
</dd>


<dt class="dlterm">导入期间锁定</dt>

<dd>导入过程使用与执行连接时使用的隔离级别相同的隔离级别，以将数据插入表中。在导入期间，整个表将被独占锁定，而与隔离级别无关。</dd>


<dt class="dlterm">导出时锁定</dt>

<dd>导出过程使用与执行连接时使用的隔离级别相同的隔离级别，以从表中获取数据。</dd>


<dt class="dlterm">使用触发器在表上导入行为</dt>

<dd>当数据追加到表时，导入过程将启用INSERT触发器。在表上启用触发器时，不允许使用REPLACE参数。</dd>


<dt class="dlterm">对REPLACE参数的限制</dt>

<dd>如果将数据导入到已经包含数据的表中，则可以替换或附加到现有数据。您可以在具有相关表的表上使用REPLACE参数。替换后的数据必须保持参照完整性；否则，导入操作将被回滚。如果表启用了触发器，则不能使用REPLACE参数。</dd>


<dt class="dlterm">桌子上的限制</dt>

<dd>您不能使用导入过程将数据导入系统表或已声明的临时表中。</dd>

</dl>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cadminimport16245.html" title="您可以在文件和Derby数据库之间导入和导出大量数据。您不必使用INSERT和SELECT语句，而可以使用Derby系统过程将数据直接从文件导入表中，以及将数据从表导出到文件中。">导入和导出数据</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cadminimport98264.html" title="您可以使用ij或任何Java应用程序在SQL语句中运行导入和导出过程。">运行进出口程序的方法</a></div>
<div><a href="cadminimportlobs.html" title="您可以使用Derby系统过程导入和导出大对象（LOB）。">批量导入和导出大对象</a></div>
<div><a href="cadminimportdefaultformat.html" title="导入和导出数据时，对输入和输出文件的格式有特定要求。">输入和输出的文件格式</a></div>
<div><a href="cadminimportjdbc.html" title="您可以从JDBC程序运行导入和导出过程。">从JDBC运行导入和导出过程</a></div>
<div><a href="cadminimportnulls.html" title="在定界文件中，NULL值被导出为空字段。">导入和导出过程如何处理NULL值</a></div>
</div>
<div class="reltasks"><strong>相关任务</strong><br>
<div><a href="tadminimporting.html" title="您可以使用Derby导入过程从表或查询中导入所有数据，或与其他数据分开导入LOB数据。">使用内置过程导入数据</a></div>
<div><a href="tadminexporting.html" title="您可以使用Derby导出过程从表或查询中导出所有数据，或者将LOB数据与其他数据分开导出。">使用内置过程导出数据</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="radminimport91458.html" title="本节中的所有示例都使用ij实用程序运行。">批量进出口示例</a></div>
<div><a href="radminimportcodeset.html" title="导入和导出过程接受用于指定代码集值的参数。您可以为导入和导出过程指定代码集（字符编码），以覆盖系统默认值。">进出口程序的CODESET值</a></div>
</div>
</div>



</body></html>