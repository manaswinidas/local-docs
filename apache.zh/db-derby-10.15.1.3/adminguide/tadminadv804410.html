<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Turning on the trace facility">
<meta name="abstract" content="Follow these steps to turn on the trace facility.">
<meta name="description" content="Follow these steps to turn on the trace facility.">
<meta name="DC.Relation" scheme="URI" content="tadmintracefacility.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tadminadv804410">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>开启跟踪功能</title>
</head>
<body id="tadminadv804410" ><a name="tadminadv804410"><!-- --></a>


<h1 class="topictitle1">开启跟踪功能</h1>


<div><p>请按照以下步骤打开跟踪工具。</p>

<ol>
<li class="stepexpand"><span>通过指定以下属性来打开所有会话的跟踪：</span>
 
<pre>derby.drda.traceAll=true</pre>

<p>有关<a href="radminconfig.html#radminconfig">此属性</a>的信息，请参见<a href="radminconfig.html#radminconfig">derby.drda.traceAll</a>属性。</p>

<p>或者，在网络服务器运行时，可以使用以下命令（全部在一行上）打开跟踪功能：</p>

<pre><strong>java org.apache.derby.drda.NetworkServerControl
  trace on [-s <em>connection-number</em>] [-h <em>hostname</em>][-p <em>portnumber</em>]</strong></pre>如果指定<em>connection-number</em> ，则仅对该连接打开跟踪。</li>

<li class="stepexpand"><span>通过指定以下属性来设置跟踪文件的位置：</span>
 
<pre>derby.drda.traceDirectory=<em>directory-for-tracing-files</em></pre>

<p>有关<a href="radminconfigdb2jdrdatracedirectory.html#radminconfigdb2jdrdatracedirectory">此属性</a>的信息，请参见<a href="radminconfigdb2jdrdatracedirectory.html#radminconfigdb2jdrdatracedirectory">derby.drda.traceDirectory</a>属性。</p>

<p>或者，在网络服务器运行时，使用以下命令（全部在一行上）来设置跟踪目录：</p>

<pre><strong>java org.apache.derby.drda.NetworkServerControl traceDirectory 
  <em>directory-for-tracing-files</em> [-h <em>hostname</em>] [-p <em>portnumber</em>]</strong></pre>
 
<p>您只需要指定跟踪文件所在的目录。跟踪文件的名称由系统确定。如果不设置跟踪目录，则将跟踪文件放置在<samp class="codeph">derby.system.home</samp> 。</p>

<p>如果它们不存在，网络服务器将尝试创建跟踪目录（和任何父目录）。这将要求Java安全策略用于<samp class="codeph">derbynet.jar</samp>允许验证命名的跟踪目录和所有必要的父目录的存在。对于创建的每个目录，该策略必须允许</p>

<pre>permission java.io.FilePermission "<em>directory</em>", "read,write";</pre>

<p>对于跟踪目录本身，该策略必须允许</p>

<pre>permission java.io.FilePermission "<em>tracedirectory</em>${/}-", "write";</pre>

<p>有关自定义网络服务器的安全策略的信息，请参见《 <span><em>Derby安全指南</em></span> 》中的“配置Java安全性”。</p>


</li>

</ol>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="tadmintracefacility.html" title="仅在您与技术支持一起使用且他们需要跟踪信息时，才使用跟踪工具。">使用跟踪工具控制跟踪</a></div>
</div>
</div>



</body></html>