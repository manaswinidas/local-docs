<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Running the NsSample sample program">
<meta name="abstract" content="To run the NsSample program, follow these steps.">
<meta name="description" content="To run the NsSample program, follow these steps.">
<meta name="DC.Relation" scheme="URI" content="radminovnssample.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tadminovnsrundemo">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>运行NsSample示例程序</title>
</head>
<body id="tadminovnsrundemo" ><a name="tadminovnsrundemo"><!-- --></a>


<h1 class="topictitle1">运行NsSample示例程序</h1>


<div><p>运行<samp class="codeph">NsSample</samp>程序，请按照下列步骤操作。</p>

<ol>
<li class="stepexpand"><span>打开命令提示符并更改为<samp class="codeph">%<span>DERBY_HOME</span>%\demo\</samp>目录，在哪里<samp class="codeph">%<span>DERBY_HOME</span>%</samp>是您安装<span>Derby</span>的目录。</span>
</li>

<li class="stepexpand"><span>将CLASSPATH设置为当前目录（“。”），并且还包括以下jar文件，以便使用网络服务器和网络客户端驱动程序：</span>
 <dl>


<dt class="dlterm"><samp class="codeph">derbynet.jar</samp></dt>

<dd>网络服务器jar文件。它必须在您的CLASSPATH中才能使用任何网络服务器功能。</dd>




<dt class="dlterm"><samp class="codeph">derbyclient.jar</samp></dt>

<dd>该jar文件必须在您的CLASSPATH中，才能使用网络客户端驱动程序。</dd>




<dt class="dlterm"><samp class="codeph">derby.jar</samp></dt>

<dd><span>Derby</span>数据库引擎jar文件。</dd>




<dt class="dlterm"><samp class="codeph">derbyshared.jar</samp></dt>

<dd>所有<span>Derby</span>配置共享的代码。</dd>




<dt class="dlterm"><samp class="codeph">derbytools.jar</samp></dt>

<dd><span>Derby</span>数据源和工具。</dd>



</dl>
</li>

<li class="stepexpand"><span>通过运行以下Java命令来测试CLASSPATH设置：</span>
 
<pre><strong>java org.apache.derby.tools.sysinfo</strong></pre>此命令显示类路径中的<span>Derby</span> jar文件及其各自的版本。
</li>

<li class="stepexpand"><span>正确设置环境后，运行<samp class="codeph">NsSample</samp>来自同一目录的程序：</span>
 
<pre><strong>java nserverdemo.NsSample</strong></pre>如果程序成功运行，您将收到类似于以下内容的输出：<pre>Using JDBC driver: org.apache.derby.jdbc.ClientDriver
Derby Network Server created
Apache <span>Derby</span> Network Server started
and ready to accept connections on port 1621
[NsSample] <span>Derby</span> Network Server started.
[NsSample] Sample <span>Derby</span> Network Server program demo starting.
Please wait .....................
Connection number: 2.
[NsSampleWork] Begin creating table - SAMPLETBL and necessary indexes.
[NsSampleClientThread] Thread id - 2; started.
[NsSampleWork] Thread id - 2; requests database connection, 
	dbUrl =jdbc:derby://localhost:1621/NSSampledb;create=true;
[NsSampleClientThread] Thread id - 1; started.
[NsSampleWork] Thread id - 1; requests database connection, 
	dbUrl =jdbc:derby:NSSampledb;
[NsSampleWork] Thread id - 1; inserted 1 row.
[NsSampleWork] Thread id - 1; inserted 1 row.
[NsSampleWork] Thread id - 1; deleted 1 row with t_key = 9372
[NsSampleWork] Thread id - 1 selected 1 row [920,Derby50        ,951.7808,9216]
[NsSampleWork] Thread id - 1 selected 1 row [920,Derby50        ,951.7808,9216]
[NsSampleWork] Thread id - 1; inserted 1 row.
[NsSampleWork] Thread id - 1 selected 1 row [920,Derby50        ,951.7808,9216]
[NsSampleWork] Thread id - 1; deleted 1 row with t_key = 9216
[NsSampleWork] Thread id - 1 selected 1 row [824,Derby26        ,8.802546E22,9155]
[NsSampleWork] Thread id - 1; updated 1 row with t_key = 9155
[NsSampleWork] Thread id - 1; closed connection to the database.
[NsSampleClientThread] Thread id - 1; finished all tasks.
[NsSampleWork] Thread id - 2; updated 0 row with t_key = 9372
[NsSampleWork] Thread id - 2; updated 1 row with t_key = 9155
[NsSampleWork] Thread id - 2 selected 1 row [56,Derby26        ,8.802546E22,9155]
[NsSampleWork] Thread id - 2; inserted 1 row.
[NsSampleWork] Thread id - 2; updated 1 row with t_key = 9155
[NsSampleWork] Thread id - 2; deleted 1 row with t_key = 9155
[NsSampleWork] Thread id - 2 selected 1 row [785,Derby2         ,0.30170244,8280]
[NsSampleWork] Thread id - 2 selected 1 row [785,Derby2         ,0.30170244,8280]
[NsSampleWork] Thread id - 2; updated 1 row with t_key = 8280
[NsSampleWork] Thread id - 2 selected 1 row [59,Derby2         ,0.30170244,8280]
[NsSampleWork] Thread id - 2; closed connection to the database.
[NsSampleClientThread] Thread id - 2; finished all tasks.
[NsSample] Shutting down network server.
Apache <span>Derby</span> Network Server - shutdown
[NsSample] End of Network server demo.
</pre>
</li>

</ol>

<div class="section">运行<samp class="codeph">NsSample</samp>程序还会创建以下新目录和文件：<dl>
<dt class="dlterm"><samp class="codeph">NSSampledb</samp></dt>

<dd>该目录构成了<samp class="codeph">NSSampledb</samp>数据库。</dd>


<dt class="dlterm"><samp class="codeph">derby.log</samp></dt>

<dd>该日志文件包含<span>Derby</span>进度和错误消息。</dd>

</dl>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="radminovnssample.html" title="NsSample演示程序是与网络服务器交互的简单JDBC应用程序。">NsSample示例程序</a></div>
</div>
</div>



</body></html>