<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="CallableStatements and INOUT parameters">
<meta name="abstract" content="INOUT parameters map to an array of the parameter type in the Java programming language. (The method must take an array as its parameter.) This conforms to the recommendations of the SQL standard.">
<meta name="description" content="INOUT parameters map to an array of the parameter type in the Java programming language. (The method must take an array as its parameter.) This conforms to the recommendations of the SQL standard.">
<meta name="DC.subject" content="java.sql.CallableStatement, and INOUT parameters">
<meta name="keywords" content="java.sql.CallableStatement, and INOUT parameters">
<meta name="DC.Relation" scheme="URI" content="rrefjdbc20485.html">
<meta name="DC.Relation" scheme="URI" content="rrefjavcallstatout.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefjdbc75719">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>CallableStatements和INOUT参数</title>
</head>
<body id="rrefjdbc75719" ><a name="rrefjdbc75719"><!-- --></a>


<h1 class="topictitle1">CallableStatements和INOUT参数</h1>



<div><p>INOUT参数映射到Java编程语言中参数类型的<em>数组</em> 。（该方法必须将数组作为其参数。）这符合SQL标准的建议。</p>

<div class="section"><div class="p">给出以下示例：<pre><strong>CallableStatement call = conn.prepareCall(
    "{CALL doubleMyInt(?)}");
<span>// for inout parameters, it is good practice to
// register the outparameter before setting the input value</span>
call.registerOutParameter(1, Types.INTEGER);
call.setInt(1,10);
call.execute();
int retval = call.getInt(1);</strong></pre>
</div>
</div>

<div class="section"><div class="p"><em>doubleIt</em>方法应采用一维数组<samp class="codeph">ints</samp> 。这是该方法的示例源代码：<pre><strong>public static void doubleMyInt(int[] i) {
    i[0] *=2;
    <span>/* <span>Derby</span>  returns the first element of the array.*/</span>
}</strong></pre>
</div>
 <div class="note"><span class="notetitle">注意：</span>即使方法的参数是，返回值也<em>不会</em>包装在数组中。</div>
 
<p>下表显示了与JDBC类型相对应的参数数组类型和返回类型。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the JDBC data types and provides the parameter array type and return type for each." frame="border" rules="all"><caption>表格1。INOUT参数类型对应</caption>



<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="34%" id="N100D5">JDBC类型</th>

<th valign="bottom" width="33%" id="N100DC">方法参数的数组类型</th>

<th valign="bottom" width="33%" id="N100E3">值和返回类型</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="34%" headers="N100D5">比金特</td>

<td valign="top" width="33%" headers="N100DC"><em>长[]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>长</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">二进制</td>

<td valign="top" width="33%" headers="N100DC"><em>字节[][]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>字节[]</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">BLOB</td>

<td valign="top" width="33%" headers="N100DC"><em>java.sql。Blob []</em></td>

<td valign="top" width="33%" headers="N100E3"><em>java.sql。斑点</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">布兰</td>

<td valign="top" width="33%" headers="N100DC"><em>布尔值[]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>布尔值</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">CLOB</td>

<td valign="top" width="33%" headers="N100DC"><em>java.sql。Clob []</em></td>

<td valign="top" width="33%" headers="N100E3"><em>java.sql。b</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">日期</td>

<td valign="top" width="33%" headers="N100DC"><em>java.sql。日期[]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>java.sql。日期</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">双</td>

<td valign="top" width="33%" headers="N100DC"><em>双[]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>双</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">浮动</td>

<td valign="top" width="33%" headers="N100DC"><em>双[]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>双</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">整数</td>

<td valign="top" width="33%" headers="N100DC"><em>int []</em></td>

<td valign="top" width="33%" headers="N100E3"><em>整型</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">LONGVARBINARY</td>

<td valign="top" width="33%" headers="N100DC"><em>字节[][]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>字节[]</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">真实</td>

<td valign="top" width="33%" headers="N100DC"><em>浮动[]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>浮动</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">SMALLINT</td>

<td valign="top" width="33%" headers="N100DC"><em>短[]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>短</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">时间</td>

<td valign="top" width="33%" headers="N100DC"><em>java.sql。时间[]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>java.sql。时间</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">时间戳</td>

<td valign="top" width="33%" headers="N100DC"><em>java.sql。时间戳[]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>java.sql。时间戳记</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">VARBINARY</td>

<td valign="top" width="33%" headers="N100DC"><em>字节[][]</em></td>

<td valign="top" width="33%" headers="N100E3"><em>字节[]</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">其他</td>

<td valign="top" width="33%" headers="N100DC"><em>yourType []</em></td>

<td valign="top" width="33%" headers="N100E3"><em>yourType</em></td>

</tr>

<tr>
<td valign="top" width="34%" headers="N100D5">JAVA_OBJECT</td>

<td valign="top" width="33%" headers="N100DC"><em>yourType []</em></td>

<td valign="top" width="33%" headers="N100E3"><em>yourType</em></td>

</tr>

</tbody>

</table>
</div>
</div>

<div class="section"><p>执行调用之前，请注册参数的输出类型。对于INOUT参数，优良作法是在设置输入参数之前注册输出参数。</p>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefjdbc20485.html" title="Derby支持除setBlob，getBlob，setClob和getClob外的所有CallableStatement方法。">java.sql。CallableStatement接口</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefjavcallstatout.html" title="Derby支持OUT参数和返回值的CALL语句，如以下示例所示。">CallableStatements和OUT参数</a></div>
</div>
</div>



</body></html>