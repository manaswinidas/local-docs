<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us">
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;http://www.icra.org/ratingsv02.html&quot; l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) &quot;http://www.rsac.org/ratingsv01.html&quot; l gen true r (n 0 s 0 v 0 l 0) &quot;http://www.classify.org/safesurf/&quot; l gen true r (SS~~000 1))">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="Mapping of java.sql.Blob and java.sql.Clob interfaces">
<meta name="abstract" content="In the JDBC API, java.sql.Blob is the mapping for the SQL BLOB (binary large object) type; java.sql.Clob is the mapping for the SQL CLOB (character large object) type. BLOB and CLOB objects are collectively referred to as LOBs (large objects).">
<meta name="description" content="In the JDBC API, java.sql.Blob is the mapping for the SQL BLOB (binary large object) type; java.sql.Clob is the mapping for the SQL CLOB (character large object) type. BLOB and CLOB objects are collectively referred to as LOBs (large objects).">
<meta name="DC.subject" content="java.sql.Blob interface, java.sql.Clob interface, BLOB data type, CLOB data type">
<meta name="keywords" content="java.sql.Blob interface, java.sql.Clob interface, BLOB data type, CLOB data type">
<meta name="DC.Relation" scheme="URI" content="rrefjdbc20377.html">
<meta name="DC.Relation" scheme="URI" content="crefjavbclobnot.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefjdbc96386">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>java.sql的映射。Blob和java.sql。Clob接口</title>
</head>
<body id="rrefjdbc96386" ><a name="rrefjdbc96386"><!-- --></a>


<h1 class="topictitle1">java.sql的映射。Blob和java.sql。Clob接口</h1>



<div><p>在JDBC API中，为<em>java.sql。Blob</em>是SQL BLOB（二进制大对象）类型的映射； <em>java.sql。Clob</em>是SQL CLOB（字符大对象）类型的映射。BLOB和CLOB对象统称为LOB（大对象）。</p>

<div class="section"><p><em>java.sql的<span>Derby</span>实现<em>。Blob</em>和<em>java.sql。Clob</em>接口基于LOCATOR，这意味着该实现提供了指向LOB的逻辑指针，而不是对象的完整副本。另外，当您使用BLOB或CLOB数据类型时， <span>Derby</span>不会实现LOB。但是，您可以在<em>java.sql上调用方法<em>。Blob</em>和<em>java.sql。克隆</em>对象以实现它（即检索整个对象或对象的一部分）。</p>

<p>通过在其上调用getter方法，您只能在一行中访问一次LOB列。</p>
</div>

<div class="section"><div class="p">要使用<em>java.sql。Blob</em>和<em>java.sql。棉布</em>特点：<ul>
<li>对于包含非常大的二进制值的列，请使用SQL BLOB类型。</li>

<li>对于包含非常大的字符串值的列，请使用SQL CLOB类型。</li>

<li>使用<em>java.sql的<em>getBlob</em>和<em>getClob</em>方法<em>。ResultSet</em>接口，使用其定位符检索LOB。然后，您可以通过调用<em>Blob</em>和<em>Clob</em>方法来实现全部或部分LOB。另外，您可以调用<em>ResultSet.getBytes</em>方法来实现BLOB，也可以调用<em>ResultSet.getString</em>方法来实现CLOB。</li>

</ul>
</div>
</div>

<div class="section"><p>不建议在字符串和BLOB之间进行转换，因为转换取决于平台和数据库。有关更多信息，请参见<a href="rrefsqlj33562.html#rrefsqlj33562">CAST功能</a> 。</p>
</div>

<div class="section"><p>与其他字符数据类型一样， <span>Derby</span>将CLOB视为Unicode字符串，并使用UTF8编码将其写入磁盘。使用<span>Derby</span>这样的Java数据库，您无需担心字符集和代码页。</p>
</div>

<div class="section"><h2 class="sectiontitle">对BLOB和CLOB对象（LOB类型）的限制</h2><div class="p"><ul>
<li>LOB类型无法比较相等（=）和非相等（！=，&lt;&gt;）。</li>

<li>LOB类型的值不可排序，因此不支持&lt;，&lt;=，&gt;，&gt; =测试。</li>

<li>LOB类型不能在索引中或用作主键列。</li>

<li>LOB类型也禁止使用DISTINCT，GROUP BY和ORDER BY子句。</li>

<li>LOB类型不能像其他基本类型一样参与隐式转换。</li>

</ul>
</div>
</div>

<div class="section"><p><strong>建议：</strong>因为<em>java.sql的寿命<em>。Blob</em>或<em>java.sql。当事务提交时， Clob</em>结束，请使用<em>java.sql关闭自动提交<em>。Blob</em>或<em>java.sql。Clob</em>功能。</p>
</div>

<div class="section">
<p>下表描述了<em>java.sql的功能<em>。<span>Derby</span>特有的Blob</em>方法。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table describes the implementation-specific features of java.sql.Blob methods, providing the return type and signature for each method." frame="border" rules="all"><caption>表格1。关于<em>java.sql的实现说明<em>。斑点</em>法</caption>



<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="14.000000000000002%" id="N101BB">退货</th>

<th valign="bottom" width="36%" id="N101C2">签名</th>

<th valign="bottom" width="50%" id="N101C9">实施说明</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="14.000000000000002%" headers="N101BB"><em>字节[]</em></td>

<td valign="top" width="36%" headers="N101C2"><em>getBytes（long pos，int length）</em></td>

<td valign="top" width="50%" headers="N101C9">如果<em>pos</em> &lt;1，或者<em>pos</em>大于<em>Blob</em>的长度，或者如果<em>length</em> &lt;= 0，则引发异常。</td>

</tr>

<tr>
<td valign="top" width="14.000000000000002%" headers="N101BB"><em>长</em></td>

<td valign="top" width="36%" headers="N101C2"><em>位置（字节[]模式，很早就开始）</em></td>

<td valign="top" width="50%" headers="N101C9">如果<em>pattern</em> == null， <em>start</em> &lt;1或<em>pattern</em>是长度为0的数组，则会引发异常。</td>

</tr>

<tr>
<td valign="top" width="14.000000000000002%" headers="N101BB"><em>长</em></td>

<td valign="top" width="36%" headers="N101C2"><em>位置（斑点图案，起步较长）</em></td>

<td valign="top" width="50%" headers="N101C9">如果<em>pattern</em> == null，如果<em>start</em> &lt;1， <em>pattern的</em>长度为0或尝试读取<em>pattern</em>的第一个字节时引发了异常，则会引发异常。</td>

</tr>

</tbody>

</table>
</div>

<p>下表描述了<em>java.sql的功能<em>。特定于<span>Derby的</span> Clob</em>方法。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table describes the implementation-specific features of java.sql.Clob methods, providing the return type and signature for each method." frame="border" rules="all"><caption>表2。关于<em>java.sql的实现说明<em>。克隆</em>方法</caption>



<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="14.000000000000002%" id="N102E0">退货</th>

<th valign="bottom" width="36%" id="N102E7">签名</th>

<th valign="bottom" width="50%" id="N102EE">实施说明</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="14.000000000000002%" headers="N102E0"><em>串</em></td>

<td valign="top" width="36%" headers="N102E7"><em>getSubString（long pos，int length）</em></td>

<td valign="top" width="50%" headers="N102EE">如果<em>pos</em> &lt;1，或者<em>pos</em>大于<em>Clob</em>的长度，或者如果length &lt;= 0，则引发异常。</td>

</tr>

<tr>
<td valign="top" width="14.000000000000002%" headers="N102E0"><em>长</em></td>

<td valign="top" width="36%" headers="N102E7"><em>位置（Clob searchstr，很早就开始）</em></td>

<td valign="top" width="50%" headers="N102EE">如果<em>searchStr</em> == null或<em>start</em> &lt;1，或者<em>searchStr的</em>长度为0，或者在尝试读取<em>searchStr</em>的第一个字符时引发了异常，则会引发异常<em>。</em></td>

</tr>

<tr>
<td valign="top" width="14.000000000000002%" headers="N102E0"><em>长</em></td>

<td valign="top" width="36%" headers="N102E7"><em>位置（字符串searchstr，很早就开始）</em></td>

<td valign="top" width="50%" headers="N102EE">如果<em>searchStr</em> == null或start &lt;1，或者模式为空字符串，则会引发异常。</td>

</tr>

</tbody>

</table>
</div>

</div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="crefjavbclobnot.html">关于java.sql映射的注释。Blob和java.sql。Clob接口</a></strong><br>常用的Derby锁定机制（共享锁）可防止其他事务更新或删除java.sql所在的数据库项目。Blob或java.sql。Clob对象是一个指针。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefjdbc20377.html" title="在Derby中，为java.sql。类型映射到SQL数据类型。">java.sql的映射。类型转换为SQL类型</a></div>
</div>
</div>

</body>
</html>