<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE system procedure">
<meta name="abstract" content="Use the SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE system procedure to import data to a table, where the LOB data is stored in a separate file. The main import file contains all of the other data and a reference to the location of the LOB data.">
<meta name="description" content="Use the SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE system procedure to import data to a table, where the LOB data is stored in a separate file. The main import file contains all of the other data and a reference to the location of the LOB data.">
<meta name="DC.Relation" scheme="URI" content="rrefexportproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportproctablelobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportselectionproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportselectionproclobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdataproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdatabulk.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdataproclobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefimporttablebulk.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportproctablelobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportselectionproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportselectionproclobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdataproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdatabulk.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdataproclobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefimporttablebulk.html">
<meta name="DC.Relation" scheme="URI" content="crefsqlbuiltinsystemprocedures.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefimporttableproclobs">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE系统过程</title>
</head>
<body id="rrefimporttableproclobs" ><a name="rrefimporttableproclobs"><!-- --></a>


<h1 class="topictitle1">SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE系统过程</h1>


<div><p>使用<samp class="codeph">SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE</samp>将数据导入表的系统过程，其中LOB数据存储在单独的文件中。主导入文件包含所有其他数据以及对LOB数据位置的引用。</p>

<div class="section">
<p>在每个导入和导出过程运行之后， <span>Derby</span>发出COMMIT或ROLLBACK语句（如果该过程成功完成，则为COMMIT；如果失败，则为ROLLBACK）。因此，在调用导入或导出过程之前，应发出COMMIT或ROLLBACK语句来完成所有事务并释放所有表级锁。</p>

<p>有关使用此过程的更多信息，请参阅《 <span><em>Derby服务器和管理指南</em></span> 》中的“导入和导出数据”部分。</p>

</div>

<div class="section"><h2 class="sectiontitle">句法</h2><pre>SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE (
   IN SCHEMANAME VARCHAR(128), 
   IN TABLENAME VARCHAR(128), 
   IN FILENAME VARCHAR(32672), 
   IN COLUMNDELIMITER CHAR(1), 
   IN CHARACTERDELIMITER CHAR(1), 
   IN CODESET VARCHAR(128), 
   IN REPLACE SMALLINT)
   )</pre>
<p>导入实用程序在主导入文件中查找对LOB数据位置的引用。</p>
<dl>
<dt class="dlterm">模式名称</dt>

<dd>指定表的架构。您可以指定NULL值以使用默认架构名称。<span class="parmname">SCHEMANAME</span>参数采用的输入参数是VARCHAR（128）数据类型。</dd>


<dt class="dlterm">表名</dt>

<dd>指定要将数据导入到的表的名称。该表不能是系统表或声明的临时表。该字符串必须与表名的大小写完全匹配。指定NULL值将导致错误。<span class="parmname">TABLENAME</span>参数采用的输入参数是VARCHAR（128）数据类型。</dd>


<dt class="dlterm">文档名称</dt>

<dd>指定包含要导入的数据的文件的名称。如果省略路径，则使用当前工作目录。如果使用网络服务器，则文件的指定位置应参考服务器端位置。指定NULL值将导致错误。<span class="parmname">FILENAME</span>参数采用的输入参数是VARCHAR（32672）数据类型。</dd>


<dt class="dlterm">列分隔符</dt>

<dd>指定列定界符。使用指定的字符代替逗号来表示列的结尾。您可以指定NULL值以使用逗号的默认值。<span class="parmname">COLUMNDELIMITER</span>参数采用的输入参数是CHAR（1）数据类型。</dd>


<dt class="dlterm">CHARACTERDELIMITER</dt>

<dd>指定字符定界符。使用指定的字符代替双引号将字符串引起来。您可以指定NULL值以使用双引号的默认值。<span class="parmname">CHARACTERDELIMITER</span>参数采用的输入参数为CHAR（1）数据类型。</dd>


<dt class="dlterm">密码集</dt>

<dd>指定输入文件中数据的代码集。代码集名称应为Java支持的字符编码集之一。数据从指定的代码集转换为数据库代码集（UTF-8）。您可以指定NULL值，以与执行该文件的JVM相同的代码集解释该数据文件。<span class="parmname">CODESET</span>参数采用的输入参数是VARCHAR（128）数据类型。</dd>


<dt class="dlterm">更换</dt>

<dd>replace参数的非零值将在REPLACE模式下导入，而零值将在INSERT模式下导入。REPLACE模式通过截断表从表中删除所有现有数据，并插入导入的数据。表定义和索引定义未更改。如果表已经存在，则只能以REPLACE模式导入。INSERT模式将导入的数据添加到表中，而不更改现有的表数据。指定NULL值将导致错误。<span class="parmname">REPLACE</span>参数采用的输入参数是SMALLINT数据类型。</dd>

</dl>
<p>如果将模式，表或列名称创建为非定界标识符，则必须使用所有大写字符将名称传递给导入过程。如果创建模式，表或列名称作为分隔标识符，则必须使用创建时使用的相同大小写将名称传递给导入过程。</p>
</div>

<div class="section"><h2 class="sectiontitle">执行权限</h2>
<p>如果同时启用了身份验证和SQL授权，则默认情况下，只有<a href="rrefattrib26867.html#rrefattrib26867">数据库所有者</a>对此过程具有执行特权。有关更多信息，请参见《 <span><em>Derby安全指南</em></span> 》中的“配置用户身份验证”和“配置用户授权”。数据库所有者可以将访问权限授予其他用户。用户还必须在表上具有INSERT特权。</p>

</div>

<div class="section"><h2 class="sectiontitle">用法</h2><p>此过程将使用存储在主导入文件中的引用读取LOB数据。如果从非Derby源进行导入，则在主导入文件中存储的对LOB的引用格式必须为<samp class="codeph">lobsFileName.Offset.length/</samp> 。</p>
<ul>
<li><samp class="codeph">Offset</samp>在外部文件中的位置（以字节为单位）</li>

<li><samp class="codeph">length</samp>是LOB列数据的大小（以字节为单位）</li>

</ul>

</div>

<div class="section"><h2 class="sectiontitle">从包含引用的主导入文件中导入数据的示例，这些引用指向包含LOB数据的单独文件</h2><p>以下示例说明如何从定界数据文件将数据导入示例数据库的<em>STAFF</em>表中<samp class="codeph">staff.del</samp> 。本示例将逗号定义为列定界符。数据将被追加到表中的现有数据上。</p>
<pre>CALL SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE(
    'APP','STAFF','c:\data\staff.del',',','"','UTF-8',0); </pre>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="crefsqlbuiltinsystemprocedures.html" title="">内置系统过程</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefexportproc.html" title="SYSCS_UTIL.SYSCS_EXPORT_TABLE系统过程将所有数据从表导出到操作系统文件。">SYSCS_UTIL.SYSCS_EXPORT_TABLE系统过程</a></div>
<div><a href="rrefexportproctablelobs.html" title="使用SYSCS_UTIL.SYSCS_EXPORT_TABLE_LOBS_TO_EXTFILE系统过程从表中导出所有数据，并将LOB数据放入单独的导出文件中。对LOB数据位置的引用位于主导出文件的LOB列中。">SYSCS_UTIL.SYSCS_EXPORT_TABLE_LOBS_TO_EXTFILE系统过程</a></div>
<div><a href="rrefexportselectionproc.html" title="SYSCS_UTIL.SYSCS_EXPORT_QUERY系统过程将SELECT语句的结果导出到操作系统文件。">SYSCS_UTIL.SYSCS_EXPORT_QUERY系统过程</a></div>
<div><a href="rrefexportselectionproclobs.html" title="使用SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE系统过程将SELECT语句的结果导出到主导出文件，并将LOB数据放入单独的导出文件。对LOB数据位置的引用位于主导出文件的LOB列中。">SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE系统过程</a></div>
<div><a href="rrefimportdataproc.html" title="SYSCS_UTIL.SYSCS_IMPORT_DATA系统过程将数据导入表中列的子集。您可以通过指定插入列来选择列的子集。此过程还用于通过指定列索引从文件导入列数据的子集。">SYSCS_UTIL.SYSCS_IMPORT_DATA系统过程</a></div>
<div><a href="rrefimportdatabulk.html" title="SYSCS_UTIL.SYSCS_IMPORT_DATA_BULK系统过程支持SYSCS_UTIL.SYSCS_IMPORT_DATA的所有功能，并具有附加功能，可跳过输入文件中的列标题并按名称识别输入文件中的列，这些名称已解析为COLUMNINDEXES参数。">SYSCS_UTIL.SYSCS_IMPORT_DATA_BULK系统过程</a></div>
<div><a href="rrefimportdataproclobs.html" title="使用SYSCS_UTIL.SYSCS_IMPORT_DATA_LOBS_FROM_EXTFILE系统过程将数据导入表中的列子集，其中LOB数据存储在单独的文件中。主导入文件包含所有其他数据以及对LOB数据位置的引用。">SYSCS_UTIL.SYSCS_IMPORT_DATA_LOBS_FROM_EXTFILE系统过程</a></div>
<div><a href="rrefimportproc.html" title="SYSCS_UTIL.SYSCS_IMPORT_TABLE系统过程将数据从输入文件导入表的所有列。如果接收到导入数据的表已经包含数据，则可以替换或附加到现有数据。">SYSCS_UTIL.SYSCS_IMPORT_TABLE系统过程</a></div>
<div><a href="rrefimporttablebulk.html" title="SYSCS_UTIL.SYSCS_IMPORT_TABLE_BULK系统过程支持SYSCS_UTIL.SYSCS_IMPORT_TABLE的所有功能，并具有跳过输入文件中列标题的附加功能。">SYSCS_UTIL.SYSCS_IMPORT_TABLE_BULK系统过程</a></div>
</div>
</div>



</body></html>