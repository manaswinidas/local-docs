<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="SYSCS_DIAG.SPACE_TABLE diagnostic table function">
<meta name="abstract" content="The SYSCS_DIAG.SPACE_TABLE diagnostic table function shows the space usage of a particular table and its indexes.">
<meta name="description" content="The SYSCS_DIAG.SPACE_TABLE diagnostic table function shows the space usage of a particular table and its indexes.">
<meta name="DC.subject" content="diagnostic table functions, SYSCS_DIAG.SPACE_TABLE, SYSCS_DIAG.SPACE_TABLE diagnostic table function">
<meta name="keywords" content="diagnostic table functions, SYSCS_DIAG.SPACE_TABLE, SYSCS_DIAG.SPACE_TABLE diagnostic table function">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagtables.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagcontainedroles.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagerrorlogreader.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagerrormessages.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiaglocktable.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagstatementcache.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagstatementduration.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagtransactiontable.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefsyscsdiagspacetable">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>SYSCS_DIAG.SPACE_TABLE诊断表功能</title>
</head>
<body id="rrefsyscsdiagspacetable" ><a name="rrefsyscsdiagspacetable"><!-- --></a>


<h1 class="topictitle1">SYSCS_DIAG.SPACE_TABLE诊断表功能</h1>



<div><p>SYSCS_DIAG.SPACE_TABLE诊断表函数显示特定表及其索引的空间使用情况。</p>

<div class="section">
<p>您可以使用此诊断表功能来确定是否可以通过压缩表和索引来节省空间。</p>

<p>无论数据库是否启用了身份验证和SQL授权，所有用户都可以访问此诊断表功能。有关更多信息，请参见《 <span><em>Derby安全指南</em></span> 》中的“配置用户身份验证”和“配置用户授权”。</p>

<div class="p">要访问SYSCS_DIAG.SPACE_TABLE诊断表函数，必须使用SQL表函数语法。您可以通过以下方式调用表函数：<ul>
<li>如果不带任何参数调用，则表函数将检索数据库中所有表和索引的空间信息。</li>

<li>如果使用一个参数调用， <var class="varname">tableName</var> ，表格功能会检索当前架构中指定表格的信息。</li>

<li>如果使用两个参数调用， <var class="varname">schemaName</var>跟一个<var class="varname">tableName</var> ，表函数检索有关指定架构和表的信息。</li>

</ul>
</div>

<p>返回的表具有下表中显示的列。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="For each column returned by the SYSCS_DIAG.SPACE_TABLE table function, this table provides its data type, its length in bytes, whether it is nullable, and a description of its contents." frame="border" rules="all"><caption>表格1。SYSCS_DIAG.SPACE_TABLE表函数返回的列</caption>





<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="31%" id="N100DC">栏名</th>

<th valign="bottom" width="17%" id="N100E3">类型</th>

<th valign="bottom" width="11%" id="N100EA">长度</th>

<th valign="bottom" width="12%" id="N100F1">可空</th>

<th valign="bottom" width="28.999999999999996%" id="N100F8">内容</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="31%" headers="N100DC">CONGLOMERATENAME</td>

<td valign="top" width="17%" headers="N100E3">VARCHAR</td>

<td valign="top" width="11%" headers="N100EA">128</td>

<td valign="top" width="12%" headers="N100F1">真正</td>

<td valign="top" width="28.999999999999996%" headers="N100F8">企业集团的名称，可以是表名称，也可以是索引名称。（与同名的SYSCONGLOMERATES列不同，此处未显示表ID）。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N100DC">ISINDEX</td>

<td valign="top" width="17%" headers="N100E3">SMALLINT</td>

<td valign="top" width="11%" headers="N100EA">5</td>

<td valign="top" width="12%" headers="N100F1">假</td>

<td valign="top" width="28.999999999999996%" headers="N100F8">如果集团是索引，则不为零；否则为0。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N100DC">分页数</td>

<td valign="top" width="17%" headers="N100E3">比金特</td>

<td valign="top" width="11%" headers="N100EA">20</td>

<td valign="top" width="12%" headers="N100F1">假</td>

<td valign="top" width="28.999999999999996%" headers="N100F8">活动链接到表中的页面数。文件中的总页数为NUMALLOCATEDPAGES + NUMFREEPAGES之和。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N100DC">无页数</td>

<td valign="top" width="17%" headers="N100E3">比金特</td>

<td valign="top" width="11%" headers="N100EA">20</td>

<td valign="top" width="12%" headers="N100F1">假</td>

<td valign="top" width="28.999999999999996%" headers="N100F8">属于该表的空闲页面数。当要将新页面链接到表中时，系统会将页面从NUMFREEPAGES列表移至NUMALLOCATEDPAGES列表。文件中的总页数为NUMALLOCATEDPAGES + NUMFREEPAGES之和。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N100DC">NUMUNFILLEDPAGES</td>

<td valign="top" width="17%" headers="N100E3">比金特</td>

<td valign="top" width="11%" headers="N100EA">20</td>

<td valign="top" width="12%" headers="N100F1">假</td>

<td valign="top" width="28.999999999999996%" headers="N100F8">属于该表的未填充页面数。未填充的页面是分配的页面，它们不完全满。请注意，未填充的页面数是估计值，并不准确。两次运行相同的查询可以在此列上给出不同的结果。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N100DC">页面大小</td>

<td valign="top" width="17%" headers="N100E3">整数</td>

<td valign="top" width="11%" headers="N100EA">10</td>

<td valign="top" width="12%" headers="N100F1">假</td>

<td valign="top" width="28.999999999999996%" headers="N100F8">该集团的页面大小（以字节为单位）。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N100DC">节约</td>

<td valign="top" width="17%" headers="N100E3">比金特</td>

<td valign="top" width="11%" headers="N100EA">20</td>

<td valign="top" width="12%" headers="N100F1">假</td>

<td valign="top" width="28.999999999999996%" headers="N100F8">可以通过压缩集团来节省的估计空间（以字节为单位）。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N100DC">平板电脑</td>

<td valign="top" width="17%" headers="N100E3">焦炭</td>

<td valign="top" width="11%" headers="N100EA">36</td>

<td valign="top" width="12%" headers="N100F1">假</td>

<td valign="top" width="28.999999999999996%" headers="N100F8">企业集团所属的表格的ID。</td>

</tr>

</tbody>

</table>
</div>

<div class="p">例如，使用以下查询返回数据库中所有用户表和索引的空间使用情况：<pre>SELECT sysschemas.schemaname, T2.*
    FROM
        SYS.SYSTABLES systabs, SYS.SYSSCHEMAS sysschemas,
        TABLE (SYSCS_DIAG.SPACE_TABLE()) AS T2
    WHERE systabs.tabletype = 'T'
    AND sysschemas.schemaid = systabs.schemaid
    AND systabs.tableid = T2.tableid;</pre>其中T2是用户指定的表名，它是任何有效的标识符。</div>

<p>这俩<var class="varname">schemaName</var>和<var class="varname">tableName</var>参数必须是其数据类型映射到Java字符串的表达式。如果<var class="varname">schemaName</var>和<var class="varname">tableName</var>是非定界标识符，您必须以大写形式指定名称。</p>
<div class="p">例如：<pre>SELECT * 
    FROM TABLE (SYSCS_DIAG.SPACE_TABLE('MYSCHEMA', 'MYTABLE')) 
    AS T2</pre>
</div>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefsyscsdiagtables.html" title="Derby提供了一组系统表表达式，您可以使用它们来获取有关数据库状态和数据库会话的诊断信息。">SYSCS_DIAG诊断表和函数</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefsyscsdiagcontainedroles.html" title="SYSCS_DIAG.CONTAINED_ROLES诊断表函数返回指定角色中包含的所有角色。">SYSCS_DIAG.CONTAINED_ROLES诊断表功能</a></div>
<div><a href="rrefsyscsdiagerrorlogreader.html" title="SYSCS_DIAG.ERROR_LOG_READER诊断表功能包含derby.log文件或您指定的日志文件中的所有有用的SQL语句。">SYSCS_DIAG.ERROR_LOG_READER诊断表功能</a></div>
<div><a href="rrefsyscsdiagerrormessages.html" title="SYSCS_DIAG.ERROR_MESSAGES诊断表显示了Derby数据库的所有SQLState，对语言环境敏感的错误消息以及异常严重性。">SYSCS_DIAG.ERROR_MESSAGES诊断表</a></div>
<div><a href="rrefsyscsdiaglocktable.html" title="SYSCS_DIAG.LOCK_TABLE诊断表显示了Derby数据库中当前持有的所有锁。">SYSCS_DIAG.LOCK_TABLE诊断表</a></div>
<div><a href="rrefsyscsdiagstatementcache.html" title="SYSCS_DIAG.STATEMENT_CACHE诊断表显示SQL语句高速缓存的内容。">SYSCS_DIAG.STATEMENT_CACHE诊断表</a></div>
<div><a href="rrefsyscsdiagstatementduration.html" title="您可以使用SYSCS_DIAG.STATEMENT_DURATION诊断表功能来分析derby.log文件或您指定的日志文件中有用的SQL语句的执行持续时间。">SYSCS_DIAG.STATEMENT_DURATION诊断表功能</a></div>
<div><a href="rrefsyscsdiagtransactiontable.html" title="SYSCS_DIAG.TRANSACTION_TABLE诊断表显示数据库中当前存在的所有事务。">SYSCS_DIAG.TRANSACTION_TABLE诊断表</a></div>
</div>
</div>



</body></html>