<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="XMLPARSE operator">
<meta name="abstract" content="XMLPARSE is a SQL/XML operator that you use to parse a character string expression into a Derby XML value.">
<meta name="description" content="XMLPARSE is a SQL/XML operator that you use to parse a character string expression into a Derby XML value.">
<meta name="DC.subject" content="XMLPARSE operator, operators, XMLPARSE, XML, operators, XMLPARSE">
<meta name="keywords" content="XMLPARSE operator, operators, XMLPARSE, XML, operators, XMLPARSE">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj29026.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rreffuncxmlparse">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>XMLPARSE运算符</title>
</head>
<body id="rreffuncxmlparse" ><a name="rreffuncxmlparse"><!-- --></a>


<h1 class="topictitle1">XMLPARSE运算符</h1>



<div><p>XMLPARSE是一个SQL / XML运算符，可用于将字符串表达式解析为<span>Derby</span> XML值。</p>

<div class="section"> <p>您可以临时使用此运算符的结果，也可以将结果永久存储在<span>Derby</span> XML列中。无论是临时的还是永久的，都可以将XML值用作其他<span>Derby</span> XML运算符（例如<a href="rreffuncxmlexists.html#rreffuncxmlexists">XMLEXISTS</a>和<a href="rreffuncxmlquery.html#rreffuncxmlquery">XMLQUERY）的输入</a> 。</p>

<p>有关更多信息，请参见《 <span><em>Derby开发人员指南</em></span> 》中的“ XML数据类型和运算符”。</p>

</div>

<div class="section"><h2 class="sectiontitle">句法</h2>
<pre><strong>XMLPARSE ( DOCUMENT <var class="varname">stringValueExpression</var> PRESERVE WHITESPACE )</strong></pre>
<dl>

<dt class="dlterm">文献</dt>

<dd>必需的关键字，用于描述<span>Derby</span>可以解析的XML输入的类型。
<span>Derby</span>只能分析构成格式正确的XML文档的字符串表达式，因为<span>Derby</span>使用<em>javax.xml.parsers</em>包中的解析器来解析所有字符串值。解析器期望<var class="varname">stringValueExpression</var>构成格式良好的XML文档。如果字符串不构成格式正确的文档，则解析器将引发错误。<span>Derby</span>捕获错误并将错误作为<em>SQLException抛出</em> 。</dd>


<dt class="dlterm"><var class="varname">stringValueExpression</var></dt>

<dd>任何计算结果为SQL字符类型的表达式，例如CHAR，VARCHAR，LONG VARCHAR或CLOB。的<var class="varname">stringValueExpression</var>参数也可以是参数。指定参数以指示绑定到参数的值的类型时，必须使用CAST函数。在将值解析为XML文档之前， <span>Derby</span>必须验证参数是否为正确的数据类型。如果指定的参数没有CAST函数，或者CAST是针对非字符数据类型的，则<span>Derby</span>会引发错误。</dd>


<dt class="dlterm">保留白色空间</dt>

<dd>描述<span>Derby</span>如何处理连续XML节点之间的空白的必需关键字。使用PRESERVE WHITESPACE关键字时， <span>Derby会</span>按照SQL / XML规则所规定的保留空白来保留空白。</dd>

</dl>
<p>有关什么构成格式良好的XML文档的更多信息，请参见以下规范： <a href="http://www.w3.org/TR/REC-xml/#sec-well-formed">http</a> : <a href="http://www.w3.org/TR/REC-xml/#sec-well-formed">//www.w3.org/TR/REC-xml/#sec-well-formed</a> 。</p>

<div class="p"><div class="restriction"><span class="restrictiontitle">限制：</span> SQL / XML标准规定XMLPARSE运算符的参数也可以是二进制字符串。但是， <span>Derby</span>仅支持XMLPARSE运算符的字符串输入。</div>
</div>
</div>

<div class="section"><h2 class="sectiontitle">例子</h2><div class="p">要将简单的XML文档插入<samp class="codeph">xcol</samp>中的XML列<samp class="codeph">x_table</samp>表中，使用以下语句：<pre><strong>INSERT INTO x_table VALUES (1, XMLPARSE(DOCUMENT '
        &lt;roster&gt;
          &lt;student age="18"&gt;AB&lt;/student&gt;
          &lt;student age="23"&gt;BC&lt;/student&gt;
          &lt;student&gt;NOAGE&lt;/student&gt;
        &lt;/roster&gt;'
      PRESERVE WHITESPACE)
    )</strong></pre>
</div>

<div class="p">要将大型XML文档插入到<samp class="codeph">xcol</samp>中的XML列<samp class="codeph">x_table</samp>表，从JDBC使用以下语句：<pre><strong>INSERT INTO x_table VALUES(2, XMLPARSE (DOCUMENT 
        CAST (? AS CLOB) 
      PRESERVE WHITESPACE)
    )</strong></pre>您应该使用<em>setCharacterStream（）</em>方法或适用于CAST目标类型的任何其他JDBC <em>setXXX</em>方法绑定到该语句中。</div>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefsqlj29026.html" title="内置函数是一个表达式，其中SQL关键字或特殊运算符执行某些操作。">内置函数</a></div>
</div>
</div>



</body></html>