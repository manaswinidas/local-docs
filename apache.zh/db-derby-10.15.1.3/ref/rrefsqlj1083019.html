<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="Where dynamic parameters are allowed">
<meta name="abstract" content="You can use dynamic parameters anywhere in an expression where their data type can be easily deduced.">
<meta name="description" content="You can use dynamic parameters anywhere in an expression where their data type can be easily deduced.">
<meta name="DC.Relation" scheme="URI" content="crefsqlj29911.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj1082953.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefsqlj1083019">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>允许使用动态参数的地方</title>
</head>
<body id="rrefsqlj1083019" ><a name="rrefsqlj1083019"><!-- --></a>


<h1 class="topictitle1">允许使用动态参数的地方</h1>


<div><p>您可以在表达式中可以轻松推导出其数据类型的任何位置使用动态参数。</p>

<div class="section"><ol>
<li>如果第二个和第三个操作数之一也不是动态参数，则允许将其用作BETWEEN的第一个操作数。假定第一个操作数的类型为非动态参数的类型，或者如果两者都不都是动态参数，则将其类型的并集结果。<pre><strong>WHERE ? BETWEEN DATE('1996-01-01') AND ?
<span>-- types assumed to be DATE</span></strong></pre>
</li>

<li>允许用作BETWEEN的第二或第三操作数。类型被假定为左操作数的类型。<pre><strong>WHERE DATE('1996-01-01') BETWEEN ? AND ?
<span>-- types assumed to be DATE</span></strong></pre>
</li>

<li id="rrefsqlj1083019__sqlj30695"><a name="rrefsqlj1083019__sqlj30695"><!-- --></a>如果列表中的至少一项本身不是动态参数，则允许将其用作IN列表的左操作数。左侧操作数的类型假定为列表中非动态参数类型的并集结果。<pre><strong>WHERE ? NOT IN (?, ?, 'Santiago')
<span>-- types assumed to be CHAR</span></strong></pre>
</li>

<li>如果第一个操作数不是动态参数或者其类型是在先前规则中确定的，则允许在IN谓词的值列表中使用。出现在值列表中的动态参数的类型假定为左操作数的类型。<pre><strong>WHERE <strong><em>FloatColumn</em></strong> IN (?, ?, ?)
<span>-- types assumed to be FLOAT</span></strong></pre>
</li>

<li id="rrefsqlj1083019__sqlj18960"><a name="rrefsqlj1083019__sqlj18960"><!-- --></a>对于二进制运算符+，-，*，/，AND，OR，<，>，=，<>，<=和> =，不允许将动态参数用作一个操作数，但不能同时使用两者。它的类型是从另一侧获取的。<pre><strong>WHERE ? &lt; CURRENT_TIMESTAMP
<span>-- type assumed to be a TIMESTAMP</span></strong></pre>
</li>

<li>始终允许在CAST中使用。这为动态参数提供了一种类型。<pre><strong>CALL valueOf(CAST (? AS VARCHAR(10)))</strong></pre>
</li>

<li>允许在LIKE运算符的任一侧或两侧使用。当在左侧使用时，动态参数的类型设置为右侧操作数的类型，但具有该类型允许的最大长度。在右侧使用时，假定类型与左侧操作数具有相同的长度和类型。（在CHAR和VARCHAR类型上允许使用LIKE；有关更多信息，请参见<a href="rrefsqlj40899.html#rrefsqlj40899">串联运算符</a> 。）<pre><strong>WHERE ? LIKE 'Santi%'
<span>-- type assumed to be CHAR with a length of
-- java.lang.Integer.MAX_VALUE</span></strong></pre>
</li>

<li>一种 ？参数仅在||的一侧被允许操作员。那是， ”？|| ？“ 不允许。一个类型？||一侧的参数运算符由||另一侧的表达式类型决定。操作员。如果另一侧的表达式是CHAR或VARCHAR，则参数的类型为VARCHAR，并且该类型允许的最大长度。如果另一侧的表达式是CHAR FOR BIT DATA或VARCHAR FOR BIT DATA类型，则参数的类型为VARCHAR FOR BIT DATA，并且该类型的最大允许长度。<pre><strong>SELECT BITcolumn || ?
FROM UserTable
<span>-- Type assumed to be CHAR FOR BIT DATA of length specified for BITcolumn</span></strong></pre>
</li>

<li>在使用？的条件表达式中，使用动态参数（也表示为？）被允许。作为第一个操作数的动态参数的类型假定为布尔值。第二和第三操作数中只有一个可以是动态参数，并且其类型将假定与另一个相同（即分别为第三和第二操作数）。
 <pre><strong>SELECT c1 IS NULL ? ? : c1
<span>-- allows you to specify a "default" value at execution time
-- dynamic parameter assumed to be the type of c1
-- you cannot have dynamic parameters on both sides
-- of the :</span></strong></pre>
</li>

<li>动态参数被允许作为INSERT语句的值列表或选择列表中的一项。动态参数的类型假定为目标列的类型。<pre><strong>INSERT INTO t VALUES (?)
<span>-- dynamic parameter assumed to be the type
-- of the only column in table t</span>
INSERT INTO t SELECT ?
FROM t2
<span>-- not allowed</span></strong></pre>
</li>

<li>一种 ？与子查询的比较中的参数从子查询选择的表达式中获取其类型。例如：<pre><strong>SELECT *
FROM tab1
WHERE ? = (SELECT x FROM tab2)

SELECT *
FROM tab1
WHERE ? = ANY (SELECT x FROM tab2)
<span>-- In both cases, the type of the dynamic parameter is
-- assumed to be the same as the type of tab2.x.</span></strong></pre>
</li>

<li>UPDATE语句中允许使用动态参数作为值。动态参数的类型假定为目标表中列的类型。<pre><strong>UPDATE t2 SET c2 =? <span>-- type is assumed to be type of c2</span></strong></pre>
</li>

<li>动态参数被允许作为一元运算符-或+的操作数。例如：<pre><strong>CREATE TABLE t1 (c11 INT, c12 SMALLINT, c13 DOUBLE, c14 CHAR(3))
SELECT * FROM t1 WHERE c11 BETWEEN -? AND +?
<span>-– The type of both of the unary operators is INT
-- based on the context in which they are used (that is,
-- because c11 is INT, the unary parameters also get the 
-- type INT.</span></strong></pre>
</li>

<li>LENGTH允许动态参数。假定该类型为最大长度VARCHAR类型。<pre><strong>SELECT LENGTH(?)</strong></pre>
</li>

<li>合格的比较。<pre><strong>? = SOME (SELECT 1 FROM t)
<span>-- is valid. Dynamic parameter assumed to be INTEGER type</span>
1 = SOME (SELECT ? FROM t)
<span>-- is valid. Dynamic parameter assumed to be INTEGER type.</span></strong></pre>
</li>

<li>动态参数被允许作为IS表达式的左操作数，并且被假定为布尔值。</li>

</ol>
</div>

<div class="section"><p>一旦根据表达式所在的形式确定了动态参数的类型，该表达式就可以在不包含动态参数的情况下通常允许的任何位置使用。</p>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="crefsqlj29911.html" title="您可以使用JDBC API中的PreparedStatement方法准备语句，以允许这些语句具有未指定值的参数。这些参数称为动态参数，并以问号（？）表示。">动态参数</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefsqlj1082953.html" title="">动态参数示例</a></div>
</div>
</div>



</body></html>