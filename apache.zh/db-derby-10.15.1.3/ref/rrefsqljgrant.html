<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="GRANT statement">
<meta name="abstract" content="The GRANT statement gives privileges to a specific user or role, or to all users, to perform actions on database objects.">
<meta name="description" content="The GRANT statement gives privileges to a specific user or role, or to all users, to perform actions on database objects.">
<meta name="DC.subject" content="GRANT statement, SQL statements, GRANT">
<meta name="keywords" content="GRANT statement, SQL statements, GRANT">
<meta name="DC.Relation" scheme="URI" content="rrefsqljrevoke.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljrevoke.html">
<meta name="DC.Relation" scheme="URI" content="rrefsistabssystableperms.html">
<meta name="DC.Relation" scheme="URI" content="rrefsistabssyscolperms.html">
<meta name="DC.Relation" scheme="URI" content="crefsqlj39374.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefsqljgrant">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>GRANT声明</title>
</head>
<body id="rrefsqljgrant" ><a name="rrefsqljgrant"><!-- --></a>


<h1 class="topictitle1">GRANT声明</h1>



<div><p>GRANT语句授予特定用户或角色或所有用户特权，以对数据库对象执行操作。</p>

<div class="section">
<p>您还可以使用GRANT语句将角色授予用户，PUBLIC或其他角色。</p>

<div class="p">可以授予以下类型的特权：<ul>
<li>从特定表中删除数据。</li>

<li>将数据插入到特定表中。</li>

<li>创建对命名表或表中列子集的外键引用。</li>

<li>从表，视图或表中的列子集中选择数据。</li>

<li>在表上创建触发器。</li>

<li>更新表或表中列的子集中的数据。</li>

<li>运行指定的函数或过程。</li>

<li>使用序列生成器，用户定义的类型或用户定义的聚合。</li>

</ul>
</div>
<p>在发出GRANT语句之前，请检查<em><a href="rrefpropersqlauth.html#rrefpropersqlauth">derby.database.sqlAuthorization</a></em>属性是否设置为<samp class="codeph">true</samp> 。<em>derby.database.sqlAuthorization</em>属性启用SQL授权模式。</p>
<p>如果您是对象的所有者或<a href="rrefattrib26867.html#rrefattrib26867">数据库所有者，</a>则可以授予对象特权。有关更多信息，请参见要授予特权的数据库对象的CREATE语句。</p>
<p>用于GRANT语句的语法取决于是授予架构对象特权还是授予角色。</p>

<p>有关使用GRANT语句的更多信息，请参阅《 <span><em>Derby安全指南</em></span> 》中的“使用细粒度的用户授权”。</p>

</div>

<div class="section"><h2 class="sectiontitle">表的语法</h2><pre><strong>GRANT <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantprivtype">privilegeType</a></em> ON [ TABLE ] { <em><a href="rreftablename.html#rreftablename">tableName</a></em> | <em><a href="rrefviewname.html#rrefviewname">viewName</a></em> } TO <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantgrantees">grantees</a></em></strong></pre>
</div>

<div class="section"><h2 class="sectiontitle">例程的语法</h2>
<pre><strong>GRANT EXECUTE ON FUNCTION <em><a href="rreffunctionname.html#rreffunctionname">functionName</a></em> TO <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantgrantees">grantees</a></em></strong>
</pre>

<pre><strong>GRANT EXECUTE ON PROCEDURE <em><a href="rrefprocedurename.html#rrefprocedurename.dita">procedureName</a></em> TO <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantgrantees">grantees</a></em></strong>
</pre>

</div>

<div class="section" id="rrefsqljgrant__grantsequencesyn"><a name="rrefsqljgrant__grantsequencesyn"><!-- --></a><h2 class="sectiontitle">序列生成器的语法</h2>
<pre><strong>GRANT USAGE ON SEQUENCE <em><a href="rrefsequencename.html#rrefsequencename">sequenceName</a></em> TO <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantgrantees">grantees</a></em></strong></pre>

<p>为了使用序列生成器，您必须对其具有USAGE特权。可以将此特权授予用户和角色。有关更多信息，请参见<a href="rrefsqljcreatesequence.html#rrefsqljcreatesequence">CREATE SEQUENCE语句</a> 。</p>

</div>

<div class="section" id="rrefsqljgrant__granttypesyn"><a name="rrefsqljgrant__granttypesyn"><!-- --></a><h2 class="sectiontitle">用户定义类型的语法</h2>
<pre><strong>GRANT USAGE ON TYPE <em><a href="rreftypename.html#rreftypename">typeName</a></em> TO <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantgrantees">grantees</a></em></strong></pre>

<p>为了使用用户定义的类型，您必须具有USAGE特权。可以将此特权授予用户和角色。有关更多信息，请参见<a href="rrefsqljcreatetype.html#rrefsqljcreatetype">CREATE TYPE语句</a> 。</p>

</div>

<div class="section" id="rrefsqljgrant__grantaggsyn"><a name="rrefsqljgrant__grantaggsyn"><!-- --></a><h2 class="sectiontitle">用户定义的聚合的语法</h2>
<pre><strong>GRANT USAGE ON DERBY AGGREGATE <em><a href="rrefaggregatename.html#rrefaggregatename">aggregateName</a></em> TO <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantgrantees">grantees</a></em></strong></pre>

<p>为了使用用户定义的聚合，您必须具有USAGE特权。可以将此特权授予用户和角色。有关更多信息，请参见<a href="rrefsqljcreateaggregate.html#rrefsqljcreateaggregate">CREATE DERBY AGGREGATE语句</a> 。</p>

</div>

<div class="section" id="rrefsqljgrant__grantrolesyn"><a name="rrefsqljgrant__grantrolesyn"><!-- --></a><h2 class="sectiontitle">角色语法</h2>
<pre><strong>GRANT <em><a href="rrefrolename.html#rrefrolename">roleName</a></em> [ , <em><a href="rrefrolename.html#rrefrolename">roleName</a></em> ]* TO <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantgrantees">grantees</a></em></strong></pre>

<p>在向用户或其他角色授予角色之前，必须使用<a href="rrefcreaterole.html#rrefcreaterole">CREATE ROLE语句</a>创建角色。只有<a href="rrefattrib26867.html#rrefattrib26867">数据库所有者</a>可以授予角色。</p>

<p>如果将角色B授予角色A或包含在授予角色A的角色C中，则角色A <em>包含</em>另一个角色B。授予包含角色的权限由包含角色继承。因此，由角色A标识的特权集是授予角色A的特权与授予角色A的任何包含角色的特权的并集。</p>

</div>

<div class="section" id="rrefsqljgrant__grantprivtype"><a name="rrefsqljgrant__grantprivtype"><!-- --></a><h2 class="sectiontitle">privilegeType</h2>
<pre><strong> { ALL PRIVILEGES | <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantprivlist">privilegeList</a></em> }
</strong></pre>
</div>

<div class="section" id="rrefsqljgrant__grantprivlist"><a name="rrefsqljgrant__grantprivlist"><!-- --></a><h2 class="sectiontitle">privilegeList</h2>
<pre><strong> <em><a href="rrefsqljgrant.html#rrefsqljgrant__granttablepriv">tablePrivilege</a></em> [ , <em><a href="rrefsqljgrant.html#rrefsqljgrant__granttablepriv">tablePrivilege</a></em> ]*
</strong></pre>
</div>

<div class="section" id="rrefsqljgrant__granttablepriv"><a name="rrefsqljgrant__granttablepriv"><!-- --></a><h2 class="sectiontitle">table特权</h2>
<pre><strong>  DELETE |
  INSERT |
  REFERENCES [ <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantcollist">columnList</a></em> ] |
  SELECT [ <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantcollist">columnList</a></em> ] |
  TRIGGER |
  UPDATE [ <em><a href="rrefsqljgrant.html#rrefsqljgrant__grantcollist">columnList</a></em> ]
</strong></pre>
</div>

<div class="section" id="rrefsqljgrant__grantcollist"><a name="rrefsqljgrant__grantcollist"><!-- --></a><h2 class="sectiontitle">columnList</h2>
<pre><strong>  ( <em>columnIdentifier</em> [ , <em>columnIdentifier</em> ]* )
</strong></pre>
</div>

<div class="section"><p>使用ALL PRIVILEGES特权类型可以将所有特权授予指定表的用户或角色。您还可以通过指定privilegeList来授予一个或多个表<em>特权</em> 。</p>
<p>使用DELETE特权类型来授予从指定表中删除行的权限。</p>
<p>使用INSERT特权类型来授予将行插入指定表的权限。</p>
<p>使用REFERENCES特权类型来授予创建对指定表的外键引用的权限。如果使用REFERENCES特权指定了<em>columnList</em> ，则该权限仅对指定列的外键引用有效。</p>
<p>使用SELECT特权类型可以授予对表或视图执行<a href="rrefsqlj41360.html#rrefsqlj41360">SELECT语句</a>或<em><a href="rrefselectexpression.html#rrefselectexpression">selectExpressions的</a></em>权限。如果使用SELECT特权指定了列列表，则该权限仅对那些列有效。如果未指定任何列列表，则该特权对表中的所有列均有效。</p>

<p>对于未从SELECT语句或<em>selectExpression所</em>涉及的表中选择特定列的查询（例如，使用<samp class="codeph">COUNT(*)</samp> ），用户必须至少具有一个列级SELECT特权或表级SELECT特权。</p>

<p>使用TRIGGER特权类型来授予在指定表上创建触发器的权限。</p>
<p>使用UPDATE特权类型来授予使用指定表上UPDATE语句的权限。如果指定了列列表，则权限仅适用于指定的列。要使用包含WHERE子句的语句更新行，必须对要更新的行中的列具有SELECT特权。</p>
</div>

<div class="section" id="rrefsqljgrant__grantgrantees"><a name="rrefsqljgrant__grantgrantees"><!-- --></a><h2 class="sectiontitle">受赠人</h2>
<pre><strong>{ <em><a href="rrefrauthid.html#rrefrauthid">authorizationIdentifier</a></em> | <em><a href="rrefrolename.html#rrefrolename">roleName</a></em> | PUBLIC } 
[ , { <em><a href="rrefrauthid.html#rrefrauthid">authorizationIdentifier</a></em> | <em><a href="rrefrolename.html#rrefrolename">roleName</a></em> | PUBLIC } ]*</strong></pre>

<p>您可以向特定用户或角色或所有用户授予特权或角色。使用关键字PUBLIC指定所有用户。当指定PUBLIC时，特权或角色会影响所有当前和将来的用户。授予PUBLIC和单个用户或角色的特权是独立特权。例如，对表的SELECT特权<samp class="codeph">t</samp>被授予PUBLIC和授权ID <samp class="codeph">harry</samp> 。SELECT特权稍后从授权ID中撤消<samp class="codeph">harry</samp> ，但哈利可以进入桌子<samp class="codeph">t</samp>通过PUBLIC特权。</p>

<p>对象所有者或数据库所有者都可以向用户或角色授予特权。只有数据库所有者才能将角色授予用户或其他角色。</p>
</div>

<div class="example" id="rrefsqljgrant__grantexamples"><a name="rrefsqljgrant__grantexamples"><!-- --></a><h2 class="sectiontitle">例子</h2><div class="p">授予表的SELECT特权<samp class="codeph">t</samp>授权ID <samp class="codeph">maria</samp>和<samp class="codeph">harry</samp> ，请使用以下语法：<pre><strong>GRANT SELECT ON TABLE t TO maria,harry</strong> </pre>
</div>
<div class="p">授予表的UPDATE和TRIGGER特权<samp class="codeph">t</samp>授权ID <samp class="codeph">anita</samp>和<samp class="codeph">zhi</samp> ，请使用以下语法：<pre><strong>GRANT UPDATE, TRIGGER ON TABLE t TO anita,zhi</strong> </pre>
</div>
<div class="p">授予表的SELECT特权<samp class="codeph">s.v</samp>对于所有用户，请使用以下语法：<pre><strong>GRANT SELECT ON TABLE s.v to PUBLIC</strong></pre>
</div>
<p>在过程中授予EXECUTE特权<samp class="codeph">p</samp>到授权ID <samp class="codeph">george</samp> ，请使用以下语法：</p>
<pre><strong>GRANT EXECUTE ON PROCEDURE p TO george</strong> </pre>

<p>授予角色<samp class="codeph">purchases_reader_role</samp>授权ID <samp class="codeph">george</samp>和<samp class="codeph">maria</samp> ，请使用以下语法：</p>

<pre><strong>GRANT purchases_reader_role TO george,maria</strong></pre>

<p>授予表的SELECT特权<samp class="codeph">t</samp>扮演角色<samp class="codeph">purchases_reader_role</samp> ，请使用以下语法：</p>

<pre><strong>GRANT SELECT ON TABLE t TO purchases_reader_role</strong></pre>

<p>在序列生成器上授予USAGE特权<samp class="codeph">order_id</samp>扮演角色<samp class="codeph">sales_role</samp> ，请使用以下语法：</p>

<pre><strong>GRANT USAGE ON SEQUENCE order_id TO sales_role;</strong></pre>

<p>授予用户定义类型的USAGE特权<samp class="codeph">price</samp>扮演角色<samp class="codeph">finance_role</samp> ，请使用以下语法：</p>

<pre><strong>GRANT USAGE ON TYPE price TO finance_role;</strong></pre>

<p>在用户定义的聚合上授予USAGE特权<samp class="codeph">types.maxPrice</samp>扮演角色<samp class="codeph">sales_role</samp> ，请使用以下语法：</p>

<pre><strong>GRANT USAGE ON DERBY AGGREGATE types.maxPrice TO sales_role;</strong></pre>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="crefsqlj39374.html" title="">语句</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefsqljrevoke.html" title="REVOKE语句删除特定用户或角色或所有用户的特权，以对数据库对象执行操作。">撤销声明</a></div>
<div><a href="rrefsistabssystableperms.html" title="SYSTABLEPERMS表存储已授予但尚未撤消的表权限。">SYSTABLEPERMS系统表</a></div>
<div><a href="rrefsistabssyscolperms.html" title="SYSCOLPERMS表存储已授予但尚未撤消的列权限。">SYSCOLPERMS系统表</a></div>
</div>
</div>



</body></html>