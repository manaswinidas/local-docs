<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="SYSCS_DIAG.ERROR_LOG_READER diagnostic table function">
<meta name="abstract" content="The SYSCS_DIAG.ERROR_LOG_READER diagnostic table function contains all the useful SQL statements that are in the derby.log file or a log file that you specify.">
<meta name="description" content="The SYSCS_DIAG.ERROR_LOG_READER diagnostic table function contains all the useful SQL statements that are in the derby.log file or a log file that you specify.">
<meta name="DC.subject" content="diagnostic table functions, SYSCS_DIAG.ERROR_LOG_READER, SYSCS_DIAG.ERROR_LOG_READER diagnostic table function">
<meta name="keywords" content="diagnostic table functions, SYSCS_DIAG.ERROR_LOG_READER, SYSCS_DIAG.ERROR_LOG_READER diagnostic table function">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagtables.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagcontainedroles.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagerrormessages.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiaglocktable.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagspacetable.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagstatementcache.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagstatementduration.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscsdiagtransactiontable.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefsyscsdiagerrorlogreader">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>SYSCS_DIAG.ERROR_LOG_READER诊断表功能</title>
</head>
<body id="rrefsyscsdiagerrorlogreader" ><a name="rrefsyscsdiagerrorlogreader"><!-- --></a>


<h1 class="topictitle1">SYSCS_DIAG.ERROR_LOG_READER诊断表功能</h1>



<div><p>SYSCS_DIAG.ERROR_LOG_READER诊断表功能包含在<samp class="codeph">derby.log</samp>文件或您指定的日志文件。</p>

<div class="section">
<p>诊断表功能的一种用法是在给定的时间点确定活动事务和这些事务中的SQL语句。例如，如果发生死锁或锁定超时，则可以在错误日志中找到时间戳（timestampConstant）。</p>

<p>对于同时启用身份验证和SQL授权的<a href="rrefattrib26867.html#rrefattrib26867">数据库</a> ，只有<a href="rrefattrib26867.html#rrefattrib26867">数据库所有者</a>才能访问此诊断表功能。有关更多信息，请参见《 <span><em>Derby安全指南</em></span> 》中的“配置用户身份验证”和“配置用户授权”。</p>

<p>要访问SYSCS_DIAG.ERROR_LOG_READER诊断表函数，必须使用SQL表函数语法。</p>

<div class="p">例如：<pre>SELECT * 
    FROM TABLE (SYSCS_DIAG.ERROR_LOG_READER()) 
    AS T1</pre>其中T1是用户指定的表名，它是任何有效的标识符。</div>

<p>您可以将日志文件名指定为SYSCS_DIAG.ERROR_LOG_READER诊断表功能的可选参数。指定日志文件名时，该文件名必须是一个表达式，其数据类型映射到Java字符串。</p>

<div class="p">例如：<pre>SELECT * 
    FROM TABLE (SYSCS_DIAG.ERROR_LOG_READER('myderbyerrors.log')) 
    AS T1</pre>
</div>

<div class="p"><div class="tip"><span class="tiptitle">提示：</span>默认情况下， <span>Derby</span>日志文件仅包含引导，关闭和错误消息。见<samp class="codeph"><a href="rrefproper26985.html#rrefproper26985">derby.stream.error.logSeverityLevel</a></samp>财产和<samp class="codeph"><a href="rrefproper43517.html#rrefproper43517">derby.language.logStatementText</a></samp>属性，以获取有关如何将更多信息打印到<span>Derby</span>日志文件的说明。然后，您可以使用SYSCS_DIAG.ERROR_LOG_READER诊断表函数来查询该信息。</div>
</div>

<p>返回的表具有下表中显示的列。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="For the columns returned by the SYSCS_DIAG.ERROR_LOG_READER table function, this table provides its data type, its length in bytes, whether it is nullable, and a description of its contents." frame="border" rules="all"><caption>表格1。SYSCS_DIAG.ERROR_LOG_READER表函数返回的列</caption>





<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="31%" id="N1010C">栏名</th>

<th valign="bottom" width="17%" id="N10113">类型</th>

<th valign="bottom" width="11%" id="N1011A">长度</th>

<th valign="bottom" width="12%" id="N10121">可空</th>

<th valign="bottom" width="28.999999999999996%" id="N10128">内容</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="31%" headers="N1010C">TS</td>

<td valign="top" width="17%" headers="N10113">VARCHAR</td>

<td valign="top" width="11%" headers="N1011A">26</td>

<td valign="top" width="12%" headers="N10121">假</td>

<td valign="top" width="28.999999999999996%" headers="N10128">语句的时间戳。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N1010C">螺纹</td>

<td valign="top" width="17%" headers="N10113">VARCHAR</td>

<td valign="top" width="11%" headers="N1011A">40</td>

<td valign="top" width="12%" headers="N10121">假</td>

<td valign="top" width="28.999999999999996%" headers="N10128">线程名称。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N1010C">XID</td>

<td valign="top" width="17%" headers="N10113">VARCHAR</td>

<td valign="top" width="11%" headers="N1011A">15</td>

<td valign="top" width="12%" headers="N10121">假</td>

<td valign="top" width="28.999999999999996%" headers="N10128">交易编号。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N1010C">LCCID</td>

<td valign="top" width="17%" headers="N10113">VARCHAR</td>

<td valign="top" width="11%" headers="N1011A">15</td>

<td valign="top" width="12%" headers="N10121">假</td>

<td valign="top" width="28.999999999999996%" headers="N10128">连接ID。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N1010C">数据库</td>

<td valign="top" width="17%" headers="N10113">VARCHAR</td>

<td valign="top" width="11%" headers="N1011A">128</td>

<td valign="top" width="12%" headers="N10121">假</td>

<td valign="top" width="28.999999999999996%" headers="N10128">数据库名称。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N1010C">灾难恢复</td>

<td valign="top" width="17%" headers="N10113">VARCHAR</td>

<td valign="top" width="11%" headers="N1011A">50</td>

<td valign="top" width="12%" headers="N10121">真正</td>

<td valign="top" width="28.999999999999996%" headers="N10128">网络服务器会话的DRDA ID。</td>

</tr>

<tr>
<td valign="top" width="31%" headers="N1010C">LOGTEXT</td>

<td valign="top" width="17%" headers="N10113">长VARCHAR</td>

<td valign="top" width="11%" headers="N1011A">32,700</td>

<td valign="top" width="12%" headers="N10121">假</td>

<td valign="top" width="28.999999999999996%" headers="N10128">语句或提交或回滚的文本。</td>

</tr>

</tbody>

</table>
</div>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefsyscsdiagtables.html" title="Derby提供了一组系统表表达式，您可以使用它们来获取有关数据库状态和数据库会话的诊断信息。">SYSCS_DIAG诊断表和函数</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefsyscsdiagcontainedroles.html" title="SYSCS_DIAG.CONTAINED_ROLES诊断表函数返回指定角色中包含的所有角色。">SYSCS_DIAG.CONTAINED_ROLES诊断表功能</a></div>
<div><a href="rrefsyscsdiagerrormessages.html" title="SYSCS_DIAG.ERROR_MESSAGES诊断表显示了Derby数据库的所有SQLState，对语言环境敏感的错误消息以及异常严重性。">SYSCS_DIAG.ERROR_MESSAGES诊断表</a></div>
<div><a href="rrefsyscsdiaglocktable.html" title="SYSCS_DIAG.LOCK_TABLE诊断表显示了Derby数据库中当前持有的所有锁。">SYSCS_DIAG.LOCK_TABLE诊断表</a></div>
<div><a href="rrefsyscsdiagspacetable.html" title="SYSCS_DIAG.SPACE_TABLE诊断表函数显示特定表及其索引的空间使用情况。">SYSCS_DIAG.SPACE_TABLE诊断表功能</a></div>
<div><a href="rrefsyscsdiagstatementcache.html" title="SYSCS_DIAG.STATEMENT_CACHE诊断表显示SQL语句高速缓存的内容。">SYSCS_DIAG.STATEMENT_CACHE诊断表</a></div>
<div><a href="rrefsyscsdiagstatementduration.html" title="您可以使用SYSCS_DIAG.STATEMENT_DURATION诊断表功能来分析derby.log文件或您指定的日志文件中有用的SQL语句的执行持续时间。">SYSCS_DIAG.STATEMENT_DURATION诊断表功能</a></div>
<div><a href="rrefsyscsdiagtransactiontable.html" title="SYSCS_DIAG.TRANSACTION_TABLE诊断表显示数据库中当前存在的所有事务。">SYSCS_DIAG.TRANSACTION_TABLE诊断表</a></div>
</div>
</div>



</body></html>