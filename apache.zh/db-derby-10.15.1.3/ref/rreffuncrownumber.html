<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="ROW_NUMBER function">
<meta name="abstract" content="The ROW_NUMBER function returns the row number over a named or unnamed window specification.">
<meta name="description" content="The ROW_NUMBER function returns the row number over a named or unnamed window specification.">
<meta name="DC.subject" content="ROW_NUMBER function, functions, ROW_NUMBER, LIMIT">
<meta name="keywords" content="ROW_NUMBER function, functions, ROW_NUMBER, LIMIT">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj29026.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rreffuncrownumber">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>ROW_NUMBER个功能</title>
</head>
<body id="rreffuncrownumber" ><a name="rreffuncrownumber"><!-- --></a>


<h1 class="topictitle1">ROW_NUMBER个功能</h1>



<div><p>ROW_NUMBER函数返回已命名或未命名窗口规范上的行号。</p>

<div class="section"> <p>ROW_NUMBER函数不接受任何参数，并且对于窗口上的每一行，它都返回一个不断增加的BIGINT。通常用于限制查询返回的行数。<a href="rrefsqljoffsetfetch.html#rrefsqljoffsetfetch">结果offset或fetch first子句</a>可能是执行此任务的更有效方法。</p>

<p>返回值的数据类型为BIGINT。</p>
 
</div>

<div class="section"><h2 class="sectiontitle">句法</h2> 
<pre><strong>ROW_NUMBER ( ) OVER [ <em>windowSpecification</em> | <em>windowName</em> ]</strong></pre>
 
<p>当前，唯一有效的<em>windowSpecification</em>是一对空括号（ <samp class="codeph">()</samp> ），表示该函数是在整个结果集中进行评估的。</p>

<p>如果选择在<em><a href="rrefselectexpression.html#rrefselectexpression">selectExpression中</a></em>使用<a href="rrefsqljwindow.html#rrefsqljwindow">WINDOW子句</a>指定一个窗口，则必须指定一个<em>windowName</em>来引用它。</p>

</div>

<div class="example"><h2 class="sectiontitle">例子</h2><p>将查询返回的行数限制为表的前10行<samp class="codeph">T</samp> ，请使用以下查询：</p>

<pre><strong>SELECT * FROM (
   SELECT 
     ROW_NUMBER() OVER () AS R, 
     T.* 
   FROM T
) AS TR 
   WHERE R &lt;= 10;</strong></pre>

<p>要在WINDOW子句中使用窗口名称显示查询结果：</p>

<pre><strong>SELECT ROW_NUMBER() OVER R, 
    B, 
    SUM(A) 
FROM T5 GROUP BY B WINDOW R AS ()</strong></pre>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefsqlj29026.html" title="内置函数是一个表达式，其中SQL关键字或特殊运算符执行某些操作。">内置函数</a></div>
</div>
</div>



</body></html>