<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="WHEN clause">
<meta name="abstract" content="The WHEN clause is an optional part of a CREATE TRIGGER statement.">
<meta name="description" content="The WHEN clause is an optional part of a CREATE TRIGGER statement.">
<meta name="DC.subject" content="CREATE TRIGGER statement, WHEN clause, triggers">
<meta name="keywords" content="CREATE TRIGGER statement, WHEN clause, triggers">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj43125.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj89752.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefsqljwhenclause">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>WHEN子句</title>
</head>
<body id="rrefsqljwhenclause" ><a name="rrefsqljwhenclause"><!-- --></a>


<h1 class="topictitle1">WHEN子句</h1>



<div><p>WHEN子句是CREATE TRIGGER语句的可选部分。</p>

<div class="section"><h2 class="sectiontitle">句法</h2>
<pre><strong>WHEN ( <em><a href="rrefsqlj23075.html#rrefsqlj23075">booleanExpression</a></em> )</strong></pre>

</div>

<div class="section">
<p>如果一个触发器已经与WHEN子句创建，并在触发事件发生时， <em><a href="rrefsqlj43125.html#rrefsqlj43125__i1149821">triggeredSQLStatement</a></em>将被执行只有在WHEN子句的值为TRUE <em>二进制表达式</em>的<em>值</em> 。如果计算结果为FALSE或NULL，则<em>triggeredSQLStatement</em>不会被执行。</p>

<p>可以从WHEN子句中引用REFERENCING子句中定义的转换表或转换变量。</p>

<p>在<a href="rrefsqlj43125.html">CREATE TRIGGER语句中</a>为<em>触发</em> <a href="rrefsqlj43125.html">SQLStatement</a>列出的限制也适用于WHEN子句。</p>

<div class="note"><span class="notetitle">注意：</span>仅在将数据库完全升级到<span>Derby</span> Release 10.11或更高版本之后，在CREATE TRIGGER语句中使用WHEN子句才有效。（有关更多信息，请参阅《 <span><em>Derby开发人员指南</em></span> 》中的“升级数据库”。）在10.10或更低版本的数据库中，此子句没有任何意义。</div>

</div>

<div class="example"><h2 class="sectiontitle">例</h2>
<pre><strong>CREATE TRIGGER FLIGHTSUPDATE
    AFTER UPDATE ON FLIGHTS
    REFERENCING OLD AS OLD NEW AS NEW
    FOR EACH ROW
    WHEN (OLD.FLIGHT_ID &lt;&gt; NEW.FLIGHT_ID)
    UPDATE FLIGHTAVAILABILITY
        SET FLIGHT_ID = NEW.FLIGHT_ID
        WHERE FLIGHT_ID = OLD.FLIGHT_ID</strong></pre>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefsqlj43125.html" title="CREATE TRIGGER语句创建一个触发器，该触发器定义了在指定表上发生数据库事件时执行的一组操作。">CREATE TRIGGER语句</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefsqlj89752.html" title="">引用条款</a></div>
</div>
</div>



</body></html>