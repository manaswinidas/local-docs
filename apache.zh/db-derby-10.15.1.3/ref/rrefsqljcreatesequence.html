<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="CREATE SEQUENCE statement">
<meta name="abstract" content="The CREATE SEQUENCE statement creates a sequence generator, which is a mechanism for generating exact numeric values, one at a time.">
<meta name="description" content="The CREATE SEQUENCE statement creates a sequence generator, which is a mechanism for generating exact numeric values, one at a time.">
<meta name="DC.subject" content="CREATE SEQUENCE statement, SQL statements, CREATE SEQUENCE, sequence generators, creating">
<meta name="keywords" content="CREATE SEQUENCE statement, SQL statements, CREATE SEQUENCE, sequence generators, creating">
<meta name="DC.Relation" scheme="URI" content="rrefsyscspeeksequence.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljdropsequence.html">
<meta name="DC.Relation" scheme="URI" content="rrefsyscspeeksequence.html">
<meta name="DC.Relation" scheme="URI" content="rrefsistabssyssequences.html">
<meta name="DC.Relation" scheme="URI" content="rrefproperpreallocator.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljdropsequence.html">
<meta name="DC.Relation" scheme="URI" content="rrefsistabssyssequences.html">
<meta name="DC.Relation" scheme="URI" content="rrefproperpreallocator.html">
<meta name="DC.Relation" scheme="URI" content="crefsqlj95081.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljcreateaggregate.html">
<meta name="DC.Relation" scheme="URI" content="rrefcreatefunctionstatement.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj20937.html">
<meta name="DC.Relation" scheme="URI" content="rrefcreateprocedurestatement.html">
<meta name="DC.Relation" scheme="URI" content="rrefcreaterole.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj31580.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljcreatesynonym.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj24513.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj43125.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljcreatetype.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj15446.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefsqljcreatesequence">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>CREATE SEQUENCE语句</title>
</head>
<body id="rrefsqljcreatesequence" ><a name="rrefsqljcreatesequence"><!-- --></a>


<h1 class="topictitle1">CREATE SEQUENCE语句</h1>



<div><p>CREATE SEQUENCE语句创建一个序列生成器，该生成器是一种用于一次生成一个精确数值的机制。</p>

<div class="section">
<p>序列生成器所在的模式的所有者自动获得序列生成器的USAGE特权，并且可以将此特权授予其他用户和角色。只有<a href="rrefattrib26867.html#rrefattrib26867">数据库所有者</a>和序列生成器的所有者才能授予这些USAGE特权。无法从架构所有者撤消USAGE特权。有关更多信息，请参见<a href="rrefsqljgrant.html#rrefsqljgrant">GRANT语句</a>和<a href="rrefsqljrevoke.html#rrefsqljrevoke">REVOKE语句</a> 。
</p>
</div>

<div class="section"><h2 class="sectiontitle">句法</h2>
<pre><strong>CREATE SEQUENCE <em><a href="rrefsequencename.html#rrefsequencename">sequenceName</a></em> [ <em><a href="rrefsqljcreatesequence.html#rrefsqljcreatesequence__rrefsqljcrseqsequenceelement">sequenceElement</a></em> ]*</strong></pre>

<p>序列名称由可选的<em><a href="rrefschemaname.html">schemaName</a></em>和<em><a href="crefsqlj34834.html">SQLIdentifier组成</a></em> 。如果未提供<em>schemaName</em> ，则当前架构为默认架构。如果指定了合格的序列名称，则架构名称不能以SYS开头。</p>
</div>

<div class="section" id="rrefsqljcreatesequence__rrefsqljcrseqsequenceelement"><a name="rrefsqljcreatesequence__rrefsqljcrseqsequenceelement"><!-- --></a><h2 class="sectiontitle">sequenceElement</h2>
<pre><strong>{
  AS <em>dataType</em> 
  | START WITH <em>signedInteger</em> 
  | INCREMENT BY <em>signedInteger</em> 
  | MAXVALUE <em>signedInteger</em> | NO MAXVALUE 
  | MINVALUE <em>signedInteger</em> | NO MINVALUE 
  | CYCLE | NO CYCLE 
}</strong></pre>

<p>如果指定，则<em>dataType</em>必须为整数类型（SMALLINT，INT或BIGINT）。如果未指定，则默认数据类型为INT。</p>

<p>如果指定，则INCREMENT值是一个非零数字，适合<em>dataType</em>值。如果未指定，则INCREMENT默认为1。增加是序列生成器前进的步骤。如果INCREMENT为正，则序列号会随着时间增大。如果INCREMENT为负，则序列号变小。</p>

<p>如果指定，MINVALUE必须是一个适合<em>dataType</em>值的整数。如果未指定MINVALUE，或者指定了NO MINVALUE，则MINVALUE默认为适合<em>dataType</em>值的最小负数。
</p>

<p>如果指定，则MAXVALUE不得大于适合<em>dataType</em>值的最大正整数。如果未指定MAXVALUE或未指定NO MAXVALUE，则MAXVALUE缺省为适合<em>dataType</em>值的最大正整数。MAXVALUE必须大于MINVALUE。</p>

<p>START WITH子句指定序列生成器的初始值。此值必须介于MINVALUE和MAXVALUE之间。如果未指定START WITH子句，则初始值默认为：</p>

<ul><li>如果INCREMENT为正，则为MINVALUE</li>

<li>如果INCREMENT为负，则为MAXVALUE</li>
</ul>

<p>CYCLE子句控制当序列生成器耗尽其范围并回绕时发生的情况。如果指定了CYCLE，则环绕行为是将序列生成器重新初始化为其MINIMUM或MAXIMUM值。如果指定了NO CYCLE，则当生成器回绕时， <span>Derby</span>将引发异常。默认行为是NO CYCLE。请注意，循环从最小值或最大值而不是从起始值重新开始。</p>

<p>要从序列生成器检索下一个值，请使用<a href="rrefsqljnextvaluefor.html#rrefsqljnextvaluefor">NEXT VALUE FOR表达式</a> 。
</p>
</div>


<div class="section"><h2 class="sectiontitle">性能</h2>

<p>为了提高性能和并发性， <span>Derby</span>为序列预分配了即将到来的值的范围。可以通过调整<a href="rrefproperpreallocator.html#rrefproperpreallocator">derby.language.sequence.preallocator</a>属性的值来配置这些范围的长度。
</p>

</div>


<div class="example"><h2 class="sectiontitle">例子</h2>
<p>以下语句创建一个类型为INT的序列生成器，其起始值为-2147483648（最小的INT值）。该值增加1，最后的合法值是最大的INT。如果再次在生成器上调用NEXT VALUE FOR，则<span>Derby</span>引发异常。
</p>

<pre><strong>CREATE SEQUENCE order_id;</strong></pre>

<p>以下语句创建一个起始值为3,000,000,000的BIGINT类型的序列。该值增加1，最后的合法值是最大可能的BIGINT。如果再次在生成器上调用NEXT VALUE FOR，则<span>Derby</span>引发异常。
</p>

<pre><strong>CREATE SEQUENCE order_entry_id
AS BIGINT
START WITH 3000000000;</strong></pre>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="crefsqlj95081.html" title="">CREATE语句</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefsqljcreateaggregate.html" title="CREATE DERBY AGGREGATE语句创建用户定义的聚合（UDA）。UDA是自定义聚合运算符。">CREATE DERBY AGGREGATE语句</a></div>
<div><a href="rrefcreatefunctionstatement.html" title="CREATE FUNCTION语句创建一个Java函数，然后可以在表达式中使用它。">CREATE FUNCTION语句</a></div>
<div><a href="rrefsqlj20937.html" title="CREATE INDEX语句在表上创建索引。索引可以在表中的一列或多列上。">CREATE INDEX语句</a></div>
<div><a href="rrefcreateprocedurestatement.html" title="CREATE PROCEDURE语句创建一个Java存储过程，然后可以使用CALL PROCEDURE语句调用它。">CREATE PROCEDURE语句</a></div>
<div><a href="rrefcreaterole.html" title="CREATE ROLE语句创建一个SQL角色。当数据库有许多用户时，角色对于管理特权很有用。">CREATE ROLE语句</a></div>
<div><a href="rrefsqlj31580.html" title="CREATE SCHEMA语句创建一个模式，该模式是在单个集合中对对象进行逻辑分组并为对象提供唯一名称空间的一种方式。">CREATE SCHEMA语句</a></div>
<div><a href="rrefsqljcreatesynonym.html" title="CREATE SYNONYM语句为同一模式或其他模式中存在的表或视图提供了备用名称。">创建SYNONYM语句</a></div>
<div><a href="rrefsqlj24513.html" title="CREATE TABLE语句创建一个表。表包含列和约束，以及数据必须遵循的规则。">CREATE TABLE语句</a></div>
<div><a href="rrefsqlj43125.html" title="CREATE TRIGGER语句创建一个触发器，该触发器定义了在指定表上发生数据库事件时执行的一组操作。">CREATE TRIGGER语句</a></div>
<div><a href="rrefsqljcreatetype.html" title="CREATE TYPE语句创建用户定义的类型（UDT）。UDT是可序列化的Java类，其实例存储在列中。">CREATE TYPE语句</a></div>
<div><a href="rrefsqlj15446.html" title="CREATE VIEW语句创建一个视图，该视图是由查询形成的虚拟表。">CREATE VIEW语句</a></div>
<div><a href="rrefsyscspeeksequence.html" title="SYSCS_UTIL.SYSCS_PEEK_AT_SEQUENCE函数允许用户观察序列生成器的瞬时当前值，而不必查询SYSSEQUENCES系统表。">SYSCS_UTIL.SYSCS_PEEK_AT_SEQUENCE系统功能</a></div>
<div><a href="rrefsqljdropsequence.html" title="DROP SEQUENCE语句删除指定的序列生成器。">DROP SEQUENCE语句</a></div>
<div><a href="rrefsistabssyssequences.html" title="SYSSEQUENCES表描述了数据库中的序列生成器。">SYSSEQUENCES系统表</a></div>
<div><a href="rrefproperpreallocator.html" title="derby.language.sequence.preallocator属性指定要为序列预分配多少个值。">derby.language.sequence.preallocator</a></div>
</div>
</div>



</body></html>