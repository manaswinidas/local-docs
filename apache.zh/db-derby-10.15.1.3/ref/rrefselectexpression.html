<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="selectExpression">
<meta name="abstract" content="A selectExpression is the basic SELECT-FROM-WHERE construct used to build a table value based on filtering and projecting values from other tables.">
<meta name="description" content="A selectExpression is the basic SELECT-FROM-WHERE construct used to build a table value based on filtering and projecting values from other tables.">
<meta name="DC.subject" content="Select expression, DISTINCT clause, part of selectExpression, * as wildcard in SQL SELECT">
<meta name="keywords" content="Select expression, DISTINCT clause, part of selectExpression, * as wildcard in SQL SELECT">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj19433.html">
<meta name="DC.Relation" scheme="URI" content="rreftableexpression.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljnextvaluefor.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj11277.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj1080779.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj23075.html">
<meta name="DC.Relation" scheme="URI" content="rrefcase.html">
<meta name="DC.Relation" scheme="URI" content="crefsqlj29911.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefselectexpression">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>selectExpression</title>
</head>
<body id="rrefselectexpression" ><a name="rrefselectexpression"><!-- --></a>


<h1 class="topictitle1">selectExpression</h1>



<div><p><em>selectExpression</em>是基本的SELECT-FROM-WHERE构造，用于基于其他表的过滤和投影值来构建表值。</p>

<div class="section"><h2 class="sectiontitle">句法</h2> <pre><strong>SELECT [ DISTINCT | ALL ] <em>selectItem</em> [ , <em>selectItem </em>]*
<em><a href="rrefsqlj21583.html#rrefsqlj21583">FROM clause</a></em>
[ <em><a href="rrefsqlj33602.html#rrefsqlj33602">WHERE clause</a> </em>]
[ <em><a href="rrefsqlj32654.html#rrefsqlj32654">GROUP BY clause</a></em> ]
[ <em><a href="rrefsqlj14854.html#rrefsqlj14854">HAVING clause</a></em> ]
[ <em><a href="rrefsqljwindow.html#rrefsqljwindow">WINDOW clause</a></em> ]
[ <em><a href="rrefsqlj13658.html#rrefsqlj13658">ORDER BY clause</a></em> ]
[ <em><a href="rrefsqljoffsetfetch.html#rrefsqljoffsetfetch">result offset clause</a></em> ]
[ <em><a href="rrefsqljoffsetfetch.html#rrefsqljoffsetfetch">fetch first clause</a></em> ]
</strong></pre>

<p><strong>选择物品：</strong></p>
 <pre><strong>{
    * |
    { <em><a href="rreftablename.html#rreftablename">tableName</a></em> | <em><a href="rrefcorrelationname.html#rrefcorrelationname">correlationName</a></em> } .* |
    <em>expression</em> [AS <em><a href="rrefsimplecolumnname.html#rrefsimplecolumnname">simpleColumnName</a> </em>]
}</strong></pre>
 <p>SELECT子句包含一个表达式列表和一个可选的量词，该量词适用于<a href="rrefsqlj21583.html#rrefsqlj21583">FROM子句</a>和<a href="rrefsqlj33602.html#rrefsqlj33602">WHERE子句的结果</a> 。如果指定了DISTINCT，则结果中仅包含任何行值的一个副本。为了DISTINCT的目的，空值被视为彼此重复。如果未指定量词或ALL，则在应用SELECT子句时，不会从结果中删除任何行（ALL是默认值）。</p>
 <p><em>selectItem</em>为在<em>selectExpression</em>中构造的表结果<em>投影</em>一个或多个结果列值。</p>
 
<p>对于未从<em>selectExpression所</em>涉及的表中选择特定列的查询（例如，使用<samp class="codeph">COUNT(*)</samp> ），用户必须至少具有一个列级SELECT特权或表级SELECT特权。有关更多信息，请参见<a href="rrefsqljgrant.html#rrefsqljgrant">GRANT语句</a> 。</p>

<p><a href="rrefsqlj21583.html#rrefsqlj21583">FROM子句</a>的结果是FROM项的叉积。<a href="rrefsqlj33602.html#rrefsqlj33602">WHERE子句</a>可以进一步限定该结果。</p>
 <p>WHERE子句导致基于布尔表达式从结果中过滤出行。结果中仅返回表达式计算为TRUE的行。</p>
 <p>GROUP BY子句将结果中的行分组为一个或多个列具有匹配值的子集。GROUP BY子句通常与聚合一起使用。</p>
 <div class="p">如果存在GROUP BY子句，则SELECT子句必须<em>仅</em>包含聚合或分组列。如果要在SELECT子句中包括未分组的列，请在聚合表达式中包括该列。例如：<pre><strong>-- List head count of each department, 
-- the department number (WORKDEPT), and the average departmental salary
-- (SALARY) for all departments in the EMPLOYEE table. 
-- Arrange the result table in ascending order by average departmental
-- salary.
SELECT COUNT(*),WORK_DEPT,AVG(SALARY)
     FROM EMPLOYEE
     GROUP BY WORK_DEPT
     ORDER BY 3</strong></pre>
</div>
 <p>如果没有GROUP BY子句，但是<em>selectItem</em>包含不在子查询中的聚合，则该查询将隐式分组。整个表是单个组。</p>
 <p>HAVING子句限制了分组表，并指定了只能引用当前范围中的分组列或集合的搜索条件（与WHERE子句非常相似）。HAVING子句应用于分组表的每个组。如果HAVING子句的求值为TRUE，则保留该行以进行进一步处理。如果HAVING子句的求值为FALSE或NULL，则将丢弃该行。如果有HAVING子句但没有GROUP BY，则对于整个表，表将隐式分组为一组。</p>

<p>当在<em>selectExpression中</em>使用<a href="rreffuncrownumber.html#rreffuncrownumber">ROW_NUMBER函数</a>时，WINDOW子句允许您按名称引用窗口。
</p>

<p>ORDER BY子句允许您指定行在结果集中显示的顺序。在子查询中，除非ORDER BY子句附带结果offset和fetch first子句中的一个或两个，或者与ROW_NUMBER函数一起使用，否则它是无意义的。</p>

<p>结果偏移子句提供一种在开始返回任何行之前跳过结果集中的前N行的方法。如果需要，可以将first子句与result offset子句组合使用，它限制了结果集中返回的行数。</p>

<div class="p"><span>Derby</span>按以下顺序处理<em>selectExpression</em> ：<ul>
<li>FROM子句</li>

<li>WHERE子句</li>

<li>GROUP BY（或隐式GROUP BY）</li>

<li>HAVING子句</li>

<li>WINDOW子句</li>

<li>ORDER BY子句</li>

<li>结果偏移量子句</li>

<li>获取第一个子句</li>

<li>SELECT子句</li>

</ul>
</div>
 <p><em>selectExpression</em>的结果始终是一个表。</p>
 <div class="p">当查询没有FROM子句时（当您构造一个值，而不是从表中获取数据时），您将使用VALUES表达式，而不是<em>selectExpression</em> 。例如：<pre><strong>VALUES CURRENT_TIMESTAMP</strong></pre>
</div>
 <p>请参见<a href="rrefsqlj11277.html#rrefsqlj11277">VALUES表达式</a> 。</p>
 </div>

<div class="section" id="rrefselectexpression__sqlj38441"><a name="rrefselectexpression__sqlj38441"><!-- --></a><h2 class="sectiontitle">*通配符</h2> <p>*扩展到关联的FROM子句中表中的所有列。</p>
 <p><em><a href="rreftablename.html#rreftablename">table-Name</a> 。*</em>和<em><a href="rrefcorrelationname.html#rrefcorrelationname">correlation-Name</a> 。*</em>扩展到所标识表中的所有列。该表必须在关联的FROM子句中列出。</p>
 </div>

<div class="section"><h2 class="sectiontitle">命名栏</h2> <p>您可以使用AS子句命名<em>selectItem</em>列。如果<em>selectItem</em>的列不是简单的<em>columnReference</em>表达式或不是带有AS子句命名的，则将为其生成一个唯一的名称。</p>
<div class="p">这些列名称在几种情况下很有用：<ul>
<li>它们在JDBC <em>ResultSetMetaData</em>上可用。</li>

<li>当<em>selectExpression</em>用作FROM子句中的表子查询时， <em>它们</em>用作结果表中列的名称。</li>

<li>它们在ORDER BY子句中用作可排序的列名。</li>

</ul>
</div>
 </div>

<div class="example"><h2 class="sectiontitle">例子</h2>
<pre><strong><span>-- This example shows SELECT-FROM-WHERE
-- with an ORDER BY clause
-- and correlation-Names for the tables.</span>
SELECT CONSTRAINTNAME, COLUMNNAME 
    FROM SYS.SYSTABLES t, SYS.SYSCOLUMNS col,
    SYS.SYSCONSTRAINTS cons, SYS.SYSCHECKS checks 
  WHERE t.TABLENAME = 'FLIGHTS' 
    AND t.TABLEID = col.REFERENCEID 
    AND t.TABLEID = cons.TABLEID 
    AND cons.CONSTRAINTID = checks.CONSTRAINTID 
  ORDER BY CONSTRAINTNAME
<span>-- This example shows the use of the DISTINCT clause</span>
SELECT DISTINCT ACTNO
    FROM EMP_ACT
<span>-- This example shows how to rename an expression
-- Using the EMPLOYEE table, list the department number (WORKDEPT) and 
-- maximum departmental salary (SALARY) renamed as BOSS 
-- for all departments whose maximum salary is less than the 
-- average salary in all other departments.</span>
SELECT WORKDEPT AS DPT, MAX(SALARY) AS BOSS 
    FROM EMPLOYEE EMP_COR 
    GROUP BY WORKDEPT 
    HAVING MAX(SALARY) &lt; (SELECT AVG(SALARY)
                          FROM EMPLOYEE
                          WHERE NOT WORKDEPT = EMP_COR.WORKDEPT) 
    ORDER BY BOSS</strong>
</pre>
 </div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefsqlj19433.html" title="许多语句和表达式的语法包括术语“表达式”或特定种类的表达式（如tableSubquery）的术语。在语句中这些指定的位置允许使用表达式。">SQL表达式</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="crefsqlj29911.html" title="您可以使用JDBC API中的PreparedStatement方法准备语句，以允许这些语句具有未指定值的参数。这些参数称为动态参数，并以问号（？）表示。">动态参数</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rreftableexpression.html" title="tableExpression在FROM子句中指定表，视图或函数。">tableExpression</a></div>
<div><a href="rrefsqljnextvaluefor.html" title="NEXT VALUE FOR表达式从序列生成器中检索下一个值。">表达式的下一个值</a></div>
<div><a href="rrefsqlj11277.html" title="VALUES表达式允许从其他值构造行或表。">VALUES表达</a></div>
<div><a href="rrefsqlj1080779.html" title="从最高到最低的操作顺序如下。">表达式优先</a></div>
<div><a href="rrefsqlj23075.html" title="布尔表达式是产生布尔值的表达式。">布尔表达式</a></div>
<div><a href="rrefcase.html" title="CASE表达式可用于Derby中的条件表达式。">案例表达</a></div>
</div>
</div>



</body></html>