<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="XMLSERIALIZE operator">
<meta name="abstract" content="XMLSERIALIZE is a SQL/XML operator that you can use to convert an XML type to a character type. There is no other way to convert the type of a Derby XML value.">
<meta name="description" content="XMLSERIALIZE is a SQL/XML operator that you can use to convert an XML type to a character type. There is no other way to convert the type of a Derby XML value.">
<meta name="DC.subject" content="XMLSERIALIZE operator, operators, XMLSERIALIZE, XML, operators, XMLSERIALIZE">
<meta name="keywords" content="XMLSERIALIZE operator, operators, XMLSERIALIZE, XML, operators, XMLSERIALIZE">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj29026.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rreffuncxmlserialize">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>XMLSERIALIZE运算符</title>
</head>
<body id="rreffuncxmlserialize" ><a name="rreffuncxmlserialize"><!-- --></a>


<h1 class="topictitle1">XMLSERIALIZE运算符</h1>



<div><p>XMLSERIALIZE是一个SQL / XML运算符，可用于将XML类型转换为字符类型。没有其他方法可以转换<span>Derby</span> XML值的类型。</p>

<div class="section"> <div class="attention"><span class="attentiontitle">注意：</span>序列化是基于SQL / XML序列化规则执行的。这些规则与<span>Derby</span>仅支持XMLSERIALIZE语法的一个子集的事实结合在一起，表明不能保证XMLSERIALIZE操作的结果是原始XML文本的完整副本。例如，假设<samp class="codeph">[xString]</samp>是格式良好的XML文档的文本表示形式。您发出以下语句：<pre><strong>INSERT INTO x_table (id, xcol)
    VALUES (3, XMLPARSE(DOCUMENT '[xString]' PRESERVE WHITESPACE));

SELECT id, XMLSERIALIZE(xcol AS VARCHAR(100))
    FROM x_table WHERE id = 3;</strong></pre>

<p>无法保证XMLSERIALIZE运算符的结果将与原始结果相同<samp class="codeph">[xString]</samp>表示。某些转换可以作为XMLSERIALIZE处理的一部分发生，并且这些转换在SQL / XML规范中定义。在某些情况下，XMLSERIALIZE的结果实际上可能与原始文本表示形式相同，但是不能保证。</p>
<p>当将XMLSERIALIZE运算符指定为查询的顶级结果集的一部分时，可以通过使用允许的JDBC <em>getXXX</em>方法从JDBC访问结果。 <var class="varname">stringDataType</var> XMLSERIALIZE语法中包含的参数。如果尝试在不使用XMLSERIALIZE运算符的情况下从顶级结果集中选择XML值的内容，则<span>Derby</span>会引发错误。<span>Derby</span>不会隐式序列化XML值。</p>
</div>

<p>有关更多信息，请参见《 <span><em>Derby开发人员指南</em></span> 》中的“ XML数据类型和运算符”。</p>

</div>

<div class="section"><h2 class="sectiontitle">句法</h2>
<pre><strong>XMLSERIALIZE ( <var class="varname">xmlValueExpression</var> AS <var class="varname">stringDataType</var> )</strong></pre>

<dl>
<dt class="dlterm"><var class="varname">xmlValueExpression</var></dt>

<dd>可以是任何<span>Derby</span> XML值，包括XMLQUERY运算符生成的XML结果序列。的<var class="varname">xmlValueExpression</var>参数不能是参数。<p></p>
</dd>


<dt class="dlterm"><var class="varname">stringDataType</var></dt>

<dd>必须为SQL字符串类型，例如CHAR，VARCHAR，LONG VARCHAR或CLOB。如果您指定的类型不是有效的字符串类型，则<span>Derby</span>会引发错误。</dd>

</dl>
</div>

<div class="section"><h2 class="sectiontitle">例子</h2><div class="p">在里面<samp class="codeph">x_table</samp>表，以显示内容<samp class="codeph">xcol</samp> XML列，使用此语句：<pre><strong>SELECT ID, 
    XMLSERIALIZE(xcol AS CLOB) 
FROM x_table</strong></pre>要从JDBC检索结果，可以使用JDBC的<em>getCharacterStream（）</em>或<em>getString（）</em>方法。</div>
<div class="p">要显示XMLQUERY操作的结果，请使用以下语句：<pre><strong>SELECT ID, 
    XMLSERIALIZE(
        XMLQUERY('//student[@age&gt;20]' 
           PASSING BY REF xcol EMPTY ON EMPTY)
    AS VARCHAR(50))
FROM x_table</strong></pre>
</div>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefsqlj29026.html" title="内置函数是一个表达式，其中SQL关键字或特殊运算符执行某些操作。">内置函数</a></div>
</div>
</div>



</body></html>