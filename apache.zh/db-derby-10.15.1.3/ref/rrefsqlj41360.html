<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="SELECT statement">
<meta name="abstract" content="The SELECT statement performs a query on one or more tables.">
<meta name="description" content="The SELECT statement performs a query on one or more tables.">
<meta name="DC.subject" content="SELECT statement, ORDER BY clause, needed to guarantee order of results">
<meta name="keywords" content="SELECT statement, ORDER BY clause, needed to guarantee order of results">
<meta name="DC.Relation" scheme="URI" content="crefsqlj39374.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefsqlj41360">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>SELECT陈述式</title>
</head>
<body id="rrefsqlj41360" ><a name="rrefsqlj41360"><!-- --></a>


<h1 class="topictitle1">SELECT陈述式</h1>



<div><p>SELECT语句对一个或多个表执行查询。</p>

<div class="section"><h2 class="sectiontitle">句法</h2> <pre><strong><em><a href="rrefsqlj21571.html#rrefsqlj21571">query</a></em>
[ <em><a href="rrefsqlj13658.html#rrefsqlj13658">ORDER BY clause</a></em> ]
[ <em><a href="rrefsqljoffsetfetch.html#rrefsqljoffsetfetch">result offset clause</a></em> ]
[ <em><a href="rrefsqljoffsetfetch.html#rrefsqljoffsetfetch">fetch first clause</a></em> ]
[ <em><a href="rrefsqlj31783.html#rrefsqlj31783">FOR UPDATE clause</a></em> ]
[ WITH { RR | RS | CS | UR } ]</strong></pre>
</div>

<div class="section"> <p>SELECT语句由带有可选<a href="rrefsqlj13658.html#rrefsqlj13658">ORDER BY子句</a> ，可选<a href="rrefsqljoffsetfetch.html#rrefsqljoffsetfetch">结果偏移量子句</a> ，可选<a href="rrefsqljoffsetfetch.html#rrefsqljoffsetfetch">fetch first子句</a> ，可选<a href="rrefsqlj31783.html#rrefsqlj31783">FOR UPDATE子句</a>和可选隔离级别的查询组成。之所以选择SELECT语句，是因为查询构造的典型第一个单词是SELECT。 （<em>查询</em>包括VALUES表达式以及UNION，INTERSECT和EXCEPT表达式以及SELECT表达式。</p>
 <p><a href="rrefsqlj13658.html#rrefsqlj13658">ORDER BY子句</a>保证<em>ResultSet</em>的顺序。<a href="rrefsqljoffsetfetch.html#rrefsqljoffsetfetch">结果offset子句</a>和<a href="rrefsqljoffsetfetch.html#rrefsqljoffsetfetch">fetch first子句</a>可仅用于获取否则选择的行的子集，可能会偏移结果集。<a href="rrefsqlj31783.html#rrefsqlj31783">FOR UPDATE子句</a>使结果集的游标可更新。SELECT语句支持FOR FETCH ONLY子句。FOR FETCH ONLY子句与FOR READ ONLY子句同义。</p>
 <p>您可以使用以下命令在SELECT语句中设置隔离级别： <samp class="codeph">WITH { RR | RS | CS | UR }</samp>句法。</p>

<p>对于未从SELECT语句涉及的表中选择特定列的查询（例如，使用<samp class="codeph">COUNT(*)</samp> ），用户必须至少具有一个列级SELECT特权或表级SELECT特权。有关更多信息，请参见<a href="rrefsqljgrant.html#rrefsqljgrant">GRANT语句</a> 。</p>
</div>


<div class="example"><h2 class="sectiontitle">例</h2> <pre><strong><span>-- lists the names of the expression 
-- SAL+BONUS+COMM as TOTAL_PAY and
-- orders by the new name TOTAL_PAY</span>
SELECT FIRSTNME, SALARY+BONUS+COMM AS TOTAL_PAY
     FROM EMPLOYEE
     ORDER BY TOTAL_PAY
<span>-- creating an updatable cursor with a FOR UPDATE clause 
-- to update the start date (PRSTDATE) and the end date (PRENDATE)
-- columns in the PROJECT table</span>
SELECT PROJNO, PRSTDATE, PRENDATE
      FROM PROJECT
      FOR UPDATE OF PRSTDATE, PRENDATE
<span>-- set the isolation level to RR for this statement only </span>
SELECT * 
FROM Flights 
WHERE flight_id BETWEEN 'AA1111' AND 'AA1112' 
WITH RR</strong></pre>
 <div class="p">SELECT语句返回<em>ResultSet</em> 。<em>游标</em>是指向<em>ResultSet中</em>特定行的指针。在Java应用程序中，所有<em>ResultSet</em>都具有基础的关联SQL游标，通常称为结果集的游标。游标可以是可更新的，也就是说，如果生成游标的SELECT语句及其基础查询满足游标可更新性要求，则可以在遍历<em>ResultSet</em>时更新或删除行，如下所述。FOR UPDATE子句可用于确保对SELECT语句满足可更新游标的要求进行编译检查，或用于限制可以更新的列。
<div class="note"><span class="notetitle">注意：</span> ORDER BY子句允许您对SELECT的结果进行排序。如果没有ORDER BY子句，结果将以随机顺序返回。</div>
</div>
 </div>

<div class="section" id="rrefsqlj41360__sqlj15384"><a name="rrefsqlj41360__sqlj15384"><!-- --></a><h2 class="sectiontitle">可更新游标和可更新结果集的要求</h2>
<div class="p">只有简单的单表SELECT游标才可以更新。可更新ResultSet的SELECT语句与可更新游标的SELECT语句具有相同的语法。生成可更新的游标：<ul>
<li>SELECT语句不得包含ORDER BY子句。</li>

<li>基础<em>查询</em>必须是<em><a href="rrefselectexpression.html#rrefselectexpression">selectExpression</a> 。</em></li>

<li>基础<em>查询中</em>的<em><a href="rrefselectexpression.html#rrefselectexpression">selectExpression</a></em>不得包含：<ul>
<li>不同</li>

<li>骨料</li>

<li>GROUP BY子句</li>

<li>HAVING子句</li>

<li>ORDER BY子句</li>

</ul>
</li>

<li>基础<em>查询中</em>的FROM子句不能具有：<ul>
<li>它的FROM子句中有多个表</li>

<li>除了一个表名</li>

<li><em><a href="rrefselectexpression.html#rrefselectexpression">selectExpression</a></em></li>

<li>子查询</li>

</ul>
</li>

<li>如果基础<em>查询</em>具有WHERE子句，则WHERE子句不能具有子查询。</li>

</ul>
</div>
 
<div class="note"><span class="notetitle">注意：</span>默认情况下，游标是只读的。若要满足以上列出的要求，还需要生成可更新的游标，则ResultSet的并发模式必须为<samp class="codeph">ResultSet.CONCUR_UPDATABLE</samp>或SELECT语句在FOR子句中必须具有FOR UPDATE（请参阅<a href="rrefsqlj31783.html#rrefsqlj31783">FOR UPDATE子句</a> ）。</div>

<p>没有SQL语言语句可为游标<em>分配</em>名称。相反，可以使用JDBC API为游标分配名称或检索系统生成的名称。有关更多信息，请参阅《 <cite><span><em>Derby开发人员指南</em></span></cite> 》中的“命名或访问游标名称<cite><span><em>”</em></span></cite> 。</p>

</div>

<div class="section"><h2 class="sectiontitle">语句依赖系统</h2> <p>SELECT依赖于查询中命名的所有表和视图以及为这些表上的访问路径选择的集团（存储单元，如堆和索引）。CREATE INDEX不会使准备好的SELECT语句无效。如果索引是语句中的访问路径，则DROP INDEX语句会使准备好的SELECT语句无效。如果SELECT包含视图，则它还取决于视图本身所依赖的字典对象（请参见<a href="rrefsqlj15446.html#rrefsqlj15446">CREATE VIEW语句</a> ）。</p>
 <p>针对SELECT游标的任何准备好的UPDATE WHERE CURRENT或DELETE WHERE CURRENT语句都取决于SELECT。通过<em>java.sql删除SELECT <em>。Statement.close</em>请求使UPDATE WHERE CURRENT或DELETE WHERE CURRENT无效。</em></p><em>
 <p>SELECT取决于查询中使用的所有别名。如果该语句使用别名，则删除别名会使准备好的SELECT语句无效。</p>
 </em></div><em>

</em></div><em>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="crefsqlj39374.html" title="">语句</a></div>
</div>
</div>



</em></body></html>