<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="CREATE INDEX statement">
<meta name="abstract" content="A CREATE INDEX statement creates an index on a table. Indexes can be on one or more columns in the table.">
<meta name="description" content="A CREATE INDEX statement creates an index on a table. Indexes can be on one or more columns in the table.">
<meta name="DC.subject" content="CREATE INDEX statement, Descending indexes, Indexes, created in descending order, Backing indexes, created automatically to enforce primary key, unique, and foreign key constraints, automatic creation of for primary key, unique, and foreign key constraints, specifying page size for">
<meta name="keywords" content="CREATE INDEX statement, Descending indexes, Indexes, created in descending order, Backing indexes, created automatically to enforce primary key, unique, and foreign key constraints, automatic creation of for primary key, unique, and foreign key constraints, specifying page size for">
<meta name="DC.Relation" scheme="URI" content="crefsqlj95081.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljcreateaggregate.html">
<meta name="DC.Relation" scheme="URI" content="rrefcreatefunctionstatement.html">
<meta name="DC.Relation" scheme="URI" content="rrefcreateprocedurestatement.html">
<meta name="DC.Relation" scheme="URI" content="rrefcreaterole.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj31580.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljcreatesequence.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljcreatesynonym.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj24513.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj43125.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqljcreatetype.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj15446.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefsqlj20937">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>CREATE INDEX语句</title>
</head>
<body id="rrefsqlj20937" ><a name="rrefsqlj20937"><!-- --></a>


<h1 class="topictitle1">CREATE INDEX语句</h1>



<div><p>CREATE INDEX语句在表上创建索引。索引可以在表中的一列或多列上。</p>

<div class="section"><h2 class="sectiontitle">句法</h2><pre><strong>CREATE [ UNIQUE ] INDEX <em><a href="rrefindexname.html#rrefindexname">indexName</a></em>
ON <em><a href="rreftablename.html#rreftablename">tableName</a></em> ( <em><a href="rrefsimplecolumnname.html#rrefsimplecolumnname">simpleColumnName</a></em> [ ASC | DESC ]
    [ , <em><a href="rrefsimplecolumnname.html#rrefsimplecolumnname">simpleColumnName</a></em> [ ASC | DESC ] ]* )</strong></pre>
<p><span>Derby中</span>索引键的最大列数为16。</p>
<p>索引名称不能超过128个字符。</p>
<p>在单个CREATE INDEX语句中，一个列的名称不得重复命名。但是，不同的索引可以命名同一列。</p>

<p><span>Derby</span>不支持对具有用户定义的数据类型或LONG VARCHAR，BLOB，CLOB或XML数据类型的列建立索引。</p>

<p><span>Derby</span>可以使用索引来提高数据操作语句的性能（请参阅<cite><span><em>调整Derby</em></span></cite> ）。另外，UNIQUE索引提供了一种数据完整性检查的形式。</p>
<p>索引名称在模式中是唯一的。（某些数据库系统允许单个模式中的不同表具有相同名称的索引，而<span>Derby</span>不允许。）如果为一个名称指定了架构名称，但未为另一名称指定架构名称，则假定索引和表都在同一架构中。如果为索引和表均指定了架构名称，那么如果架构名称不同，则将引发异常。如果未为表或索引指定任何架构名称，则使用当前架构。</p>
<p>默认情况下， <span>Derby</span>使用每列的升序创建索引。在列名称后指定ASC不会更改默认行为。列名称后的DESC关键字使<span>Derby</span>对列使用降序创建索引。对列使用降序可以帮助提高查询结果的性能，这些查询要求结果以混合排序或降序排列，对于选择索引列的最小值或最大值的查询也是如此。</p>

<p>字符数据的排序和排序受创建时为数据库指定的排序规则以及数据库的语言环境控制。有关详细信息，请参阅<a href="rrefattribcollation.html#rrefattribcollation"><em>整理=整理</em>属性</a>和<a href="rrefattrib56769.html#rrefattrib56769"><em>领土= ll_CC</em>属性</a> ，以及在各节的“创建具有基于地区的归类数据库”，“创建不区分大小写的数据库”，和“ <span>德比</span>基于字符的归类” <span><em>Derby开发人员指南</em></span> 。</p>

<p>如果指定了合格的索引名称，则架构名称不能以<samp class="codeph">SYS</samp> 。</p>
 </div>

<div class="section" id="rrefsqlj20937__sqlj27363"><a name="rrefsqlj20937__sqlj27363"><!-- --></a><h2 class="sectiontitle">索引和约束</h2><p>唯一，主键和外键约束生成强制或“约束”约束的<em>索引</em> （因此有时称为<em>后备索引</em> ）。如果一个列或一组列具有UNIQUE或PRIMARY KEY约束，则不能在这些列上创建索引。<span>Derby</span>已经使用系统生成的名称为您创建了它。如果您为约束命名，则可以通过查询系统表来轻松找到系统生成的用于备份约束的索引的名称。当同一列集合上存在现有UNIQUE索引时，添加PRIMARY KEY或UNIQUE约束将导致该表在同一列集合上具有两个物理索引。一个索引是原始UNIQUE索引，一个索引是新约束的支持索引。</p>
<p>要查找支持约束FLIGHTS_PK的索引的名称，请执行以下操作：</p>
<pre><strong>SELECT CONGLOMERATENAME FROM SYS.SYSCONGLOMERATES,
SYS.SYSCONSTRAINTS WHERE
SYS.SYSCONGLOMERATES.TABLEID = SYSCONSTRAINTS.TABLEID 
AND CONSTRAINTNAME = 'FLIGHTS_PK'</strong></pre>
 </div>

<div class="example"> <pre><strong>CREATE INDEX OrigIndex ON Flights(orig_airport);
<strong>-- money is usually ordered from greatest to least,
-- so create the index using the descending order</strong>
CREATE INDEX PAY_DESC ON SAMP.EMPLOYEE (SALARY);
<span>-- use a larger page size for the index</span>
call SYSCS_UTIL.SYSCS_SET_DATABASE_PROPERTY('derby.storage.pageSize','8192');
CREATE INDEX IXSALE ON SAMP.SALES (SALES);
call SYSCS_UTIL.SYSCS_SET_DATABASE_PROPERTY('derby.storage.pageSize',NULL);
</strong></pre>
 </div>

<div class="section"><h2 class="sectiontitle">页面大小和键大小</h2><div class="note"><span class="notetitle">注意：</span>索引中键列的大小必须等于或小于页面大小的一半。如果表中现有行中的键列的长度大于索引的页面大小的一半，则在该表的那些键列上创建索引将失败。仅当表中的现有行不符合条件时，才在创建索引时发生此错误。创建索引后，如果插入的关联键的大小超出条件，则插入可能会失败。</div>
 </div>

<div class="section"><h2 class="sectiontitle">语句依赖系统</h2><p>创建索引时，在CREATE INDEX语句引用的表上涉及SELECT，INSERT，UPDATE，UPDATE WHERE CURRENT，DELETE和DELETE WHERE CURRENT的预准备语句将无效。表格上的打开游标不受影响。</p>
 </div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="crefsqlj95081.html" title="">CREATE语句</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefsqljcreateaggregate.html" title="CREATE DERBY AGGREGATE语句创建用户定义的聚合（UDA）。UDA是自定义聚合运算符。">CREATE DERBY AGGREGATE语句</a></div>
<div><a href="rrefcreatefunctionstatement.html" title="CREATE FUNCTION语句创建一个Java函数，然后可以在表达式中使用它。">CREATE FUNCTION语句</a></div>
<div><a href="rrefcreateprocedurestatement.html" title="CREATE PROCEDURE语句创建一个Java存储过程，然后可以使用CALL PROCEDURE语句调用它。">CREATE PROCEDURE语句</a></div>
<div><a href="rrefcreaterole.html" title="CREATE ROLE语句创建一个SQL角色。当数据库有许多用户时，角色对于管理特权很有用。">CREATE ROLE语句</a></div>
<div><a href="rrefsqlj31580.html" title="CREATE SCHEMA语句创建一个模式，该模式是在单个集合中对对象进行逻辑分组并为对象提供唯一名称空间的一种方式。">CREATE SCHEMA语句</a></div>
<div><a href="rrefsqljcreatesequence.html" title="CREATE SEQUENCE语句创建一个序列生成器，该生成器是一种用于一次生成一个精确数值的机制。">CREATE SEQUENCE语句</a></div>
<div><a href="rrefsqljcreatesynonym.html" title="CREATE SYNONYM语句为同一模式或其他模式中存在的表或视图提供了备用名称。">创建SYNONYM语句</a></div>
<div><a href="rrefsqlj24513.html" title="CREATE TABLE语句创建一个表。表包含列和约束，以及数据必须遵循的规则。">CREATE TABLE语句</a></div>
<div><a href="rrefsqlj43125.html" title="CREATE TRIGGER语句创建一个触发器，该触发器定义了在指定表上发生数据库事件时执行的一组操作。">CREATE TRIGGER语句</a></div>
<div><a href="rrefsqljcreatetype.html" title="CREATE TYPE语句创建用户定义的类型（UDT）。UDT是可序列化的Java类，其实例存储在列中。">CREATE TYPE语句</a></div>
<div><a href="rrefsqlj15446.html" title="CREATE VIEW语句创建一个视图，该视图是由查询形成的虚拟表。">CREATE VIEW语句</a></div>
</div>
</div>



</body></html>