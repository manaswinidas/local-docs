<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us">
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;http://www.icra.org/ratingsv02.html&quot; l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) &quot;http://www.rsac.org/ratingsv01.html&quot; l gen true r (n 0 s 0 v 0 l 0) &quot;http://www.classify.org/safesurf/&quot; l gen true r (SS~~000 1))">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="XA transactions and deferred constraints">
<meta name="abstract" content="Derby defines how some XAResource methods behave in conjunction with deferred constraints.">
<meta name="description" content="Derby defines how some XAResource methods behave in conjunction with deferred constraints.">
<meta name="DC.Relation" scheme="URI" content="rrefjta51021.html">
<meta name="DC.Relation" scheme="URI" content="rrefjta1003415.html">
<meta name="DC.Relation" scheme="URI" content="rrefjta1003463.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefjtadefconstr">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>XA事务和延迟约束</title>
</head>
<body id="rrefjtadefconstr" ><a name="rrefjtadefconstr"><!-- --></a>


<h1 class="topictitle1">XA事务和延迟约束</h1>


<div><p><span>Derby</span>定义了一些<em>XAResource</em>方法与延迟约束一起如何工作。</p>

<div class="section">
<p>如果应用程序调用<em>XAResource.prepare（Xid）</em> ，则将检查约束模式为DEFERRED的所有约束。如果存在冲突，则<span>Derby</span>引发<em>XAException。XA_RBINTEGRITY</em> ，并且XA事务被回滚。</p>

<p>如果应用程序调用<em>XAResource.commit（Xid，true）</em> （其中<em>true</em>表示一个阶段提交），则将检查约束模式为DEFERRED的所有约束。如果存在冲突，则<span>Derby</span>引发<em>XAException。XA_RBINTEGRITY</em> ，并且XA事务被回滚。</p>

<p>有关可延期约束的更多信息，请参见<a href="rrefsqlj13590.html">CONSTRAINT子句</a>和<a href="rrefsqljsetconstr.html">SET CONSTRAINTS语句</a> 。</p>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefjta51021.html" title="JTA API由java.transaction.xa包中的两个接口和一个异常组成。Derby完全实现了此API。">JTA API</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefjta1003415.html" title="使用XAResource.prepare调用会使全局事务进入准备状态，从而使该事务保持持久状态。">恢复的全球交易</a></div>
<div><a href="rrefjta1003463.html" title="XAConnection对象创建的事务的行为根据创建XAConnection对象时是否指定用户名和密码而有所不同。">XA连接，用户名和密码</a></div>
</div>
</div>

</body>
</html>