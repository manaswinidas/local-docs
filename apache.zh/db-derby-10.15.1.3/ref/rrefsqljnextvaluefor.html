<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="NEXT VALUE FOR expression">
<meta name="abstract" content="The NEXT VALUE FOR expression retrieves the next value from a sequence generator.">
<meta name="description" content="The NEXT VALUE FOR expression retrieves the next value from a sequence generator.">
<meta name="DC.subject" content="NEXT VALUE FOR expression, expressions, NEXT VALUE FOR, sequence generators, obtaining next value">
<meta name="keywords" content="NEXT VALUE FOR expression, expressions, NEXT VALUE FOR, sequence generators, obtaining next value">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj19433.html">
<meta name="DC.Relation" scheme="URI" content="rrefselectexpression.html">
<meta name="DC.Relation" scheme="URI" content="rreftableexpression.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj11277.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj1080779.html">
<meta name="DC.Relation" scheme="URI" content="rrefsqlj23075.html">
<meta name="DC.Relation" scheme="URI" content="rrefcase.html">
<meta name="DC.Relation" scheme="URI" content="crefsqlj29911.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefsqljnextvaluefor">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>表达式的下一个值</title>
</head>
<body id="rrefsqljnextvaluefor" ><a name="rrefsqljnextvaluefor"><!-- --></a>


<h1 class="topictitle1">表达式的下一个值</h1>



<div><p>NEXT VALUE FOR表达式从序列生成器中检索下一个值。</p>

<div class="section"><p>使用<a href="rrefsqljcreatesequence.html#rrefsqljcreatesequence">CREATE SEQUENCE语句</a>创建序列生成器。</p>
</div>

<div class="section"><h2 class="sectiontitle">句法</h2>
<pre><strong>NEXT VALUE FOR <em><a href="rrefsequencename.html#rrefsequencenamerrefsequencename">sequenceName</a></em></strong></pre>

<p>如果这是序列生成器的首次使用，则生成器将返回其START值。否则，将INCREMENT值添加到序列生成器返回的先前值。该值的数据类型是为序列生成器指定的<em>dataType</em> 。</p>

<p>如果序列生成器回绕，则会发生以下情况之一：</p>

<ul>
<li>如果使用CYCLE关键字创建了序列生成器，则序列生成器将重置为其START值。</li>

<li>如果使用默认的NO CYCLE行为创建了序列生成器，则<span>Derby</span>引发异常。
</li>
</ul>

<p>为了检索序列生成器的下一个值，您或会话的当前角色必须对生成器具有USAGE特权。</p>

<p>NEXT VALUE FOR表达式可能出现在以下位置：</p>

<ul>
<li><a href="rrefsqlj41360.html#rrefsqlj41360">SELECT语句</a> ：作为在SELECT列表中定义返回列的表达式的一部分</li>

<li><a href="rrefsqlj11277.html#rrefsqlj11277">VALUES表达式</a> ：作为在行构造函数中定义列的表达式的一部分（VALUES表达式）</li>

<li><a href="rrefsqlj26498.html#rrefsqlj26498">UPDATE语句</a> ;作为表达式的一部分，定义要设置列的新值</li>

</ul>

<p>每个语句的每个序列仅允许一个NEXT VALUE FOR表达式。</p>

<p>任何具有DISTINCT或ORDER BY表达式的语句均不允许使用NEXT VALUE FOR表达式。</p>

<p>用户是否提交或回滚调用了序列生成器的事务，不会影响序列生成器的下一个值。</p>

<p></p>

<p>在以下任何一种情况下，NEXT VALUE表达式可能不会出现：</p>

<ul>
<li>案例表达</li>

<li>WHERE子句</li>

<li>ORDER BY子句</li>

<li>聚合表达</li>

<li>ROW_NUMBER个功能</li>

<li>DISTINCT选择列表</li>

</ul>

</div>

<div class="example"><h2 class="sectiontitle">例子</h2>
<pre><strong>VALUES (NEXT VALUE FOR order_id);</strong></pre>

<pre><strong>INSERT INTO re_order_table
  SELECT NEXT VALUE FOR order_id, order_date, quantity
  FROM orders
  WHERE back_order = 1;</strong></pre>

<pre><strong>UPDATE orders
  SET oid = NEXT VALUE FOR order_id
  WHERE expired = 1;</strong></pre>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rrefsqlj19433.html" title="许多语句和表达式的语法包括术语“表达式”或特定种类的表达式（如tableSubquery）的术语。在语句中这些指定的位置允许使用表达式。">SQL表达式</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="crefsqlj29911.html" title="您可以使用JDBC API中的PreparedStatement方法准备语句，以允许这些语句具有未指定值的参数。这些参数称为动态参数，并以问号（？）表示。">动态参数</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefselectexpression.html" title="selectExpression是基本的SELECT-FROM-WHERE构造，用于基于其他表的过滤和投影值来构建表值。">selectExpression</a></div>
<div><a href="rreftableexpression.html" title="tableExpression在FROM子句中指定表，视图或函数。">tableExpression</a></div>
<div><a href="rrefsqlj11277.html" title="VALUES表达式允许从其他值构造行或表。">VALUES表达</a></div>
<div><a href="rrefsqlj1080779.html" title="从最高到最低的操作顺序如下。">表达式优先</a></div>
<div><a href="rrefsqlj23075.html" title="布尔表达式是产生布尔值的表达式。">布尔表达式</a></div>
<div><a href="rrefcase.html" title="CASE表达式可用于Derby中的条件表达式。">案例表达</a></div>
</div>
</div>



</body></html>