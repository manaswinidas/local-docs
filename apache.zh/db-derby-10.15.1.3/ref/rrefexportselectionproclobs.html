<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE system procedure">
<meta name="abstract" content="Use the SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE system procedure to export the result of a SELECT statement to a main export file, and place the LOB data into a separate export file. A reference to the location of the LOB data is placed in the LOB column in the main export file.">
<meta name="description" content="Use the SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE system procedure to export the result of a SELECT statement to a main export file, and place the LOB data into a separate export file. A reference to the location of the LOB data is placed in the LOB column in the main export file.">
<meta name="DC.subject" content="system procedures, SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE, system procedures">
<meta name="keywords" content="system procedures, SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE, system procedures">
<meta name="DC.Relation" scheme="URI" content="rrefexportproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportproctablelobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportselectionproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportproctablelobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefexportselectionproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdataproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdatabulk.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdataproclobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefimporttablebulk.html">
<meta name="DC.Relation" scheme="URI" content="rrefimporttableproclobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdataproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdatabulk.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportdataproclobs.html">
<meta name="DC.Relation" scheme="URI" content="rrefimportproc.html">
<meta name="DC.Relation" scheme="URI" content="rrefimporttablebulk.html">
<meta name="DC.Relation" scheme="URI" content="rrefimporttableproclobs.html">
<meta name="DC.Relation" scheme="URI" content="crefsqlbuiltinsystemprocedures.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rrefexportselectionproclobs">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE系统过程</title>
</head>
<body id="rrefexportselectionproclobs" ><a name="rrefexportselectionproclobs"><!-- --></a>


<h1 class="topictitle1">SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE系统过程</h1>



<div><p>使用<samp class="codeph">SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE</samp>系统过程，将SELECT语句的结果导出到主导出文件，并将LOB数据放入单独的导出文件。对LOB数据位置的引用位于主导出文件的LOB列中。</p>

<div class="section"><p>出于安全考虑，并避免意外损坏文件，此EXPORT过程不会将数据导出到现有文件中。您必须在EXPORT过程中指定一个不存在的文件名。运行该过程时，将创建文件，并将数据导出到新文件中。</p>
<p>数据使用定界文件格式导出。</p>

<p>在每个导入和导出过程运行之后， <span>Derby</span>发出COMMIT或ROLLBACK语句（如果该过程成功完成，则为COMMIT；如果失败，则为ROLLBACK）。因此，在调用导入或导出过程之前，应发出COMMIT或ROLLBACK语句来完成所有事务并释放所有表级锁。</p>

<p>有关使用此过程的更多信息，请参阅《 <span><em>Derby服务器和管理指南</em></span> 》中的“导入和导出数据”部分。</p>

</div>

<div class="section"><h2 class="sectiontitle">句法</h2><pre>SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE (
    IN SELECTSTATEMENT VARCHAR(32672),
    IN FILENAME VARCHAR(32672), 
    IN COLUMNDELIMITER CHAR(1),
    IN CHARACTERDELIMITER CHAR(1), 
    IN CODESET VARCHAR(128)
    IN LOBSFILENAME VARCHAR(32672) 
    )</pre>
 <p>运行此过程时，列数据将以定界数据文件格式写入主导出文件。</p>
<dl>
<dt class="dlterm">选择声明</dt>

<dd>指定SELECT语句查询，该查询返回要导出的数据。指定NULL值将导致错误。<span class="parmname">SELECTSTATEMENT</span>参数采用的输入参数是VARCHAR（32672）数据类型。</dd>


<dt class="dlterm">文档名称</dt>

<dd>指定要将数据导出到的新文件的名称。如果省略路径，则使用当前工作目录。如果指定了已经存在的文件名，则导出过程将返回错误。如果您使用的是网络服务器，则文件的指定位置应引用服务器端位置。指定NULL值将导致错误。<span class="parmname">FILENAME</span>参数采用的输入参数是VARCHAR（32672）数据类型。</dd>


<dt class="dlterm">列分隔符</dt>

<dd>指定列定界符。使用指定的字符代替逗号来表示列的结尾。您可以指定NULL值以使用逗号的默认值。<span class="parmname">COLUMNDELIMITER</span>参数必须是CHAR（1）数据类型。</dd>


<dt class="dlterm">CHARACTERDELIMITER</dt>

<dd>指定字符定界符。使用指定的字符代替双引号将字符串引起来。您可以指定NULL值以使用双引号的默认值。<span class="parmname">CHARACTERDELIMITER</span>参数采用的输入参数为CHAR（1）数据类型。</dd>


<dt class="dlterm">密码集</dt>

<dd>指定导出文件中数据的代码集。代码集名称应为Java支持的字符编码集之一。在写入文件之前，数据已从数据库代码页转换为指定的代码页。您可以指定NULL值，以将数据写入与要在其中执行JVM的代码页中。<span class="parmname">CODESET</span>参数采用的输入参数是VARCHAR（128）数据类型。</dd>


<dt class="dlterm">LOBSFILENAME</dt>

<dd>指定将大对象数据导出到的文件。如果省略路径，则会在与主导出文件相同的目录中创建lob文件。如果指定现有文件的名称，则导出实用程序将覆盖文件的内容。数据未附加到文件中。如果使用的是网络服务器，则该文件应位于服务器端位置。指定NULL值将导致错误。<span class="parmname">LOBSFILENAME</span>参数采用的输入参数是VARCHAR（32672）数据类型。</dd>

</dl>
</div>

<div class="section"><h2 class="sectiontitle">执行权限</h2>
<p>如果同时启用了身份验证和SQL授权，则默认情况下，只有<a href="rrefattrib26867.html#rrefattrib26867">数据库所有者</a>对此过程具有执行特权。有关更多信息，请参见《 <span><em>Derby安全指南</em></span> 》中的“配置用户身份验证”和“配置用户授权”。数据库所有者可以将访问权限授予其他用户。用户还必须在表上具有SELECT特权。</p>

</div>

<div class="section"><h2 class="sectiontitle">使用单独的LOB数据导出文件从查询中导出数据的示例</h2>以下示例显示如何将部门20中的员工数据从示例数据库中的STAFF表导出到主文件<samp class="codeph">staff.del</samp>和lob数据到文件<samp class="codeph">pictures.dat</samp> 。<pre>CALL SYSCS_UTIL.SYSCS_EXPORT_QUERY_LOBS_TO_EXTFILE(
    'SELECT * FROM STAFF WHERE dept=20',
    'c:\data\staff.del', ',' ,'"',
    'UTF-8','c:\data\pictures.dat');  </pre>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="crefsqlbuiltinsystemprocedures.html" title="">内置系统过程</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rrefexportproc.html" title="SYSCS_UTIL.SYSCS_EXPORT_TABLE系统过程将所有数据从表导出到操作系统文件。">SYSCS_UTIL.SYSCS_EXPORT_TABLE系统过程</a></div>
<div><a href="rrefexportproctablelobs.html" title="使用SYSCS_UTIL.SYSCS_EXPORT_TABLE_LOBS_TO_EXTFILE系统过程从表中导出所有数据，并将LOB数据放入单独的导出文件中。对LOB数据位置的引用位于主导出文件的LOB列中。">SYSCS_UTIL.SYSCS_EXPORT_TABLE_LOBS_TO_EXTFILE系统过程</a></div>
<div><a href="rrefexportselectionproc.html" title="SYSCS_UTIL.SYSCS_EXPORT_QUERY系统过程将SELECT语句的结果导出到操作系统文件。">SYSCS_UTIL.SYSCS_EXPORT_QUERY系统过程</a></div>
<div><a href="rrefimportdataproc.html" title="SYSCS_UTIL.SYSCS_IMPORT_DATA系统过程将数据导入表中列的子集。您可以通过指定插入列来选择列的子集。此过程还用于通过指定列索引从文件导入列数据的子集。">SYSCS_UTIL.SYSCS_IMPORT_DATA系统过程</a></div>
<div><a href="rrefimportdatabulk.html" title="SYSCS_UTIL.SYSCS_IMPORT_DATA_BULK系统过程支持SYSCS_UTIL.SYSCS_IMPORT_DATA的所有功能，并具有附加功能，可跳过输入文件中的列标题并按名称识别输入文件中的列，这些名称已解析为COLUMNINDEXES参数。">SYSCS_UTIL.SYSCS_IMPORT_DATA_BULK系统过程</a></div>
<div><a href="rrefimportdataproclobs.html" title="使用SYSCS_UTIL.SYSCS_IMPORT_DATA_LOBS_FROM_EXTFILE系统过程将数据导入表中的列子集，其中LOB数据存储在单独的文件中。主导入文件包含所有其他数据以及对LOB数据位置的引用。">SYSCS_UTIL.SYSCS_IMPORT_DATA_LOBS_FROM_EXTFILE系统过程</a></div>
<div><a href="rrefimportproc.html" title="SYSCS_UTIL.SYSCS_IMPORT_TABLE系统过程将数据从输入文件导入表的所有列。如果接收到导入数据的表已经包含数据，则可以替换或附加到现有数据。">SYSCS_UTIL.SYSCS_IMPORT_TABLE系统过程</a></div>
<div><a href="rrefimporttablebulk.html" title="SYSCS_UTIL.SYSCS_IMPORT_TABLE_BULK系统过程支持SYSCS_UTIL.SYSCS_IMPORT_TABLE的所有功能，并具有跳过输入文件中列标题的附加功能。">SYSCS_UTIL.SYSCS_IMPORT_TABLE_BULK系统过程</a></div>
<div><a href="rrefimporttableproclobs.html" title="使用SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE系统过程将数据导入表，其中LOB数据存储在单独的文件中。主导入文件包含所有其他数据以及对LOB数据位置的引用。">SYSCS_UTIL.SYSCS_IMPORT_TABLE_LOBS_FROM_EXTFILE系统过程</a></div>
</div>
</div>



</body></html>