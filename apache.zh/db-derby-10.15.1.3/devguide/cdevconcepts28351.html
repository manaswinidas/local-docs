<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Updatable result sets">
<meta name="abstract" content="Updatable result sets in Derby can be updated by using result set update methods (updateRow(), deleteRow(), and insertRow()), or by using positioned update or delete queries.">
<meta name="description" content="Updatable result sets in Derby can be updated by using result set update methods (updateRow(), deleteRow(), and insertRow()), or by using positioned update or delete queries.">
<meta name="DC.Relation" scheme="URI" content="rdevconcepts88082.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts23987.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts22641.html">
<meta name="DC.Relation" scheme="URI" content="rdevconceptsholdablecursors.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts41275.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts30811.html">
<meta name="DC.Relation" scheme="URI" content="rdevconceptsfor.html">
<meta name="DC.Relation" scheme="URI" content="rdevconceptssur.html">
<meta name="DC.Relation" scheme="URI" content="rdevconceptsinsertrow.html">
<meta name="DC.Relation" scheme="URI" content="tdevconcepts41704.html">
<meta name="DC.Relation" scheme="URI" content="rdevconcepts38274.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cdevconcepts28351">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>可更新的结果集</title>
</head>
<body id="cdevconcepts28351" ><a name="cdevconcepts28351"><!-- --></a>


<h1 class="topictitle1">可更新的结果集</h1>



<div><p>可以使用结果集更新方法来更新<span>Derby</span>中的可更新结果集（ <samp class="codeph">updateRow()</samp> ， <samp class="codeph">deleteRow()</samp>和<samp class="codeph">insertRow()</samp> ），或使用定位的更新或删除查询。</p>

<div class="section">
<p>可滚动和不可滚动结果集都可以在<span>Derby中</span>更新。</p>

<p>如果执行的用于创建结果集的查询不可更新，则<span>Derby</span>会将并发模式降级为<samp class="codeph">ResultSet.CONCUR_READ_ONLY</samp> ，并在此添加警告<samp class="codeph">ResultSet</samp> 。如果结果集不可更新，则查询的编译将失败，并且包含一个<samp class="codeph">FOR UPDATE</samp>条款。</p>

<p>如果查询包含以下内容，则可以执行定位的更新和删除<samp class="codeph">FOR UPDATE</samp>或者结果集的并发模式是<samp class="codeph">ResultSet.CONCUR_UPDATABLE</samp> 。</p>

<p>要使用结果集更新方法，结果集的并发模式必须为<samp class="codeph">ResultSet.CONCUR_UPDATABLE</samp> 。查询不需要包含<samp class="codeph">FOR UPDATE</samp>使用这些方法。</p>

<p>不论隔离级别如何，可更新的游标在定位到当前行时都将使用更新锁来锁定该行。因此，为避免过度锁定行，请仅使用并发模式<samp class="codeph">ResultSet.CONCUR_UPDATABLE</samp>或者<samp class="codeph">FOR UPDATE</samp>实际需要更新行时的子句。有关锁定的更多信息，请参阅<a href="cdevconcepts36402.html">Derby系统中的锁定类型和范围。</a></p>

</div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="cdevconcepts30811.html">可更新结果集的要求</a></strong><br>仅特定的SELECT语句-对单个表的简单访问-允许您在逐步浏览行时更新或删除行。</li>
<li class="ulchildlink"><strong><a href="rdevconceptsfor.html">仅转发可更新的结果集</a></strong><br>仅向前可更新的结果集维护着一个游标，该游标只能沿一个方向（向前）移动，并且还可以更新行。</li>
<li class="ulchildlink"><strong><a href="rdevconceptssur.html">可滚动更新的结果集</a></strong><br>可滚动的可更新结果集维护着一个可以滚动和更新行的游标。</li>
<li class="ulchildlink"><strong><a href="rdevconceptsinsertrow.html">插入具有可更新结果集的行</a></strong><br>通过使用ResultSet.insertRow（），可更新的结果集可用于向表中插入行。</li>
<li class="ulchildlink"><strong><a href="tdevconcepts41704.html">命名或访问游标的名称</a></strong><br>没有SQL语言命令可为游标分配名称。您可以使用JDBC setCursorName方法将名称分配给允许定位更新和删除的ResultSet。</li>
<li class="ulchildlink"><strong><a href="rdevconcepts38274.html">扩展的可更新结果集示例</a></strong><br>下面的代码示例演示如何编写可更新的结果集。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevconcepts41275.html" title="结果集维护一个游标，该游标指向其当前数据行。它可以用来一步一步地处理行。">结果集和游标机制</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevconcepts23987.html" title="除了与可保留游标相关联的结果集之外，发出提交将导致连接上的所有结果集都被关闭。">结果集和自动提交</a></div>
<div><a href="cdevconcepts22641.html" title="JDBC提供了两种类型的结果集，它们允许您在任一方向上滚动或将光标移动到特定行。Derby支持以下类型之一：可滚动的不敏感结果集（ResultSet。TYPE_SCROLL_INSENSITIVE）。">可滚动的结果集</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rdevconcepts88082.html" title="此示例摘自一个示例JDBC应用程序，该应用程序使用简单的SELECT语句生成结果集，然后处理行。">简单的不可更新结果集</a></div>
<div><a href="rdevconceptsholdablecursors.html" title="可保留的结果集功能允许应用程序在隐式或显式提交后使结果集保持打开状态。默认情况下，由结果集控制的游标在提交后保持打开状态。">可保存的结果集</a></div>
</div>
</div>



</body></html>