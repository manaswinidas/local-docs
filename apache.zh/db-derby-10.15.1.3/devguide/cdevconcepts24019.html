<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Multiple connections from a single application">
<meta name="abstract" content="A single application can work with multiple Connections to the same database and assign them to different threads.">
<meta name="description" content="A single application can work with multiple Connections to the same database and assign them to different threads.">
<meta name="DC.Relation" scheme="URI" content="rdevconcepts713.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts10914.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts34828.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cdevconcepts24019">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>单个应用程序中的多个连接</title>
</head>
<body id="cdevconcepts24019" ><a name="cdevconcepts24019"><!-- --></a>


<h1 class="topictitle1">单个应用程序中的多个连接</h1>



<div><p>单个应用程序可以与同一数据库使用多个<em>连接</em> ，并将它们分配给不同的线程。</p>

<p>您可以通过几种方式避免应用程序中的并发和死锁问题：</p>

<ul>
<li>使用<em>TRANSACTION_READ_COMMITTED</em>隔离级别并打开行级别锁定（默认设置）。</li>

<li>注意在单个线程中使用多个<em>Connection</em>导致的死锁（最明显的情况）。例如，如果线程尝试从两个不同的表更新同一张表<samp class="codeph"><em>Connections</em></samp> ，可能会发生死锁。</li>

<li>将<em>连接</em>分配给处理离散任务的线程。例如，没有两个线程更新<em>Hotels</em>表。有一个线程更新<em>Hotels</em>表，而另一个则更新<em>Groups</em>表。</li>

<li>如果线程访问相同的表，则经常提交事务。</li>

<li>多线程Java应用程序具有甚至可以在不访问数据库的情况下进行自锁的能力，因此也请注意这一点。</li>

<li>使用嵌套连接共享相同的锁定空间。</li>

</ul>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevconcepts34828.html" title="本节讨论如何部署Derby，以便可以在一个数据库中存在许多连接。">使用多个连接到单个数据库</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevconcepts10914.html" title="如果Derby在服务器框架内运行，则可以进行多用户数据库访问。">多用户数据库访问</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rdevconcepts713.html" title="在多种情况下，数据库可用于多个连接。">部署选项以及线程和连接模式</a></div>
</div>
</div>



</body></html>