<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Transferring read-only databases to archive (jar or zip) files">
<meta name="abstract" content="Once a database has been created in Derby, it can be stored in a jar or zip file and continue to be accessed by Derby in read-only mode.">
<meta name="description" content="Once a database has been created in Derby, it can be stored in a jar or zip file and continue to be accessed by Derby in read-only mode.">
<meta name="DC.subject" content="Zip files, databases in, Archiving read-only databases, Read-only databases, archiving to jar or zip files, Jar files, databases in">
<meta name="keywords" content="Zip files, databases in, Archiving read-only databases, Read-only databases, archiving to jar or zip files, Jar files, databases in">
<meta name="DC.Relation" scheme="URI" content="tdevdeploy26887.html">
<meta name="DC.Relation" scheme="URI" content="tdevdeploy19136.html">
<meta name="DC.Relation" scheme="URI" content="cdevdeploy11201.html">
<meta name="DC.Relation" scheme="URI" content="cdevdeploy82529.html">
<meta name="DC.Relation" scheme="URI" content="cdevdeploy15325.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tdevdeploy33704">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>将只读数据库传输到存档（jar或zip）文件</title>
</head>
<body id="tdevdeploy33704" ><a name="tdevdeploy33704"><!-- --></a>


<h1 class="topictitle1">将只读数据库传输到存档（jar或zip）文件</h1>



<div><p>一旦在<span>Derby中</span>创建了数据库，就可以将其存储在jar或zip文件中，并且<span>Derby</span>可以继续以只读模式对其进行访问。</p>

<div class="section"> <p>这允许将只读数据库作为单个文件而不是目录中的多个文件进行分发并进行压缩。实际上，一个jar或zip文件可以包含任意数量的<span>Derby</span>数据库，还可以包含与<span>Derby</span>不相关的其他信息，例如应用程序数据或代码。</p>
<p>您不能将<em>derby.properties</em>文件存储在jar或zip文件中。</p>
<div class="p">要创建包含一个或多个<span>Derby</span>数据库的jar或zip文件，请执行以下操作：<ol>
<li>创建一个在只读介质上使用的数据库。</li>

<li>从包含数据库文件夹的目录中，归档数据库目录及其内容。例如，对于位于系统目录<em>C：\ london中</em>的数据库<em>销售</em> ，请从<em>london</em>发出命令。不要从数据库目录本身内部发出命令。</li>

</ol>
</div>
<p>例如，使用来自JDK的JAR程序归档数据库文件夹及其内容。您可以使用任何zip或jar工具生成存档。</p>
<div class="p">此命令将数据库目录<em>销售</em>及其内容归档到名为<em>dbs.jar</em>的压缩jar文件中。<pre>cd C:\london
jar cMf C:\dbs.jar sales</pre>
</div>
<div class="p">您可以使用jar添加多个数据库。例如，此命令将<em>销售</em>数据库和<em>boiledfood</em>数据库（在子目录product中）放入存档。<pre>cd C:\london
jar cMf C:\dbs.jar sales products\boiledfood</pre>
</div>
<p>jar中数据库的相对路径不必匹配其原始相对路径。您可以通过允许存档工具更改路径，或在存档之前移动原始数据库来执行此操作。</p>
<p>如果存档工具允许，则可以压缩或解压缩存档，也可以解压缩或压缩单个数据库。压缩的数据库在磁盘上占用的空间较少，具体取决于加载的数据，但访问速度较慢。</p>
<p>一旦数据库被存档到jar或zip文件中，它就与原始数据库没有关系。如果需要，可以继续修改原始数据库。</p>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevdeploy15325.html" title="您可以创建Derby数据库以在只读介质（例如，拇指驱动器）上使用。">创建Derby数据库以供只读使用</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevdeploy11201.html" title="要访问zip / jar中的数据库，请在子子协议中指定jar。">访问zip / jar文件中的只读数据库</a></div>
<div><a href="cdevdeploy82529.html" title="只读介质上的数据库对java.sql返回true。DatabaseMetaData.isReadOnly。">只读媒体上的数据库和DatabaseMetaData</a></div>
</div>
<div class="reltasks"><strong>相关任务</strong><br>
<div><a href="tdevdeploy26887.html" title="要创建在只读介质上使用的数据库，请执行以下步骤。">创建和准备数据库以供只读使用</a></div>
<div><a href="tdevdeploy19136.html" title="要将数据库部署在只读介质上，请执行以下步骤。">在只读媒体上部署数据库</a></div>
</div>
</div>



</body></html>