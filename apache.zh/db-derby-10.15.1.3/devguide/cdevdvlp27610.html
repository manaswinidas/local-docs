<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us">
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;http://www.icra.org/ratingsv02.html&quot; l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) &quot;http://www.rsac.org/ratingsv01.html&quot; l gen true r (n 0 s 0 v 0 l 0) &quot;http://www.classify.org/safesurf/&quot; l gen true r (SS~~000 1))">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Derby system">
<meta name="abstract" content="A Derby database exists within a system.">
<meta name="description" content="A Derby database exists within a system.">
<meta name="DC.subject" content="Derby system, System directory, System, description, derby.properties file, Properties, defined for system in derby.properties, Error log, derby.log">
<meta name="keywords" content="Derby system, System directory, System, description, derby.properties file, Properties, defined for system in derby.properties, Error log, derby.log">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp40653.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp17453.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp21955.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp34964.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp51654.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts36881.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp39409.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp96597.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp27715.html">
<meta name="DC.Relation" scheme="URI" content="tdevdvlp20349.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp13018.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp25889.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp39943.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp20458.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp19297.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cdevdvlp27610">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>德比系统</title>
</head>
<body id="cdevdvlp27610" ><a name="cdevdvlp27610"><!-- --></a>


<h1 class="topictitle1">德比系统</h1>



<div><p><em>系统中</em>存在一个<span>Derby</span>数据库。</p>

<p><span>Derby</span>系统是<span>Derby</span>数据库引擎及其运行环境的单个实例。它由一个系统目录，零个或多个数据库以及一个系统范围的配置组成。系统目录在名为<a href="cdevdvlp39943.html#cdevdvlp39943">derby.properties</a>的属性文件中包含特定于该系统的任何持久性系统范围的配置参数或属性。该文件不会自动创建。您必须自己创建它。</p>

<p><span>Derby</span>系统不是持久性的。您必须在每次启动时指定系统目录的位置。</p>

<p>但是， <span>Derby</span>系统和系统目录是正在运行的数据库中必不可少的部分。了解<span>Derby</span>系统对于成功开发和部署<span>Derby</span>应用程序至关重要。如下图所示， <span>Derby</span>数据库位于一个系统中，该系统包括系统范围的属性，错误日志和一个或多个数据库。</p>

<div class="fignone" id="cdevdvlp27610__rdevdvlp17155"><a name="cdevdvlp27610__rdevdvlp17155"><!-- --></a> <span class="figcap">图1。德比系统</span>
<br><img src="system_os.gif" alt="该图显示了一个Derby系统，该系统包括一个名为Accounting的数据库和一个名为Sales的数据库。该图显示了指向数据库的derby.system.home系统变量，并说明了该系统变量告诉Derby系统目录的名称。此外，该图还显示derby.properties文件和derby.log文件是Derby系统的一部分。"><br>
</div>

<p>系统目录还可以包含一个名为<em>derby.log</em>的错误日志文件（请参阅<a href="cdevdvlp25889.html#cdevdvlp25889">错误日志</a> ）。</p>

<p>该系统中的每个数据库都包含在一个子目录中，该子目录与该数据库具有相同的名称（请参阅<a href="cdevdvlp21955.html#cdevdvlp21955">A Derby数据库</a> ）。</p>

<p>另外，如果您连接到当前系统之外的数据库，该数据库将自动成为当前系统的一部分。</p>

<p>使用嵌入式驱动程序时， <span>Derby</span>数据库文件和日志文件通常具有为文件系统指定的任何默认权限。但是，可以通过将文件访问限制为创建数据库的用户来增强安全性。为此，请将系统属性<em>derby.storage.useDefaultFilePermissions</em>设置为false。有关详细信息，请参见《 <span><em>Derby参考手册</em></span> 》。</p>

<div class="p"><div class="note"><span class="notetitle">注意：</span>内存数据库不会出现在系统目录中。</div>
</div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="cdevdvlp96597.html">每个Java虚拟机（JVM）都有一个Derby实例</a></strong><br>您可能有两个Derby系统实例同时在同一台计算机上运行。每个实例必须在不同的Java虚拟机（JVM）中运行。</li>
<li class="ulchildlink"><strong><a href="cdevdvlp27715.html">引导数据库</a></strong><br>Derby的默认配置是在应用程序首次建立连接时启动（或启动）数据库。Derby引导数据库时，它会检查是否需要在数据库上运行恢复，因此在某些不常见的情况下，引导可能会花费一些时间。</li>
<li class="ulchildlink"><strong><a href="tdevdvlp20349.html">关闭系统</a></strong><br>在嵌入式环境中，当应用程序关闭时，应首先关闭Derby。</li>
<li class="ulchildlink"><strong><a href="cdevdvlp13018.html">定义系统目录</a></strong><br>在Derby启动时，您可以通过指定Java系统属性derby.system.home来定义系统目录。</li>
<li class="ulchildlink"><strong><a href="cdevdvlp25889.html">错误日志</a></strong><br>一旦创建或连接到系统内的数据库，Derby便开始将信息和错误消息输出到错误日志。通常，Derby将此信息写入系统目录中名为derby.log的文件中。</li>
<li class="ulchildlink"><strong><a href="cdevdvlp39943.html">derby.properties</a></strong><br>文本文件derby.properties包含对整个系统有效的属性定义或配置参数。</li>
<li class="ulchildlink"><strong><a href="cdevdvlp20458.html">双重引导系统行为</a></strong><br>Derby通过使用数据库目录中的一个名为db.lck的文件来防止其自身的两个实例引导同一数据库。</li>
<li class="ulchildlink"><strong><a href="cdevdvlp19297.html">推荐做法</a></strong><br>在开发Derby应用程序时，创建一个目录来保存您的一个或多个数据库，最好在文件系统的安全分支中，例如由引导JVM的帐户拥有的分支中。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevdvlp39409.html" title="本节说明如何在嵌入式环境中使用和配置Derby。">Derby嵌入式基础知识</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevdvlp40653.html" title="Derby由数据库引擎和嵌入式JDBC驱动程序组成。应用程序使用JDBC与数据库进行交互。">Derby JDBC驱动程序</a></div>
<div><a href="cdevdvlp17453.html" title="使用JDBC API的Java应用程序通过获取Connection对象来建立与数据库的连接。">Derby JDBC数据库连接URL</a></div>
<div><a href="cdevdvlp21955.html" title="Derby数据库包含字典对象，例如表，列，索引和jar文件。Derby数据库还可以存储自己的配置信息。">Derby数据库</a></div>
<div><a href="cdevdvlp34964.html" title="您使用Derby连接URL的形式作为DriverManager.getConnection调用的参数连接到数据库。">连接数据库</a></div>
<div><a href="cdevdvlp51654.html" title="您可以在Derby连接URL上指定属性。">使用数据库连接URL属性</a></div>
<div><a href="cdevconcepts36881.html" title="Connection对象代表与数据库的连接。">连接数</a></div>
</div>
</div>

</body>
</html>