<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Upgrading a database">
<meta name="abstract" content="To upgrade a database, you must explicitly request an upgrade the first time you connect to the database with the new version of Derby.">
<meta name="description" content="To upgrade a database, you must explicitly request an upgrade the first time you connect to the database with the new version of Derby.">
<meta name="DC.subject" content="upgrading Derby, full upgrade, soft upgrade, types of upgrades">
<meta name="keywords" content="upgrading Derby, full upgrade, soft upgrade, types of upgrades">
<meta name="DC.Relation" scheme="URI" content="tdevpreupgrade.html">
<meta name="DC.Relation" scheme="URI" content="cdevupgrades.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tdevupgradedb">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>升级数据库</title>
</head>
<body id="tdevupgradedb" ><a name="tdevupgradedb"><!-- --></a>


<h1 class="topictitle1">升级数据库</h1>



<div><p>要升级数据库，您必须在第一次使用新版本的<span>Derby</span>连接到数据库时明确请求升级。</p>

<div class="p">在升级之前，请确保<a href="tdevpreupgrade.html">完成先决条件步骤</a> ：<ul>
<li>升级之前，请备份数据库。</li>

<li>确保只有新的<span>Derby</span> jar文件位于CLASSPATH或modulepath中。</li>

</ul>
</div>

<div class="section"> <div class="p">升级数据库时，可以执行完全升级或软升级：<ul>
<li>完整升级是<span>Derby</span>数据库的完整升级。执行完全升级时，无法使用较旧版本的<span>Derby</span>连接到数据库，也无法还原到以前的版本。在文档的其他地方，如果不加任何限定地使用术语“升级”，则表示完全升级。</li>

<li>通过软升级，您可以对现有数据库运行较新版本的<span>Derby</span> ，而无需完全升级数据库。这意味着您可以继续对数据库运行旧版本的<span>Derby</span> 。但是，如果执行软升级，则在执行完整升级之前，某些功能将不可用。具体来说，软升级无法使用影响数据库结构的新功能。有关发行版中新功能的列表，请参阅该发行版的发行说明。</li>

</ul>
</div>
</div>


<div class="p"><span>要升级数据库，请选择要执行的升级类型。下表显示了升级类型。在两个示例中， <samp class="codeph">sample</samp>是<span>Derby</span>早期版本的数据库。</span>
 

<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the types of upgrade and describes how to perform them." frame="border" rules="all"><caption>表格1。升级类型</caption>


<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="25%" id="N1010A">升级类型</th>

<th valign="bottom" width="75%" id="N10111">行动</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="25%" headers="N1010A">全面升级</td>

<td valign="top" width="75%" headers="N10111">使用连接到数据库<samp class="codeph">upgrade=true</samp>数据库连接URL属性。例如：<pre>jdbc:derby:sample;upgrade=true</pre>

<p>有关此属性的更多信息，请参见《 <span><em>Derby参考手册</em></span> 》中的“ upgrade = true属性”。</p>
</td>

</tr>

<tr>
<td valign="top" width="25%" headers="N1010A">软升级</td>

<td valign="top" width="75%" headers="N10111">连接到数据库。例如：<pre>connect 'jdbc:derby:sample'</pre>

</td>

</tr>

</tbody>

</table>
</div>


</div>


</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevupgrades.html" title="要连接到使用早期版本的Derby创建的数据库，必须首先升级该数据库。">升级</a></div>
</div>
<div class="reltasks"><strong>相关任务</strong><br>
<div><a href="tdevpreupgrade.html" title="新的Derby软件第一次连接到旧数据库时，将升级数据库。">准备升级</a></div>
</div>
</div>



</body></html>