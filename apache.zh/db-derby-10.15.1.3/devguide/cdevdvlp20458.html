<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Double-booting system behavior">
<meta name="abstract" content="Derby prevents two instances of itself from booting the same database by using a file called db.lck inside the database directory.">
<meta name="description" content="Derby prevents two instances of itself from booting the same database by using a file called db.lck inside the database directory.">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp27715.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp39943.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp19297.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp40724.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp27610.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cdevdvlp20458">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>双重引导系统行为</title>
</head>
<body id="cdevdvlp20458" ><a name="cdevdvlp20458"><!-- --></a>


<h1 class="topictitle1">双重引导系统行为</h1>



<div><p><span>Derby</span>通过使用数据库目录中的一个名为<em>db.lck</em>的文件来防止其自身的两个实例引导同一数据库。</p>

<p>如果<span>Derby</span>的另一个实例尝试引导已经运行的数据库，则会出现以下错误消息：</p>

<pre>
ERROR XJ040: Failed to start database 'firstdb', see the next exception
for details.
ERROR XSDB6: Another instance of Derby may have already booted the
database /home/myself/DERBYTUTOR/firstdb.
</pre>

<p>此外，堆栈跟踪将出现在<em>derby.log</em>文件中。为了帮助诊断双重引导问题，请使用<em>derby.stream.error.logBootTrace</em>属性获取有关成功引导尝试和不成功引导的信息。该属性在《 <span><em>Derby参考手册》</em></span>中进行了描述。</p>

<p>如果在引导数据库时Derby无法创建<em>db.lck</em>文件，则数据库将以只读模式引导。这可能是由于缺少磁盘空间或数据库目录的访问权限而发生的。<em>derby.log中</em>的启动消息将指出数据库已以只读模式启动。另请参见<a href="cdevdeploy15325.html#cdevdeploy15325">创建Derby数据库以供只读使用</a> 。</p>

<p>如果需要从多个Java虚拟机（JVM）访问单个数据库，则需要部署服务器解决方案。您可以允许来自需要访问该数据库的多个JVM的应用程序连接到服务器。<span>Derby</span> Network Server作为服务器解决方案提供。有关启动和使用网络服务器的基本信息，请参阅《 <span><em>Derby入门》</em></span> 。有关网络服务器的更多信息，请参见《 <span><em>Derby服务器和管理指南》</em></span> 。</p>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevdvlp27610.html" title="系统中存在一个Derby数据库。">Derby系统</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevdvlp27715.html" title="Derby的默认配置是在应用程序首次建立连接时启动（或启动）数据库。Derby引导数据库时，它会检查是否需要在数据库上运行恢复，因此在某些不常见的情况下，引导可能会花费一些时间。">引导数据库</a></div>
<div><a href="cdevdvlp39943.html" title="文本文件derby.properties包含对整个系统有效的属性定义或配置参数。">derby.properties</a></div>
<div><a href="cdevdvlp19297.html" title="在开发Derby应用程序时，创建一个目录来保存您的一个或多个数据库，最好在文件系统的安全分支中，例如由引导JVM的帐户拥有的分支中。">推荐做法</a></div>
<div><a href="cdevdvlp40724.html" title="Derby数据库存储在与该数据库同名的目录中的文件中。数据库目录通常位于系统目录中。">数据库目录</a></div>
</div>
</div>



</body></html>