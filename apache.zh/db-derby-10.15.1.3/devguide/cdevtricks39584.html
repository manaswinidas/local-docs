<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Supplying a parameter only once">
<meta name="abstract" content="If you want to supply a parameter value once and use it multiple times within a query, put it in the FROM clause with an appropriate CAST.">
<meta name="description" content="If you want to supply a parameter value once and use it multiple times within a query, put it in the FROM clause with an appropriate CAST.">
<meta name="DC.subject" content="VALUES clause, power of, Using a supplied parameter multiple times in a query">
<meta name="keywords" content="VALUES clause, power of, Using a supplied parameter multiple times in a query">
<meta name="DC.Relation" scheme="URI" content="cdevtricks19707.html">
<meta name="DC.Relation" scheme="URI" content="cdevtricks21248.html">
<meta name="DC.Relation" scheme="URI" content="cdevtricks23426.html">
<meta name="DC.Relation" scheme="URI" content="cdevtricks13019.html">
<meta name="DC.Relation" scheme="URI" content="cdevtricks32436.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cdevtricks39584">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>仅提供一次参数</title>
</head>
<body id="cdevtricks39584" ><a name="cdevtricks39584"><!-- --></a>


<h1 class="topictitle1">仅提供一次参数</h1>



<div><p>如果要一次提供一个参数值并在查询中多次使用它，请将其与适当的CAST一起放在FROM子句中。</p>

<pre>SELECT  phonebook.* 
	FROM phonebook, (VALUES (CAST(? AS INT), CAST(? AS VARCHAR(255))))  
						AS Choice(choice, search_string)
	WHERE search_string = (case when choice = 1 then firstnme 
                 when choice=2 then lastname 
						when choice=3 then phonenumber end);</pre>

<p>该查询基于第一个参数中的值选择第二个参数将与之进行比较。将参数放在FROM子句中意味着它们仅需要对查询应用一次，并且可以给它们命名，以便可以在查询中的其他地方引用它们。在上面的示例中，第一个参数的名称为<em>choice</em> ，第二个参数的名称为<em>search_string</em> 。</p>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevtricks32436.html" title="本节提供了一些有趣的SQL功能的示例。它还包括一些非SQL技巧。">SQL技巧</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevtricks19707.html" title="要检索数据库名称，请调用《 Derby参考手册》中记录的SYSCS_UTIL.SYSCS_GET_DATABASE_NAME（）系统函数。您还可以使用DatabaseMetaData返回任何本地Connection的连接URL。">检索数据库名称和连接URL</a></div>
<div><a href="cdevtricks21248.html" title="标识列是存储数字的列，该数字每次插入都增加一个。标识列有时称为自动增量列。">定义标识列</a></div>
<div><a href="cdevtricks23426.html" title="您可以仅使用我们的JDBC驱动程序类名称（org.apache.derby.jdbc即可插入任何JDBC工具。EmbeddedDriver）和Derby的JDBC连接URL。">使用第三方工具</a></div>
<div><a href="cdevtricks13019.html" title="本节包含一些与VALUES子句一起使用的技巧。">VALUES子句的技巧</a></div>
</div>
</div>



</body></html>