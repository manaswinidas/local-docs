<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="Simple non-updatable result sets">
<meta name="abstract" content="This example is an excerpt from a sample JDBC application that generates a result set with a simple SELECT statement and then processes the rows.">
<meta name="description" content="This example is an excerpt from a sample JDBC application that generates a result set with a simple SELECT statement and then processes the rows.">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts28351.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts23987.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts22641.html">
<meta name="DC.Relation" scheme="URI" content="rdevconceptsholdablecursors.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts41275.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rdevconcepts88082">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>简单的不可更新结果集</title>
</head>
<body id="rdevconcepts88082" ><a name="rdevconcepts88082"><!-- --></a>


<h1 class="topictitle1">简单的不可更新结果集</h1>



<div><p>此示例摘自一个示例JDBC应用程序，该应用程序使用简单的SELECT语句生成结果集，然后处理行。</p>

<div class="example"> <pre>Connection conn = DriverManager.getConnection(
    "jdbc:derby:sample");
Statement s = conn.createStatement();
s.execute("set schema 'SAMP'");
<strong>//note that autocommit is on--it is on by default in JDBC</strong>
ResultSet rs = s.executeQuery(
    "SELECT empno, firstnme, lastname, salary, bonus, comm "
				 + "FROM samp.employee");
<strong>/** a standard JDBC ResultSet. It maintains a 
  *  cursor that points to the current row of data. The cursor 
  *  moves down one row each time the method next() is called.
  *  You can scroll one way only--forward--with the next()
  *  method. When auto-commit is on, after you reach the 
  *  last row the statement is considered completed
  *  and the transaction is committed.
  */</strong>
System.out.println( "last name" + "," + "first name" + ": earnings");
<strong>/* here we are scrolling through the result set 
with the next() method.*/</strong>
while (rs.next()) {
<strong>    // processing the rows</strong>
    String firstnme = rs.getString("FIRSTNME");
    String lastName = rs.getString("LASTNAME");
    BigDecimal salary = rs.getBigDecimal("SALARY");
    BigDecimal bonus = rs.getBigDecimal("BONUS");
    BigDecimal comm = rs.getBigDecimal("COMM"); 
    System.out.println( lastName + ", " + firstnme + ": " 
                       + (salary.add(bonus.add(comm))));
}
rs.close();
<strong>// once we've iterated through the last row,
// the transaction commits automatically and releases
//shared locks</strong>
s.close();</pre>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevconcepts41275.html" title="结果集维护一个游标，该游标指向其当前数据行。它可以用来一步一步地处理行。">结果集和游标机制</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevconcepts28351.html" title="可以使用结果集更新方法（updateRow（），deleteRow（）和insertRow（））或使用定位的更新或删除查询来更新Derby中的可更新结果集。">可更新的结果集</a></div>
<div><a href="cdevconcepts23987.html" title="除了与可保留游标相关联的结果集之外，发出提交将导致连接上的所有结果集都被关闭。">结果集和自动提交</a></div>
<div><a href="cdevconcepts22641.html" title="JDBC提供了两种类型的结果集，它们允许您在任一方向上滚动或将光标移动到特定行。Derby支持以下类型之一：可滚动的不敏感结果集（ResultSet。TYPE_SCROLL_INSENSITIVE）。">可滚动的结果集</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rdevconceptsholdablecursors.html" title="可保留的结果集功能允许应用程序在隐式或显式提交后使结果集保持打开状态。默认情况下，由结果集控制的游标在提交后保持打开状态。">可保存的结果集</a></div>
</div>
</div>



</body></html>