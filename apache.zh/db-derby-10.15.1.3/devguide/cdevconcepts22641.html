<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Scrollable result sets">
<meta name="abstract" content="JDBC provides two types of result sets that allow you to scroll in either direction or to move the cursor to a particular row. Derby supports one of these types: scrollable insensitive result sets (ResultSet.TYPE_SCROLL_INSENSITIVE).">
<meta name="description" content="JDBC provides two types of result sets that allow you to scroll in either direction or to move the cursor to a particular row. Derby supports one of these types: scrollable insensitive result sets (ResultSet.TYPE_SCROLL_INSENSITIVE).">
<meta name="DC.subject" content="result set, Scrollable cursors, ResultSets, scrollable insensitive, Cursors">
<meta name="keywords" content="result set, Scrollable cursors, ResultSets, scrollable insensitive, Cursors">
<meta name="DC.Relation" scheme="URI" content="rdevconcepts88082.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts28351.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts23987.html">
<meta name="DC.Relation" scheme="URI" content="rdevconceptsholdablecursors.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts41275.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cdevconcepts22641">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>可滚动的结果集</title>
</head>
<body id="cdevconcepts22641" ><a name="cdevconcepts22641"><!-- --></a>


<h1 class="topictitle1">可滚动的结果集</h1>



<div><p>JDBC提供了两种类型的结果集，它们允许您在任一方向上滚动或将光标移动到特定行。<span>Derby</span>支持以下类型之一：可滚动的不敏感结果集（ <samp class="codeph">ResultSet.TYPE_SCROLL_INSENSITIVE</samp> ）。
</p>

<div class="section">

<p>使用类型类型的结果集时<samp class="codeph">ResultSet.TYPE_SCROLL_INSENSITIVE</samp> ， <span>Derby会</span>实现从结果集中的第一行到请求的行数最大的行。如有必要，实例化的行将备份到磁盘上，以避免过多的内存使用。
</p>


<p>与敏感结果集相比，不敏感结果集看不到其他人在已实现的行上所做的更改。<span>Derby</span>允许更新可滚动的不敏感结果集；请参阅<a href="rdevconceptssur.html#visibility">更改的可见性</a> ，该部分还说明了自己更改的可见性。
</p>


<div class="p">
<div class="note"><span class="notetitle">注意：</span> <span>Derby</span>不支持类型的结果集<samp class="codeph">ResultSet.TYPE_SCROLL_SENSITIVE</samp> 。
</div>

</div>



<pre><strong>//autocommit does not have to be off because even if 
//we accidentally scroll past the last row, the implicit commit
//on the the statement will not close the result set because result sets
//are held over commit by default</strong>
conn.setAutoCommit(false);
Statement s4 = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, 
                                    ResultSet.CONCUR_READ_ONLY);
s4.execute("set schema 'SAMP'");
ResultSet scroller=s4.executeQuery(
    "SELECT sales_person, region, sales FROM sales " +
    "WHERE sales &gt; 8 ORDER BY sales DESC");
if (scroller.first()) { // One row is now materialized
    System.out.println("The sales rep who sold the highest number" +
                       " of sales is " +
                       scroller.getString("SALES_PERSON"));
} else {
    System.out.println("There are no rows.");
}
scroller.beforeFirst();
scroller.afterLast();   // By calling afterlast(), all rows will be materialized
scroller.absolute(3);
if (!scroller.isAfterLast()) {
    System.out.println("The employee with the third highest number " +
                       "of sales is " +
                       scroller.getString("SALES_PERSON") + ", with " +
                       scroller.getInt("SALES") + " sales");
}
if (scroller.isLast()) {
    System.out.println("There are only three rows.");
}
if (scroller.last()) {
    System.out.println("The least highest number " +
                       "of sales of the top three sales is: " +
                       scroller.getInt("SALES"));
}
scroller.close();
s4.close();
conn.commit()
conn.close();
System.out.println("Closed connection");</pre>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevconcepts41275.html" title="结果集维护一个游标，该游标指向其当前数据行。它可以用来一步一步地处理行。">结果集和游标机制</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevconcepts28351.html" title="可以使用结果集更新方法（updateRow（），deleteRow（）和insertRow（））或使用定位的更新或删除查询来更新Derby中的可更新结果集。">可更新的结果集</a></div>
<div><a href="cdevconcepts23987.html" title="除了与可保留游标相关联的结果集之外，发出提交将导致连接上的所有结果集都被关闭。">结果集和自动提交</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rdevconcepts88082.html" title="此示例摘自一个示例JDBC应用程序，该应用程序使用简单的SELECT语句生成结果集，然后处理行。">简单的不可更新结果集</a></div>
<div><a href="rdevconceptsholdablecursors.html" title="可保留的结果集功能允许应用程序在隐式或显式提交后使结果集保持打开状态。默认情况下，由结果集控制的游标在提交后保持打开状态。">可保存的结果集</a></div>
</div>
</div>



</body></html>