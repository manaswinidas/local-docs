<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Creating and preparing the database for read-only use">
<meta name="abstract" content="To create databases for use on read-only media, perform these steps.">
<meta name="description" content="To create databases for use on read-only media, perform these steps.">
<meta name="DC.subject" content="Read-only databases, creating">
<meta name="keywords" content="Read-only databases, creating">
<meta name="DC.Relation" scheme="URI" content="tdevdeploy19136.html">
<meta name="DC.Relation" scheme="URI" content="tdevdeploy33704.html">
<meta name="DC.Relation" scheme="URI" content="cdevdeploy11201.html">
<meta name="DC.Relation" scheme="URI" content="cdevdeploy82529.html">
<meta name="DC.Relation" scheme="URI" content="tdevdvlp40464.html">
<meta name="DC.Relation" scheme="URI" content="cdevdeploy18639.html">
<meta name="DC.Relation" scheme="URI" content="cdevdeploy15325.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tdevdeploy26887">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>创建和准备数据库以供只读使用</title>
</head>
<body id="tdevdeploy26887" ><a name="tdevdeploy26887"><!-- --></a>


<h1 class="topictitle1">创建和准备数据库以供只读使用</h1>



<div><p>要创建在只读介质上使用的数据库，请执行以下步骤。</p>

<ol>
<li class="stepexpand"><span>在读写媒体上创建并填充数据库。</span></li>

<li class="stepexpand"><span>提交所有事务，并以规定的方式关闭<span>Derby</span> 。如果您没有以指定的方式关闭<span>Derby</span> ，则<span>Derby</span>将需要在下次系统引导时执行恢复。<span>Derby</span>无法在只读媒体上执行恢复。</span></li>

<li class="stepexpand"><span>如果在您的数据库目录中创建了<em>tmp</em>目录，请删除该目录。如果包含此目录，则<span>Derby</span>将尝试删除它，并在尝试在只读媒体上引导数据库时返回错误。</span></li>

<li class="stepexpand"><span>对于只读数据库，将属性<em>derby.storage.tempDirectory</em>设置为可写位置。</span> 对于诸如ORDER BY，UNION，DISTINCT和GROUP BY这样的SQL语句所需的大类， <span>Derby</span>需要写入临时文件。有关此属性的更多信息，请参见《 <span><em>Derby参考手册》</em></span> 。<pre>derby.storage.tempDirectory=c:/temp/mytemp</pre>

</li>

<li class="stepexpand"><span>配置数据库以将错误消息发送到可写文件或输出流。</span> 有关<em>derby.stream.error.file</em>属性的信息，请参见《 <span><em>Derby参考手册》</em></span> 。<pre>derby.stream.error.file=c:/temp/mylog.LOG</pre>
</li>

</ol>

<div class="section">确保设置这些属性，以便将它们与数据库一起部署。</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevdeploy15325.html" title="您可以创建Derby数据库以在只读介质（例如，拇指驱动器）上使用。">创建Derby数据库以供只读使用</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevdeploy11201.html" title="要访问zip / jar中的数据库，请在子子协议中指定jar。">访问zip / jar文件中的只读数据库</a></div>
<div><a href="cdevdeploy82529.html" title="只读介质上的数据库对java.sql返回true。DatabaseMetaData.isReadOnly。">只读媒体上的数据库和DatabaseMetaData</a></div>
<div><a href="cdevdeploy18639.html" title="数据库范围的属性存储在数据库中，并且更易于部署，而系统范围的参数可能更易于开发。">嵌入式系统和属性</a></div>
</div>
<div class="reltasks"><strong>相关任务</strong><br>
<div><a href="tdevdeploy19136.html" title="要将数据库部署在只读介质上，请执行以下步骤。">在只读媒体上部署数据库</a></div>
<div><a href="tdevdeploy33704.html" title="一旦在Derby中创建了数据库，就可以将其存储在jar或zip文件中，并且Derby可以继续以只读模式对其进行访问。">将只读数据库传输到存档（jar或zip）文件</a></div>
<div><a href="tdevdvlp40464.html" title="嵌入式环境中的应用程序通过在连接URL中指定shutdown = true属性来关闭Derby系统。要关闭系统，您不指定数据库名称，并且通常不指定任何其他属性。">关闭Derby或单个数据库</a></div>
</div>
</div>



</body></html>