<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Overview of Derby-style table functions">
<meta name="abstract" content="A Derby-style table function is a method which returns a JDBC ResultSet.">
<meta name="description" content="A Derby-style table function is a method which returns a JDBC ResultSet.">
<meta name="DC.subject" content="Functions, table function overview">
<meta name="keywords" content="Functions, table function overview">
<meta name="DC.Relation" scheme="URI" content="cdevspecialtabfuncs.html">
<meta name="DC.Relation" scheme="URI" content="cdevspecialtfgetxxx.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cdevspecialtfbasic">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>Derby样式表功能概述</title>
</head>
<body id="cdevspecialtfbasic" ><a name="cdevspecialtfbasic"><!-- --></a>


<h1 class="topictitle1"><span>Derby</span>样式表功能概述</h1>



<div><p><span>Derby</span>样式表函数是一种返回JDBC <em>ResultSet的方法</em> 。</p>

<p>大多数<em>ResultSet</em>方法都可以编写为存根，而存根只会引发异常。但是， <span>Derby</span>样式表函数必须实现以下<em>ResultSet</em>方法：</p>

<ul>
<li><em>下一个（）</em></li>

<li><em>关（）</em></li>

<li><em>wasNull（）</em></li>

<li><em>getXXX（）</em> -在运行时调用<span>Derby</span>样式表函数时， <span>Derby</span>在每个引用的列上调用<em>getXXX（）</em>方法。特定的<em>getXXX（）</em>方法基于列中声明的列的数据类型。 <samp class="codeph">CREATE FUNCTION</samp>声明。
<a href="cdevspecialtfgetxxx.html#cdevspecialtfgetxxx">Derby样式表函数的首选getXXX（）方法</a>说明了<span>Derby</span>如何选择适当的<em>getXXX（）</em>方法。但是，没有什么可以阻止应用程序代码在<em>ResultSet</em>上调用其他<em>getXXX（）</em>方法。返回<em>的ResultSet</em>需要实现<em>getXXX（）</em>方法，其<span>德比</span>将调用以及所有<em>getXXX（）</em>方法使应用程序将调用。
</li>

</ul>


<p><span>Derby</span>样式表函数是通过公共静态方法实现的，该方法返回<em>ResultSet</em> ：</p>


<pre>
public static ResultSet read() {...}
</pre>


<p>然后，将公共静态方法绑定到<span>Derby</span>函数名称：</p>


<pre>
CREATE FUNCTION externalEmployees
()
RETURNS TABLE
(
  employeeId    INT,
  lastName      VARCHAR( 50 ),
  firstName     VARCHAR( 50 ),
  birthday      DATE
)
LANGUAGE JAVA
PARAMETER STYLE DERBY_JDBC_RESULT_SET
READS SQL DATA
EXTERNAL NAME 'com.example.hrSchema.EmployeeTable.read'
</pre>


<p>要调用表函数，请将其包装在查询的FROM列表中的TABLE构造函数中。请注意，表别名（在此示例中为“ s”）是语法的必需部分：</p>


<pre>
INSERT INTO employees
  SELECT s.*
    FROM TABLE (externalEmployees() ) s;
</pre>


<p>使用普通表功能时，必须选择其全部内容。但是，您可以编写一个受限表函数，该函数可以限制所选的行和列。受限表功能可以大大提高性能。有关详细信息，请参见<a href="cdevspecialtfrestr.html#cdevspecialtfrestr">编写受限表功能</a> 。
</p>


</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="cdevspecialtfgetxxx.html">Derby样式表函数的首选getXXX（）方法</a></strong><br>扫描Derby样式表函数时，Derby根据列的数据类型为每个列调用首选的getXXX（）方法。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevspecialtabfuncs.html" title="Derby使您可以创建表函数。表函数是将外部数据打包成类似于Derby表的函数。外部数据可以是XML文件，外部数据库中的表，实时数据源-简而言之，任何可以表示为JDBC ResultSet的信息源。">Derby样式表函数编程</a></div>
</div>
</div>



</body></html>