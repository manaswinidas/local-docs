<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us">
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;http://www.icra.org/ratingsv02.html&quot; l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) &quot;http://www.rsac.org/ratingsv01.html&quot; l gen true r (n 0 s 0 v 0 l 0) &quot;http://www.classify.org/safesurf/&quot; l gen true r (SS~~000 1))">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="The database directory">
<meta name="abstract" content="A Derby database is stored in files that live in a directory of the same name as the database. Database directories typically live in system directories.">
<meta name="description" content="A Derby database is stored in files that live in a directory of the same name as the database. Database directories typically live in system directories.">
<meta name="DC.subject" content="log directory, description, seg0 directory, service.properties file, tmp directory, jar directory, size limitations in Derby, tables, database size limitations, indexes, table size limitations, columns, rows">
<meta name="keywords" content="log directory, description, seg0 directory, service.properties file, tmp directory, jar directory, size limitations in Derby, tables, database size limitations, indexes, table size limitations, columns, rows">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp846110.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp30653.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp20458.html">
<meta name="DC.Relation" scheme="URI" content="cdevdvlp21955.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cdevdvlp40724">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>数据库目录</title>
</head>
<body id="cdevdvlp40724" ><a name="cdevdvlp40724"><!-- --></a>


<h1 class="topictitle1">数据库目录</h1>



<div><p><span>Derby</span>数据库存储在与该数据库同名的目录中的文件中。数据库目录通常位于<em>系统</em>目录中。</p>

<div class="note"><span class="notetitle">注意：</span>内存数据库不使用文件系统，但是本主题后面表格中列出的大小限制仍然适用。对于某些限制，最大值由可用的主内存而不是可用的磁盘空间和文件系统限制确定。</div>

<p>数据库目录包含以下内容，如下图所示。</p>

<ul>
<li><em>日志</em>目录<p>包含组成数据库事务日志的文件，这些文件在内部用于数据恢复（与错误日志不同）。</p>
</li>

<li><em>seg0</em>目录<p>每个用户表，系统表和索引均包含一个文件（称为集团）。</p>
</li>

<li><em>service.properties</em>文件<p>具有内部配置信息的文本文件。</p>
</li>

<li><em>tmp</em>目录<p>（可能不存在。）<span>Derby</span>使用的临时目录，用于进行大范围的排序以及延迟的更新和删除。各种SQL语句都使用排序。对于只读媒体上的数据库，您可能需要设置一个属性来更改此目录的位置。请参阅“创建<span>Derby</span>数据库以供只读使用”。</p>
</li>

<li><em>jar</em>目录<p>（可能不存在。）使用数据库类加载时，在其中存储jar文件的目录。</p>
</li>

</ul>

<p id="cdevdvlp40724__cdevdvlpaccessingareadonlydatabaseinazip"><a name="cdevdvlp40724__cdevdvlpaccessingareadonlydatabaseinazip"><!-- --></a>可以将只读数据库目录归档（如果需要，可以压缩）到jar或zip文件中。有关更多信息，请参见<a href="cdevdeploy11201.html#cdevdeploy11201">访问zip / jar文件中的只读数据库</a> 。</p>

<p>下图显示了<span>Derby</span>软件使用的<span>Derby</span>数据库目录中的文件和目录。</p>

<div class="fignone" id="cdevdvlp40724__rdevdvlp31476"><a name="cdevdvlp40724__rdevdvlp31476"><!-- --></a> <span class="figcap">图1。<span>Derby</span>数据库目录和文件结构的示例</span>
<br><img src="dbcont.gif" alt="此图显示了可能在Derby数据库的主目录中找到的名为Sales的文件和目录：service.properties文件以及log，seg0，tmp和jar目录。"><br>
</div>

<p><span>Derby</span>对数据库和数据库对象的数量和大小施加了相对较少的限制。下表显示了<span>Derby</span>数据库和数据库对象的一些大小限制。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists the size limits for common kinds of database objects." frame="border" rules="all"><caption>表格1。<span>Derby</span>数据库对象的大小限制</caption>


<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="40%" id="N10192">对象类型</th>

<th valign="bottom" width="60%" id="N10199">限制</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="40%" headers="N10192">每个数据库中的表</td>

<td valign="top" width="60%" headers="N10199"><em>java.lang。长。MAX_VALUE</em>   <p>某些操作系统对单个目录中允许的文件数施加了限制。</p>
</td>

</tr>

<tr>
<td valign="top" width="40%" headers="N10192">每个表中的索引</td>

<td valign="top" width="60%" headers="N10199">32,767或存储</td>

</tr>

<tr>
<td valign="top" width="40%" headers="N10192">每个表中的列</td>

<td valign="top" width="60%" headers="N10199">1,012</td>

</tr>

<tr>
<td valign="top" width="40%" headers="N10192">索引键上的列数</td>

<td valign="top" width="60%" headers="N10199">16</td>

</tr>

<tr>
<td valign="top" width="40%" headers="N10192">每个表中的行</td>

<td valign="top" width="60%" headers="N10199">没有限制。</td>

</tr>

<tr>
<td valign="top" width="40%" headers="N10192">桌子尺寸</td>

<td valign="top" width="60%" headers="N10199">没有限制。某些操作系统对单个文件的大小施加了限制。</td>

</tr>

<tr>
<td valign="top" width="40%" headers="N10192">行的大小</td>

<td valign="top" width="60%" headers="N10199">没有限制。行可以跨越页面。行无法跨表，因此某些操作系统对单个文件的大小施加了限制，这导致表的大小和该表中行的大小受到限制。</td>

</tr>

</tbody>

</table>
</div>

<p>有关<span>Derby</span>数据库和数据库对象的限制的完整列表，请参见《 <em><span><em>Derby参考手册》</em></span></em> 。</p>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevdvlp21955.html" title="Derby数据库包含字典对象，例如表，列，索引和jar文件。Derby数据库还可以存储自己的配置信息。">Derby数据库</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevdvlp846110.html" title="您可以将许多Derby属性设置为数据库级属性。以这种方式设置时，它们将存储在数据库中，并随数据库“移动”，除非被系统属性覆盖。">数据库范围的属性</a></div>
<div><a href="cdevdvlp30653.html" title="Derby数据库有一些限制。">Derby数据库限制</a></div>
<div><a href="cdevdvlp20458.html" title="Derby通过使用数据库目录中的一个名为db.lck的文件来防止其自身的两个实例引导同一数据库。">双重引导系统行为</a></div>
</div>
</div>

</body>
</html>