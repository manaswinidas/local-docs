<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Update locks">
<meta name="abstract" content="When a user-defined update cursor (created with the FOR UPDATE clause or by using concurrency mode ResultSet.CONCUR_UPDATABLE) reads data, its transaction obtains an update lock on the data.">
<meta name="description" content="When a user-defined update cursor (created with the FOR UPDATE clause or by using concurrency mode ResultSet.CONCUR_UPDATABLE) reads data, its transaction obtains an update lock on the data.">
<meta name="DC.subject" content="Update locks">
<meta name="keywords" content="Update locks">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts842279.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts842304.html">
<meta name="DC.Relation" scheme="URI" content="rdevconcepts2462.html">
<meta name="DC.Relation" scheme="URI" content="rdevconcepts8424.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts842613.html">
<meta name="DC.Relation" scheme="URI" content="cdevconcepts36402.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cdevconcepts842385">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>更新锁</title>
</head>
<body id="cdevconcepts842385" ><a name="cdevconcepts842385"><!-- --></a>


<h1 class="topictitle1">更新锁</h1>



<div><p>当用户定义的更新游标（通过FOR UPDATE子句或使用并发模式创建时） <samp class="codeph">ResultSet.CONCUR_UPDATABLE</samp> ）读取数据，它的事务获取对该数据的<em>更新</em>锁定。</p>

<p>如果用户定义的更新游标更新了数据，则更新锁将转换为互斥锁。如果游标未更新该行，则当事务前进至下一行时，使用TRANSACTION_READ_COMMITTED隔离级别的事务将释放锁定。（对于更新锁，TRANSACTION_READ_UNCOMMITTED隔离级别的行为与TRANSACTION_READ_COMMITTED相同。）</p>

<p>更新锁有助于最大程度地减少死锁。</p>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="cdevconcepts36402.html" title="Derby系统中有几种类型的锁，包括排他锁，共享锁和更新锁。">Derby系统中锁的类型和范围</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="cdevconcepts842279.html" title="当语句修改数据时，其事务将对数据持有排他锁，以防止其他事务访问该数据。">排他锁</a></div>
<div><a href="cdevconcepts842304.html" title="当语句读取数据而不进行任何修改时，其事务将获得对数据的共享锁。">共享锁</a></div>
<div><a href="cdevconcepts842613.html" title="除了已经描述的锁之外，外键查找还需要在引用的表（行或表，具体取决于配置）上短暂持有共享锁。">锁定注意事项</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rdevconcepts2462.html" title="下表显示了锁类型之间的兼容性。" ye="=" n="=" ="">锁兼容性</a></div>
<div><a href="rdevconcepts8424.html" title="语句锁定的数据量可能会有所不同。">锁范围</a></div>
</div>
</div>



</body></html>