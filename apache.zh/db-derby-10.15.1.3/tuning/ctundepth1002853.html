<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us">
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;http://www.icra.org/ratingsv02.html&quot; l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) &quot;http://www.rsac.org/ratingsv01.html&quot; l gen true r (n 0 s 0 v 0 l 0) &quot;http://www.classify.org/safesurf/&quot; l gen true r (SS~~000 1))">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Create useful indexes">
<meta name="abstract" content="Indexes are useful when a query contains a WHERE clause.">
<meta name="description" content="Indexes are useful when a query contains a WHERE clause.">
<meta name="DC.subject" content="indexes, guidance, creating">
<meta name="keywords" content="indexes, guidance, creating">
<meta name="DC.Relation" scheme="URI" content="ctundepth23033.html">
<meta name="DC.Relation" scheme="URI" content="ctundepth1003116.html">
<meta name="DC.Relation" scheme="URI" content="ctundepth1003209.html">
<meta name="DC.Relation" scheme="URI" content="ctundepth1003369.html">
<meta name="DC.Relation" scheme="URI" content="ctundepth1003672.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ctundepth1002853">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>创建有用的索引</title>
</head>
<body id="ctundepth1002853" ><a name="ctundepth1002853"><!-- --></a>


<h1 class="topictitle1">创建有用的索引</h1>



<div><p>当查询包含WHERE子句时，索引很有用。</p>

<p>如果没有WHERE子句，则<span>Derby</span> <em>应该</em>返回表中的所有数据，因此表扫描是正确的（如果不需要的话）行为。（有关更多信息，请参阅<a href="ctundepth36205.html">防止用户发出昂贵的查询</a> 。）</p>

<p>在以下情况下， <span>Derby</span>在表上创建索引：</p>

<ul>
<li>在表上定义主键，唯一键或外键约束时。有关更多信息，请参见《 <span><em>Derby参考手册</em></span> 》中的“ CONSTRAINT子句”。</li>

<li>当您使用CREATE INDEX语句在表上显式创建索引时。</li>

</ul>

<p>为了使索引对特定语句有用，该语句的WHERE子句中的一列必须是索引键的第一列。</p>

<div class="p"><div class="note"><span class="notetitle">注意：</span>有关索引如何工作以及何时有用的完整讨论，请参阅<a href="ctunoptimz33368.html">什么是索引？</a> 以及<a href="ctunoptimz30217.html">索引使用和访问路径</a> 。</div>
</div>

<p>索引还提供其他一些好处：</p>

<ul>
<li>如果所有请求的数据都在索引中，则<span>Derby</span>根本不必转到表。（请参阅<a href="ctunoptimz30768.html">覆盖索引</a> 。）</li>

<li>对于需要排序的操作（ORDER BY），如果<span>Derby</span>使用索引来检索数据，则在某些情况下，不必为其中的某些操作执行单独的排序步骤。（请参阅<a href="ctunoptimz27036.html">关于优化程序对避免排序的选择</a> 。）</li>

</ul>

<p>有关创建索引的详细信息，包括密钥大小的限制，请参见《 <span><em>Derby参考手册</em></span> 》中的“ CREATE INDEX语句”。</p>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="ctundepth23033.html" title="有用的索引使Derby不必读取整个表来检索所需的数据。">始终创建索引</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="ctundepth1003116.html" title="如果索引对查询有用，则Derby可能正在使用它。但是，您需要确保。分析Derby执行应用程序查询的方式。">确保正在使用索引，然后重建它们</a></div>
<div><a href="ctundepth1003209.html" title="Derby允许您以降序创建索引列，除了以升序创建索引列（默认设置）之外。降序索引为需要按降序对数据进行排序的查询提供了性能优势。">考虑索引顺序</a></div>
<div><a href="ctundepth1003369.html" title="对于某些查询，联接顺序可以使表扫描（昂贵）和索引扫描（廉价）有所不同。">考虑加入顺序</a></div>
<div><a href="ctundepth1003672.html" title="Derby允许您创建对列使用降序的索引。这样的索引可提高按降序对结果进行排序或搜索索引列的最小值或最大值的查询的性能。">确定降序索引是否有用</a></div>
</div>
</div>

</body>
</html>