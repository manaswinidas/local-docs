<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="Multiple-column index example">
<meta name="abstract" content="The following queries do provide start and stop conditions for a scan of the primary key index on the flight_id and segment_number columns in Flights.">
<meta name="description" content="The following queries do provide start and stop conditions for a scan of the primary key index on the flight_id and segment_number columns in Flights.">
<meta name="DC.Relation" scheme="URI" content="ctunoptimz30768.html">
<meta name="DC.Relation" scheme="URI" content="rtunoptimz1004602.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rtunoptimz1004810">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>多列索引示例</title>
</head>
<body id="rtunoptimz1004810" ><a name="rtunoptimz1004810"><!-- --></a>


<h1 class="topictitle1">多列索引示例</h1>



<div><p>以下查询<em>的确</em>为扫描主键索引提供了开始和停止条件。 <samp class="codeph">flight_id</samp>和<samp class="codeph">segment_number</samp>列中<samp class="codeph">Flights</samp> 。</p>

<div class="section">
<pre><strong><span>-- the where clause compares both columns with valid
-- operators to constants</span>
SELECT *
FROM Flights
WHERE flight_id = 'AA1115'
AND segment_number &lt; 2
<span>-- the first column is in a valid comparison</span>
SELECT *
FROM Flights
WHERE flight_id &lt; 'BB'
<span>-- LIKE is transformed into &gt;= and &lt;=, providing
-- start and stop conditions</span>
SELECT *
FROM Flights
WHERE flight_id LIKE 'AA%'</strong></pre>
</div>

<div class="section"><p>以下查询不会：</p>

<pre><strong><span>-- segment_number is in the index, but it's not the first column;
-- there's no logical starting and stopping place</span>
SELECT *
FROM Flights
WHERE segment_number = 2
<span>-- <span>Derby</span>  would scan entire table; comparison of first column
-- is not with a constant or column in another table
-- and no covering index applies</span>
SELECT *
FROM Flights
WHERE orig_airport = dest_airport
AND segment_number &lt; 2</strong></pre>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="ctunoptimz30768.html" title="即使没有明确的索引扫描起点或终点，如果索引覆盖了查询，索引也可以加快查询的执行速度。如果查询中指定的所有列都是索引的一部分，则索引将覆盖查询。">覆盖索引</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rtunoptimz1004602.html" title="以下查询不提供OrigIndex扫描的开始和停止条件，OrigIndex是Flights中orig_airport列上的索引。但是，其中一些查询允许Derby进行索引而不是进行表扫描，因为索引涵盖了查询。">单列索引示例</a></div>
</div>
</div>



</body></html>