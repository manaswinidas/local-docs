<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Non-cost-based sort avoidance (tuple filtering)">
<meta name="abstract" content="In most cases, Derby needs to perform two separate steps for statements that use DISTINCT or GROUP BY: first sorting the selected columns, then either discarding duplicate rows or aggregating grouped rows. Sometimes it is able to avoid sorting for these statements with tuple filtering.">
<meta name="description" content="In most cases, Derby needs to perform two separate steps for statements that use DISTINCT or GROUP BY: first sorting the selected columns, then either discarding duplicate rows or aggregating grouped rows. Sometimes it is able to avoid sorting for these statements with tuple filtering.">
<meta name="DC.Relation" scheme="URI" content="ctunoptimz860097.html">
<meta name="DC.Relation" scheme="URI" content="ctunoptimz22111.html">
<meta name="DC.Relation" scheme="URI" content="ctunoptimz859947.html">
<meta name="DC.Relation" scheme="URI" content="ctunoptimz859974.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ctunoptimz22460">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>非基于成本的排序避免（元组过滤）</title>
</head>
<body id="ctunoptimz22460" ><a name="ctunoptimz22460"><!-- --></a>


<h1 class="topictitle1">非基于成本的排序避免（元组过滤）</h1>



<div><p>在大多数情况下， <span>Derby</span>需要对使用DISTINCT或GROUP BY的语句执行两个单独的步骤：首先对选定的列进行排序，然后丢弃重复的行或聚合分组的行。有时，它可以避免使用元组过滤对这些语句进行排序。</p>

<p><em>元组过滤</em>意味着这些行<em>已经</em>按照有用的顺序排列了。对于DISTINCT， <span>Derby</span>可以简单地在找到重复值时过滤掉它们，并将结果尽快返回给用户。对于GROUP BY， <span>Derby</span>可以聚合一组行，直到检测到新的一组行，并尽快将结果返回给用户。</p>

<p>这些是基于成本的优化；优化器尚未考虑这些优化的成本。</p>

<p>本节中的示例引用下表：</p>
 
<pre><strong>CREATE TABLE t1(c1 INT, c2 INT, c3 INT, c4 INT)
CREATE INDEX i1 ON t1(c1)
CREATE INDEX i1_2_3_4 ON t1(c1, c2, c3, c4)</strong></pre>

</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="ctunoptimz859947.html">不同</a></strong><br>当满足以下条件时，将元组过滤应用于DISTINCT。</li>
<li class="ulchildlink"><strong><a href="ctunoptimz859974.html">通过...分组</a></strong><br>当满足以下条件时，将元组过滤应用于GROUP BY。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="ctunoptimz860097.html" title="优化器进行一些非基于成本的优化，这意味着在确定访问路径和连接顺序时不会考虑它们。">非基于成本的优化</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="ctunoptimz22111.html" title="优化器知道，当数据已经按正确顺序排列时，它可以避免遍历结果中的所有源行来计算MIN（）或MAX（）聚合。">MIN（）和MAX（）优化</a></div>
</div>
</div>



</body></html>