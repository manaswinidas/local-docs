<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Think about join order">
<meta name="abstract" content="For some queries, join order can make the difference between a table scan (expensive) and an index scan (cheap).">
<meta name="description" content="For some queries, join order can make the difference between a table scan (expensive) and an index scan (cheap).">
<meta name="DC.subject" content="Join order, performance implications of">
<meta name="keywords" content="Join order, performance implications of">
<meta name="DC.Relation" scheme="URI" content="ctundepth23033.html">
<meta name="DC.Relation" scheme="URI" content="ctundepth1002853.html">
<meta name="DC.Relation" scheme="URI" content="ctundepth1003116.html">
<meta name="DC.Relation" scheme="URI" content="ctundepth1003209.html">
<meta name="DC.Relation" scheme="URI" content="ctundepth1003672.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ctundepth1003369">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>考虑加入顺序</title>
</head>
<body id="ctundepth1003369" ><a name="ctundepth1003369"><!-- --></a>


<h1 class="topictitle1">考虑加入顺序</h1>



<div><p>对于某些查询，联接顺序可以使表扫描（昂贵）和索引扫描（廉价）有所不同。</p>

<p>这是一个例子：</p>

<pre><strong>select ht.hotel_id, ha.stay_date, ht.depart_time
from hotels ht, Hotelavailability ha
where ht.hotel_id = ha.hotel_id and 
ht.room_number = ha.room_number
and ht.bed_type = 'KING'
and ht.smoking_room = 'NO'
order by ha.stay_date</strong></pre>

<p>如果<span>德比</span>选择<samp class="codeph">Hotels</samp>作为外部表，它可以在<samp class="codeph">Hotels</samp>检索合格的行。然后只需要在其中查找数据<samp class="codeph">HotelAvailability</samp> 3次，每排排位一次。并从中检索适当的行<samp class="codeph">HotelAvailability</samp> ，它可以将索引用于<samp class="codeph">HotelAvailability</samp>的<samp class="codeph">hotel_id</samp>列而不是扫描整个表。</p>

<p>如果<span>Derby</span>选择其他顺序，则使用<samp class="codeph">HotelAvailability</samp>作为外部表，它将必须探测<samp class="codeph">Hotels</samp> <em>每行的</em>表格，而不仅仅是三行，因为<samp class="codeph">HotelAvailability</samp>表。</p>

<p>有关<a href="ctunoptimz12168.html">联接</a>顺序的更多信息，请参见<a href="ctunoptimz12168.html">联接和性能</a> 。</p>

<p><span>德比</span>通常会选择一个好的加入顺序。但是，与使用索引一样，您应该确保。分析<span>Derby</span>执行应用程序查询的方式。请参阅<a href="ttundepth33391.html">分析语句执行</a>以获取有关如何执行此操作的信息。</p>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="ctundepth23033.html" title="有用的索引使Derby不必读取整个表来检索所需的数据。">始终创建索引</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="ctundepth1002853.html" title="当查询包含WHERE子句时，索引很有用。">创建有用的索引</a></div>
<div><a href="ctundepth1003116.html" title="如果索引对查询有用，则Derby可能正在使用它。但是，您需要确保。分析Derby执行应用程序查询的方式。">确保正在使用索引，然后重建它们</a></div>
<div><a href="ctundepth1003209.html" title="Derby允许您以降序创建索引列，除了以升序创建索引列（默认设置）之外。降序索引为需要按降序对数据进行排序的查询提供了性能优势。">考虑索引顺序</a></div>
<div><a href="ctundepth1003672.html" title="Derby允许您创建对列使用降序的索引。这样的索引可提高按降序对结果进行排序或搜索索引列的最小值或最大值的查询的性能。">确定降序索引是否有用</a></div>
</div>
</div>



</body></html>