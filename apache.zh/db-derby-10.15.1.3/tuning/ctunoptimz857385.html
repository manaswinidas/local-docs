<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Join order overview">
<meta name="abstract" content="The Derby optimizer usually makes a good choice about join order. This section discusses the performance implications of join order.">
<meta name="description" content="The Derby optimizer usually makes a good choice about join order. This section discusses the performance implications of join order.">
<meta name="DC.subject" content="Join order, performance implications of, rules of thumb">
<meta name="keywords" content="Join order, performance implications of, rules of thumb">
<meta name="DC.Relation" scheme="URI" content="ctunoptimz12168.html">
<meta name="DC.Relation" scheme="URI" content="ctunoptimz23173.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ctunoptimz857385">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>加盟订单概述</title>
</head>
<body id="ctunoptimz857385" ><a name="ctunoptimz857385"><!-- --></a>


<h1 class="topictitle1">加盟订单概述</h1>



<div><p><span>Derby</span>优化器通常在连接顺序方面做出很好的选择。本节讨论联接顺序对性能的影响。</p>

<p>在涉及两个表的联接操作中， <span>Derby</span>按特定顺序扫描表。<span>Derby首先</span>访问一个表中的行，此表现在称为<em>外部表</em> 。</p>

<p>然后，对于外部表中的每个合格行， <span>Derby</span>在第二个表（称为<em>内部表）中</em>寻找匹配的行。</p>

<p><span>Derby</span>访问一次外部表，并且内部表可能访问多次（取决于外部表中有多少行）。</p>

<p>这导致了一些有关联接顺序的一般经验法则：</p>

<ul>
<li>如果该联接在WHERE子句中没有任何限制，该限制将从一个表返回的行数限制为几行，则适用以下规则：<ul>
<li>如果<em>只有一个</em>表在一个或多个联接列上具有索引，那么将该表作为内部表会更好。这是因为对于许多内部表查找中的每一个， <span>Derby</span>都可以使用索引而不是扫描整个表。</li>

<li>由于内部表上的索引被访问了很多次，因此，如果一个表上的索引小于另一个表上的索引，则具有较小表的表应该是内部表。那是因为可以缓存较小的索引（或表）（保留在<span>Derby</span>的内存中，从而使<span>Derby</span>避免每次迭代都使用昂贵的I / O）。</li>

</ul>
</li>

<li>另一方面，如果查询在WHERE子句中对一个表有限制，这将导致该查询仅返回该表的几行（例如， <samp class="codeph">WHERE flight_id = 'AA1111'</samp> ），限制表最好是外部表。
无论如何， <span>德比</span>只需要几次进入内桌。
<p>考虑：</p>

<pre><strong>SELECT *
FROM huge_table, small_table
WHERE huge_table.unique_column = 1
AND huge_table.other_column = small_table.non_unique_column</strong></pre>

<p>在这种情况下，资格<samp class="codeph">huge_table.unique_column = 1</samp> （假设该列上的索引唯一）仅限定一行，因此对于<samp class="codeph">huge_table</samp>成为联接中的外部表。</p>
</li>

</ul>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="ctunoptimz12168.html" title="在联接中，Derby使用每个表中的一个或多个键列从两个或多个表中选择数据的SQL语句在性能上可能差异很大。影响联接性能的因素是联接顺序，索引和联接策略。">联接和性能</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="ctunoptimz23173.html" title="Derby中最常见的联接策略称为嵌套循环。对于外部表中的每个合格行，Derby使用适当的访问路径（索引或表）在内部表中查找匹配的行。">加盟策略</a></div>
</div>
</div>



</body></html>