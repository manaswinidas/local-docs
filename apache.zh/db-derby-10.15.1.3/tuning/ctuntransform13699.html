<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us">
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 &quot;http://www.icra.org/ratingsv02.html&quot; l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) &quot;http://www.rsac.org/ratingsv01.html&quot; l gen true r (n 0 s 0 v 0 l 0) &quot;http://www.classify.org/safesurf/&quot; l gen true r (SS~~000 1))">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Subquery processing and transformations">
<meta name="abstract" content="Subqueries are notoriously expensive to evaluate. This section describes some of the transformations that Derby makes internally to reduce the cost of evaluating them.">
<meta name="description" content="Subqueries are notoriously expensive to evaluate. This section describes some of the transformations that Derby makes internally to reduce the cost of evaluating them.">
<meta name="DC.subject" content="Subqueries, processing and transformations of">
<meta name="keywords" content="Subqueries, processing and transformations of">
<meta name="DC.Relation" scheme="URI" content="ctuntransform13966.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform35783.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform37032.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform11313.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform55045.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform16033.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform41535.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform25857.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform36368.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform25868.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform47182.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform867165.html">
<meta name="DC.Relation" scheme="URI" content="ctuntransform867201.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ctuntransform13699">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>子查询处理和转换</title>
</head>
<body id="ctuntransform13699" ><a name="ctuntransform13699"><!-- --></a>


<h1 class="topictitle1">子查询处理和转换</h1>



<div><p>众所周知，子查询的评估成本很高。本节描述了<span>Derby</span>内部进行的一些转换，以减少评估它们的成本。</p>

</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="ctuntransform25857.html">物化</a></strong><br>实现意味着子查询仅评估一次。可以实现几种类型的子查询。</li>
<li class="ulchildlink"><strong><a href="ctuntransform36368.html">将子查询展平为普通联接</a></strong><br>与IN，EXISTS和ANY一起使用时，允许子查询返回多行。但是，对于外部行中返回的每一行，Derby都会评估子查询，直到它返回一行；它不会评估返回的所有行的子查询。</li>
<li class="ulchildlink"><strong><a href="ctuntransform25868.html">将子查询展平为EXISTS联接</a></strong><br>EXISTS联接是其中联接的右侧仅需要为每个外部行探测一次的联接。</li>
<li class="ulchildlink"><strong><a href="ctuntransform47182.html">展平VALUES子查询</a></strong><br>Derby展平VALUES子查询以提高性能。</li>
<li class="ulchildlink"><strong><a href="ctuntransform867165.html">在IN，ANY和EXISTS子查询中进行DISTINCT消除</a></strong><br>如果至少有一行导致子查询的结果为true，则IN，ANY或EXISTS子查询的结果为true。这些语义使得在IN，ANY或EXISTS子查询中不需要DISTINCT。</li>
<li class="ulchildlink"><strong><a href="ctuntransform867201.html">IN / ANY子查询转换</a></strong><br>可以保证最多返回一行的IN或ANY子查询可以转换为等效表达式子查询（不带IN或ANY的标量子查询）。子查询必须不相关。</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="ctuntransform13966.html" title="出于性能原因，Derby SQL解析器有时会在内部转换SQL语句。本节描述了这些转换。">内部语言转换</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="ctuntransform35783.html" title="带OR谓词的WHERE子句通常是不可优化的。如果至少一个谓词是可优化的，则可以优化谓词由AND连接的WHERE子句。">谓词转换</a></div>
<div><a href="ctuntransform37032.html" title="数字的传递属性指出，如果A = B且B = C，则A =C。">传递闭包</a></div>
<div><a href="ctuntransform11313.html" title="当Derby评估引用视图的语句时，它将对视图的引用转换为派生表。它可能会进行其他转换以提高性能。">查看转换</a></div>
<div><a href="ctuntransform55045.html" title="当谓词过滤掉连接列上的所有空值时，Derby将OUTER转换为INNER连接。这种转换可以允许更多潜在的查询计划，从而提高性能。">外连接转换</a></div>
<div><a href="ctuntransform16033.html" title="排序是一个昂贵的过程。Derby尝试在可能的情况下消除不必要的排序步骤。">避免排序</a></div>
<div><a href="ctuntransform41535.html" title="">骨料加工</a></div>
</div>
</div>

</body>
</html>