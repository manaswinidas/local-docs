<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="Running the luceneSupport tool with a security manager">
<meta name="abstract" content="When you run the luceneSupport tool under a Java Security Manager, the security policy must grant privileges to two jar files.">
<meta name="description" content="When you run the luceneSupport tool under a Java Security Manager, the security policy must grant privileges to two jar files.">
<meta name="DC.subject" content="luceneSupport optional tool, running with a security manager">
<meta name="keywords" content="luceneSupport optional tool, running with a security manager">
<meta name="DC.Relation" scheme="URI" content="rtoolsoptlucene.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsoptlucenecreate.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsoptluceneupdate.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsoptlucenequery.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsoptlucenedrop.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsoptlucenelist.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rtoolsoptlucenesecman">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>使用安全管理器运行luceneSupport工具</title>
</head>
<body id="rtoolsoptlucenesecman" ><a name="rtoolsoptlucenesecman"><!-- --></a>


<h1 class="topictitle1">使用安全管理器运行luceneSupport工具</h1>



<div><p>当您运行<samp class="codeph">luceneSupport</samp>作为Java Security Manager中的一个工具，安全策略必须将特权授予两个jar文件。</p>

<div class="section">
<p>必须授予以下特权<samp class="codeph">derbyoptionaltools.jar</samp>并转到核心Lucene jar文件：</p>

<pre>//
// Permissions for the optional tools (derbyoptionaltools.jar)
//
grant codeBase "${derby.install.url}derbyoptionaltools.jar"
{
  permission java.util.PropertyPermission "derby.system.home", "read";
  permission org.apache.derby.security.SystemPermission "engine", "usederbyinternals";

  // all databases under derby.system.home 
  permission java.io.FilePermission
      "${derby.system.home}${/}${databaseName}${/}LUCENE",
      "read,write,delete";
  permission java.io.FilePermission
      "${derby.system.home}${/}${databaseName}${/}LUCENE${/}-",
      "read,write,delete";

  permission java.io.FilePermission "${lucene.core.jar.file}", "read";
  permission java.util.PropertyPermission "user.dir", "read";
  permission java.lang.RuntimePermission "accessDeclaredMembers";
  permission java.lang.RuntimePermission "accessClassInPackage.sun.misc";
  permission java.lang.reflect.ReflectPermission "suppressAccessChecks";
};

// Permissions for the Lucene plugin
grant codeBase "${lucene.core.jar.file.url}"
{
  // permissions for file access, write access only to sandbox:
  permission java.io.FilePermission
      "${derby.system.home}${/}${databaseName}${/}LUCENE",
      "read,write,delete";
  permission java.io.FilePermission
      "${derby.system.home}${/}${databaseName}${/}LUCENE${/}-",
      "read,write,delete";
  
  // Basic permissions needed for Lucene to work:
  permission java.util.PropertyPermission "user.dir", "read";
  permission java.util.PropertyPermission "sun.arch.data.model", "read";
  permission java.lang.RuntimePermission "accessDeclaredMembers";
  permission java.lang.RuntimePermission "accessClassInPackage.sun.misc";
  permission java.lang.reflect.ReflectPermission "suppressAccessChecks";
};</pre>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rtoolsoptlucene.html" title="luceneSupport插件是一个可选工具，可让您使用Apache Lucene进行全文索引和搜索Derby文本列的内容。">使用luceneSupport可选工具</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rtoolsoptlucenecreate.html" title="luceneSupport可选工具使您可以使用Apache Lucene执行全文索引和搜索Derby文本列的内容。">创建索引</a></div>
<div><a href="rtoolsoptluceneupdate.html" title="创建索引后，用户可以对文本列执行批量重新索引。">更新索引</a></div>
<div><a href="rtoolsoptlucenequery.html" title="要查询索引，请使用CREATEINDEX创建的表函数。">查询索引</a></div>
<div><a href="rtoolsoptlucenedrop.html" title="表所有者可以删除Lucene索引。">删除索引</a></div>
<div><a href="rtoolsoptlucenelist.html" title="您可以使用表函数列出所有Lucene索引。">上市索引</a></div>
</div>
</div>



</body></html>