<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="PlanExporter XML format">
<meta name="abstract" content="The PlanExporter tool extracts the query plan of an executed query as a XML document by using the statistics captured from Derby XPLAIN style tables.">
<meta name="description" content="The PlanExporter tool extracts the query plan of an executed query as a XML document by using the statistics captured from Derby XPLAIN style tables.">
<meta name="DC.subject" content="PlanExporter, XML">
<meta name="keywords" content="PlanExporter, XML">
<meta name="DC.Relation" scheme="URI" content="ctoolsplanexp.html">
<meta name="DC.Relation" scheme="URI" content="ctoolsusingplanexp.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsplanexpexamples.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rtoolsplanexpxmlformat">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>PlanExporter XML格式</title>
</head>
<body id="rtoolsplanexpxmlformat" ><a name="rtoolsplanexpxmlformat"><!-- --></a>


<h1 class="topictitle1">PlanExporter XML格式</h1>



<div><p>的<samp class="codeph">PlanExporter</samp>该工具使用从<span>Derby</span> XPLAIN样式表捕获的统计信息将执行的查询的查询计划提取为XML文档。</p>

<div class="section"><p>XML文档由<samp class="codeph">PlanExporter</samp>该工具具有以下结构。</p>
</div>

<div class="section">
<ul>
<li><strong>基本树形结构：</strong>
<div class="p"><ul>
<li><samp class="codeph">plan</samp> ：XML树的根<ul>
<li><samp class="codeph">statement</samp> ：第一个孩子，执行查询</li>

<li><samp class="codeph">time</samp> ：第二个孩子，此查询执行的时间</li>

<li><samp class="codeph">stmt_id</samp> ：第三个子查询的STMT_ID</li>

<li><samp class="codeph">details</samp> ：第四个子项，包含查询计划</li>

</ul>

</li>

</ul>
</div>

</li>

<li><strong>的<samp class="codeph">statement</samp>元件：</strong>
<p>该元素只有其值。该值表示已执行查询，该查询是从SYSXPLAIN_STATEMENTS表的STMT_TEXT行检索到的。</p>

<p>例如：</p>

<pre>&lt;statement&gt;select * from my_table&lt;/statement&gt;</pre>

</li>

<li><strong>的<samp class="codeph">time</samp>元件：</strong>
<p>该元素只有其值。该值表示从SYSXPLAIN_STATEMENTS表的XPLAIN_TIME行检索到的查询执行日期和时间。</p>

<p>例如：</p>

<pre>&lt;time&gt;2010-07-13 14:27:59.405&lt;/time&gt;</pre>

</li>

<li><strong>的<samp class="codeph">stmt_id</samp>元件：</strong>
<p>该元素只有其值。该值表示从SYSXPLAIN_STATEMENTS表的STMT_ID行检索的已执行查询的语句ID。</p>

<p>例如：</p>

<pre>&lt;stmt_id&gt;9ac8804c-0129-cc31-ca9a-00000047f1e8&lt;/stmt_id&gt;</pre>

</li>

<li><strong>的<samp class="codeph">details</samp>元件：</strong>
<p>此元素包含查询计划，作为计划节点的树结构。</p>

<p>对于特定查询，只有一个根计划节点。</p>
</li>

<li><strong>一种<samp class="codeph">node</samp>元件：</strong>
<p>包含查询计划的计划节点的详细信息。该元素可以包含零个或多个相同类型的子元素（ <samp class="codeph">node</samp>元素）。</p>

<p>假定它们不为null，则此元素包含一个或多个属性。下表显示了可能的属性及其含义。</p>


<div class="tablenoborder"><table cellspacing="0" cellpadding="4" border="1" summary="This table lists and describes the attributes of the node element." frame="border" rules="all"><caption>表格1。的属性<samp class="codeph">node</samp>元件</caption>


<thead align="left">
<tr valign="bottom">
<th valign="bottom" width="30%" id="N101A5">属性名称</th>

<th valign="bottom" width="70%" id="N101AC">含义</th>

</tr>

</thead>

<tbody>
<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">name</samp></td>

<td valign="top" width="70%" headers="N101AC">计划节点的名称</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">input_rows</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_RESULTSETS系统表的INPUT_ROWS行检索</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">returned_rows</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_RESULTSETS系统表的RETURNED_ROWS行中检索</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">no_opens</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_RESULTSETS系统表的NO_OPENS行中检索</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">visited_pages</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_SCAN_PROPS系统表的NO_VISITED_PAGES行中检索</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">scan_qualifiers</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_SCAN_PROPS系统表的SCAN_QUALIFIERS行中检索</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">next_qualifiers</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_SCAN_PROPS系统表的NEXT_QUALIFIERS行中检索</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">scanned_object</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_SCAN_PROPS系统表的SCAN_OBJECT_NAME行中检索</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">scan_type</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_SCAN_PROPS系统表的SCAN_TYPE行中检索</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">sort_type</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_SORT_PROPS系统表的SORT_TYPE行中检索</td>

</tr>

<tr>
<td valign="top" width="30%" headers="N101A5"><samp class="codeph">sorter_output</samp></td>

<td valign="top" width="70%" headers="N101AC">从SYSXPLAIN_SORT_PROPS系统表的NO_OUTPUT_ROWS行中检索</td>

</tr>

</tbody>

</table>
</div>
 
<p>例如：</p>

<pre>&lt;node name="TABLESCAN" returned_rows="100000" no_opens="1"
visited_pages="2165" scan_qualifiers="None" scanned_object="USERS" 
scan_type="HEAP"&gt;</pre>

</li>

</ul>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="ctoolsplanexp.html" title="使用PlanExporter工具导出查询计划数据以进行进一步分析。">PlanExporter</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="ctoolsusingplanexp.html" title="在运行PlanExporter工具之前，请确保您的类路径包含Derby jar文件，包括derbytools.jar /。">使用PlanExporter</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rtoolsplanexpexamples.html" title="本示例显示了使用PlanExporter工具必须遵循的步骤。">PlanExporter示例</a></div>
</div>
</div>



</body></html>