<html lang="en-us"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"><!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="Get Cursor command">
<meta name="abstract" content="The Get Cursor command creates a cursor with the name of the specified Identifier by issuing a java.sql.Statement.executeQuery request on the value of the specified String.">
<meta name="description" content="The Get Cursor command creates a cursor with the name of the specified Identifier by issuing a java.sql.Statement.executeQuery request on the value of the specified String.">
<meta name="DC.subject" content="Get Cursor command, Cursors, working with">
<meta name="keywords" content="Get Cursor command, Cursors, working with">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref25570.html">
<meta name="DC.Relation" scheme="URI" content="ctoolsijcomref23268.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref94092.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref11943.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref37862.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref25753.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref79286.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref24423.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref31510.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref22318.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomrefdescribe.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref20382.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref39042.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref18077.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref30679.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref33358.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref61708.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref62772.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref10316.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomrefhold.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref53869.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref88554.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref12281.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref11128.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomrefnohold.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref12333.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref44032.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref27997.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref61092.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref97975.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref33373.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref12297.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref28886.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref39198.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomrefshow.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref17631.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref16653.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref40155.html">
<meta name="DC.Relation" scheme="URI" content="rtoolsijcomref34110.html">
<meta name="DC.Relation" scheme="URI" content="ctoolsijcomref18998.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rtoolsijcomref36618">
<meta name="DC.Language" content="en-us">
<link href="commonltr.css" type="text/css" rel="stylesheet">
<title>获取光标命令</title>
</head>
<body id="rtoolsijcomref36618" ><a name="rtoolsijcomref36618"><!-- --></a>


<h1 class="topictitle1">获取光标命令</h1>


<div><p>的<samp class="codeph">Get Cursor</samp>该命令通过发出<em>java.sql创建具有指定<em>标识符</em>名称的游标<em>。对指定<em>String</em>的值的Statement.executeQuery</em>请求。</em></p><em>

<div class="section">
<p>如果<em>String</em>是不生成结果集的语句，则基础数据库的行为将确定是否发出空结果集或错误。如果执行该语句时出错，则不会创建任何游标。</p>

<p><samp class="codeph">ij</samp>使用<em>java.sql设置游标名称<em>。Statement.setCursorName</em>请求。有关重复的游标名称的行为由基础数据库控制。
<span>Derby</span>不允许多个具有相同名称的打开游标。</em></p><em>

<p>创建游标后，您可以使用<samp class="codeph">ij</samp>的<samp class="codeph"><a href="rtoolsijcomref11128.html">Next</a></samp>和<samp class="codeph"><a href="rtoolsijcomref24423.html">Close</a></samp>命令以逐步浏览其行，以及（如果连接支持定位的更新和删除命令）以更改行。</p>

</em></div><em>

<div class="section"><h2 class="sectiontitle">句法</h2>
<pre><strong>GET [ WITH { HOLD | NOHOLD } ] CURSOR <em><a href="rtoolsijcomref40155.html">Identifier</a></em> AS <em><a href="rtoolsijcomref34110.html">String</a></em></strong></pre>

<p><samp class="codeph">WITH HOLD</samp>是游标的默认属性。对于不可保留的游标，请使用<samp class="codeph">WITH NOHOLD</samp>选项。</p>

</div>

<div class="example"><h2 class="sectiontitle">例子</h2>
<pre>ij&gt; -- autocommit needs to be off so that the positioned update
ij&gt; -- can see the cursor it operates against. 
ij&gt; <strong>autocommit off;</strong>
ij&gt; <strong>get cursor menuCursor as
'SELECT * FROM menu FOR UPDATE OF price';</strong>
ij&gt; <strong>next menuCursor;</strong>
COURSE    |ITEM                |PRICE          
-----------------------------------------------
entree    |lamb chop           |14             
ij&gt; <strong>next menuCursor;</strong>
COURSE    |ITEM                |PRICE          
-----------------------------------------------
dessert   |creme brulee        |6              
ij&gt; <strong>UPDATE menu SET price=price+1 WHERE CURRENT OF menuCursor;</strong>
1 row inserted/updated/deleted
ij&gt;<strong> next menuCursor;</strong>
COURSE    |ITEM                |PRICE          
-----------------------------------------------
appetizer |baby greens salad   |7              
ij&gt;<strong> close menuCursor;</strong>
ij&gt;<strong> commit;</strong>
ij&gt;</pre>

<pre>ij&gt; <strong>connect 'jdbc:derby:memory:dummy;create=true;user=john'
    as john_conn;</strong>
ij&gt; <strong>create table john_tbl(c int);</strong>
0 rows inserted/updated/deleted
ij&gt; <strong>insert into john_tbl values(1),(2),(3);</strong>
3 rows inserted/updated/deleted
ij&gt; <strong>connect 'jdbc:derby:memory:dummy;user=fred' as fred_conn;</strong>
ij(FRED_CONN)&gt; <strong>get cursor john_cursor@john_conn
    as 'select * from john_tbl';</strong>
ij(FRED_CONN)&gt; <strong>next john_cursor@john_conn;</strong>
C          
-----------
1          
ij(FRED_CONN)&gt; <strong>next john_cursor@john_conn;</strong>
C          
-----------
2          
ij(FRED_CONN)&gt; <strong>next john_cursor@john_conn;</strong>
C          
-----------
3          
ij(FRED_CONN)&gt; <strong>next john_cursor@john_conn;</strong>
No current row
ij(FRED_CONN)&gt; <strong>close john_cursor@john_conn;</strong>
ij(FRED_CONN)&gt; <strong>disconnect all;</strong>
ij&gt;
</pre>

</div>
</em></em></div><em><em>
<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="rtoolsijcomref25570.html" title="本节介绍ij工具中的命令和错误。">ij命令和错误参考</a></div>
</div>
<div class="relconcepts"><strong>相关概念</strong><br>
<div><a href="ctoolsijcomref23268.html" title="ij接受几个命令来控制其对JDBC的使用。">ij命令</a></div>
<div><a href="ctoolsijcomref18998.html" title="ij可能会发出消息，以在处理语句期间通知用户错误。">ij错误</a></div>
</div>
<div class="relref"><strong>相关参考</strong><br>
<div><a href="rtoolsijcomref94092.html" title="Absolute命令将光标移动到int参数指定的行，然后获取该行。">绝对命令</a></div>
<div><a href="rtoolsijcomref11943.html" title="“最后一个之后”命令将光标移动到最后一行之后，然后获取该行。">在最后一条命令之后</a></div>
<div><a href="rtoolsijcomref37862.html" title="Async命令使您可以在单独的线程中执行SQL语句。">异步命令</a></div>
<div><a href="rtoolsijcomref25753.html" title="自动提交命令可以打开或关闭连接的自动提交模式。">自动提交命令</a></div>
<div><a href="rtoolsijcomref79286.html" title="“先入先出”命令将光标移动到第一行之前，然后获取该行。">在第一个命令之前</a></div>
<div><a href="rtoolsijcomref24423.html" title="“关闭”命令关闭命名的游标。">关闭命令</a></div>
<div><a href="rtoolsijcomref31510.html" title="提交命令发出一个java.sql。Connection.commit请求。">提交命令</a></div>
<div><a href="rtoolsijcomref22318.html" title="Connect命令连接到由ConnectionURLString参数指示的数据库。">连接命令</a></div>
<div><a href="rtoolsijcomrefdescribe.html" title="Describe命令提供对指定表或视图的解密。">描述命令</a></div>
<div><a href="rtoolsijcomref20382.html" title="“断开连接”命令从数据库断开连接。">断开命令</a></div>
<div><a href="rtoolsijcomref39042.html" title="Driver命令采用DriverNameString参数的值，并发出Class.forName请求以加载命名的类。">驱动命令</a></div>
<div><a href="rtoolsijcomref18077.html" title="如果将Elapsedtime命令设置为ON，则显示语句执行期间经过的总时间。">经过时间命令</a></div>
<div><a href="rtoolsijcomref30679.html" title="Execute命令执行一个SQL语句或一个命名的Prepared语句。">执行命令</a></div>
<div><a href="rtoolsijcomref33358.html" title="Exit命令使ij应用程序完成并停止处理。">退出指令</a></div>
<div><a href="rtoolsijcomref61708.html" title="First命令将光标移动到ResultSet中的第一行，然后获取该行。">第一条命令</a></div>
<div><a href="rtoolsijcomref62772.html" title="“获取滚动不敏感游标”命令将使用指定标识符的名称创建可滚动不敏感游标。">获取滚动不敏感光标命令</a></div>
<div><a href="rtoolsijcomref10316.html" title="帮助命令将打印出ij命令的简短列表。">帮助命令</a></div>
<div><a href="rtoolsijcomrefhold.html" title="HoldForConnection命令将连接的默认可保留性设置为默认ResultSet。HOLD_CURSORS_OVER_COMMIT。">HoldForConnection命令</a></div>
<div><a href="rtoolsijcomref53869.html" title="Last命令将光标移动到ResultSet中的最后一行，然后获取该行。">最后命令</a></div>
<div><a href="rtoolsijcomref88554.html" title="LocalizedDisplay命令指定ij应该以ij语言环境的本机格式显示对语言环境敏感的数据（例如日期）。">LocalizedDisplay命令</a></div>
<div><a href="rtoolsijcomref12281.html" title="MaximumDisplayWidth命令将列的最大显示宽度设置为指定值。">MaximumDisplayWidth命令</a></div>
<div><a href="rtoolsijcomref11128.html" title="Next命令从指定的命名游标中获取下一行。">下一条命令</a></div>
<div><a href="rtoolsijcomrefnohold.html" title="NoHoldForConnection命令更改ResultSet中连接的默认可保留性。HOLD_CURSORS_OVER_COMMIT到ResultSet。CLOSE_CURSORS_AT_COMMIT。">NoHoldForConnection命令</a></div>
<div><a href="rtoolsijcomref12333.html" title="Prepare命令创建一个java.sql。使用指定字符串的值的PreparedStatement，可通过为其指定的标识符在ij中访问。">准备命令</a></div>
<div><a href="rtoolsijcomref44032.html" title="Previous命令将光标移动到当前光标之前的行，然后获取该行。">上一条命令</a></div>
<div><a href="rtoolsijcomref27997.html" title="Protocol命令指定用于建立连接的协议，并自动加载适当的驱动程序。">协议命令</a></div>
<div><a href="rtoolsijcomref61092.html" title="Readonly命令将当前连接设置为" read-onl="=" ="">只读命令</a></div>
<div><a href="rtoolsijcomref97975.html" title="相对命令将光标移动到相对于当前行为指定行数的行，然后获取该行。">相对命令</a></div>
<div><a href="rtoolsijcomref33373.html" title="Remove命令从ij中删除先前准备的语句。">删除命令</a></div>
<div><a href="rtoolsijcomref12297.html" title="Rollback命令发出一个java.sql。Connection.rollback请求。">回滚命令</a></div>
<div><a href="rtoolsijcomref28886.html" title="“运行”命令将ij处理重定向为从指定文件读取。">运行命令</a></div>
<div><a href="rtoolsijcomref39198.html" title="“设置连接”命令指定当打开多个连接时要使哪个连接成为当前连接。">设置连接命令</a></div>
<div><a href="rtoolsijcomrefshow.html" title="Show命令显示有关活动连接和数据库对象的信息。">显示命令</a></div>
<div><a href="rtoolsijcomref17631.html" title="Wait For命令显示先前启动的异步命令的结果。">等待命令</a></div>
<div><a href="rtoolsijcomref16653.html" title="ij在命令中接受两种形式的注释。">ij命令中注释的语法</a></div>
<div><a href="rtoolsijcomref40155.html" title="一些ij命令需要标识符参数。">ij命令中标识符的语法</a></div>
<div><a href="rtoolsijcomref34110.html" title="一些ij命令需要字符串参数。">ij命令中字符串的语法</a></div>
</div>
</div>



</em></em></body></html>