<html lang="zh-Hans"  xml:lang="en"><head>
		<meta charset="UTF-8">
		<title>Apache HBase – Apache HBase（TM）指标</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<meta http-equiv="content-language" content="en">

		<link href="asset?aid=6" rel="stylesheet">
		<link href="asset?aid=7" rel="stylesheet">
		<link href="./css/bootswatch.css" rel="stylesheet">
		<link href="./css/reflow-skin.css" rel="stylesheet">


		<link href="./css/lightbox.css" rel="stylesheet">

		<link href="./css/site.css" rel="stylesheet">
		<link href="./css/print.css" rel="stylesheet" media="print">

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->



	</head>

	<body class="page-metrics project-hbase"  data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Apache HBase项目<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="index.html" title="总览">总览</a></li>
									<li><a href="license.html" title="执照">执照</a></li>
									<li><a href="http://www.apache.org/dyn/closer.cgi/hbase/" title="资料下载" class="externalLink">资料下载</a></li>
									<li><a href="https://issues.apache.org/jira/browse/HBASE?report=com.atlassian.jira.plugin.system.project:changelog-panel#selectedTab=com.atlassian.jira.plugin.system.project%3Achangelog-panel" title="发行说明" class="externalLink">发行说明</a></li>
									<li><a href="issue-tracking.html" title="问题跟踪">问题跟踪</a></li>
									<li><a href="mail-lists.html" title="邮件列表">邮件列表</a></li>
									<li><a href="source-repository.html" title="源存储库">源存储库</a></li>
									<li><a href="https://reviews.apache.org" title="评审委员会" class="externalLink">评审委员会</a></li>
									<li><a href="team-list.html" title="球队">球队</a></li>
									<li><a href="sponsors.html" title="谢谢">谢谢</a></li>
									<li><a href="http://blogs.apache.org/hbase/" title="博客" class="externalLink">博客</a></li>
									<li><a href="resources.html" title="其他资源">其他资源</a></li>
								</ul>
							</li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">文献资料<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="book.html" title="参考指南" target="_blank">参考指南</a></li>
									<li><a href="apache_hbase_reference_guide.pdf" title="参考指南（PDF）" target="_blank">参考指南（PDF）</a></li>
									<li><a href="book.html#quickstart" title="入门" target="_blank">入门</a></li>
									<li><a href="apidocs/index.html" title="用户API" target="_blank">用户API</a></li>
									<li><a href="devapidocs/index.html" title="开发人员API" target="_blank">开发人员API</a></li>
									<li><a href="xref/index.html" title="参考">参考</a></li>
									<li><a href="http://abloz.com/hbase/book.html" title="中文参考指南（单页）" class="externalLink" target="_blank">中文参考指南（单页）</a></li>
									<li><a href="book.html#faq" title="常问问题" target="_blank">常问问题</a></li>
									<li><a href="book.html#other.info" title="影片/简报" target="_blank">影片/简报</a></li>
									<li><a href="http://wiki.apache.org/hadoop/Hbase" title="维基" class="externalLink" target="_blank">维基</a></li>
									<li><a href="acid-semantics.html" title="酸性语义" target="_blank">酸性语义</a></li>
									<li><a href="book.html#arch.bulk.load" title="散装" target="_blank">散装</a></li>
									<li class="active"><a title="指标" href="" target="_blank">指标</a></li>
									<li><a href="cygwin.html" title="Windows上的HBase" target="_blank">Windows上的HBase</a></li>
									<li><a href="book.html#replication" title="集群复制" target="_blank">集群复制</a></li>
									<li class="dropdown-submenu disabled">
										<a title="1.2文档">1.2文档</a>
										<ul class="dropdown-menu">
											<li><a href="1.2/apidocs/index.html" title="API" target="_blank">API</a></li>
											<li><a href="1.2/xref/index.html" title="参考" target="_blank">参考</a></li>
											<li><a href="1.2/book.html" title="参考指南（单页）" target="_blank">参考指南（单页）</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu disabled">
										<a title="1.1文档">1.1文档</a>
										<ul class="dropdown-menu">
											<li><a href="1.1/apidocs/index.html" title="API" target="_blank">API</a></li>
											<li><a href="1.1/xref/index.html" title="参考" target="_blank">参考</a></li>
											<li><a href="1.1/book.html" title="参考指南（单页）" target="_blank">参考指南（单页）</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">美国空军<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="http://www.apache.org/foundation/" title="Apache软件基金会" class="externalLink" target="_blank">Apache软件基金会</a></li>
									<li><a href="http://www.apache.org/foundation/how-it-works.html" title="Apache的工作方式" class="externalLink" target="_blank">Apache的工作方式</a></li>
									<li><a href="http://www.apache.org/foundation/sponsorship.html" title="赞助Apache" class="externalLink" target="_blank">赞助Apache</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="http://hbase.apache.org/" id="bannerLeft"><img src="images/hbase_logo.png" alt="" '=""></a>
				</div>
				<div class="pull-right">
					<a href="http://hbasecon.com/" id="bannerRight"><img src="images/hbasecon2015.30percent.png" alt="" '=""></a>
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li class="projectVersion version-date">版本：1.5.0</li>
				<li class="divider">|</li>
				<li class="publishDate version-date">上次发布时间：2019-10-08</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<!-- Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License. --> 
<div class="section"> 
 <div class="page-header">
  <h2 id="Introduction">介绍</h2>
 </div> 
 <p>Apache HBase（TM）发出Hadoop <a class="externalLink" href="http://hadoop.apache.org/core/docs/current/api/org/apache/hadoop/metrics/package-summary.html">指标</a> 。</p> 
</div> 
<div class="section"> 
 <h2 id="Setup">设定</h2> 
 <p>首先阅读Hadoop <a class="externalLink" href="http://hadoop.apache.org/core/docs/current/api/org/apache/hadoop/metrics/package-summary.html">指标</a> 。如果您正在使用神经节，则可以阅读<a class="externalLink" href="http://wiki.apache.org/hadoop/GangliaMetrics">GangliaMetrics</a> Wiki页面。</p> 
 <p>要使HBase发出度量标准，请编辑<tt>$ HBASE_HOME / conf / hadoop-metrics.properties</tt>并为每个插件启用度量标准“上下文”。在撰写本文时，hadoop支持<b>文件</b>和<b>神经节</b>插件。是的，hbase指标文件被命名为hadoop-metrics而不是<i>hbase-metrics，</i>因为当前至少hadoop metrics系统具有属性文件名硬编码。根据指标<i>上下文</i> ，注释掉NullContext并启用一个或多个插件。</p> 
 <p>如果启用<i>hbase</i>上下文，则在区域服务器上您将看到自上次度量标准发出以来的总请求数，区域和存储文件的数量以及内存存储大小的数量。在主服务器上，您将看到集群请求的计数。</p> 
 <p>如果您有兴趣查看每个hbase rpc方法调用的指标（计数和花费的时间），则启用<i>rpc</i>上下文是很好的。</p> 
 <p><i>jvm</i>上下文对于正在运行的hbase <i>jvm</i>的长期统计信息（包括已使用的内存，线程数等）很有用。在撰写本文时，如果有多个jvm正在运行发出指标，至少在神经节中，这些统计信息是聚合而不是每个实例报告。</p> 
</div> 
<div class="section"> 
 <h2 id="Using_with_JMX">与JMX一起使用</h2> 
 <p>除了Hadoop度量标准软件包支持的标准输出上下文外，您还可以通过Java管理扩展（JMX）导出HBase度量标准。这将允许在JConsole或任何其他JMX客户端中查看HBase统计信息。</p> 
 <div class="section"> 
  <h2 id="Enable_HBase_stats_collection">启用HBase统计信息收集</h2> 
  <p>要在HBase中启用JMX支持，请首先编辑<tt>$ HBASE_HOME / conf / hadoop-metrics.properties</tt>以支持指标刷新。（如果您运行的是0.94.1及更高版本，或者已经为另一个输出上下文配置了<tt>hadoop-metrics.properties</tt> ，则可以跳过此步骤）。</p> 
  <div class="source"> 
   <pre>
# Configuration of the &quot;hbase&quot; context for null
hbase.class=org.apache.hadoop.metrics.spi.NullContextWithUpdateThread
hbase.period=60

# Configuration of the &quot;jvm&quot; context for null
jvm.class=org.apache.hadoop.metrics.spi.NullContextWithUpdateThread
jvm.period=60

# Configuration of the &quot;rpc&quot; context for null
rpc.class=org.apache.hadoop.metrics.spi.NullContextWithUpdateThread
rpc.period=60
      </pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h2 id="Setup_JMX_remote_access">设置JMX远程访问</h2> 
  <p>对于远程访问，您将需要配置JMX远程密码和访问配置文件。创建文件：</p> 
  <dl> 
   <dt> 
    <tt>$ HBASE_HOME / conf / jmxremote.passwd</tt> （将权限设置为600）</dt> 
   <dd> 
    <div class="source"> 
     <pre>
monitorRole monitorpass
controlRole controlpass
        </pre> 
    </div> 
   </dd> 
   <dt> 
    <tt>$ HBASE_HOME / conf / jmxremote.access</tt> 
   </dt> 
   <dd> 
    <div class="source"> 
     <pre>
monitorRole readonly
controlRole readwrite
        </pre> 
    </div> 
   </dd> 
  </dl> 
 </div> 
 <div class="section"> 
  <h2 id="Configure_JMX_in_HBase_startup">在HBase启动中配置JMX</h2> 
  <p>最后，编辑<tt>$ HBASE_HOME / conf / hbase-env.sh</tt>脚本以添加JMX支持：</p> 
  <dl> 
   <dt> 
    <tt>$ HBASE_HOME / conf / hbase-env.sh</tt> 
   </dt> 
   <dd> 
    <p>添加行：</p> 
    <div class="source"> 
     <pre>
HBASE_JMX_OPTS=&quot;-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=false&quot;
HBASE_JMX_OPTS=&quot;$HBASE_JMX_OPTS -Dcom.sun.management.jmxremote.password.file=$HBASE_HOME/conf/jmxremote.passwd&quot;
HBASE_JMX_OPTS=&quot;$HBASE_JMX_OPTS -Dcom.sun.management.jmxremote.access.file=$HBASE_HOME/conf/jmxremote.access&quot;

export HBASE_MASTER_OPTS=&quot;$HBASE_JMX_OPTS -Dcom.sun.management.jmxremote.port=10101&quot;
export HBASE_REGIONSERVER_OPTS=&quot;$HBASE_JMX_OPTS -Dcom.sun.management.jmxremote.port=10102&quot;
        </pre> 
    </div> 
   </dd> 
  </dl> 
  <p>重新启动您要监视的进程之后，您现在应该可以运行JConsole（自JDK 5.0起包含在JDK中）以通过JMX查看统计信息。 HBase MBean在JMX的<b><tt>hadoop</tt></b>域下导出。</p> 
 </div> 
 <div class="section"> 
  <h2 id="Understanding_HBase_Metrics">了解HBase指标</h2> 
  <p>有关了解HBase指标的更多信息，请参阅《 Apache HBase参考指南》中的“ <a href="book.html#hbase_metrics">指标”部分</a> 。</p> 
 </div> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Apache HBase项目</li>
						<li>
							<a href="index.html" title="总览">总览</a>
						</li>
						<li>
							<a href="license.html" title="执照">执照</a>
						</li>
						<li>
							<a href="http://www.apache.org/dyn/closer.cgi/hbase/" title="资料下载" class="externalLink">资料下载</a>
						</li>
						<li>
							<a href="https://issues.apache.org/jira/browse/HBASE?report=com.atlassian.jira.plugin.system.project:changelog-panel#selectedTab=com.atlassian.jira.plugin.system.project%3Achangelog-panel" title="发行说明" class="externalLink">发行说明</a>
						</li>
						<li>
							<a href="issue-tracking.html" title="问题跟踪">问题跟踪</a>
						</li>
						<li>
							<a href="mail-lists.html" title="邮件列表">邮件列表</a>
						</li>
						<li>
							<a href="source-repository.html" title="源存储库">源存储库</a>
						</li>
						<li>
							<a href="https://reviews.apache.org" title="评审委员会" class="externalLink">评审委员会</a>
						</li>
						<li>
							<a href="team-list.html" title="球队">球队</a>
						</li>
						<li>
							<a href="sponsors.html" title="谢谢">谢谢</a>
						</li>
						<li>
							<a href="http://blogs.apache.org/hbase/" title="博客" class="externalLink">博客</a>
						</li>
						<li>
							<a href="resources.html" title="其他资源">其他资源</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">文献资料</li>
						<li>
							<a href="book.html" title="参考指南" target="_blank">参考指南</a>
						</li>
						<li>
							<a href="apache_hbase_reference_guide.pdf" title="参考指南（PDF）" target="_blank">参考指南（PDF）</a>
						</li>
						<li>
							<a href="book.html#quickstart" title="入门" target="_blank">入门</a>
						</li>
						<li>
							<a href="apidocs/index.html" title="用户API" target="_blank">用户API</a>
						</li>
						<li>
							<a href="devapidocs/index.html" title="开发人员API" target="_blank">开发人员API</a>
						</li>
						<li>
							<a href="xref/index.html" title="参考">参考</a>
						</li>
						<li>
							<a href="http://abloz.com/hbase/book.html" title="中文参考指南（单页）" class="externalLink" target="_blank">中文参考指南（单页）</a>
						</li>
						<li>
							<a href="book.html#faq" title="常问问题" target="_blank">常问问题</a>
						</li>
						<li>
							<a href="book.html#other.info" title="影片/简报" target="_blank">影片/简报</a>
						</li>
						<li>
							<a href="http://wiki.apache.org/hadoop/Hbase" title="维基" class="externalLink" target="_blank">维基</a>
						</li>
						<li>
							<a href="acid-semantics.html" title="酸性语义" target="_blank">酸性语义</a>
						</li>
						<li>
							<a href="book.html#arch.bulk.load" title="散装" target="_blank">散装</a>
						</li>
						<li class="active">
							<a href="#" title="指标" target="_blank">指标</a>
						</li>
						<li>
							<a href="cygwin.html" title="Windows上的HBase" target="_blank">Windows上的HBase</a>
						</li>
						<li>
							<a href="book.html#replication" title="集群复制" target="_blank">集群复制</a>
						</li>
						<li>
							<a title="1.2文档">1.2文档<i class="icon-chevron-down"></i></a>
							<ul class="nav nav-list">
						<li>
							<a href="1.2/apidocs/index.html" title="API" target="_blank">API</a>
						</li>
						<li>
							<a href="1.2/xref/index.html" title="参考" target="_blank">参考</a>
						</li>
						<li>
							<a href="1.2/book.html" title="参考指南（单页）" target="_blank">参考指南（单页）</a>
						</li>
							</ul>
						</li>
						<li>
							<a title="1.1文档">1.1文档<i class="icon-chevron-down"></i></a>
							<ul class="nav nav-list">
						<li>
							<a href="1.1/apidocs/index.html" title="API" target="_blank">API</a>
						</li>
						<li>
							<a href="1.1/xref/index.html" title="参考" target="_blank">参考</a>
						</li>
						<li>
							<a href="1.1/book.html" title="参考指南（单页）" target="_blank">参考指南（单页）</a>
						</li>
							</ul>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">美国空军</li>
						<li>
							<a href="http://www.apache.org/foundation/" title="Apache软件基金会" class="externalLink" target="_blank">Apache软件基金会</a>
						</li>
						<li>
							<a href="http://www.apache.org/foundation/how-it-works.html" title="Apache的工作方式" class="externalLink" target="_blank">Apache的工作方式</a>
						</li>
						<li>
							<a href="http://www.apache.org/foundation/sponsorship.html" title="赞助Apache" class="externalLink" target="_blank">赞助Apache</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">回到顶部</a></p>
				<p class="copyright">版权所有©2007-2019 <a href="https://www.apache.org/">Apache Software Foundation</a> 。版权所有。</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="回流Maven皮肤">回流Maven皮肤</a> （ <a href="http://andrius.velykis.lt" title="安德留斯·韦利基斯（Andrius Velykis）" target="_blank">Andrius Velykis）</a> 。</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.min.js"></script>
	<script src="./js/reflow-scroll.js"></script>

	<script src="./js/reflow-skin.js"></script>

	

</body></html>