<html lang="zh-Hans" ><head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>JUnit 5</title>
<link rel="stylesheet" href="./assets/css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left" >
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">目录</div>
<ul class="sectlevel1">
<li><a href="#_junit_5">1。JUnit 5</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_junit_5"><a class="anchor" href="#_junit_5"></a> 1。JUnit 5</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在使用JUnit5时，JUnit4下描述的许多方法和辅助类都适用，但是JUnit5在编写测试时使用一些略有不同的类注释。有关更多详细信息，请参见<a href="http://junit.org">JUnit5</a>文档。</p>
</div>
<div class="paragraph">
<p>按照正常的JUnit5准则创建测试类，如以下示例所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class MyTest {
  @Test
  void streamSum() {
    assert Stream.of(1, 2, 3).mapToInt{ i -&gt; i }.sum() &gt; 5
  }

  @RepeatedTest(value=2, name = "{displayName} {currentRepetition}/{totalRepetitions}")
  void streamSumRepeated() {
    assert Stream.of(1, 2, 3).mapToInt{i -&gt; i}.sum() == 6
  }

  private boolean isPalindrome(s) { s == s.reverse()  }

  @ParameterizedTest                                                              <i class="conum" data-value="1"></i><b>(1)</b>
  @ValueSource(strings = [ "racecar", "radar", "able was I ere I saw elba" ])
  void palindromes(String candidate) {
    assert isPalindrome(candidate)
  }

  @TestFactory
  def dynamicTestCollection() {[
    dynamicTest("Add test") { -&gt; assert 1 + 1 == 2 },
    dynamicTest("Multiply Test") { -&gt; assert 2 * 3 == 6 }
  ]}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i> <b>1个</b></td>
<td>此测试需要额外的<code>org.junit.jupiter:junit-jupiter-params</code>依赖项（如果尚未在您的项目中）。</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>您可以在IDE或构建工具中运行测试（如果它支持JUnit5并已为其配置）。如果您在GroovyConsole或通过<code>groovy</code>命令，您将看到运行测试结果的简短文本摘要：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>JUnit5 launcher: passed=8, failed=0, skipped=0, time=246ms</pre>
</div>
</div>
<div class="paragraph">
<p>有关详细信息，请访问<code>FINE</code>日志记录级别。您可以配置日志记录以显示此类信息，或通过编程方式执行以下操作：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@BeforeAll
static void init() {
  def logger = Logger.getLogger(LoggingListener.name)
  logger.level = Level.FINE
  logger.addHandler(new ConsoleHandler(level: Level.FINE))
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">版本2.5.8<br>上次更新时间2019-08-02 18:30:29 UTC</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>prettyPrint()</script>

</body></html>