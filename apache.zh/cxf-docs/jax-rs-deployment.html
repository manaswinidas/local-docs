<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - JAX-RS Deployment">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushJava.js'></script>
<script src='/resources/highlighter/scripts/shBrushXml.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-JAX-RS部署</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> > <a href="restful-services.html">RESTful服务</a> > <a href="jax-rs.html">JAX-RS</a> > <a href="jax-rs-deployment.html">JAX-RS部署</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><p> </p><p> </p><p> </p><p> </p><p> <span style="font-size:2em;font-weight:bold">JAX-RS：部署</span>


 </p><p> </p><p> </p><p> </p><p> </p><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1524513436452 {padding: 0px;}
div.rbtoc1524513436452 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1524513436452 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1524513436452">
<ul class="toc-indentation"><li><a shape="rect" href="#JAX-RSDeployment-SpringBoot">春季靴</a></li><li><a shape="rect" href="#JAX-RSDeployment-ServletContainers">Servlet容器</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAX-RSDeployment-Tomcat">雄猫</a></li></ul>
</li><li><a shape="rect" href="#JAX-RSDeployment-ApplicationServers">应用服务器</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAX-RSDeployment-Glassfish">玻璃鱼</a></li><li><a shape="rect" href="#JAX-RSDeployment-JBoss">老板</a></li><li><a shape="rect" href="#JAX-RSDeployment-WebLogic">Web逻辑</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAX-RSDeployment-SpecifyingaWebLogicspecificJSPservlet">指定特定于WebLogic的JSP Servlet</a></li><li><a shape="rect" href="#JAX-RSDeployment-CXFRuntimeDelegate">CXF RuntimeDelegate</a></li><li><a shape="rect" href="#JAX-RSDeployment-SelectingWoodstoxasthedefaultparser">选择Woodstox作为默认解析器</a></li><li><a shape="rect" href="#JAX-RSDeployment-DowngradingServletversion">降级Servlet版本</a></li><li><a shape="rect" href="#JAX-RSDeployment-Removingmyfaces-shared-impljar">删除myfaces共享的Impl Jar</a></li><li><a shape="rect" href="#JAX-RSDeployment-HowtouseCXFJAX-RS2.0ifWebLogicshipsJAX-RS1.1">如果WebLogic附带JAX-RS 1.1，如何使用CXF JAX-RS 2.0</a></li></ul>
</li><li><a shape="rect" href="#JAX-RSDeployment-Geronimo">杰罗尼莫</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAX-RSDeployment-CXFRuntimeDelegate.1">CXF RuntimeDelegate</a></li></ul>
</li></ul>
</li></ul>
</div><p>本页提供有关如何将打包为WAR归档文件或OSGI捆绑包的CXF JAX-RS应用程序部署到Java EE应用程序服务器和OSGI容器中的提示。</p><h1 id="JAX-RSDeployment-SpringBoot">春季靴</h1><p>请参阅CXF <a shape="rect" href="springboot.html">SpringBoot</a>文档。</p><p>请参阅<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/distribution/src/main/release/samples/jax_rs/jaxrs_spring_boot" rel="nofollow">JAX-RS Spring Boot</a>和<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/distribution/src/main/release/samples/jax_rs/jaxrs_spring_boot_scan" rel="nofollow">JAX-RS Spring Boot Scan</a>演示。</p><h1 id="JAX-RSDeployment-ServletContainers">Servlet容器</h1><h2 id="JAX-RSDeployment-Tomcat">雄猫</h2><p>1。系统“ org.apache.tomcat.util.buf。UDecoder。ALLOW_ENCODED_SLASH”<br clear="none">和“ org.apache.catalina.connector。土狼适配器。必须将ALLOW_BACKSLASH“属性设置为” true“，以支持包含编码的正斜杠或反斜杠的URI。<br clear="none">2。使用mod_jk时-确保JkOptions设置具有+ ForwardURICompatUnparsed设置。<br clear="none">3。Windows：如果看到包含Tomcat解码的编码空间的URI，请升级isapi_redirect.dll。</p><h1 id="JAX-RSDeployment-ApplicationServers">应用服务器</h1><h2 id="JAX-RSDeployment-Glassfish">玻璃鱼</h2><p><strong>已通过Glassfish服务器开源版本3.1.1验证</strong></p><p>1。确保在战争期间将cxf-rt-transport-http-jetty依赖关系排除在外</p><p>2。如果包含定制的JAX-RS <a shape="rect" class="external-link" href="http://jsr311.java.net/nonav/releases/1.1/index.html" rel="nofollow">应用程序</a> ，则<br clear="none">使用<a shape="rect" href="http://cxf.apache.org/docs/jaxrs-services-configuration.html#JAXRSServicesConfiguration-ConfiguringJAXRSservicesincontainerwithoutSpring">CXFNonSpringJaxrsServlet</a>来引用Application实现类，或者<br clear="none">2.1禁用Jersey扫描自定义Web应用程序。设置以下系统属性可能会有所帮助：<br clear="none">“ -Dcom.sun.enterprise.overrideablejavaxpackages = javax.ws.rs，javax.ws.rs.core，javax.ws.rs.ext”</p><p>2.2从$ GLASSFISH_HOME / glassfish / modules中删除jersey-gf-server.jar</p><h2 id="JAX-RSDeployment-JBoss">老板</h2><p><strong>已通过JBoss AS 7.1.0验证。CR1b</strong></p><p>1。如果包含定制的JAX-RS <a shape="rect" class="external-link" href="http://jsr311.java.net/nonav/releases/1.1/index.html" rel="nofollow">应用程序</a> ，则<br clear="none">使用<a shape="rect" href="http://cxf.apache.org/docs/jaxrs-services-configuration.html#JAXRSServicesConfiguration-ConfiguringJAXRSservicesincontainerwithoutSpring">CXFNonSpringJaxrsServlet</a>来引用Application实现类，或者</p><p>1.1禁用RestEasy扫描自定义Web应用程序（TODO：指定如何实际执行此操作）<br clear="none">1.2通过注释掉“ org.jboss.as.jaxrs”扩展名和“ urn：jboss：domain：jaxrs：1.0” sybsystem来修改$ JBOSS_HOME / standalone / configuration / standalone.xml。</p><p>2。JBoss默认不支持URI路径斜杠： <a shape="rect" class="external-link" href="http://securitytracker.com/id/1018110" rel="nofollow">http</a> : <a shape="rect" class="external-link" href="http://securitytracker.com/id/1018110" rel="nofollow">//securitytracker.com/id/1018110</a></p><h2 id="JAX-RSDeployment-WebLogic">Web逻辑</h2><p><strong>已通过WebLogic Server 12c（12.1.1）验证</strong></p><h3 id="JAX-RSDeployment-SpecifyingaWebLogicspecificJSPservlet">指定特定于WebLogic的JSP Servlet</h3><p>如果将CXFServlet配置为重定向到自定义JSP页面，则需要在web.xml中添加以下声明：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;servlet&gt;
 &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;
 &lt;servlet-class&gt;weblogic.servlet.JSPServlet&lt;/servlet-class&gt;
&lt;/servlet&gt; 
</pre>
</div></div><h3 id="JAX-RSDeployment-CXFRuntimeDelegate">CXF RuntimeDelegate</h3><p>在Weblogic.xml中添加一个“ prefer-application-packages”块，包括软件包“ javax.ws.rs。*”，以便在重新部署应用程序后可以看到CXF RuntimeDelegate</p><h3 id="JAX-RSDeployment-SelectingWoodstoxasthedefaultparser">选择Woodstox作为默认解析器</h3><p>WebLogic要求对专有部署描述符weblogic.xml进行以下更新：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">  &lt;container-descriptor&gt;
   &lt;!-- SNIP --&gt;
   &lt;prefer-web-inf-classes&gt;true&lt;/prefer-web-inf-classes&gt;
  &lt;/container-descriptor&gt;
</pre>
</div></div><p>这指示WebLogic的类加载器从应用程序的WEB-INF / lib目录中的JARS中首先查找服务提供者实现（在本例中为META-INF / services / javax.xml.stream。Woodstox JAR中的XMLInputFactory）而不是系统类加载器。<br clear="none">请参阅此<a shape="rect" class="external-link" href="https://forums.oracle.com/forums/message.jspa?messageID=9953045" rel="nofollow">线程</a>以获取更多信息。</p><h3 id="JAX-RSDeployment-DowngradingServletversion">降级Servlet版本</h3><p>据报道，降级web.xml中的Web应用程序描述符版本可以帮助禁用本机（泽西）扫描：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">  &lt;!-- From: --&gt;
  &lt;web-app version="3.0" xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
    http://java.sun.com/xml/ns/j2ee/web-app_3_0.xsd"&gt;
  &lt;/web-app&gt;
  &lt;!-- To: --&gt;
  &lt;web-app version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
    http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"&gt;
  &lt;/web-app&gt;</pre>
</div></div><h3 id="JAX-RSDeployment-Removingmyfaces-shared-impljar">删除myfaces共享的Impl Jar</h3><p>据报道，如果myfaces-shared-impl-4.1.0.jar放在Web应用程序的lib文件夹中，则将其删除会有所帮助，以下描述符有效：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;weblogic-web-app&gt;
  &lt;context-root&gt;/emessaging&lt;/context-root&gt;
  &lt;container-descriptor&gt;
    &lt;prefer-web-inf-classes&gt;false&lt;/prefer-web-inf-classes&gt;
	&lt;prefer-application-packages&gt;
		&lt;package-name&gt;javax.faces.*&lt;/package-name&gt;
	&lt;/prefer-application-packages&gt;	
  &lt;/container-descriptor&gt;

&lt;/weblogic-web-app&gt;</pre>
</div></div><p> </p><p> </p><p> </p><h3 id="JAX-RSDeployment-HowtouseCXFJAX-RS2.0ifWebLogicshipsJAX-RS1.1">如果WebLogic附带JAX-RS 1.1，如何使用CXF JAX-RS 2.0</h3><p>请看下面的电子邮件<a shape="rect" class="external-link" href="http://cxf.547215.n5.nabble.com/jaxrs-cxf-deployment-issues-on-weblogic-12c-tp5742398p5756013.html" rel="nofollow">消息</a> 。</p><h2 id="JAX-RSDeployment-Geronimo">杰罗尼莫</h2><h3 id="JAX-RSDeployment-CXFRuntimeDelegate.1">CXF RuntimeDelegate</h3><p>据报道，在Geronimo中重新部署了应用程序后，CXF RuntimeDelegate可能不可见。很有可能需要配置Geronimo类似于WebLogic解决相同问题的方式（请参阅上面的相关部分），TODO：一旦知道实际细节，就更新该部分。</p></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=27834980">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=27834980&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>