<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - Configuration">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushJava.js'></script>
<script src='/resources/highlighter/scripts/shBrushXml.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-配置</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> > <a href="configuration.html">配置</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h1 id="Configuration-Configuration">组态</h1><h2 id="Configuration-Subpages">子页面</h2><p></p><ul class="childpages-macro"><li><a shape="rect" href="bus-configuration.html">总线配置</a></li><li><a shape="rect" href="featureslist.html">功能列表</a></li><li><a shape="rect" href="jmx-management.html">JMX管理</a></li><li><a shape="rect" href="wsaconfiguration.html">WSA配置</a></li><li><a shape="rect" href="wspconfiguration.html">WSP配置</a></li><li><a shape="rect" href="wsrmconfiguration.html">WSRM配置</a></li></ul><h2 id="Configuration-SupplyingaConfigurationfiletoCXF">向CXF提供配置文件</h2><p>CXF可以发现您编写的XML配置文件。对于Web服务客户端和服务器，CXF将为其寻找配置的默认位置是类路径上的“ /cxf.xml”。例如，在servlet容器中运行应用程序时，该文件应该位于Web应用程序的/ WEB-INF / classes文件夹中。</p><p>如果要覆盖此位置，则可以指定命令行属性：-Dcxf.config.file = some_other_config.xml。该自定义配置文件也应位于类路径上。</p><p>要将URL用作配置位置，请指定如下：-Dcxf.config.file.url = config_file_url。</p><p>CXF配置文件实际上是<a shape="rect" class="external-link" href="http://springframework.org" rel="nofollow">Spring</a>配置文件，因此所有配置文件都将从以下内容开始：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"&gt;

&lt;!-- Configuration goes here! --&gt;

&lt;/beans&gt;
</pre>
</div></div><p>如果您不熟悉Spring，或者不想了解更多有关Spring的知识，请不用担心，您不必这样做。您将看到的Spring的唯一片段是<beans>上面概述的<beans>元素。只需创建此文件，将其放在您的类路径上，然后添加要配置的组件的配置即可（见下文）。请注意，从CXF 2.6.0开始，Maven用户将需要添加以下依赖项才能读取cxf.xml文件：</beans></beans></p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;dependency&gt;
   &lt;groupId&gt;org.springframework&lt;/groupId&gt;
   &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
   &lt;version&gt;3.0.6.RELEASE&lt;/version&gt;  (or most recent supported)
&lt;/dependency&gt;
</pre>
</div></div><h2 id="Configuration-TypesofConfigurationfiles">配置文件类型</h2><h3 id="Configuration-Clientconfigurationfile">客户端配置文件</h3><p>在Web服务客户端的类路径中放置cxf.xml文件（或上面配置的其他名称的文件）可用于配置特定于客户端的功能。例如，以下客户端cxf.xml文件关闭请求和响应中特定服务的<a shape="rect" class="external-link" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.4" rel="nofollow">分块传输编码</a> ：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:http-conf="http://cxf.apache.org/transports/http/configuration"
       xsi:schemaLocation="http://cxf.apache.org/transports/http/configuration
           http://cxf.apache.org/schemas/configuration/http-conf.xsd
           http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;

  &lt;http-conf:conduit 
           name="{urn:ebay:apis:eBLBaseComponents}Shopping.http-conduit"&gt;
      &lt;http-conf:client AllowChunking="false"/&gt;
  &lt;/http-conf:conduit&gt;
&lt;/beans&gt;
</pre>
</div></div><h3 id="Configuration-Serverconfigurationfiles">服务器配置文件</h3><p>通常，Web服务的类路径中的cxf.xml文件主要用于配置CXF总线，该对象用于创建所有服务和端点。端点配置主要通过WEB-INF / cxf-servlet.xml文件或由Web应用程序部署描述符指定的Spring应用程序上下文文件（web.xml文件）完成。cxf-servlet.xml文件要慢一些，因为它为端点加载了所有可能的CXF模块。 Spring应用程序上下文方法更快，因为它允许您指定需要哪些CXF模块。</p><p>对于通过cxf-servlet.xml文件进行的示例配置，我们的<a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/cxf/trunk/systests/transports/src/test/java/org/apache/cxf/systest/servlet/">系统测试</a>有一个<a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/cxf/trunk/systests/transports/src/test/java/org/apache/cxf/systest/servlet/cxf-servlet.xml?view=markup">cxf-servlet.xml文件</a> ，该<a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/cxf/trunk/systests/transports/src/test/java/org/apache/cxf/systest/servlet/cxf-servlet.xml?view=markup">文件</a>在<a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/cxf/trunk/systests/transports/src/test/java/org/apache/cxf/systest/servlet/web-external.xml?view=markup">web.xml</a>部署描述符的init-param元素中明确引用。（请注意，如果使用文件名“ cxf-servlet.xml”，则不必使用<strong>init-param</strong>元素；这是CXF用于查找此类文件的默认名称。）</p><p>有关使用Spring应用程序上下文文件进行端点配置的示例，请参阅我们的<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/distribution/src/main/release/samples/java_first_spring_support/" rel="nofollow">Java First Spring Support</a>示例。您可以看到web.xml部署描述符如何通过<strong>context-param</strong>元素（和ContextLoaderListener对象）显式引用bean.xml应用程序上下文文件。应用程序上下文文件还手动导入它需要的三个cxf模块。</p><h1 id="Configuration-WhatcanIconfigureandhowdoIdoit?">我可以配置什么，怎么做？</h1><p>如果您想更改CXF的默认行为，启用特定功能或微调组件的行为，则在大多数情况下，只需提供Spring配置文件，而无需编写任何代码即可。<br clear="none">在某些情况下，还可以通过扩展wsdl契约来达到相同的目的：可以将特定于CXF的扩展元素添加到wsdl：port元素中，并以此方式微调指定传输的行为。或者，您可以使用WS-Policy来表示您的应用程序使用WS-Addressing的事实。</p><p>但是，使用Spring配置文件是实现特定目标的最通用方法：您可以使用它来</p><ol><li>通过称为功能的简单构造启用功能。</li><li>通过使用普通Spring bean元素或更方便地使用CXF自定义bean元素引用这些运行时组件来设置运行时组件的属性。</li><li>修改运行时的实际组成（更改运行时的连接方式）。</li></ol><p>以下示例显示了如果要启用入站和出站消息及故障的日志记录，Spring配置的外观。</p><p><strong>使用普通Spring bean元素启用消息记录</strong></p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>强烈建议不要使用这种格式，因为它将配置与内部CXF类名（例如SpringBus）联系起来。最好使用下面描述的cxf：bus元素</p></div></div><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"&gt;

    &lt;bean id="logInbound" class="org.apache.cxf.interceptor.LoggingInInterceptor"/&gt;
    &lt;bean id="logOutbound" class="org.apache.cxf.interceptor.LoggingOutInterceptor"/&gt;
	
    &lt;bean id="cxf" class="org.apache.cxf.bus.spring.SpringBus"&gt;
        &lt;property name="inInterceptors"&gt;
            &lt;list&gt;
                &lt;ref bean="logInbound"/&gt;
            &lt;/list&gt;
        &lt;/property&gt;
        &lt;property name="outInterceptors"&gt;
            &lt;list&gt;
                &lt;ref bean="logOutbound"/&gt;
            &lt;/list&gt;
        &lt;/property&gt;
        &lt;property name="outFaultInterceptors"&gt;
            &lt;list&gt;
                &lt;ref bean="logOutbound"/&gt;
            &lt;/list&gt;
        &lt;/property&gt;
        &lt;property name="inFaultInterceptors"&gt;
            &lt;list&gt;
                &lt;ref bean="logInbound"/&gt;
            &lt;/list&gt;
        &lt;/property&gt;
    &lt;/bean&gt; 
&lt;/beans&gt;
</pre>
</div></div><p>在此示例中，您指定CXF总线是由org.apache.cxf.bus.spring类实现的。SpringBus，其ID为“ cxf”。这是默认设置，但是如果您想让总线将日志记录拦截器贡献给所有客户端和服务器端点的出站和入站拦截器链，则必须再次重申这一事实。您可以使用下一种配置形式来避免这种重复：</p><p><strong>使用自定义CXF bean元素启用消息记录</strong></p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:cxf="http://cxf.apache.org/core"
      xsi:schemaLocation="
http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"&gt;

    &lt;bean id="logInbound" class="org.apache.cxf.interceptor.LoggingInInterceptor"/&gt;
    &lt;bean id="logOutbound" class="org.apache.cxf.interceptor.LoggingOutInterceptor"/&gt;

    &lt;cxf:bus&gt;
        &lt;cxf:inInterceptors&gt;
            &lt;ref bean="logInbound"/&gt;
        &lt;/cxf:inInterceptors&gt;
        &lt;cxf:outInterceptors&gt;
            &lt;ref bean="logOutbound"/&gt;
        &lt;/cxf:outInterceptors&gt;
        &lt;cxf:outFaultInterceptors&gt;
            &lt;ref bean="logOutbound"/&gt;
        &lt;/cxf:outFaultInterceptors&gt;
        &lt;cxf:inFaultInterceptors&gt;
            &lt;ref bean="logInbound"/&gt;
        &lt;/cxf:inFaultInterceptors&gt;
    &lt;/cxf:bus&gt; 
&lt;/beans&gt;
</pre>
</div></div><p>在这里，无需指定总线的实现类，也无需指定inInterceptors，outInterceptors，outFaultInterceptors和inFaultInterceptors子元素属于列表的事实。所有这些信息都嵌入在为<cxf:bus>元素调用的基础架构和bean定义解析器中<cxf:bus>。注意，您必须在<beans>元素的schemaLocation属性中指定此模式的位置， <beans>以便Spring可以验证配置文件。但是在下一个示例中，它变得更加简单：</beans></beans></cxf:bus></cxf:bus></p><p><strong>使用日志记录功能启用消息日志记录</strong></p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:cxf="http://cxf.apache.org/core"
      xsi:schemaLocation="
http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"&gt;

    &lt;cxf:bus&gt;
        &lt;cxf:features&gt;
            &lt;cxf:logging/&gt;
        &lt;/cxf:features&gt;
    &lt;/cxf:bus&gt; 
&lt;/beans&gt;
</pre>
</div></div><p>以下各节说明了您可以用来启用和/或配置CXF中各种组件的上述机制（功能，自定义CXF Bean或普通Spring Bean；或者其他诸如wsdl扩展器或策略声明）。选项是：</p><ul><li><a shape="rect" href="bus-configuration.html">总线</a></li><li><a shape="rect" href="jax-ws-configuration.html">JAX-WS配置</a></li><li>HTTP <a shape="rect" href="client-http-transport-including-ssl-support.html">客户端</a>和<a shape="rect" href="standalone-http-transport.html">服务器</a></li><li><a shape="rect" href="jms-transport.html">JMS传输</a></li><li>肥皂结合</li><li>XML绑定</li><li><a shape="rect" href="wsaconfiguration.html">WS寻址</a></li><li><a shape="rect" href="wsrmconfiguration.html">WS可靠消息传递</a></li><li><a shape="rect" href="wspconfiguration.html">WS-政策框架</a></li></ul><p>有关可用功能的列表，请参见<a shape="rect" href="featureslist.html">此处</a> 。</p><h2 id="Configuration-AdvancedConfiguration">进阶设定</h2><p>如果要编写自己的CXF组件，请参阅<a shape="rect" href="configuration-for-developers.html">“开发人员配置”</a>页面。</p></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=46346">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=46346&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>