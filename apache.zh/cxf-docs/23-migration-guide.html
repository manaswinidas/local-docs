<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - 2.3 Migration Guide">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushJava.js'></script>
<script src='/resources/highlighter/scripts/shBrushBash.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-2.3迁移指南</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">指数</a> > <a href="how-tos.html">入门指南</a> > <a href="migration-guides.html">迁移指南</a> > <a href="23-migration-guide.html">2.3迁移指南</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h2 id="id-2.3MigrationGuide-Newfeatures">新的功能</h2>
<ul><li>Java首次使用案例的新注释<ul><li><a shape="rect" href="annotations.html">@WSDLDocumentation</a>批注将文档节点添加到生成的wsdl中</li><li><a shape="rect" href="annotations.html">@SchemaValidation</a>批注打开模式验证</li><li><a shape="rect" href="annotations.html">@DataBinding</a>设置使用的数据绑定（如果不是JAXB）</li><li><a shape="rect" href="annotations.html">@GZIP</a>打开GZIP压缩</li><li><a shape="rect" href="annotations.html">@FastInfoset</a>打开FastInfoset支持</li><li><a shape="rect" href="annotations.html">@Logging</a>打开并控制各种日志记录功能</li><li><a shape="rect" href="annotations.html">@EndpointProperty</a>配置端点属性</li><li><a shape="rect" href="annotations.html">@Policy</a>将WS-Policy文档与服务相关联</li></ul>
	</li><li><a shape="rect" href="soap-over-jms-10-support.html">SOAP / JMS规范实现</a></li><li><a shape="rect" href="sdo.html">SDO</a>数据绑定</li><li>JAX-WS 2.2支持（请参阅下面的运行时注释）</li><li>JAX-RS 1.1支持</li><li>如果Woodstox 4用于Stax解析器，则支持<a shape="rect" href="aegis-21.html">Aegis数据绑定的</a>模式验证</li><li><a shape="rect" href="http://cxf.apache.org/docs/jax-rs.html#JAX-RS-ATOMlogging">AtomPub发布日志事件</a></li></ul>



<h2 id="id-2.3MigrationGuide-APIchanges">API变更</h2>
<ul><li>作为清理API和在API中使用泛型的一部分，InterceptorProvider API从以下方面更改了其方法：<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">
List&lt;Interceptor&gt; getOutInterceptors();
</pre>
</div></div>至<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">
List&lt;Interceptor&lt;? extends Message&gt;&gt; getOutInterceptors();
</pre>
</div></div>尽管二进制兼容（类型擦除使原始签名相同），但它与SOURCE不兼容，因为您可能需要更新用于保存列表的变量类型。通常，只需进行相同的更改即可。加<code><? extends Message></code>拦截器的声明。</li></ul>



<h2 id="id-2.3MigrationGuide-Runtimechanges">运行时更改</h2>
<ul><li>要在Java 6中使用新的JAX-WS 2.2和JAXB 2.2功能，需要认可jaxws-api和jaxb-api jar。否则，运行时和编译器将选择内置在JDK中的2.1版本。实现此目的的两种常见方法是将它们复制到jre / lib / endorsed文件夹中，或者将-Djava.endorsed.dirs = ...添加到应用程序的命令行中，以指向包含这些jar的目录。</li></ul>


<ul><li>在2.2.x和更早版本中，mustUnderstand = true标头已发送到端点（在列表中）<header>），并且仅在完成端点处理后检查。如果端点不处理它们，则仅会产生afterUnderstand错误。对于2.3.x，必须在分发之前检查mustUnderstand = true标头。如果端点要求传入的mustUnderstand标头，则必须对其进行配置，以便运行时知道允许它们通过。为此，添加一个名为“ endpoint-processes-headers”的终结点属性，该属性可以是要传递的标头的qname的字符串，也可以是要传递的标头的qname的字符串的集合。您也可以使用上面列出的@EndpointPropery批注来控制它。</header></li></ul>


<ul><li>SOAP / JMS-CXF现在支持<a shape="rect" class="external-link" href="http://www.w3.org/TR/2009/CR-soapjms-20090604/" rel="nofollow">w3c SOAP / JMS规范</a> 。现有的SOAP / JMS内容应继续工作，但鼓励用户开始使用标准配置。</li></ul>


<ul><li>提供者<source>和派遣<source> -当指定通用的“源”类型时，CXF现在提供流式SAXSource对象。以前，CXF会将整个消息加载到DOM中并提供DOMSource。期望DOMSource的应用程序将需要更新以接受SAXSource或提供配置以强制使用DOMSource。现在，端点“ source-preferred-format”的配置属性可以设置为：<ul><li>“ dom”-> DOMSource</li><li>“ sax”-> SAXSource（cxf StaxSource）</li><li>“流”-> StreamSource</li><li>“ cxf.stax”-> StaxSource</li><li>“ stax”-> javax.xml.transform.stax。如果可用，则为StAXSource，否则为StaxSource</li></ul>
	</li></ul>


<ul><li>宙斯盾<ul><li>现在，根类的集合的类型为Set <java.lang.reflect.type>以允许泛型。</java.lang.reflect.type></li><li>将Type类重命名为AegisType，以减少与java.lang.reflect的混淆和冲突。类型。</li></ul>
	</li></ul>



<h3 id="id-2.3MigrationGuide-Mavenchanges">Maven的变化</h3>
<ul><li>XJC实用程序已从主版本中撤出，并进入了一个单独的子项目。从现在开始，它们将与CXF的其余部分独立发行，并将拥有自己的版本号。它们也被移到一个通用的“ org.apache.cxf.xjcplugins” groupId中。</li></ul></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=2329656">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=2329656&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>