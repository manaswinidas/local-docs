<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - JAXRS Services Description">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushJava.js'></script>
<script src='/resources/highlighter/scripts/shBrushXml.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-JAXRS服务描述</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> > <a href="restful-services.html">RESTful服务</a> > <a href="jax-rs.html">JAX-RS</a> > <a href="jaxrs-services-description.html">JAXRS服务描述</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><p><span style="font-size:2em;font-weight:bold">JAX-RS服务描述</span>


 </p><p> </p><p> </p><p> </p><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1524513397484 {padding: 0px;}
div.rbtoc1524513397484 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1524513397484 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1524513397484">
<ul class="toc-indentation"><li><a shape="rect" href="#JAXRSServicesDescription-Swagger">昂首阔步</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAXRSServicesDescription-Swagger-FirstDevelopment">昂首阔步的发展</a></li><li><a shape="rect" href="#JAXRSServicesDescription-SwaggerAutoGeneration">昂首阔步的自动生成</a></li></ul>
</li><li><a shape="rect" href="#JAXRSServicesDescription-WADL">瓦德</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAXRSServicesDescription-Overview">总览</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAXRSServicesDescription-Basicexample">基本例子</a></li><li><a shape="rect" href="#JAXRSServicesDescription-WADLwithreferences">WADL与参考</a></li><li><a shape="rect" href="#JAXRSServicesDescription-SharingdeclarationsbetweenmultipleWADLs">在多个WADL之间共享声明</a></li></ul>
</li><li><a shape="rect" href="#JAXRSServicesDescription-WADL-firstDevelopment">WADL优先开发</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAXRSServicesDescription-wadl2javacommandlinetool">wadl2java命令行工具</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAXRSServicesDescription-JAXBcustomizations">JAXB定制</a></li></ul>
</li><li><a shape="rect" href="#JAXRSServicesDescription-wadl2javaMavenplugin">wadl2java Maven插件</a></li><li><a shape="rect" href="#JAXRSServicesDescription-Integration">积分</a></li><li><a shape="rect" href="#JAXRSServicesDescription-ExternalWADLdocumentsandJAXRSendpoints.">外部WADL文档和JAXRS端点。</a></li></ul>
</li><li><a shape="rect" href="#JAXRSServicesDescription-WADLAutoGenerationatRuntime">运行时WADL自动生成</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAXRSServicesDescription-DocumentingresourceclassesandmethodsingeneratedWADL">在生成的WADL中记录资源类和方法</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAXRSServicesDescription-SupportforJavadoc">对Javadoc的支持</a></li></ul>
</li><li><a shape="rect" href="#JAXRSServicesDescription-CustomizingWADLGeneration">定制WADL生成</a>
<ul class="toc-indentation"><li><a shape="rect" href="#JAXRSServicesDescription-RepresentingexplicitJAXBcollections">表示显式的JAXB集合</a></li><li><a shape="rect" href="#JAXRSServicesDescription-RepresentingexternalschemasandnonJAXBtypes">表示外部模式和非JAXB类型</a></li><li><a shape="rect" href="#JAXRSServicesDescription-Changingthebaseaddress">更改基地址</a></li></ul>
</li></ul>
</li><li><a shape="rect" href="#JAXRSServicesDescription-java2wadlMavenplugin">java2wadl Maven插件</a></li><li><a shape="rect" href="#JAXRSServicesDescription-WADLTransformations">WADL转换</a></li><li><a shape="rect" href="#JAXRSServicesDescription-ServicelistingsandWADLqueries">服务清单和WADL查询</a></li><li><a shape="rect" href="#JAXRSServicesDescription-WADLinJSONformat">JSON格式的WADL</a></li></ul>
</li><li><a shape="rect" href="#JAXRSServicesDescription-HidinglinkstoJAXRSendpointsfromtheservicespage">从服务页面隐藏到JAXRS端点的链接</a></li></ul>
</div><h1 id="JAXRSServicesDescription-Swagger">昂首阔步</h1><h2 id="JAXRSServicesDescription-Swagger-FirstDevelopment">昂首阔步的发展</h2><h2 id="JAXRSServicesDescription-SwaggerAutoGeneration">昂首阔步的自动生成</h2><p>请参阅<a shape="rect" href="http://cxf.apache.org/docs/swagger2feature.html">Swagger2Feature页面</a>以获取更多信息</p><h1 id="JAXRSServicesDescription-WADL">瓦德</h1><p> </p><p>CXF JAX-RS支持（Web应用程序描述语言| http：//www.w3.org/Submission/wadl]（WADL）。<br clear="none">用户可以使用WADL文档来生成初始代码，并可以根据需要自动生成WADL。</p><h2 id="JAXRSServicesDescription-Overview">总览</h2><p>WADL是一种以资源为中心的描述语言，旨在促进建模，描述和测试<br clear="none">RESTful Web应用程序。请查看官方<a shape="rect" class="external-link" href="http://www.w3.org/Submission/wadl/" rel="nofollow">页面</a>以获取更多信息，本节简要概述了主要的WADL结构。</p><h3 id="JAXRSServicesDescription-Basicexample">基本例子</h3><p>顶级WADL文档元素称为“应用程序”。通常，它可能包含一个“语法”部分和一个带有一个或多个顶级“资源”元素的“资源”元素，每个元素代表一个特定的根资源，例如：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;application xmlns="http://wadl.dev.java.net/2009/02" xmlns:ns="http://superbooks"&gt;
 &lt;grammars&gt;
  &lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" 
        xmlns:tns="http://superbooks" attributeFormDefault="unqualified" elementFormDefault="unqualified" 
        targetNamespace="http://superbooks"&gt;
    &lt;xs:element name="thebook" type="tns:book"/&gt;
    &lt;xs:complexType name="book"&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element minOccurs="0" ref="tns:thechapter"/&gt;
            &lt;xs:element name="id" type="xs:int"/&gt;
        &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:schema&gt;
 &lt;/grammars&gt;
 &lt;resources base="http://localhost:8080/"&gt;
   &lt;resource path="/bookstore/{id}"&gt;
     &lt;param name="id" style="template"/&gt;
     &lt;method name="GET"&gt;
      &lt;response&gt;
       &lt;representation mediaType="application/xml" element="ns:thebook"/&gt;
      &lt;/response&gt;
    &lt;/method&gt;
   &lt;/resource&gt;
   &lt;resource path="/books"&gt;
      &lt;resource path="/bookstore/{id}"&gt;
        &lt;param name="id" style="template"/&gt;
        &lt;method name="GET"&gt;
          &lt;response&gt;
           &lt;representation mediaType="application/xml" element="ns:thebook"/&gt;
          &lt;/response&gt;
        &lt;/method&gt;
      &lt;/resource&gt;
   &lt;/resource&gt;
 &lt;/resources&gt;  
&lt;/application&gt;
</pre>
</div></div><p>本文档介绍了具有“ http：// localhost：8080 /”基本URI的应用程序。它可以处理GET请求，例如<br clear="none">“ http：// localhost：8080 / bookstore / 1”，“ http：// localhost：8080 / bookstore / 123”等。此外，它还可以在以下位置处理类似的GET请求<br clear="none">“ http：// localhost：8080 / books / bookstore / 1”，“ http：// localhost：8080 / books / bookstore / 123”等，请注意额外的“ books”路径段。</p><p>支持“ application / xml”媒体类型，并且响应表示元素链接到在语法部分内联的架构中声明的“ { <a shape="rect" class="external-link" href="http://superbooks" rel="nofollow">http：// superbooks</a> } thebook”元素。</p><p>请注意，“ resources”元素具有两个子“ resource”元素，一个具有“ / bookstore / {id}”路径，另一个具有“ / books”路径。</p><p>这2个资源可以表示为JAX-RS根资源。例如，可以将这些资源映射到具体的Java类，例如具有@Path（“ / bookstore / {id}”）的BookStoreRootResource和具有@Path（“ / books”）的BooksResource。BookStoreRootResource根资源将具有一个没有@Path的@GET资源方法，大概返回Book（JAXB）bean。第二个BooksResource根资源将具有一个带有@Path（“ / bookstore / {id}”）的子资源定位器，该子资源定位器将通过一个@GET资源方法返回一个子资源。</p><p>这只是上述WADL描述如何映射到JAX-RS资源和方法的一种可能解释。</p><p>还要注意，带有“ / books”路径的资源还有另一个带有“ / bookstore / {id}”路径的子资源，但是它本来可以有一个“ / books / bookstore / {id}”路径并且没有子路径资源。</p><h3 id="JAXRSServicesDescription-WADLwithreferences">WADL与参考</h3><p>上一节中的基本WADL示例显示了带有内联模式的“语法”部分，以及两次列出了“ / bookstore / {id}”路径的“资源”描述，作为“资源”的直接子代和作为带有“ / books”路径的“ resource”元素的子元素。</p><p>请注意，可以通过引用外部模式来包含内联模式。同样，大多数WADL元素声明（例如“资源”，“方法”，“表示形式”等）可以通过使用同一文档或外部引用进行共享。这是如何在参考的帮助下简化基本示例：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;application xmlns="http://wadl.dev.java.net/2009/02" xmlns:ns="http://superbooks"&gt;
 &lt;grammars&gt;
   &lt;include href="schemas/book.xsd"/&gt;
 &lt;/grammars&gt;

 &lt;resource_type id="bookResource"&gt;
     &lt;param name="id" style="template"/&gt;
     &lt;method name="GET"&gt;
       &lt;response&gt;
        &lt;representation mediaType="application/xml" element="ns:thebook"/&gt;
       &lt;/response&gt;
    &lt;/method&gt;
 &lt;/resource_type&gt;

 &lt;resources base="http://localhost:8080/"&gt;
   &lt;resource path="/bookstore/{id}" type="#bookResource"/&gt;
   &lt;resource path="/books"&gt;
      &lt;resource path="/bookstore/{id}" type="#bookResource"/&gt;

   &lt;!-- 
     or 
     &lt;resource path="/books/bookstore/{id}" type="#bookResource"/&gt;
   --&gt; 
   &lt;/resource&gt; 
 &lt;/resources&gt;  
&lt;/application&gt;
</pre>
</div></div><p>请注意，使用wadl：include元素引用了相对于此WADL文档位置位于“方案”路径中的book.xsd模式资源。抽象资源类型“ bookResource”被声明为wadl：application的直接子代，并使用“ #bookResource”引用链接到具体资源元素。</p><h3 id="JAXRSServicesDescription-SharingdeclarationsbetweenmultipleWADLs">在多个WADL之间共享声明</h3><p>WADL引用允许WADL文档仅包含抽象声明，而具体的WADL引用它们，因此可以在不同的Web应用程序描述中重用资源声明。</p><p>例如，以下baseApplication.wadl文档描述了一个抽象的“ bookResource”资源：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;application xmlns="http://wadl.dev.java.net/2009/02" xmlns:ns="http://superbooks"&gt;
 &lt;grammars&gt;
   &lt;include href="schemas/book.xsd"/&gt;
 &lt;/grammars&gt;

 &lt;resource_type id="bookResource"&gt;
     &lt;param name="id" style="template"/&gt;
     &lt;method name="GET"&gt;
       &lt;response&gt;
        &lt;representation mediaType="application/xml" element="ns:thebook"/&gt;
       &lt;/response&gt;
    &lt;/method&gt;
 &lt;/resource_type&gt;
&lt;/application&gt;
</pre>
</div></div><p>并且此WADL文档通过使用带有“ baseResource”片段的外部WADL引用链接到抽象资源。</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;application xmlns="http://wadl.dev.java.net/2009/02" xmlns:ns="http://superbooks"&gt;
 
 &lt;resources base="http://localhost:8080/"&gt;
   &lt;resource path="/bookstore/{id}" type="baseApplication.wadl#bookResource"/&gt;
   &lt;resource path="/books"&gt;
      &lt;resource path="/bookstore/{id}" type="baseApplication.wadl#bookResource"/&gt;
   &lt;/resource&gt; 
 &lt;/resources&gt;  
&lt;/application&gt;
</pre>
</div></div><p><strong>新增内容</strong> ：从CXF 2.5.0和2.4.4开始，所有WADL元素都可以链接到顶级本地声明，请参见此<a shape="rect" class="external-link" href="http://www.w3.org/Submission/wadl/#x3-36000A.2" rel="nofollow">示例</a> 。</p><h2 id="JAXRSServicesDescription-WADL-firstDevelopment">WADL优先开发</h2><p>CXF 2.4.1引入了wadl2java代码生成器和cxf-wadl2java-plugin Maven插件，可用于生成服务器和客户端JAX-RS代码，并加快建模和实现阶段之间的过渡。</p><p><strong>注意</strong>如果您正在从Marc Hadley启动的Java.net项目中寻找wadl2java代码生成器，请遵循此<a shape="rect" class="external-link" href="http://wadl.java.net/wadl2java.html" rel="nofollow">链接</a> 。</p><p>代码生成器期望WADL资源和方法元素具有“ id”属性集，这些属性可以提供有关如何命名生成的类和方法的提示。例如：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;application xmlns="http://wadl.dev.java.net/2009/02" xmlns:ns="http://superbooks"&gt;
 &lt;grammars&gt;
  &lt;include href="schemas/book.xsd"/&gt;
 &lt;/grammars&gt;
 &lt;resources base="http://localhost:8080/"&gt;
   &lt;resource path="/bookstore/{id}" id="org.apache.cxf.jaxrs.systest.BookStore"&gt;
     &lt;param name="id" style="template"/&gt;
     &lt;method name="GET" id="getBook"&gt;
      &lt;response&gt;
       &lt;representation mediaType="application/xml" element="ns:thebook"/&gt;
      &lt;/response&gt;
    &lt;/method&gt;
   &lt;/resource&gt;
 &lt;/resources&gt;  
&lt;/application&gt;
</pre>
</div></div><p>请注意，资源ID为“ org.apache.cxf.jaxrs.systest.BookStore”。另外，扩展的QName可以用作“ id”：<br clear="none">“ { <a shape="rect" class="external-link" href="http://systest.jaxrs.cxf.apache.org">http://systest.jaxrs.cxf.apache.org</a> } BookStore”。</p><p>仅包含单个资源的简单WADL文档不必设置“ id”属性。在这种情况下，可以使用wadltojava的“ resource”和“ -p”选项来指定与单个WADL资源元素相对应的完整根资源类名称，如果未设置这些选项，则该单个WADL资源将获得“应用。资源”根资源类生成。</p><p>请注意，从CXF 2.5.0开始，支持从包含多个没有“ id”属性的根资源的WADL文档生成代码。</p><p>如果WADL“ method”元素未设置“ id”属性，则将使用元素的“ name”属性和当前路径的组合来命名生成的类方法，例如：“ getbookid”，其中方法名称为“ GET” ，路径为“ / book / {id}”。</p><p>默认情况下，从架构生成的类将具有从给定架构目标名称空间派生的包名称。 wadltojava工具也可以自定义它。</p><h3 id="JAXRSServicesDescription-wadl2javacommandlinetool">wadl2java命令行工具</h3><p>从命令行运行wadltojava将产生：</p><div class="preformatted panel" style="border-width:1px"><div class="preformattedContent panelContent">
<pre>wadl2java -p &lt;package-name&gt; -sp &lt;[schema-namespace =]package-name&gt;* 
          -tMap &lt;schema-type = java-type&gt;* -repMap &lt;media-type = java-type&gt;*
          -resource &lt;resource-name&gt; -b &lt;binding-file-name&gt;* -catalog &lt;catalog-file-name&gt; 
          -d &lt;output-directory&gt; -compile -classdir &lt;compile-classes-directory&gt; -interface -impl 
          -noTypes -inheritResourceParams -generateEnums -supportMultipleXmlReps -javaDocs
          -generateResponseIfHeadersSet -generateResponseForMethods&lt;methodNames&gt;* -async&lt;methodNames&gt;* -xjc&lt;xjc-arguments&gt;* 
          -authentication &lt;name:password&gt; -validate -h -v -verbose -quiet &lt;wadl&gt;
</pre>
</div></div><p>注意从CXF 2.6.3开始支持'tMap'，'repMap'，'noTypes'和'inheritResourceParams'选项，从2.6.4开始，从'noVoidForEmptyResponses'-从2.6.4开始，'-async'-从2.7.1开始，'-xjc'-从2.7.4开始，</p><p>'generateResponseForMethods'和'generateResponseIfHeadersSet'-从2.7.12 / 3.0.0起，'validate'-从2.7.13 / 3.2.0 / 3.1.0起，'javaDocs'-从3.1.4起，'authentication'-从3.1起。 14 / 3.2.1</p><p>下表中列出了这些选项。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>选项</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>解释</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-?</code> ， <code>-h</code> ，<code>-help</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>显示此实用程序的联机帮助并退出。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-p PackageName</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定根资源类的软件包名称</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-sp [ schema-namespace= ] PackageName</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定一个或多个与各个模式名称空间相对应的程序包名称</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-resource RootResourceName</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>如果WADL包含单个资源，则指定根资源类的全名</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-interface</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>除非使用-impl选项，否则为默认选项-生成带有JAX-RS批注的Java接口</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-impl</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>生成起始实现代码。也可以与-interface选项一起使用</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-noTypes</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>请求不需要模式生成。也可以与-tMap选项一起使用</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-tMap schema-type=java-type</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>提供架构元素和Java类型之间的映射</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-repMap media-type=java-type</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>提供媒体类型和Java类型之间的映射</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-b binding-name</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定JAXB绑定文件。使用多个-b标志来指定多个条目。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-catalog catalog-file-name</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定目录文件以映射参考的wadl / schemas</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-d output-directory</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定将生成的代码文件写入的目录。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-compile</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>编译生成的Java文件。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-classdir compile-class-dir</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定将编译的类文件写入的目录。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-noVoidForEmptyResponses</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>对于没有响应表示的方法，生成JAX-RS响应，而不是'void'。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-inheritResourceParams</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>获取添加到所有后代资源的生成方法中的当前资源级别路径或矩阵参数。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-generateEnums</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>生成带有选项的参数的Java枚举。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-supportMultipleXmlReps</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>为单个WADL请求元素中的每个XML表示生成单独的方法。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">-javaDocs</td><td colspan="1" rowspan="1" class="confluenceTd">将WADL文档元素转换为JavaDocs</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">-generateResponseIfHeadersSet</td><td colspan="1" rowspan="1" class="confluenceTd">如果给定方法的WADL响应元素具有“标头”参数，则生成JAX-RS响应方法响应类型</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">-generateResponseForMethods方法名称</td><td colspan="1" rowspan="1" class="confluenceTd">生成JAX-RS响应方法的响应类型，methodNames是WADL方法名称或id属性的逗号分隔列表</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-async methodNames</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>将JAX-RS 2.0 AsyncResponse参数添加到生成的方法中，methodNames是WADL方法名称或id属性的逗号分隔列表</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">认证</td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定用冒号分隔的用户名和密码，以从需要身份验证的服务器中检索远程WADL内容</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>-xjc<xjc args></code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定参数的逗号分隔列表，这些参数直接传递给XJC处理器，例如-xjc-Xts。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">-验证</td><td colspan="1" rowspan="1" class="confluenceTd">根据WADL模式验证WADL文档</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><em>wadlurl</em></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>用于生成代码的WADL文件的路径和名称。</p></td></tr></tbody></table></div><p>您必须将WADL文档的绝对或相对路径指定为最后一个参数。<br clear="none">OASIS目录文件可用于帮助该工具解析引用的WADL和架构文档。</p><p>注意'tMap'选项可用于在架构元素引用和Java类型之间进行映射，并可用于自定义默认架构到Java类型的映射。例如，为了覆盖java.util的默认参数'xs：date'。日期映射可以执行'-tMap { <a shape="rect" class="external-link" href="http://www.w3.org/2001/XMLSchema" rel="nofollow">http://www.w3.org/2001/XMLSchema</a> } date = javax.xml.datatype。XMLGregorianCalendar'-这会影响“ <wadl:param type="xs:date">”声明。<br clear="none">或者，与“ -noTypes”开关结合使用，此选项可用于请求应生成自定义Java类型引用。例如，如果您更喜欢使用'javax.xml.transform。源”，用于处理给定的XML有效负载<br clear="none">'-tMap { <a shape="rect" class="external-link" href="http://book" rel="nofollow">http：// book</a> } Book = javax.xml.transform。源”，这将影响“ <wadl:representation element="ns:Book">”前缀与“ http：// book”命名空间绑定的声明。类似地，对Atom Feed元素的架构引用可以映射为Abdera Feed类。</wadl:representation></wadl:param></p><p>'repMap'选项类似，并提供给定媒体类型和Java类型的表示形式之间的映射。例如，如果必须用一种方法处理不同的XML表示形式，则可以使用类似'-repMap application / xml = javax.xml.transform的映射。来源”将起作用，从而影响诸如“<wadl:representation class="" mediatpe="application/xml"></wadl:representation></p><p>“ generateResponseForMethods”和“ async”选项接受用逗号分隔的方法名称列表，提供一个“ *”（不带引号）作为方法名称将获得影响所有生成方法的这些选项。</p><p>在某些情况下，例如描述JSON数组的示例时，您可能希望拥有在生成的架构中定义的类型的显式集合。在这种情况下，请使用-tMap或-repMap选项，并使用“ List ..”之类的值。我的风格”。</p><p> </p><h4 id="JAXRSServicesDescription-JAXBcustomizations">JAXB定制</h4><p>目前，可以将外部JAXB定制应用于WADL语法，但是还不能将给定的定制限于特定的WADL文档或显式内联架构。将绑定链接到外部模式有效，例如，可以使用以下绑定文件：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;jaxb:bindings version="2.0"
	xmlns:jaxb="http://java.sun.com/xml/ns/jaxb"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	schemaLocation="schemas/book.xsd"
	node="//xs:complexType[@name='book2']/xs:sequence/xs:element[@name='id']"&gt;
	&lt;jaxb:property name="book2Id"/&gt;
&lt;/jaxb:bindings&gt;
</pre>
</div></div><h3 id="JAXRSServicesDescription-wadl2javaMavenplugin">wadl2java Maven插件</h3><p>如果您需要在Maven构建期间生成的代码，则可以使用以下插件：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
&lt;artifactId&gt;cxf-wadl2java-plugin&lt;/artifactId&gt;
&lt;version&gt;2.4.1&lt;/version&gt;
</pre>
</div></div><p>将此插件添加到项目pom的build部分，并指定一个“ wadl2java”目标，例如：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
                &lt;artifactId&gt;cxf-wadl2java-plugin&lt;/artifactId&gt;
                &lt;version&gt;2.4.1&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;generate-sources&lt;/id&gt;
                        &lt;phase&gt;generate-sources&lt;/phase&gt;
                        &lt;configuration&gt;
                            &lt;sourceRoot&gt;${basedir}/target/generated/src/main/java&lt;/sourceRoot&gt;
                            &lt;wadlOptions&gt;
                                &lt;wadlOption&gt;
                                    &lt;wadl&gt;${basedir}/src/test/resources/wadl/bookstoreImport.xml&lt;/wadl&gt;
                                    &lt;impl&gt;true&lt;/impl&gt;
                                    
                                    &lt;packagename&gt;org.apache.cxf.systest.jaxrs.codegen.service&lt;/packagename&gt;
                                    &lt;schemaPackagenames&gt;
                                       &lt;schemaPackagename&gt;http://superbooks=org.apache.cxf.systest.jaxrs.codegen.schema&lt;/schemaPackagename&gt;
                                    &lt;/schemaPackagenames&gt;
                                    
                                &lt;/wadlOption&gt;
                            &lt;/wadlOptions&gt;
                        &lt;/configuration&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;wadl2java&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
</pre>
</div></div><p>请注意，使用插件处理大型WADL文档时，可能需要增加最小和最大内存限制，例如，在Maven选项列表中添加“ -Xms512M -Xmx1024M”。</p><p>CXF将在<sourceroot>目录中生成工件<sourceroot>。包含在<wadloption>元素</wadloption>内的配置参数<wadloption>用于将参数传递给工具，并与wadltojava部分中概述的选项相对应，它们可以像上面一样显式指定，或使用“额外参数”包装器进行指定，例如：</wadloption></sourceroot></sourceroot></p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;wadlOptions&gt;
	&lt;wadlOption&gt;
		&lt;wadl&gt;$\{basedir}/src/main/wadl/bookStore.wadl&lt;/wsdl&gt;
                &lt;extraargs&gt;
                    &lt;extraarg&gt;-impl&lt;/extraarg&gt;
                    &lt;extraarg&gt;-verbose&lt;/extraarg&gt;
                &lt;/extraargs&gt;
	&lt;/wadlOption&gt;
&lt;/wadlOptions&gt;
</pre>
</div></div><h3 id="JAXRSServicesDescription-Integration">积分</h3><p>希望集成CXF JAX-RS WADLToJava代码生成器的开发人员可以使用两个选项。<br clear="none">第一种选择是将收集的选项直接传递给wadltojava进程。</p><p>另一种方法是使用org.apache.cxf.tools.wadlto.jaxrs。cxf-tools-wadlto-jaxrs模块附带的JAXRSContainer类：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
&lt;artifactId&gt;cxf-tools-wadlto-jaxrs&lt;/artifactId&gt;
&lt;version&gt;2.4.1&lt;/version&gt;
</pre>
</div></div><p>请参阅CXF源以获取更多详细信息和org.apache.cxf.tools.wadlto.jaxrs。特别是JAXRSContainerTest。</p><h3 id="JAXRSServicesDescription-ExternalWADLdocumentsandJAXRSendpoints.">外部WADL文档和JAXRS端点。</h3><p>外部WADL文档可以使用新引入的“ docLocation”属性从jaxrs：server端点链接到，例如：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;jaxrs:server address="/rest" docLocation="wadl/bookStore.wadl"&gt;
   &lt;jaxrs:serviceBeans&gt;
      &lt;bean class="org.bar.generated.BookStore"/&gt; 
   &lt;/jaxrs:serviceBeans&gt;
&lt;/jaxrs:server&gt;
</pre>
</div></div><p>如果外部WADL文档包括外部模式，并且jaxrs端点需要启用模式验证，那么也可以在jaxrs：schemaLocations部分中引用这些模式。</p><h2 id="JAXRSServicesDescription-WADLAutoGenerationatRuntime">运行时WADL自动生成</h2><p>请注意，在CXF 3.0.0中，WADL Generator代码已移至</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
  &lt;artifactId&gt;cxf-rt-rs-service-description&lt;/artifactId&gt;
  &lt;version&gt;3.0.0-milestone1&lt;/version&gt;
&lt;/dependency&gt;
</pre>
</div></div><p>CXF JAX-RS支持自动为JAX-RS端点生成WADL。<br clear="none">请注意，JAX-RS子资源默认情况下是后期解析的，因此对子资源使用带注释的接口和staticSubresourceResolution = true属性将使整个资源树/图在生成的实例中进行描述。将为带JAXB注释的类型生成模式。有关如何获取自动生成的WADL实例的信息，请参见以下参考现有模式的信息。</p><p><strong>CXF 2.4.0</strong> ：org.apache.cxf.jaxrs.ext。说明和org.apache.cxf.jaxrs.ext.xml。XMLName已被移至org.apache.cxf.jaxrs.model.wadl包，因为它们的目的是改善WADL的生成。另外，org.apache.cxf.jaxrs.model.wadl。WadlElement已重命名为“ ElementClass”。</p><h3 id="JAXRSServicesDescription-DocumentingresourceclassesandmethodsingeneratedWADL">在生成的WADL中记录资源类和方法</h3><p>WADL文档可以包含<a shape="rect" class="external-link" href="http://www.w3.org/Submission/wadl/#x3-80002.3" rel="nofollow">doc</a>片段。</p><p>用户可能希望使用可以附加到资源类和方法的<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/rt/rs/description/src/main/java/org/apache/cxf/jaxrs/model/wadl/Description.java" rel="nofollow">Description</a>注释。</p><p>请注意，从CXF 2.4.0开始，可以将Description注释应用于输入参数。此外，方法级的<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/rt/rs/description/src/main/java/org/apache/cxf/jaxrs/model/wadl/Descriptions.java" rel="nofollow">Descriptions</a>注释可以具有分类的Description注释的集合，每个Description通过将其“ target”属性设置为<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/rt/rs/description/src/main/java/org/apache/cxf/jaxrs/model/wadl/DocTarget.java" rel="nofollow">DocTarget</a>值之一来针对特定的WADL元素。例如，可以使用Descriptions批注来记录特定资源方法的响应表示，也可以向WADL wadl：method / wadl：request和wadl：method / wadl：response元素中添加文档片段：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">@POST
@Path("books/{bookid}")
@Descriptions({ 
   @Description(value = "Adds a new book", target = DocTarget.METHOD),
   @Description(value = "Requested Book", target = DocTarget.RETURN),
   @Description(value = "Request", target = DocTarget.REQUEST),
   @Description(value = "Response", target = DocTarget.RESPONSE),
   @Description(value = "Resource", target = DocTarget.RESOURCE)
})
public Book addBook(@Description("book id") @PathParam("id") Long id, @Description("New Book") Book book) {...}
</pre>
</div></div><p>每个唯一的@Path值都会向生成的WADL中添加一个新的'resource'元素，因此@Descriptions数组中的最后一个Description注释可确保doc扩展名也已添加到'resource'元素中。请注意，具有不同HTTP方法但共享相同@Path值的多个资源方法将具有表示此共享路径片段的相同父“资源”元素，在本例中为带有DocTarget的描述。除非使用此共享@Path将RESOURCE目标添加到第一个资源方法中，否则它将被忽略：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">@POST
@Path("books/{bookid}")
@Description(value = "Resource", target = DocTarget.RESOURCE),
public Book addBook(@Description("book id") @PathParam("id") Long id, @Description("New Book") Book book) {...}

@GET
@Path("books/{bookid}")
public Book addBook(@Description("book id") @PathParam("id") Long id) {...}
</pre>
</div></div><h4 id="JAXRSServicesDescription-SupportforJavadoc">对Javadoc的支持</h4><p>在CXF 3.0.0中，可以将Javadoc文档复制到WADL，并在运行时自动生成。</p><p>org.apache.cxf.jaxrs.model.wadl。JavaDocProvider实现org.apache.cxf.jaxrs.model.wadl。DocumentationProvider，可以将其设置为WADLGenerator的“ documentationProvider”属性。</p><p>可以使用指向生成的Javadoc jar的URL或相对String路径自定义JavaDocProvider，因此可以在应用程序战争中将其打包或放置在其他位置。</p><p>JavaDocProvider解析生成的Javadoc HTML页面并抓取文档。有关支持Javadoc的替代方法，请参见Java to Wadl部分。</p><h3 id="JAXRSServicesDescription-CustomizingWADLGeneration">定制WADL生成</h3><p>可以将自定义的WadlGenerator注册为jaxrs：provider。自定义生成器可以扩展默认值<br clear="none">org.apache.cxf.jaxrs.model.wadl。WadlGenerator或注册具有以下属性之一的默认项。</p><ul class="alternate"><li>wadlNamespace：默认为“ http://wadl.dev.java.net/2009/02”，较早的为“ http://research.sun.com/wadl/2006/10”。</li><li>singleResourceMultipleMethods：默认值为“ true”，例如，如果资源类在同一路径上支持多个方法，例如“ /”（GET，POST等），则WADL会将它们全部列为单个资源元素的子节点。</li><li>useSingleSlashResource：默认为false，例如，如果您具有一个带有路径“ root”的根资源类和一个带有路径“”或“ /”的资源方法，则表示根的WADL资源将没有表示该根的子资源。资源方法（如果资源方法具有更具体的路径（例如“ bar”），则可以）。</li></ul><p>从CXF 2.4.1和2.3.5开始，还支持以下属性：</p><ul class="alternate"><li>applicationTitle：可用于创建应用程序标题。</li><li>namespacePrefix：defaut是'prefix'，可以将其设置为其他值，例如'ns'。</li><li>ignoreForwardSlash：可用于强制资源路径值不以“ /”开头</li><li>addResourceAndMethodIds：WadlGenerator将向wadl：resource和wadl：method元素添加“ id”属性</li></ul><p><a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/rt/rs/description/src/main/java/org/apache/cxf/jaxrs/model/xml/ElementClass.java" rel="nofollow">ElementClass</a>注释可以帮助表示生成的WADL中的JAX-RS Response元素。</p><h4 id="JAXRSServicesDescription-RepresentingexplicitJAXBcollections">表示显式的JAXB集合</h4><p>从CXF 2.5.5和2.6.2开始，可以获取在生成的WADL语法部分中表示的显式集合，并使WADL表示链接到这些架构元素。请注意，这仅适用于JAXB集合，例如：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">@GET
@Path("books")
@org.apache.cxf.jaxrs.model.xml.XMLName("{http://books}books")
public List&lt;Book&gt; getBooks() {...}
</pre>
</div></div><p>给定上面的示例，WADLGenerator将尝试在targetNamespace设置为“ http：// books”的情况下向生成的架构添加“ books”元素。该“ books”元素将具有一系列元素，这些元素链接到代表“ Book”类的类型。</p><h4 id="JAXRSServicesDescription-RepresentingexternalschemasandnonJAXBtypes">表示外部模式和非JAXB类型</h4><p>默认情况下，如果资源方法接受或返回JAXB类型，则将正确生成WADL语法部分。</p><p>即使您确实使用JAXB，JAXB类型也可能是从外部模式生成的，因此让WadlGenerator尝试重新创建原始模式可能无法正常工作。要使生成的WADL引用原始模式，请设置“ schemaLocations”列表属性（以编程方式或从Spring开始）：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">WadlGenerator wg = new WadlGenerator();
wg.setSchemaLocations(Collections.singletonList("classpath:/book.xsd"));
</pre>
</div></div><p>在这种情况下，语法部分将内联'book.xsd'模式。如果此架构导入其他架构，则具有相对URI的导入将被基于当前端点的基址的绝对URI替换。例如，如果端点地址为“ http：// somehost / bar”，并且“ book.xsd”导入“ foo / book1.xsd”，则发布的WADL将包含“ http：// somehost / bar / foo / book1.xsd”。目前，必须注册自定义RequestHandler过滤器以提供资源，例如“ http：//somehost/bar/foo/book1.xsd”，该资源可以“计算”所需的资源，以获取绝对请求URI并将其与基本URI，可能借助于注入的JAXRS UriInfo上下文。另外，诸如book1.xsd之类的资源也可以由CXFServlet本身提供（请参见使用CXFServlet进行重定向）</p><p>TODO：添加ignoreImports标志，以便用户可以在“ schemaLocations”中列出根架构和导入的架构，并将其全部内联。</p><p>请注意，内联根模式（例如“ book.xsd”）是内联的，您只能通过设置“ externalLinks”列表属性来引用它。当在外部URI上确实可以使用“ book.xsd”时，这将非常有效，但是也可以使用此属性来避免内联本地模式。而且，将不需要使用JAXB。结果将如下所示：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;wadl:grammars&gt;
&lt;wadl:include href="http://books.xsd"/&gt;
&lt;/wadl:grammars&gt;
</pre>
</div></div><p>请注意，“ schemaLocations”和“ externalLinks”属性的不同之处在于，内联前一种引用的架构。</p><p>您还可以自定义引用架构元素的方式。当WadlGenerator创建WADL表示元素（表示资源方法的输入或输出类型）时，如果给定类型实际上是JAXB类型，它将能够链接到架构元素，因此结果可能如下所示：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;!-- 
  thebook2 element is declared in a schema inlined in or referenced from the grammar section
  prefix1 is bound to that schema's target namespace and is declared at the wadl:application element 
--&gt;
&lt;representation mediaType="application/xml" element="prefix1:thebook2"/&gt;
</pre>
</div></div><p>如果未使用JAXB，则可以将<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/rt/rs/description/src/main/java/org/apache/cxf/jaxrs/model/xml/XMLName.java" rel="nofollow">XMLName</a>注释附加到方法输入或输出类型。或者，您可以向<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/rt/rs/description/src/main/java/org/apache/cxf/jaxrs/model/wadl/ElementQNameResolver.java" rel="nofollow">WadlGenerator</a>注册一个<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/rt/rs/description/src/main/java/org/apache/cxf/jaxrs/model/wadl/ElementQNameResolver.java" rel="nofollow">ElementQNameResolver</a>实例，该实例将用于创建wadl：representation / @ element值。</p><h4 id="JAXRSServicesDescription-Changingthebaseaddress">更改基地址</h4><p>从CXF 2.6.2开始，可能会影响自动生成的WADL中指定的基地址（在wadl：resources / @ base属性中）。<br clear="none">可以通过设置jaxrs：server / @ publishedEndpointUrl属性来间接配置WADLGenerator，类似于可以通过设置jaxws：endpoint / @ publishedEndpointUrl属性来配置CXF WSDL生成器的方式。</p><p> </p><h2 id="JAXRSServicesDescription-java2wadlMavenplugin">java2wadl Maven插件</h2><p>CXF 3.0.0和2.7.11引入了java2wadl插件，用于在构建时生成WADL：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
&lt;artifactId&gt;cxf-java2wadl-plugin&lt;/artifactId&gt;
&lt;version&gt;3.0.0&lt;/version&gt;
</pre>
</div></div><p>将此插件添加到项目pom的build部分，例如：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;build&gt;
     &lt;plugins&gt;
            
       &lt;plugin&gt;
                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
                &lt;artifactId&gt;cxf-java2wadl-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.0.0&lt;/version&gt;
                &lt;executions&gt;
                    &lt;!-- Enable if support for Javadoc is required, not supported in CXF 2.7.11 --&gt;
                    &lt;!--
                    &lt;execution&gt;
                        &lt;id&gt;parsejavadoc&lt;/id&gt;
                        &lt;phase&gt;generate-sources&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;parsejavadoc&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                    --&gt;
                    &lt;execution&gt;
                        &lt;id&gt;process-classes&lt;/id&gt;
                        &lt;phase&gt;process-classes&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;java2wadl&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;classResourceNames&gt;
                                    &lt;classResourceName&gt;a.b.c.CustomerService&lt;/classResourceName&gt;
                            &lt;/classResourceNames&gt;
                            &lt;!-- Enable if support for Javadoc is required, not supported in CXF 2.7.11 --&gt;
                            &lt;!--
                           &#160;&lt;docProvider&gt;org.apache.cxf.maven_plugin.javatowadl.ResourceMapJavaDocProvider&lt;/docProvider&gt;
                            --&gt;
                            &lt;attachWadl&gt;true&lt;/attachWadl&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
</pre>
</div></div><p>请注意，通过启用“ parsejavadoc”执行和docProvider属性可以适当地支持Javadoc。</p><h2 id="JAXRSServicesDescription-WADLTransformations">WADL转换</h2><p>从CXF 3.0.4开始，可以使用指向本地XSLT模板的'stylesheetReference'属性配置WADLGenerator。</p><p>如果禁用了“ applyStylesheetLocally”属性（默认），则生成的WADL XML表示将包含指向模板的XML XSLT处理指令，浏览器将在下一步中下载该模板并自行进行转换。否则，WADLGenerator将尝试执行本地转换，然后将响应返回给浏览器。</p><p>此功能可以通过一些简单的转换（例如，向WADL XML添加一些无法从带注释的JAX-RS资源获得的信息）来进一步增强生成的WADL XML或将其转换为HTML。</p><h2 id="JAXRSServicesDescription-ServicelistingsandWADLqueries">服务清单和WADL查询</h2><p>除SOAP端点（如果有）之外，还可以从{baseEndpointaddress} /服务获得指向RESTful端点的WADL实例的链接。</p><p>例如，给定</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">Base address : 'http://localhost:8080'
WAR name : 'store'
CXFServlet : '/books/*'
jaxrs:server/@address = '/orders'
</pre>
</div></div><p>和参观</p><p>> <a shape="rect" class="external-link" href="http://localhost:8080/store/books" rel="nofollow">http：// localhost：8080 / store / books</a> <br clear="none">> <a shape="rect" class="external-link" href="http://localhost:8080/store/books/services" rel="nofollow">http：// localhost：8080 / store / books / services</a></p><p>将让您看到所有的WADL链接。</p><p>请注意，您可以使用“ service-list-path” CXFServlet参数覆盖提供列表的位置（以防您希望对资源使用“ / services”），例如：</p><p>>'service-list-path'='/ listings'</p><p>转到服务列表页面不是查看WADL实例的唯一方法，也可以使用？来获取它。_wadl查询。</p><p>> <a shape="rect" class="external-link" href="http://localhost:8080/store/books/orders?_wadl" rel="nofollow">http：// localhost：8080 / store / books / orders？_wadl</a></p><p>将为您提供所有已注册的根资源类的描述<br clear="none">给定的jaxrs：server端点。</p><p>例如，如果以下两个根资源类已在此端点中注册：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">@Path("/fiction") 
public class FictionBookOrders {
}
@Path("/sport") 
public class SportBookOrders {
}
</pre>
</div></div><p>那么WADL将同时包含FictionBookOrders和SportBookOrders资源的描述。</p><p>> <a shape="rect" class="external-link" href="http://localhost:8080/store/books/orders/fiction?_wadl" rel="nofollow">http：// localhost：8080 / store / books / orders / fiction？_wadl</a><br clear="none">> <a shape="rect" class="external-link" href="http://localhost:8080/store/books/orders/sport?_wadl" rel="nofollow">http：// localhost：8080 / store / books / orders / sport？_wadl</a></p><p>将分别为您提供FictionBookOrders和SportBookOrders的所有信息。</p><p><strong>请注意</strong> ，如果已设置jaxrs：server / @ docLocation属性，则WadlGenerator将返回现有的WADL文档，而不是自动生成一个新的WADL文档。</p><p>默认情况下，从CXF 2.5.1和2.4.5开始，？的媒体类型。_wadl响应设置为application / xml，这与以下事实有关：除非注册了某些wadl插件，否则Firefox并不真正喜欢'application / vnd.sun.wadl + xml'。如果将HTTP Content-Type设置为“ application / xml”，则Firefox会毫无问题地显示它。</p><p>您可以使用WadlGenerator'defaultMediaType'属性或使用扩展名映射，并在请求URI的末尾添加.wadl来轻松自定义设置的Content-Type，而不用使用_wadl查询：“ http：// localhost：8080 /store/books/orders/fiction.wadl”，其中扩展名会将“ wadl”映射到“ application / vnd.sun.wadl + xml”或确实映射到“ application / xml”。</p><h2 id="JAXRSServicesDescription-WADLinJSONformat">JSON格式的WADL</h2><p>用一个 ”？_wadl＆_type = json“或类似” fiction.wadl“之类的东西，其中扩展会将'wadl'映射到'application / json'以获得WADL JSON表示形式，请参阅<a shape="rect" class="external-link" href="http://sberyozkin.blogspot.com/2011/10/describing-json-services-in-wadl.html" rel="nofollow">此博客条目</a>以获取更多信息。</p><h1 id="JAXRSServicesDescription-HidinglinkstoJAXRSendpointsfromtheservicespage">从服务页面隐藏到JAXRS端点的链接</h1><p>在某些情况下，您可能不希望用户看到指向某些JAXRS端点的链接。例如，如果您有一个AtomPullServer端点收集了许多应用程序端点的日志条目，则您可能不希望看到AtomPullServer端点在代表实际应用程序以及哪些用户实际感兴趣的端点中列出。如果是这样，那么添加一个值为“ true”的“ org.apache.cxf.endpoint.private”布尔属性即可解决问题；请注意，jaxws端点可以使用相同的属性。</p></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=24190953">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=24190953&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>