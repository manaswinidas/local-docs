<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - 2.1 Migration Guide">




    <title>Apache CXF-2.1迁移指南</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">指数</a> > <a href="how-tos.html">入门指南</a> > <a href="migration-guides.html">迁移指南</a> > <a href="21-migration-guide.html">2.1迁移指南</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><p>2.1基于更新的JAX-WS和JAXB标准并引入新的依赖关系可能导致某些问题，使从2.0.x到2.1的迁移比“直接插入”的替换多。此页面记录了其中一些问题。</p>


<h3 id="id-2.1MigrationGuide-Codegenerationchanges">代码生成更改</h3>
<h4 id="id-2.1MigrationGuide-WS-Addressingtypes">WS-寻址类型</h4>
<p>JAX-WS 2.1支持API中的WS-Addressing。因此，采用/返回EnpointReferenceType的WSDL现在将生成JAX-WS 2.1 EndpointReference，而不是CXF 2.0.x中生成的CXF专有类型。wsdl2java有一个标志（-noAddressBinding）以禁用新的类型映射，但是生成的代码不符合jaxws。</p>

<h4 id="id-2.1MigrationGuide-JAXB2.1annotations">JAXB 2.1批注</h4>
<p>现在，生成的代码将添加一些特定于JAXB 2.1的批注，例如@XmlSeeAlso。因此，该代码不适用于早期版本的CXF / JAX-WS。</p>

<h4 id="id-2.1MigrationGuide-java2wsdltoolisgone">java2wsdl工具不见了</h4>
<p>java2wsdl工具已替换为java2ws工具，该工具提供了更大的灵活性。如果只需要wsdl，则将-wsdl标志添加到java2ws中。</p>

<h4 id="id-2.1MigrationGuide-java2wsdlgoalincxf-codegen-pluginisalsogone">cxf-codegen-plugin中的java2wsdl目标也消失了</h4>
<p>现在有一个新插件使用java2ws工具。请参阅： <a shape="rect" href="http://cxf.apache.org/docs/maven-integration-and-plugin.html">http</a> ： <a shape="rect" href="http://cxf.apache.org/docs/maven-integration-and-plugin.html">//cxf.apache.org/docs/maven-integration-and-plugin.html</a></p>


<h3 id="id-2.1MigrationGuide-Runtimechanges">运行时更改</h3>
<h4 id="id-2.1MigrationGuide-ASMjar">ASM罐</h4>
<p>现在，JAX-WS前端“需要” asm 2.x或3.x，以便能够处理SEI接口上的某些JAXB批注。如果未在SEI上使用这些注释，或者已生成包装器类（通过带有-wrapperbean标志的wsdl2java或java2ws），则可以删除asm jar。如果您离开了asm jar，则可能会与使用asm的其他应用程序发生冲突。最主要的是休眠。Hibernate的“解决方法”是删除他们使用的asm 1.x jar，并用cglib-nodeps jar替换cglib jar，该cglib-nodeps jar包含不会与2.x / 3.x版本冲突的特殊的内部版本的asm。我们需要。</p>

<h4 id="id-2.1MigrationGuide-Woodstoxrequirement">Woodstox要求</h4>
<p>由于要在2.1.1中修复一个错误，如果spring bean文件需要名称空间支持来解析，则看来应用程序需要wstx-asl jar才能启动。</p>

<h4 id="id-2.1MigrationGuide-JDK1.6support">JDK 1.6支持</h4>
<p>2.1支持JDK 1.6 Update 4和更高版本，因为Update 4包括2.1版的JAX-WS API jar和2.1版的JAXB api jar和运行时。要使用2.1和1.6以及更新3，您需要将jaxws-api jar和jaxb jar添加到jre / lib / endorsed目录中。您无需为JDK 1.5做任何特殊的事情。</p>

<h4 id="id-2.1MigrationGuide-Aegisconfiguration">宙斯盾配置</h4>
<p>Aegis运行时的配置已更改。有关更改的说明，请参见<a shape="rect" href="http://cxf.apache.org/docs/aegis-21.html">http://cxf.apache.org/docs/aegis-21.html</a> 。</p></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=84552">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=84552&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>