<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - TLS Configuration">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushXml.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-TLS配置</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> > <a href="transports.html">传输</a> > <a href="http-transport.html">HTTP传输</a> > <a href="asynchronous-client-http-transport.html">异步客户端HTTP传输</a> > <a href="tls-configuration.html">TLS配置</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1538943651549 {padding: 0px;}
div.rbtoc1538943651549 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1538943651549 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1538943651549">
<ul class="toc-indentation"><li><a shape="rect" href="#TLSConfiguration-TLSParameterscommontobothClientsandServers">客户端和服务器通用的TLS参数</a>
<ul class="toc-indentation"><li><a shape="rect" href="#TLSConfiguration-KeyManagers">关键经理</a></li><li><a shape="rect" href="#TLSConfiguration-TrustManagers">信托经理</a></li><li><a shape="rect" href="#TLSConfiguration-TLSCipherSuites">TLS密码套件</a>
<ul class="toc-indentation"><li><a shape="rect" href="#TLSConfiguration-CipherSuites">密码套件</a></li><li><a shape="rect" href="#TLSConfiguration-CipherSuitesFilter">CipherSuites过滤器</a></li></ul>
</li><li><a shape="rect" href="#TLSConfiguration-CertConstraints">证书限制</a></li></ul>
</li><li><a shape="rect" href="#TLSConfiguration-ClientTLSParameters">客户端TLS参数</a>
<ul class="toc-indentation"><li><a shape="rect" href="#TLSConfiguration-DisableCNCheck">停用CN检查</a></li></ul>
</li><li><a shape="rect" href="#TLSConfiguration-ServerTLSParameters">服务器TLS参数</a>
<ul class="toc-indentation"><li><a shape="rect" href="#TLSConfiguration-ClientAuthentication">客户端认证</a></li></ul>
</li></ul>
</div><h1 id="TLSConfiguration-TLSParameterscommontobothClientsandServers">客户端和服务器通用的TLS参数</h1><p><a shape="rect" class="external-link" href="https://svn.apache.org/repos/asf/cxf/trunk/core/src/main/java/org/apache/cxf/configuration/jsse/TLSParameterBase.java">此处</a>提供了客户端和服务器通用的TLS参数：</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1"><col span="1"><col span="1"></colgroup><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>默认</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>keyManagers</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>JVM默认密钥管理器</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>持有X509证书的密钥管理器。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>trustManagers</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>JVM默认信任管理器</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>TrustManager用于验证对等X509证书。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>jsseProvider</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>与协议关联的JVM默认提供程序</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>JSSE提供程序名称。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>cipherSuites</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>JVM默认密码套件</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>将受支持的CipherSuite。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>cipherSuitesFilter</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p> </p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>如果支持的话，将支持和使用受支持的CipherSuite的过滤器。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>certConstraints</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p> </p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>证书约束规范。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>secureRandomParameters</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>JVM默认安全随机</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>SecureRandom规范。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>secureSocketProtocol</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>“ TLS”</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>协议名称。例如：“ TLS”，“ TLSv1.2”，“ TLSv1.3”。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>certAlias</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p> </p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>要使用的证书别名。当密钥库具有多个证书时很有用。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><code>enableRevocation</code> <strong>CXF 3.1.11</strong></td><td colspan="1" rowspan="1" class="confluenceTd">“假”</td><td colspan="1" rowspan="1" class="confluenceTd"><p>此属性指定在检查客户端/服务器证书时是否启用吊销。</p><p>要启用“ ocsp”，应将其设置为“ true”（以及Java Security属性“ ocsp.enable”）。</p></td></tr></tbody></table></div><p> </p><p>请注意，从CXF 3.0.3和2.7.14开始，除非在“ secureSocketProtocol”参数中明确指定“ SSLv3”，否则客户端和服务端（如果使用Jetty）都禁用SSLv3协议。</p><h2 id="TLSConfiguration-KeyManagers">关键经理</h2><p>密钥管理器配置项用于检索密钥信息。它是服务器所必需的，但仅在服务器需要客户端身份验证时才是客户端所必需的。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>密钥管理器样本</b></div><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">    &lt;httpj:tlsServerParameters&gt;
        ...
        &lt;sec:keyManagers keyPassword="stskpass"&gt;
            &lt;sec:keyStore type="jks" password="stsspass" resource="stsstore.jks" /&gt;
        &lt;/sec:keyManagers&gt;
        ...
    &lt;/httpj:tlsServerParameters&gt;
</pre>
</div></div><h2 id="TLSConfiguration-TrustManagers">信托经理</h2><p>信任管理器配置项用于验证对等X.509证书中的信任。服务器和客户端都需要它。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>信托经理样本</b></div><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">    &lt;httpj:tlsServerParameters&gt;
        ...
        &lt;sec:trustManagers&gt;
            &lt;sec:keyStore type="jks" password="stsspass" resource="stsstore.jks" /&gt;
        &lt;/sec:trustManagers&gt;
        ...
    &lt;/httpj:tlsServerParameters&gt;
</pre>
</div></div><h2 id="TLSConfiguration-TLSCipherSuites">TLS密码套件</h2><p>当CXF选择要在TLS连接中使用的CipherSuite时，它将按以下顺序选择它们：</p><ol><li>如果我们定义了显式的“ cipherSuite”配置（请参见下文）</li><li>如果我们通过系统属性“ https.cipherSuites”定义了密码套件。</li><li>如果未定义过滤器（请参见下文），则默认为JVM CipherSuites</li><li>过滤支持的密码套件（*不是*默认的JVM CipherSuites）</li></ol><h3 id="TLSConfiguration-CipherSuites">密码套件</h3><p>我们可以选择在配置中使用的显式CipherSuite，例如：</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>CipherSuites示例</b></div><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">    &lt;httpj:tlsServerParameters&gt;
        ...
         &lt;sec:cipherSuites&gt;
             &lt;sec:cipherSuite&gt;TLS_AES_128_GCM_SHA256&lt;/sec:cipherSuite&gt;
         &lt;/sec:cipherSuites&gt;
        ...
    &lt;/httpj:tlsServerParameters&gt;
</pre>
</div></div><h3 id="TLSConfiguration-CipherSuitesFilter">CipherSuites过滤器</h3><p>CipherSuites过滤器用于包含或排除特定的CipherSuite。必须指定包含过滤器，否则将不包含密码套件，排除过滤器是可选的。请注意，使用密码套件过滤器时必须小心，因为它们在所有<strong>受支持的</strong>密码套件上运行（如果未指定过滤器，则使用默认的JVM密码套件）。建议改为选择特定的CipherSuite（请参见上文），或者通过不指定任何cipherSuite或cipherSuiteFilter配置而仅依赖默认的JVM密码套件。</p><p>如果未指定排除过滤器，则排除的默认密码套件如下。请注意，如果用户在包含过滤器中明确允许其中任何一个，则默认情况下不会将它们排除在外。例如，如果要通过添加包含过滤器“”来允许“ NULL”密码套件。* NULL。*”，则将其从默认排除过滤器中删除。</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1"><col span="1"></colgroup><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh">默认排除的CipherSuite过滤器</th><th colspan="1" rowspan="1" class="confluenceTh">从CXF版本开始</th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">。*空值。*</td><td colspan="1" rowspan="1" class="confluenceTd">CXF 3.2.7</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">。* anon。*</td><td colspan="1" rowspan="1" class="confluenceTd">CXF 3.2.7</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">。*出口。*</td><td colspan="1" rowspan="1" class="confluenceTd">CXF 3.2.7</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">。* DES。*（注意：包括3DES）</td><td colspan="1" rowspan="1" class="confluenceTd">CXF 3.3.0</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">。* MD5</td><td colspan="1" rowspan="1" class="confluenceTd">CXF 3.3.0</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">。* CBC。*</td><td colspan="1" rowspan="1" class="confluenceTd">CXF 3.3.0</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">。* RC4。*</td><td colspan="1" rowspan="1" class="confluenceTd">CXF 3.3.0</td></tr></tbody></table></div><p>例：</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>CipherSuites过滤器样本</b></div><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">    &lt;httpj:tlsServerParameters&gt;
        ...
        &lt;sec:cipherSuitesFilter&gt;
            &lt;sec:include&gt;.*_WITH_AES_.*&lt;/sec:include&gt;
            &lt;sec:exclude&gt;.*_DH_anon_.*&lt;/sec:exclude&gt;
        &lt;/sec:cipherSuitesFilter&gt;
        ...
    &lt;/httpj:tlsServerParameters&gt;
</pre>
</div></div><h2 id="TLSConfiguration-CertConstraints">证书限制</h2><p>客户端或服务器都可以使用证书约束将对等证书施加约束。这可以通过在证书的主题DN（专有名称）或颁发者DN（或两者）上指定一组正则表达式来完成。还可以为SubjectDNConstraints或IssuerDNConstraints元素指定“组合器”属性。此属性可以是“ ANY”或“ ALL”，并且是指应应用任何或所有已定义的正则表达式。默认值为“ ALL”。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>CipherSuites过滤器样本</b></div><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">    &lt;httpj:tlsServerParameters&gt;
        ...
        &lt;sec:certConstraints&gt;
            &lt;sec:SubjectDNConstraints&gt;
                &lt;sec:RegularExpression&gt;.*OU=Morpit.*&lt;/sec:RegularExpression&gt;
            &lt;/sec:SubjectDNConstraints&gt;
            &lt;sec:IssuerDNConstraints combinator="ALL"&gt;
                &lt;sec:RegularExpression&gt;.*O=ApacheTest.*&lt;/sec:RegularExpression&gt;
                &lt;sec:RegularExpression&gt;.*O=OtherApacheTest.*&lt;/sec:RegularExpression&gt;
            &lt;/sec:IssuerDNConstraints&gt;
        &lt;/sec:certConstraints&gt;
        ...
    &lt;/httpj:tlsServerParameters&gt;
</pre>
</div></div><h1 id="TLSConfiguration-ClientTLSParameters">客户端TLS参数</h1><p>除了客户端和服务器通用的TLS参数外，还有一些<a shape="rect" class="external-link" href="https://svn.apache.org/repos/asf/cxf/trunk/core/src/main/java/org/apache/cxf/configuration/jsse/TLSClientParameters.java">特定</a>于客户端的参数：</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>默认</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>disableCNCheck</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><code>false</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指示在请求期间是否将根据其证书中提供的服务的公用名（CN）检查HTTPS URL中提供的主机名，如果不匹配则失败。如果设置为<code>true</code> （ <strong>不建议用于生产环境</strong> ），这些检查将被忽略。举例来说，您可以使用诸如<code>localhost</code>在开发过程中。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>sslSocketFactory</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p> </p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>要使用的SSLSocketFactory。如果设置了其他所有bean属性，则将其忽略。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>sslCacheTimeout</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>86400秒（24小时）</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>SSL缓存超时（以秒为单位）。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>useHttpsURLConnectionDefaultSslSocketFactory</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><code>false</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>此属性指定是否应使用<a shape="rect" class="external-link" href="http://java.sun.com/javase/6/docs/api/javax/net/ssl/HttpsURLConnection.html#getDefaultSSLSocketFactory()" rel="nofollow">HttpsURLConnection.getDefaultSSLSocketFactory（）</a>创建https连接。如果“ <code>true</code> '，' <code>jsseProvider</code> '，' <code>secureSocketProtocol</code> '，' <code>trustManagers</code> '，' <code>keyManagers</code> '，' <code>secureRandom</code> '，' <code>cipherSuites</code> '和' <code>cipherSuitesFilter</code> '配置参数将被忽略。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>useHttpsURLConnectionDefaultHostnameVerifier</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><code>false</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>此属性指定是否应使用<a shape="rect" class="external-link" href="http://java.sun.com/javase/6/docs/api/javax/net/ssl/HttpsURLConnection.html#getDefaultHostnameVerifier()" rel="nofollow">HttpsURLConnection.getDefaultHostnameVerifier（）</a>创建https连接。如果“ <code>true</code> '，' <code>disableCNCheck</code> '配置参数将被忽略。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">主机名验证者</td><td colspan="1" rowspan="1" class="confluenceTd"> </td><td colspan="1" rowspan="1" class="confluenceTd">要使用的自定义HostnameVerifier实例</td></tr></tbody></table></div><h2 id="TLSConfiguration-DisableCNCheck">停用CN检查</h2><p><code>disableCNCheck</code>是参数化的布尔值，可以使用固定变量<code>true</code> | <code>false</code>以及<a shape="rect" class="external-link" href="http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-factory-placeholderconfigurer" rel="nofollow">Spring外部属性</a>变量（例如<code>${disable-https-hostname-verification</code> }或<a shape="rect" class="external-link" href="http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/expressions.html#expressions-beandef" rel="nofollow">Spring表达式</a> （例如<code>#{systemProperties['dev-mode']</code> }）。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>HTTP管道配置禁用HTTP URL主机名验证（使用localhost等）</b></div><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">   &lt;!-- deactivate HTTPS url hostname verification (localhost, etc)    --&gt;
   &lt;!-- WARNING ! disableCNcheck=true should NOT be used in production --&gt;
   &lt;http-conf:tlsClientParameters disableCNCheck="true" /&gt;
   ...
</pre>
</div></div><h1 id="TLSConfiguration-ServerTLSParameters">服务器TLS参数</h1><p>除了客户端和服务器通用的TLS参数外，还有一些服务器<a shape="rect" class="external-link" href="https://svn.apache.org/repos/asf/cxf/trunk/core/src/main/java/org/apache/cxf/configuration/jsse/TLSServerParameters.java">特定的</a>参数：</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>默认</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>clientAuthentication</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>不“需要”或“必需”</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>允许您配置是否“需要”和/或“要求”客户端身份验证。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">排除协议</td><td colspan="1" rowspan="1" class="confluenceTd">默认情况下，CXF 3.0.3 + 2.7.14对Jetty禁用SSLv3</td><td colspan="1" rowspan="1" class="confluenceTd">排除的TLS协议。</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">includeProtocols <strong>CXF 3.1.1 / 3.0.6</strong></td><td colspan="1" rowspan="1" class="confluenceTd"> </td><td colspan="1" rowspan="1" class="confluenceTd">允许您添加更多协议。例如，如果您具有TLS协议，则可以在此处为较旧的客户端添加对“ SSLv2Hello”的支持。</td></tr></tbody></table></div><h2 id="TLSConfiguration-ClientAuthentication">客户端认证</h2><p>这使您可以定义是否需要和/或要求客户端身份验证。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>客户端身份验证样本</b></div><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">    &lt;httpj:tlsServerParameters&gt;
        ...
        &lt;sec:clientAuthentication want="true" required="true" /&gt;
        ...
    &lt;/httpj:tlsServerParameters&gt;
</pre>
</div></div></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=34014457">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=34014457&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>