<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - 2.7 Migration Guide">




    <title>Apache CXF-2.7迁移指南</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">指数</a> > <a href="how-tos.html">入门指南</a> > <a href="migration-guides.html">迁移指南</a> > <a href="27-migration-guide.html">2.7迁移指南</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h3 id="id-2.7MigrationGuide-MajorNotes">重要事项</h3>
<ul><li>CXF 2.7.x不再支持Java 5。为了升级到2.7.0，您必须使用Java 6（或更高版本）。CXF使用的许多依赖项已移至Java 6，为了获得修复和更新，我们也移至Java 6。</li></ul>


<h3 id="id-2.7MigrationGuide-NewFeatures">新的功能</h3>

<ul><li>新的<a shape="rect" href="udp-transport.html">UDP传输</a> 。</li><li>基于<a shape="rect" class="external-link" href="http://hc.apache.org/httpcomponents-asyncclient-dev/index.html">Apache HTTP组件HttpAsyncClient的</a>新的可选<a shape="rect" href="asynchronous-client-http-transport.html">HTTP传输</a> 。</li><li>支持<a shape="rect" href="soap-over-udp.html">UDP上</a>的<a shape="rect" href="soap-over-udp.html">SOAP</a> 。</li><li>通过将“ schema-validation-enabled”属性设置为“ IN”，“ OUT”，“ BOTH”或“ NONE”，仅可以将架构验证应用于传入或传出消息。@SchemaValidationEnabled批注已更新，以具有type = IN | OUT | BOTH | NONE参数。</li><li>支持<a shape="rect" href="ws-discovery.html">WS-Discovery</a> 。
	<ul><li>服务可以在启动/停止时发送Hello / Bye并响应探测请求</li><li>用于发送探测和解析为EndpointReferences的API</li></ul>
	</li><li>初步支持<a shape="rect" class="external-link" href="http://jcp.org/en/jsr/detail?id=339" rel="nofollow">JAX-RS 2.0（JSR-339）</a>规范的某些部分<ul><li>WebClient上提供<a shape="rect" href="jax-rs-client-api.html">异步调用的</a>其他方法</li><li>支持新的过滤器，拦截器，动态功能，异常类等，请参阅<a shape="rect" href="jax-rs-basics.html">JAX-RS基础</a>以获取更多信息。</li></ul>
	</li></ul>


<h3 id="id-2.7MigrationGuide-MajorDependencyChanges">主要依赖性变化</h3>
<ul><li>基于Jetty的HTTP传输已从Jetty 7.6更新到Jetty 8.1。这带来了Servlet API 3.0规范的所有新功能。该传输仍然可以与较旧的7.6和7.5版本的Jetty一起使用，但是您将需要排除8.1版本，并明确依赖于适当的Jetty依赖项和servlet-api jar。</li></ul>


<h3 id="id-2.7MigrationGuide-APIChanges">API变更</h3>

<ul><li>通过将与HttpURLConnection相关的代码移到URLConnectionHTTPConduit，可以使HTTPConduit类变得抽象。消除了用于获取HttpURLConnection对象的HTTPConduit的几种方法调用。而且，大多数采用URL对象的方法现在都改为采用URI对象。HTTPConduit。WrappedOutputStream类现在也很抽象。如果您具有HTTPConduit的自定义子类，则可以将其更改为URLConnectionHTTPConduit子类。</li></ul>


<ul><li>与WS-Addressing相关的VersionTransformer和MAPCodec类已更改为不将WS-Addressing头编码为DOM元素，而是直接在SoapMessage上使用Header列表。这确实更改了编码方法上的参数，以采用JAXBContext而不是Marshaller。任何自定义的VersionTransformers都需要更新。 （很稀少）</li></ul>


<ul><li>所有采用或返回org.apache.cxf.feature的方法。摘要功能已更改为仅使用org.apache.cxf.feature。特征。</li></ul>


<ul><li>JAX-RS：从org.apache.cxf.jaxrs.client包中删除了3个类：ResponseReader，ServerWebApplicationException，ClientWebApplicationException。JAX-RS 2.0 Response类不需要列表中的第一个类，后两个被javax.ws.rs取代。WebApplicationException和javax.ws.rs.client。ClientException</li></ul>


<ul><li>现在，STS Claims对象使用一个List <string>作为值，而不是单个String值。</string></li></ul>


<h3 id="id-2.7MigrationGuide-DeprecatedAPI">弃用的API</h3>

<ul><li>以下CXF JAX-RS特定扩展名已被弃用，并将最终被删除<ul><li>org.apache.cxf.jaxrs.ext。ParamHandler（使用javax.ws.rs.ext。ParamConverterProvider和javax.ws.rs.ext。而是使用ParamConverter）。</li><li>org.apache.cxf.jaxrs.ext。RequestHandler和org.apache.cxf.jaxrs.ext。ResponseHandler（使用javax.ws.rs.container。ContainerRequestFilter和javax.ws.rs.container。改为使用ContainerResponseFilter）。</li></ul>
	</li></ul>


<p>请注意，没有@Deprecated批注已附加到已弃用的类上，以便在仍保留这些类的同时将运行时代码中的“噪音”降至最低。</p>

<h3 id="id-2.7MigrationGuide-JAX-RSendpointsinOSGI">OSGI中的JAX-RS端点</h3>

<ul><li>如果您已针对JSR-311（JAX-RS 1.1）API编译了应用程序捆绑包，并希望使其与CXF 2.7.x一起运行而无需针对JSR-339（JAX-RS 2.0）API进行重新编译，则可以<ul><li>将“ javax.ws.rs”，“ javax.ws.rs.core”和“ javax.ws.rs.ext”导入版本范围为“ [1.1，3）”，并使用org.apache.servicemix.specs。 jsr339-api-m10-2.1.0规格套件或</li><li>发行时使用org.apache.servicemix.specs.jsr339-api-m10-2.2.0规范包。</li></ul>
	</li></ul>
</div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=29688919">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=29688919&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>