<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - Server HTTP Transport">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushJava.js'></script>
<script src='/resources/highlighter/scripts/shBrushBash.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-服务器HTTP传输</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> > <a href="transports.html">传输</a> > <a href="http-transport.html">HTTP传输</a> > <a href="server-http-transport.html">服务器HTTP传输</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h1 id="ServerHTTPTransport-ServerHTTPTransport">服务器HTTP传输</h1><p>HTTP服务器端点可以指定许多HTTP连接属性，包括它是否满足保持活动的请求，它如何与缓存交互以及如何容忍与使用者通信中的错误。</p><p>可以使用两种机制来配置服务器端点：</p><ul><li>组态</li><li>WSDL</li></ul><h2 id="ServerHTTPTransport-UsingConfiguration">使用配置</h2><h3 id="ServerHTTPTransport-Namespace">命名空间</h3><p>用于配置HTTP提供程序终结点的元素在名称空间中定义<code><a shape="rect" href="http://cxf.apache.org/transports/http/configuration">http://cxf.apache.org/transports/http/configuration</a></code> 。通常使用前缀来指代<code>http-conf</code> 。为了使用HTTP配置元素，您需要将以下所示的行添加到端点的配置文件的bean元素中。此外，您需要将配置元素的名称空间添加到<code>xsi:schemaLocation</code>属性。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>添加配置命名空间</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;beans ...
       xmlns:http-conf="http://cxf.apache.org/transports/http/configuration
       ...
       xsi:schemaLocation="...
          http://cxf.apache.org/transports/http/configuration
          http://cxf.apache.org/schemas/configuration/http-conf.xsd
       ..."&gt;
</pre>
</div></div><h3 id="ServerHTTPTransport-Thedestinationelement">的<code>destination</code>元件</h3><p>您可以使用<code>http-conf:destination</code>元素及其子元素。的<code>http-conf:destination</code>元素具有单个属性， <code>name</code> ，用于指定与端点相对应的WSDL端口元素。的价值<code>name</code>属性的形式为<em>portQName</em> <code>.http-destination</code> 。以下示例显示了<code>http-conf:destination</code>元素，用于为WSDL片段指定的端点添加配置<code><port binding="widgetSOAPBinding" name="widgetSOAPPort></code>如果端点的目标名称空间是<code><a shape="rect" class="external-link" href="http://widgets.widgetvendor.net" rel="nofollow">http://widgets.widgetvendor.net</a></code> 。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>http-conf：destination元素</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">...
  &lt;http-conf:destination name="{http://widgets/widgetvendor.net}widgetSOAPPort.http-destination"&gt;
    ...
  &lt;/http-conf:destination&gt;
...
</pre>
</div></div><p>的<code>http-conf:destination</code>元素具有许多指定配置信息的子元素。如下所述。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>元件</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>http-conf:server</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定HTTP连接属性。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>http-conf:contextMatchStrategy</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定用于配置上下文匹配策略以处理HTTP请求的参数。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>http-conf:fixedParameterOrder</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定此目标处理的HTTP请求的参数顺序是否固定。</p></td></tr></tbody></table></div><h3 id="ServerHTTPTransport-Theserverelement">的<code>server</code>元件</h3><p>的<code>http-conf:server</code>元素用于配置服务器的HTTP连接的属性。如下所述，其属性指定连接的属性。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>ReceiveTimeout</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>设置服务器尝试在连接超时之前接收请求的时间长度（以毫秒为单位）。默认值为30000。使用0指定服务器不会超时。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>SuppressClientSendErrors</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定在接收到请求时遇到错误时是否引发异常。默认是<code>false</code> ;遇到错误时引发异常。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>SuppressClientReceiveErrors</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定在向客户端发送响应时遇到错误时是否引发异常。默认是<code>false</code> ;遇到错误时引发异常。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>HonorKeepAlive</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定服务器是否响应在发送响应后保持连接打开的请求。默认是<code>true</code> ;保持连接请求很荣幸。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>RedirectURL</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定如果客户端请求中指定的URL不再适合所请求的资源，则客户端请求应重定向到的URL。在这种情况下，如果未在服务器响应的第一行中自动设置状态代码，则将状态代码设置为302，并将状态描述设置为“对象已移动”。该值用作HTTP的值<code>RedirectURL</code>属性。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>CacheControl</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定有关包括服务器到客户端的响应的链中涉及的缓存必须遵守的行为的指令。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>ContentLocation</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>设置在响应中发送的资源所在的URL。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>ContentType</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定在响应中发送的信息的媒体类型。使用多用途Internet邮件扩展（MIME）类型指定媒体类型。该值用作HTTP的值<code>ContentType</code>地点。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>ContentEncoding</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定已应用于服务提供商发送的信息的任何其他内容编码。内容编码标签由互联网号码分配机构（IANA）监管。可能的内容编码值包括zip，gzip，compress，deflate和identity。此值用作HTTP的值<code>ContentEncoding</code>属性。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>ServerType</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定发送响应的服务器类型。值采用程序名称/版本的形式。例如，Apache / 1.2.5。</p></td></tr></tbody></table></div><h3 id="ServerHTTPTransport-Example">例</h3><p>下面的示例显示了HTTP服务提供商终结点的配置，该配置遵循保持活动的请求并抑制所有通信错误。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>HTTP服务提供商端点配置</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:http-conf="http://cxf.apache.org/transports/http/configuration"
       xsi:schemaLocation="http://cxf.apache.org/transports/http/configuration
           http://cxf.apache.org/schemas/configuration/http-conf.xsd
           http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;
   
  &lt;http-conf:destination 
     name="{http://apache.org/hello_world_soap_http}SoapPort.http-destination"&gt;
    &lt;http-conf:server SuppressClientSendErrors="true"
                      SuppressClientReceiveErrors="true"
                      HonorKeepAlive="true" /&gt;
  &lt;/http-conf:destination&gt;
&lt;/beans&gt;
</pre>
</div></div><h2 id="ServerHTTPTransport-UsingWSDL">使用WSDL</h2><h3 id="ServerHTTPTransport-Namespace.1">命名空间</h3><p>在名称空间中定义了用于配置HTTP服务器端点的WSDL扩展元素<code><a shape="rect" href="http://cxf.apache.org/transports/http/configuration">http://cxf.apache.org/transports/http/configuration</a></code> 。通常被称为使用前缀<code>http-conf</code> 。为了使用HTTP配置元素，您需要将以下所示的行添加到<code>definitions</code>端点的WSDL文档的元素。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>HTTP提供程序WSDL元素的命名空间</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;definitions ...
       xmlns:http-conf="http://cxf.apache.org/transports/http/configuration
</pre>
</div></div><h3 id="ServerHTTPTransport-Theserverelement.1">的<code>server</code>元件</h3><p>的<code>http-conf:server</code>元素用于指定WSDL文档中HTTP服务器的连接属性。的<code>http-conf:server</code>元素是WSDL端口元素的子元素。它具有与<code>server</code>配置文件中使用的元素。</p><h3 id="ServerHTTPTransport-Example.1">例</h3><p>下面的示例显示了一个WSDL片段，该片段配置HTTP服务器终结点以指定它不会与缓存交互。</p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>WSDL配置HTTP服务提供商端点</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;service ...&gt;
  &lt;port ...&gt;
    &lt;soap:address ... /&gt;
    &lt;http-conf:server CacheControl="no-cache" /&gt;
  &lt;/port&gt;
&lt;/service&gt;
</pre>
</div></div><h2 id="ServerHTTPTransport-ServerCacheControlDirectives">服务器缓存控制指令</h2><p>下表列出了HTTP服务器支持的缓存控制指令。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>指示</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>行为</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>no-cache</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>缓存必须先通过服务器重新验证该响应，然后才能使用特定响应来满足后续请求。如果使用此值指定了特定的响应头字段，则该限制仅适用于响应内的那些头字段。如果未指定响应头字段，则该限制将应用于整个响应。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>public</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>任何缓存都可以存储响应。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>private</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>公共（共享）缓存无法存储响应，因为该响应是针对单个用户的。如果使用此值指定了特定的响应头字段，则该限制仅适用于响应内的那些头字段。如果未指定响应头字段，则该限制将应用于整个响应。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>no-store</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>缓存不得存储响应的任何部分或调用响应的请求的任何部分。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>no-transform</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>缓存不得在服务器和客户端之间的响应中修改媒体类型或内容的位置。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>must-revalidate</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>缓存必须使与响应相关的过期条目失效，然后才能在后续响应中使用该条目。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>proxy-revalidate</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>含义与必须重新验证相同，只不过它只能在共享缓存上强制执行，而被私有非共享缓存忽略。如果使用此指令，则还必须使用公共缓存指令。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>max-age</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>客户可以接受年龄不超过指定秒数的响应。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>s-max-age</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>含义与max-age相同，除了它只能在共享缓存上强制执行，并由私有非共享缓存忽略。s-max-age指定的年龄优先于max-age指定的年龄。如果使用此伪指令，则还必须使用proxy-revalidate伪指令。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code>cache-extension</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定其他缓存指令的其他扩展。扩展可能是信息性的或行为性的。扩展指令是在标准指令的上下文中指定的，因此，不了解扩展指令的应用程序至少可以遵守标准指令规定的行为。</p></td></tr></tbody></table></div></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=60558">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=60558&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>