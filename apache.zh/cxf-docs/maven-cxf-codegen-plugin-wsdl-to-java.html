<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - Maven cxf-codegen-plugin (WSDL to Java)">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushJava.js'></script>
<script src='/resources/highlighter/scripts/shBrushXml.js'></script>
<script src='/resources/highlighter/scripts/shBrushBash.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-Maven cxf-codegen-plugin（WSDL to Java）</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> > <a href="tools.html">工具</a> > <a href="maven-cxf-codegen-plugin-wsdl-to-java.html">Maven cxf-codegen-plugin（WSDL到Java）</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1554130573955 {padding: 0px;}
div.rbtoc1554130573955 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1554130573955 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1554130573955">
<ul class="toc-indentation"><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Introduction">介绍</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Example1:PassinginaJAX-WSBindingfile">示例1：传入JAX-WS绑定文件</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Example2:Specifythedatabinding">示例2：指定数据绑定</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Example3:Specifyingaservicetogenerateartifactsfor">示例3：指定一个服务来为其生成工件</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Example4:UsingdefaultOptiontoavoidrepetition">示例4：使用defaultOption避免重复</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Example5:UsingwsdlRootwithincludes/excludespatterns">示例5：将wsdlRoot与包含/排除模式一起使用</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Example6:Loadingawsdlfromthemavenrepository">示例6：从Maven存储库加载wsdl</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Example7:Usingxjcextensions">示例7：使用xjc扩展</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Example8-UsingJAXB/JAX-WS2.2withJava6">示例8-在Java 6中使用JAXB / JAX-WS 2.2</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-ReadingexternalDTDs">读取外部DTD</a></li><li><a shape="rect" href="#Mavencxf-codegen-plugin(WSDLtoJava)-Otherconfigurationoptions">其他配置选项</a></li></ul>
</div><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Introduction">介绍</h3><p>CXF包含一个Maven插件，可以从WSDL生成Java构件。这是一个简单的示例：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;plugin&gt;
	&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
	&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;
	&lt;version&gt;${cxf.version}&lt;/version&gt;
	&lt;executions&gt;
		&lt;execution&gt;
			&lt;id&gt;generate-sources&lt;/id&gt;
			&lt;phase&gt;generate-sources&lt;/phase&gt;
			&lt;configuration&gt;
				&lt;sourceRoot&gt;${project.build.directory}/generated-sources/cxf&lt;/sourceRoot&gt;
				&lt;wsdlOptions&gt;
					&lt;wsdlOption&gt;
						&lt;wsdl&gt;${basedir}/src/main/resources/myService.wsdl&lt;/wsdl&gt;
					&lt;/wsdlOption&gt;
				&lt;/wsdlOptions&gt;
			&lt;/configuration&gt;
			&lt;goals&gt;
				&lt;goal&gt;wsdl2java&lt;/goal&gt;
			&lt;/goals&gt;
		&lt;/execution&gt;
	&lt;/executions&gt;
&lt;/plugin&gt;
</pre>
</div></div><p>在此示例中，我们在generate-sources阶段运行wsdl2java目标。通过运行<strong>mvn generate-sources</strong> ，CXF将在<sourceroot>您指定的<sourceroot>目录中生成构件<sourceroot>。每个<wsdloption>元素都对应于您要为其生成构件的WSDL。WSDL位置通过<wsdl>选项指定<wsdl>。按照<a shape="rect" class="external-link" href="http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">Maven标准目录布局</a> ，如果您打算将WSDL打包在要创建的JAR中，则需要将WSDL放在/ src / main / resources /中（或者，如果需要避免放在下面的子文件夹中，以避免放置JAR根目录中的资源）；否则，使用/ src / main / config文件夹将WSDL排除在JAR之外。</wsdl></wsdl></wsdloption></sourceroot></sourceroot></sourceroot></p><p>以下示例显示了一些自定义选项。默认情况下，codegen插件在生成类的输出文件夹中遵循Maven的“ target / generated-sources / cxf”约定。您可以使用<sourceroot>如下所示的值来覆盖此值<sourceroot>，但请注意，通常这不是必需的，对于大多数人来说，默认值是合适的，并且可以使某些IDE更容易检测到生成的源代码。其他配置参数可以包含在<wsdloption>元素内。这些将参数传递给工具，并与<a shape="rect" href="wsdl-to-java.html">WSDL to Java</a>页面上概述的选项相对应。</wsdloption></sourceroot></sourceroot></p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">...
&lt;configuration&gt;
    &lt;sourceRoot&gt;${project.build.directory}/generated-code/mywebservice&lt;/sourceRoot&gt;
    &lt;wsdlOptions&gt;
	    &lt;wsdlOption&gt;
		    &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/myService.wsdl&lt;/wsdl&gt;
            &lt;!-- you can set the options of wsdl2java command by using the &lt;extraargs&gt; --&gt; 
            &lt;extraargs&gt;
                &lt;extraarg&gt;-impl&lt;/extraarg&gt;
                &lt;extraarg&gt;-verbose&lt;/extraarg&gt;
            &lt;/extraargs&gt;
	    &lt;/wsdlOption&gt;
    &lt;/wsdlOptions&gt;
&lt;/configuration&gt;
...
</pre>
</div></div><p>有关使用cxf-codegen-plugin的完整服务和客户端示例，请参<a shape="rect" class="external-link" href="https://glenmazza.net/blog/entry/web-service-tutorial" rel="nofollow">见此博客条目</a> 。</p><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Example1:PassinginaJAX-WSBindingfile">示例1：传入JAX-WS绑定文件</h3><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;configuration&gt;
  &lt;wsdlOptions&gt;
    &lt;wsdlOption&gt;
      &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/myService.wsdl&lt;/wsdl&gt;
      &lt;bindingFiles&gt;
        &lt;bindingFile&gt;${basedir}/src/main/resources/async_binding.xml&lt;/bindingFile&gt;
      &lt;/bindingFiles&gt;
    &lt;/wsdlOption&gt;
  &lt;/wsdlOptions&gt;
&lt;/configuration&gt;
</pre>
</div></div><p>在此示例中，我们指定希望CXF使用我们的JAX-WS绑定文件。绑定文件是自定义CXF生成的工件输出的一种方式。例如，它允许您更改CXF使用的程序包名称。</p><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Example2:Specifythedatabinding">示例2：指定数据绑定</h3><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;configuration&gt;
  &lt;wsdlOptions&gt;
    &lt;wsdlOption&gt;
      &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/myService.wsdl&lt;/wsdl&gt;
      &lt;extraargs&gt;
        &lt;extraarg&gt;-databinding&lt;/extraarg&gt;
        &lt;extraarg&gt;jibx&lt;/extraarg&gt;
      &lt;/extraargs&gt;
    &lt;/wsdlOption&gt;
  &lt;/wsdlOptions&gt;
&lt;/configuration&gt;
</pre>
</div></div><p>在此示例中，我们指定希望CXF使用我们的数据绑定jibx。您还可以使用xmlbeans，domsources，sdo等的数据绑定。</p><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Example3:Specifyingaservicetogenerateartifactsfor">示例3：指定一个服务来为其生成工件</h3><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;configuration&gt;
  &lt;wsdlOptions&gt;
    &lt;wsdlOption&gt;
      &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/myService.wsdl&lt;/wsdl&gt;
      &lt;serviceName&gt;MyWSDLService&lt;/serviceName&gt;
    &lt;/wsdlOption&gt;
  &lt;/wsdlOptions&gt;
&lt;/configuration&gt;
</pre>
</div></div><p>在此示例中，我们指定只想为WSDL中名为“ MyWSDLService”的服务生成构件。</p><p>为了避免多次复制/粘贴， <wsdloption>您还可以声明一个<defaultoptions>元素。</defaultoptions></wsdloption></p><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Example4:UsingdefaultOptiontoavoidrepetition">示例4：使用defaultOption避免重复</h3><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;configuration&gt;
  &lt;defaultOptions&gt;
      &lt;bindingFiles&gt;
          &lt;bindingFile&gt;${basedir}/src/main/jaxb/bindings.xml&lt;/bindingFile&gt;
      &lt;/bindingFiles&gt;
      &lt;noAddressBinding&gt;true&lt;/noAddressBinding&gt;
  &lt;/defaultOptions&gt;
  &lt;wsdlOptions&gt;
      &lt;wsdlOption&gt;
          &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/myService.wsdl&lt;/wsdl&gt;
          &lt;serviceName&gt;MyWSDLService&lt;/serviceName&gt;
      &lt;/wsdlOption&gt;
      &lt;wsdlOption&gt;
          &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/myOtherService.wsdl&lt;/wsdl&gt;
          &lt;serviceName&gt;MyOtherWSDLService&lt;/serviceName&gt;
      &lt;/wsdlOption&gt;
  &lt;/wsdlOptions&gt;
&lt;/configuration&gt;
</pre>
</div></div><p><defaultoptions>并<wsdloption>与<a shape="rect" href="wsdl-to-java.html">WSDL to Java</a>页面上概述的选项相对应，您可以查看<a shape="rect" class="external-link" href="https://github.com/apache/cxf/blob/master/maven-plugins/codegen-plugin/src/main/java/org/apache/cxf/maven_plugin/wsdl2java/Option.java" rel="nofollow">https://github.com/apache/cxf/blob/master/maven-plugins/codegen-plugin/src/main/java/org/apache /cxf/maven_plugin/wsdl2java/Option.java</a> ，以获得有关这些参数的更详细说明。</wsdloption></defaultoptions></p><p>至少，您可以声明一个公共的wsdlRoot文件夹，用于存储WSDL文件，并使用包含/排除模式来选择要由代码生成器使用的文件。</p><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Example5:UsingwsdlRootwithincludes/excludespatterns">示例5：将wsdlRoot与包含/排除模式一起使用</h3><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;configuration&gt;
  &lt;defaultOptions&gt;
      &lt;bindingFiles&gt;
          &lt;bindingFile&gt;${basedir}/src/main/jaxb/bindings.xml&lt;/bindingFile&gt;
      &lt;/bindingFiles&gt;
      &lt;noAddressBinding&gt;true&lt;/noAddressBinding&gt;
  &lt;/defaultOptions&gt;
  &lt;wsdlRoot&gt;${basedir}/src/main/resources/wsdl&lt;/wsdlRoot&gt;
  &lt;includes&gt;
      &lt;include&gt;*Service.wsdl&lt;/include&gt;
  &lt;/includes&gt;
&lt;/configuration&gt;
</pre>
</div></div><p>wsdlRoot的默认值为<code>src/main/resources/wsdl</code>因此您可以忽略此声明。</p><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Example6:Loadingawsdlfromthemavenrepository">示例6：从Maven存储库加载wsdl</h3><p>有一个<wsdlartifact>wsdlOption配置，可用于从Maven存储库加载wsdl文件。</wsdlartifact></p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;configuration&gt;
    &lt;wsdlOptions&gt;
        &lt;wsdlOption&gt;
            &lt;wsdlArtifact&gt;
                &lt;groupId&gt;org.apache.pizza&lt;/groupId&gt;
	            &lt;artifactId&gt;PizzaService&lt;/artifactId&gt;
	            &lt;version&gt;1.0.0&lt;/version&gt;
            &lt;/wsdlArtifact&gt;
        &lt;/wsdlOption&gt;
    &lt;/wsdlOptions&gt;
&lt;/configuration&gt;
</pre>
</div></div><p>这会将wsdl /org/apache/pizza/PizzaService-1.0.0.wsdl加载到本地Maven存储库中，并从中生成Java代码。</p><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Example7:Usingxjcextensions">示例7：使用xjc扩展</h3><p>可以通过<extraarg>元素添加标准JAXB命令行自定义<extraarg>，每行一个或用逗号分隔。<a shape="rect" href="../xjc-utils.html">CXF还为代码生成提供了一些JAXB扩展</a> 。必须将它们添加为依赖项，然后使用内容为-xjc-X的Extraarg进行激活<extension id=""></extension></extraarg></extraarg></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>工件ID</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>扩展名</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>cxf-xjc-boolean</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>为布尔值添加吸气剂</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>布尔值</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>cxf-xjc-bug671</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>用于JAXB错误671的Workaroung</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>bug671</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>cxf-xjc-dv</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>默认值支持</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>dv</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>cxf-xjc-ts</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>将toString添加到对象</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>ts</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>cxf-xjc-wsdlextension</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>WsdlExtension支持</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>wsdlextension</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>jaxb-fluent-api</p><p>（ <img class="emoticon emoticon-warning" title="（警告）" src="http://cwiki.apache.org/confluence/s/en_GB/7701/d7b403a44466e5e8970db7530201039d865e79e1/_/images/icons/emoticons/warning.svg" alt="（警告）" border="0">不属于CXF：</p><p>组ID为net.java.dev.jaxb2-commons）</p></td><td colspan="1" rowspan="1" class="confluenceTd">设置员的流利API</td><td colspan="1" rowspan="1" class="confluenceTd">流利的api</td></tr></tbody></table></div><p>下面是显示JAXB绑定文件和CXF toString（）扩展名的附件的示例：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;plugin&gt;
  &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
  &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;
  &lt;version&gt;${cxf.version}&lt;/version&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;id&gt;generate-sources&lt;/id&gt;
      &lt;phase&gt;generate-sources&lt;/phase&gt;
      &lt;configuration&gt;
        &lt;wsdlOptions&gt;
          &lt;wsdlOption&gt;
            &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/myService.wsdl&lt;/wsdl&gt;
            &lt;extraargs&gt;
              &lt;extraarg&gt;-xjc-Xts&lt;/extraarg&gt;
            &lt;/extraargs&gt; 
          &lt;/wsdlOption&gt;
        &lt;/wsdlOptions&gt;
      &lt;/configuration&gt;
      &lt;goals&gt;
        &lt;goal&gt;wsdl2java&lt;/goal&gt;
      &lt;/goals&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.cxf.xjcplugins&lt;/groupId&gt;
      &lt;artifactId&gt;cxf-xjc-ts&lt;/artifactId&gt;
      &lt;version&gt;${cxf-xjc.version}&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/plugin&gt;
</pre>
</div></div><p>另外，您需要将cxf-xjc-runtime添加为项目的依赖项：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;dependency&gt;
   &lt;groupId&gt;org.apache.cxf.xjc-utils&lt;/groupId&gt;
   &lt;artifactId&gt;cxf-xjc-runtime&lt;/artifactId&gt;
   &lt;version&gt;${cxf-xjc.version}&lt;/version&gt;
&lt;/dependency&gt;</pre>
</div></div><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Example8-UsingJAXB/JAX-WS2.2withJava6">示例8-在Java 6中使用JAXB / JAX-WS 2.2</h3><p>Java 6包括JAXB / JAX-WS 2.1 API和2.1实现。但是，有时希望使用JAXB或JAX-WS 2.2来获得各种错误修复和增强功能。在Java 6和Maven中使用2.2可能会有些棘手，因为它需要认可API jar，这需要配置大量插件，需要使用“ forking”，等等。首先，需要同时设置Surefire和Compiler插件以指向认可的目录：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;pluginManagement&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
            &lt;configuration&gt;
                &lt;compilerArguments&gt;
                   &lt;endorseddirs&gt;${project.build.directory}/endorsed&lt;/endorseddirs&gt;
                &lt;/compilerArguments&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
            &lt;configuration&gt;
                &lt;forkMode&gt;once&lt;/forkMode&gt;
                &lt;argLine&gt;-Djava.endorsed.dirs=${project.build.directory}/endorsed&lt;/argLine&gt;
            &lt;/configuration&gt;
         &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/pluginManagement&gt;
</pre>
</div></div><p>然后，您将需要使用maven-dependency-plugin将所需的工件复制到endorsed.dir中：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;plugins&gt;
    &lt;plugin&gt;
       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
       &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
       &lt;executions&gt;
          &lt;execution&gt;
             &lt;phase&gt;generate-sources&lt;/phase&gt;
             &lt;goals&gt;
                 &lt;goal&gt;copy&lt;/goal&gt;
             &lt;/goals&gt;
             &lt;configuration&gt;
                 &lt;artifactItems&gt;
                    &lt;artifactItem&gt;
                       &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;
                       &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;
                       &lt;version&gt;2.2&lt;/version&gt;
                    &lt;/artifactItem&gt;
                    &lt;artifactItem&gt;
                       &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;
                       &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;
                       &lt;version&gt;2.2&lt;/version&gt;
                    &lt;/artifactItem&gt;
                  &lt;/artifactItems&gt;
                  &lt;outputDirectory&gt;${project.build.directory}/endorsed&lt;/outputDirectory&gt;
              &lt;/configuration&gt;
           &lt;/execution&gt;
       &lt;/executions&gt;
    &lt;/plugin&gt;
&lt;/plugins&gt;

</pre>
</div></div><p>最后，您需要对CXF Codegen插件进行类似的设置，以便它可以使用2.2 API和运行时：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;
    &lt;version&gt;${cxf.version}&lt;/version&gt;
    &lt;configuration&gt;
        &lt;fork&gt;once&lt;/fork&gt;
        &lt;additionalJvmArgs&gt;-Djava.endorsed.dirs=${project.build.directory}/endorsed&lt;/additionalJvmArgs&gt;
        &lt;!-- rest of the normal codegen configuration options --&gt;
    &lt;/configuration&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
           &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;
           &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;
           &lt;version&gt;2.2.11&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
           &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;
           &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;
           &lt;version&gt;2.2.11&lt;/version&gt;
        &lt;/dependency&gt;
     &lt;/dependencies&gt;
&lt;/plugin&gt;

</pre>
</div></div><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-ReadingexternalDTDs">读取外部DTD</h3><p>如果架构具有外部DTD，则默认情况下，最新版本的XML Schema将引发异常。例如：</p><p>[致命错误] xmldsig-core-schema.xsd：10：5：外部DTD：读取外部DTD'XMLSchema.dtd'失败，因为由于accessExternalDTD属性设置的限制，不允许'http'访问。</p><p>如果您希望允许使用外部DTD，则可以通过<additionaljvmargs>'配置开关执行以下操作：</additionaljvmargs></p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;
    &lt;version&gt;${cxf.version}&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;phase&gt;generate-sources&lt;/phase&gt;
            &lt;configuration&gt;
                &lt;fork&gt;once&lt;/fork&gt;
                &lt;wsdlOptions&gt;
                    &lt;wsdlOption&gt;
                        &lt;wsdl&gt;${basedir}/src/main/resources/org/apache/cxf/wsn/wsdl/wsn.wsdl&lt;/wsdl&gt;
                        &lt;extraargs&gt;
                            &lt;extraarg&gt;-verbose&lt;/extraarg&gt;
                        &lt;/extraargs&gt;
                    &lt;/wsdlOption&gt;
                &lt;/wsdlOptions&gt;
                &lt;additionalJvmArgs&gt;-Djavax.xml.accessExternalDTD=all&lt;/additionalJvmArgs&gt;
            &lt;/configuration&gt;
            &lt;goals&gt;
                &lt;goal&gt;wsdl2java&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;</pre>
</div></div><p><br clear="none"></p><h3 id="Mavencxf-codegen-plugin(WSDLtoJava)-Otherconfigurationoptions">其他配置选项</h3><p>cxf-codegen-plugin具有一些其他有用的配置选项：</p><div class="table-wrap"><table class="confluenceTable"><colgroup span="1"><col span="1"><col span="1"></colgroup><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><fork>错误/总是/一次</fork></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>分叉一个单独的JVM用于代码生成</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><additionaljvmargs>....</additionaljvmargs></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>如果fork不为假，则在派生进程上设置其他JVM args</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><encoding>UTF-8</encoding></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>（2.6.1中的新增功能，要求将插件配置为使用最新的JAXB 2.2.11 impl jar）</p></td></tr></tbody></table></div></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=2853210">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=2853210&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>