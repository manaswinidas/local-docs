<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - Developing a Service">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushJava.js'></script>
<script src='/resources/highlighter/scripts/shBrushBash.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-开发服务</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> > <a href="frontends.html">前端</a> > <a href="jax-ws.html">JAX-WS</a> > <a href="developing-a-service.html">开发服务</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1524513410883 {padding: 0px;}
div.rbtoc1524513410883 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1524513410883 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1524513410883">
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-DevelopingaServiceusingJAX-WS">使用JAX-WS开发服务</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-WSDLFirstDevelopment">WSDL首次开发</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-GeneratingtheStartingPointCode">生成起点代码</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-Runningwsdl2java">运行wsdl2java</a></li><li><a shape="rect" href="#DevelopingaService-Generatedcode">生成的代码</a></li></ul>
</li><li><a shape="rect" href="#DevelopingaService-ImplementingtheService">实施服务</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-Generatingtheimplementationcode">生成实现代码</a></li><li><a shape="rect" href="#DevelopingaService-Generatedcode.1">生成的代码</a></li><li><a shape="rect" href="#DevelopingaService-Implementtheoperation'slogic">实施操作的逻辑</a></li><li><a shape="rect" href="#DevelopingaService-Example">例</a></li></ul>
</li></ul>
</li><li><a shape="rect" href="#DevelopingaService-JavaFirstDevelopment">Java优先开发</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-CreatingtheSEI">创建SEI</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-Writingtheinterface">编写界面</a></li><li><a shape="rect" href="#DevelopingaService-Implementingtheinterface">实施界面</a></li></ul>
</li><li><a shape="rect" href="#DevelopingaService-AnnotatingtheCode">注释代码</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-RequiredAnnotations">必填注释</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-The@WebServiceannotation">@WebService批注</a></li><li><a shape="rect" href="#DevelopingaService-AnnotatingtheSEI">注释SEI</a></li><li><a shape="rect" href="#DevelopingaService-Annotatingtheserviceimplementation">注释服务实现</a></li></ul>
</li><li><a shape="rect" href="#DevelopingaService-OptionalAnnotations">可选注释</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-DefiningtheBindingPropertieswithAnnotations">用注解定义绑定属性</a></li><li><a shape="rect" href="#DevelopingaService-The@SOAPBindingannotation">@SOAPBinding批注</a></li><li><a shape="rect" href="#DevelopingaService-DefiningOperationPropertieswithAnnotations">用注释定义操作属性</a></li><li><a shape="rect" href="#DevelopingaService-The@WebMethodannotation">@WebMethod批注</a></li><li><a shape="rect" href="#DevelopingaService-The@RequestWrapperannotation">@RequestWrapper批注</a></li><li><a shape="rect" href="#DevelopingaService-The@ResponseWrapperannotation">@ResponseWrapper批注</a></li><li><a shape="rect" href="#DevelopingaService-The@WebFaultannotation">@WebFault批注</a></li><li><a shape="rect" href="#DevelopingaService-The@Onewayannotation">@Oneway批注</a></li><li><a shape="rect" href="#DevelopingaService-Example.1">例</a></li><li><a shape="rect" href="#DevelopingaService-DefiningParameterPropertieswithAnnotations">使用注释定义参数属性</a></li><li><a shape="rect" href="#DevelopingaService-The@WebParamannotation">@WebParam批注</a></li><li><a shape="rect" href="#DevelopingaService-The@WebResultannotation">@WebResult批注</a></li><li><a shape="rect" href="#DevelopingaService-Example.2">例</a></li></ul>
</li></ul>
</li><li><a shape="rect" href="#DevelopingaService-GeneratingWSDL">生成WSDL</a>
<ul class="toc-indentation"><li><a shape="rect" href="#DevelopingaService-Example.3">例</a></li></ul>
</li></ul>
</li></ul>
</li></ul>
</div><h1 id="DevelopingaService-DevelopingaServiceusingJAX-WS">使用JAX-WS开发服务</h1><p>您可以使用以下两种方法之一开发服务：</p><ul><li>从WSDL合同开始，并生成Java对象以实现服务。</li><li>从Java对象开始，并使用注释对其进行服务。</li></ul><p>对于新开发，首选的方法是在WSDL中设计服务，然后生成代码以实现它们。这种方法强化了一个概念，即服务是与实现无关的抽象实体。这也意味着您可以花更多的时间来设计服务所需的确切接口，然后再开始编码。</p><p>但是，在许多情况下，您可能需要维修才能启用现有应用程序。尽管JAX-WS简化了过程，但确实需要您对应用程序的源代码进行一些更改。您将需要在源中添加注释。它还要求您将代码迁移到Java 5.0。</p><h2 id="DevelopingaService-WSDLFirstDevelopment">WSDL首次开发</h2><p>使用WSDL第一服务开发模型，您将从WSDL文档开始，该文档定义了您希望实现的服务。可以从其他开发人员，系统架构师，UDDI注册中心获得此WSDL文档，也可以自己编写。在开始从文档中生成代码之前，该文档必须至少包含一个完全指定的逻辑接口。</p><p>获得WSDL文档后，开发JAX-WS服务的过程分为三个步骤：</p><ol><li>生成起点代码。</li><li>实施服务的操作。</li><li>发布已实施的服务。</li></ol><h3 id="DevelopingaService-GeneratingtheStartingPointCode">生成起点代码</h3><p>JAX-WS指定了从WSDL中定义的服务到将实现该服务的Java类的详细映射。逻辑接口，由<code>wsdl:portType</code>元素映射到服务端点接口（SEI）。遵循Java XML绑定体系结构（JAXB）规范定义的映射，将WSDL中定义的任何复杂类型映射到Java类。由<code>wsdl:service</code>元素还生成到Java类中，供消费者使用以访问实现服务的端点。</p><p><strong>wsdl2java</strong>命令可自动生成此代码。它还提供用于为实现生成起点代码的选项，以及用于构建应用程序的基于ant的makefile。 <strong>wsdl2java</strong>提供了许多用于控制所生成代码的参数。</p><h4 id="DevelopingaService-Runningwsdl2java">运行wsdl2java</h4><p>您可以使用以下命令生成开发服务所需的代码：<br clear="none">wsdl2java -ant -impl -server -d <em>outputDir</em> myService.wsdl</p><p>该命令执行以下操作：</p><ul><li>的<code>-ant</code>参数生成一个Ant生成文件，称为<code>build.xml</code> ，供您的应用程序使用。</li><li>的<code>-impl</code>参数为WSDL文档中的每个portType元素生成一个外壳实现类。</li><li>的<code>-server</code>参数产生一个简单的<code>main()</code>将您的服务作为独立应用程序启动。</li><li>的<code>-d <em>outputDir</em></code>参数告诉<strong>wsdl2java</strong>将生成的代码写入名为outputDir的目录。</li><li><code>myService.wsdl</code>是从中生成代码的WSDL文档。</li></ul><h4 id="DevelopingaService-Generatedcode">生成的代码</h4><p><a shape="rect" href="developing-a-service.html">＃Table1</a>描述了用于创建服务的文件。</p><p><span class="confluence-anchor-link" id="DevelopingaService-Table1"></span> <strong>表1：为服务生成的类</strong></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>文件</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code><em>portTypeName</em>.java</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>SEI。该文件包含您的服务实现的接口。您不应该编辑该文件。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code><em>serviceName</em>.java</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>端点。该文件包含您的客户端将用于在服务上发出请求的Java类。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code><em>portTypeName</em>Impl.java</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>框架实现类。您将修改此文件以实现您的服务。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><code><em>portTypeName</em>_<em>portTypeName</em>ImplPort_Server.java</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>基本服务器<code>main()</code>这使您可以将服务部署为独立过程。</p></td></tr></tbody></table></div><h3 id="DevelopingaService-ImplementingtheService">实施服务</h3><p>生成起点代码后，您必须为服务接口中定义的每个操作提供业务逻辑。</p><h4 id="DevelopingaService-Generatingtheimplementationcode">生成实现代码</h4><p>您可以使用<strong>wsdl2java</strong>的服务为您的服务生成实现类<code>-impl</code>旗。</p><div class="confluence-information-macro confluence-information-macro-tip"><p class="title">小费</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>如果您的服务合同包括XML Schema中定义的任何自定义类型，则还需要确保这些类型的类也已生成并可用。</p></div></div><h4 id="DevelopingaService-Generatedcode.1">生成的代码</h4><p>服务实现代码包含两个文件：</p><ul><li><code><em>portTypeName</em>.java</code>是服务的服务接口（SEI）。</li><li><code><em>portTypeName</em>Impl.java</code>是用于实现为服务定义的操作的类。</li></ul><h4 id="DevelopingaService-Implementtheoperation'slogic">实施操作的逻辑</h4><p>通过完成以下内容中的存根方法，可以为服务的操作提供业务逻辑： <code><em>portTypeName</em>Impl.java</code> 。在大多数情况下，您使用标准Java来实现业务逻辑。如果您的服务使用自定义XML架构类型，则需要为每种类型使用生成的类来操作它们。您还可以使用某些CXF特定的API来访问某些高级功能。</p><h4 id="DevelopingaService-Example">例</h4><p>例如，定义操作的服务的实现类<code>sayHi</code>和<code>greetMe</code>可能如下所示：</p><p><span class="confluence-anchor-link" id="DevelopingaService-Example1"></span></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>实施Greeter服务</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">package demo.hw.server;

import org.apache.hello_world_soap_http.Greeter;

@javax.jws.WebService(portName = "SoapPort", serviceName = "SOAPService",
 targetNamespace = "http://apache.org/hello_world_soap_http",
 endpointInterface = "org.apache.hello_world_soap_http.Greeter")

public class GreeterImpl implements Greeter {

  public String greetMe(String me)
  {
    System.out.println("Executing operation greetMe");
    System.out.println("Message received: " + me + "\n");
    return "Hello " + me;
  }

  public String sayHi()
  {
    System.out.println("Executing operation sayHi\n");
    return "Bonjour";
  }
}
</pre>
</div></div><h2 id="DevelopingaService-JavaFirstDevelopment">Java优先开发</h2><p>要从Java开始创建服务，您需要执行以下操作：</p><ol><li><p>创建一个服务端点接口（SEI），该接口定义您希望作为服务公开的方法。</p><div class="confluence-information-macro confluence-information-macro-tip"><p class="title">小费</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>您可以直接从Java类进行工作，但是建议从接口进行工作。接口更适合与负责开发使用您的服务的应用程序的开发人员共享。该接口较小，并且不提供任何服务的实现细节。</p></div></div></li><li>将所需的注释添加到您的代码中。</li><li><p>为您的服务生成WSDL合同。</p><div class="confluence-information-macro confluence-information-macro-tip"><p class="title">小费</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>如果您打算将SEI用作服务的合同，则无需生成WSDL合同</p></div></div></li><li>发布服务。</li></ol><h3 id="DevelopingaService-CreatingtheSEI">创建SEI</h3><p>服务端点接口（SEI）是在服务与对其进行请求的使用者之间共享的一段Java代码。从WSDL合同开始时，SEI由代码生成器生成。但是，从Java启动时，由开发人员来创建SEI。</p><p>创建SEI有两种基本模式：</p><ul><li><p>绿地开发<br class="atl-forced-newline" clear="none">您正在从头开始开发一项新服务。重新开始时，最好先创建SEI。然后，您可以将SEI分发给负责实施服务的任何开发人员和使用SEI的使用者。</p><div class="confluence-information-macro confluence-information-macro-note"><p class="title">注意</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>进行绿地服务开发的推荐方法是从创建定义服务及其接口的WSDL合同开始。</p></div></div></li><li>服务启用<br class="atl-forced-newline" clear="none">在这种模式下，您通常具有一组已实现为Java类的现有功能，并且希望对其进行服务。这意味着您将需要做两件事：<ol><li>创建一个SEI，它<strong>仅</strong>包含将作为服务的一部分公开的操作。</li><li><p>修改现有的Java类，使其实现SEI。</p><div class="confluence-information-macro confluence-information-macro-note"><p class="title">注意</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>您可以将JAX-WS批注添加到Java类中，但是不建议这样做。</p></div></div></li></ol></li></ul><h4 id="DevelopingaService-Writingtheinterface">编写界面</h4><p>SEI是标准Java接口。它定义了一个类将实现的一组方法。它还可以定义实现类可以访问的许多成员字段和常量。</p><p>在SEI的情况下，定义的方法旨在映射到服务公开的操作。SEI对应于<code>wsdl:portType</code>元件。SEI定义的方法对应于<code>wsdl:operation</code>中的元素<code>wsdl:portType</code>元件。</p><div class="confluence-information-macro confluence-information-macro-tip"><p class="title">小费</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>JAX-WS定义了一个注释，该注释使您可以指定未作为服务的一部分公开的方法。但是，最佳实践是将此类方法排除在SEI之外。</p></div></div><p>下面显示了用于库存更新服务的简单SEI。</p><p><span class="confluence-anchor-link" id="DevelopingaService-Example2"></span></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>简单的SEI</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">package org.apache.cxf;

public interface QuoteReporter
{
  public Quote getQuote(String ticker);
}
</pre>
</div></div><h4 id="DevelopingaService-Implementingtheinterface">实施界面</h4><p>因为SEI是标准Java接口，所以实现它的类只是一个标准Java类。如果您从Java类开始，则需要对其进行修改以实现该接口。如果您是从头开始，则实现类将需要实现SEI。</p><p>下面显示了用于实现上述接口的类。</p><p><span class="confluence-anchor-link" id="DevelopingaService-Example3"></span></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>实施SEI</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">package org.apache.cxf;

import java.util.*;

public class StockQuoteReporter implements QuoteReporter
{
  ...
  public Quote getQuote(String ticker)
  {
    Quote retVal = new Quote();
    retVal.setID(ticker);
    retVal.setVal(Board.check(ticker));
    Date retDate = new Date();
    retVal.setTime(retDate.toString());
    return retVal;
  }
}
</pre>
</div></div><h3 id="DevelopingaService-AnnotatingtheCode">注释代码</h3><p>JAX-WS依赖Java 5的注释功能。JAX-WS批注用于指定用于将SEI映射到完全指定的服务定义的元数据。注释中提供的信息如下：</p><ul><li>服务的目标名称空间。</li><li>用于保存请求消息的类的名称。</li><li>用于保存响应消息的类的名称。</li><li>如果一项操作是单向操作。</li><li>服务使用的绑定样式。</li><li>用于任何自定义异常的类的名称。</li><li><p>定义服务使用的类型的名称空间。</p><div class="confluence-information-macro confluence-information-macro-tip"><p class="title">小费</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>大多数注释具有合理的默认值，无需指定。但是，您在批注中提供的信息越多，服务定义的定义就越好。可靠的服务定义增加了分布式应用程序的所有部分一起工作的可能性。</p></div></div></li></ul><h4 id="DevelopingaService-RequiredAnnotations">必填注释</h4><p>为了从Java代码创建服务，您只需要在代码中添加一个注释即可。您必须添加<code>@WebService()</code> SEI和实现类上的注释。</p><h5 id="DevelopingaService-The@WebServiceannotation">的<code>@WebService</code>注解</h5><p>的<code>@WebService</code>注释由<code>javax.jws.WebService</code>接口，并将其放置在旨在用作服务的接口或类上。 <code>@WebService</code>具有以下属性：</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>名称</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定服务接口的名称。此属性映射到<code>wsdl:portType</code>元素，用于定义WSDL合同中服务的接口。默认为追加<code>PortType</code>到实现类的名称。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>targetNamespace</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定用于定义服务的目标名称空间。如果未指定此属性，则目标名称空间是从程序包名称派生的。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>服务名称</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定已发布服务的名称。此属性映射到<code>name</code>的属性<code>wsdl:service</code>定义已发布服务的元素。默认设置是使用服务的实现类的名称。<strong>注意：</strong> SEI上不允许</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>wsdlLocation</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定用于存储服务的WSDL合同的URI。默认值是用于部署服务的URI。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>EndpointInterface</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定实现类实现的SEI的全名。仅当在服务实现类上使用该属性时，才使用此属性。<strong>注意：</strong> SEI上不允许</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>portName</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定发布服务的端点的名称。此属性映射到<code>name</code>的属性<code>wsdl:port</code>指定已发布服务的端点详细信息的元素。默认为追加<code>Port</code>服务的实现类的名称。<strong>注意：</strong> SEI上不允许</p></td></tr></tbody></table></div><div class="confluence-information-macro confluence-information-macro-tip"><p class="title">小费</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>您无需为任何<code>@WebService</code>注释的属性。但是，建议您提供尽可能多的信息。</p></div></div><h5 id="DevelopingaService-AnnotatingtheSEI">注释SEI</h5><p>SEI要求您添加<code>@WebService</code>注解。由于SEI是定义服务的合同，因此，您应该在SEI中指定尽可能多的服务细节。 <code>@WebService</code>注释的属性。</p><p>以下代码显示了<a shape="rect" href="developing-a-service.html">上面</a>定义的接口<a shape="rect" href="developing-a-service.html">，</a>其中包含<code>@WebService</code>注解。</p><p><span class="confluence-anchor-link" id="DevelopingaService-Example4"></span></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>与@WebService批注接口</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">package com.mycompany.demo;

import javax.jws.*;

@WebService(name="quoteUpdater",
   targetNamespace="http://cxf.apache.org",
   wsdlLocation="http://somewhere.com/quoteExampleService?wsdl")
public interface QuoteReporter
{
  public Quote getQuote(@WebParam(name="ticker") String ticker);
}
</pre>
</div></div><p>的<code>@WebService</code> <a shape="rect" href="developing-a-service.html">上面</a>的注释执行以下操作：</p><ol><li>指定该属性的name属性的值<code>wsdl:portType</code>定义服务接口的元素是<code>quoteUpdater</code> 。</li><li>指定服务的目标名称空间是<code><a shape="rect" href="http://cxf.apache.org">http://cxf.apache.org</a></code> 。</li><li>指定服务将使用在以下位置发布的预定义的WSDL合同： <code><a shape="rect" class="external-link" href="http://somewhere.com/quoteExampleService?wsdl" rel="nofollow">http://somewhere.com/quoteExampleService?wsdl</a></code> 。</li></ol><p>@WebParam批注是必需的，因为Java接口不在.class文件中存储参数名称。因此，如果省略注释，则您的参数将命名为arg0。</p><h5 id="DevelopingaService-Annotatingtheserviceimplementation">注释服务实现</h5><p>除了使用<code>@WebService</code>注释，您还必须使用注释服务实现类<code>@WebService</code>注解。将注释添加到服务实现类时，只需指定<code>endpointInterface</code>属性。如下所示，该属性需要设置为SEI的全名。</p><p><span class="confluence-anchor-link" id="DevelopingaService-Example5"></span></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>带注释的服务实现类</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">package org.apache.cxf;

import javax.jws.*;

@WebService(endpointInterface="org.apache.cxf.quoteReporter",
   targetNamespace="http://cxf.apache.org",
   portName="StockQuotePort",
   serviceName="StockQuoteReporter",
)
public class StockQuoteReporter implements QuoteReporter
{
  public Quote getQuote(String ticker)
  {
  ...
  }
}
</pre>
</div></div><h4 id="DevelopingaService-OptionalAnnotations">可选注释</h4><p>而<code>@WebService</code>注释足以使服务启用Java接口或Java类，但它并未提供有关如何将服务作为端点公开的大量信息。JAX-WS编程模型使用许多可选的注释来将有关服务的详细信息（例如其使用的绑定）添加到Java代码。您将这些批注添加到服务的SEI。</p><div class="confluence-information-macro confluence-information-macro-tip"><p class="title">小费</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>您在SEI中提供的详细信息越多，开发人员将越容易实现可以使用其定义的功能的应用程序。它还将提供更好的WSDL合同生成。</p></div></div><h5 id="DevelopingaService-DefiningtheBindingPropertieswithAnnotations">用注解定义绑定属性</h5><p>如果将SOAP绑定用于服务，则可以使用JAX-WS批注指定许多绑定属性。这些属性直接与您可以在服务的WSDL合同中指定的属性相对应。</p><h5 id="DevelopingaService-The@SOAPBindingannotation">的<code>@SOAPBinding</code>注解</h5><p>的<code>@SOAPBinding</code>注释由<code>javax.jws.soap.SOAPBinding</code>接口。它提供有关服务在部署时使用的SOAP绑定的详细信息。如果<code>@SOAPBinding</code>未指定注释，则使用包装的文档/文字SOAP绑定发布服务。</p><p>你可以把<code>@SOAPBinding</code> SEI和SEI的任何方法上的注释。在方法上使用时，方法的设置<code>@SOAPBinding</code>注释优先。</p><p>下表显示了@SOAPBinding批注的属性。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>价值观</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>样式</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><code>Style.DOCUMENT</code> （默认）<br class="atl-forced-newline" clear="none"> <code>Style.RPC</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定SOAP消息的样式。如果<code>RPC</code>如果指定了样式，则SOAP正文中的每个消息部分都是参数或返回值，并将显示在<code>soap:body</code>元件。包装器元素中的消息部分与操作参数相对应，并且必须以与操作中的参数相同的顺序出现。如果<code>DOCUMENT</code>如果指定了style，则SOAP正文的内容必须是有效的XML文档，但是其形式没有受到严格的限制。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>使用</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><code>Use.LITERAL</code> （默认）<br class="atl-forced-newline" clear="none"> <code>Use.ENCODED</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定如何流式传输SOAP消息的数据。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>parameterStyle</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><code>ParameterStyle.BARE</code><br class="atl-forced-newline" clear="none"> <code>ParameterStyle.WRAPPED</code> （默认）</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定如何将与WSDL合同中的消息部分相对应的方法参数放入SOAP消息主体中。参数样式<code>BARE</code>表示将每个参数作为消息根的子元素放入消息正文中。参数样式<code>WRAPPED</code>表示所有输入参数都包装在请求消息中的单个元素中，而所有输出参数都包装在响应消息中的单个元素中。如果您将样式设置为RPC，则必须使用<code>WRAPPED</code>参数样式。</p></td></tr></tbody></table></div><p>使用rpc /文字SOAP消息的SEI如下：</p><p><span class="confluence-anchor-link" id="DevelopingaService-Example6"></span></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>指定RPC / LITERAL SOAP绑定</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">package org.eric.demo;

import javax.jws.*;
import javax.jws.soap.*;
import javax.jws.soap.SOAPBinding.*;

@WebService(name="quoteReporter")
@SOAPBinding(style=Style.RPC, use=Use.LITERAL)
public interface QuoteReporter
{
  ...
}
</pre>
</div></div><h5 id="DevelopingaService-DefiningOperationPropertieswithAnnotations">用注释定义操作属性</h5><p>当运行时将Java方法定义映射为XML操作定义时，它会填充以下详细信息：</p><ul><li>交换的消息在XML中是什么样的。</li><li>是否可以将消息优化为单向消息。</li><li>定义消息的名称空间。</li></ul><h5 id="DevelopingaService-The@WebMethodannotation">的<code>@WebMethod</code>注解</h5><p>的<code>@WebMethod</code>注释由<code>javax.jws.WebMethod</code>接口。它放在SEI中的方法上。的<code>@WebMethod</code>注释提供通常在<code>wsdl:operation</code>描述与方法相关联的操作的元素。</p><p>下表描述了<code>@WebMethod</code>注解。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>operationName</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定关联的值<code>wsdl:operation</code>元素的名称。默认值为方法的名称。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>行动</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定的值<code>soapAction</code>的属性<code>soap:operation</code>为该方法生成的元素。默认值为空字符串。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>排除</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定是否应从服务接口中排除该方法。默认是<code>false</code> 。</p></td></tr></tbody></table></div><h5 id="DevelopingaService-The@RequestWrapperannotation">的<code>@RequestWrapper</code>注解</h5><p>的<code>@RequestWrapper</code>注释由<code>javax.xml.ws.RequestWrapper</code>接口。它放在SEI中的方法上。顾名思义， <code>@RequestWrapper</code>指定为在远程调用中发送的请求消息中包含的方法参数实现包装器bean的Java类。它还用于指定在编组和解组请求消息时由运行时使用的元素名称和名称空间。</p><p>下表描述了@RequestWrapper批注的属性。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>localName</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>在请求消息的XML表示中指定包装器元素的本地名称。默认值为方法名称或<code>@WebMethod</code>注释的<code>operationName</code>属性。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>targetNamespace</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定在其下定义XML包装器元素的名称空间。默认值为SEI的目标名称空间。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>班级名称</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定实现包装器元素的Java类的全名。</p></td></tr></tbody></table></div><div class="confluence-information-macro confluence-information-macro-tip"><p class="title">小费</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>只有<code>className</code>属性是必需的。</p></div></div><h5 id="DevelopingaService-The@ResponseWrapperannotation">的<code>@ResponseWrapper</code>注解</h5><p>的<code>@ResponseWrapper</code>注释由<code>javax.xml.ws.ResponseWrapper</code>接口。它放在SEI中的方法上。顾名思义， <code>@ResponseWrapper</code>指定为在远程调用中发送的响应消息中包括的方法参数实现包装器bean的Java类。它还用于指定在编组和解组响应消息时运行时使用的元素名称和名称空间。</p><p>下表描述了<code>@ResponseWrapper</code>注解。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>localName</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>在响应消息的XML表示中指定包装器元素的本地名称。默认值为使用以下方法的名称<code>Response</code>附加或<code>@WebMethod</code>注释的<code>operationName</code>与财产<code>Response</code>附加。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>targetNamespace</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定在其下定义XML包装器元素的名称空间。默认值为SEI的目标名称空间。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>班级名称</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定实现包装器元素的Java类的全名。</p></td></tr></tbody></table></div><div class="confluence-information-macro confluence-information-macro-tip"><p class="title">小费</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>只有<code>className</code>属性是必需的。</p></div></div><h5 id="DevelopingaService-The@WebFaultannotation">的<code>@WebFault</code>注解</h5><p>的<code>@WebFault</code>注释由<code>javax.xml.ws.WebFault</code>接口。它放置在SEI引发的异常上。的<code>@WebFault</code>批注用于将Java异常映射到<code>wsdl:fault</code>元件。此信息用于将异常编组为可以由服务及其使用方处理的表示形式。</p><p>下表描述了<code>@WebFault</code>注解。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>名称</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定故障元素的本地名称。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>targetNamespace</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定在其下定义故障元素的名称空间。默认值为SEI的目标名称空间。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>faultName</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定实现该异常的Java类的全名。</p></td></tr></tbody></table></div><div class="confluence-information-macro confluence-information-macro-note"><p class="title">重要</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>的<code>name</code>属性是必需的。<br clear="none">整我： <code>faultName</code>被定义为<code>beanName</code>由Sun Java EE 5 SDK在<a shape="rect" class="external-link" href="http://java.sun.com/javaee/5/docs/api/javax/xml/ws/WebFault.html" rel="nofollow">http://java.sun.com/javaee/5/docs/api/javax/xml/ws/WebFault.html上提供</a> 。</p></div></div><h5 id="DevelopingaService-The@Onewayannotation">的<code>@Oneway</code>注解</h5><p>的<code>@Oneway</code>注释由<code>javax.jws.Oneway</code>接口。它被放置在SEI中不需要服务响应的方法上。的<code>@Oneway</code>批注告诉运行时它可以通过不等待响应并且不保留任何资源来处理响应来优化方法的执行。</p><h5 id="DevelopingaService-Example.1">例</h5><p>下面显示了带有方法的SEI。</p><p><span class="confluence-anchor-link" id="DevelopingaService-Example7"></span></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>带注释方法的SEI</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">package org.apache.cxf;

import javax.jws.*;
import javax.xml.ws.*;

@WebService(name="quoteReporter")
public interface QuoteReporter
{
  @WebMethod(operationName="getStockQuote")
  @RequestWrapper(targetNamespace="http://demo.mycompany.com/types",
      className="java.lang.String")
  @ResponseWrapper(targetNamespace="http://demo.mycompany.com/types",
      className="org.eric.demo.Quote")
  public Quote getQuote(String ticker);
}
</pre>
</div></div><h5 id="DevelopingaService-DefiningParameterPropertieswithAnnotations">使用注释定义参数属性</h5><p>SEI中的方法参数对应于<code>wsdl:message</code>元素及其<code>wsdl:part</code>元素。JAX-WS提供了注释，使您可以描述<code>wsdl:part</code>为方法参数生成的元素。</p><h5 id="DevelopingaService-The@WebParamannotation">的<code>@WebParam</code>注解</h5><p>的<code>@WebParam</code>注释由<code>javax.jws.WebParam</code>接口。它放在SEI中定义的方法的参数上。的<code>@WebParam</code>批注允许您指定参数的方向（如果将参数放置在SOAP标头中）以及生成的其他属性<code>wsdl:part</code> 。</p><p>下表描述了<code>@WebParam</code>注解。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>价值观</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>名称</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p> </p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定在WSDL中显示的参数名称。对于RPC绑定，这是<code>wsdl:part</code>代表参数。对于文档绑定，这是表示参数的XML元素的本地名称。根据JAX-WS规范，默认值为<em>argN</em> ，其中<em>N</em>替换为基于零的参数索引（即<em>arg0</em> ， <em>arg1</em>等）。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>targetNamespace</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p> </p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定参数的名称空间。它仅与参数绑定到XML元素的文档绑定一起使用。默认值为使用服务的名称空间。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>模式</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><code>Mode.IN</code> （默认）<br class="atl-forced-newline" clear="none"> <code>Mode.OUT</code><br class="atl-forced-newline" clear="none"> <code>Mode.INOUT</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定参数的方向。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>标头</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><code>false</code> （默认）<br class="atl-forced-newline" clear="none"> <code>true</code></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定参数是否作为SOAP标头的一部分传递。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>零件名称</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p> </p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定名称的属性值<code>wsdl:part</code>绑定为document时参数的元素。</p></td></tr></tbody></table></div><h5 id="DevelopingaService-The@WebResultannotation">的<code>@WebResult</code>注解</h5><p>的<code>@WebResult</code>注释由<code>javax.jws.WebResult</code>接口。它放在SEI中定义的方法上。的<code>@WebResult</code>批注允许您指定生成的属性<code>wsdl:part</code>为该方法的返回值生成的。</p><p>下表描述了<code>@WebResult</code>注解。</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>属性</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>描述</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>名称</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定在WSDL中显示的返回值的名称。对于RPC绑定，这是<code>wsdl:part</code>代表返回值。对于文档绑定，这是代表返回值的XML元素的本地名称。默认值为return。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>targetNamespace</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定返回值的名称空间。它仅与返回值映射到XML元素的文档绑定一起使用。默认值为使用服务的名称空间。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>标头</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定是否将返回值作为SOAP标头的一部分传递。</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>零件名称</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>指定名称的属性值<code>wsdl:part</code>绑定为document时返回值的元素。</p></td></tr></tbody></table></div><h5 id="DevelopingaService-Example.2">例</h5><p>下一个示例显示了完全注释的SEI。</p><p><span class="confluence-anchor-link" id="DevelopingaService-Example8"></span></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>完全注释的SEI</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">package org.apache.cxf;

import javax.jws.*;
import javax.xml.ws.*;
import javax.jws.soap.*;
import javax.jws.soap.SOAPBinding.*;
import javax.jws.WebParam.*;

@WebService(name="quoteReporter")
@SOAPBinding(style=Style.RPC, use=Use.LITERAL)
public interface QuoteReporter
{
  @WebMethod(operationName="getStockQuote")
  @RequestWrapper(targetNamespace="http://demo.mycompany.com/types",
     className="java.lang.String")
  @ResponseWrapper(targetNamespace="http://demo.mycompany.com/types",
     className="org.eric.demo.Quote")
  @WebResult(targetNamespace="http://demo.mycompany.com/types",
     name="updatedQuote")
  public Quote getQuote(
     @WebParam(targetNamespace="http://demo.mycompany.com/types",
               name="stockTicker",
               mode=Mode.IN)
               String ticker
  );
}
</pre>
</div></div><h3 id="DevelopingaService-GeneratingWSDL">生成WSDL</h3><p>注释<strong>完</strong>代码后，可以使用<strong>java2wsdl</strong>命令为服务生成WSDL合同。</p><h4 id="DevelopingaService-Example.3">例</h4><p>下一个示例显示为<a shape="rect" href="developing-a-service.html">上面</a>显示的SEI生成的WSDL合同：</p><p><span class="confluence-anchor-link" id="DevelopingaService-Example9"></span></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>从SEI生成WSDL</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default" style="font-size:12px;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsdl:definitions targetNamespace="http://demo.eric.org/"
    xmlns:tns="http://demo.eric.org/"
    xmlns:ns1=""
    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns:ns2="http://demo.eric.org/types"
    xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"&gt;
  &lt;wsdl:types&gt;
    &lt;xsd:schema&gt;
      &lt;xs:complexType name="quote"&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element name="ID" type="xs:string" minOccurs="0"/&gt;
          &lt;xs:element name="time" type="xs:string" minOccurs="0"/&gt;
          &lt;xs:element name="val" type="xs:float"/&gt;
        &lt;/xs:sequence&gt;
      &lt;/xs:complexType&gt;
    &lt;/xsd:schema&gt;
  &lt;/wsdl:types&gt;
  &lt;wsdl:message name="getStockQuote"&gt;
    &lt;wsdl:part name="stockTicker" type="xsd:string"&gt;
    &lt;/wsdl:part&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:message name="getStockQuoteResponse"&gt;
    &lt;wsdl:part name="updatedQuote" type="tns:quote"&gt;
    &lt;/wsdl:part&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:portType name="quoteReporter"&gt;
    &lt;wsdl:operation name="getStockQuote"&gt;
      &lt;wsdl:input name="getQuote" message="tns:getStockQuote"&gt;
    &lt;/wsdl:input&gt;
      &lt;wsdl:output name="getQuoteResponse" message="tns:getStockQuoteResponse"&gt;
    &lt;/wsdl:output&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:portType&gt;
  &lt;wsdl:binding name="quoteReporterBinding" type="tns:quoteReporter"&gt;
    &lt;soap:binding style="rpc" transport="http://schemas.xmlsoap.org/soap/http"/&gt;
    &lt;wsdl:operation name="getStockQuote"&gt;
      &lt;soap:operation style="rpc"/&gt;
      &lt;wsdl:input name="getQuote"&gt;
        &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output name="getQuoteResponse"&gt;
        &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:binding&gt;
  &lt;wsdl:service name="quoteReporterService"&gt;
    &lt;wsdl:port name="quoteReporterPort" binding="tns:quoteReporterBinding"&gt;
      &lt;soap:address location="http://localhost:9000/quoteReporterService"/&gt;
    &lt;/wsdl:port&gt;
  &lt;/wsdl:service&gt;
&lt;/wsdl:definitions&gt;
</pre>
</div></div></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=27270">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=27270&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>