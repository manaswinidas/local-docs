<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - CXF_Eclipse_Plugin_Instructions">




    <title>Apache CXF-CXF_Eclipse_Plugin_Instructions</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> > <a href="tools.html">工具</a> > <a href="cxf-tools-in-eclipse.html">Eclipse中的CXF工具</a> > <a href="cxfeclipseplugininstructions.html">CXF_Eclipse_Plugin_Instructions</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h1 id="CXF_Eclipse_Plugin_Instructions-WebServiceswithCXFandEclipse">带有CXF和Eclipse的Web服务</h1>

<div class="confluence-information-macro confluence-information-macro-warning"><p class="title">小心！</p><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>该页面已经过时，并且有一种使用Eclipse开发CXF服务的新方法！我们将尽快在这里提供详细信息。</p></div></div>

<h2 id="CXF_Eclipse_Plugin_Instructions-Introduction">介绍</h2>

<p>这些说明假定您熟悉<a shape="rect" class="external-link" href="http://help.eclipse.org/help33/index.jsp" rel="nofollow">Eclipse的使用</a> ，知道如何<a shape="rect" class="external-link" href="http://access1.sun.com/techarticles/simple.WAR.html" rel="nofollow">创建war文件</a>以及知道<a shape="rect" class="external-link" href="http://www.developer.com/services/article.php/10928_1602051_1" rel="nofollow">如何创建WSDL</a> 。</p>

<h2 id="CXF_Eclipse_Plugin_Instructions-Setup">设定</h2>

<p>假定您已经下载并安装了3.3版或更高版本的<a shape="rect" class="external-link" href="http://www.eclipse.org" rel="nofollow">Eclipse</a> 。您还需要下载并提取<a shape="rect" class="external-link" href="http://incubator.apache.org/cxf/download.html">Apache CXF二进制发行版</a>和<a shape="rect" class="external-link" href="http://tomcat.apache.org/download-60.cgi">Apache Tomcat</a>或您喜欢的Web应用程序服务器。</p>

<h3 id="CXF_Eclipse_Plugin_Instructions-UpdatingEclipse">更新Eclipse</h3>

<p>通常，您将需要在Eclipse中为Web服务（特别是CXF Web服务）安装一些额外的插件。您可以轻松下载<a shape="rect" class="external-link" href="http://www.eclipse.org/downloads/download.php?file=/stp/downloads/drops/R-R200710161054-200710161054/stp-all-in-one-incubation-R-R200710161054-200710161054.zip" rel="nofollow">多合一软件包</a>并将其解压缩到eclipse文件夹中。<br clear="none">注意：下载的软件包不是最新版本。集成了新的<a shape="rect" href="java-to-ws.html">java2ws工具</a>的最新版本的STP（SOA工具平台）插件仅支持CXF 2.1。*或更高版本。</p>

<h3 id="CXF_Eclipse_Plugin_Instructions-AddingCXFruntimeinEclipse">在Eclipse中添加CXF运行时</h3>

<p>加载完所有上载后，您需要将CXF链接为<em>Installed runtime</em> 。单击<em>Windows /首选项/ SOA工具/已安装的运行时</em>以打开运行时配置页面。在此页面中，单击<em>添加</em>按钮并浏览到包含Apache CXF的目录，然后单击<em>确定</em> 。</p>

<h3 id="CXF_Eclipse_Plugin_Instructions-AddingTomcatServerinEclipse">在Eclipse中添加Tomcat服务器</h3>
<ul><li>单击<em>窗口/显示视图/其他.../ Server / Servers</em>打开服务器视图。</li><li>在服务器视图中，右键单击并选择<em>New / Server / Apache / Tomcat v6.0 Server</em> 。单击<em>下一步</em>按钮，浏览到包含Tomcat的目录，然后单击<em>完成</em> 。</li><li>现在，在服务器视图中，将有一个新的tomcat服务器。双击tomcat服务器以在<strong>编辑器部分中</strong>打开配置页面。</li><li>在此配置页面的“ <strong>服务器位置”</strong>部分中，选择“ <strong>使用Tomcat安装”（控制Tomcat安装），</strong>然后修改从wtpwebapps到webapps的<strong>部署路径</strong> 。</li><li>在<strong>Navigator View中</strong>应该有一个名为<strong>Servers</strong>的项目。打开此项目的文件<strong>catalina.properties</strong>并将<em>（CXF_Install_Location）/ lib / *。jar添加</em>到属性<em>shared.loader中</em> 。</li><li>全部完成！</li></ul>


<h2 id="CXF_Eclipse_Plugin_Instructions-CreatingaProject">创建一个项目</h2>

<h3 id="CXF_Eclipse_Plugin_Instructions-JavaFirst(NotRecommended)">Java First（不推荐）</h3>

<p><strong>注意：</strong>保留默认目录结构。如果您更改自动系统，则会感到困惑。</p>

<ul><li>选择文件/新建/其他/ SOA工具/ JAX-WS Java First Project</li><li>当被问到是否要打开JAX-WS透视图时说“是”</li><li>为您的服务创建一个接口：<div class="preformatted panel" style="border-width:1px"><div class="preformattedContent panelContent">
<pre>package com.cid.simpleservice.service

public interface ScientificCalculator {
   public float squareRoot( float value,float pow);
}
</pre>
</div></div></li></ul>


<ul><li>注释界面：<ul><li>在<em>大纲视图中</em>右键单击类</li><li>选择<strong>JAX-WS工具/创建Web服务</strong></li><li>在<em>大纲视图中</em>右键单击您的方法名称</li><li>选择<strong>JAX-WS工具/创建Web方法</strong></li></ul>
	</li><li>保存文件。如果已选中“ <em>自动</em>执行<em>项目/构建”</em> ，则保存后应立即在项目目录结构中看到一个新的<em>wsdl</em>文件夹。或者，您也可以手动构建项目以生成<em>wsdl</em>文件夹。根据您的界面，文件夹中应包含WSDL。</li></ul>


<p>现在，您需要对自动生成的注释进行一些修改。</p>
<ul><li>单击<em>@WebService</em> ，它应该出现在您的接口名称上方。<em>注释属性</em>应出现<br clear="none">在您的编辑窗口下方的框中。如果没有，请选择“窗口/显示视图/其他”。从弹出菜单中，选择SOA工具/ @注释属性。</li><li>在“注释属性”中，更改javax.jws.soap。SOAPBinding从false变为true。这可能需要您更改其他设置。如果是这样，请检查CXF文档以获取正确的值。</li></ul>


<p>进行更改并保存无误后，WSDL应出现在wsdl文件夹中。如果不是，请使用CXF包中的<strong>java2wsdl</strong> 。您可以从<a shape="rect" href="java-to-wsdl.html">命令提示符</a>运行它<a shape="rect" href="java-to-wsdl.html">，作为ant任务</a> ，也可以<a shape="rect" href="using-cxf-with-maven.html">从Maven</a>运行它。的<br clear="none">默认输出目录将为<em>wsdl</em>目录。</p>

<p>创建WSDL之后，进行修改以满足您的需求。例如，端口默认为<a shape="rect" class="external-link" href="http://localhost:9090/" rel="nofollow">http：// localhost：9090 /</a> 。此外，.NET代码创建例程不接受在输入请求上保留名为<em>parameter的参数</em> 。</p>

<div class="preformatted panel" style="border-width:1px"><div class="preformattedContent panelContent">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsdl:definitions name="ScientificCalculatorService" targetNamespace="http://service.simpleservice.cid.com/" 
xmlns:ns1="http://service.simpleservice.cid.com/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" 
xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"&gt;
  &lt;wsdl:types&gt;
&lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://service.simpleservice.cid.com/" 
attributeFormDefault="unqualified" elementFormDefault="unqualified" targetNamespace="http://service.simpleservice.cid.com/"&gt;
&lt;xsd:element name="squareRoot" type="squareRoot"/&gt;
&lt;xsd:complexType name="squareRoot"&gt;
&lt;xsd:sequence&gt;
&lt;xsd:element name="arg0" type="xsd:float"/&gt;
&lt;xsd:element name="arg1" type="xsd:float"/&gt;
&lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;
&lt;xsd:element name="squareRootResponse" type="squareRootResponse"/&gt;
&lt;xsd:complexType name="squareRootResponse"&gt;
&lt;xsd:sequence&gt;
&lt;xsd:element name="return" type="xsd:float"/&gt;
&lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;
&lt;/xsd:schema&gt;
  &lt;/wsdl:types&gt;
  &lt;wsdl:message name="squareRootResponse"&gt;
    &lt;wsdl:part name="squareRootOutput" element="ns1:squareRootResponse"&gt;
    &lt;/wsdl:part&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:message name="squareRoot"&gt;
    &lt;wsdl:part name="squareRootInput" element="ns1:squareRoot"&gt;
    &lt;/wsdl:part&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:portType name="ScientificCalculator"&gt;
    &lt;wsdl:operation name="squareRoot"&gt;
      &lt;wsdl:input name="squareRoot" message="ns1:squareRoot"&gt;
    &lt;/wsdl:input&gt;
      &lt;wsdl:output name="squareRootResponse" message="ns1:squareRootResponse"&gt;
    &lt;/wsdl:output&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:portType&gt;
  &lt;wsdl:binding name="ScientificCalculatorServiceSoapBinding" type="ns1:ScientificCalculator"&gt;
    &lt;soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/&gt;
    &lt;wsdl:operation name="squareRoot"&gt;
      &lt;soap:operation soapAction="" style="document"/&gt;
      &lt;wsdl:input name="squareRoot"&gt;
        &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output name="squareRootResponse"&gt;
        &lt;soap:body use="literal"/&gt;
      &lt;/wsdl:output&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:binding&gt;
  &lt;wsdl:service name="ScientificCalculatorService"&gt;
    &lt;wsdl:port name="ScientificCalculatorPort" binding="ns1:ScientificCalculatorServiceSoapBinding"&gt;
      &lt;soap:address location="http://localhost:8080/JavaFirstTest"/&gt;
    &lt;/wsdl:port&gt;
  &lt;/wsdl:service&gt;
&lt;/wsdl:definitions&gt;

</pre>
</div></div>


<p>设置WSDL后，使用它来创建实现类。突出显示WSDL并单击鼠标右键。选择<em>JAX-WS工具/生成代码</em> 。选择<em>实现，</em>然后，如果您使用的是<strong>Ant</strong> ，则选择<em>Generate Ant Script</em> 。如果未创建<em>Impl</em>文件，则可以使用<a shape="rect" href="wsdl-to-java.html">命令行，Ant task或maven</a>运行<em>wsdl2java</em> 。</p>

<div class="preformatted panel" style="border-width:1px"><div class="preformattedContent panelContent">
<pre>
/**
 * Please modify this class to meet your needs
 * This class is not complete
 */

package com.cid.simpleservice.service;

import java.util.logging.Logger;
import javax.jws.WebMethod;
import javax.jws.WebResult;
import javax.xml.ws.RequestWrapper;
import javax.xml.ws.ResponseWrapper;


@javax.jws.WebService(name = "ScientificCalculator", serviceName = "ScientificCalculatorService",
                      portName = "ScientificCalculatorPort",
                      targetNamespace = "http://service.simpleservice.cid.com/", 
                      wsdlLocation = "file:wsdl/javaFirstTest.wsdl" ,
		      endpointInterface = "com.cid.simpleservice.service.ScientificCalculator")
                      
public class ScientificCalculatorImpl implements ScientificCalculator {

    private static final Logger LOG = Logger.getLogger(ScientificCalculatorImpl.class.getName());

    /* (non-Javadoc)
     * @see com.cid.simpleservice.service.ScientificCalculator#squareRoot(float  arg0 ,)float  arg1 )*
     */
    public float squareRoot(float arg0,float arg1) { 
        LOG.info("Executing operation squareRoot");
        System.out.println(arg0);
        System.out.println(arg1);
        try {
   
            float _return = 0.0f;
            return _return;
        } catch (Exception ex) {
            ex.printStackTrace();
            throw new RuntimeException(ex);
        }
    }

}

</pre>
</div></div>

<p><strong>注意：</strong>这是最后一步，因此建议您不要使用此过程。使用java2wsdl时，CXF当前不支持wsdl2java。而且，正如您所看到的那样，某些自动化无法正常运行。</p>

<p>修改您的实现类以反映您的实际方法。</p>

<h3 id="CXF_Eclipse_Plugin_Instructions-WSDLFirst">WSDL优先</h3>

<p>创建您的WSDL。语法超出了此Wiki的范围。但是Eclipse中有一个工具可以创建一个。只需选择文件/新建/其他/ Web服务/ WSDL。您可以通过将<em>wsdl2java</em>与<em>-validate</em>标志一起使用来验证WSDL。</p>

<p>创建一个新项目：File / New / Project / SOA Tools / JAX-WS WSDL First Project。选择您的WSDL。选择创建实施，如果需要，选择生成蚂蚁脚本。如图所示，检查所有内容。如果代码不是自动生成的，请运行<em>wsdl2java</em>生成代码。</p>

<p>修改您的实现类以反映您的实际方法。</p>

<h2 id="CXF_Eclipse_Plugin_Instructions-DeployingProject">部署项目</h2>
<h3 id="CXF_Eclipse_Plugin_Instructions-BuildingPackage">建筑配套</h3>
<p>右键单击WSDL文件，然后在弹出菜单中选择<em>Build Package...。</em>然后，将在文件夹<em>build中</em>生成war文件。</p>
<h3 id="CXF_Eclipse_Plugin_Instructions-DeployingPackage">部署包</h3>
<p>右键单击WSDL文件或war文件，然后在弹出菜单中选择<em>Deploy...。</em>在弹出窗口中，选择刚在上面创建的Tomcat服务器。然后单击“ <em>确定”</em> 。</p>
<h3 id="CXF_Eclipse_Plugin_Instructions-StartingService">启动服务</h3>
<p>在服务器视图中启动Tomcat服务器。如果一切正常，则应激活您的项目服务。<br clear="none">部署War文件后，请访问：http：// <your server="">： // <your server=""><port><deployment name="">services。您将看到一个指向wsdl文件的链接。单击它，您的wsdl应该出现。</deployment></port></your></your></p></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=66453">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=66453&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>