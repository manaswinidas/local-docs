<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - JAXB">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushXml.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-JAXB</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> >数据<a href="databindings.html">绑定</a> > <a href="jaxb.html">JAXB</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h1 id="JAXB-Introduction">介绍</h1><p>JAXB是CXF的默认数据绑定。如果您没有在Spring配置中或通过API指定其他数据绑定之一，则将获得JAXB。从2.3.x开始的CXF发行版使用JDK7默认的JAXB 2.2，但是在JDK 6上运行的Maven用户将需要使用<a shape="rect" class="external-link" href="http://docs.oracle.com/javase/6/docs/technotes/guides/standards/" rel="nofollow">Java认可的替代机制</a>来使用JAXB 2.2而不是JAXB 2.1。</p><p>JAXB将Java注释与在类路径上找到的文件结合使用，以构建XML与Java之间的映射。JAXB支持代码优先和模式优先编程。模式优先支持在运行时动态创建客户端代理的能力。请参阅CXF DynamicClientFactory类。</p><p>CXF使用JAXB参考实现。要了解有关注释类或如何从模式生成Bean的更多信息，请阅读<a shape="rect" class="external-link" href="https://javaee.github.io/jaxb-v2/doc/user-guide/" rel="nofollow">JAXB用户指南</a> 。</p><h1 id="JAXB-JAXBversusJAX-WS(orotherfront-ends)">JAXB与JAX-WS（或其他前端）</h1><p>前端与数据绑定之间的交互存在一些陷阱。如果您需要对在线传输的XML进行详细控制，则可能要避免使用“包装”替代方案，而坚持使用“裸露”。当使用包装的参数样式或RPC绑定时，前端将为您的操作构造或多或少复杂的XML表示形式。与对JAXB的映射相比，对这些结构的控制较少。特别是，对控制XML Schema'elementFormDefault'的详细要求或使用或不使用XML名称空间前缀的开发人员通常会感到沮丧，因为这些选项的JAXB注释不会影响纯粹是前端工作的映射。结束。最安全的做法是使用文档/文学/裸露。</p><h1 id="JAXB-ConfiguringJAXB">配置JAXB</h1><p>CXF允许您通过两种方式配置JAXB。</p><h2 id="JAXB-JAXBProperties">JAXB属性</h2><p>JAXB允许应用程序指定两组可修改其行为的属性： <em>上下文</em>属性和<em>编组器</em>属性。CXF允许应用程序添加到这些属性。<strong>照顾自己。</strong> 在某些情况下，CXF设置这些属性供自己使用。</p><p>您可以通过JAXBDataBinding类将项目添加到这两个属性集中。JAXBDataBinding的'contextProperties'和'marshallerProperties' <em>属性</em> （从春季开始）分别存储一个Map <string, object="">。无论您在地图中放置什么内容，CXF都将传递给JAXB。有关详细信息，请参见JAXB文档。</string,></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>配置上下文属性的示例</b></div><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;jaxws:server id="bookServer"
    serviceClass="org.myorg.mytypes.AnonymousComplexTypeImpl"
    address="http://localhost:8080/act" 
    bus="cxf"&gt;
    &lt;jaxws:invoker&gt;
      &lt;bean class="org.apache.cxf.service.invoker.BeanInvoker"&gt;
        &lt;constructor-arg&gt;
          &lt;bean class="org.myorg.mytypes.AnonymousComplexTypeImpl"/&gt;
        &lt;/constructor-arg&gt;
      &lt;/bean&gt;
    &lt;/jaxws:invoker&gt;
    &lt;jaxws:dataBinding&gt;
      &lt;bean class="org.apache.cxf.jaxb.JAXBDataBinding"&gt;
        &lt;property name="contextProperties"&gt;
          &lt;map&gt;
            &lt;entry&gt;
              &lt;key&gt;&lt;value&gt;com.sun.xml.bind.defaultNamespaceRemap&lt;/value&gt;&lt;/key&gt;
              &lt;value&gt;uri:ultima:thule&lt;/value&gt;
            &lt;/entry&gt;
          &lt;/map&gt;
        &lt;/property&gt;
      &lt;/bean&gt;
    &lt;/jaxws:dataBinding&gt;
&lt;/jaxws:server&gt;
</pre>
</div></div><h2 id="JAXB-ActivatingJAXBValidationofSOAPrequestsandresponses">激活SOAP请求和响应的JAXB验证</h2><p>请参阅<a shape="rect" href="http://cxf.apache.org/faq.html#FAQ-HowcanIturnonschemavalidationforjaxwsendpoint?">常见问题解答</a> 。</p><h2 id="JAXB-NamespacePrefixManagement">命名空间前缀管理</h2><p>JAXB参考实现允许应用程序提供一个对象，该对象又将名称空间URI映射到前缀。您可以创建这样的对象并通过marshaller属性提供它。但是，CXF提供了更简单的过程。JAXBDataBinding的namespaceMap属性接受Map <string, string="">。可以将其视为从名称空间URI到名称空间前缀的映射。如果加载此地图，CXF将为您设置必要的marshaller属性。</string,></p><div class="code panel pdl" style="border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px"><b>配置名称空间映射的示例</b></div><div class="codeContent panelContent pdl">
<pre class="brush: xml; gutter: false; theme: Default">&lt;jaxws:server id="bookServer"
    serviceClass="org.myorg.mytypes.AnonymousComplexTypeImpl"
    address="http://localhost:8080/act" 
    bus="cxf"&gt;
    &lt;jaxws:invoker&gt;
      &lt;bean class="org.apache.cxf.service.invoker.BeanInvoker"&gt;
        &lt;constructor-arg&gt;
          &lt;bean class="org.myorg.mytypes.AnonymousComplexTypeImpl"/&gt;
        &lt;/constructor-arg&gt;
      &lt;/bean&gt;
    &lt;/jaxws:invoker&gt;
    &lt;jaxws:dataBinding&gt;
      &lt;bean class="org.apache.cxf.jaxb.JAXBDataBinding"&gt;
        &lt;property name="namespaceMap"&gt;
          &lt;map&gt;
            &lt;entry&gt;
              &lt;key&gt;&lt;value&gt;http://cxf.apache.org/anonymous_complex_type/&lt;/value&gt;&lt;/key&gt;
              &lt;value&gt;BeepBeep&lt;/value&gt;
            &lt;/entry&gt;
          &lt;/map&gt;
        &lt;/property&gt;
      &lt;/bean&gt;
    &lt;/jaxws:dataBinding&gt;
&lt;/jaxws:server&gt;
</pre>
</div></div></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=49906">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=49906&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>