<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - 2.6 Migration Guide">




    <title>Apache CXF-2.6迁移指南</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">指数</a> > <a href="how-tos.html">入门指南</a> > <a href="migration-guides.html">迁移指南</a> > <a href="26-migration-guide.html">2.6迁移指南</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h3 id="id-2.6MigrationGuide-NewFeatures">新的功能</h3>

<ul><li>Karaf features.xml中使用的大型OSGi捆绑包已由单个模块取代，这些模块现在都是单个捆绑包。大OSGi捆绑包仍在构建中，但是如果使用这些捆绑包代替小捆绑包，则某些功能可能不可用。</li><li>通过OSGi config：admin服务配置HTTP管道的新功能</li><li>从config：admin服务配置CXF创建的HTTP Jetty端口的新功能</li><li>OAuth 2支持（新的cxf-rt-rs-security-oauth2模块）</li><li>STS现在支持SAML令牌的续订绑定。</li><li>STS还支持批量发行/验证/取消/更新安全令牌。</li><li>STS支持一些基于Claims的高级功能，例如Claims Transformation和可插入的自定义Claims Parsing。</li><li>WS-Security模块现在默认支持时间戳和用户名令牌随机数的重播检测。</li><li>注册自定义JAX-RS上下文提供程序的新功能。</li><li>JAX-WS服务的新<a shape="rect" href="annotations.html">@UseAsyncMethod</a>批注。</li></ul>


<h3 id="id-2.6MigrationGuide-RemovedModules">卸下的模块</h3>
<ul><li>cxf-common-utilites合并到cxf-api</li><li>cxf-rt-binding-http已被删除。它已经“弃用”了一段时间，其功能很早就可以用JAX-RS前端替换。</li></ul>


<h3 id="id-2.6MigrationGuide-RemovedClasses">删除的课程</h3>

<ul><li>org.apache.cxf.jaxrs.ext.codegen。CodeGeneratorProvider已被删除。请使用wadl2java代码生成器生成JAX-RS代码。</li><li>org.apache.cxf.jaxrs.features.clustering。FailoverFeature已被删除。请使用常见的org.apache.cxf.clustering。改为使用FailoverFeature。</li></ul>


<h3 id="id-2.6MigrationGuide-APIChanges">API变更</h3>
<ul><li>所有采用或返回“通用”类的API均已更新，以正确定义通用部分。例如，方法如下：<br clear="none">“类getServiceClass（）”已更新为“类<!--?-->getServiceClass（）”<!--?--></li><li>为了解决罐子之间的某些“拆分包装”问题，某些（很少）类确实更改了其包装。
	<ul><li>org.apache.cxf.jaxb。JAXBUtils-> org.apache.cxf.common.jaxb。JAXBUtils（以及该jaxb包中的其他几个类）</li><li>许多内部“ Impl”类和“ Managers”（例如BindingFactoryManagerImpl，CXFBusLifeCycleManager等）已移至org.apache.cxf.bus.managers中。无论如何，用户应始终依赖于他们实现的接口。</li></ul>
	</li><li>AbstractConduitSelector的selectedConduit字段已被删除，因为根据场景，ConduitSelector可用于选择多个管道，并且selectedConduit字段可能无法准确反映已选择的管道，具体取决于线程，客户端等的状态。</li><li>org.apache.cxf.tools.common.extensions.soap中的类已移至org.apache.cxf.binding.soap.wsdl.extensions中，以删除对工具模块的运行时依赖性。</li><li>org.apache.cxf.tools.common。不推荐使用DataTypeAdapter并将其移至org.apache.cxf.xjc.runtime。新的运行时jar中的DataTypeAdapter，它是cxf-xjc软件包的一部分。这允许使用运行时而无需引入所有CXF工具依赖项。DataTypeAdapter没有任何其他CXF依赖关系，因此也可以在CXF之外使用。</li><li>XJC“ ToString”插件还具有将其运行时依赖项移出org.apache.cxf.tools并移入cxf-xjc-runtime jar的功能。如果您使用更新版本的ToString插件，则需要将cxf-xjc-runtime依赖项添加到您的应用程序中。但是，cxf-xjc-runtime jar不依赖于其他CXF jar或类，因此可以轻松地在其他应用程序中使用，而无需引入太多依赖项。</li></ul>



<h3 id="id-2.6MigrationGuide-DependencyChanges">依赖性变化</h3>
<ul><li>cxf-api中的org.apache.cxf.tools。*类已移至cxf-tools-common或cxf-tools-validator中。</li><li>cxf-api中的org.apache.cxf.ws.policy类已移至cxf-rt-ws-policy。</li><li>cxf-common-utilities不再可用。那里的所有类都移到了cxf-api中，以表示完整的“ api”。</li><li>cxf-rt-core和cxf-rt-ws-addr中的各种类已移至cxf-api，以解决拆分程序包问题。无论如何，对cxf-rt-core的依赖将可传递地引入cxf-api，因此影响不大。</li><li>现在，Spring是http-jetty transports模块和其他模块的可选组件。可能需要通过CXF暂时引入Spring的应用程序必须直接在其自己的Pom中声明所需的spring依赖项。</li><li>大多数可选的JAX-RS提供程序已从cxf-rt-frontend-jaxrs模块中移出，并移到了cxf-rt-rs-extension-providers模块中，其中的各种依赖项都标记为可选/已提供。使用这些可选提供程序的应用程序将需要添加必需的依赖项。此外，这些提供程序的程序包名称已更改，以解决拆分程序包问题。示例：org.apache.cxf.jaxrs.provider。JSONProvider到org.apache.cxf.jaxrs.provider.json。JSONProvider。 “ org.apache.cxf.jaxrs.provider.aegis”是面向Aegis提供商的新软件包，<br clear="none">对于XMLBeans提供程序，为“ org.apache.cxf.jaxrs.provider.xmlbeans”，对于Atom提供程序为“ org.apache.cxf.jaxrs.provider.atom”。</li><li>EhCache现在是cxf-rt-ws-security模块的编译时依赖性，以支持缓存和重播检测。可以安全地将其排除在下游，但以削弱缓存支持为代价。</li><li>CORS软件包已更改为org.apache.cxf.rs.security.cors，并移至新的cxf-rt-rs-security-cors模块。</li><li>JAX-RS搜索扩展代码已移至新的cxf-rt-rs-extension-search模块。</li></ul>


<h3 id="id-2.6MigrationGuide-RuntimeChanges">运行时更改</h3>
<ul><li>WS-SecurityPolicy策略的语法更严格地执行。结果，某些使用CXF <2.6的策略将不会在CXF 2.6中加载。</li><li>JMS传输-使用TextMessage时，CXF现在将内容保留为String并使用java.io。Reader和java.io。作家提高性能。以前，CXF会将字符串与byte []进行字符串转换，这需要使用编码器，增加内存使用量等。但是，CXF中的某些拦截器和功能（或用户拦截器）可能期望或要求使用InputStream / OutputStreams，而不是Reader / Writer。在这些情况下，您可能需要更改为使用BytesMessage。例如，FastInfoset功能和GZIP功能希望可以在InputStream / OutputStream上使用，因此现在可以与TextMessage一起使用。</li></ul>



<h3 id="id-2.6MigrationGuide-SecurityCachingChanges">安全缓存更改</h3>
<ul><li>现在默认情况下使用EhCache缓存SecurityToken，以进行重用和重播检测。可以通过配置插入其他实现。</li><li>WS-Security模块现在默认支持时间戳和用户名令牌随机数的重播检测。默认的缓存时间是60分钟。</li><li>现在，STS会发出SAML和SecurityContextToken，它们的默认生存期为30分钟（它们还会在此时间段内存储在缓存中）。</li></ul></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=27835345">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=27835345&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>