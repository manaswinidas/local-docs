<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - Aegis Theory of Operation (2.0.x)">




    <title>Apache CXF-宙斯盾作战理论（2.0.x）</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> >数据<a href="databindings.html">绑定</a> > <a href="aegis-databinding-20x.html">宙斯盾数据绑定（2.0.x）</a> > <a href="aegis-theory-of-operation-20x.html">宙斯盾工作原理（2.0.x）</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><h4 id="AegisTheoryofOperation(2.0.x)-ThisPageisaWorkInProgress">此页面正在进行中</h4>


<h1 id="AegisTheoryofOperation(2.0.x)-Summary(WhyuseAegis?)">摘要（为什么要使用宙斯盾？）</h1>


<p>Aegis的目的是允许您控制类和方法在Web服务环境中的序列化方式，而无需对源代码进行侵入式修改。如果您愿意修改源代码以包含注释，则可能应该使用JAXB。 JAXB代码可以移至其他Web服务工具箱。宙斯盾是CXF的一项私人功能。 Aegis允许您指定与JAXB可以指定的相同的事物。区别在于您在何处以及如何指定它们。在Aegis中，对于名为“ SomeObjectOfMine”的类（或接口），将文件名SomeObjectOfMine.aegis.xml（称为<strong>映射文件</strong> ）放置在同一项目的类路径中。Aegis读取XML文件以获取指示。</p>


<p>CXF总共包括三个数据绑定：Aegis，JAXB和Source。本作者一想到我们的来源是什么，他就会添加一些评论，将其与宙斯盾进行比较。</p>

<h1 id="AegisTheoryofOperation(2.0.x)-BasicProcess">基本流程</h1>

<p>将Aegis视为在三个级别上处理类和方法：</p>
<ul><li>纯粹的内省</li><li>JAXB注释</li><li>映射文件</li></ul>


<p>宙斯盾的纯粹自省行为与JAXB非常相似。给定一个类或方法，它将派生到WSDL和XML Schema的明智映射。它将包映射到名称空间，将类映射到类型，将属性映射到元素，将方法映射到操作。</p>

<p>您可以通过添加一些在JAXB注释上建模但在org.apache.cxf.aegis.java5中定义的注释来修改此行为。或者，您可以使用JAXB批注：从CXF 2.1开始，Aegis会同时考虑到这两者。支持的注释是：</p>
<ul><li>XmlAttribute</li><li>XmlElement</li><li>XmlParamType</li><li>XmlReturnType</li><li>XmlType</li></ul>


<p>如果您愿意使用它们，也许您应该完全使用JAXB。但是，如果您有一些绝对不能修改源代码的代码，有一些可以修改的代码，并且想将它们混合在单个Web服务中，它们确实会派上用场。您可以将它们用作标记可修改文件的更便捷方法，以及标记不可修改项的XML映射文件。</p>

<p>最后，XML映射文件允许您通过XML规范对属性，类和方法应用详细的控制。</p>

<p>除了这些基本方法的功能之外，还有一个用于添加自定义映射的过程。</p>

<h1 id="AegisTheoryofOperation(2.0.x)-BasicConfigurationandOptions">基本配置和选项</h1>

<p>Aegis有一些全局配置，然后有一些每项服务配置。全局配置在AegisDatabinding对象中组织。</p>

<h2 id="AegisTheoryofOperation(2.0.x)-TheConfigurationobject">配置对象</h2>

<p>AegisDatabinding接受一个Configuration对象。配置对象设置类型映射的默认值。这些属性应该是不言自明的，因为它们对应于XML模式类型和元素的常规选项属性。注意，“ extensibleElements”意味着将xs：any添加到WSDL复杂类型定义中。</p>

<h2 id="AegisTheoryofOperation(2.0.x)-ThenamespaceMap">namespaceMap</h2>

<p>AegisDatabinding接受Map <string, string="">来控制名称空间前缀的分配。大多数应用程序对前缀的分配没有兴趣。XML的语义与实际的名称空间URI或URL字符串有关，而不与前缀有关。但是，在某些情况下（例如用简单语言编码的非常基本的客户端），需要设置受控的，不可变的前缀映射。Map键是名称空间，值是前缀。不用说，地图的两面都必须是唯一的。</string,></p>

<h2 id="AegisTheoryofOperation(2.0.x)-TheTypeMappingRegistry">TypeMappingRegistry</h2>

<p>Aegis的大部分操作都由TypeMappingRegistry协调。此接口只有一个实现：DefaultTypeMappingRegistry。顾名思义，它维护了从类（数据Bean，服务接口和实现）到CXF类型描述的唯一映射。除非您要进行非常认真的复杂自定义，否则不应考虑替换或扩展此类。（实际上，到撰写本文时，它是<strong>最终的</strong> 。这可能会改变，但这仍然不是一个好主意。</p>

<p>在Aegis的其他方面出现的DefaultTypeMapping注册表的一个重要方面是，它实际上是多个注册表：每个服务目标名称空间一个，再加上用于soap编码的其他功能。代码中有一些<em>非常</em>令人困惑的术语：DefaultTypeMappingRegistry中使用名称<strong>encodingStyleURI</strong>作为注册表映射的键，而实际上以该键结尾的结果可以是Soap编码样式URI（例如<a shape="rect" class="external-link" href="http://schemas.xmlsoap.org/soap/encoding/" rel="nofollow">http：/ /schemas.xmlsoap.org/soap/encoding/</a> ）或服务的名称空间URI（由AegisDatabinding.getNamespaceURI（）初始化）。</p>

<p>（作者提供更多信息后，您将获得更多信息）。</p>

<h2 id="AegisTheoryofOperation(2.0.x)-Per-serviceConfiguration">每服务配置</h2>

<p>每个CXF服务都实现Map， <string, object="">以允许您指定其他配置信息。宙斯盾寻找以下钥匙：</string,></p>

<ul><li>OVERRIDES_TYPES_KEY： <class>要在架构中映射的其他类的列表<class>。这对于允许将声明的Exception的派生类封送给客户端非常有用。</class></class></li><li>READ_XSI_TYPES_KEY：字符串（false或true）。如果不是“ false”，则Aegis将尊重xsi：type属性。这有什么用？</li><li>WRITE_XSI_TYPES_KEY：是否写入xsi：type属性。</li></ul>


<h2 id="AegisTheoryofOperation(2.0.x)-DefaultMappingDetails">默认映射详细信息</h2>

<p>首先，DefaultTypeMappingRegistry为基本类型建立一组映射。对于声明要与Soap 1.1一起运行的服务，它设置了两组映射。</p>

<h3 id="AegisTheoryofOperation(2.0.x)-Soap1.1SOAPmappings">Soap 1.1 SOAP映射</h3>

<div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>类型</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>SOAP映射</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>布尔值</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的布尔值</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>布尔型</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的布尔值</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>整型</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的int</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>整数</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的int</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>短</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的int</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>短</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的int</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>双</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的双</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>双</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的双</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>浮动</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的浮点数</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>浮动</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的浮点数</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>长</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码长</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>长</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码长</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>烧焦</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的字符</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>字符</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的字符</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>串</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的字符串</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>java.sql。日期</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的日期时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>java.util。日历</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的日期时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>字节[]</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的Base64</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>大十进制</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的十进制</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>大整数</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>肥皂编码的BigInteger</p></td></tr></tbody></table></div>


<h3 id="AegisTheoryofOperation(2.0.x)-Soap1.1XSDmappings">Soap 1.1 XSD映射</h3>

<div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>类型</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>XSD映射</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>布尔值</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD布尔值</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>布尔型</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD布尔值</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>整型</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD诠释</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>整数</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD诠释</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>短</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD诠释</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>短</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD诠释</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>双</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD双</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>双</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD双</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>浮动</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD浮动</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>浮动</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD浮动</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>长</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD长</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>长</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD长</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>烧焦</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD字符</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>字符</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD字符</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>串</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD字串</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>java.sql。日期</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD日期时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>java.sql。时间</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>java.util。日历</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD日期时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>字节[]</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD Base64</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>大十进制</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD十进制</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>大整数</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD整数</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>org.w3c。文献</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>org.jdom。文献</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>org.jdom。元件</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.transform.source</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.stream。XMLStreamReader</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>宾语</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.activation。数据源</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>通过MTOM数据源类型的XSD Base64（请参阅org.apache.cxf.argis.type.mtom）</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.activation。数据处理程序</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>通过MTOM数据源类型的XSD Base64（请参阅org.apache.cxf.argis.type.mtom）</p></td></tr></tbody></table></div>


<h3 id="AegisTheoryofOperation(2.0.x)-ServicesthatDon'tUseSoap1.1">不使用Soap 1.1的服务</h3>

<p>非Soap-1.1服务的类型映射以与Soap-1.1服务相同的XSD类型开始</p>

<div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>类型</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>XSD映射</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>布尔值</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD布尔值</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>布尔型</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD布尔值</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>整型</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD诠释</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>整数</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD诠释</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>短</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD诠释</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>短</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD诠释</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>双</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD双</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>双</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD双</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>浮动</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD浮动</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>浮动</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD浮动</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>长</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD长</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>长</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD长</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>烧焦</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD字符</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>字符</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD字符</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>串</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD字串</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>java.sql。日期</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD日期时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>java.sql。时间</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>java.util。日历</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD日期时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>字节[]</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD Base64</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>大十进制</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD十进制</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>大整数</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD整数</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>org.w3c。文献</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>org.jdom。文献</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>org.jdom。元件</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.transform.source</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.stream。XMLStreamReader</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>宾语</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD任何</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.activation。数据源</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>通过MTOM数据源类型的Base64（请参阅org.apache.cxf.argis.type.mtom）</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.activation。数据处理程序</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Base54 MTOM数据源类型（请参阅org.apache.cxf.argis.type.mtom）</p></td></tr></tbody></table></div>


<p>这些服务还获得一些其他映射：</p>

<div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>类型</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>映射</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.datatype。持续时间</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD持续时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.datatype。XMLGregorianCalendar</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD日期</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.datatype。XMLGregorianCalendar</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD时间</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.datatype。XMLGregorianCalendar</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD gDay</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.datatype。XMLGregorianCalendar</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD gMonth</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.datatype。XMLGregorianCalendar</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD gMonthDay</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.datatype。XMLGregorianCalendar</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD年份</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.datatype。XMLGregorianCalendar</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD gYearMonth</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>javax.xml.datatype。XMLGregorianCalendar</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>XSD日期时间</p></td></tr></tbody></table></div>


<h1 id="AegisTheoryofOperation(2.0.x)-CustomizingTypeMapping">自定义类型映射</h1>

<p>每个标准类型映射都是Java类对象和org.apache.xxf.aegis的子类之间的关系。类型。如果要添加自己的类级映射，则可以实现自己的Type子类，并在类型映射注册表中针对服务URI（或编码样式URI）注册它们。这里需要读取标准对象的源代码。</p>

<h1 id="AegisTheoryofOperation(2.0.x)-TheTypeCreators">类型创作者</h1>

<p>类型映射注册表维护一个TypeCreator对象链。这些对象负责为未通过上述标准类型或您安装的自定义映射预先映射的Java类型创建映射。XMLTypeCreator处理了映射文件。由于历史原因，其余过程将在Java5TypeCreator和DefaultTypeCreator之间进行拆分。以前，XFire支持Java 1.4，因此所有依赖Java 1.5的代码（注释处理和通用类型处理）都在Java5TypeCreator中被隔离。</p>

<p>创建者通过AbstractTypeCreator类按链状排列，该类存储nextCreator。顶级创建者首先在方法，属性，字段或类上运行。它可以进行整个映射，或者调用链中的下一个创建者并修改其结果，或者简单地跳到链中的下一个创建者。如果要对自动类型映射过程进行算法控制，则需要将自己的类型创建器放在链的最前面。</p>

<p>使用Spring并不是那么容易，因为所需的过程是让DefaultTypeMappingRegistry创建通常的链，然后检索并修改它。但是，您可以通过复制DefaultTypeMappingRegistry的操作来获得此结果：排列创建者链，后跟XML，Java5和Default。</p>


</div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=66981">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=66981&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>