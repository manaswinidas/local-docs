<html ><head>

<link type="text/css" rel="stylesheet" href="/resources/site.css">
<script src='/resources/space.js'></script>

<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="keywords" content="business integration, EAI, SOA, Service Oriented Architecture, web services, SOAP, JBI, JMS, WSDL, XML, EDI, Electronic Data Interchange, standards support, integration standards, application integration, middleware, software, solutions, services, CXF, open source">
<meta name="description" content="Apache CXF, Services Framework - OpenApiFeature">


<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shCoreCXF.css">
<link type="text/css" rel="stylesheet" href="/resources/highlighter/styles/shThemeCXF.css">

<script src='/resources/highlighter/scripts/shCore.js'></script>
<script src='/resources/highlighter/scripts/shBrushJava.js'></script>
<script src='/resources/highlighter/scripts/shBrushXml.js'></script>
<script src='/resources/highlighter/scripts/shBrushBash.js'></script>
<script>
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


    <title>Apache CXF-OpenApiFeature</title>
  </head>
<body  onload="init()">


<table width="100%" cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td id="cell-0-0" colspan="2"> </td>
    <td id="cell-0-1"> </td>
    <td id="cell-0-2" colspan="2"> </td>
  </tr>
  <tr>
    <td id="cell-1-0"> </td>
    <td id="cell-1-1"> </td>
    <td id="cell-1-2">
      <!-- Banner -->
<div class="banner" id="banner"><div><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" colspan="1" nowrap>
<a shape="rect" href="http://cxf.apache.org/" title="Apache CXF"><span style="font-weight:bold;font-size:170%;color:white">Apache CXF</span></a>
</td><td align="right" colspan="1" nowrap>
<a shape="rect" href="http://www.apache.org/" title="阿帕奇软件基金会"><img border="0" alt="ASF徽标" src="http://cxf.apache.org/images/asf-logo.png"></a>
</td></tr></tbody></table></div></div>
      <!-- Banner -->
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tbody><tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs --> <a href="index.html">索引</a> > <a href="configuration.html">配置</a> > <a href="featureslist.html">功能</a>列表> <a href="openapifeature.html">OpenApiFeature</a> <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
<div id="quicklinks"><p><a shape="rect" href="http://cxf.apache.org/download.html">下载</a> | <a shape="rect" href="http://cxf.apache.org/docs/index.html">文献资料</a></p></div>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </td>
    <td id="cell-1-3"> </td>
    <td id="cell-1-4"> </td>
  </tr>
  <tr>
    <td id="cell-2-0" colspan="2"> </td>
    <td id="cell-2-1">
      <table>
        <tbody><tr valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
<div id="navigation"><ul class="alternate"><li><a shape="rect" href="overview.html">总览</a></li><li><a shape="rect" href="how-tos.html">操作方法</a></li><li><a shape="rect" href="frontends.html">前端</a></li><li><a shape="rect" href="databindings.html">数据绑定</a></li><li><a shape="rect" href="transports.html">运输工具</a></li><li><a shape="rect" href="configuration.html">组态</a></li><li><a shape="rect" href="debugging-and-logging.html">调试和记录</a></li><li><a shape="rect" href="tools.html">工具类</a></li><li><a shape="rect" href="restful-services.html">RESTful服务</a></li><li><a shape="rect" href="wsdl-bindings.html">WSDL绑定</a></li><li><a shape="rect" href="service-routing.html">服务路由</a></li><li><a shape="rect" href="dynamic-languages.html">动态语言</a></li><li><a shape="rect" href="ws-support.html">WS- *支持</a></li><li><a shape="rect" href="advanced-integration.html">进阶整合</a></li><li><a shape="rect" href="deployment.html">部署方式</a></li><li><a shape="rect" href="schemas-and-namespaces.html">模式和命名空间的使用</a></li></ul><hr><ul class="alternate"><li><p>搜索</p></li></ul><form id="cse-search-box" enctype="application/x-www-form-urlencoded" method="get" action="http://www.google.com/cse">
  <div>
    <input type="hidden" name="cx" value="002890367768291051730:o99qiwa09y4">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="text" name="q" size="21">
    <input type="submit" name="sa" value="搜索">
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr><ul class="alternate"><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest/">API 3.2.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/javadoc/latest-3.1.x/">API 3.1.x（Javadoc）</a></li><li><a shape="rect" href="http://cxf.apache.org/">CXF网站</a></li></ul><p> </p><p><a shape="rect" class="external-link" href="http://www.apache.org/events/current-event.html"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="http://www.apache.org/events/current-event-125x125.png" data-image-src="http://www.apache.org/events/current-event-125x125.png"></span></a></p></div>
                    <!-- NavigationBar -->
                  </div>
              </div>
            </div>
          </div>
         </td>
         <td height="100%">
           <!-- Content -->
           <div class="wiki-content">
<div id="ConfluenceContent"><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1568858554466 {padding: 0px;}
div.rbtoc1568858554466 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1568858554466 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1568858554466">
<ul class="toc-indentation"><li><a shape="rect" href="#OpenApiFeature-Introduction">介绍</a></li><li><a shape="rect" href="#OpenApiFeature-Setup">设定</a></li><li><a shape="rect" href="#OpenApiFeature-Properties">性质</a></li><li><a shape="rect" href="#OpenApiFeature-ConfiguringfromCode">从代码配置</a></li><li><a shape="rect" href="#OpenApiFeature-ConfiguringfromSpring">从Spring配置</a></li><li><a shape="rect" href="#OpenApiFeature-ConfiguringinBlueprint">在蓝图中配置</a></li><li><a shape="rect" href="#OpenApiFeature-ConfiguringinCXFNonSpringJaxrsServlet">在CXFNonSpringJaxrsServlet中配置</a></li><li><a shape="rect" href="#OpenApiFeature-ConfiguringfromPropertyfiles">从属性文件配置</a></li><li><a shape="rect" href="#OpenApiFeature-SpringBootAutoConfiguration">Spring Boot自动配置</a></li><li><a shape="rect" href="#OpenApiFeature-EnablingSwaggerUI">启用Swagger UI</a>
<ul class="toc-indentation"><li><a shape="rect" href="#OpenApiFeature-EnablingSwaggerUIinOSGicontainer(Karaf)">在OSGi容器（Karaf）中启用Swagger UI</a></li><li><a shape="rect" href="#OpenApiFeature-ConfiguringSwaggerUI(3.2.7+)">配置Swagger UI（3.2.7+）</a></li></ul>
</li><li><a shape="rect" href="#OpenApiFeature-OpenApiFeature-UsingMultipleServerEndpoints(3.3.0+)UsingMultipleServerEndpoints(3.3.0+)">使用多个服务器端点（3.3.0+）</a></li><li><a shape="rect" href="#OpenApiFeature-Samples">样品</a></li></ul>
</div><h1 id="OpenApiFeature-Introduction">介绍</h1><p>CXF <strong>OpenApiFeature</strong>允许您通过简单的配置从JAX-RS服务端点生成<a shape="rect" class="external-link" href="https://github.com/OAI/OpenAPI-Specification/releases/tag/3.0.0" rel="nofollow">OpenAPI v3.0</a>文档。可以使用Java或使用Spring或Blueprint Bean以编程方式配置此功能。</p><h1 id="OpenApiFeature-Setup">设定</h1><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
    &lt;artifactId&gt;cxf-rt-rs-service-description-openapi-v3&lt;/artifactId&gt;
    &lt;version&gt;3.2.4&lt;/version&gt;
&lt;/dependency&gt;</pre>
</div></div><p>由于Java 8基准， <strong>cxf-rt-rs-service-description-openapi-v3</strong>仅在<strong>3.2.x</strong>及更高版本中可用。对于较旧的版本以及较旧的Swagger规格1.x / 2.x的用户，提供了专用的转换器： <span class="confluence-link"><a shape="rect" href="https://cwiki.apache.org/confluence/display/CXF20DOC/Swagger2Feature">org.apache.cxf.jaxrs.swagger.openapi。SwaggerToOpenApiConversionFilte</a> r</span> 。</p><h1 id="OpenApiFeature-Properties">性质</h1><p><span>可以在<strong>OpenApiFeature中</strong>配置以下可选参数。请注意，尽管与Swagger规范1.x / 2.x有一些相似之处，但<a shape="rect" class="external-link" href="https://github.com/OAI/OpenAPI-Specification/releases/tag/3.0.0" rel="nofollow">OpenAPI v3.0</a>是对该规范的重大改进（从某种意义上来说）。</span></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1" style="width:236.0px"><col span="1" style="width:511.0px"><col span="1" style="width:203.0px"><col span="1" style="width:372.0px"></colgroup><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh">名称</th><th colspan="1" rowspan="1" class="confluenceTh">描述</th><th colspan="1" rowspan="1" class="confluenceTh">默认值（如果适用）</th><th colspan="1" rowspan="1" class="confluenceTh">样本值（如果适用）</th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">configLocation</td><td colspan="1" rowspan="1" class="confluenceTd"><p>OpenAPI配置位置</p></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">/config/openapi-configuration.yml</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">scanKnownConfigLocations</td><td colspan="1" rowspan="1" class="confluenceTd"><p>扫描已知的OpenAPI配置位置（类路径或文件系统），它们是：</p><div class="preformatted panel" style="border-width:1px"><div class="preformattedContent panelContent">
<pre>openapi-configuration.yaml
openapi-configuration.json
openapi.yaml
openapi.json</pre>
</div></div></td><td colspan="1" rowspan="1" class="confluenceTd">真正</td><td colspan="1" rowspan="1" class="confluenceTd">真正</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">属性位置</td><td colspan="1" rowspan="1" class="confluenceTd">属性文件位置</td><td colspan="1" rowspan="1" class="confluenceTd">/swagger.properties</td><td colspan="1" rowspan="1" class="confluenceTd">/swagger.properties</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">安全性定义</td><td colspan="1" rowspan="1" class="confluenceTd">安全定义列表<strong>*</strong></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd"><p>[“ basicAuth”->新的SecurityScheme（）。type（Type。HTTP））]</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">定制器</td><td colspan="1" rowspan="1" class="confluenceTd">定制程序类实例</td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">新的OpenApiCustomizer（）</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">昂首阔步的UiMavenGroupAndArtifact</td><td colspan="1" rowspan="1" class="confluenceTd">Maven工件来精确定位SwaggerUI</td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">“ org.webjars.swagger-ui'</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">swaggerUiVersion</td><td colspan="1" rowspan="1" class="confluenceTd">SwaggerUI的版本</td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">“ 3.13.0”</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">supportSwaggerUi</td><td colspan="1" rowspan="1" class="confluenceTd">打开/关闭SwaggerUI支持</td><td colspan="1" rowspan="1" class="confluenceTd"><strong>空（==真）</strong></td><td colspan="1" rowspan="1" class="confluenceTd">真正</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">filterClass</td><td colspan="1" rowspan="1" class="confluenceTd">安全过滤器<strong>*</strong> <strong>*</strong></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">“ com.example.filter。SampleFilter”</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">resourceClasses</td><td colspan="1" rowspan="1" class="confluenceTd">必须扫描的资源类别列表<strong>*</strong> <strong>*</strong></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">[“ com.example.rest.SampleResource”]</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">resourcePackages</td><td colspan="1" rowspan="1" class="confluenceTd">软件包名称列表，必须在其中扫描资源<strong>*</strong> <strong>*</strong></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">[“ com.example.rest”]</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">被忽略的路线</td><td colspan="1" rowspan="1" class="confluenceTd">扫描所有资源时排除特定路径（请参见scanAllResources） <span><strong>*</strong> <strong>*</strong></span></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">[“ / api / test”]</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">prettyPrint</td><td colspan="1" rowspan="1" class="confluenceTd">生成openapi.json时，漂亮地打印JSON文档<span><strong>*</strong> <strong>*</strong></span></td><td colspan="1" rowspan="1" class="confluenceTd"><strong>真正</strong></td><td colspan="1" rowspan="1" class="confluenceTd">真正</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">runAsFilter</td><td colspan="1" rowspan="1" class="confluenceTd">将功能作为过滤器运行</td><td colspan="1" rowspan="1" class="confluenceTd"><strong>假</strong></td><td colspan="1" rowspan="1" class="confluenceTd">假</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">扫描</td><td colspan="1" rowspan="1" class="confluenceTd">自动扫描所有JAX-RS资源</td><td colspan="1" rowspan="1" class="confluenceTd"><strong>真正</strong></td><td colspan="1" rowspan="1" class="confluenceTd">真正</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">readAllResources</td><td colspan="1" rowspan="1" class="confluenceTd"><span>无需@Operation即可读取所有操作<strong>*</strong> <strong>*</strong></span> <span> </span></td><td colspan="1" rowspan="1" class="confluenceTd"><strong>真正</strong></td><td colspan="1" rowspan="1" class="confluenceTd">真正</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">termsOfServiceUrl</td><td colspan="1" rowspan="1" class="confluenceTd">服务条款URL <span><strong>*</strong></span></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">空值</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">licenseUrl</td><td colspan="1" rowspan="1" class="confluenceTd">许可证URL <strong>*</strong></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">“ <span class="nolink"><a shape="rect" class="external-link" href="http://www.apache.org/licenses/LICENSE-2.0.html">http://www.apache.org/licenses/LICENSE-2.0.html</a></span> ”</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">执照</td><td colspan="1" rowspan="1" class="confluenceTd">执照<span><strong>*</strong></span></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">“ Apache 2.0许可证”</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">contactUrl</td><td colspan="1" rowspan="1" class="confluenceTd">联系链接<strong>*</strong></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">空值</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">联系电子邮件</td><td colspan="1" rowspan="1" class="confluenceTd">联系人电子邮件<strong>*</strong></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">“用户@ <a shape="rect" href="http://cxf.apache.org">cxf.apache.org</a> ”</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">联系人姓名</td><td colspan="1" rowspan="1" class="confluenceTd">联系人姓名<strong>*</strong></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">空值</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">描述</td><td colspan="1" rowspan="1" class="confluenceTd">描述<span><strong>*</strong></span></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">“具有OpenAPI集成的示例REST应用程序”</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">标题</td><td colspan="1" rowspan="1" class="confluenceTd">标题<span><strong>*</strong></span></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">“示例REST应用程序”</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">版</td><td colspan="1" rowspan="1" class="confluenceTd">版本<span><strong>*</strong></span></td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">“ 1.0.0”</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><span class="blob-code-inner blob-code-marker-addition">swaggerUiConfig</span></td><td colspan="1" rowspan="1" class="confluenceTd">Swagger UI配置</td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">新的<span class="blob-code-inner blob-code-marker-addition"><span class="pl-smi">SwaggerUiConfig</span> （）. <span class="pl-smi">url</span> （“ / openapi.json”）</span></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">useContextBasedConfig</td><td colspan="1" rowspan="1" class="confluenceTd">如果设置，将为每个OpenApiContext实例生成唯一的上下文ID（请参阅<a shape="rect" href="openapifeature.html">使用多个服务器端点</a> ）。另外，您很可能希望将<strong>scan</strong>属性设置为<strong>false</strong> 。</td><td colspan="1" rowspan="1" class="confluenceTd"><strong>假</strong></td><td colspan="1" rowspan="1" class="confluenceTd">假</td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd">ScannerClass</td><td colspan="1" rowspan="1" class="confluenceTd">JAX-RS API扫描程序类的名称，用于确定应用程序，资源包，资源类和类路径扫描的范围，请参阅“ <a shape="rect" class="external-link" href="https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Integration-and-Configuration#resource-scanning" rel="nofollow">资源扫描”</a>部分</td><td colspan="1" rowspan="1" class="confluenceTd">空值</td><td colspan="1" rowspan="1" class="confluenceTd">io.swagger.v3.jaxrs2.integration。JaxrsApplicationScanner</td></tr></tbody></table></div><p><span><strong>*</strong> - <span>属性在OpenAPI类中定义</span></span></p><p><span><span> </span> <span><strong>*</strong></span> <span><strong>*</strong></span> - <span><span>属性在SwaggerConfiguration类中定义</span></span></span></p><h1 id="OpenApiFeature-ConfiguringfromCode">从代码配置</h1><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">import org.apache.cxf.jaxrs.openapi.OpenApiFeature;
import io.swagger.v3.oas.models.security.SecurityScheme;
import io.swagger.v3.oas.models.security.SecurityScheme.Type;

...

final OpenApiFeature feature = new OpenApiFeature();
feature.setContactEmail("cxf@apache.org");
feature.setLicense("Apache 2.0 License");
feature.setLicenseUrl("http://www.apache.org/licenses/LICENSE-2.0.html");           
feature.setSecurityDefinitions(Collections.singletonMap("basicAuth",new SecurityScheme().type(Type.HTTP)));</pre>
</div></div><p><br clear="none"></p><h1 id="OpenApiFeature-ConfiguringfromSpring">从Spring配置</h1><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cxf="http://cxf.apache.org/core"
       xmlns:jaxrs="http://cxf.apache.org/jaxrs"
       xsi:schemaLocation="http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
                           http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd
                           http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;
    ... 
    &lt;!-- JAXRS providers --&gt;
    &lt;bean id="jsonProvider" class="com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider" /&gt;
 
    &lt;!-- Application resources --&gt;
    &lt;bean id="sampleResource" class="demo.jaxrs.openapi.server.Sample" /&gt;
 
    &lt;!-- CXF OpenApiFeature --&gt;  
    &lt;bean id="openApiFeature" class="org.apache.cxf.jaxrs.openapi.OpenApiFeature"&gt;
        &lt;!-- customize some of the properties --&gt;
    &lt;/bean&gt;
 
    ...

    &lt;jaxrs:server id="sampleServer" address="/swaggerSample"&gt;
        &lt;jaxrs:serviceBeans&gt;
            &lt;ref bean="sampleResource" /&gt;
        &lt;/jaxrs:serviceBeans&gt;
        &lt;jaxrs:providers&gt;
            &lt;ref bean="jsonProvider" /&gt;
        &lt;/jaxrs:providers&gt;
        &lt;jaxrs:features&gt;
            &lt;ref bean="openApiFeature" /&gt;
        &lt;/jaxrs:features&gt;
    &lt;/jaxrs:server&gt;
&lt;/beans&gt;</pre>
</div></div><p><br clear="none"></p><h1 id="OpenApiFeature-ConfiguringinBlueprint">在蓝图中配置</h1><p>对于Apache Karaf， <a shape="rect" class="external-link" href="https://github.com/OAI/OpenAPI-Specification/releases/tag/3.0.0" rel="nofollow">OpenAPI v3.0</a>集成可作为<strong>cxf-rs-description-openapi-v3</strong>功能使用。</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">feature:install cxf-rs-description-openapi-v3</pre>
</div></div><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">&lt;blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:cxf="http://cxf.apache.org/blueprint/core"
       xmlns:jaxrs="http://cxf.apache.org/blueprint/jaxrs"
       xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
                           http://cxf.apache.org/blueprint/core http://cxf.apache.org/schemas/blueprint/core.xsd
                           http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/blueprint/jaxrs.xsd"&gt; 
    ...
    &lt;!-- JAXRS providers --&gt;
    &lt;bean id="jsonProvider" class="com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider" /&gt;
 
    &lt;!-- Application resources --&gt;
    &lt;bean id="sampleResource" class="demo.jaxrs.openapi.server.Sample" /&gt;
 
 
    &lt;!-- CXF OpenApiFeature --&gt;  
    &lt;bean id="openApiFeature" class="org.apache.cxf.jaxrs.openapi.OpenApiFeature"&gt;
        &lt;!-- customize some of the properties --&gt;
    &lt;/bean&gt;
 
    ...

    &lt;jaxrs:server id="sampleServer" address="/swaggerSample"&gt;
        &lt;jaxrs:serviceBeans&gt;
            &lt;ref component-id="sampleResource" /&gt;
        &lt;/jaxrs:serviceBeans&gt;
        &lt;jaxrs:providers&gt;
            &lt;ref component-id="jsonProvider" /&gt;
        &lt;/jaxrs:providers&gt;
        &lt;jaxrs:features&gt;
            &lt;ref component-id="openApiFeature" /&gt;
        &lt;/jaxrs:features&gt;
    &lt;/jaxrs:server&gt;
&lt;/blueprint&gt;</pre>
</div></div><p><br clear="none"></p><h1 id="OpenApiFeature-ConfiguringinCXFNonSpringJaxrsServlet">在CXFNonSpringJaxrsServlet中配置</h1><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">&lt;web-app&gt;
    &lt;context-param&gt;
        &lt;param-name&gt;contextParam&lt;/param-name&gt;
        &lt;param-value&gt;contextParamValue&lt;/param-value&gt;
    &lt;/context-param&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;
        &lt;display-name&gt;CXF Servlet&lt;/display-name&gt;
        &lt;servlet-class&gt;org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet&lt;/servlet-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;jaxrs.serviceClasses&lt;/param-name&gt;
            &lt;param-value&gt;org.apache.cxf.systest.jaxrs.BookStore&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;jaxrs.features&lt;/param-name&gt;
            &lt;param-value&gt;org.apache.cxf.jaxrs.openapi.OpenApiFeature&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;
     
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
     
&lt;/web-app&gt;</pre>
</div></div><h1 id="OpenApiFeature-ConfiguringfromPropertyfiles">从属性文件配置</h1><p>可以从属性文件中提供配置。属性文件的默认位置是“ <strong>/swagger.properties</strong> ”。如果可用， <strong>OpenApiFeature</strong>将对其进行拾取，并且可以使用<strong>'propertiesLocation</strong> '属性覆盖该位置。此外，可以从属性文件（通常为<strong>openapi-configuration.json</strong>或<strong>openapi-configuration.yml</strong> ）提供完整的OpenAPI配置，该文件由<strong>configLocation</strong>属性控制。默认情况下， <strong>OpenApiFeature</strong>扫描已知的OpenAPI配置位置并在可用时加载它们（可以通过将<strong>scanKnownConfigLocations</strong>设置为<strong>false</strong>来关闭行为）。请考虑到两者之间存在一定程度的重叠。</p><p>请注意，这些属性（如果可用）不会覆盖上面根据代码，Spring / Blueprint上下文或web.xml建议的设置的属性。相反，它们补充并用作默认配置属性：例如，如果已从代码中设置了某些属性，则将不使用在属性文件中找到的相同属性的值。</p><h1 id="OpenApiFeature-SpringBootAutoConfiguration">Spring Boot自动配置</h1><p>请查阅<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/distribution/src/main/release/samples/jax_rs/spring_boot" rel="nofollow">samples / jax_rs / spring_boot</a>以及如何将<strong>OpenApiFeature</strong>创建为@Bean或/和<a shape="rect" class="external-link" href="https://github.com/apache/cxf/blob/master/distribution/src/main/release/samples/jax_rs/spring_boot_scan/application/src/main/resources/application.yml#L13" rel="nofollow">samples / jax_rs / spring_boot_scan</a>来了解如何自动启用它。默认情况下<strong>，OpenApiCustomizer</strong>实例将预先配置<strong>OpenApiFeature</strong>以来的基本路径往往是未知的CXF。</p><h1 id="OpenApiFeature-EnablingSwaggerUI">启用Swagger UI</h1><p>添加Swagger UI Maven依赖项是在Swagger UI的帮助下开始访问Swagger文档所需要的。</p><div class="syntaxhighlighter nogutter xml"><p><br clear="none"></p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">&lt;dependency&gt;
    &lt;groupId&gt;org.webjars&lt;/groupId&gt;
    &lt;artifactId&gt;swagger-ui&lt;/artifactId&gt;
    &lt;version&gt;3.13.0&lt;/version&gt;
&lt;/dependency&gt;</pre>
</div></div><p><br clear="none"></p><p>例如，假设一个JAX-RS端点发布在“ <span><a shape="rect" class="external-link" href="http://hostport" rel="nofollow">http：// host：port / context / services /</a></span> ”上。</p><p>打开浏览器，然后转到“ <span><a shape="rect" class="external-link" href="http://hostport" rel="nofollow">http：// host：port / context / services /</a></span> api-docs /？url = / openapi.json”，这将返回Swagger UI页面。</p><p>CXF服务页面还将链接到Swagger UI。转到“ <span><a shape="rect" class="external-link" href="http://hostport" rel="nofollow">http：// host：port / context / services /</a></span> ”，然后点击Swagger链接，该链接将返回Swagger UI页面。</p><p>请参阅<a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/distribution/src/main/release/samples/jax_rs/description_openapi_v3" rel="nofollow">samples / jax_rs / description_openapi_v3</a>作为示例。</p><p>要停用自动Swagger UI集成，请将<strong>'supportSwaggerUi'</strong>属性设置为“ <strong>false</strong> ”。</p><h2 id="OpenApiFeature-EnablingSwaggerUIinOSGicontainer(Karaf)">在OSGi容器（Karaf）中启用Swagger UI</h2><p>由于<strong>org.webjars</strong> / <strong>swagger-ui</strong>只是一个包含资源的程序包，因此OSGi清单中不会将其作为必需的导入进行引用。因此，要在OSGi部署中使用Swagger UI，应手动安装<strong>org.webjars</strong> / <strong>swagger-ui</strong> ，例如：</p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">karaf@root()&gt; install mvn:org.webjars/swagger-ui/3.23.8</pre>
</div></div><p>专用的Activator将负责发现<strong>org.webjars</strong> / <strong>swagger-ui</strong>捆绑包的存在并配置<strong>OpenApiFeature</strong> 。</p><h2 id="OpenApiFeature-ConfiguringSwaggerUI(3.2.7+)">配置Swagger UI（3.2.7+）</h2><p><strong>OpenApiFeature</strong>可以通过<strong><span class="blob-code-inner blob-code-marker-addition"><span class="pl-smi">SwaggerUiConfig</span></span></strong>预先配置某些Swagger UI参数（ <a shape="rect" class="external-link" href="https://github.com/swagger-api/swagger-ui/blob/master/docs/usage/configuration.md" rel="nofollow">https://github.com/swagger-api/swagger-ui/blob/master/docs/usage/configuration.md</a> ） <span class="blob-code-inner blob-code-marker-addition">。的</span> <strong><span class="blob-code-inner blob-code-marker-addition"> </span></strong>实现方法是将这些参数作为查询字符串传递，以便Swagger UI可以自行调整。</p><h1 id="OpenApiFeature-OpenApiFeature-UsingMultipleServerEndpoints(3.3.0+)UsingMultipleServerEndpoints(3.3.0+)"><span class="confluence-anchor-link" id="OpenApiFeature-OpenApiFeature-UsingMultipleServerEndpoints(3.3.0+)"></span>使用多个服务器端点（3.3.0+）</h1><p>通常，在同一Apache CXF应用程序中（例如，在<strong>“ / admin”</strong>和<strong>“ / public”</strong>端点下）配置了多个<strong>JAXRSServerFactoryBean</strong> 。较早的<strong>Swagger / OpenAPI v2.0</strong>集成使用此类<strong>basePath</strong>消除了多个API文档上下文的歧义，但是由于<strong>OpenAPI v3.0规范</strong>不再明确包含<strong>basePath</strong>的概念，因此该方法不起作用。幸运的是，从<strong>2.0.6</strong>版本开始，Swagger OpenAPI v3实现正确支持<strong>Context Id</strong> 。要从<strong>OpenApiFeature</strong>激活它，将<strong>useContextBasedConfig</strong>属性设置为<strong>true</strong>就足够了（很可能还需要将<strong>scan</strong>设置为<strong>false</strong> ）。</p><p><br clear="none"></p><div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">final OpenApiFeature feature = new OpenApiFeature();
feature.setScan(false);
feature.setUseContextBasedConfig(true);
...</pre>
</div></div><p>这样，每个<strong>OpenApiFeature</strong>都会生成唯一的<strong>上下文ID，</strong>并且不会看到超出其自身配置的任何类/包。</p><h1 id="OpenApiFeature-Samples">样品</h1><p><span>CXF的发行版包含以下示例。</span></p><ul style="list-style-type:square"><li><span><a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/distribution/src/main/release/samples/jax_rs/description_openapi_v3" rel="nofollow">samples / jax_rs / description_openapi_v3</a> ：以编程方式使用OpenApiFeature的<a shape="rect" class="external-link" href="https://github.com/OAI/OpenAPI-Specification/releases/tag/3.0.0" rel="nofollow">OpenAPI v3.0</a>独立样本</span></li><li><span><span><a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/distribution/src/main/release/samples/jax_rs/description_openapi_v3_osgi" rel="nofollow">samples / jax_rs / description_openapi_v3_osgi</a> ：</span></span>使用<span>OpenApiFeature和</span> Blueprint <span><span>的</span></span> <span><a shape="rect" class="external-link" href="https://github.com/OAI/OpenAPI-Specification/releases/tag/3.0.0" rel="nofollow">OpenAPI v3.0</a></span> OSGi应用程序示例</li><li><a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/distribution/src/main/release/samples/jax_rs/description_openapi_v3_web" rel="nofollow">samples / jax_rs / description_openapi_v3_web</a> <span>：在基于WAR的部署中使用OpenApiFeature的<a shape="rect" class="external-link" href="https://github.com/OAI/OpenAPI-Specification/releases/tag/3.0.0" rel="nofollow">OpenAPI v3.0</a>示例</span></li><li><span><a shape="rect" class="external-link" href="https://github.com/apache/cxf/tree/master/distribution/src/main/release/samples/jax_rs/description_openapi_v3_spring" rel="nofollow">samples / jax_rs / description_openapi_v3_spring</a> ：</span> <span>使用Spring和多个上下文路径的<a shape="rect" class="external-link" href="https://github.com/OAI/OpenAPI-Specification/releases/tag/3.0.0" rel="nofollow">OpenAPI v3.0</a>示例/ OpenApiFeatures</span><br clear="none"><span><br clear="none"></span></li></ul></div></div>
           </div>
           <!-- Content -->
         </td>
        </tr>
      </tbody></table>
   </td>
   <td id="cell-2-2" colspan="2"> </td>
  </tr>
  <tr>
   <td id="cell-3-0"> </td>
   <td id="cell-3-1"> </td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://cxf.apache.org/privacy-policy.html">隐私政策</a> -（ <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=75979822">编辑页面</a> ）（ <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=75979822&showComments=true&showCommentArea=true#addcomment">添加评论</a> ）<br>Apache CXF，CXF，Apache，Apache Feather徽标是The Apache Software Foundation的商标。<br>提及的所有其他商标可能是其各自所有者的商标或注册商标。
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3"> </td>
   <td id="cell-3-4"> </td>
  </tr>
  <tr>
    <td id="cell-4-0" colspan="2"> </td>
    <td id="cell-4-1"> </td>
    <td id="cell-4-2" colspan="2"> </td>
  </tr>
</tbody></table>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4458903-1");
pageTracker._trackPageview();
} catch(err) {}</script>




</body></html>