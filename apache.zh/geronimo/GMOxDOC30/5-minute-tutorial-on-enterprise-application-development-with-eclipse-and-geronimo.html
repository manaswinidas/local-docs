<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=1">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="5-minute Tutorial on Enterprise Application Development with Eclipse and Geronimo">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi 5-minute Tutorial on Enterprise Application Development with Eclipse and Geronimo">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0文档：使用Eclipse和Geronimo开发企业应用程序的5分钟教程</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">主页</a> > <a href="documentation.html">文档</a> > <a href="developing.html">开发</a> > <a href="tutorials.html">教程</a> > <a href="developing-ejb-applications.html">开发EJB应用程序</a> > <a href="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.html">关于使用Eclipse和Geronimo开发企业应用</a> <a href="developing-ejb-applications.html">程序的</a> <a href="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.html">5分钟教程</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">关于使用Eclipse和Geronimo进行企业应用程序开发的5分钟教程</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645238"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645238">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645238"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645238">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645238"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645238">添加新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><p>本教程将引导您使用Eclipse和Geronimo配置，开发和部署企业应用程序。要运行本教程，至少需要您安装以下必备软件。</p>

<p>要运行本教程，至少需要您安装以下必备软件。</p>

<ol><li>Sun JDK 6.0+</li><li>面向特定平台的Java EE开发人员的Eclipse IDE</li><li>Apache Geronimo Eclipse插件3.0.x</li><li>Apache Geronimo服务器3.0.x<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>本教程使用了Geronimo 3.0.x版，Java 1.6运行时和Eclipse Indigo，但可以使用其他版本（例如Geronimo 2.2版，Java 1.6，Eclipse Galileo）</p></div></div></li></ol>


<p><a shape="rect" href="development-environment.html">开发环境</a>部分中提供了有关安装Eclipse的详细信息。本教程分为以下几节：</p>

<div class="toc-macro client-side-toc-macro" data-headerelements="H1,H2,H3,H4,H5,H6,H7"></div>

<h1 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-Createtheenterpriseapplicationproject">创建企业应用程序项目</h1>

<p>从Eclipse工作区创建企业应用程序项目开始。</p>

<ol><li>选择“ <strong>文件”->“新建”</strong> ，选择“ <strong>项目...”，</strong>然后在弹出窗口中选择“ <strong>企业应用程序项目”</strong> 。</li><li>在EAR Application Project向导中，输入<em>SampleEAR</em>作为项目名称，然后在<em>Target Runtime中</em>选择<strong>Apache Geronimo v3.0</strong> 。其余部分保持原样。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/newEarPrj.jpg" data-image-src="/confluence/download/attachments/20645238/newEarPrj.jpg?version=1&modificationDate=1332825230000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017487" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="newEarPrj.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>单击<strong>下一步</strong> 。</li><li>在“ <em>要添加到EAR</em>的<em>J2EE模块”</em>窗口中，选中“ <strong>生成部署描述符”</strong>复选框，然后单击“ <strong>下一步”</strong> 。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/newEarprj2.jpg" data-image-src="/confluence/download/attachments/20645238/newEarprj2.jpg?version=1&modificationDate=1332825230000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017488" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="newEarprj2.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>在“ <em>Geronimo部署计划”</em>窗口中，输入以下指定的值。要了解有关这些值的含义的更多信息，请检查“ <a shape="rect" href="creating-deployment-plans.html">创建部署计划”</a>部分。
<div class="sectionMacro"><div class="sectionMacroRow"><ul><li>组ID： <strong>sampleear</strong></li><li>工件ID： <strong>样品耳</strong></li><li>版本： <strong>1.0</strong></li><li>神器类型： <strong>耳朵</strong></li></ul>
</div></div>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/deploymentPlanEar.jpg" data-image-src="/confluence/download/attachments/20645238/deploymentPlanEar.jpg?version=1&modificationDate=1332828419000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017494" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="deploymentPlanEar.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>点击<strong>完成</strong> 。</li></ol>


<p>如果询问是否要更改为Java EE透视图，请单击<strong>是</strong> 。您可能需要选择“ <strong>记住我的决定”</strong>复选框，以避免将来再处理该复选框。</p>

<p>您现在应该具有以下项目结构。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/earPrj.jpg" data-image-src="/confluence/download/attachments/20645238/earPrj.jpg?version=2&modificationDate=1336344279000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017497" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="earPrj.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none"></p>

<div class="confluence-information-macro confluence-information-macro-note"><p class="title">错误信息</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p><strong>cvc-complex-type.2.4.b：元素“应用程序”的内容不完整...</strong> 现在不用担心该错误。当您定义ejb模块（之后再定义webapp模块）时，我们将在下一步中对其进行修复。</p></div></div>

<h1 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-CreatetheEJBproject">创建EJB项目</h1>

<p>下一步是创建一个EJB项目来保存您的EJB。</p>

<ol><li>选择<strong>File-> New</strong> ，选择<strong>EJB Project</strong> 。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>在“ EJB项目”向导中，输入<em>SampleEJB</em>作为项目名称，然后选择“ <strong>将项目添加到EAR”</strong>复选框。其余部分保持不变，然后单击“ <strong>下一步”</strong> 。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/newEJBprj1.jpg" data-image-src="/confluence/download/attachments/20645238/newEJBprj1.jpg?version=1&modificationDate=1332825230000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017489" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="newEJBprj1.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>取消选中“ <strong>创建EJB客户端JAR模块以保存客户端接口和类”</strong>复选框。我们对此不感兴趣。单击<strong>下一步</strong> 。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/createEJBprj2.jpg" data-image-src="/confluence/download/attachments/20645238/createEJBprj2.jpg?version=1&modificationDate=1332825230000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017486" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="createEJBprj2.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>使用以下值填写“ Geronimo部署计划”字段：<div class="sectionMacro"><div class="sectionMacroRow"><ul><li>组ID： <strong>sampleear</strong></li><li>工件ID： <strong>sample-ejb</strong></li><li>神器类型： <strong>ejb</strong></li></ul>
</div></div>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/ejbDeploymentPlan.jpg" data-image-src="/confluence/download/attachments/20645238/ejbDeploymentPlan.jpg?version=1&modificationDate=1332832537000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017499" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="ejbDeploymentPlan.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>点击<strong>完成</strong> 。</li></ol>


<p>您现在应该具有以下项目结构。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/ejbPrj.jpg" data-image-src="/confluence/download/attachments/20645238/ejbPrj.jpg?version=1&modificationDate=1336344424000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017664" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="ejbPrj.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none"></p>

<div class="confluence-information-macro confluence-information-macro-note"><p class="title">重要</p><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>去掉<code>ejbModule/META-INF/openejb-jar.xml</code> SampleEJB项目中的文件，因为它会导致部署问题。请参见上图中突出显示的文件。</p></div></div>

<h1 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-CreatethedynamicWebproject">创建动态Web项目</h1>

<p>现在您已经创建了EAR和EJB项目，下一步是创建一个动态Web项目来保存您的Web应用程序。</p>

<ol><li>选择<strong>File-> New</strong> ，选择<strong>Dynamic Web Project</strong> 。</li><li>在“动态Web项目”向导中，输入<em>SampleWAR</em>作为项目名称，然后选择“ <strong>将项目添加到EAR”</strong>复选框。其余部分保持不变，然后单击两次<strong>Next</strong> 。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/createWARprj1.jpg" data-image-src="/confluence/download/attachments/20645238/createWARprj1.jpg?version=1&modificationDate=1332825229000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017485" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="createWARprj1.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>使用以下值填写“ Geronimo部署计划”字段：<div class="sectionMacro"><div class="sectionMacroRow"><ul><li>组ID： <strong>sampleear</strong></li><li>神器ID： <strong>样品大战</strong></li><li>神器类型： <strong>战争</strong></li></ul>
</div></div>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/warDeploymentplan.jpg" data-image-src="/confluence/download/attachments/20645238/warDeploymentplan.jpg?version=1&modificationDate=1332832155000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017498" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="warDeploymentplan.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>点击<strong>完成</strong> 。</li></ol>


<p>您现在应该具有以下项目结构。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/webPrjFrame.jpg" data-image-src="/confluence/download/attachments/20645238/webPrjFrame.jpg?version=1&modificationDate=1332832154000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017496" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="webPrjFrame.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none"></p>

<h1 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-CreateStatelessSessionEJB">创建无状态会话EJB</h1>

<p>每个无状态会话EJB都有自己的业务接口。有三种类型的业务接口- <code><strong>@Remote</strong></code> ， <code><strong>@Local</strong></code>和<code><strong>@WebService</strong></code> -以及这三者的组合。EJB开发从定义业务接口并在bean实现类中实现开始。我们将在下一步中执行此操作。</p>

<h2 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-Createremotebusinessinterface">创建远程业务界面</h2>

<ol><li>右键单击<strong>SampleEJB</strong>项目，然后选择<strong>New-</strong> <strong>> Interface，</strong>并用以下值填充它：<div class="sectionMacro"><div class="sectionMacroRow"><ul><li>包装： <strong>样品耳</strong></li><li>名称： <strong>RemoteBusinessInterface</strong></li></ul>
</div></div>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/ejbinterface.jpg" data-image-src="/confluence/download/attachments/20645238/ejbinterface.jpg?version=1&modificationDate=1332842492000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017503" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="ejbinterface.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>点击<strong>完成</strong> 。</li></ol>


<p>现在，我们需要添加一种业务方法，并使用以下方法将该接口标记为远程接口<code><strong>@Remote</strong></code>注解。</p>

<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>RemoteBusinessInterface.java</b></div><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
package sampleear;

import javax.ejb.Remote;

@Remote
public interface RemoteBusinessInterface {
    public String sayHello(String name);
}
]]></script>
</div></div>

<h2 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-Createbeanclass">创建bean类</h2>

<ol><li>右键单击<strong>SampleEJB</strong>项目，然后选择<strong>New-</strong> <strong>> Class</strong>并用以下值填充它：<div class="sectionMacro"><div class="sectionMacroRow"><ul><li>包装： <strong>样品耳</strong></li><li>名称： <strong>MyStatelessSessionBean</strong></li><li>接口： <strong>sampleear。远程业务接口</strong></li></ul>
</div></div>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/ejbClass.jpg" data-image-src="/confluence/download/attachments/20645238/ejbClass.jpg?version=1&modificationDate=1332842492000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017502" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="ejbClass.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>点击<strong>完成</strong> 。</li></ol>


<p>实现业务方法<strong>sayHello，</strong>并使用@Stateless批注将该类标记为无状态会话Bean。</p>

<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>MyStatelessSessionBean.java</b></div><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
package sampleear;

import javax.ejb.Stateless;

@Stateless
public class MyStatelessSessionBean implements RemoteBusinessInterface {

    public String sayHello(String name) {
        return getClass().getName() + &quot; says hello to &quot; + name + &quot;.&quot;;
    }
}
]]></script>
</div></div>

<h1 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-Webapplicationdevelopment">Web应用程序开发</h1>

<p>是时候在Web应用程序中使用EJB了。在本节中，我们创建一个jsp <code>index.jsp</code>执行Servlet <strong>MyServlet的</strong>页面，而该Servlet又执行ejb <strong>MyStatelessSessionBean</strong> 。</p>

<h2 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-Createwelcomepageindex.jsp">创建欢迎页面<code>index.jsp</code></h2>

<ol><li>右键单击<strong>SampleWAR</strong>项目，然后选择<strong>New-</strong> <strong>> JSP</strong> 。命名<code>index.jsp</code>然后点击<strong>完成</strong> 。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>对其进行更改，以使其在提交表单时执行servlet。
<div class="sectionColumnWrapper"><div class="sectionMacro">
<div class="sectionMacroRow"><div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>index.jsp</b></div><div class="codeContent panelContent pdl">
<script class="brush: html; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
	pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
&lt;title&gt;5-minute Tutorial on Enterprise Application Development
	with Eclipse and Geronimo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;form action=&quot;MyServlet&quot;&gt;
		&lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;
                &lt;input type=&quot;submit&quot; value=&quot;Press me!&quot; /&gt;
	&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
]]></script>
</div></div></div></div></div></li></ol>


<h2 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-Createservlet-MyServlet">创建servlet-MyServlet</h2>

<p>由于Servlet调用EJB，因此Servlet所在的Web项目取决于EJB项目。让我们定义依赖关系。</p>

<ol><li>右键单击<strong>SampleWAR</strong>项目，然后选择“ <strong>属性”</strong> 。转到<strong>Java Build Path</strong>并单击“项目”项，然后单击“添加”按钮以选择“ SampleEJB”项目，然后单击<strong>确定</strong> 。<ul><li>或选择“ <strong>属性”</strong> ，然后选择“ <strong>部署程序集”</strong> 。选择<strong>清单条目</strong>选项卡，然后选择<strong>添加...</strong> ， <strong>完成</strong> ， <strong>应用</strong> ， <strong>确定</strong> 。<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/myServlet.jpg" data-image-src="/confluence/download/attachments/20645238/myServlet.jpg?version=2&modificationDate=1332825280000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="20873472" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="myServlet.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/myservlet2.jpg" data-image-src="/confluence/download/attachments/20645238/myservlet2.jpg?version=1&modificationDate=1332825280000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017491" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="myservlet2.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none"></li></ul>
	</li><li>右键单击<strong>SampleWAR</strong>项目，然后选择<strong>New-</strong> <strong>> Servlet，</strong>并用以下值填充它：<div class="sectionMacro"><div class="sectionMacroRow"><ul><li>Java套件： <strong>sampleear</strong></li><li>类名： <strong>MyServlet</strong></li></ul>
</div></div>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/newServlet.jpg" data-image-src="/confluence/download/attachments/20645238/newServlet.jpg?version=1&modificationDate=1332843428000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017504" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="newServlet.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>单击<strong>下一步</strong> 。</li><li>更改“ URL映射”部分，以便servlet在<strong>/ sayHello</strong> URL映射处提供服务，然后单击<strong>Finish</strong> 。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/createServlet.jpg" data-image-src="/confluence/download/attachments/20645238/createServlet.jpg?version=1&modificationDate=1332832538000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017500" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="createServlet.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">
<code>MyServlet.java</code>创建后将自动打开以进行编辑，如下所示更新servlet，以在执行时调用ejb。
<br class="atl-forced-newline" clear="none">
<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>MyServlet.java</b></div><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
package sampleear;

import java.io.IOException;
import javax.ejb.EJB;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import sampleear.RemoteBusinessInterface;

@WebServlet(&quot;/MyServlet&quot;)
public class MyServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;

	@EJB
	RemoteBusinessInterface remoteBusinessIntf;

	protected void doGet(HttpServletRequest request,
			HttpServletResponse response) throws ServletException, IOException {
		String name = request.getParameter(&quot;name&quot;);
		if (name == null || name.length() == 0) {
			name = &quot;anonymous&quot;;
		}
		response.getWriter().write(remoteBusinessIntf.sayHello(name));
	}

}
]]></script>
</div></div>
<br class="atl-forced-newline" clear="none"></li><li>更新SampleWAR的WEB-INF目录下的web.xml<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>web.xml</b></div><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;
	xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;
	id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;
	&lt;display-name&gt;SampleWAR&lt;/display-name&gt;
	&lt;welcome-file-list&gt;
		&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
	&lt;/welcome-file-list&gt;
	&lt;servlet&gt;
		&lt;display-name&gt;MyServlet&lt;/display-name&gt;
		&lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;
		&lt;servlet-class&gt;sampleear.MyServlet&lt;/servlet-class&gt;
	&lt;/servlet&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/MyServlet&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
&lt;/web-app&gt;
]]></script>
</div></div>
<br class="atl-forced-newline" clear="none"></li><li>检查SampleWAR的WEB-INF目录下的geronimo-web.xml<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>geronimo-web.xml</b></div><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web:web-app xmlns:app=&quot;http://geronimo.apache.org/xml/ns/j2ee/application-2.0&quot;
	xmlns:bp=&quot;http://www.osgi.org/xmlns/blueprint/v1.0.0&quot;
	xmlns:client=&quot;http://geronimo.apache.org/xml/ns/j2ee/application-client-2.0&quot;
	xmlns:conn=&quot;http://geronimo.apache.org/xml/ns/j2ee/connector-1.2&quot;
	xmlns:dep=&quot;http://geronimo.apache.org/xml/ns/deployment-1.2&quot; xmlns:ejb=&quot;http://openejb.apache.org/xml/ns/openejb-jar-2.2&quot;
	xmlns:jaspi=&quot;http://geronimo.apache.org/xml/ns/geronimo-jaspi&quot;
	xmlns:log=&quot;http://geronimo.apache.org/xml/ns/loginconfig-2.0&quot;
	xmlns:name=&quot;http://geronimo.apache.org/xml/ns/naming-1.2&quot; xmlns:pers=&quot;http://java.sun.com/xml/ns/persistence&quot;
	xmlns:pkgen=&quot;http://openejb.apache.org/xml/ns/pkgen-2.1&quot; xmlns:sec=&quot;http://geronimo.apache.org/xml/ns/security-2.0&quot;
	xmlns:web=&quot;http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1&quot;&gt;
	&lt;dep:environment&gt;
		&lt;dep:moduleId&gt;
			&lt;dep:groupId&gt;sampleear&lt;/dep:groupId&gt;
			&lt;dep:artifactId&gt;sample-war&lt;/dep:artifactId&gt;
			&lt;dep:version&gt;1.0&lt;/dep:version&gt;
			&lt;dep:type&gt;war&lt;/dep:type&gt;
		&lt;/dep:moduleId&gt;
	&lt;/dep:environment&gt;
	&lt;web:context-root&gt;/sayHello&lt;/web:context-root&gt;
&lt;/web:web-app&gt;
]]></script>
</div></div></li></ol>


<h1 id="id-5-minuteTutorialonEnterpriseApplicationDevelopmentwithEclipseandGeronimo-Deployandrun">部署并运行</h1>

<p>在测试此示例之前，剩下的就是部署它了。当您选择直接从Eclipse工作区运行应用程序时，将自动为您完成此任务。</p>

<ol><li>右键单击<strong>SampleEAR</strong>项目，然后选择<strong>Run</strong> <strong>As-</strong> <strong>> Run on Server</strong> 。当出现<em>“在_Server上运行”</em>弹出窗口时，选中“ <strong>在运行此项目时始终使用此服务器”</strong>复选框。其余部分保持原样。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/newServer.jpg" data-image-src="/confluence/download/attachments/20645238/newServer.jpg?version=1&modificationDate=1332828509000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017495" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="newServer.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>点击<strong>完成</strong> 。</li><li>服务器已停止，因此什么也没发生（至少从用户的角度来看）。打开“ <em>服务器”</em>选项卡，然后<strong>在本地主机</strong>上的<strong>Apache Geronimo v3.0 Server上</strong>单击鼠标右键，然后选择“ <strong>启动”</strong> 。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>几秒钟后，Geronimo将启动并运行，并发布企业应用程序。打开您选择的浏览器，然后转到<a shape="rect" class="external-link" href="http://localhost:8080/sayHello/" rel="nofollow">http：// localhost：8080 / sayHello /</a> 。<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/link.jpg" data-image-src="/confluence/download/attachments/20645238/link.jpg?version=1&modificationDate=1332828418000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017492" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="link.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none"></li><li>输入您想要的任何名称，例如<code>John Doe</code>然后按<strong>按我！</strong> 按钮。
<br class="atl-forced-newline" clear="none">
<br class="atl-forced-newline" clear="none">  <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="5-minute-tutorial-on-enterprise-application-development-with-eclipse-and-geronimo.data/linkresult.jpg" data-image-src="/confluence/download/attachments/20645238/linkresult.jpg?version=1&modificationDate=1332828419000&api=v2" data-unresolved-comment-count="0" data-linked-resource-id="28017493" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="linkresult.jpg" data-base-url="https://cwiki.apache.org/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="20645238" data-linked-resource-container-version="22"></span><br class="atl-forced-newline" clear="none"></li></ol></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : 5-minute Tutorial on Enterprise Application Development with Eclipse and Geronimo';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>