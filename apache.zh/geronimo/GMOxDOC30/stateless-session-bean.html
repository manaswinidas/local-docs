<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=1">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="Stateless Session Bean">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Stateless Session Bean">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>

  <link href="asset?aid=4" rel="stylesheet" type="text/css">
  <link href="asset?aid=5" rel="stylesheet" type="text/css">
  <script src="http://geronimo.apache.org/resources/highlighter/scripts/shCore.js" type="text/javascript"></script>
  <script src="http://geronimo.apache.org/resources/highlighter/scripts/shBrushJava.js" type="text/javascript"></script>
  <script src="http://geronimo.apache.org/resources/highlighter/scripts/shBrushXml.js" type="text/javascript"></script>
  <script src="http://geronimo.apache.org/resources/highlighter/scripts/shBrushPlain.js" type="text/javascript"></script>
  <script src="http://geronimo.apache.org/resources/highlighter/scripts/shBrushBash.js" type="text/javascript"></script>
  
  <script type="text/javascript">SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();</script>

    <title>Apache Geronimo v3.0文档：无状态会话Bean</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">主页</a> > <a href="documentation.html">文档</a> > <a href="developing.html">开发</a> > <a href="tutorials.html">教程</a> > <a href="developing-ejb-applications.html">开发EJB应用程序</a> > <a href="stateless-session-bean.html">无状态会话Bean</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">无状态会话Bean</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645239"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645239">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645239"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645239">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645239"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645239">新增新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent">
<p>如果流程或操作可以一次性完成，则使用无状态Bean。在这种情况下，对象状态将不会在一系列链接调用中保留。在无状态会话Bean中，每次调用Bean本身都是唯一的。<strong>@Stateless</strong>批注表示的无状态会话Bean。</p>

<p>这是简单无状态会话Bean的示例：</p>
<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>StatelessBean.java</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
@Stateless
public class StatelessBean implements StatelessBeanRemote
{
public void SimpleFunction()
{
System.out.println("This is a stateless session bean");
}
}
</pre>
</div></div>
<p>从代码中可以看出，@ Stateless将简单的POJO定义为无状态会话bean。</p>

<p>上面给出了什么是无状态会话bean以及如何使用EJB3注释实现它的非常高级的想法。在处理示例时，我们将尝试使您深入了解无状态会话Bean。</p>

<h1 id="StatelessSessionBean-StatelessSessionBeanSample">无状态会话Bean示例</h1>
<p>该示例应用程序将带您了解无状态会话Bean的基础。此应用程序将演示如何在EJB3应用程序中使用@ Stateless，@ Resource，@ PostConstruct，@ PreDestroy等注释。</p>

<p>该应用程序浏览身份验证页面，用户必须在其中进行身份验证才能转到Apache Geronimo的资源页面。如果是新用户，则该用户必须完成注册过程。一旦注册完成，以后用户将再次被定向到登录页面。在登录页面中，bean类将检查用户针对数据库输入的用户名和密码。</p>

<p>基本上，只要有一个步骤的过程，就使用无状态会话EJB，并且维护会话已过时。在此样本中，用户注册表单是一个一步的过程，因此我们使用无状态会话bean来实现它。登录页面用词不当，不应被视为无状态会话EJB的实现。这是因为登录后就必须维护会话，无状态会话Bean并不意味着要维护会话。</p>

<p>要运行本教程，至少需要您安装以下必备软件。</p>

<ul><li>Sun JDK 5.0+（J2SE 1.5）</li><li>Eclipse 3.3.1.1（Europa发行版的Eclipse Classic软件包），特定于平台</li><li>Web工具平台（WTP）2.0.1</li><li>数据工具平台（DTP）1.5.1</li><li>Eclipse建模框架（EMF）2.3.1</li><li>图形编辑框架（GEF）3.3.1</li></ul>


<p><a shape="rect" href="development-environment.html">开发环境</a>部分中提供了有关安装Eclipse的详细信息。<br clear="none">本教程分为以下几节：</p>
<style type="text/css">/*<![CDATA[*/
div.rbtoc1572612929116 {padding: 0px;}
div.rbtoc1572612929116 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1572612929116 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class="toc-macro rbtoc1572612929116">
<ul class="toc-indentation"><li><a shape="rect" href="#StatelessSessionBean-CreatingaStatelessSessionEJBproject">创建无状态会话EJB项目</a></li><li><a shape="rect" href="#StatelessSessionBean-Creatingadatabaseusingtheadministrativeconsole">使用管理控制台创建数据库</a></li><li><a shape="rect" href="#StatelessSessionBean-CreatingadatasourceusingAdministrativeConsole">使用管理控制台创建数据源</a></li><li><a shape="rect" href="#StatelessSessionBean-Creatingapplicationclient">创建应用程序客户端</a></li><li><a shape="rect" href="#StatelessSessionBean-Fewmoreconfigurations">少量配置</a></li><li><a shape="rect" href="#StatelessSessionBean-DeployandRun">部署并运行</a></li></ul>
</div>

<h2 id="StatelessSessionBean-CreatingaStatelessSessionEJBproject">创建无状态会话EJB项目</h2>
<ol><li>右键单击Project Explorer下的，然后如图所示创建一个EJB项目。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createProject1.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在下一个屏幕上，将项目名称命名为<em>StatelessSessionEJB</em> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createProject2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>右键单击<strong>ejbModule</strong>并创建一个新的Interface <em>RegisterBeanRemote</em> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createInterface.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在“新建Java接口”窗口上，将包名称命名为<em>statelessejb</em> ，将接口名称命名为<em>RegisterBeanRemote</em> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createInterface2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>用以下代码填充<em>RegisterBeanRemote</em>接口。
<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>RegisterBeanRemote.java</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
package statelessejb;
import javax.ejb.Remote;
@Remote
public interface RegisterBeanRemote 
{
public void register(String FirstName, String LastName, String Sex, String UserName, String Password);
public boolean verify(String username, String password);
}
</pre>
</div></div>在上面的代码中，@Remote是元数据注释，它将接口标记为远程接口。元数据注释用于声明具有特定属性的类，接口或函数。在这种情况下，该接口被标记为远程接口。</li><li>右键单击<strong>StatelessSessionEJB</strong>项目，然后创建一个新类<em>RegisterBean</em> ，如图所示。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createClass.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>用以下数据填充类<em>RegisterBean</em> ：<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>RegisterBean.java</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
package statelessejb;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import javax.annotation.PostConstruct;
import javax.annotation.PreDestroy;
import javax.annotation.Resource;
import javax.ejb.Stateless;
import javax.sql.DataSource;
@Stateless
public class RegisterBean implements RegisterBeanRemote{
	@Resource(name="jdbc/userds")
	private DataSource dbsource;
	private Connection dbconnect;
	@PostConstruct
	public void initialize()
	{
		try{
			dbconnect= dbsource.getConnection();
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
	}
	public void register(String FirstName, String LastName, String Sex, String UserName, String Password)
	{
		try
		{
			String insert="INSERT INTO USERINFO (" + "FIRSTNAME," + "LASTNAME," + "SEX," + "USERNAME," + "PASSWORD)" + " VALUES(?,?,?,?,?)";
			PreparedStatement ps=dbconnect.prepareStatement(insert);
			ps.setString(1,FirstName);
			ps.setString(2,LastName);
			ps.setString(3,Sex);
			ps.setString(4,UserName);
			ps.setString(5,Password);
			int rs =ps.executeUpdate();
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
	}
	public boolean verify(String username, String password)
	{
		boolean ret=false;
		String select="SELECT * FROM USERINFO";
		try{
		PreparedStatement ps=dbconnect.prepareStatement(select);
		ResultSet rs= ps.executeQuery();
		while(rs.next())
		{
			String str=(rs.getString("USERNAME")).trim();
			String str1=(rs.getString("PASSWORD")).trim();
			if (str.compareTo(username)==0)
			{
			if(str1.compareTo(password)==0)
			
				{
				ret=true;
				break;
				}
			
			else
			    ret=false;
			}
			else
				ret=false;
		}
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
		System.out.println(ret);
		return ret;	
	}
	@PreDestroy
	public void destroy(){
		try
		{
		dbconnect.close();
		dbconnect=null;
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}

	}
}
</pre>
</div></div>让我们尝试理解此代码。
	<ol><li>首先第一行有一个注释<strong>@Stateless</strong>该声明POJO是一个无状态会话Bean。此注释告诉容器该类是无状态会话Bean类。现在，容器会自动处理各种服务，例如池化，线程安全，事务处理等。</li><li>第二行建议Bean类实现远程接口。每个EJB应用程序必须至少具有一个接口。在这种情况下，我们有一个远程接口。</li><li>接下来，我们有<strong>@Resource（name =“ jdbc / userds”）</strong>批注，该批注建议将<em>jdbc / userds</em>数据源注入到EJB中。这称为依赖注入。依赖项注入的主要思想是组件应通过接口调用资源。反过来，这将在组件和资源之间创建松散耦合的体系结构。依赖项注入实际上是按相反顺序进行的JNDI查找。在JNDI查找中，Bean会查找资源本身，这就是为什么必须在Bean代码本身中对其进行硬编码的原因，而在依赖注入中，容器会读取Bean并找出Bean类需要哪些资源。稍后，它将在运行时注入资源。<strong>下一节</strong>将讨论如何创建<strong>jdbc / userds</strong>数据源。</li><li>下一个有趣的部分是<strong>@PostConstruct</strong>批注。此注释用于生命周期回调。容器使用生命周期回调方法来通知Bean类Bean生命周期中的状态转换。创建bean实例后，将使用@PostConstruct批注。在我们的示例中，我们创建了bean实例并注入了Dependency。之后，将调用@PostConstruct回调，并建立与数据源的连接。</li><li>接下来，我们有一个<strong>注册</strong>功能，用于用用户信息填充数据库<strong>USERINFO</strong> 。此函数使用PreparedStatement查询数据库。</li><li>接下来是<strong>验证</strong>功能，用于验证用户凭据。</li><li><strong>@PreDestroy</strong>还是一个生命周期回调，建议在销毁bean之前释放资源。
<div class="confluence-information-macro confluence-information-macro-warning"><p class="title">警告</p><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>由于Geronimo Eclipse插件中的某些限制，生成的部署计划（ <code>openejb-jar.xml</code> ）没有正确的名称空间。用以下内容替换现有的名称空间，如图所示<br clear="none">
<openejb-jar xmlns="http://www.openejb.org/xml/ns/openejb-jar-2.2" xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2" xmlns:pkgen="http://www.openejb.org/xml/ns/pkgen-2.0" xmlns:sec="http://geronimo.apache.org/xml/ns/security-1.2" xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2"></openejb-jar></p></div></div>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/ejbjaredit.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">这样就完成了EJB项目的开发。</li></ol>
	</li></ol>


<h2 id="StatelessSessionBean-Creatingadatabaseusingtheadministrativeconsole">使用管理控制台创建数据库</h2>
<ol><li>启动服务器并使用URL <a shape="rect" class="external-link" href="http://localhost:8080/console" rel="nofollow">http：// localhost：8080 / console</a>启动管理<a shape="rect" class="external-link" href="http://localhost:8080/console" rel="nofollow">控制台</a> 。</li><li>输入默认的用户名和密码。</li><li>在欢迎页面的“ <em>嵌入式数据库”下</em> ，选择“ <strong>数据库管理器”</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDB1.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在下一页上，创建数据库<em>userdbs，</em>然后选择<strong>Create</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDB2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>完成后，您可以在“数据库”下的“数据库查看器” portlet中看到<strong>userdbs</strong>数据库。这确认数据库已成功创建。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDB3.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>如图“ <em>使用数据库”</em>下的图所示，从下拉框中选择<strong>userdbs</strong> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDB4.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>如图所示运行查询。此查询将创建表<strong>USERINFO，</strong>其中包含<em>FIRSTNAME</em> ， <em>LASTNAME</em> ， <em>SEX</em> ， <em>USERNAME</em> ， <em>PASSWORD列</em> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDB5.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>CreateTable.sql</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
CREATE TABLE USERINFO
(
FIRSTNAME char(20),
LASTNAME  char(20),
SEX       char(7),
USERNAME  char(20),
PASSWORD  char(20)
)
</pre>
</div></div></li><li>验证表创建是否成功。在<strong>userdbs</strong>数据库的<em>查看表</em>下，选择<strong>应用程序</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDB6.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>接下来的窗口将显示与<strong>userdbs</strong>数据库相关联的表<strong>USERINFO。</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDB7.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li></ol>


<h2 id="StatelessSessionBean-CreatingadatasourceusingAdministrativeConsole">使用管理控制台创建数据源</h2>
<ol><li>启动服务器并使用URL <a shape="rect" class="external-link" href="http://localhost:8080/console" rel="nofollow">http：// localhost：8080 / console</a>启动管理<a shape="rect" class="external-link" href="http://localhost:8080/console" rel="nofollow">控制台</a> 。</li><li>输入默认的用户名和密码。</li><li>进入欢迎页面。在控制台导航中，在“ <em>服务”下</em> ，选择“ <strong>数据库池”</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDS.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在下一个屏幕上，使用Geronimo数据库池向导创建一个新的数据库池。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDS2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在下一个屏幕上，输入图中建议的名称。这将启动创建Derby Embedded XA数据源的过程。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDS3.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>选择驱动程序jar，并将数据库名称命名为<em>userdbs</em> （请记住，这是我们在上一步中创建的数据库）。其余字段可以设置为默认值。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDS4.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>选择<strong>部署</strong>以部署连接器计划。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDS5.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>完成后，您可以在可用数据库池中看到数据库池<strong>jdbc / userds</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/createDS6.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li></ol>


<h2 id="StatelessSessionBean-Creatingapplicationclient">创建应用程序客户端</h2>
<ol><li>创建一个名为<em>ApplicationClient</em>的新动态Web项目。</li><li>右键单击<strong>WebContent</strong>并创建以下内容<code>login.jsp</code> ：<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>login.jsp</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Welcome to Apache Geronimo&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor="white"&gt;
&lt;form method="post" action="passCredentials.jsp"&gt;
&lt;h2 align="center"&gt;&lt;font color="blue"&gt;Welcome to Apache Geronimo&lt;/font&gt;&lt;/h2&gt;
&lt;h2 align="center"&gt;&lt;font color="blue"&gt;Enter your credentials&lt;/font&gt;&lt;/h2&gt;
Enter your Username
&lt;input type="text" name="username" size=20&gt;&lt;br&gt;
Enter your Password
&lt;input type="password" name="password" size=20&gt;&lt;br&gt;
&lt;input type="submit" value="Login"&gt;
&lt;a href="http://localhost:8080/ApplicationClient/register.jsp"&gt;NewUser&lt;/a&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div></div>该表格是我们应用程序的登录页面。用户输入他/她的凭证后，这些凭证将传递给另一个jsp <code>passCredentials.jsp</code> （在form标签中签出操作）以验证用户凭据的真实性。如果用户是新用户，则必须完成注册过程。此语句<strong><a href="http://localhost:8080/ApplicationClient/register.jsp">NewUser</a></strong>用于将用户路由到注册页面。
<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>passCredentials.jsp</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;%@ page import="java.util.Properties,javax.naming.Context,javax.naming.InitialContext,statelessejb.RegisterBeanRemote" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor="white"&gt;
&lt;%!boolean i; %&gt;
&lt;%
Properties prop=new Properties();
prop.put(Context.INITIAL_CONTEXT_FACTORY, "org.apache.openejb.client.RemoteInitialContextFactory");
	prop.put("java.naming.provider.url", "ejbd://localhost:4201");
Context context = new InitialContext(prop);
RegisterBeanRemote myejb=(RegisterBeanRemote)context.lookup("RegisterBeanRemote");
String s= request.getParameter("username");
String s1= request.getParameter("password");
i=myejb.verify(s,s1);
%&gt;
&lt;% 
	if (i==true){ 
%&gt;
&lt;jsp:forward page="/resources.jsp"&gt;&lt;/jsp:forward&gt;
&lt;% 
	} else {
%&gt;
	&lt;jsp:forward page="/login.jsp"&gt;&lt;/jsp:forward&gt;
&lt;% 
}
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div></div>
<strong><％！布尔我％></strong>是全局变量的声明。另一部分是scriptlet，它对远程接口进行JNDI查找。之后，将传递用户凭据以<strong>验证</strong>功能。如果凭据正确，则用户将被路由到资源页面，否则他将被重定向到登录页面以重新登录。
<div class="confluence-information-macro confluence-information-macro-tip"><p class="title">为什么查找名称为RegisterBeanRemote？</p><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>这将在“部署运行”部分中进行说明</p></div></div>
<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>resources.jsp</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Welcome to Apache Geronimo&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor="white"&gt;
&lt;h3&gt;&lt;font color="blue"&gt;Welcome to Apache Geronimo Resource Center&lt;/font&gt;&lt;/h3&gt; 
Apache Geronimo Home Page
&lt;a href="http://geronimo.apache.org"&gt;Apache Geronimo Home page&lt;/a&gt;&lt;br&gt;
Join our mailing list
&lt;a href="http://geronimo.apache.org/mailing-lists.html"&gt;Apache Geronimo Mailing List&lt;/a&gt;&lt;br&gt;
Come and Contribute to Apache Geronimo V2.1 Documentation
&lt;a href="http://cwiki.apache.org/GMOxDOC22/"&gt;Apache Geronimo V2.1 Documentation&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div></div>这是显示各种资源的应用程序的最后一页。
<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>register.jsp</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Welcome to Apache Geronimo&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor="white"&gt;
&lt;script type="text/javascript"&gt;
function valForm()
{
	if (this.document.form1.username.value=="" || this.document.form1.username.value=="")
	{
		alert("You cannot leave the field blank");
		this.document.form1.firstname.focus();
		return false;
	}
	else
	{
		return true;
	}
}
&lt;/script&gt;
&lt;h2 align="center"&gt;&lt;font color="blue"&gt;Welcome to Apache Geronimo User Registration&lt;/font&gt;&lt;/h2&gt;
&lt;form method="post" name="form1" action="passVariables.jsp" onSubmit=" return valForm();"&gt;
FirstName
&lt;INPUT type="text" name="firstname" SIZE=20&gt;&lt;br&gt;
LastName
&lt;INPUT type="text" name="lastname" SIZE=20 &gt;&lt;br&gt;
Sex&lt;br&gt;
&lt;input type="radio" name="sex" value="male"&gt; Male
&lt;br&gt;
&lt;input type="radio" name="sex" value="female"&gt; Female
&lt;br&gt;
Select a UserName&lt;br&gt;
&lt;input type="text" name="username" size=20&gt;&lt;br&gt;
Select a Password&lt;br&gt;
&lt;input type="password" name="password"  size=20&gt;&lt;br&gt;
&lt;br&gt;
&lt;input type="submit" value="Submit"&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div></div>此页面是注册页面。一旦用户填写了表单并按Submit， <strong>便会</strong>调用<strong>valform（）</strong>函数，该函数将验证字段用户名和密码。如果其中任何一个为空，则会发送一条警报，提示您表单中的空字段。如果一切都好<code>passVariables.jsp</code>叫做。
<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>passVariables.jsp</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;%@ page import="java.util.Properties,javax.naming.Context,javax.naming.InitialContext,statelessejb.RegisterBeanRemote" %&gt;

&lt;html&gt;
&lt;head&gt;

&lt;meta http-equiv="Refresh" content="5;URL=http://localhost:8080/ApplicationClient/login.jsp"&gt;
&lt;title&gt;Welcome to Apache Geronimo&lt;/title&gt;
&lt;/head&gt;

&lt;%
Properties prop=new Properties();
prop.put(Context.INITIAL_CONTEXT_FACTORY, "org.apache.openejb.client.RemoteInitialContextFactory");
	prop.put("java.naming.provider.url", "ejbd://localhost:4201");
Context context = new InitialContext(prop);
RegisterBeanRemote myejb=(RegisterBeanRemote)context.lookup("RegisterBeanRemote");
String s= request.getParameter("firstname");
String s1= request.getParameter("lastname");
String s2= request.getParameter("sex");
String s3= request.getParameter("username");
String s4= request.getParameter("password");
myejb.register(s,s1,s2,s3,s4);
%&gt;

&lt;h3 align="center"&gt;&lt;font color="blue"&gt;Thank you for registering with Apache Geronimo&lt;/font&gt;&lt;/h3&gt;
&lt;h3 align="center"&gt;&lt;font color="blue"&gt;Redirecting to Login Page&lt;/font&gt;&lt;/h3&gt;
&lt;/html&gt;
</pre>
</div></div>在此页面中，从中检索字段<code>register.jsp</code>然后调用bean类中的register函数来填充数据库。<br clear="none">代码<strong><meta class="external-link" href="http://localhost:8080/ApplicationClient/login.jsp" rel="nofollow" http-equiv="Refresh" content="5;URL=<a shape=" rec="="> http：// localhost：8080 / ApplicationClient / login.jsp“></strong>建议等待5秒钟，然后再移至login.jsp<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>index.jsp</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;body&gt;
&lt;jsp:forward page="/login.jsp" /&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div></div></li></ol>


<h2 id="StatelessSessionBean-Fewmoreconfigurations">少量配置</h2>

<ol><li>在EJB项目中。在<em>META-INF下</em> ，编辑<code>openejb-jar.xml</code>并添加以下内容<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>数据源依赖</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;sys:dependencies&gt;
            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;console.dbpool&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;jdbc_userds&lt;/sys:artifactId&gt;
            &lt;/sys:dependency&gt;        
&lt;/sys:dependencies&gt;
</pre>
</div></div>最后<code>openejb-jar.xml</code>看起来像这样<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>openejb-jar.xml</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;openejb-jar xmlns="http://www.openejb.org/xml/ns/openejb-jar-2.2" 
xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"
xmlns:pkgen="http://www.openejb.org/xml/ns/pkgen-2.0" 
xmlns:sec="http://geronimo.apache.org/xml/ns/security-1.2" 
xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
  &lt;sys:environment&gt;
    &lt;sys:moduleId&gt;
      &lt;sys:groupId&gt;default&lt;/sys:groupId&gt;
      &lt;sys:artifactId&gt;StatelessSessionEJB&lt;/sys:artifactId&gt;
      &lt;sys:version&gt;1.0&lt;/sys:version&gt;
      &lt;sys:type&gt;car&lt;/sys:type&gt;
    &lt;/sys:moduleId&gt;
    &lt;sys:dependencies&gt;
            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;console.dbpool&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;jdbc_userds&lt;/sys:artifactId&gt;
            &lt;/sys:dependency&gt;        
&lt;/sys:dependencies&gt;
  &lt;/sys:environment&gt;
  &lt;enterprise-beans/&gt;
&lt;/openejb-jar&gt;
</pre>
</div></div>
<div class="confluence-information-macro confluence-information-macro-information"><p class="title">上述依赖来自何处？</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>为了使数据源对EJB可见，我们需要为EJB部署计划添加一个依赖项，即openejb-jar.xml。可以从Geronimo Database Pool向导自动获取以上元素。针对数据库池jdbc / userds选择用法</p></div></div></li><li>在WEB项目中。在WEB-INF下，编辑geronimo-web.xml并添加以下内容<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>EJB依赖</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;sys:dependencies&gt;
       &lt;sys:dependency&gt;
            &lt;sys:groupId&gt;default&lt;/sys:groupId&gt;
      		&lt;sys:artifactId&gt;StatelessSessionEJB&lt;/sys:artifactId&gt;
      		&lt;sys:version&gt;1.0&lt;/sys:version&gt;
      		&lt;sys:type&gt;car&lt;/sys:type&gt;
       &lt;/sys:dependency&gt;        
&lt;/sys:dependencies&gt;
</pre>
</div></div>最后<code>geronimo-web.xml</code>看起来像这样<div class="code panel pdl" style="border-style:solid;border-width:1px"><div class="codeHeader panelHeader pdl" style="border-bottom-width:1px;border-bottom-style:solid"><b>geronimo-web.xml</b></div><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-1.2" 
xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2" 
xmlns:sec="http://geronimo.apache.org/xml/ns/security-1.2"
xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
  &lt;sys:environment&gt;
    &lt;sys:moduleId&gt;
      &lt;sys:groupId&gt;default&lt;/sys:groupId&gt;
      &lt;sys:artifactId&gt;ApplicationClient&lt;/sys:artifactId&gt;
      &lt;sys:version&gt;1.0&lt;/sys:version&gt;
      &lt;sys:type&gt;car&lt;/sys:type&gt;
    &lt;/sys:moduleId&gt;
    &lt;sys:dependencies&gt;
       &lt;sys:dependency&gt;
            &lt;sys:groupId&gt;default&lt;/sys:groupId&gt;
      		&lt;sys:artifactId&gt;StatelessSessionEJB&lt;/sys:artifactId&gt;
      		&lt;sys:version&gt;1.0&lt;/sys:version&gt;
      		&lt;sys:type&gt;car&lt;/sys:type&gt;
       &lt;/sys:dependency&gt;        
&lt;/sys:dependencies&gt;
  &lt;/sys:environment&gt;
  &lt;context-root&gt;/ApplicationClient&lt;/context-root&gt;
&lt;/web-app&gt;
</pre>
</div></div></li><li>右键单击<strong>ApplicationClient</strong>项目，然后选择<strong>属性</strong> 。选择Java构建路径->项目。单击<strong>添加，</strong>然后添加无状态会话EJB。这是编译客户端代码所必需的。</li></ol>


<h2 id="StatelessSessionBean-DeployandRun">部署并运行</h2>
<div class="confluence-information-macro confluence-information-macro-warning"><p class="title">警告</p><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>由于Geronimo Eclipse插件的局限性，您将不得不分别将无状态会话EJB项目和Web应用程序项目导出为jar和war。</p></div></div>
<ol><li>将项目导出为本地磁盘<code>StatelessSessionEJB.jar</code>和<code>ApplicationClient.war</code> 。</li><li>启动服务器，然后使用<a shape="rect" class="external-link" href="http://localhost:8080/console/" rel="nofollow">http：// localhost：8080 / console /</a>启动管理控制台。输入默认的用户名和密码。</li><li>在欢迎页面上的“应用程序”下。选择部署新。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run0.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>浏览并选择StatelessSessionEJB.jar。完成后，选择“安装”。这会将EJB应用程序部署到服务器上。</li><li>浏览并选择ApplicationClient.war。完成后，选择安装。这会将Web应用程序部署到服务器上。</li><li>在“应用程序”下，选择“ Web App WAR”并运行“ Application ApplicationClient”项目，如图所示。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>完成后，将启动欢迎页面。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>如果您是新用户。选择<strong>新用户</strong> ，如图所示<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run9.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>这将显示一个新的注册表格。如果将必填的用户名或密码保留为空。您将收到以下错误消息。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run3.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>如图所示，填写字段，然后选择<strong>Submit</strong> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run4.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>完成后，将显示一个页面，您将被自动重定向到登录页面以重新登录。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run5.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>输入您在注册过程中选择的用户名和密码，然后选择<strong>登录</strong> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run6.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>下一页是Apache Geronimo资源中心。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run7.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>如果您输入错误的用户名和密码组合，您将被重定向到登录页面。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="stateless-session-bean.data/run8.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li></ol></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Stateless Session Bean';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script>
    <script type="text/javascript">var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();</script>

  

</body></html>