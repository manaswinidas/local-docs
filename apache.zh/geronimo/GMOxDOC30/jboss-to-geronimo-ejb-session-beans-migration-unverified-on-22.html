<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=2">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="JBoss to Geronimo - EJB-Session Beans Migration (Unverified on 2.2)">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi JBoss to Geronimo - EJB-Session Beans Migration (Unverified on 2.2)">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0文档：从JBoss到Geronimo-EJB会话Bean迁移（在2.2上未经验证）</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">Home</a> > <a href="documentation.html">文档</a> > <a href="migrating-to-apache-geronimo.html">迁移到Apache Geronimo</a> > <a href="migrating-from-jboss-to-geronimo.html">从JBoss迁移到Geronimo</a> > <a href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">JBoss到Geronimo-EJB-Session Beans迁移（在2.2上未经验证）</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">JBoss到Geronimo-EJB会话Bean迁移（在2.2上未验证）</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645283"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645283">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645283"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645283">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645283"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645283">添加新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>
<p><parameter ac:name="">最佳</parameter><br clear="none">典型的J2EE应用程序可能包含Enterprise JavaBeans或EJB。这些bean包含应用程序的业务逻辑和实时业务数据。尽管可以使用标准Java对象来包含您的业务逻辑和业务数据，但是使用EJB可以解决许多使用简单Java对象的问题，例如可伸缩性，生命周期管理和状态管理。</p>

<p>本文档讨论一种类型的EJB，即会话EJB。这种EJB对于映射业务流程（或等效的应用程序概念）很有用。会话EJB有两种类型：无状态和有状态。本文介绍了这两种会话Bean类型，并说明了在实际情况下如何使用它们。</p>

<p>EJB与客户进行对话。对话基本上是EJB与客户端之间的交互，而这些交互由客户端对EJB的方法调用组成。有状态会话Bean代表客户端保留状态。这意味着，如果在客户端的方法调用期间Bean的状态发生更改，则该状态将保留给同一客户端进行后续调用。另一方面，无状态会话bean不会保留方法与方法之间的对话状态。换句话说，期望仅对单个方法调用保持其对话状态。</p>

<p>本文分为以下几节：</p>
<ul><li><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">EJB实施分析</a></li><li><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">样品申请</a></li><li><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">JBoss环境</a></li><li><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">Geronimo环境</a></li><li><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">分步迁移</a></li><li><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">摘要</a></li></ul>


<h1 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-EJBimplementationanalysis#analysis">EJB实现分析<parameter ac:name="">＃</parameter>分析</h1>

<p>EJB实现可能因一家供应商而异。本部分的目的是在JBoss和Apache Geronimo之间提供会话Bean特定功能的比较，以便您可以清楚地识别差异并在迁移之前进行相应的计划。</p>

<div class="table-wrap"><table class="confluenceTable"><tbody><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>特征</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>JBoss v4.0.5</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>Apache Geronimo（OpenEJB）</p></th></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>有状态和无状态会话Bean</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>BMP（Bean管理的持久性）实体Bean</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>CMP（容器管理的持久性）实体Bean</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>消息驱动bean（MDB）</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>使用RMI-IIOP或JAXRPC的互操作性</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>能够将无状态会话bean和MDB公开为Web服务</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>支持通过Web服务发送和接收消息</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>轻松置备和热部署EJB和基于JMX的Web服务</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>从外部CORBA对象访问EJB</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>支持的</p></td></tr></tbody></table></div>


<p><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">回到顶部</a></p>

<h1 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Sampleapplication#sample">样本应用程序<parameter ac:name="">#sample</parameter></h1>

<p>这是一个简单的电子商务网站，在零售和批发市场中销售与计算机相关的物品。为了获得商品的整体销售价格，客户必须购买至少给定数量的商品。否则，他/她将仅获得该商品的零售价。应用程序的最终用户可以将这些项目添加到他们的购物车中。无状态会话Bean已用于管理折扣计算业务工作流活动，而应用程序的购物车已在有状态会话Bean的帮助下实现。</p>

<p>下图说明了应用程序流程：<br clear="none">
<span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" src="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.data/computer_overview.gif"></span></p>

<p>此应用程序的客户直接登录到项目列表页面。它将提供他们当前库存中物品的所有详细信息。要购买库存中的这些物品之一，请使用每个物品随附的购买链接。它将把客户转发到“将项目添加到购物车”网页。要继续购买，客户必须输入他/她需要的物品数量。如果该数量超过最小折扣数量，则将授予折扣并将更多商品添加到客户的购物车中。购物车网页显示已添加到购物车中的商品的列表，它使您可以从购物车中删除商品。此应用程序将不允许在同一购物车中添加相同的商品。</p>

<h2 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-ApplicationclassesandJSPpages">应用程序类和JSP页面</h2>

<ul><li>org.apache.geronimo.samples.computer.dto<ul><li>ItemDTO-Web和ejb层之间的项目相关信息的数据传输对象。</li><li>TransactionDTO-Web和ejb层之间用于购物车交易相关信息的数据传输对象。</li></ul>
	</li><li>org.apache.geronimo.samples.computer.ejb<ul><li>ItemServiceBean-无状态会话Bean，用于处理项目实现的工作流活动。</li><li>ShoppingCartBean-有状态会话Bean，用于处理购物车活动中的购物车相关活动。</li></ul>
	</li><li>org.apache.geronimo.samples.computer.web<ul><li>ItemServiceDispatchServlet-一个Servlet，用于将与项目服务相关的活动从前端分发到Web层。</li><li>ShoppingCartDispatchServlet-一个Servlet，用于将购物车相关的活动从前端分配到Web层。</li></ul>
	</li></ul>


<p>此电子商务示例应用程序还包括以下JSP页面：</p>
<ul><li>buy_item.jsp-接受客户购买的商品数量。</li><li>error.jsp-显示应用程序的错误情况。</li><li>index.jsp-转发到应用程序的项目列表。</li><li>list_items.jsp-显示库存中的项目列表。</li><li>shopping_cart.jsp-将显示添加到购物车的交易清单。</li></ul>


<h2 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Toolsused">使用的工具</h2>
<p>用于开发和构建计算机附件卖方应用程序的工具是：</p>

<h3 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Eclipse">日食</h3>
<p>Eclipse IDE用于示例应用程序的开发。这是一个非常强大且流行的开源开发工具。集成插件可用于JBoss和Geronimo。可以从以下URL下载Eclipse：<br clear="none">
<a shape="rect" class="external-link" href="http://www.eclipse.org" rel="nofollow">http://www.eclipse.org</a></p>

<h3 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-ApacheAnt">阿帕奇蚂蚁</h3>
<p>Ant是一个纯Java构建工具。它用于构建war文件并为Online Brokerage应用程序填充数据库。可以从以下URL下载Ant：<br clear="none">
<a shape="rect" class="external-link" href="http://ant.apache.org">http://ant.apache.org</a></p>


<p><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">回到顶部</a></p>
<h1 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-TheJBossenviroment#jboss">JBoss环境<parameter ac:name="">#jboss</parameter></h1>

<p>本节向您展示示例JBoss参考环境的安装方式和安装位置，以便您可以将这种情况映射到您自己的实现中。注意，对于此迁移示例，使用了JBoss v4.0.5。</p>

<p>产品文档中提供了有关安装，配置和管理JBoss的详细说明。在产品网站上查看最新文档。</p>

<p>以下列表突出显示了您需要完成的常规任务，以安装和配置初始环境作为部署示例应用程序的起点。</p>

<ol><li>按照产品文档指南中的说明下载并安装JBoss v4.0.5。从现在开始，安装目录将被称为<strong><jboss_home></jboss_home></strong></li><li>创建默认的JBoss v4.0.5应用程序服务器的副本。将<strong><jboss_home>\ server \ default</jboss_home></strong>递归复制到<strong><jboss_home>\ server \<your_server_name></your_server_name></jboss_home></strong></li><li>通过运行<strong>run.sh -c</strong>启动新服务器<strong><your_server_name></your_server_name></strong> <strong><jboss_home>\ bin</jboss_home></strong>目录中的命令。</li><li>服务器启动后，可以通过打开Web浏览器并将其指向以下URL来验证它是否正在运行： <a shape="rect" class="external-link" href="http://localhost:8080" rel="nofollow">http：// localhost：8080</a> 。您应该看到JBoss Welcome窗口，并且能够访问JBoss控制台。</li><li>一旦应用程序服务器启动并运行，下一步就是安装和配置示例应用程序所需的所有其余必备软件。下一节将介绍此步骤。</li></ol>


<h2 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Installandconfigureprerequisitesoftware">安装和配置必备软件</h2>
<p>为了构建和运行本文中包含的示例应用程序，您需要安装和配置Ant构建工具。</p>

<h3 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-ConfigureAnt">配置蚂蚁</h3>

<p>如前所述，Apache Ant用于构建Online Brokerage应用程序的二进制文件。如果您没有安装Ant，那么这是个好时机，并确保将<strong><ant_home>/ bin</ant_home></strong>目录添加到系统的path变量中。</p>

<p>可以从以下URL下载Apache Ant：</p>

<p><a shape="rect" class="external-link" href="http://ant.apache.org">http://ant.apache.org</a></p>

<h3 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-ConfigureXDoclet">配置XDoclet</h3>

<p>XDoclet将用作生成配置文件的构建工具。它是一个开源代码生成引擎。它为Java启用了面向属性的编程。简而言之，这意味着您可以通过向Java源代码中添加元数据（属性）来增加代码的重要性。这是通过特殊的JavaDoc标记完成的。<br clear="none">尽管XDoclet最初是作为创建EJB的工具，但它已经演变为通用代码生成引擎。XDoclet由一个核心和数量不断增长的模块组成。如果需要一种新型的组件，那么编写新的模块是相当直接的。<br clear="none">
<a shape="rect" class="external-link" href="http://xdoclet.sourceforge.net/xdoclet/index.html" rel="nofollow">http://xdoclet.sourceforge.net/xdoclet/index.html</a></p>

<p>只需提取最新版本的XDoclet，并将<strong>xdoclet.home</strong>参数设置为<strong>build.properties</strong>文件即可。</p>

<h2 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Buildthesampleapplication">构建示例应用程序</h2>

<p>本文附带的计算机配件销售应用程序提供了一个Ant脚本，您将使用该脚本来构建该应用程序。从以下链接下载计算机配件销售应用程序：</p>

<p><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.data/computer.zip?version=1&modificationDate=1204180462000&api=v2" data-linked-resource-id="20874017" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="computer.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/zip" data-linked-resource-container-id="20645283" data-linked-resource-container-version="20">电脑</a></p>

<p>解压缩zip文件后，将创建一个<strong>计算机</strong>目录。在该目录中，打开build.properties文件，然后编辑属性以匹配您的环境，如以下示例所示：</p>

<parameter ac:name="">xml</parameter> <parameter ac:name="title">build.properties</parameter> <parameter ac:name="borderStyle">solid</parameter> <plain-text-body>##在此处设置Geronimo 1.1主页geronimo.home = <geronimo_home>##在XDoclet 1.2.3主页中设置xdoclet.home = <xdoclet_home>
</xdoclet_home></geronimo_home></plain-text-body>

<p>在开始构建过程之前，只需在<strong>config</strong>目录的<strong>build.properties</strong>文件中为<strong>geronimo.home</strong>和<strong>xdoclet.home</strong>条目设置正确的路径。</p>

<p>从命令提示符或外壳程序转到<strong>计算机</strong>目录，然后运行<strong>ant jboss</strong> 。这将构建ear文件并将其直接放置在<strong>releases / jboss</strong>目录中。</p>


<h2 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Deploythesampleapplication">部署样本应用程序</h2>

<p>要部署示例应用程序，只需复制<strong>计算机。ear</strong>将在<strong>computer / releases / jboss</strong>文件夹下创建到<strong><jboss_home>/ server / <your_server_name>/ deploy</your_server_name></jboss_home></strong>文件夹。</p>

<p>如果JBoss已经启动，它将自动部署并启动应用程序；否则，该应用程序将被部署并在下次启动时启动。</p>

<h2 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Testthesampleapplication">测试示例应用程序</h2>

<p>要测试该应用程序，请打开Web浏览器并访问以下URL：</p>

<p><a shape="rect" class="external-link" href="http://localhost:8080/computer" rel="nofollow">http：// localhost：8080 /计算机</a></p>

<p>这将弹出计算机附件销售应用程序的项目列表页面。您可以使用此应用程序购买计算机配件。现在，该应用程序已配置并正在运行。</p>

<p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" src="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.data/computer_screen.gif"></span></p>

<p>以下是示例应用程序购物车的演示。</p>

<p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" src="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.data/shopping_cart.gif"></span></p>

<p><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">回到顶部</a></p>
<h1 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-TheGeronimoenviroment#geronimo">Geronimo环境<parameter ac:name="">#geronimo</parameter></h1>

<p>从以下URL下载并安装Geronimo：</p>

<p><a shape="rect" class="external-link" href="http://geronimo.apache.org/downloads.html">http://geronimo.apache.org/downloads.html</a></p>

<p>那里提供的发行说明提供了有关系统要求以及如何安装和启动Geronimo的明确说明。在本文的其余部分中，我们将Geronimo安装目录称为<strong><geronimo_home></geronimo_home></strong> 。</p>

<parameter ac:name="title">TCP / IP端口冲突</parameter> <rich-text-body>
<p>如果您打算在同一台机器上运行JBoss和Geronimo，请考虑至少更改其中一台服务器上的默认服务端口。</p></rich-text-body>


<p><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">回到顶部</a></p>
<h1 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Step-by-stepmigration#migration">逐步迁移<parameter ac:name="">#migration</parameter></h1>

<p>当您构建出售示例应用程序的计算机配件时，Ant打包了JBoss <strong>jboss.xml</strong>和Geronimo <strong>openejb-jar.xml</strong>的部署描述<strong>符</strong> ，因为它们已由示例应用程序提供。这些文件位于<strong>computer / config</strong>目录中。</p>

<p>以下示例显示了JBoss部署描述符。</p>

<parameter ac:name="">xml</parameter> <parameter ac:name="title">jboss.xml</parameter> <parameter ac:name="borderStyle">实体</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><jboss><enterprise-beans><session><ejb-name>ShoppingCart</ejb-name> <local-jndi-name>ShoppingCart</local-jndi-name> <method-attributes>
        </method-attributes></session> <session><ejb-name>ItemService</ejb-name> <local-jndi-name>ItemService</local-jndi-name> <method-attributes>
        </method-attributes></session></enterprise-beans> <resource-managers>
   </resource-managers></jboss><!--?xml--></plain-text-body>

<p>将其与以下示例中显示的Geronimo部署计划的内容进行比较。</p>

<parameter ac:name="">xml</parameter> <parameter ac:name="title">openejb-jar.xml</parameter> <parameter ac:name="borderStyle">固体</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><openejb-jar xmlns="http://www.openejb.org/xml/ns/openejb-jar-2.1"><dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"><dep:moduleid><dep:groupid>org.apache.geronimo.samples</dep:groupid> <dep:artifactid>ComputerEJB</dep:artifactid> <dep:version>1.0</dep:version> <dep:type>汽车</dep:type></dep:moduleid> <dep:dependencies></dep:dependencies><dep:hidden-classes></dep:hidden-classes><dep:non-overridable-classes></dep:non-overridable-classes></dep:environment> <enterprise-beans><session><ejb-name>ShoppingCart</ejb-name> <ejb-ref><ref-name>ejb / ItemService</ref-name> <ejb-link>本地</ejb-link></ejb-ref></session> <session><ejb-name>ItemService ItemService</ejb-name></session></enterprise-beans></openejb-jar><!--?xml--></plain-text-body>

<p>可以清楚地注意到，第一个区别是Geronimo特定的配置比JBoss特定的配置具有更多的附加信息。Geronimo配置文件的该部分与Maven 2构建脚本非常相似。这两个给定的配置文件都具有EJB信息。JBoss使用本地JNDI名称来链接其EJB，而Geronimo直接使用EJB名称。除了上述差异之外， <strong>openejb-jar.xml</strong>文件还比<strong>jboss.xml</strong>文件清楚地提供了ejb参考信息。</p>

<p>查看与Web存档相关的配置文件，可以发现更多差异。</p>

<parameter ac:name="">xml</parameter> <parameter ac:name="title">jboss-web.xml</parameter> <parameter ac:name="borderStyle">solid</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><jboss-web><!-- EJB Local References --> <ejb-local-ref><ejb-ref-name>ejb / ItemServiceLocal</ejb-ref-name> <local-jndi-name>ItemService</local-jndi-name></ejb-local-ref> <ejb-local-ref><ejb-ref-name>ejb / ShoppingCartLocal</ejb-ref-name> <local-jndi-name>ShoppingCart</local-jndi-name></ejb-local-ref></jboss-web><!--?xml--></plain-text-body> <parameter ac:name="">xml</parameter> <parameter ac:name="title">geronimo-web.xml</parameter> <parameter ac:name="borderStyle">solid</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-1.1" xmlns:naming="http://geronimo.apache.org/xml/ns/naming-1.1"><dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.1"><dep:moduleid><dep:groupid>org.apache.geronimo.samples</dep:groupid> <dep:artifactid>ComputerWeb</dep:artifactid> <dep:version>1.0</dep:version> <dep:type>汽车</dep:type></dep:moduleid> <dep:dependencies></dep:dependencies><dep:hidden-classes></dep:hidden-classes><dep:non-overridable-classes></dep:non-overridable-classes></dep:environment> <naming:ejb-local-ref><naming:ref-name>ejb / ItemServiceLocal</naming:ref-name> <naming:ejb-link>ItemService</naming:ejb-link></naming:ejb-local-ref> <naming:ejb-local-ref><naming:ref-name>ejb / ShoppingCart</naming:ref-name></naming:ejb-local-ref> <naming:ejb-local-ref><naming:ejb-link>本地</naming:ejb-link></naming:ejb-local-ref> <naming:ejb-local-ref><naming:ejb-link>ShoppingCart</naming:ejb-link></naming:ejb-local-ref></web-app><!--?xml--></plain-text-body>

<p>如上所述， <strong>jboss-web.xml</strong>从其JNDI名称映射EJB，而<strong>geronimo-web.xml</strong>直接使用EJB名称。每个映射中给定的引用名称将用于引用Servlet中的EJB。 WAR文件的<strong>web.xml</strong>文件包含有关每个EJB引用名称的更多信息，这对于该应用程序的Geronimo和JBoss风格都是通用的。</p>

<h2 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Buildthesampleapplication.1">构建示例应用程序</h2>

<p>通过从<strong>计算机</strong>目录运行以下命令来构建示例应用程序的迁移Geronimo版本。<br clear="none">
<strong>蚂蚁杰罗尼莫</strong><br clear="none">它将在<strong>computer / releases / geronimo</strong>文件夹中创建<strong>computer.ear</strong>文件。</p>

<h2 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Deploythemigratedapplication">部署迁移的应用程序</h2>

<p>要部署迁移的计算机配件销售应用程序，请确保Geronimo服务器已启动并正在运行。</p>

<p>在浏览器中打开Geronimo控制台，然后执行给定的步骤：</p>
<ol><li>从<strong>控制台导航中</strong>旅行<strong>部署新</strong>的。</li><li>从<strong>计算机/发行/ Geronimo的</strong>文件夹中的<strong>存档</strong>输入框负载<strong>computer.ear。</strong></li><li>按<strong>安装</strong>按钮以在服务器中部署应用程序。</li></ol>


<p>部署应用程序后，打开Web浏览器并访问以下URL：<br clear="none">
<a shape="rect" class="external-link" href="http://localhost:8080/computer" rel="nofollow">http：// localhost：8080 /计算机</a></p>

<p><a shape="rect" href="jboss-to-geronimo-ejb-session-beans-migration-unverified-on-22.html">回到顶部</a></p>

<h1 id="JBosstoGeronimo-EJB-SessionBeansMigration(Unverifiedon2.2)-Summary#summary">摘要<parameter ac:name="">＃</parameter>摘要</h1>
<p>本文展示了如何将使用Session Bean的示例应用程序从JBoss v4.0.5迁移到Apache Geronimo。本文提供了分步说明，以构建应用程序，部署和运行该应用程序，然后将其迁移到Geronimo环境。</p>

<p>下表总结了在此示例应用程序迁移期间发现的主要差异。</p>

<ul><li>为了在JBoss中部署EJB jar文件，您只需要将配置文件复制到deploy目录，但是在Geronimo中，您可以使用部署工具，控制台或热部署目录。</li><li>JBoss和Geronimo中EJB jar文件的部署计划的内容几乎相似，只是Geronimo的开始部分与Maven 2构建文件更相似。</li></ul></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : JBoss to Geronimo - EJB-Session Beans Migration (Unverified on 2.2)';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>