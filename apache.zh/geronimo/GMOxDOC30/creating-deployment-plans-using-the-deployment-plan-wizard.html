<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<html lang="en">
  <head>
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <link type="text/css" rel="stylesheet" href="http://geronimo.apache.org/style/default.css">
    <LINK rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <META name="Description" content="Creating deployment plans using the deployment plan wizard" />
    <META name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Creating deployment plans using the deployment plan wizard" />
    <META name="Owner" content="dev@geronimo.apache.org" />
    <META name="Robots" content="index, follow" />
    <META name="Security" content="Public" />
    <META name="Source" content="wiki template" />
    <META name="DC.Date" scheme="iso8601" content="2010-05-11" />
    <META name="DC.Language" scheme="rfc1766" content="en" />
    <META name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation" />
    <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0 Documentation: Creating deployment plans using the deployment plan wizard</title>
  </head>

  <body onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tr>
        <td valing="top" align="left">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" align="left" nowrap>
          <a href="/geronimo"> Home</a> >&nbsp;<a href="documentation.html">Documentation</a>&nbsp;&gt;&nbsp;<a href="creating-deployment-plans.html">Creating deployment plans</a>&nbsp;&gt;&nbsp;<a href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Creating deployment plans using the deployment plan wizard</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="hidden" name="oe" value="UTF-8" />
            <input type="hidden" name="domains" value="" />
            <input type="hidden" name="sitesearch" value="" />
            <input type="text" name="q" maxlength="255" value="" />        
            <input type="submit" name="btnG" value="Google Search" />
          </form>
        </td>
      </tr> 
    </table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding: 6px 0px 0px 0px;">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div style="margin: 0px 10px 0px 10px" class="smalltext">Apache Geronimo v3.0</div>
        <div style="margin: 0px 10px 8px 10px"  class="pagetitle">Creating deployment plans using the deployment plan wizard</div>

        <div class="greynavbar" align="right" style="padding: 2px 10px; margin: 0px;">
<!-- -->         
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645273">
            <img src="http://geronimo.apache.org/images/icons/notep_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Edit Page"></a>
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645273">Edit Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">
            <img src="http://geronimo.apache.org/images/icons/browse_space.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Browse Space"></a>
            <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">Browse Space</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645273">
            <img src="http://geronimo.apache.org/images/icons/add_page_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add Page"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645273">Add Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645273">
            <img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add News"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645273">Add News</a>
<!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>
<p>To facilitate the creation of Geronimo-specific deployment plans there is a new portlet now available. <parameter ac:name="atlassian-macro-output-type">INLINE</parameter><rich-text-body><p>The <strong>Plan Creator</strong> wizard available from the Geronimo Administration Console makes deployment easier by walking you through a sequence of steps to auto-generate the <code>geronimo-web.xml</code> for a given <strong>WAR</strong> file.</p></rich-text-body></p>

<p>The wizard searches the references declared in the <code>web.xml</code> as well as what is now defined within the code itself via annotations. Depending on the type of application the Plan Creator wizard will present a series of pages requesting specific information to resolve the references and dependencies. The wizard also offers default values which work for most of the configurations.</p>

<p>Depending on the type of application you are deploying, you may be presented with six separate pages to address the application's specific configuration. These pages are (in sequence):</p>

<ol><li>Load WAR</li><li>WAR - Environment</li><li>WAR - References</li><li>WAR - Security</li><li>WAR - Dependencies</li><li>Created Plan and Deploy WAR</li></ol>


<p>This document offers a series of different sample application so you can have a better understanding of how this wizard works. This document is organized in the following sections:</p>

<ul><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">#Supported features</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Sample with annotations</a>
	<ul><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">JDBC access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">EJB access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">JMS access</a></li></ul>
	</li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Sample without annotations</a>
	<ul><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">JDBC access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">EJB access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">JMS access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Security configuration</a></li></ul>
	</li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">#Attachments</a></li></ul>


<h1 id="Creatingdeploymentplansusingthedeploymentplanwizard-Supportedfeatures">Supported features</h1>
<p>The <strong>Plan Creator</strong> wizard will help you generate the appropriate deployment plan for the application you are deploying. The wizard currently works for Web applications and supports the following features:</p>
<ul><li><strong>References</strong>: EJB, EJB Local, JDBC Connection Pool, JMS Connection Factory, JMS Destination, JavaMail Session &amp; Web Service references declared in the Web applications are auto discovered and users are asked to resolve them by listing Available Resources in the server environment to which they can be linked.</li><li>Above type of references declared inside the Java classes through <strong>Annotations</strong> are also auto discovered.</li><li>Simplified configuration of <strong>Security</strong>.</li></ul>


<p>The following sections provide sample applications with different features so you can better appreciate the wizard behavior.</p>

<h1 id="Creatingdeploymentplansusingthedeploymentplanwizard-Samplewithannotationsannotations">Sample with annotations <parameter ac:name="">annotations</parameter></h1>

<p>There are four simple applications attached to give you a better idea of how the plan creator wizard would work when deploying Web applications.</p>
<ul><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">JDBC access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">EJB access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">JMS access</a></li></ul>


<h2 id="Creatingdeploymentplansusingthedeploymentplanwizard-JDBCaccessjdbc">JDBC access <parameter ac:name="">jdbc</parameter></h2>

<p>This sample is a very simple database access application that uses annotations. For this example we have created a sample <strong>BankDB</strong> database on the embedded Derby as well as a database connection pool. Although we will not be covering in this section how to create a database or a connection pool we still provide in the <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">#Attachments</a> section some SQL sample to generate the required sample database.</p>

<p>The <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestJDBCAccess.zip?version=1&amp;modificationDate=1199867783000&amp;api=v2" data-linked-resource-id="20873998" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Annotations-TestJDBCAccess.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/x-zip-compressed" data-linked-resource-container-id="20645273" data-linked-resource-container-version="20">Annotations-TestJDBCAccess.zip</a> file provides a <code>BankDB.sql</code>, <code>WebAppJDBCAccessAnnotations.war</code> which is the WAR we will be deploying and a sample of the generated deployment plan <code>WebAppJDBCAccessAnnotations_generatedPlan.xml</code>. Download and extract the zip file to a directory of your convenience.</p>

<p><code>WebAppJDBCAccessAnnotations.war</code> includes a Servlet, a JSP and a basic <code>web.xml</code>. The following excerpt shows the annotation part the wizard has identified and will likely be prompting for additional information while deploying the application.</p>

<parameter ac:name="">java</parameter><parameter ac:name="title">Excerpt from ListCustomers.java</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
...
import javax.annotation.Resource;
...

/**
 * Servlet implementation class for Servlet: ListCustomers
 *
 */
 public class ListCustomers extends javax.servlet.http.HttpServlet implements javax.servlet.Servlet {
	@Resource(name = "jdbc/MyDataSource")
	private DataSource dataSource;
...
</plain-text-body>

<p>With the server up and running access the Geronimo Administration Console with a Web browser and click on <strong>Plan Creator</strong> on the left menu.</p>

<p>Browse to the <code>WebAppJDBCAccessAnnotations.war</code> you just extracted and click on <strong>Configure</strong>. In the resulting screen you will be configuring the Web application identity. You may want to change the default proposed values however, for this example, we will be accepting the defaults. Click <strong>Next</strong>.</p>

<p>In the following screen, the wizard would have identified all WAR references that need to be resolved. The references listed on this screen are specific to this application. The <em>JDBCRef</em> column is showing the resource name defined in <code>ListCustomers.java</code>. See <code>@Resource(name = "jdbc/MyDataSource")</code> from the excerpt above.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestJDBCAccess-Refs.jpg"></span></p>

<p>As mentioned earlier, for this example we created a database connection pool we called <em>BankDB_Pool</em>. From the <strong>JDBC Pools</strong> pull-down menu you can now select the appropriate connection pool and click <strong>Next</strong>.</p>

<p>The following screen lists all available modules and allows you specify the modules this WAR has dependencies on. This screen also provides a default selection, in this case the database connection pool will be already selected. Accept the default and click <strong>Next</strong>. For most scenarios the default values should be sufficient.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestJDBCAccess-Deps.jpg"></span></p>

<p>The final configuration page displays the generated deployment plan and allows you to make any additional editing. The following example shows the generated deployment plan.</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;WebAppJDBCAccessAnnotations&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
            &lt;dep:dependency&gt;
                &lt;dep:groupId&gt;console.dbpool&lt;/dep:groupId&gt;
                &lt;dep:artifactId&gt;BankDB_Pool&lt;/dep:artifactId&gt;
                &lt;dep:version&gt;1.0&lt;/dep:version&gt;
                &lt;dep:type&gt;rar&lt;/dep:type&gt;
            &lt;/dep:dependency&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;WebAppJDBCAccessAnnotations&lt;/context-root&gt;
    &lt;nam:resource-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;jdbc/MyDataSource&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;console.dbpool&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;BankDB_Pool&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;1.0&lt;/nam:version&gt;
            &lt;nam:name&gt;BankDB_Pool&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:resource-ref&gt;
&lt;/web-app&gt;
</plain-text-body>

<p>The last step is to actually deploy and start the application, click on <strong>Deploy WAR</strong>.</p>

<p>You should receive two confirmation messages stating the application was successfully deployed and successfully started. The <strong>Launch Web App</strong> link takes your browser directly to the application you just deployed based on the context root you defined earlier. The <strong>Finish</strong> link takes you to the Plan Creator portlet again to start deploying a new application.</p>

<h2 id="Creatingdeploymentplansusingthedeploymentplanwizard-EJBaccessejb">EJB access <parameter ac:name="">ejb</parameter></h2>

<p>This sample is a simple Web application that accesses a Session EJB. It requires a JAR to be deployed before you can deploy the Web application. In the <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">#Attachments</a> section we have included all the files you need to test the deployment of this sample application.</p>

<p>The <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestEJBAccess.zip?version=1&amp;modificationDate=1199867794000&amp;api=v2" data-linked-resource-id="20873995" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Annotations-TestEJBAccess.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/x-zip-compressed" data-linked-resource-container-id="20645273" data-linked-resource-container-version="20">Annotations-TestEJBAccess.zip</a> file provides the <code>CurrencyConverterEJB.jar</code> that needs to be deployed first, the <strong><code>WebAppEjbAccessAnnotations.war</code></strong> which is the WAR we will be deploying and a sample of the generated deployment plan <code>WebAppEjbAccessAnnotations_generatedPlan.xml</code>. Download and extract the zip file to a directory of your convenience.</p>

<p>With the server up and running access the Geronimo Administration Console with a Web browser and click on <strong>Deploy New</strong> on the left menu. We will now deploy the WAR prerequisite JAR file.</p>

<p>On the <strong>Archive:</strong> field browse to the <code>CurrencyConverterEJB.jar</code> file you just extracted and click <strong>Install</strong>, this will install and start the JAR. You can verify the status of this JAR by clicking on <strong>EJB JARs</strong> link from the menu on the left. It should display something like this:</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestEJBAccess-PreReq.jpg"></span></p>

<p><strong><code>WebAppEjbAccessAnnotations.war</code></strong> includes a Servlet, a JSP and a basic <code>web.xml</code>. The following excerpt shows the annotation part the wizard has identified and will likely be prompting for additional information while deploying the application.</p>

<parameter ac:name="">java</parameter><parameter ac:name="title">Excerpt from ConverterHandler.java</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
...
public class ConverterHandler extends javax.servlet.http.HttpServlet implements
		javax.servlet.Servlet {
	@EJB(name = "ejb/Converter")
	private Converter converter;
...
</plain-text-body>

<p>With the prerequisite JAR just installed click on <strong>Plan Creator</strong> on the left menu to proceed with the WAR installation. Browse to the <code>WebAppEjbAccessAnnotations.war</code> you just extracted and click on <strong>Configure</strong>. In the resulting screen you will be configuring the Web application identity. You may want to change the default proposed values however, for this example, we will be accepting the defaults. Click <strong>Next</strong>.</p>

<p>In the following screen, the wizard would have identified all WAR references that need to be resolved. The references listed on this screen are specific to this application. The <strong>EJBRef</strong> column is showing the resource name defined in <code>ConverterHandler.java</code>. See <strong><code>@EJB(name = "ejb/Converter")</code></strong> from the excerpt above.</p>

<p>From the <strong>EJBs Deployed</strong> pull-down menu select the JAR you deployed earlier <strong><code>ConverterBean (default/CurrencyConverterEJB/1199912901187/jar)</code></strong> and click <strong>Next</strong>.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestEJBAccess-Refs.jpg"></span></p>

<p>The following screen list all available modules and allows you specify additional modules this WAR has dependencies on. This screen also provides a default selection, in this case the EJB JAR you deployed previously will be already selected. Accept the default and click <strong>Next</strong>. For most scenarios the default values should be sufficient.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestEJBAccess-Deps.jpg"></span></p>

<p>The final configuration page displays the generated deployment plan and allows you to make any additional editing. The following example shows the generated deployment plan.</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;WebAppEjbAccessAnnotations&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
            &lt;dep:dependency&gt;
                &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
                &lt;dep:artifactId&gt;CurrencyConverterEJB&lt;/dep:artifactId&gt;
                &lt;dep:version&gt;1199912901187&lt;/dep:version&gt;
                &lt;dep:type&gt;jar&lt;/dep:type&gt;
            &lt;/dep:dependency&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;WebAppEjbAccessAnnotations&lt;/context-root&gt;
    &lt;nam:ejb-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;ejb/Converter&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;default&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;CurrencyConverterEJB&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;1199912901187&lt;/nam:version&gt;
            &lt;nam:name&gt;ConverterBean&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:ejb-ref&gt;
&lt;/web-app&gt;
</plain-text-body>

<p>The last step is to actually deploy and start the application, click on <strong>Deploy WAR</strong>.</p>

<p>You should receive two confirmation messages stating the application was successfully deployed and successfully started. The <strong>Launch Web App</strong> link takes your browser directly to the application you just deployed based on the context root you defined earlier. <strong>Finish</strong> takes you to the Plan Creator portlet again to start deploying a new application.</p>

<h2 id="Creatingdeploymentplansusingthedeploymentplanwizard-JMSaccessjms">JMS access <parameter ac:name="">jms</parameter></h2>
<p>This is a simple Web application that accesses a JMS Connection Factory and a JMS destination. <strong>Producer</strong> servlet sends 5 messages to a JMS queue and the <strong>Consumer</strong> servlet synchronously receives messages from the same queue.</p>

<p>The <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestJMSAccess.zip?version=1&amp;modificationDate=1199867770000&amp;api=v2" data-linked-resource-id="20874003" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Annotations-TestJMSAccess.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/x-zip" data-linked-resource-container-id="20645273" data-linked-resource-container-version="20">Annotations-TestJMSAccess.zip</a> file provides the <strong><code>WebAppJMSAccessAnnotations.war</code></strong> which is the WAR we will be deploying and a sample of the generated deployment plan <code>WebAppJMSAccessAnnotations_generatedPlan.xml</code>. Download and extract the zip file to a directory of your convenience.</p>

<p><strong><code>WebAppJMSAccessAnnotations.war</code></strong> includes the two Servlets mentioned above, a JSP and a basic web.xml. The following excerpts show the annotation part the wizard has identified and will likely be prompting for additional information while deploying the application.</p>

<parameter ac:name="">java</parameter><parameter ac:name="title">Excerpt from ProducerServlet.java</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
...
/**
 * Servlet implementation class for Servlet: ProducerServlet
 *
 */
 public class ProducerServlet extends javax.servlet.http.HttpServlet implements javax.servlet.Servlet {
	@Resource(name="jms/TestConnectionFactory")
	private ConnectionFactory connectionFactory; 
	
	@Resource(name="jms/TestQueue")
	private Queue queue;
...
</plain-text-body>

<parameter ac:name="">java</parameter><parameter ac:name="title">Excerpt from ConsumerServlet.java</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
...
/**
 * Servlet implementation class for Servlet: ConsumerServlet
 *
 */
 public class ConsumerServlet extends javax.servlet.http.HttpServlet implements javax.servlet.Servlet {
	@Resource(name="jms/TestConnectionFactory")
	private ConnectionFactory connectionFactory; 
	
	@Resource(name="jms/TestQueue")
	private Queue queue;
...
</plain-text-body>

<p>With the server up and running access the Geronimo Administration Console with a web browser and click on <strong>Plan Creator</strong> on the left menu.</p>

<p>Browse to the <code>WebAppJMSAccessAnnotations.war</code> you just extracted and click on <strong>Configure</strong>. In the resulting screen you will be configuring the web application identity. You may want to change the default proposed values however, for this example, we will be accepting the defaults. Click <strong>Next</strong>.</p>

<p>In the following screen, the wizard would have identified all WAR references that need to be resolved. The references listed on this screen are specific to this application. The <strong>JMS Ref</strong> column is showing the resource names defined in the servlets shown above. See <strong><code>@Resource(name="jms/TestConnectionFactory")</code></strong> and <strong><code>@Resource(name="jms/TestQueue")</code></strong>. The following image shows the factories and destinations already defined in Geronimo, you may want to define your own factories and destinations for your application specifically before running this wizard. For this example we will just accept the defaults and click <strong>Next</strong>.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestJMSAccess-Refs.jpg"></span></p>

<p>The following screen list all available modules and allows you specify the modules this WAR has dependencies on. This screen also provides a default selection, in this case the database connection pool will be already selected. Accept the default and click <strong>Next</strong>. For most scenarios the default values should be sufficient.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/Annotations-TestJMSAccess-Deps.jpg"></span></p>

<p>The final configuration page displays the generated deployment plan and allows you to make any additional editing. The following example shows the generated deployment plan.</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;WebAppJMSAccessAnnotations&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
            &lt;dep:dependency&gt;
                &lt;dep:groupId&gt;org.apache.geronimo.configs&lt;/dep:groupId&gt;
                &lt;dep:artifactId&gt;activemq-ra&lt;/dep:artifactId&gt;
                &lt;dep:version&gt;2.1-SNAPSHOT&lt;/dep:version&gt;
                &lt;dep:type&gt;car&lt;/dep:type&gt;
            &lt;/dep:dependency&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;WebAppJMSAccessAnnotations&lt;/context-root&gt;
    &lt;nam:resource-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;jms/TestConnectionFactory&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;org.apache.geronimo.configs&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;activemq-ra&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;2.1-SNAPSHOT&lt;/nam:version&gt;
            &lt;nam:name&gt;DefaultActiveMQConnectionFactory&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:resource-ref&gt;
    &lt;nam:resource-env-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;jms/TestQueue&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;org.apache.geronimo.configs&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;activemq-ra&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;2.1-SNAPSHOT&lt;/nam:version&gt;
            &lt;nam:name&gt;MDBTransferBeanOutQueue&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:resource-env-ref&gt;
&lt;/web-app&gt;
</plain-text-body>

<p>The last step is to actually deploy and start the application, click on <strong>Deploy WAR</strong>.</p>

<p>You should receive two confirmation messages stating the application was successfully deployed and successfully started. The <strong>Launch Web App</strong> link takes your browser directly to the application you just deployed based on the context root you defined earlier. <strong>Finish</strong> takes you to the Plan Creator portlet again to start deploying a new application.</p>

<p>So far we have shown you how easy is to deploy a web application when using annotations. The following section focuses on applications not using annotations, this is mainly for applications based on the previous J2EE specification.</p>

<h1 id="Creatingdeploymentplansusingthedeploymentplanwizard-Samplewithoutannotationsnoannotations">Sample without annotations <parameter ac:name="">noannotations</parameter></h1>
<p>To make it easier to compare we are providing a similar set of applications as in the previous section(JDBC, EJB and JMS) but without the advantage of using annotations. In addition we are also including a security configuration application to cover the additional functionality we didn't cover in the previous section.</p>

<ul><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">JDBC access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">EJB access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">JMS access</a></li><li><a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Security configuration</a></li></ul>


<h2 id="Creatingdeploymentplansusingthedeploymentplanwizard-JDBCaccessjdbc2">JDBC access <parameter ac:name="">jdbc2</parameter></h2>
<p>This is basically the same sample application we used in the <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Sample with annotations</a> section, but obviously without annotations. Once again for this example we created a sample database and a connection pool. However, the emphasis of this section is on the <strong>web.xml</strong> file which contains the resource reference required for this application to run.</p>

<p>The <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.data/noAnnotations-TestJDBCAccess.zip?version=1&amp;modificationDate=1199946082000&amp;api=v2" data-linked-resource-id="20873993" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="noAnnotations-TestJDBCAccess.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/x-zip" data-linked-resource-container-id="20645273" data-linked-resource-container-version="20">noAnnotations-TestJDBCAccess.zip</a> file provides a <code>BankDB.sql</code>, <strong><code>WebAppJDBCAccess.war</code></strong> which is the WAR we will be deploying and a sample of the generated deployment plan <code>generatedPlan.xml</code>. Download and extract the zip file to a directory of your convenience.</p>

<p><strong><code>WebAppJDBCAccess.war</code></strong> includes a Servlet, a JSP and <code>web.xml</code>. The following sample illustrates the <code>web.xml</code>, in this example the Plan Creator wizard will look into the <strong><code>&lt;resource-ref&gt;</code></strong> section.</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">web.xml</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee"
               xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" 
	       xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" 
	       id="WebApp_ID" version="2.5"&gt;
  &lt;servlet&gt;
    &lt;description&gt;&lt;/description&gt;
    &lt;display-name&gt;ListCustomers&lt;/display-name&gt;
    &lt;servlet-name&gt;ListCustomers&lt;/servlet-name&gt;
    &lt;servlet-class&gt;myPackage.ListCustomers&lt;/servlet-class&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;ListCustomers&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/listCustomers&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
  &lt;resource-ref&gt;
  	&lt;res-ref-name&gt;jdbc/MyDataSource&lt;/res-ref-name&gt;
  	&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;
  	&lt;res-auth&gt;Container&lt;/res-auth&gt;
  	&lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;
  &lt;/resource-ref&gt;
&lt;/web-app&gt;
</plain-text-body>

<p>With the server up and running access the Geronimo Administration Console with a web browser and click on <strong>Plan Creator</strong> on the left menu. Browse to the <code>WebAppJDBCAccess.war</code> you just extracted and click on <strong>Configure</strong>. The subsequent configuration pages are identical to what we described in the <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Sample with annotations</a> section so we will skip the step-by-steps details. The end result is the same, the Plan Creator wizard has generated the deployment plan directly from the provided <strong>web.xml</strong>. To facilitate comparison we are providing both generated deployment plans side-by-side, note that only the <strong><code>&lt;artifactId&gt;</code></strong> and <strong><code>&lt;context-root&gt;</code></strong> are different in order to make these applications unique when deployed on the same server.</p>

<rich-text-body>
<parameter ac:name="width">50%</parameter><rich-text-body>
<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan without Annotations</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;WebAppJDBCAccess&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
            &lt;dep:dependency&gt;
                &lt;dep:groupId&gt;console.dbpool&lt;/dep:groupId&gt;
                &lt;dep:artifactId&gt;BankDB_Pool&lt;/dep:artifactId&gt;
                &lt;dep:version&gt;1.0&lt;/dep:version&gt;
                &lt;dep:type&gt;rar&lt;/dep:type&gt;
            &lt;/dep:dependency&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;WebAppJDBCAccess&lt;/context-root&gt;
    &lt;nam:resource-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;jdbc/MyDataSource&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;console.dbpool&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;BankDB_Pool&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;1.0&lt;/nam:version&gt;
            &lt;nam:name&gt;BankDB_Pool&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:resource-ref&gt;
&lt;/web-app&gt;
</plain-text-body></rich-text-body>
<parameter ac:name="width">50%</parameter><rich-text-body>
<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan with Annotations</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;WebAppJDBCAccessAnnotations&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
            &lt;dep:dependency&gt;
                &lt;dep:groupId&gt;console.dbpool&lt;/dep:groupId&gt;
                &lt;dep:artifactId&gt;BankDB_Pool&lt;/dep:artifactId&gt;
                &lt;dep:version&gt;1.0&lt;/dep:version&gt;
                &lt;dep:type&gt;rar&lt;/dep:type&gt;
            &lt;/dep:dependency&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;WebAppJDBCAccessAnnotations&lt;/context-root&gt;
    &lt;nam:resource-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;jdbc/MyDataSource&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;console.dbpool&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;BankDB_Pool&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;1.0&lt;/nam:version&gt;
            &lt;nam:name&gt;BankDB_Pool&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:resource-ref&gt;
&lt;/web-app&gt;
</plain-text-body></rich-text-body></rich-text-body>

<h2 id="Creatingdeploymentplansusingthedeploymentplanwizard-EJBaccessejb2">EJB access <parameter ac:name="">ejb2</parameter></h2>
<p>This example is based on the same sample application we used in the <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Sample with annotations</a> section but without annotations. In the <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">#Attachments</a> section we have included all the files you need to test the deployment of this sample application. </p>

<p>The <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.data/noAnnotations-TestEJBAccess.zip?version=1&amp;modificationDate=1199946115000&amp;api=v2" data-linked-resource-id="20873994" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="noAnnotations-TestEJBAccess.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/x-zip" data-linked-resource-container-id="20645273" data-linked-resource-container-version="20">noAnnotations-TestEJBAccess.zip</a> file provides the <code>CurrencyConverterEJB.jar</code> that needs to be deployed first, the <strong><code>WebAppEjbAccess.war</code></strong> which is the WAR we will be deploying and a sample of the generated deployment plan <code>generatedPlan.xml</code>. Download and extract the zip file to a directory of your convenience.</p>

<p><strong><code>WebAppEjbAccess.war</code></strong> includes a Servlet and the <code>web.xml</code>. In the annotations example we provided a servlet as well but for this sample all the processing is done directly by the JSP. The following sample illustrates the <code>web.xml</code>, in this example the Plan Creator wizard will look into the <strong><code>&lt;ejb-ref&gt;</code></strong> section.</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">web.xml</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app id="WebApp_ID" version="2.5"
	xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"&gt;
	&lt;ejb-ref&gt;
		&lt;ejb-ref-name&gt;ejb/Converter&lt;/ejb-ref-name&gt;
		&lt;ejb-ref-type&gt;Session&lt;/ejb-ref-type&gt;
		&lt;remote&gt;myPackage.Converter&lt;/remote&gt;
	&lt;/ejb-ref&gt;
&lt;/web-app&gt;
</plain-text-body>

<p><strong><code>WebAppEjbAccess.war</code></strong> requires you deploy the EJB JAR first. If you have not done some while testing the annotation samples make sure you deploy it now. With the server up and running access the Geronimo Administration Console with a web browser and click on <strong>Deploy New</strong> on the left menu. On the <strong>Archive:</strong> field browse to the <code>CurrencyConverterEJB.jar</code> file you just extracted and click <strong>Install</strong>, this will install and start the JAR.</p>

<p>After you installed the required EJB JAR click on <strong>Plan Creator</strong> on the left menu. Browse to the <code>WebAppEjbAccess.war</code> you just extracted and click on <strong>Configure</strong>. The subsequent configuration pages are identical to what we described in the <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Sample with annotations</a> section so we will skip the step-by-steps details. The end result is the same, the Plan Creator wizard has generated the deployment plan directly from the provided <strong>web.xml</strong>. To facilitate comparison we are providing both generated deployment plans side-by-side, note that only the <strong><code>&lt;artifactId&gt;</code></strong> and <strong><code>&lt;context-root&gt;</code></strong> are different in order to make these applications unique when deployed on the same server.</p>

<rich-text-body>
<parameter ac:name="width">50%</parameter><rich-text-body>
<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan without Annotations</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;WebAppEjbAccess&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
            &lt;dep:dependency&gt;
                &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
                &lt;dep:artifactId&gt;CurrencyConverterEJB&lt;/dep:artifactId&gt;
                &lt;dep:version&gt;1199912901187&lt;/dep:version&gt;
                &lt;dep:type&gt;jar&lt;/dep:type&gt;
            &lt;/dep:dependency&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;WebAppEjbAccess&lt;/context-root&gt;
    &lt;nam:ejb-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;ejb/Converter&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;default&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;CurrencyConverterEJB&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;1199912901187&lt;/nam:version&gt;
            &lt;nam:name&gt;ConverterBean&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:ejb-ref&gt;
&lt;/web-app&gt;
</plain-text-body></rich-text-body>
<parameter ac:name="width">50%</parameter><rich-text-body>
<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan with Annotations</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;WebAppEjbAccessAnnotations&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
            &lt;dep:dependency&gt;
                &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
                &lt;dep:artifactId&gt;CurrencyConverterEJB&lt;/dep:artifactId&gt;
                &lt;dep:version&gt;1199912901187&lt;/dep:version&gt;
                &lt;dep:type&gt;jar&lt;/dep:type&gt;
            &lt;/dep:dependency&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;WebAppEjbAccessAnnotations&lt;/context-root&gt;
    &lt;nam:ejb-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;ejb/Converter&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;default&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;CurrencyConverterEJB&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;1199912901187&lt;/nam:version&gt;
            &lt;nam:name&gt;ConverterBean&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:ejb-ref&gt;
&lt;/web-app&gt;
</plain-text-body></rich-text-body></rich-text-body>

<h2 id="Creatingdeploymentplansusingthedeploymentplanwizard-JMSaccessjms2">JMS access <parameter ac:name="">jms2</parameter></h2>
<p>Once again we are basing this sample application from the one we used in the annotations section. There is a <strong>Producer</strong> servlet that sends 5 messages to a JMS queue and a <strong>Consumer</strong> servlet that synchronously receives messages from the same queue.</p>

<p>The <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.data/noAnnotations-TestJMSAccess.zip?version=1&amp;modificationDate=1199947648000&amp;api=v2" data-linked-resource-id="20873996" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="noAnnotations-TestJMSAccess.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/x-zip" data-linked-resource-container-id="20645273" data-linked-resource-container-version="20">noAnnotations-TestJMSAccess.zip</a> file provides the <strong><code>WebAppJMSAccess.war</code></strong> which is the WAR we will be deploying and a sample of the generated deployment plan <code>generatedPlan.xml</code>. Download and extract the zip file to a directory of your convenience.</p>

<p><strong><code>WebAppJMSAccess.war</code></strong> includes the two Servlets mentioned above, a JSP and the <code>web.xml</code>. The following sample illustrates the <code>web.xml</code>, in this example the Plan Creator wizard will look into the <strong><code>&lt;resource-ref&gt;</code></strong>,<strong><code>&lt;message-destination-ref&gt;</code></strong> and <strong><code>&lt;message-destination&gt;</code></strong> sections.</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">web.xml</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app id="WebApp_ID" version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee" 
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	 xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"&gt;
	&lt;display-name&gt;
	WebAppJMSAccess&lt;/display-name&gt;
	&lt;servlet&gt;
		&lt;description&gt;
		&lt;/description&gt;
		&lt;display-name&gt;
		ProducerServlet&lt;/display-name&gt;
		&lt;servlet-name&gt;ProducerServlet&lt;/servlet-name&gt;
		&lt;servlet-class&gt;
		com.apache.geronimo.samples.webAppJMSacess.ProducerServlet&lt;/servlet-class&gt;
	&lt;/servlet&gt;
	&lt;servlet&gt;
		&lt;description&gt;
		&lt;/description&gt;
		&lt;display-name&gt;
		ConsumerServlet&lt;/display-name&gt;
		&lt;servlet-name&gt;ConsumerServlet&lt;/servlet-name&gt;
		&lt;servlet-class&gt;
		com.apache.geronimo.samples.webAppJMSacess.ConsumerServlet&lt;/servlet-class&gt;
	&lt;/servlet&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;ProducerServlet&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/producer&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;ConsumerServlet&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/consumer&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
	&lt;welcome-file-list&gt;
		&lt;welcome-file&gt;index.html&lt;/welcome-file&gt;
		&lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;
		&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
		&lt;welcome-file&gt;default.html&lt;/welcome-file&gt;
		&lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;
		&lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;
	&lt;/welcome-file-list&gt;
	&lt;resource-ref&gt;
		&lt;res-ref-name&gt;jms/TestConnectionFactory&lt;/res-ref-name&gt;
		&lt;res-type&gt;javax.jms.ConnectionFactory&lt;/res-type&gt;
		&lt;res-auth&gt;Container&lt;/res-auth&gt;
		&lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;
	&lt;/resource-ref&gt;
	&lt;message-destination-ref&gt;
		&lt;message-destination-ref-name&gt;jms/TestQueue&lt;/message-destination-ref-name&gt;
		&lt;message-destination-type&gt;javax.jms.Queue&lt;/message-destination-type&gt;
		&lt;message-destination-usage&gt;ConsumesProduces&lt;/message-destination-usage&gt;
		&lt;message-destination-link&gt;TestQueue&lt;/message-destination-link&gt;
	&lt;/message-destination-ref&gt;
	&lt;message-destination&gt;
		&lt;message-destination-name&gt;TestQueue&lt;/message-destination-name&gt;
	&lt;/message-destination&gt;
&lt;/web-app&gt;
</plain-text-body>

<p>With the server up and running access the Geronimo Administration Console with a Web browser and click on <strong>Plan Creator</strong> on the left menu. Browse to the <code>WebAppJMSAccess.war</code> you just extracted and click on <strong>Configure</strong>. The subsequent configuration pages are nearly identical to what we described in the <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.html">Sample with annotations</a> section so we will skip the step-by-steps details. The end result is the same, the Plan Creator wizard has generated the deployment plan directly from the provided <code>web.xml</code>. </p>

<p>Once again we are providing both generated deployment plans side-by-side to facilitate comparison. These two sample applications are slightly different so you can see some additional variations in the generated deployment plan.</p>

<rich-text-body>
<parameter ac:name="width">50%</parameter><rich-text-body>
<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan without Annotations</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;WebAppJMSAccess&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
            &lt;dep:dependency&gt;
                &lt;dep:groupId&gt;org.apache.geronimo.configs&lt;/dep:groupId&gt;
                &lt;dep:artifactId&gt;activemq-ra&lt;/dep:artifactId&gt;
                &lt;dep:version&gt;2.1-SNAPSHOT&lt;/dep:version&gt;
                &lt;dep:type&gt;car&lt;/dep:type&gt;
            &lt;/dep:dependency&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;WebAppJMSAccess&lt;/context-root&gt;
    &lt;nam:resource-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;jms/TestConnectionFactory&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;org.apache.geronimo.configs&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;activemq-ra&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;2.1-SNAPSHOT&lt;/nam:version&gt;
            &lt;nam:name&gt;DefaultActiveMQConnectionFactory&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:resource-ref&gt;
    &lt;nam:message-destination xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:message-destination-name&gt;TestQueue&lt;/nam:message-destination-name&gt;
        &lt;nam:admin-object-link&gt;MDBTransferBeanOutQueue&lt;/nam:admin-object-link&gt;
    &lt;/nam:message-destination&gt;
&lt;/web-app&gt;
</plain-text-body></rich-text-body>
<parameter ac:name="width">50%</parameter><rich-text-body>
<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan with Annotations</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;WebAppJMSAccessAnnotations&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
            &lt;dep:dependency&gt;
                &lt;dep:groupId&gt;org.apache.geronimo.configs&lt;/dep:groupId&gt;
                &lt;dep:artifactId&gt;activemq-ra&lt;/dep:artifactId&gt;
                &lt;dep:version&gt;2.1-SNAPSHOT&lt;/dep:version&gt;
                &lt;dep:type&gt;car&lt;/dep:type&gt;
            &lt;/dep:dependency&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;WebAppJMSAccessAnnotations&lt;/context-root&gt;
    &lt;nam:resource-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;jms/TestConnectionFactory&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;org.apache.geronimo.configs&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;activemq-ra&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;2.1-SNAPSHOT&lt;/nam:version&gt;
            &lt;nam:name&gt;DefaultActiveMQConnectionFactory&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:resource-ref&gt;
    &lt;nam:resource-env-ref xmlns:nam="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;
        &lt;nam:ref-name&gt;jms/TestQueue&lt;/nam:ref-name&gt;
        &lt;nam:pattern&gt;
            &lt;nam:groupId&gt;org.apache.geronimo.configs&lt;/nam:groupId&gt;
            &lt;nam:artifactId&gt;activemq-ra&lt;/nam:artifactId&gt;
            &lt;nam:version&gt;2.1-SNAPSHOT&lt;/nam:version&gt;
            &lt;nam:name&gt;MDBTransferBeanOutQueue&lt;/nam:name&gt;
        &lt;/nam:pattern&gt;
    &lt;/nam:resource-env-ref&gt;
&lt;/web-app&gt;
</plain-text-body></rich-text-body></rich-text-body>

<h2 id="Creatingdeploymentplansusingthedeploymentplanwizard-Securityconfigurationsecurity2">Security configuration <parameter ac:name="">security2</parameter></h2>
<p>This sample application is a basic time reporting system that uses Servlets, JSPs and Java EE declarative security. In addition to above features it uses Geronimo's embedded Derby database to store user information of the system. Even though this application uses a database to hold user information, it is merely for configuration purposes. This sample application is a slight variation from the one covered in <a shape="rect" href="https://cwiki.apache.org/confluence/display/GMOxDOC20">Geronimo v2.0 Documentation</a>. The focus of this document is on the Plan Creator wizard so we will not cover in much detail this application's inner working, please refer to <a shape="rect" href="../GMOxDOC22/timereport-web-application-security-sample.html">Web application security sample</a> for further details.</p>

<p>The <a shape="rect" href="creating-deployment-plans-using-the-deployment-plan-wizard.data/noAnnotations-TestSecuritySettings.zip?version=1&amp;modificationDate=1243898309000&amp;api=v2" data-linked-resource-id="20874007" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="noAnnotations-TestSecuritySettings.zip" data-nice-type="Zip Archive" data-linked-resource-content-type="application/zip" data-linked-resource-container-id="20645273" data-linked-resource-container-version="20">noAnnotations-TestSecuritySettings.zip</a> provides a number of SQL scripts and deployment plans to facilitate set up the environment the security sample application requires to run. The provided files are <code>1_TimeReportDB.sql</code>, <code>2_dbPoolPlan.xml</code>, <code>3_securityRealmPlan.xml</code>. In addition there is a <code>0_Readme.txt</code> which is a condensed set of intructions to deploy this sample application, <code>timereport.war</code> which is the application we will be deploying and a sample of the generated deployment plan <code>timereport_generatedPlan.xml</code>. Download and extract the zip file to a directory of your convenience.</p>

<p>Before we continue with the security application itself we need to create some additional configurations using the provided plans.</p>

<ol><li>With the server up and running access the Geronimo Administration Console and click on <strong>DB Manager</strong>. Create a database by name <em>TimeReportDB</em> and run <code>1_TimeReportDB.sql</code> on this new database.</li><li>Create a database connection pool by clicking on <strong>Deploy New</strong> and specify <code>&lt;geronimo_home&gt;\repository\org\tranql\tranql-connector-ra\1.3\tranql-connector-ra-1.3.rar</code> as the <em>Archive:</em> and <code>2_dbPoolPlan.xml</code> as the <em>Plan</em>. This will create the new database pool <strong>TimeReportPool</strong>.</li><li>Create a new security realm by clickin on <strong>Deploy New</strong> and only specify <code>3_securityRealmPlan.xml</code> as the <em>Plan</em>. This will create the <strong>TimeReportRealm</strong> security realm.</li></ol>


<p>Now that we have configured the environment we go back to the application. <code>timereport.war</code> provides 2 Servlets, several JSPs and the <code>web.xml</code> we will be focusing on. In addition this WAR contains the sources and full java docs. The following sample illustrates the <code>web.xml</code>, here are defined all the security constraints, realms and roles the Plan Creator wizard will use to generate the Geronimo specific deployment plan.</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">web.xml</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee"
	 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	 xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
	 http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
	 version="2.4"&gt;	
	 
	&lt;welcome-file-list&gt;
		&lt;welcome-file&gt;index.html&lt;/welcome-file&gt;
  	&lt;/welcome-file-list&gt;
  	
	&lt;security-constraint&gt;
		&lt;web-resource-collection&gt;
			&lt;web-resource-name&gt;employee&lt;/web-resource-name&gt;
			&lt;url-pattern&gt;/employee/*&lt;/url-pattern&gt;			
		&lt;/web-resource-collection&gt;
		&lt;auth-constraint&gt;
			&lt;role-name&gt;employee&lt;/role-name&gt;			 
		&lt;/auth-constraint&gt;
	&lt;/security-constraint&gt;
	
	&lt;security-constraint&gt;
		&lt;web-resource-collection&gt;
			&lt;web-resource-name&gt;manager&lt;/web-resource-name&gt;
			&lt;url-pattern&gt;/manager/*&lt;/url-pattern&gt;			
		&lt;/web-resource-collection&gt;
		&lt;auth-constraint&gt;
			&lt;role-name&gt;manager&lt;/role-name&gt;
		&lt;/auth-constraint&gt;
	&lt;/security-constraint&gt;
	
	&lt;login-config&gt;
		&lt;auth-method&gt;FORM&lt;/auth-method&gt;
		&lt;realm-name&gt;TimeReportRealm&lt;/realm-name&gt;
		&lt;form-login-config&gt;
			&lt;form-login-page&gt;/login/login.jsp&lt;/form-login-page&gt;
			&lt;form-error-page&gt;/login/login_error.jsp&lt;/form-error-page&gt;
		&lt;/form-login-config&gt;
	&lt;/login-config&gt;
	
	&lt;security-role&gt;
		&lt;role-name&gt;employee&lt;/role-name&gt;		
    &lt;/security-role&gt;
	&lt;security-role&gt;
		&lt;role-name&gt;manager&lt;/role-name&gt;		
    &lt;/security-role&gt;
    	
    &lt;servlet&gt;
	    &lt;display-name&gt;AddTimeRecordServlet&lt;/display-name&gt;
	    &lt;servlet-name&gt;AddTimeRecordServlet&lt;/servlet-name&gt;
	    &lt;servlet-class&gt;org.apache.geronimo.samples.timereport.web.AddTimeRecordServlet&lt;/servlet-class&gt;
  	&lt;/servlet&gt;
  	&lt;servlet&gt;
	    &lt;display-name&gt;AddEmployeeServlet&lt;/display-name&gt;
	    &lt;servlet-name&gt;AddEmployeeServlet&lt;/servlet-name&gt;
	    &lt;servlet-class&gt;org.apache.geronimo.samples.timereport.web.AddEmployeeServlet&lt;/servlet-class&gt;
  	&lt;/servlet&gt;
  	
  	&lt;servlet-mapping&gt;
	    &lt;servlet-name&gt;AddTimeRecordServlet&lt;/servlet-name&gt;
	    &lt;url-pattern&gt;/employee/add_timerecord&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    &lt;servlet-mapping&gt;
	    &lt;servlet-name&gt;AddEmployeeServlet&lt;/servlet-name&gt;
	    &lt;url-pattern&gt;/manager/add_employee&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
        
&lt;/web-app&gt;
</plain-text-body>

<ol><li>Back in the Geronimo Administration Console click on <strong>Plan Creator</strong>. Browse to the <code>timereport.war</code> you just extracted and click on <strong>Configure</strong>.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/noAnnotations-Security-1.jpg"></span> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>In the resulting screen you will be configuring the web application identity. You may want to change the default proposed values however, for this example, we will be accepting the defaults. Click <strong>Next</strong>.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/noAnnotations-Security-2.jpg"></span> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>As a difference from the other sample applications, for this example we do not have to resolve any resource references so the wizard will jump directly to the security part of the configuration. In the resulting screen define the security configuration.
	<ol><li>Select <strong>TimeReportRealm</strong> from the <em>Security Realm Name:</em> pull down menu. This is the security realm you deployed earlier.</li><li>For security role <strong>employee</strong> select <strong>Add</strong> -&gt; <strong>Principal</strong> from the pull down menu and add 2 <strong>Group Prinicipals</strong> with name <em>EmployeeGroup</em> and <em>ManagerGroup</em>.</li><li>For security role <strong>manager</strong>, select <strong>Add</strong> -&gt; <strong>Principal</strong> and add 1 <strong>Group Prinicipal</strong> with name <em>ManagerGroup</em>.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="creating-deployment-plans-using-the-deployment-plan-wizard.data/noAnnotations-Security-3.jpg"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li></ol>
	</li><li>Click <strong>Next</strong>, the following screen allows you to select WAR dependencies. This application has not dependencies on any these modules, click <strong>Next</strong>.</li><li>In the <em>Created Plan</em> screen you should see a plan similar to this one.
<parameter ac:name="">xml</parameter><parameter ac:name="title">Generated deployment plan without Annotations</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1"&gt;
    &lt;dep:environment xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;default&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;timereport&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;war&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
    &lt;/dep:environment&gt;
    &lt;context-root&gt;timereport&lt;/context-root&gt;
    &lt;security-realm-name&gt;TimeReportRealm&lt;/security-realm-name&gt;
    &lt;app:security xsi:type="sec:securityType" xmlns:sec="http://geronimo.apache.org/xml/ns/security-2.0" 
                  xmlns:app="http://geronimo.apache.org/xml/ns/j2ee/application-2.0" 
		  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
        &lt;sec:role-mappings&gt;
            &lt;sec:role role-name="employee"&gt;
                &lt;sec:principal name="EmployeeGroup" class="org.apache.geronimo.security.realm.providers.GeronimoGroupPrincipal"/&gt;
                &lt;sec:principal name="ManagerGroup" class="org.apache.geronimo.security.realm.providers.GeronimoGroupPrincipal"/&gt;
            &lt;/sec:role&gt;
            &lt;sec:role role-name="manager"&gt;
                &lt;sec:principal name="ManagerGroup" class="org.apache.geronimo.security.realm.providers.GeronimoGroupPrincipal"/&gt;
            &lt;/sec:role&gt;
        &lt;/sec:role-mappings&gt;
    &lt;/app:security&gt;
&lt;/web-app&gt;
</plain-text-body></li><li>Click on <strong>Deploy WAR</strong> and then click on <strong>Launch Web App</strong> to run the sample application. Verify <em>userid</em> and <em>password</em> values from <code>1_TimeReportDB.sql</code>.</li></ol>


<h1 id="Creatingdeploymentplansusingthedeploymentplanwizard-Attachments">Attachments</h1>
<parameter ac:name="patterns">.*zip</parameter></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tr>
          <td align="left" valign="middle" class="footer">
            &nbsp;&nbsp;
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="Delicious" />
            <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">Bookmark this on Delicious</a>
            &nbsp;&nbsp;
            <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="Digg!" />
            <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)+'&amp;topic=programming');">Digg this</a>
            <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Creating deployment plans using the deployment plan wizard';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
            &nbsp;&nbsp;
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">Privacy Policy</a>&nbsp;&nbsp;-&nbsp;&nbsp;
            Copyright &#169; 2003-2013, The Apache Software Foundation, Licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0.</a>&nbsp;&nbsp;
          </td>
        </tr>
    </table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  </body>
</html>
