<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=2">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="Developing a Simple JavaServer Faces application">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Developing a Simple JavaServer Faces application">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0文档：开发一个简单的JavaServer Faces应用程序</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">主页</a> > <a href="documentation.html">文档</a> > <a href="developing.html">开发</a> > <a href="tutorials.html">教程</a> > <a href="developing-web-applications.html">开发Web应用</a> <a href="developing-javaserver-faces-applications.html">程序</a> > <a href="developing-a-simple-javaserver-faces-application.html">开发JavaServer Faces应用</a> <a href="developing-javaserver-faces-applications.html">程序</a> > <a href="developing-a-simple-javaserver-faces-application.html">开发简单的JavaServer Faces应用程序</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">开发一个简单的JavaServer Faces应用程序</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645269"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645269">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645269"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645269">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645269"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645269">新增新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>

<p>该应用程序将使您了解如何在JavaServer Faces中实现模型（M），视图（V），控制器（C）架构。该应用程序将利用JSF提供的UI组件，验证器，导航和Bean组件。</p>

<p>该应用程序将使用用户的名字和姓氏。稍后，这些字段将由JSF验证，并使用控制器bean和导航规则显示输出。该应用程序还将引入一个UI组件，它是一个提交按钮。</p>

<p>要运行本教程，至少需要您安装以下必备软件：</p>

<ul><li>Sun JDK 6.0+（J2SE 1.6）</li><li>面向特定平台的Java EE开发人员的Eclipse IDE</li><li>Apache Geronimo Eclipse插件2.1.x</li><li>Apache Geronimo服务器2.1.x <rich-text-body>
<p>在本教程中使用了Geronimo 2.1.x版，Java 1.5运行时和Eclipse Ganymede，但是可以使用其他版本（例如Geronimo 2.2版，Java 1.6，Eclipse Europa）</p></rich-text-body></li></ul>


<p><a shape="rect" href="development-environment.html">开发环境</a>部分中提供了有关安装Eclipse的详细信息。本教程分为以下几节：</p>

<parameter ac:name="minLevel">2</parameter>
<p>安装完所有先决条件后，请按照以下步骤使用Eclipse创建项目。</p>

<h2 id="DevelopingaSimpleJavaServerFacesapplication-SettingEclipseforapplicationdevelopment">设置Eclipse进行应用程序开发</h2>
<ol><li>启动Eclipse并创建一个动态Web项目，如图所示。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/CreateWebProject.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>提供Web项目的字段，如下图所示。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/WebProjectFields.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>选择<strong>完成</strong> 。</li><li>右键单击<strong>SimpleJSF</strong>项目，然后选择<strong>“</strong> <strong>属性”</strong> ，然后选择“ <strong>项目</strong> <strong>构</strong> <strong>面”</strong> 。</li><li>选中<strong>JavaServerFaces</strong>框，然后在“ <em>版本”</em>选项卡下选择<strong>1.2</strong>作为版本。选择<img class="emoticon emoticon-cross" src="https://cwiki.apache.org/confluence/s/en_GB/5997/6f42626d00e36f53fe51440403446ca61552e2a2.1/_/images/icons/emoticons/error.png" alt="（错误）" data-emoticon-name="cross"> <strong>需要进一步配置...</strong>指示器以显示“ <em>JSF功能”</em>窗格。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ProjectFileds.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在“ <em>JSF功能”</em>窗口上，选中该框并选择<strong>new</strong> ，如图所示。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/JSFCapabilities.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>下一个窗口用于创建JSF实现库。将库名称命名为<strong>JSFCustomLibrary</strong>并添加以下jar。<strong>完成</strong>后，选择<strong>完成</strong> 。参见下图：<ul><li><geronimo_home>\ repository \ commons-beanutils \ commons-beanutils \ 1.7.0 \ commons-beanutils-1.7.0.jar</geronimo_home></li><li><geronimo_home>\ repository \ commons-collections \ commons-collections \ 3.2 \ commons-collections-3.2.jar</geronimo_home></li><li><geronimo_home>\ repository \ commons-digester \ commons-digester \ 1.8 \ commons-digester-1.8.jar</geronimo_home></li><li><geronimo_home>\ repository \ commons-logging \ commons-logging \ 1.0.4 \ commons-logging-1.0.4.jar</geronimo_home></li><li><geronimo_home>\ repository \ org \ apache \ myfaces \ core \ myfaces-api \ 1.2.3 \ myfaces-api-1.2.3.jar</geronimo_home></li><li><geronimo_home>\ repository \ org \ apache \ myfaces \ core \ myfaces-impl \ 1.2.3 \ myfaces-impl-1.2.3.jar<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/JSFCustomLibrary.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></geronimo_home></li></ul>
	</li><li>如图所示，选中Deploy并将URL模式修改为<strong>* .jsf</strong> 。选择<strong>完成</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/EclipseSetUpFinal.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">这样就完成了用于应用程序开发的Eclipse IDE的设置。</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefineandImplementtheapplicationModel(M)">定义和实施应用程序模型（M）</h2>
<p>MVC体系结构建议的<strong>模型</strong>处理应用程序的数据和逻辑。在企业应用程序中。Java Bean用于表示数据收集和对该数据的操作。在JSF中，我们使用Java Bean定义模型。</p>
<ol><li>在项目浏览器下，右键单击<strong>SimpleJSF</strong>项目并创建一个新类。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Model1.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>用<em>jsf</em>作为包名，并使用<em>FirstName</em>作为bean类名来填充<em>New Java Class</em>表单。<strong>完成</strong>后，选择<strong>完成</strong> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Model2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<strong>FirstName</strong> bean类中：<br class="atl-forced-newline" clear="none">
<parameter ac:name="">JAVA</parameter> <parameter ac:name="title">FirstName.java</parameter> <parameter ac:name="borderStyle">固体</parameter> <plain-text-body>包装jsf;公共类FirstName {字符串用户名； public String getName（）{返回用户名； } public void setName（String name）{username = name; }}</plain-text-body>
<br class="atl-forced-newline" clear="none"></li><li>创建第二个Bean类<strong>LastName</strong> ，并将以下代码添加到该类： <parameter ac:name="">JAVA</parameter> <parameter ac:name="title">LastName.java</parameter> <parameter ac:name="borderStyle">solid</parameter> <plain-text-body>package jsf;公共类LastName {字符串姓氏； public String getLName（）{返回姓氏； } public void setLName（String lname）{lastname = lname; }}</plain-text-body>这样就完成了bean类的模型定义和实施。</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefineandimplementModel(M)objectstoController">定义并实现Model（M）对象到Controller</h2>
<ol><li>在JSF应用程序中， <strong>控制器</strong>是通过一个名为<code>WebContent/WEB-INF/faces-config.xml</code> 。双击文件。这将打开<em>Faces Configuration Editor</em> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ModelController.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在编辑器中选择<em>ManagedBean</em>选项卡。选择<strong>请求的</strong> Managed Bean Element，然后选择<strong>Add</strong> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ModelController2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>选择<strong>使用现有Java类</strong>选项，然后选择<strong>浏览</strong> 。将搜索元素<em>命名</em>为<em>FirstName，</em>然后选择<strong>OK</strong> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ModelController3.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在下一个窗口中选择<strong>完成</strong> 。同样，添加另一个bean <strong>LastName</strong> 。现在，在Faces配置编辑器中选择“ <em>源”</em>选项卡。它在控制器中显示bean组件（即模型）。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ModelController4.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">这样就完成了从模型到控制器的描述。</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefineandimplementView(V)inapplication">在应用程序中定义和实现视图（V）</h2>
<ol><li>右键单击<strong>WebContent</strong>并使用名称<em>页</em>创建一个新文件夹。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/View.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>右键单击<strong>pages</strong>文件夹并创建一个名为<code>login.jsp</code> 。选择<strong>完成</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/View2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>同样，创建另一个名为<code>welcome.jsp</code> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>现在，我们必须在我们的应用程序中包含标签库描述符（TLD）。Geronimo随附了必需的TLD，可以在以下位置找到：<br class="atl-forced-newline" clear="none">
<parameter ac:name="title">TLD</parameter> <parameter ac:name="borderStyle">实体</parameter> <plain-text-body><geronimo_home>\ repository \ org \ apache \ myfaces \ core \ myfaces-impl \ 1.2.3 \ myfaces-impl-1.2.3.jar \ META-INF \ myfaces-html.tld和<geronimo_home>\ repository \ org \ apache \的位置myfaces \ core \ myfaces-impl \ 1.2.3 \ myfaces-impl-1.2.3.jar \ META-INF \ myfaces_core.tld</geronimo_home></geronimo_home></plain-text-body>
 <br class="atl-forced-newline" clear="none"></li><li>要在应用程序中添加这两个TLD，在Eclipse中的Project Explorer下，右键单击<strong>WEB-INF</strong> 。创建一个名为<strong>tld</strong>的文件夹。复制<code>myfaces-html.tld</code>和<code>myfaces_core.tld</code>到这个文件夹。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>下一步是填充<code>login.jsp</code>和<code>welcome.jsp</code>使用数据<parameter ac:name="">html</parameter> <parameter ac:name="title">login.jsp</parameter> <parameter ac:name="borderStyle">实心</parameter> <plain-text-body><％@ taglib uri =“ / WEB-INF / tld / myfaces-html.tld” prefix =“ h”％> <％@ taglib uri =“ / WEB-INF / tld / myfaces_core。 tld“ prefix =” f“％>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>欢迎使用Apache Geronimo</title>


<f:view>
    <h1><h:outputtext value="Welcome to Apache Geronimo"></h:outputtext></h1>
    <h:form>
        <h:message for="firstName" style="color:red"></h:message>
        <h:message for="lastName" style="color:red"></h:message>
        <br>
        <h:outputtext value="Enter your first name"></h:outputtext>
        <br>
        <h:inputtext id="firstName" value="#{firstName.name}" required>
            <f:validatelength minimum="4" maximum="10"></f:validatelength>
        </h:inputtext>
        <br>
        <h:outputtext value="Enter your last name"></h:outputtext>
        <br>
        <h:inputtext id="lastName" value="#{lastName.LName}" required>
            <f:validatelength minimum="3" maximum="10"></f:validatelength>
        </h:inputtext>
        <br>
        <h:commandbutton id="submit" value="Enter" action="validated"></h:commandbutton>
    </h:form>
</f:view>


</plain-text-body> <parameter ac:name="">html</parameter> <parameter ac:name="title">welcome.jsp</parameter> <parameter ac:name="borderStyle">solid</parameter> <plain-text-body><％@ taglib uri =“ / WEB-INF / tld / myfaces-html.tld” prefix =“ h”％> <％@ taglib uri =“ / WEB-INF / tld / myfaces_core.tld” prefix =“ f”％> <％@页面语言=“ java” contentType =“ text / html; charset = ISO-8859-1” pageEncoding =“ ISO-8859-1”％> 

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>欢迎</title>


<f:view>
<h3><h:outputtext value="You have successfully logged in: "></h:outputtext> <h:outputtext value="#{firstName.name} "></h:outputtext> <h:outputtext value="#{lastName.LName}"></h:outputtext>
<h:outputtext value="!"></h:outputtext></h3>
</f:view>


</plain-text-body>现在让我们尝试理解每一行代码代表什么。
	<ul><li>前两行<code>login.jsp</code>定义了<parameter ac:name="title">来自login.jsp的</parameter>两个标记库<parameter ac:name="">html</parameter> <parameter ac:name="title">代码段</parameter> <parameter ac:name="borderStyle">固体</parameter> <plain-text-body><％@ taglib uri =“ / WEB-INF / tld / myfaces-html.tld” prefix =“ h”％>和<％@ taglib uri =“ / WEB- INF / tld / myfaces_core.tld“ prefix =” f“％></plain-text-body>这两组标记由JSF定义。具有名称空间“ h”的第一个用于生成html视图。第二个带有名称空间“ f”的名称处理JSF的核心功能，例如类型转换，验证和用于用户输入的侦听器。</li><li>接下来的几行包含<parameter ac:name="title">来自login.jsp</parameter> <parameter ac:name="borderStyle">solid</parameter>的常用html标签<parameter ac:name="">html</parameter> <parameter ac:name="title">代码段</parameter> <plain-text-body>


<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>欢迎使用Apache Geronimo</title>


</plain-text-body></li><li>标签<strong><f:view></f:view></strong>表示JSF代码的开始。</li><li>这行代码代表输入标签。<strong>id =“ firstName”</strong>和<strong>value =“ firstName.name”</strong>来自受管Bean。
<parameter ac:name="title">从login.jsp的</parameter> <parameter ac:name="borderStyle">固体</parameter> <parameter ac:name="">HTML</parameter> <parameter ac:name="title">代码段</parameter> <plain-text-body><h:inputtext id="firstName" value="#{firstName.name}" required>
</h:inputtext></plain-text-body></li></ul>
	</li><li>使用Faces Configuration Editor，在<em>Managed Bean</em>选项卡下选择<strong>firstName</strong> bean。受管Bean名称为<strong>firstName</strong> 。参见下图。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/View3.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">这样就完成了应用程序中View（V）的实现。其他标签<strong><f:validatelength></f:validatelength></strong>和<strong><h:commandbutton></h:commandbutton></strong>将在下一节中说明。</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefinetheValidatorComponent">定义验证器组件</h2>
<p>代码<strong><f:validatelength minimum="4" maximum="10"></f:validatelength></strong>将输入文本长度定义为最小4个字符，最大10个字符。这是核心标签库提供的标准验证。验证程序的其他示例包括<strong>Validate Long Range</strong>标签， <strong>Validate Double Range</strong>标签等。JSF还提供了一个Validator接口，可以将其实现以创建定制的验证器。</p>

<p>代码<strong><h:message for="" style="color:red"></h:message></strong>定义错误消息。当用户输入时，控制器会验证每个输入。如果输入无效，则Controller会再次显示同一页面，并显示错误消息。<strong>颜色：红色</strong>表示错误消息将以红色显示。</p>

<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefineandimplementtheViewnavigationbyController(C)">定义并实施Controller的视图导航（C）</h2>
<p>此步骤按用户输入和控制器验证的顺序使用JSP页面导航。如果所有输入均有效，则控制器执行HTML表单建议的操作。该动作由HTML表单作为命令按钮提交。<br clear="none">中的代码<code>input.jsp</code> <strong><h:commandbutton id="submit" value="Enter" action="validated"></h:commandbutton></strong>检查以确定所有输入是否有效。如果所有输入均有效，则此按钮会将表单提交给控制器。在这种情况下，如果所有输入均有效，则<strong>CommandButton</strong>告知控制器执行已验证的操作。<br clear="none">JSF应用程序中的页面导航由定义<code>faces-config.xml</code> 。按照之前的步骤定义页面导航。<br class="atl-forced-newline" clear="none"> </p>
<ol><li>双击启动Faces Configuration Editor <code>faces-config.xml</code> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在“配置编辑器”中选择“ <em>导航规则”</em>选项卡。在“调色板”窗口下，选择“ <strong>页面”</strong> 。这将选择一个<strong>PageFlow Page</strong> GUI对象。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将鼠标拖动到“导航规则”窗口上，然后单击该窗口。这将显示一个“ <em>选择JSP文件”</em>窗口。选择<code>login.jsp</code>如图所示，然后选择“ <strong>确定”</strong> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>同样添加<code>welcome.jsp</code>导航规则窗口上的页面。参见下图：<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController3.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>从“组件面板”窗口中选择“ <strong>链接”</strong> ，然后将两个页面连接起来，如图所示：<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController4.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>选择两个页面之间的链接，然后转到属性视图，并将“ <em>来自结果”</em>字段的值设置为<strong>有效</strong> 。这是因为标签<strong><h:commandbutton id="submit" value="Enter" action="validated"></h:commandbutton></strong> 。一旦所有输入均有效，则对采取的措施进行<strong>验证</strong> 。见图。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController5.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>完成后，在Faces导航编辑器中查看“ <em>源”</em>选项卡。一种<strong><navigation-rule></navigation-rule></strong>标签已被引入<code>faces-config.xml</code> 。该规则指示控制器，如果所有输入均来自表单中的表单有效<code>/pages/login.jsp</code> ，并且操作已<strong>验证</strong> ，然后转到页面<code>/pages/welcome.jsp</code> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController6.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>现在让我们添加一个<code>index.jsp</code>在<strong>WebContent</strong>下，如下所示： <parameter ac:name="">html</parameter> <parameter ac:name="title">index.jsp</parameter> <parameter ac:name="borderStyle">solid</parameter> <plain-text-body><％@页面language =“ java” contentType =“ text / html; charset = ISO-8859-1” pageEncoding =“ ISO-8859-1”％> <\！DOCTYPE html PUBLIC“-// W3C // DTD HTML 4.01 Transitional // EN”“ http://www.w3.org/TR/html4/loose.dtd”>

<jsp:forward page="/pages/login.jsf"></jsp:forward>


</plain-text-body>是什么<code>login.jsf</code>在<strong>前进路径</strong>标签中。如果你看<code>web.xml</code> ， <strong>*。jsf</strong>用作URL模式，以建议Java Server Faces Servlet注意转发的页面。<br clear="none">这样就完成了应用程序开发过程。下一步是部署和测试应用程序。</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DeployandTesttheapplication">部署和测试应用程序</h2>
<p>右键单击项目<strong>SimpleJSF，</strong>然后选择<strong>“运行方式->在服务器上运行”</strong> 。这会将示例部署在Apache Geronimo Server上，并将启动“登录”页面。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Test.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">让我们给出一些示例输入：<br clear="none">
<strong>样本输入＃1</strong> ：<br clear="none">
<strong>名：</strong>米奇<br clear="none">
<strong>姓氏：</strong>鼠标<br clear="none">名字和姓氏都符合验证规则，因此此表单将提交给控制器，并根据导航规则，控制器将启动<code>welcome.jsp</code>页。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Test2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<strong>样本输入2：</strong><br clear="none">
<strong>名：</strong> Mic<br clear="none">
<strong>姓氏：</strong>鼠标<br clear="none">名字的最小长度应为4，但在这种情况下名字的长度应为3。在这种情况下，验证将失败，并且控制器将为“名字”字段生成一条错误消息。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Test3.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> 
<strong>样本输入3：</strong><br clear="none">
<strong>名：</strong>米奇<br clear="none">
<strong>姓氏：</strong> Mo<br clear="none">姓氏的最小长度为3，但在这种情况下，姓氏的长度为2。在这种情况下，验证将失败，并且控制器将为“姓氏”字段生成错误消息。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Test4.png"></span></p></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Developing a Simple JavaServer Faces application';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>