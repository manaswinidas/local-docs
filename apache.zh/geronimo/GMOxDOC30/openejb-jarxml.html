<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<html lang="en">
  <head>
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <link type="text/css" rel="stylesheet" href="http://geronimo.apache.org/style/default.css">
    <LINK rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <META name="Description" content="openejb-jar.xml" />
    <META name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi openejb-jar.xml" />
    <META name="Owner" content="dev@geronimo.apache.org" />
    <META name="Robots" content="index, follow" />
    <META name="Security" content="Public" />
    <META name="Source" content="wiki template" />
    <META name="DC.Date" scheme="iso8601" content="2010-05-11" />
    <META name="DC.Language" scheme="rfc1766" content="en" />
    <META name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation" />
    <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0 Documentation: openejb-jar.xml</title>
  </head>

  <body onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tr>
        <td valing="top" align="left">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" align="left" nowrap>
          <a href="/geronimo"> Home</a> >&nbsp;<a href="documentation.html">Documentation</a>&nbsp;&gt;&nbsp;<a href="creating-deployment-plans.html">Creating deployment plans</a>&nbsp;&gt;&nbsp;<a href="understanding-deployment-plans.html">Understanding deployment plans</a>&nbsp;&gt;&nbsp;<a href="openejb-jarxml.html">openejb-jar.xml</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="hidden" name="oe" value="UTF-8" />
            <input type="hidden" name="domains" value="" />
            <input type="hidden" name="sitesearch" value="" />
            <input type="text" name="q" maxlength="255" value="" />        
            <input type="submit" name="btnG" value="Google Search" />
          </form>
        </td>
      </tr> 
    </table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding: 6px 0px 0px 0px;">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div style="margin: 0px 10px 0px 10px" class="smalltext">Apache Geronimo v3.0</div>
        <div style="margin: 0px 10px 8px 10px"  class="pagetitle">openejb-jar.xml</div>

        <div class="greynavbar" align="right" style="padding: 2px 10px; margin: 0px;">
<!-- -->         
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645405">
            <img src="http://geronimo.apache.org/images/icons/notep_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Edit Page"></a>
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645405">Edit Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">
            <img src="http://geronimo.apache.org/images/icons/browse_space.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Browse Space"></a>
            <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">Browse Space</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645405">
            <img src="http://geronimo.apache.org/images/icons/add_page_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add Page"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645405">Add Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645405">
            <img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add News"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645405">Add News</a>
<!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>

<h1 id="openejb-jar.xml-Overview">Overview</h1>
<p><parameter ac:name="atlassian-macro-output-type">INLINE</parameter><rich-text-body><p>Geronimo uses the OpenEJB container for providing EJB services. With the advent of Java EE, the EJB container services such as transaction management, security, life cycle management can be declared in the EJB class itself using annotations. However, the EJB deployment descriptor can still be provided via usage of the <strong>ejb-jar.xml</strong> file.</p></rich-text-body> When both annotations and the <strong>ejb-jar.xml</strong> file are provided, the <strong>ejb-jar.xml</strong> file takes precedence over the annotations.</p>

<p>The Geronimo-specific deployment plan for an EJB application, which is usually packaged as an EJB JAR file, is called "<strong>openejb-jar.xml</strong>". The <strong>openejb-jar.xml</strong> deployment plan is used to in conjunction with the <strong>ejb-jar.xml</strong> Java EE deployment plan to deploy enterprise applications to the Geronimo application server. The <strong>openejb-jar.xml</strong> deployment plan is an optional file, but is typically used when deploying a EJB JAR file. It is used to map roles and resource (e.g., security roles, EJB names, database resources, JMS resources, etc.) declared in the <strong>openejb-jar.xml</strong> deployment plan to corresponding entities deployed in the server. Also, if there are any EJB container specific configurations required those setting are configured in this deployment plan as well. If the EJB module depends on any third party libraries or other services running in the server, all these third party libraries and the services are specified in the <strong>openejb-jar.xml</strong> file. Some EJB applications require class loading requirements different from the default class loading behavior. The <strong>openejb-jar.xml</strong> file allows the application deployer to configure this as well. There are many more configurations that could be done through <code>openejb-jar.xml</code> file depending on the requirements of the EJB application.</p>

<h2 id="openejb-jar.xml-Packaging">Packaging</h2>

<p>The <strong>openejb-jar.xml</strong> Geronimo-specific deployment plan can be packaged as follows:</p>
<ol><li>Embedded in an EJB JAR file. In this case, the <strong>openejb-jar.xml</strong> file must be placed in the <strong>/META-INF</strong> directory of the JAR, which is the same place where the <strong>ejb-jar.xml</strong> file must be located.
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li>Maintained separately from the EJB JAR file. In this case, the path to the file must be provided to the appropriate Geronimo deployer (e.g., command-line or console) when the EJB JAR file is deployed. Note that in this case, the filename may be named something other than <strong>openejb-jar.xml</strong> but must adhere to the same schema. Also note that this will not work if the EJB JAR file is to be embedded in an enterprise application EAR file (see below).
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li>Embedded in an enterprise application EAR file: In one case, the high-level element <strong>&lt;ejb-jar&gt;</strong> can be embedded outside the EJB JAR file in the EAR file's <strong>geronimo-application.xml</strong> file
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li>Embedded in an enterprise application EAR file: In another case, the actual <strong>openejb-jar.xml</strong> file can be embedded outside the EJB JAR file and placed elsewhere in the EAR and referenced with an <strong>alt-dd</strong> element in the <strong>geronimo-application.xml</strong> deployment plan file.</li></ol>


<h1 id="openejb-jar.xml-Schema">Schema</h1>

<p>The <strong>openejb-jar.xml</strong> deployment plan is defined by the <strong>openejb-jar-2.1.xsd</strong> schema located in the <strong>&lt;geronimo_home&gt;/schema/</strong> subdirectory of the main Geronimo installation directory. The <strong>openejb-jar-2.1.xsd</strong> schema is shown here:</p>
<ul><li><a shape="rect" class="external-link" href="http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd">http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd</a></li></ul>


<h2 id="openejb-jar.xml-Schematop-levelelements">Schema top-level elements</h2>

<p>The root XML element in the <strong>openejb-jar-2.2.xsd</strong> schema is the <strong>&lt;openejb-jar-2.2&gt;</strong> element. The top-level XML elements of the <strong>&lt;openejb-jar&gt;</strong> root element are described in the sections below. The deployment plan should always use the OpenEJB namespace, and it typically requires elements from the Geronimo Naming, Geronimo Security, and Geronimo System namespaces. Additionally, it has a required attribute to identify its configuration name. A typical deployment for <strong>openejb-jar.xml</strong> can be presented as follows:</p>
<parameter ac:name="">xml</parameter><parameter ac:name="borderStyle">solid</parameter><parameter ac:name="title">openejb-jar.xml Example</parameter><plain-text-body>
&lt;openejb-jar
 	xmlns:openejb="http://openejb.apache.org/xml/ns/gopenejb-jar-2.2"
 	targetNamespace="http://openejb.apache.org/xml/ns/gopenejb-jar-2.2"
 	xmlns:naming="http://geronimo.apache.org/xml/ns/naming-1.2"
 	xmlns:security="http://geronimo.apache.org/xml/ns/security-2.0"
 	xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2"
 	xmlns:pkgen="http://openejb.apache.org/xml/ns/gpkgen-2.1"
 	version="1.0"&gt;
 	...
 &lt;/openejb-jar&gt;
</plain-text-body>

<h3 id="openejb-jar.xml-&lt;sys:environment&gt;">&lt;sys:environment&gt;</h3>
<p>The <strong>&lt;sys:environment&gt;</strong> XML element uses the Geronimo System namespace, which is used to specify the common elements for common libraries and module-scoped services, which is documented here:</p>

<ul><li><a shape="rect" class="external-link" href="http://geronimo.apache.org/schemas-3.0/docs/geronimo-module-1.2.xsd.html">http://geronimo.apache.org/schemas-3.0/docs/geronimo-module-1.2.xsd.html</a></li></ul>


<p>The <strong>&lt;sys:environment&gt;</strong> element contains the following elements:</p>

<ul><li>The <strong>&lt;moduleId&gt;</strong> element is used to provide the configuration name for the EJB application as deployed in the Geronimo server. It contains elements for the <strong>groupId</strong>, <strong>artifactId</strong>, <strong>version</strong> and module <strong>type</strong>. Module IDs are normally printed with slashes between the four components, such as <strong>GroupID/ArtifactID/Version/Type</strong>.
<br clear="none" class="atl-forced-newline"> 
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;dependencies&gt;</strong> element is used to provide the configurations and third party libraries on which the EJB module is dependent upon. These configurations and libraries are made available to the EJB module via the Geronimo classloader hierarchy.
<br clear="none" class="atl-forced-newline"> 
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;bundle-activator&gt;</strong> element is used to create <strong>Bundle-Activator</strong> header in the manifest file of the EJB application. It specifies the entry point of the ejb application as deployed in the Geronimo server.
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;bundle-classPath&gt;</strong> element is used to create <strong>Import-Package</strong> header in the manifest file of the EJB application. It contains a list of directories or embedded jar files, which are also called bundle resources and extend the classpath of the web application.
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;import-package&gt;</strong> element is used to create <strong>Import-Package</strong> header in the manifest file of the EJB application. It specifies a list of packages to be resolved before the ejb application is started. Use &lt;import-package&gt;!packagename&lt;/import-package&gt; to override the specific package in server.
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;export-package&gt;</strong> element is used to create <strong>Export-Package</strong> header in the manifest file of the EJB application. It specifies a list of packages to be exported. If you want your EJB interfaces being invoked by other application properly, make sure to use &lt;export-package&gt;ejb.package.name&lt;/export-package&gt; to export the interfaces.
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;require-bundle&gt;</strong> element is used create <strong>Require-Bundle</strong> header in the manifest file of the EJB application. It specifies a list of bundles to bind to regardless their packages.
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;dynamic-import-package&gt;</strong> element is used to create <strong>DynamicImport-Package</strong> header in the manifest file of the EJB application. It specifies a list of packaged to be imported dynamically, especially during class loading.
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;hidden-classes&gt;</strong> element can be used to provide some degree of control of the Geronimo classloader hierarchy, and mitigate clashes between classes loaded by the server and classes loaded by the EJB module. It is used to lists packages or classes that may be in a parent classloader, but must not be exposed to the EJB application. Since Geronimo is entirely open-source and utilizes many other open-source libraries it is possible that the server itself and the EJB application may have different requirements and/or priorities for the same open source project libraries. The <strong>&lt;hidden-classes&gt;</strong> element is typically used when the EJB application has requirements for a specific version of a library that is different than the version used by Geronimo itself. A simple example of this is when an EJB module uses, and most importantly includes,  a version of the <strong>Log4J</strong> common logging library that is different than the version used by the Geronimo server itself. This might not provide the desired results.  Thus, the <strong>&lt;hidden-classes&gt;</strong> element can be used to "hide" the Log4J classes loaded by all the parent classloaders of the EJB module, including those loaded by and for the Geronimo server itself, and only the Log4J classes included with the EJB module library will get loaded.
<br clear="none" class="atl-forced-newline"> 
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;non-overridable-classes&gt;</strong> element can also be used to provide some degree of control of the Geronimo classloader hierarchy, but in the exact opposite manner than provided by the <strong>&lt;hidden-classes&gt;</strong> element. This element can be used to specify a list of classes or packages which will <strong>only</strong> be loaded from the parent classloader of the EJB module to ensure that the Geronimo server's version of a library is used instead of the version included with the EJB application.
<br clear="none" class="atl-forced-newline"> 
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;inverse-classloading&gt;</strong> element can be used to specify that standard classloader delegation is to be reversed for this module. The Geronimo classloader delegation follows the Java EE 5 specifications, and the normal behavior is to load classes from a parent classloader (if available) before checking the current classloader. When the <strong>&lt;inverse-classloading&gt;</strong> element is used, this behavior is reversed and the current classloader will always be checked before looking in the parent classloader(s). This element is similar to the <strong>&lt;hidden-classes&gt;</strong> element since the desired behavior is to give the libraries packaged with the EJB JAR application (i.e., in META-INF/lib) precedence over anything used by the Geronimo server itself.
<br clear="none" class="atl-forced-newline"> 
<br clear="none" class="atl-forced-newline"></li><li>The <strong>&lt;suppress-default-environment&gt;</strong> element can be used to suppress inheritance of environment by module (i.e., any default environment built by a Geronimo builder when deploying the plan will be suppressed). If the <strong>&lt;suppress-default-environment&gt;</strong> element is specified then any default environment build by a builder when deploying the plan will be suppressed. An example of where this is useful is when deploying a connector on an app client in a separate (standalone) module (not as part of a client plan). The connector builder defaultEnvironment includes some server modules that won't work on an app client, so you need to suppress the default environment and supply a complete environment including all parents for a non-app-client module you want to run on an app client. This element should not be used for EJB applications however.</li></ul>


<p>An example <strong>openejb-jar.xml</strong> file is shown below using the <strong>&lt;sys:environment&gt;</strong> element:</p>
<parameter ac:name="">xml</parameter><parameter ac:name="title">&lt;sys:environment&gt; Example</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;openejb-jar xmlns="http://openejb.apache.org/xml/ns/openejb-jar-2.2"
             xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2"&gt;

    &lt;sys:environment&gt;
        &lt;sys:moduleId&gt;
            &lt;sys:groupId&gt;default&lt;/sys:groupId&gt;
            &lt;sys:artifactId&gt;openejb-jar-1&lt;/sys:artifactId&gt;
            &lt;sys:version&gt;3.0&lt;/sys:version&gt;
            &lt;sys:type&gt;ear&lt;/sys:type&gt;
        &lt;/sys:moduleId&gt;

        &lt;sys:dependencies&gt;
            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.testsuite&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;agent-ds&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;

            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.configs&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;tomcat7&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;
        &lt;/sys:dependencies&gt;
    &lt;/sys:environment&gt;

&lt;/openejb-jar&gt;
</plain-text-body>
<p><br clear="none" class="atl-forced-newline"></p>
<h3 id="openejb-jar.xml-&lt;sec:security&gt;">&lt;sec:security&gt; </h3>
<p>The <strong>&lt;sec:security&gt;</strong> XML element uses the Geronimo Security namespace, and is documented here:</p>
<ul><li><a shape="rect" class="external-link" href="http://geronimo.apache.org/schemas-3.0/docs/geronimo-security-2.0.xsd.html">http://geronimo.apache.org/schemas-3.0/docs/geronimo-security-2.0.xsd.html</a>.</li></ul>


<p>The <strong>&lt;sec:security&gt;</strong> element groups the security role mapping settings for the EJB application. This is an optional element, but if it is present all the EJB modules must make the appropriate access checks as outlined in the JACC specification. This element includes the <strong>&lt;role-mapping&gt;</strong> section that references the role(s) defined in the <strong>&lt;security-role&gt;</strong> element in the <strong>application.xml</strong> file. </p>

<h3 id="openejb-jar.xml-&lt;sys:gbean&gt;">&lt;sys:gbean&gt;</h3>
<p>The <strong>&lt;sys:gbean&gt;</strong> XML element uses the Geronimo System namespace described at 
<a shape="rect" class="external-link" href="http://geronimo.apache.org/schemas-3.0/docs/geronimo-module-1.2.xsd.html">http://geronimo.apache.org/schemas-3.0/docs/geronimo-module-1.2.xsd.html</a>.</p>

<p>The <strong>&lt;sys:gbean&gt;</strong> element is used to define GBean(s) that are configured and deployed with the EJB. These additional Geronimo services will be deployed when the application is deployed (and stopped when the application is stopped). Normally, the implementation classes for these services are included at the server level and referenced using a dependency element.</p>

<h3 id="openejb-jar.xml-CMPEntityBeans">CMP Entity Beans </h3>
<p>Container Managed Persistence (CMP) is still fully supported in OpenEJB/Geronimo, although the Java Persistence API is generally considered a better approach in Java EE. Apache Geronimo uses <a shape="rect" class="external-link" href="http://openjpa.apache.org/">OpenJPA</a> for providing Java Persistence API to Java EE applications deployed in the server. More information and details about the JPA deployment descriptor can be found here: <a shape="rect" href="creating-deployment-plans-for-java-persistence-api.html">Creating deployment plans for Java Persistence API</a>. </p>

<h4 id="openejb-jar.xml-&lt;naming:cmp-connection-factory&gt;">&lt;naming:cmp-connection-factory&gt;</h4>
<p>The <strong>&lt;naming:cmp-connection-factory&gt;</strong> XML element uses the Geronimo Naming namespace, which is used to identify the common elements for resolving EJB references, resource references, and Web services references, which is documented here:</p>

<ul><li><a shape="rect" class="external-link" href="http://geronimo.apache.org/schemas-3.0/docs/geronimo-naming-1.2.xsd.html">http://geronimo.apache.org/schemas-3.0/docs/geronimo-naming-1.2.xsd.html</a></li></ul>


<p>The <strong>&lt;naming:cmp-connection-factory&gt;</strong> element is used to specify a JDBC connection pool that should be used by Container Managed Persistence (CMP) entity beans to connect to a database. Since the <strong>&lt;naming:cmp-connection-factory&gt;</strong> element points to a database pool using the same syntax a resource reference uses, there are multiple methods available to refer to the connection pool. It can be specified by a simple name using the <strong>&lt;resource-link&gt;</strong> element, by pattern using the <strong>&lt;pattern&gt;</strong> element, or finally by URL using the <strong>&lt;url&gt;</strong> element. The resource-link handles most common resource situations where the JDBC pools are deployed as J2EE connectors in the same application, or deployed standalone in the same server. But pattern or URL can be use for any. An example <strong>openejb-jar.xml</strong> using all three techniques is shown:</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">&lt;naming:cmp-connection-factory&gt; Example</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;openejb-jar xmlns="http://openejb.apache.org/xml/ns/openejb-jar-2.2"
             xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2"
             xmlns:naming="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;

    &lt;sys:environment&gt;
        &lt;sys:moduleId&gt;
            &lt;sys:groupId&gt;default&lt;/sys:groupId&gt;
            &lt;sys:artifactId&gt;openejb-jar-1&lt;/sys:artifactId&gt;
            &lt;sys:version&gt;3.0&lt;/sys:version&gt;
            &lt;sys:type&gt;ear&lt;/sys:type&gt;
        &lt;/sys:moduleId&gt;

        &lt;sys:dependencies&gt;
            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.testsuite&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;agent-ds&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;

            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.configs&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;tomcat6&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;
        &lt;/sys:dependencies&gt;
    &lt;/sys:environment&gt;

    &lt;!-- Begin configuration for Container Managed Persistence (CMP) --&gt;

    &lt;naming:cmp-connection-factory&gt;

        &lt;naming:pattern&gt;
            &lt;naming:groupId&gt;resourcelocator-pattern-groupid&lt;/naming:groupId&gt;
            &lt;naming:artifactId&gt;resourcelocator-pattern-artifactid&lt;/naming:artifactId&gt;
            &lt;naming:version&gt;resourcelocator-pattern-version&lt;/naming:version&gt;
            &lt;naming:module&gt;resourcelocator-pattern-module&lt;/naming:module&gt;
            &lt;naming:name&gt;resourcelocator-pattern-name&lt;/naming:name&gt;
        &lt;/naming:pattern&gt;

        &lt;naming:resource-link&gt;resourcelocator-resourcelink&lt;/naming:resource-link&gt;

        &lt;naming:url&gt;resourcelocator-url&lt;/naming:url&gt;

    &lt;/naming:cmp-connection-factory&gt;

    &lt;!-- End configuration for Container Managed Persistence (CMP) --&gt;

&lt;/openejb-jar&gt;
</plain-text-body>
<p><br clear="none" class="atl-forced-newline"></p>
<h4 id="openejb-jar.xml-&lt;ejb-ql-compiler-factory&gt;">&lt;ejb-ql-compiler-factory&gt;</h4>
<p>The <strong>&lt;ejb-ql-compiler-factory&gt;</strong> XML element uses the OpenEJB default namespace for a openejb-jar.xml file, which is documented here:</p>

<ul><li><a shape="rect" class="external-link" href="http://openejb.apache.org/xml/ns/gopenejb-jar-2.2.xsd.html">http://openejb.apache.org/xml/ns/gopenejb-jar-2.2.xsd.html</a></li></ul>


<p>The <strong>&lt;ejb-ql-compiler-factory&gt;</strong> element is used to specify the name of a Java class that can compile EJB-QL (Query Language) queries into SQL statements for a particular database product. This must be the fully-qualified class name of a class that implements <strong>org.tranql.sql.EJBQLCompilerFactory</strong>. The default is for the Derby database, which ships with Geronimo, although it may work for other database products as well. An example <strong>openejb-jar.xml</strong> using the <strong>&lt;ejb-ql-compiler-factory&gt;</strong> XML element is shown:</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">&lt;ejb-ql-compiler-factory&gt; Example</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;openejb-jar xmlns="http://openejb.apache.org/xml/ns/openejb-jar-2.2"
             xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2"
             xmlns:naming="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;

    &lt;sys:environment&gt;
        &lt;sys:moduleId&gt;
            &lt;sys:groupId&gt;default&lt;/sys:groupId&gt;
            &lt;sys:artifactId&gt;openejb-jar-1&lt;/sys:artifactId&gt;
            &lt;sys:version&gt;3.0&lt;/sys:version&gt;
            &lt;sys:type&gt;ear&lt;/sys:type&gt;
        &lt;/sys:moduleId&gt;

        &lt;sys:dependencies&gt;
            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.testsuite&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;agent-ds&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;

            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.configs&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;tomcat7&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;
        &lt;/sys:dependencies&gt;
    &lt;/sys:environment&gt;

    &lt;!-- Begin configuration for Container Managed Persistence (CMP) --&gt;

    &lt;naming:cmp-connection-factory&gt;
        &lt;naming:pattern&gt;
            &lt;naming:groupId&gt;resourcelocator-pattern-groupid&lt;/naming:groupId&gt;
            &lt;naming:artifactId&gt;resourcelocator-pattern-artifactid&lt;/naming:artifactId&gt;
            &lt;naming:version&gt;resourcelocator-pattern-version&lt;/naming:version&gt;
            &lt;naming:module&gt;resourcelocator-pattern-module&lt;/naming:module&gt;
            &lt;naming:name&gt;resourcelocator-pattern-name&lt;/naming:name&gt;
        &lt;/naming:pattern&gt;
        &lt;naming:resource-link&gt;resourcelocator-resourcelink&lt;/naming:resource-link&gt;
        &lt;naming:url&gt;resourcelocator-url&lt;/naming:url&gt;
    &lt;/naming:cmp-connection-factory&gt;

    &lt;ejb-ql-compiler-factory&gt;ejbqlcompilerfactory&lt;/ejb-ql-compiler-factory&gt;

    &lt;!-- End configuration for Container Managed Persistence (CMP) --&gt;

&lt;/openejb-jar&gt;
</plain-text-body>
<p><br clear="none" class="atl-forced-newline"></p>
<h4 id="openejb-jar.xml-&lt;db-syntax-factory&gt;">&lt;db-syntax-factory&gt;</h4>
<p>The <strong>&lt;db-syntax-factory&gt;</strong> XML element uses the OpenEJB default namespace for a openejb-jar.xml file, which is documented here:</p>
<ul><li><a shape="rect" class="external-link" href="http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd">http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd</a></li></ul>


<p>The <strong>&lt;db-syntax-factory&gt;</strong> element is used to specify the name of a Java class that can customize CMP SQL statements for a particular database product. This must be the fully-qualified class name of a class that implements <strong>org.tranql.sql.DBSyntaxFactory</strong>. The default is for the Derby database, which ships with Geronimo, although it may work for other database products as well. An example <strong>openejb-jar.xml</strong> using the <strong>&lt;db-syntax-factory&gt;</strong> XML element is shown:</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">&lt;db-syntax-factory&gt; Example</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;openejb-jar xmlns="http://openejb.apache.org/xml/ns/openejb-jar-2.2"
             xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2"
             xmlns:naming="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;

    &lt;sys:environment&gt;
        &lt;sys:moduleId&gt;
            &lt;sys:groupId&gt;default&lt;/sys:groupId&gt;
            &lt;sys:artifactId&gt;openejb-jar-1&lt;/sys:artifactId&gt;
            &lt;sys:version&gt;3.0&lt;/sys:version&gt;
            &lt;sys:type&gt;ear&lt;/sys:type&gt;
        &lt;/sys:moduleId&gt;

        &lt;sys:dependencies&gt;
            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.testsuite&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;agent-ds&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;

            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.configs&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;tomcat7&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;
        &lt;/sys:dependencies&gt;
    &lt;/sys:environment&gt;

    &lt;!-- Begin configuration for Container Managed Persistence (CMP) --&gt;

    &lt;naming:cmp-connection-factory&gt;
        &lt;naming:pattern&gt;
            &lt;naming:groupId&gt;resourcelocator-pattern-groupid&lt;/naming:groupId&gt;
            &lt;naming:artifactId&gt;resourcelocator-pattern-artifactid&lt;/naming:artifactId&gt;
            &lt;naming:version&gt;resourcelocator-pattern-version&lt;/naming:version&gt;
            &lt;naming:module&gt;resourcelocator-pattern-module&lt;/naming:module&gt;
            &lt;naming:name&gt;resourcelocator-pattern-name&lt;/naming:name&gt;
        &lt;/naming:pattern&gt;

        &lt;naming:resource-link&gt;resourcelocator-resourcelink&lt;/naming:resource-link&gt;

        &lt;naming:url&gt;resourcelocator-url&lt;/naming:url&gt;
    &lt;/naming:cmp-connection-factory&gt;

    &lt;ejb-ql-compiler-factory&gt;ejbQlCompilerFactory&lt;/ejb-ql-compiler-factory&gt;

    &lt;db-syntax-factory&gt;dbSyntaxFactory&lt;/db-syntax-factory&gt;

    &lt;!-- End configuration for Container Managed Persistence (CMP) --&gt;

&lt;/openejb-jar&gt;
</plain-text-body>
<p><br clear="none" class="atl-forced-newline"></p>
<h4 id="openejb-jar.xml-&lt;enforce-foreign-key-constraints&gt;">&lt;enforce-foreign-key-constraints&gt;</h4>
<p>The <strong>&lt;enforce-foreign-key-constraints&gt;</strong> XML element uses the OpenEJB default namespace for a openejb-jar.xml file, which is documented here:</p>
<ul><li><a shape="rect" class="external-link" href="http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd">http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd</a></li></ul>


<p>The <strong>&lt;enforce-foreign-key-constraints&gt;</strong> element is effectively a true/false element &#8211; if it's present that means true, and if it's not present, that means false. If true, then Geronimo will make a special effort to execute insert, update, and delete statements in an order consistent with the foreign keys between tables. If false, then Geronimo will execute statements in any order, though still within the same transaction. This element should be present if the underlying database enforces foreign keys at the moment a statement is executed instead of at the end of the transaction. An example <strong>openejb-jar.xml</strong> setting the <strong>&lt;db-syntax-factory&gt;</strong> XML element to "true" is shown:</p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">&lt;enforce-foreign-key-constraints&gt; Example</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;openejb-jar xmlns="http://openejb.apache.org/xml/ns/openejb-jar-2.2"
             xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2"
             xmlns:naming="http://geronimo.apache.org/xml/ns/naming-1.2"&gt;

    &lt;sys:environment&gt;
        &lt;sys:moduleId&gt;
            &lt;sys:groupId&gt;default&lt;/sys:groupId&gt;
            &lt;sys:artifactId&gt;openejb-jar-1&lt;/sys:artifactId&gt;
            &lt;sys:version&gt;3.0&lt;/sys:version&gt;
            &lt;sys:type&gt;ear&lt;/sys:type&gt;
        &lt;/sys:moduleId&gt;

        &lt;sys:dependencies&gt;
            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.testsuite&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;agent-ds&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;

            &lt;sys:dependency&gt;
                &lt;sys:groupId&gt;org.apache.geronimo.configs&lt;/sys:groupId&gt;
                &lt;sys:artifactId&gt;tomcat7&lt;/sys:artifactId&gt;
                &lt;sys:version&gt;3.0&lt;/sys:version&gt;
                &lt;sys:type&gt;car&lt;/sys:type&gt;
            &lt;/sys:dependency&gt;
        &lt;/sys:dependencies&gt;
    &lt;/sys:environment&gt;

    &lt;!-- Begin configuration for Container Managed Persistence (CMP) --&gt;

    &lt;naming:cmp-connection-factory&gt;
        &lt;naming:pattern&gt;
            &lt;naming:groupId&gt;resourcelocator-pattern-groupid&lt;/naming:groupId&gt;
            &lt;naming:artifactId&gt;resourcelocator-pattern-artifactid&lt;/naming:artifactId&gt;
            &lt;naming:version&gt;resourcelocator-pattern-version&lt;/naming:version&gt;
            &lt;naming:module&gt;resourcelocator-pattern-module&lt;/naming:module&gt;
            &lt;naming:name&gt;resourcelocator-pattern-name&lt;/naming:name&gt;
        &lt;/naming:pattern&gt;

        &lt;naming:resource-link&gt;resourcelocator-resourcelink&lt;/naming:resource-link&gt;

        &lt;naming:url&gt;resourcelocator-url&lt;/naming:url&gt;
    &lt;/naming:cmp-connection-factory&gt;

    &lt;ejb-ql-compiler-factory&gt;ejbQlCompilerFactory&lt;/ejb-ql-compiler-factory&gt;

    &lt;db-syntax-factory&gt;dbSyntaxFactory&lt;/db-syntax-factory&gt;

    &lt;enforce-foreign-key-constraints/&gt;

    &lt;!-- End configuration for Container Managed Persistence (CMP) --&gt;

&lt;/openejb-jar&gt;
</plain-text-body>
<h4 id="openejb-jar.xml-&lt;relationships&gt;">&lt;relationships&gt;</h4>
<p>The <strong>&lt;relationships&gt;</strong> XML element uses the OpenEJB default namespace for a openejb-jar.xml file, which is described here:</p>
<ul><li><a shape="rect" class="external-link" href="http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd">http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd</a>.</li></ul>


<p>Container-managed relationships are initially defined in the <strong>ejb-jar.xml</strong> deployment descriptor, but the mappings to specific database elements are defined in the <strong>openejb-jar.xml</strong> file using the <strong>&lt;relationship&gt;</strong> element.</p>


<p><br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></p>
<h3 id="openejb-jar.xml-CommonElementsforEJBEntity,Session,andMessage-drivenBeans">Common Elements for EJB Entity, Session, and Message-driven Beans</h3>
<p>Unless otherwise noted, all the Common, EJB Entity, EJB Session, and EJB Message-driven elements use the OpenEJB default namespace for a openejb-jar.xml file, which is documented here:</p>
<ul><li><a shape="rect" class="external-link" href="http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd">http://openejb.apache.org/xml/ns/openejb-jar-2.2.xsd</a></li></ul>


<h4 id="openejb-jar.xml-&lt;enterprise-beans&gt;">&lt;enterprise-beans&gt;</h4>
<p>The <strong>&lt;enterprise-beans&gt;</strong> element used to specify references by <strong>&lt;entity&gt;</strong>, <strong>&lt;session&gt;</strong>, or <strong>&lt;message-driven&gt;</strong> EJB's. For example, a EJB Entity Bean would be specified similarly as below in an <strong>openejb-jar.xml</strong> file: </p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">&lt;entity&gt; Example</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;enterprise-beans&gt;

    &lt;entity&gt;
        &lt;ejb-name&gt;ExchangeRate&lt;/ejb-name&gt;
        &lt;local-jndi-name&gt;ExchangeRate&lt;/local-jndi-name&gt;
        &lt;resource-ref&gt;
            &lt;ref-name&gt;jdbc/BankDataSource&lt;/ref-name&gt;
            &lt;resource-link&gt;BankPool&lt;/resource-link&gt;
        &lt;/resource-ref&gt;
    &lt;/entity&gt;

&lt;/enterprise-beans&gt;
</plain-text-body>

<p>A EJB Session Bean would be specified similarly as below in an <strong>openejb-jar.xml</strong> file: </p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">&lt;session&gt; Example</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;enterprise-beans&gt;

    &lt;session&gt;
        &lt;ejb-name&gt;RetrieveEmployeeInfoBean&lt;/ejb-name&gt;
        &lt;business-remote&gt;examples.session.stateless_dd.RetrieveEmployeeInfo&lt;/business-remote&gt;
        &lt;ejb-class&gt;examples.session.stateless_dd.RetrieveEmployeeInfoBean&lt;/ejb-class&gt;
        &lt;session-type&gt;Stateless&lt;/session-type&gt;
        &lt;transaction-type&gt;Container&lt;/transaction-type&gt;

        &lt;resource-ref&gt;
            &lt;res-ref-name&gt;jdbc/DataSource&lt;/res-ref-name&gt;
            &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;
            &lt;res-auth&gt;Container&lt;/res-auth&gt;
            &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;
        &lt;/resource-ref&gt;
    &lt;/session&gt;

&lt;/enterprise-beans&gt;
</plain-text-body>

<p>And an EJB Message-driven Bean would be specified similarly as below in an <strong>openejb-jar.xml</strong> file: </p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">&lt;message-driven&gt; Example</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;enterprise-beans&gt;

    &lt;message-driven&gt;
        &lt;ejb-name&gt;OrderRecvMDB&lt;/ejb-name&gt;
        &lt;resource-adapter&gt;
            &lt;resource-link&gt;CommonConnectionFactory&lt;/resource-link&gt;
        &lt;/resource-adapter&gt;
        &lt;activation-config&gt;
            &lt;activation-config-property&gt;
                &lt;activation-config-property-name&gt;destination&lt;/activation-config-property-name&gt;
                &lt;activation-config-property-value&gt;OrderQueue&lt;/activation-config-property-value&gt;
            &lt;/activation-config-property&gt;
            &lt;activation-config-property&gt;
                &lt;activation-config-property-name&gt;destinationType&lt;/activation-config-property-name&gt;
                &lt;activation-config-property-value&gt;javax.jms.Queue&lt;/activation-config-property-value&gt;
            &lt;/activation-config-property&gt;
        &lt;/activation-config&gt;
    &lt;/message-driven&gt;

&lt;/enterprise-beans&gt;
</plain-text-body>

<h4 id="openejb-jar.xml-&lt;ejb-name&gt;">&lt;ejb-name&gt;</h4>
<p>The <strong>&lt;ejb-name&gt;</strong> element identifies the EJB that these settings apply to and must match the <strong>&lt;ejb-name&gt;</strong> for the EJB in <strong>ejb-jar.xml</strong> file.</p>

<h4 id="openejb-jar.xml-&lt;jndi-name&gt;">&lt;jndi-name&gt;</h4>
<p>The Home interface for the EJB is registered in JNDI at the address specified here. This global JNDI name is used by application clients to connect to this EJB. It is only meaningful if the EJB has a (remote) Home interface.</p>

<h4 id="openejb-jar.xml-&lt;local-jndi-name&gt;">&lt;local-jndi-name&gt;</h4>
<p>The LocalHome interface for the EJB is registered in JNDI at the address specified here. It is only meaningful if the EJB has a LocalHome interface. </p>

<h4 id="openejb-jar.xml-&lt;tssGroup&gt;">&lt;tssGroup&gt;</h4>
<p>The <strong>&lt;tssGroup&gt;</strong> set of elements is used to contains CORBA security settings (i.e., for EJBs exposed as CORBA objects). It is not necessary if the EJB will not be accessed via CORBA.</p>

<h4 id="openejb-jar.xml-JNDIEnvironmentReferences">JNDI Environment References</h4>
<p>All the JNDI reference elements in this section use the Geronimo Naming namespace, which is used to identify the common elements for resolving EJB references, resource references, and Web services references, and is documented here:</p>
<ul><li><a shape="rect" class="external-link" href="http://geronimo.apache.org/schemas-3.0/docs/geronimo-naming-1.2.xsd.html">http://geronimo.apache.org/schemas-3.0/docs/geronimo-naming-1.2.xsd.html</a></li></ul>


<p>Additionally, more information and details about JNDI references can be found here: <a shape="rect" href="global-jndi.html">Global JNDI</a>.</p>

<h5 id="openejb-jar.xml-&lt;naming:abstract-naming-entry&gt;">&lt;naming:abstract-naming-entry&gt;</h5>
<p>The <strong>&lt;abstract-naming-entry&gt;</strong> element is not technically a JNDI reference element. It is included in this section because it is an abstract element used for containing these JNDI reference types:</p>
<ul><li><strong>&lt;gbean-ref&gt;</strong>
<br clear="none" class="atl-forced-newline"> 
<br clear="none" class="atl-forced-newline">
The <strong>&lt;gbean-ref&gt;</strong> element is used to map GBean references to GBeans configured outside the current module
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline"></li><li><strong>&lt;persistenceunit-ref&gt;</strong>
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline">
The <strong>&lt;persistenceunit-ref&gt;</strong> element is used to map persistence unit references to persistence units configured outside the current module
<br clear="none" class="atl-forced-newline"> 
<br clear="none" class="atl-forced-newline"></li><li><strong>&lt;persistencecontext-ref&gt;</strong>
<br clear="none" class="atl-forced-newline">
<br clear="none" class="atl-forced-newline">
The <strong>&lt;persistencecontext-ref&gt;</strong> element is used to map persistence context references to persistence contexts configured outside the current module</li></ul>


<h5 id="openejb-jar.xml-&lt;naming:ejb-ref&gt;">&lt;naming:ejb-ref&gt;</h5>
<p>The <strong>&lt;naming:ejb-ref&gt;</strong> element is used to map EJB references to EJB's in other applications using remote home and remote interface. The application which contains the EJB being referenced should either be in same EAR or should be included in dependency list of this application. Also note as the EJB's referenced are in a different JVM all the client interfaces should also be included in the current application.</p>

<h5 id="openejb-jar.xml-&lt;naming:ejb-local-ref&gt;">&lt;naming:ejb-local-ref&gt;</h5>
<p>The <strong>&lt;naming:ejb-local-ref&gt;</strong> element is used to map EJB references to EJB's in other applications using local home and local interface. The application which contains the EJB being referenced should either be in same EAR or should be included in dependency list of this application. Also note as the EJB's referenced are in a different JVM all the client interfaces should also be included in the current application.</p>

<h5 id="openejb-jar.xml-&lt;naming:service-ref&gt;">&lt;naming:service-ref&gt;</h5>
<p>The <strong>&lt;naming:service-ref&gt;</strong> is used to map service references to service's in other applications. The application which contains the EJB being referenced should either be in same EAR or should be included in dependency list of this application.</p>

<h5 id="openejb-jar.xml-&lt;naming:resource-ref&gt;">&lt;naming:resource-ref&gt;</h5>
<p>The <strong>&lt;naming:resource-ref&gt;</strong> element is used to map resource references to resources like JDBC resources, JMS resources, etc. configured outside the current application.</p>

<h5 id="openejb-jar.xml-&lt;naming:resource-env-ref&gt;">&lt;naming:resource-env-ref&gt;</h5>
<p>The <strong>&lt;naming:resource-env-ref&gt;</strong> element is used to map resource references to administrative objects deployed as a part of connectors.</p>

<h5 id="openejb-jar.xml-&lt;naming:message-destination&gt;">&lt;naming:message-destination&gt;</h5>
<p>The <strong>&lt;naming:message-destination&gt;</strong> element is used to map resource references to a message-destination which is used within the deployed EJB application. These are typically a JMS queue or topic which acts like a destination for the messages delivered. Like all the JNDI references in this section, this element will not cause the creation of a message-destination, references an existing message-destination used within the deployed EJB application. </p>

<h3 id="openejb-jar.xml-EJBEntityBeans">EJB Entity Beans </h3>
<p>EJB Entity Beans settings can include JNDI names used by remote clients, CMP settings, and CORBA configurations and resolving references. </p>

<h3 id="openejb-jar.xml-EJBSessionBeans">EJB Session Beans </h3>
<p>An EJB session bean represents an interactive session between a single client and an application deployed on the server, and can also  include JNDI names used by remote clients, CMP settings, and CORBA configurations and resolving references. </p>

<h3 id="openejb-jar.xml-EJBMessage-drivenBeans">EJB Message-driven Beans</h3>
<p>Message-driven bean settings include mapping the MDB to a specific message destination (usually a JMS Topic or Queue), as well as resolving references to other EJBs, resources, or Web services. </p>

<h4 id="openejb-jar.xml-&lt;naming:resource-adapter&gt;">&lt;naming:resource-adapter&gt;</h4>
<p>The <strong>&lt;naming:resource-adapter&gt;</strong> XML element uses the Geronimo Naming namespace, which is used to identify the common elements for resolving EJB references, resource references, and Web services references, and is documented here:</p>
<ul><li><a shape="rect" class="external-link" href="http://geronimo.apache.org/schemas-3.0/docs/geronimo-naming-1.2.xsd.html">http://geronimo.apache.org/schemas-3.0/docs/geronimo-naming-1.2.xsd.html</a></li></ul>


<p>The <strong>&lt;naming:resource-adapter&gt;</strong> element identifies the resource adapter that this message-driven bean connects to. This is typically a JMS server, which is ActiveMQ for the default Geronimo JMS provider. It identifies the resource adapter instance that this MDB should use to connect to its destination. For example, a specific ActiveMQ broker may have several resource adapter instances set up, with different authentication settings, and this identifies the specific instance to use. Like the <strong>&lt;naming:cmp-connection-factory&gt;</strong>, there are multiple methods available to refer to the ActiveMQ broker.  It can be specified by a simple name using the <strong>&lt;resource-link&gt;</strong> element, by pattern using the <strong>&lt;pattern&gt;</strong> element, or finally by URL using the <strong>&lt;url&gt;</strong> element. The resource-link handles most common resource situations (e.g., a JMS resource adapter deployed as part of the same EAR or in the top level of the server), but pattern or URL can be use for any. This might be important if, for example, two resource adapter deployments use the same name, so that the <strong>&lt;resource-link&gt;</strong> does not uniquely identify one and it must be fully-qualified. This can be used to identify any resource adapter in the same EAR or at the top level in the server. The value specified here should match the <strong>&lt;resourceadapter-name&gt;</strong> specified for the resource adapter instance in its Geronimo deployment plan. </p>

<h4 id="openejb-jar.xml-&lt;activation-config&gt;">&lt;activation-config&gt;</h4>
<p>The <strong>&lt;activation-config&gt;</strong> XML element is used to specify any configuration data (in the form of name/value pairs) required by the resource adapter in order to supply messages to the MDB. For example: </p>

<parameter ac:name="">xml</parameter><parameter ac:name="title">&lt;activation-config&gt; Example</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;activation-config&gt;

    &lt;activation-config-property&gt;
        &lt;activation-config-property-name&gt;destination&lt;/activation-config-property-name&gt;
        &lt;activation-config-property-value&gt;OrderQueue&lt;/activation-config-property-value&gt;
    &lt;/activation-config-property&gt;

    &lt;activation-config-property&gt;
        &lt;activation-config-property-name&gt;destinationType&lt;/activation-config-property-name&gt;
        &lt;activation-config-property-value&gt;javax.jms.Queue&lt;/activation-config-property-value&gt;
    &lt;/activation-config-property&gt;

&lt;/activation-config&gt;
</plain-text-body></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tr>
          <td align="left" valign="middle" class="footer">
            &nbsp;&nbsp;
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="Delicious" />
            <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">Bookmark this on Delicious</a>
            &nbsp;&nbsp;
            <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="Digg!" />
            <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)+'&amp;topic=programming');">Digg this</a>
            <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : openejb-jar.xml';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
            &nbsp;&nbsp;
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">Privacy Policy</a>&nbsp;&nbsp;-&nbsp;&nbsp;
            Copyright &#169; 2003-2013, The Apache Software Foundation, Licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0.</a>&nbsp;&nbsp;
          </td>
        </tr>
    </table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  </body>
</html>
