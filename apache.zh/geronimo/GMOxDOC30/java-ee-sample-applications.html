<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=0">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="Java EE sample applications">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Java EE sample applications">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0文档：Java EE示例应用程序</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">主页</a> > <a href="documentation.html">文档</a> > <a href="reference.html">参考</a> > <a href="samples.html">示例</a> > <a href="java-ee-sample-applications.html">Java EE示例应用程序</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">Java EE示例应用程序</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645363"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645363">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645363"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645363">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645363"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645363">新增新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>
<p>本节分为以下几节：</p>


<h1 id="JavaEEsampleapplications-Installingasprebuiltplugins">作为预建插件安装</h1>

<p>Geronimo的推荐做法是使用Geronimo插件和从开发到测试和生产的Maven建立工作流程。为了证明这一点，样本被内置到适用于Geronimo中的Jetty和Tomcat Web容器的插件中。许多样本需要数据库访问。这被封装到一个单独的插件（sample-datasource）中。</p>
<rich-text-body>
<p>TODO：演示如何使用插件交换数据库；另见压路机插件</p></rich-text-body>

<p>无论如何，要将示例安装为插件，您需要先构建它们。</p>

<p>对于安装，您需要安装了Web容器的Geronimo服务器，例如geronimo-jetty-minimal或geronimo-jetty6-javaee5服务器（或等效的Tomcat变体）。</p>

<h2 id="JavaEEsampleapplications-Installingthroughtheadministrativeconsole">通过管理控制台进行安装</h2>

<p>如果使用的是Java EE 6服务器程序集之一，则可以使用管理控制台来安装插件。转到插件页面，按“ <strong>显示插件”</strong>按钮，找到要安装的样本，然后单击“ <strong>安装”</strong> 。确保仅为已安装的Web容器选择插件（例如，Jetty Web容器的jetty插件）。任何必需的依赖项（例如sample-datasource插件）将自动安装。如果您正在使用不包含管理控制台的最小程序集之一，则具有等效的命令行功能（在<a shape="rect" href="java-ee-sample-applications.html">Geronimo的#gogo命令</a>下<a shape="rect" href="java-ee-sample-applications.html">介绍</a> ）。</p>

<h2 id="JavaEEsampleapplications-InstallingthroughKarafShell">通过Karaf Shell安装</h2>

<p>为此，您可以使用任何Geronimo服务器，例如最小组件之一，甚至框架组件。启动geronimo后，运行<code>deploy:list-plugins</code>在同一终端窗口中，然后按照说明进行操作。安装样本插件将安装样本数据源插件和所有其他依赖项。或者，如果您使用</p>
<plain-text-body>mvn全新安装-Pit</plain-text-body>

<p>您可以在以下目录中找到安装了示例的服务器</p>
<plain-text-body>
<sample>/ <sample>-jetty / target / geronimo-framework- <version>/。
</version></sample></sample></plain-text-body>


<h1 id="JavaEEsampleapplications-Buildingfromsource">从源头建造</h1>

<h2 id="JavaEEsampleapplications-Downloadingthesourcecode">下载源代码</h2>

<p>首次构建样本时，要求您从顶层目录进行构建。初始构建后，您可以根据需要进行特定样本的后续构建。</p>

<p>您需要在系统上安装svn和maven。</p>
<rich-text-body>
<p>构建Geronimo 3.0样本需要Maven v 2.2.1或更高版本。</p></rich-text-body>


<p>要检查3.0M1样本：</p>

<plain-text-body>svn co https://svn.apache.org/repos/asf/geronimo/samples/tags/samples-parent-3.0-M1/samples-parent-3.0M1</plain-text-body> <rich-text-body>
<p>或者，您可以选择使用活动的3.0样本主干。这将使您能够处理样本中的最新更改，但也会使您接触到处于活跃开发中的分支，因此情况可能会每天变化：<br clear="none">svn co <a shape="rect" class="external-link" href="https://svn.apache.org/repos/asf/geronimo/samples/trunk">https://svn.apache.org/repos/asf/geronimo/samples/trunk</a> gsamples-trunk</p></rich-text-body>
<p>根据外观，您可能会在样本/分支和样本/标签下找到样本的早期版本或发行版本。您可以在任何Web浏览器中浏览以查看其中的内容。样本主干始终包含开发中的最高版本的样本<a shape="rect" class="external-link" href="https://svn.apache.org/repos/asf/geronimo/samples/trunk">https://svn.apache.org/repos/asf/geronimo/samples/trunk</a></p>


<h2 id="JavaEEsampleapplications-Buildingthesamples">建立样本</h2>

<p>使用以下命令构建样本：</p>
<plain-text-body>mvn全新安装</plain-text-body> <rich-text-body>
<p>如果您遇到“无法扫描TLD文件的模块...使用Windows平台时出现“文件名太长”问题，请将示例检出到较短的目录（14个字符或更少）。</p></rich-text-body>

<p>有最少的集成测试，以确保可以在框架服务器上安装示例插件。要运行此测试，请使用以下命令：</p>
<plain-text-body>mvn全新安装-Pit</plain-text-body>


<h2 id="JavaEEsampleapplications-DeployingthebuiltsamplesasJavaEEartifacts">将构建的示例作为Java EE工件进行部署</h2>

<h3 id="JavaEEsampleapplications-Withthesampledatasourceinstalledasaplugin">将示例数据源安装为插件</h3>

<p>构建样本项目后，你可以找到<sample>一个</sample>合适的样品的Geronimo计划</p>
<plain-text-body>
<sample>/ <sample>-jetty / target / resources / META-INF / plan.xml</sample></sample></plain-text-body>
<p>（或等效的-tomcat目录）。对于大多数样本，您必须首先安装sample-datasource插件。可以从管理控制台中的“新部署”将样本部署在合适的服务器上，也可以使用Karaf Shell进行部署。 <code>deploy:deploy-modules</code> 。请注意，在这种情况下，您必须从已经安装了所有必需位的服务器开始，而不是框架服务器。由于未自动测试此安装方法，因此它比插件方法更有可能被破坏。</p>

<h3 id="JavaEEsampleapplications-Makinglifeevenharderforyourself">让自己的生活更加艰难</h3>

<p>您还可以使用构建插件时生成的计划将示例数据源安装为javaee工件，使用数据库向导使用管理控制台安装示例数据源，并手动运行sql，而不是依赖geronimo <strong>DBInitializationGBean</strong> 。</p>

<h4 id="JavaEEsampleapplications-InstallingthesampledatasourceasaJavaEEartifact">将样本数据源安装为Java EE工件</h4>

<p>在安装任何示例应用程序之前，请部署<code>org.tranql/tranql-connector-derby-embed-xa/1.4/rar</code>位于geronimo存储库中的连接器<code>org/tranql/tranql-connector-derby-embed-xa/1.4/tranql-connector-derby-embed-xa-1.4.rar</code>计划在<code>sample-datasource/target/resources/META-INF/plan.xml</code>使用管理控制台“重新部署”或Karaf Shell。这将与安装sample-datasource插件具有完全相同的效果。</p>

<h4 id="JavaEEsampleapplications-Installingthesampledatasourcethroughtheadminconsoledatabasewizard">通过管理控制台数据库向导安装样本数据源</h4>

<p>使用管理控制台数据库向导创建一个新的数据源，选择derby-embed-xa类型并命名数据库“ SampleDatabase”和数据源“ SampleTxDatasource”。管理控制台将提供与示例所需内容不同的模块ID，因此您必须在var / config / artifact_aliases.properties中进行映射。插入这样的一行：</p>
<plain-text-body>org.apache.geronimo.samples / sample-datasource / 3.0M1 / car = console.dbpool / SampleDatabase / 1.0 / car</plain-text-body>
<p>用适当的示例版本替换3.0M1，并根据需要调整右侧。在编辑artifact_aliases.properties时，请确保Geronimo已停止。</p>

<h4 id="JavaEEsampleapplications-Manuallyinitializingthedatabase.">手动初始化数据库。</h4>

<p>需要数据库连接的样本在默认情况下通过使用DBInitializationGBean来运行sql脚本来初始化数据库。另外，我们在这里介绍如何手动初始化数据库。在生产方案中，您的数据库很可能是由DBA而不是这两种方法之一来设置的。</p>
<ol><li>从示例计划中删除DBInitializationGBean</li><li>在控制台数据库管理器页面中，使用创建数据库功能创建一个名为SampleDatabase的数据库。</li><li>在控制台“数据库管理器”页面中，选择“使用DB”中的SampleDatabase，将在项目（ear或war）中的sql文件中找到的脚本粘贴到文本框中，然后将其运行，该项目将构建顶级javaee构件。</li><li>使用修改后的计划部署和运行应用程序。</li></ol>


<h1 id="JavaEEsampleapplications-MavenGeneratedSiteforviewingjavadocorsourcexref">Maven生成的站点，用于查看javadoc或源外部参照</h1>
<rich-text-body>
<p>Geronimo Samples 3.0M1发行版未为javadoc和源外部参照视图生成maven站点。原因3.0M1的Geronimo站点方案存在一些问题。</p></rich-text-body>


<p>要导航到每个示例的javadoc和源代码（xref），请执行以下操作：</p>
<ol><li>在左侧导航栏中的“模块”下选择“ Geronimo Samples :: Samples”</li><li>从“模块”下的左侧导航中选择一个特定样本</li><li>要查看Javadoc或源代码（xref），您必须向下导航至包含源代码（例如war或ejb）的模块。例如，如果您有兴趣查看与银行样本关联的servlet，则可以选择以下模块：<ol><li>在“模块”下，选择“ Geronimo Samples :: converter-javaee6”</li><li>在“模块”下，选择“ Geronimo Samples :: converter-javaee6 :: WAR”</li></ol>
	</li><li>一旦进入包含源代码的模块，就可以选择“项目报告”，然后从提供的信息中选择JavaDocs或Source Xref。</li></ol>


<h1 id="JavaEEsampleapplications-AvailableJavaEEsampleapplications">可用的Java EE示例应用程序</h1>
<parameter ac:name="all">真正</parameter></div>
        </div>

                  <div class="tabletitle">儿童<span class="smalltext" id="show" style="display:inline"><a href="javascript:void(0);">节目儿童</a></span> <span class="smalltext" id="hide" style="display:none"><a href="javascript:void(0);">隐藏儿童</a></span>
          </div>
          <div class="greybox" id="children" style="display:none">
                                      <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/jarresource-javaee6+-+A+simple+bundled+resources+example" title="jarresource-javaee6-一个简单的捆绑资源示例">jarresource-javaee6-一个简单的捆绑资源示例</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/inventory+-+Simple+Database+Access+Application" title="库存-简单的数据库访问应用程序">库存-简单数据库访问应用程序</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/cviewer-javaee6+-+Programmatically+register+servlets+and+filters" title="cviewer-javaee6-以编程方式注册servlet和过滤器">cviewer-javaee6-以编程方式注册servlet和过滤器</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/not-in-svn+-+Inbound+JCA+example" title="not-in-svn-入站JCA示例">not-in-svn-入站JCA示例</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/fileupload-javaee6+-++Annotation+for+servlets%2C+filters%2Clisteners+and+better+file+upload+support+in+JavaEE+6" title="fileupload-javaee6 -  Annotation for servlets, filters,listeners and better file upload support in JavaEE 6">fileupload-javaee6-JavaEE 6</a> <span class="smalltext">（Apache Geronimo v3.0）中的</span> <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/fileupload-javaee6+-++Annotation+for+servlets%2C+filters%2Clisteners+and+better+file+upload+support+in+JavaEE+6" title="fileupload-javaee6-JavaEE 6中对servlet，过滤器，侦听器和更好的文件上传支持的注释">servlet，过滤器，侦听器和更好的文件上传支持的注释</a>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/dbtester+-+DB+Pool+Testing+sample+application" title="dbtester-数据库池测试示例应用程序">dbtester-数据库池测试示例应用程序</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=23337815" title="singletonejb-javaee6-一个简单的JSF + Singleton + ejb注入应用程序">singletonejb-javaee6-一个简单的JSF + Singleton + ejb注入应用程序</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/restfulorder-javaee6+-+Simple+Web+Service+with+JAX-RS" title="restfulorder-javaee6-使用JAX-RS的简单Web服务">restfulorder-javaee6-带有JAX-RS的简单Web服务</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/ldap-sample-app+-+LDAP+Sample+Application" title="ldap-sample-app-LDAP示例应用程序">ldap-sample-app-LDAP示例应用程序</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/ejbtimer-javaee6+-+A+simple+EJB+timer+service+application" title="ejbtimer-javaee6-一个简单的EJB计时器服务应用程序">ejbtimer-javaee6-一个简单的EJB计时器服务应用程序</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/daytrader+-+a+more+complex+application" title="daytrader-更复杂的应用程序">daytrader-一个更复杂的应用程序</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=23332743" title="converter-javaee6-一个简单的JSF + Ajax应用">converter-javaee6-一个简单的JSF + Ajax应用</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/webfragment-javaee6+-+A+simple+web+fragments+application" title="webfragment-javaee6-一个简单的Web片段应用程序">webfragment-javaee6-一个简单的Web片段应用程序</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                          <a href="https://cwiki.apache.org/confluence/display/GMOxDOC30/timereport+-+Web+Application+Security+Sample" title="timereport-Web应用程序安全性示例">timereport-Web应用程序安全性示例</a> <span class="smalltext">（Apache Geronimo v3.0）</span>
              <br>
                      </div>
              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Java EE sample applications';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>