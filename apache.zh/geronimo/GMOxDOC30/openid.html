<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=0">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="OpenID">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi OpenID">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0文档：OpenID</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">主页</a> > <a href="documentation.html">文档</a> > <a href="configuring-and-administering.html">配置和管理</a> > <a href="administering-security.html">管理安全性</a> > <a href="openid.html">OpenID</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">OpenID</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645464"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645464">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645464"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645464">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645464"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645464">添加新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><h2 id="OpenID-OpenIDoverview">OpenID概述</h2>

<p><a shape="rect" class="external-link" href="http://openid.net" rel="nofollow">OpenID</a>是用于分布式认证的开放规范，适用于流行于社交网络应用程序的Web应用程序。用户由URL或XRI标识。这导致有关可以在哪里验证标识符的用户“所有权”的信息。这样的网站称为“ OpenID提供程序”（OP）。使用OpenID验证用户身份的网站是“依赖方”。</p>

<p>依赖方网站将具有一个表单字段，供用户输入其OpenID标识符。然后，依赖方网络应用可以通过一系列间接操作（通过用户的用户代理进行重定向）来识别用户已知的OP，并将http / https请求直接发送给OP以确定用户是否实际上已按照OP的标准进行了身份验证。通常，OP将使用类似用户名/密码验证的方式来验证用户。此外，通常，OP将通知用户依赖方正在请求认证。</p>

<h2 id="OpenID-WhatdoesaRelyingPartyget?">依赖方会得到什么？</h2>

<p>在成功进行OpenID身份验证之后，依赖方将获得用户的标识符字符串。可以传输其他配置文件信息（例如电子邮件地址），但这对于授权决策并不容易使用。还有OP的标识。因此，大约有2.5条信息可用：</p>
<ol><li>用户身份</li><li>操作编号</li><li>用户已通过某些OP认证的事实<br clear="none">为了实现JavaEE安全，需要将这些映射到特定于应用程序的角色。这意味着，要么仅基于对用户进行身份验证的事实，要么基于他们正在使用的OP，就拥有非常粗糙的安全性，或者依赖方Web应用需要每个用户的明确知识才能将他们映射到适当的角色。</li></ol>


<h1 id="OpenID-Geronimosupport">Geronimo支持</h1>
<p>Geronimo OpenID支持使用<a shape="rect" class="external-link" href="http://code.google.com/p/openid4java/" rel="nofollow">openid4java</a>库。</p>

<h2 id="OpenID-OpenIDProvidersupport">OpenID Provider支持</h2>
<p>的<code>org.apache.geronimo.plugins/openid-provider-jetty//car</code>插件是一个简单的码头应用程序。当前，它使用一个简单的属性文件登录模块进行用户身份验证。需要将其移动到单独的插件，以便该领域是可插入的。该应用程序使用基于表单的登录名，因此它为经过身份验证的用户维护会话：因此，对于依赖方的重复请求，仅需要“您要允许对此依赖方进行身份验证”通知，而不是每个请求的实际应用程序登录。</p>

<p>当来自依赖方的身份验证请求到达时（通过用户代理（浏览器）的重定向），交互如下：</p>
<ul><li>如果用户未通过身份验证（request.getUserPrincipal为null），则将用户（通过用户代理）重定向到（受保护的）身份验证页面。通过正常的Java EE安全性，这导致要求用户在进入身份验证页面之前登录。</li><li>如果用户已经登录，则将请求转发（通过请求分发程序）到身份验证页面。<br clear="none">如果用户接受来自依赖方的身份验证请求，则openid协议继续。</li></ul>


<p>根据openid4java项目中修改后的单元测试，OpenID提供程序似乎至少工作最少。</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>当前，OP接受来自任何依赖方的身份验证请求。可能这应仅限于授权的RP或不在“黑名单”上的RP。</p></div></div>

<h2 id="OpenID-RelyingPartysupport">依靠党的支持</h2>
<p>OpenID协议指定了依赖方和用户代理之间的消息交换序列（以及OP，通过重定向）。因此，它是JASPI模块的理想选择，可替代标准的基本，摘要或基于表单的消息交换。这是在jaspi组件中开发的。完成后，它将允许指定OpenID身份验证，就像您现在可以指定基本身份验证，摘要身份验证或表单身份验证一样，尽管不能通过web.xml。</p></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : OpenID';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>