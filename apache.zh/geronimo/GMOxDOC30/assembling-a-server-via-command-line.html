<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=0">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="Assembling a server via command line">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Assembling a server via command line">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>

  <link href="asset?aid=1" rel="stylesheet" type="text/css">
  <link href="asset?aid=2" rel="stylesheet" type="text/css">
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shCore.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushJava.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushXml.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushPlain.js' type='text/javascript'></script>
  
  <script type="text/javascript">
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
  </script>

    <title>Apache Geronimo v3.0文档：通过命令行组装服务器</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">Home</a> > <a href="documentation.html">文档</a> > <a href="configuring-and-administering.html">配置和管理</a> > <a href="configuring-and-administering-the-apache-geronimo-server.html">配置和管理Apache Geronimo Server</a> > <a href="customizing-server-assemblies.html">定制服务器程序集</a> > <a href="assembling-a-server-via-command-line.html">通过命令行组装服务器</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">通过命令行组装服务器</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645450"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645450">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645450"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645450">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645450"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645450">添加新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent">

<p>本节说明如何从命令行组装定制服务器。</p>

<p>您可以使用GShell <code>deploy/assemble</code>组装定制服务器的命令。您可以使用<code>--help</code>有关如何使用此说明的选项<code>deploy/assemble</code>命令，显示如下：</p>

<div class="preformatted panel" style="border-style:solid;border-width:1px"><div class="preformattedContent panelContent">
<pre>User@server:/&gt;deploy/assemble -help
assemble
 --

  --secure                         Use secure channel
  -a (--artifact) VAL              server artifact name
  -f (--format) VAL                zip or tar.gz
  -g (--groupId) VAL               server groupId
  -h (--help)                      Display this help message
  -l (--list)                      refresh plugin list
  -m (--mode) VAL                  custom assembly mode
  -p (--port) N                    Port, default 1099
  -s (--hostname, --server) VAL    Hostname, default localhost
  -t (--path) VAL                  assembly location
  -u (--username) VAL              Username
  -v (--version) VAL               server version
  -w (--password) VAL              Password
</pre>
</div></div>

<p>默认情况下，新组装的服务器的目标位置是<code>/var/temp/assembly</code>目录，目标软件包格式为<strong>tar.gz</strong> ，版本号为<strong>1.0</strong> 。您将必须输入一个groupId和一个artifactId。</p>

<div class="preformatted panel" style="border-style:solid;border-width:1px"><div class="preformattedContent panelContent">
<pre># run using ./bin/gsh
User@server:/&gt;deploy/assemble -g org.apache.geronimo.asseblies -a testServer -v 1.0 -u system -w manager
</pre>
</div></div>

<p>然后，GShell将为您提供汇编模式选项列表，如下所示。</p>

<div class="preformatted panel" style="border-style:solid;border-width:1px"><div class="preformattedContent panelContent">
<pre>Available custom assembly modes:
 1:    Function Centric
 2:    Application Centric
 3:    Expert Users
Please select a custom assembly mode [1,2,3]
</pre>
</div></div>

<p>根据您的情况选择一种自定义组装模式：</p>
<ul><li>选择1或2，然后您必须选择框架插件组（ <strong>Geronimo Plugin Group :: Framework</strong> ），其中包括用于启动服务器的多个插件。</li></ul>


<ul><li>选择3以经验丰富的用户身份使用插件组装服务器。为了使服务器正常工作，您必须包括插件（ <strong>Geronimo Assemblies :: Boilerplate</strong> ），该插件包含用于启动服务器的多个文件。</li></ul>


<p><strong>注意：请</strong>查看<a shape="rect" href="plugin-group.html">插件组，</a>以获取有关框架插件组和样板插件之间差异的更多详细信息。</p>

<p>输入选择后，您将必须选择要安装的一个或多个插件组。几秒钟后，您的装配即可使用。</p>

<div class="preformatted panel" style="border-style:solid;border-width:1px"><div class="preformattedContent panelContent">
<pre>**** Installation Complete!
Used existing: cglib/cglib-nodep/2.1_3/jar
...
Installed new: org.apache.geronimo.framework/jsr88-cli/2.2-SNAPSHOT/car

Downloaded 23085 kB in 25s (923 kB/s)
</pre>
</div></div>

<p>在里面<code><GERONIMO_HOME>/var/temp</code>在目录中，您会发现新组装的服务器的软件包，其占用空间最小，所需的组件最少。通过将包复制并解压缩到所需的任何位置，可以将程序集作为独立服务器启动。启动时间和加载的系统模块大大减少。这是仅在启动后选择了框架插件组的程序集的快照。</p>

<div class="preformatted panel" style="border-style:solid;border-width:1px"><div class="preformattedContent panelContent">
<pre>Booting Geronimo Kernel (in Java 1.6.0)...
Module  1/11 org.apache.geronimo.framework/j2ee-system/2.2-SNAPSHOT/car
                              started in   .000s
Module  2/11 org.apache.geronimo.framework/transformer-agent/2.2-SNAPSHOT/car
                              started in   .000s
Module  3/11 org.apache.geronimo.framework/gshell-framework/2.2-SNAPSHOT/car
                              started in   .000s
Module  4/11 org.apache.geronimo.framework/gshell-geronimo/2.2-SNAPSHOT/car
                              started in   .000s
Module  5/11 org.apache.geronimo.framework/gshell-remote/2.2-SNAPSHOT/car
                              started in   .000s
Module  6/11 org.apache.geronimo.framework/jee-specs/2.2-SNAPSHOT/car
                              started in   .000s
Module  7/11 org.apache.geronimo.framework/rmi-naming/2.2-SNAPSHOT/car
                              started in   .453s
Module  8/11 org.apache.geronimo.plugins.classloaders/geronimo-javaee-deployment
_1.1MR3_spec/2.2-SNAPSHOT/car started in   .000s
Module  9/11 org.apache.geronimo.framework/plugin/2.2-SNAPSHOT/car
                              started in   .516s
Module 10/11 org.apache.geronimo.framework/j2ee-security/2.2-SNAPSHOT/car
                              started in   .140s
Module 11/11 org.apache.geronimo.framework/server-security-config/2.2-SNAPSHOT/c
ar                            started in   .047s
Startup completed in 1.969s seconds
  Listening on Ports:
    1099 0.0.0.0 RMI Naming
    9999 0.0.0.0 JMX Remoting Connector

Geronimo Application Server started
</pre>
</div></div>

<p>如果要了解更多信息，请参阅<a shape="rect" href="plugin-group.html">插件组</a> 。</p></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Assembling a server via command line';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>