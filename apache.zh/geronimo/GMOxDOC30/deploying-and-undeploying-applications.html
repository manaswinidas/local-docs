<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<html lang="en">
  <head>
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <link type="text/css" rel="stylesheet" href="http://geronimo.apache.org/style/default.css">
    <LINK rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <META name="Description" content="Deploying and undeploying applications" />
    <META name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Deploying and undeploying applications" />
    <META name="Owner" content="dev@geronimo.apache.org" />
    <META name="Robots" content="index, follow" />
    <META name="Security" content="Public" />
    <META name="Source" content="wiki template" />
    <META name="DC.Date" scheme="iso8601" content="2010-05-11" />
    <META name="DC.Language" scheme="rfc1766" content="en" />
    <META name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation" />
    <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>

  <link href='http://geronimo.apache.org/resources/highlighter/styles/shCoreGeronimo.css' rel='stylesheet' type='text/css' />
  <link href='http://geronimo.apache.org/resources/highlighter/styles/shThemeGeronimo.css' rel='stylesheet' type='text/css' />
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shCore.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushJava.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushXml.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushPlain.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushBash.js' type='text/javascript'></script>
  
  <script type="text/javascript">
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
  </script>

    <title>Apache Geronimo v3.0 Documentation: Deploying and undeploying applications</title>
  </head>

  <body onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tr>
        <td valing="top" align="left">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" align="left" nowrap>
          <a href="/geronimo"> Home</a> >&nbsp;<a href="documentation.html">Documentation</a>&nbsp;&gt;&nbsp;<a href="configuring-and-administering.html">Configuring and administering</a>&nbsp;&gt;&nbsp;<a href="deploying-and-administering-assets-in-geronimo.html">Deploying and administering assets in Geronimo</a>&nbsp;&gt;&nbsp;<a href="deploying-and-administering-applications.html">Deploying and administering applications</a>&nbsp;&gt;&nbsp;<a href="deploying-and-undeploying-applications.html">Deploying and undeploying applications</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="hidden" name="oe" value="UTF-8" />
            <input type="hidden" name="domains" value="" />
            <input type="hidden" name="sitesearch" value="" />
            <input type="text" name="q" maxlength="255" value="" />        
            <input type="submit" name="btnG" value="Google Search" />
          </form>
        </td>
      </tr> 
    </table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding: 6px 0px 0px 0px;">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div style="margin: 0px 10px 0px 10px" class="smalltext">Apache Geronimo v3.0</div>
        <div style="margin: 0px 10px 8px 10px"  class="pagetitle">Deploying and undeploying applications</div>

        <div class="greynavbar" align="right" style="padding: 2px 10px; margin: 0px;">
<!-- -->         
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645345">
            <img src="http://geronimo.apache.org/images/icons/notep_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Edit Page"></a>
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645345">Edit Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">
            <img src="http://geronimo.apache.org/images/icons/browse_space.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Browse Space"></a>
            <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">Browse Space</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645345">
            <img src="http://geronimo.apache.org/images/icons/add_page_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add Page"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645345">Add Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645345">
            <img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add News"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645345">Add News</a>
<!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent">

<p>There are several alternatives available for Deploying and undeploying applications:</p>
<style type="text/css">/*<![CDATA[*/
div.rbtoc1572612969499 {padding: 0px;}
div.rbtoc1572612969499 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1572612969499 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class="toc-macro rbtoc1572612969499">
<ul class="toc-indentation"><li><a shape="rect" href="#Deployingandundeployingapplications-ViaGeronimoAdministrationConsoleGACdeploy">Via Geronimo Administration Console</a></li><li><a shape="rect" href="#Deployingandundeployingapplications-ViahotdeploymentHotdeploy">Via hot deployment</a></li><li><a shape="rect" href="#Deployingandundeployingapplications-ViaDeployertooldeployertool">Via Deployer tool</a></li><li><a shape="rect" href="#Deployingandundeployingapplications-Viagogocommandgogodeploy">Via gogo command</a></li><li><a shape="rect" href="#Deployingandundeployingapplications-ViaGEPGEPdeploy">Via GEP</a></li><li><a shape="rect" href="#Deployingandundeployingapplications-ViaClusteringWADIdeploy">Via Clustering</a></li></ul>
</div>

<p>When you package your application, you might include the deployment plan within the package or not. At deployment time, Geronimo looks for the deployment plan (for example, <code>geronimo-web.xml</code> and deployment descriptor (for example,<code>web.xml</code>) in the <code>WEB-INF</code> directory within your packaged application. If Geronimo cannot find those information, it attempts to deploy the application using defaults. If using defaults fails, you will have to either provide a deployment plan repackaged in the application or provide an external deployment plan. In the following sections, we will discuss further these alternatives.</p>

<h1 id="Deployingandundeployingapplications-ViaGeronimoAdministrationConsoleGACdeploy">Via Geronimo Administration Console<span class="confluence-anchor-link" id="Deployingandundeployingapplications-GACdeploy"></span></h1>
<p>To install a new application by using the Geronimo Administration Console, select <strong>Deployer</strong> on the <strong>Console Navigation</strong> menu on the left side to launch the <strong>Install Applications</strong> portlet. You can choose to start the application automatically right after it is deployed by selecting the <strong>start application after installation</strong> check box. This check box is selected by default.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="deploying-and-undeploying-applications.data/installnewapps.gif"></span></p>

<p>For this example, we use the simple JSP HelloWorld sample that was created in the <a shape="rect" href="quick-start-apache-geronimo-for-the-impatient.html">Quick start - Apache Geronimo for the impatient</a> section. In that section, however, we used the <strong>--inPlace</strong> deployment option and did not need to package the application into a <strong>WAR</strong> file. To create the WAR file type, run the following command from the <strong>&lt;app_home&gt;</strong> directory:</p>

<p><strong><code>jar -cvf HelloWorld.war</code></strong> *</p>

<p>This WAR has already included the deployment plans in the package.</p>

<p>Back in the Geronimo Administration Console, from the <strong>Install New Applications</strong> portlet, click <strong>Browse</strong> to specify the path to <code>HelloWorld.war</code> in the <strong>Archive:</strong> section. Make sure that the <strong>Start application after installation</strong> check box is selected and then click <strong>Install</strong>.</p>

<p>You should see the " <code>The application was successfully deployed.</code> " and " <code>The application was successfully started.</code> " confirmation messages on the top of the portlet.</p>

<p>Another way to verify that the application is successfully installed and started is by checking the <strong>Installed Web Applications</strong> portlet, which is available by selecting <strong>Web App WARs</strong> on the <strong>Console Navigation</strong> menu on the left side. You should see the application listed as <strong>hello</strong> and with the status <strong>running</strong>.</p>

<p>Because the application we installed is <code>HelloWold.<strong>WAR</strong></code>, we use this <strong>Installed Web Applications</strong> portlet to verify the installation. When you install an EAR, you would check the status by using the <strong>Installed Application EARs</strong> portlet available by selecting <strong>Application EARs</strong> on the <strong>Console Navigation</strong> menu on the left side. The installation procedure is the same for both WAR and EAR applications.</p>

<p>To remove the applications by using the Geronimo Administration Console, use either the <strong>Installed Web Applications</strong> portlet or the <strong>Installed Application EARs</strong> portlets depending on the application to uninstall.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="deploying-and-undeploying-applications.data/adminapps.gif"></span></p>

<p>For our example, access the <strong>Installed Web Applications</strong> portlet and click <strong>Uninstall</strong> for the application that has the <strong>Component Name</strong> <strong><code>sample.applications/HelloWorldApp/1.0/war</code></strong>. This will stop the application and then uninstall it.  The confirmation message " <code>Uninstalled application</code> " should be listed at the bottom of the portlet.</p>

<p>These are the basic steps for installing and uninstalling applications by using the Geronimo Administration Console. The following two sections will focus on the command line options.</p>

<h1 id="Deployingandundeployingapplications-ViahotdeploymentHotdeploy">Via hot deployment<span class="confluence-anchor-link" id="Deployingandundeployingapplications-Hotdeploy"></span></h1>

<p>Apache Geronimo has support for <em>Hot Deployment</em>, which means that you can copy an application JAR file into the <code>&lt;geronimo_home&gt;/deploy</code> directory and the application will be deployed automatically. This also works for uninstalling or refreshing applications previously deployed by using this method. Alternatively, you can also copy the <em>directory</em> (unpacked) for the application module instead of copying a single JAR file.</p>

<p>Note that with this deployment method, you have to include the deployment plan in the application package because this method does not support external deployment plans. Also note that applications deployed by using the <a shape="rect" href="deploy.html">Deployer tool</a> or the Geronimo Administration Console are not listed in the <code>&lt;geronimo_home&gt;/deploy</code> directory.</p>

<p>When you copy an application into the <code>deploy</code> directory, for example HelloWorld.war, you will see a confirmation message in the <code>geronimo.log</code>, which is located in the <code>&lt;geronimo_home&gt;/var/log</code> directory.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
11:45:23,500 INFO  [DirectoryHotDeployer] Deploying HelloWorld.war
11:45:23,953 INFO  [DirectoryHotDeployer] Deployed sample.applications/HelloWorldApp/1.0/war @ /hello
</pre>
</div></div>

<p>To remove the application, delete the WAR or EAR file from the <code>deploy</code> directory. When the application has been removed, you should see a confirmation message in the <code>geronimo.log</code>, which is located in the <code>&lt;geronimo_home&gt;/var/log</code> directory.</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
11:46:17,953 INFO  [DirectoryHotDeployer] Undeploying HelloWorld.war
11:46:18,281 INFO  [DirectoryMonitor] Hot deployer notified that an artifact was removed: sample.applications/HelloWorldApp/1.0/war
11:46:18,281 INFO  [DirectoryHotDeployer]     Undeployed sample.applications/HelloWorldApp/1.0/war
</pre>
</div></div>

<h1 id="Deployingandundeployingapplications-ViaDeployertooldeployertool">Via Deployer tool<span class="confluence-anchor-link" id="Deployingandundeployingapplications-deployertool"></span></h1>

<p>You can use the deployer tool to install and uninstall applications by running a command line. In this section, we focuses on just these two tasks for the sample application. The remaining functionality is fully covered in the <a shape="rect" href="deploy.html">Deployer tool</a> section.</p>

<p>To deploy the HelloWorld.war sample application by using the Deployer tool, open a command line window and type the following command from the <code>&lt;geronimo_home&gt;\bin</code> directory:</p>

<p><strong><code>deploy --user system --password manager deploy &lt;app_home&gt;\HelloWorld.war</code></strong></p>

<p>If your application does not include the Geronimo specific deployment plan in the <code>WEB-INF</code> directory, you can still, just like with the Geronimo Administration Console, specify it externally. You just need to add the path and file name of the deployment plan to the previous command.</p>

<p><strong><code>deploy --user system --password manager deploy &lt;app_home&gt;\HelloWorld.war &lt;deployment_plan_home&gt;\plan.xml</code></strong></p>

<p>Note that when specifying the deployment plan externally, you can use any file name to identify that plan. You do not need to use the <code>geronimo-XYZ.xml</code> form. In our example, we do not need to specify any additional deployment plans because we have the Geronimo specific ones already included in the package.</p>

<p>After you deploy the application, you should see a confirmation message similar to the following one with the moduleID <code>sample.applications/HelloWorldApp/1.0/war</code>, which is assigned to this application within your deployment plan. The confirmation message is displayed in the command window, which is different from the case when you deploy by using the Geronimo Administration Console.</p>

<div class="preformatted panel" style="border-style: solid;border-width: 1px;"><div class="preformattedContent panelContent">
<pre>D:\geronimo-tomcat7-javaee6-3.0\bin&gt;deploy --user system --password manager deploy \HelloWorld_1.0\HelloWorld.war
Using GERONIMO_BASE:   D:\geronimo-tomcat7-javaee6-3.0
Using GERONIMO_HOME:   D:\geronimo-tomcat7-javaee6-3.0
Using GERONIMO_TMPDIR: D:\geronimo-tomcat7-javaee6-3.0\var\temp
Using JRE_HOME:        C:\Java\jdk1.6.0_21\\jre
    Deployed sample.applications/HelloWorldApp/1.0/war @ /hello
</pre>
</div></div>

<p>Alternatively, if you have not yet packaged your application, you could use the <strong>--inPlace</strong> option for deploying your application directly from the directory where you are actually developing the application. This option is used to deploy this sample application in the <a shape="rect" href="quick-start-apache-geronimo-for-the-impatient.html">Quick start - Apache Geronimo for the impatient</a> section.</p>

<p>In this case, use this command from the <code>&lt;geronimo_home&gt;\bin</code> directory:</p>

<p><strong><code>deploy --user system --password manager deploy --inPlace &lt;app_home&gt;</code></strong></p>

<p>To uninstall an application, run the following command from the <code>&lt;geronimo_home&gt;\bin</code> directory with the moduleID specified in the deployment plan.</p>

<p><strong><code>deploy --user system --password manager undeploy sample.applications/HelloWorldApp/1.0/war</code></strong></p>

<p>This command will stop the running application and then uninstall it. You should see a confirmation message similar to the following one:</p>

<div class="preformatted panel" style="border-style: solid;border-width: 1px;"><div class="preformattedContent panelContent">
<pre>D:\geronimo-tomcat7-javaee6-3.0\bin&gt;deploy --user system --password manager undeploy sample.applications/HelloWorldApp/1.0/war
Using GERONIMO_BASE:   D:\geronimo-tomcat7-javaee6-3.0
Using GERONIMO_HOME:   D:\geronimo-tomcat7-javaee6-3.0
Using GERONIMO_TMPDIR: D:\geronimo-tomcat7-javaee6-3.0\var\temp
Using JRE_HOME:        C:\Java\jdk1.6.0_21\\jre
    Module sample.applications/HelloWorldApp/1.0/war unloaded.
    Module sample.applications/HelloWorldApp/1.0/war uninstalled.

    Undeployed sample.applications/HelloWorldApp/1.0/war
</pre>
</div></div>

<p>There are other options and commands available for this deployer tool, please visit the <a shape="rect" href="tools-and-commands.html">Tools and commands</a> section for additional details.</p>

<h1 id="Deployingandundeployingapplications-Viagogocommandgogodeploy">Via gogo command<span class="confluence-anchor-link" id="Deployingandundeployingapplications-gogodeploy"></span></h1>

<p>You can also deploy or undeploy applications in Karaf shell. See <a shape="rect" href="gogo-commands-for-geronimo.html">gogo commands for Geronimo</a> for detailed information about deploying and undeploying gogo commands.</p>

<h1 id="Deployingandundeployingapplications-ViaGEPGEPdeploy">Via GEP<span class="confluence-anchor-link" id="Deployingandundeployingapplications-GEPdeploy"></span></h1>

<p>You can also deploy or undeploy application in Eclipse if you have <a shape="rect" href="installing-geronimo-eclipse-plugin.html">Geronimo Eclipse Plugin (GEP)</a> installed. See <a shape="rect" href="deploying-and-debugging-applications-using-gep.html">Deploying and debugging applications using GEP</a> for details about deploying and undeploying applications with GEP.</p>

<h1 id="Deployingandundeployingapplications-ViaClusteringWADIdeploy">Via Clustering<span class="confluence-anchor-link" id="Deployingandundeployingapplications-WADIdeploy"></span></h1>

<p>WADI can now be used to support the replication of HTTP Session state among multiple Geronimo servers. In previous releases of Geronimo, WADI could only be used along with the Jetty configuration of Geronimo. WADI can now be used with Tomcat configurations of Geronimo. In addition to the new session replication support, applications can now be deployed to administratively-defined groups of Geronimo servers. This makes it easier to manage a single application across a number of Geronimo servers. More information and details about clustered deployment can be found at <a shape="rect" href="farming-using-deployment.html">Farming using Deployment</a>.</p>
</div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tr>
          <td align="left" valign="middle" class="footer">
            &nbsp;&nbsp;
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="Delicious" />
            <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">Bookmark this on Delicious</a>
            &nbsp;&nbsp;
            <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="Digg!" />
            <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)+'&amp;topic=programming');">Digg this</a>
            <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Deploying and undeploying applications';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
            &nbsp;&nbsp;
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">Privacy Policy</a>&nbsp;&nbsp;-&nbsp;&nbsp;
            Copyright &#169; 2003-2013, The Apache Software Foundation, Licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0.</a>&nbsp;&nbsp;
          </td>
        </tr>
    </table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  </body>
</html>
