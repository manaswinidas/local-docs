<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=0">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="Substituting one module with another">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Substituting one module with another">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>

  <link href="asset?aid=1" rel="stylesheet" type="text/css">
  <link href="asset?aid=2" rel="stylesheet" type="text/css">
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shCore.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushJava.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushXml.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushPlain.js' type='text/javascript'></script>
  <script src='http://geronimo.apache.org/resources/highlighter/scripts/shBrushBash.js' type='text/javascript'></script>
  
  <script type="text/javascript">
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
  </script>

    <title>Apache Geronimo v3.0文档：用一个模块替换另一个模块</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">Home</a> > <a href="documentation.html">文档</a> > <a href="installing-and-running.html">安装和运行</a> > <a href="initial-configuration.html">初始配置</a> >用<a href="substituting-one-module-with-another.html">一个模块替换另一个模块</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">用一个模块替换另一个模块</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645437"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645437">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645437"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645437">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645437"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645437">新增新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent">
<h2 id="Substitutingonemodulewithanother-Aliasingjarsandmodules">别名罐和模块</h2>

<p>您可能要更改组装Geronimo服务器时使用的jar或插件的版本，或者将它们完全替换为另一个。可以对Geronimo存储库中的任何工件进行此操作，但对于<code>lib</code>目录。我们希望很快将几乎所有罐子从lib中移出，但这还不可能。</p>

<p>回想一下，Geronimo存储库（如maven 2存储库）的结构类似于</p>

<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
/path/like/groupId/artifactId/version/artifactId-version.type
</pre>
</div></div>

<p>工件的结构类似于</p>
<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<pre class="brush: java; gutter: false; theme: Default">
path.like.groupId/artifactId/version/type
</pre>
</div></div>

<p>要安装工件的新版本，通常需要创建一个与该版本相对应的新目录，然后将工件复制到该目录中。有一个管理控制台页面，可帮助您<a shape="rect" href="adding-jars-to-the-geronimo-repository.html">向Geronimo存储库中添加JAR</a> 。</p>

<p>可以在带有或不带有固定版本的情况下指定Geronimo插件中的依赖关系。如果指定了要替换的工件的所有依赖项而没有固定版本，则可以简单地将新工件添加到Geronimo存储库中的适当位置，如果版本比旧工件新，Geronimo将使用它。下次启动使用它的插件。如果工件的版本低于其替换版本，则需要删除旧的工件。</p>

<p>如果使用固定版本指定了至少一个依赖项，或者您正在使用其他工件，则需要更明确地指定替换项。对于主要的Geronimo服务器，它将位于<code>var/config/artifact_aliases.properties</code>文件，对于应用程序客户端，它将位于<code>var/config/client_artifact_aliases.properties</code>文件。</p>

<p>这些文件中条目的格式为<strong>oldartifactid = newartifactId</strong> 。这是两个例子。</p>
<ul><li>左侧可以省略版本，右侧不能省略。这也可以指定相同格式的显式版本。</li><li>请注意，这些示例中的许多示例都有两行用于“相同”替换。
	<ul><li>如果所有依赖项都指定了版本，则只需要带有左侧指定版本的行。</li><li>如果所有依赖项都省略了版本，则只需要没有左侧指定版本的行。目前，是否在geronimo依赖项中指定了版本，有些杂乱无章，而且是随机的。</li></ul>
	</li></ul>


<div class="preformatted panel" style="border-style:solid;border-width:1px"><div class="preformattedHeader panelHeader" style="border-bottom-width:1px;border-bottom-style:solid"><b>artifact-aliases.properties</b></div><div class="preformattedContent panelContent">
<pre>org.apache.geronimo.configs/j2ee-server//car=org.apache.geronimo.configs/j2ee-server/2.2/car
org.apache.geronimo.configs/j2ee-server/2.2/car=org.apache.geronimo.configs/j2ee-server/2.2/car
</pre>
</div></div>

<div class="preformatted panel" style="border-style:solid;border-width:1px"><div class="preformattedHeader panelHeader" style="border-bottom-width:1px;border-bottom-style:solid"><b>client-artifact-aliases.properties</b></div><div class="preformattedContent panelContent">
<pre>org.apache.geronimo.framework/j2ee-system//car=org.apache.geronimo.framework/client-system/2.2/car
org.apache.geronimo.framework/j2ee-system/2.2/car=org.apache.geronimo.framework/client-system/2.2/car
org.apache.geronimo.framework/j2ee-security//car=org.apache.geronimo.configs/client-security/2.2/car
org.apache.geronimo.framework/j2ee-security/2.2/car=org.apache.geronimo.configs/client-security/2.2/car
org.apache.geronimo.configs/j2ee-server//car=org.apache.geronimo.configs/client/2.2/car
org.apache.geronimo.configs/j2ee-server/2.2/car=org.apache.geronimo.configs/client/2.2/car
org.apache.geronimo.configs/transaction//car=org.apache.geronimo.configs/client-transaction/2.2/car
org.apache.geronimo.configs/transaction/2.2/car=org.apache.geronimo.configs/client-transaction/2.2/car
</pre>
</div></div>

<p>虽然您可以手动修改这些文件，但是建议使用的方法是将您的应用程序部署为Geronimo插件，并通过<code>geronimo-plugin.xml</code>描述符，当您使用maven构建插件时会生成该描述符。有一些有关<a shape="rect" href="deploying-and-administering-plugins.html">部署和管理插件的</a>示例。</p>

<p>而且，您还可以使用控制台上的<strong>JAR别名</strong>功能来更新或删除Geronimo服务器上的工件别名。</p></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Substituting one module with another';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>