<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<html lang="en">
  <head>
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <link type="text/css" rel="stylesheet" href="http://geronimo.apache.org/style/default.css">
    <LINK rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <META name="Description" content="Developing a simple Calculator Web service" />
    <META name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Developing a simple Calculator Web service" />
    <META name="Owner" content="dev@geronimo.apache.org" />
    <META name="Robots" content="index, follow" />
    <META name="Security" content="Public" />
    <META name="Source" content="wiki template" />
    <META name="DC.Date" scheme="iso8601" content="2010-05-11" />
    <META name="DC.Language" scheme="rfc1766" content="en" />
    <META name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation" />
    <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0 Documentation: Developing a simple Calculator Web service</title>
  </head>

  <body onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tr>
        <td valing="top" align="left">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" align="left" nowrap>
          <a href="/geronimo"> Home</a> >&nbsp;<a href="documentation.html">Documentation</a>&nbsp;&gt;&nbsp;<a href="developing.html">Developing</a>&nbsp;&gt;&nbsp;<a href="tutorials.html">Tutorials</a>&nbsp;&gt;&nbsp;<a href="developing-web-services.html">Developing Web services</a>&nbsp;&gt;&nbsp;<a href="developing-a-simple-calculator-web-service.html">Developing a simple Calculator Web service</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="hidden" name="oe" value="UTF-8" />
            <input type="hidden" name="domains" value="" />
            <input type="hidden" name="sitesearch" value="" />
            <input type="text" name="q" maxlength="255" value="" />        
            <input type="submit" name="btnG" value="Google Search" />
          </form>
        </td>
      </tr> 
    </table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding: 6px 0px 0px 0px;">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div style="margin: 0px 10px 0px 10px" class="smalltext">Apache Geronimo v3.0</div>
        <div style="margin: 0px 10px 8px 10px"  class="pagetitle">Developing a simple Calculator Web service</div>

        <div class="greynavbar" align="right" style="padding: 2px 10px; margin: 0px;">
<!-- -->         
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645259">
            <img src="http://geronimo.apache.org/images/icons/notep_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Edit Page"></a>
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645259">Edit Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">
            <img src="http://geronimo.apache.org/images/icons/browse_space.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Browse Space"></a>
            <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">Browse Space</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645259">
            <img src="http://geronimo.apache.org/images/icons/add_page_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add Page"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645259">Add Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645259">
            <img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add News"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645259">Add News</a>
<!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>
<p>This tutorial will walk you through building and developing the JAX-WS calculator that ships with the samples package for Geronimo. After completing this tutorial, you should be able to understand how to build simple Web services with Apache Geronimo<br clear="none">
using the Eclipse development environment.</p>

<p>To run this tutorial, as a minimum you will be required to have installed the following prerequisite software.</p>

<ol><li>Sun JDK 6.0+ (J2SE 1.6)</li><li>Eclipse IDE for Java EE Developers, which is platform specific</li><li>Apache Geronimo Eclipse Plugin 2.2.x</li><li>Apache Geronimo Server 2.2.x
<rich-text-body>
<p>Geronimo version 2.2, Java 1.6 runtime, and Eclipse Ganymede are used is used in this tutorial but other versions can be used instead (for example, Geronimo version 2.1, Java 1.5, Eclipse Europa)</p></rich-text-body></li></ol>


<p>Details on installing eclipse are provided in the <a shape="rect" href="development-environment.html">Development environment</a> section. This tutorial is organized in the following sections:</p>
<parameter ac:name="maxLevel">2</parameter><parameter ac:name="type">list</parameter><parameter ac:name="separator">pipe</parameter>

<h1 id="DevelopingasimpleCalculatorWebservice-SettingEclipseforapplicationdevelopment">Setting Eclipse for application development</h1>
<h2 id="DevelopingasimpleCalculatorWebservice-CreateaDynamicWebproject">Create a Dynamic Web project</h2>
<ol><li>Select <strong>File -&gt; New</strong>, select <strong>Other...</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>In the popup window select <strong>Web -&gt; Dynamic Web Project</strong> category and click <strong>Next</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Type in <em>jaxws-calculator</em> as the <em>Project name</em> and select <strong>Next</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject3.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Make sure <strong>Generate Deployment Descriptor</strong> is selected and click <strong>Next</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject5.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Modify the <em>Group Id</em> to: <em>org.apache.geronimo.samples.jws</em> and <em>Artifact Id</em> to: <em>Calculator</em>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject6.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<parameter ac:name="title">Useful Information</parameter><rich-text-body>
<ul><li>Group ID: A name that identifies the group of a module. The default value is default.</li><li>Artifact ID: A name of the module in a group. The default value is &lt;blank&gt;.</li><li>Version: The version of module. The default value is 1.0</li><li>Type: The type of module, such as system module (car), jar module (jar), web archive (war), enterprise archive (ear), and so on. The default value is car. A module is stored inside a repository as repository/groupId/artifactId/version/artifactIdversion.<br clear="none">
type. This repository structure gives a more standardized and easily maintainable<br clear="none">
structure to Geronimo applications.</li></ul>
</rich-text-body></li></ol>



<h2 id="DevelopingasimpleCalculatorWebservice-Axis2configuration">Axis2 configuration</h2>
<ol><li>Select <strong>Window -&gt; Preferences.</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject8.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Select <strong>Web Services</strong> -&gt; <strong>Axis2 Preferences</strong>.</li><li>Under <em>Axis2 Runtime</em> tab, browse to the installation root of the Axis2 runtime installation to be used in Eclipse. Select <strong>OK.</strong>
<parameter ac:name="title">Useful Information</parameter><rich-text-body>
<p>A separate Axis2 runtime is required for use by the Eclipse Axis2 project facet. You can use the pre-integrated Axis2 1.4 binaries (axis-1.4.jar) from the local Geronimo repository under &lt;Geronimo_home&gt;/repository/axis/axis/1.4</p></rich-text-body>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/axis2-runtime.jpg"></span></li><li>Righ click on the <strong>jaxws-calculator</strong> project and select <strong>Properties</strong>, then select <strong>Project Facets</strong>.</li><li>On the next screen check the box for <strong>Axis2 Web Services</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject4.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Select <strong>Finish</strong>.<br clear="none">
This completes the configuration of Eclipse for application development.</li></ol>


<h1 id="DevelopingasimpleCalculatorWebservice-CreatingtheWebservicesimplementationcode">Creating the Web services implementation code</h1>
<p>To implement the <strong>Calculator</strong> Web service we are going to create a package called <em>org.apache.geronimo.samples.jws</em>. This package will contain two classes: a <em>Calculator interface</em>, and a <em>CalculatorService</em> which implements the <strong>Calculator interface</strong>. Let's go step by step with creating the package, interface class and implementation class.</p>
<ol><li>Right click on <strong>Java Resources: src</strong> and select <strong>New -&gt; Package.</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createpackage.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Name the package as <em>org.apache.geronimo.samples.jws</em>. Select <strong>Finish.</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createpackage2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Right click on the new package and Select <strong>New -&gt; Interface</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createinterface.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Name the interface as <em>Calculator</em>. Select <strong>Finish.</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createinterface2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Add the following code to the <strong>Calculator</strong> interface class:
<parameter ac:name="borderStyle">solid</parameter><parameter ac:name="title">Calculator.class</parameter><plain-text-body>
package org.apache.geronimo.samples.jws;

import javax.jws.WebService;
import javax.jws.WebMethod;
import javax.jws.WebParam;

@WebService(name="CalculatorPortType",
            targetNamespace = "http://jws.samples.geronimo.apache.org")
public interface Calculator {

    @WebMethod
    public int add(@WebParam(name = "value1") int value1,
                   @WebParam(name = "value2") int value2);

}
</plain-text-body></li><li>Right click on the package <strong>org.apache.geronimo.samples.jws</strong> and select <strong>New -&gt; Class</strong>.</li><li>Name the class <em>CalculatorService</em>.</li><li>Accept all the defaults and Select <strong>Finish.</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createClass.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Add the following code to <strong>CalculatorService</strong> class:
<parameter ac:name="borderStyle">solid</parameter><parameter ac:name="title">CalculatorService.class</parameter><plain-text-body>
package org.apache.geronimo.samples.jws;

import javax.annotation.Resource;
import javax.jws.WebService;
import javax.xml.ws.WebServiceContext;

@WebService(serviceName = "Calculator",
            portName="CalculatorPort",
            endpointInterface = "org.apache.geronimo.samples.jws.Calculator",
            targetNamespace = "http://jws.samples.geronimo.apache.org"
            )
public class CalculatorService implements Calculator {

    @Resource
    private WebServiceContext context;

    public int add(int value1, int value2) {
        System.out.println("User Principal: " + context.getUserPrincipal());
        return value1 + value2;
    }
}
</plain-text-body></li></ol>


<p>Let us try to understand each annotation.</p>
<ul><li><strong>@WebService</strong>- This annotation can be used with a Java class as well as with interface. In our case we used it with both interface as well as the POJO. This annotation declares the POJO as a WebService. @WebService annotation is utilized in generating the WSDL file.
	<ul><li><strong>serviceName</strong> is same as the WSDL element service</li><li><strong>name</strong> is same as the WSDL element &lt;portType name&gt;</li><li><strong>endpointInterface</strong> suggests the user defined name for the Service Endpoint Interface (SEI).</li><li><strong>portName</strong> is the element portName</li><li><strong>targetNamespace</strong> is the XML namespace of the WSDL and some of the XML elements generated from the WebService</li></ul>
	</li><li><strong>@WebMethod</strong>- This annotation is applied to a method to expose it as a WebService method. In case you have multiple methods you can use this annotation to selectively expose methods as WebService method. If you donot use this annotation all the public methods will be exposed as WebService.</li><li><strong>@WebParam</strong>- This annotation is used along with @WebMethod annotation to define the WebService. It is used to customize parameter used in the message part of the WSDL.</li></ul>


<p>This completes the development of the Web Service Implementation code.</p>

<h1 id="DevelopingasimpleCalculatorWebservice-GeneratingtheWSDLfortheWebservice">Generating the WSDL for the Web service</h1>
<p>Geronimo provides a new jaxws-tools.bat which helps in generating the WSDL file from service endpoint interface.</p>
<ul><li>Export the source files to a jar as shown in the following three figures.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/souirce_export.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/souirce_export2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/souirce_export1.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Open a command prompt and point it to the <strong>bin</strong> directory of server installation.
	<ol><li>Run the command:
<parameter ac:name="borderStyle">solid</parameter><parameter ac:name="title">WSDL Generation command</parameter><plain-text-body>
Administrator@T60J9:/&gt; jaxws-tools.bat wsgen -classpath C:/WSDL/source.jar -d C:/WSDL/ -wsdl:soap1.1 org.apache.geronimo.samples.jws.CalculatorService
</plain-text-body>
In this command <strong>-classpath</strong> is used to set the <strong>source.jar</strong> exported from Eclipse in the classpath, <strong>-d</strong> defines the location where all the generated artifacts will be placed, <strong>-wsdl:soap1.1</strong> suggests a WSDL generation following soap1.1 protocol, and <strong>org.apache.geronimo.samples.jws.CalculatorService</strong> is the SEI used to generate the WSDL.</li><li>Once the above command is run <code>Calculator_schema1.xsd</code> and <code>Calculator.wsdl</code> will be generated at <code>C:/WSDL/</code>. <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Rename <code>Calculator.wsdl</code> as <code>CalculatorService.wsdl</code> and add both the generated files to WEB-INF directory of the project.</li></ol>
	</li></ul>


<h1 id="DevelopingasimpleCalculatorWebservice-DevelopingaWebclientforCalculator">Developing a Web client for Calculator</h1>
<p>This section will take you through the creation of two JSP's: <code>index.jsp</code> and <code>result.jsp</code>. <code>index.jsp</code> will prompt the user to enter two whole number values to add together. After submitting the form, the action will be forwarded to the <code>result.jsp</code>, which will call the <strong>Calculator</strong> Web Service.</p>
<ol><li>Right click on the Web Content folder and Select <strong>New --&gt; JSP</strong>. <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Name the JSP as <em>index.jsp</em> and select <strong>Finish.</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/webclientjsp.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Add the following code to <code>index.jsp</code>:
<parameter ac:name="borderStyle">solid</parameter><parameter ac:name="title">index.jsp</parameter><plain-text-body>
&lt;%@ page
import="java.net.URL,javax.xml.namespace.QName,javax.xml.ws.Service,org
.apache.geronimo.samples.jws.Calculator"%&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"&gt;
&lt;head&gt;
&lt;title&gt;Calculator&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form action="result.jsp"&gt;
Please enter 2 whole numbers to add: &lt;input type="text"
name="value1"&gt; + &lt;input type="text" name="value2"&gt; &lt;input type="submit"
value="="&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</plain-text-body></li><li>Right click on the Web Content folder and Select <strong>New -&gt; JSP</strong>. <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Name the JSP as <em>result.jsp</em> and select <strong>Finish.</strong> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Add the following code to <code>result.jsp</code>:
<parameter ac:name="borderStyle">solid</parameter><parameter ac:name="title">result.jsp</parameter><plain-text-body>
&lt;%@ page
import="java.net.URL,javax.xml.namespace.QName,javax.xml.ws.Service,org
.apache.geronimo.samples.jws.Calculator"%&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"&gt;
&lt;head&gt;
&lt;title&gt;Calculator Result&lt;/title&gt;
&lt;/head&gt;
&lt;%
int value1 = 0;
int value2 = 0;
int sum = 0;
try {
System.out.println( request.getParameter( "value1" ) + " " +
request.getParameter( "value2" ) );
value1 = Integer.parseInt( request.getParameter( "value1" ) );
value2 = Integer.parseInt( request.getParameter( "value2" ) );
URL url = new URL("http://localhost:8080/jaxws-calculator-
1.0/calculator?wsdl");
QName qname = new
QName("http://jws.samples.geronimo.apache.org", "Calculator");
Service service = Service.create(url, qname);
Calculator calc =
(Calculator)service.getPort(Calculator.class);
sum = calc.add(value1, value2);
} catch ( Exception e ) {
e.printStackTrace();
}
%&gt;
&lt;body&gt;
The result is: &lt;%=value1%&gt;+&lt;%=value2%&gt;=&lt;%=sum%&gt;
&lt;br&gt;
&lt;a href="index.jsp"&gt;Back&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</plain-text-body>
This finishes the development of Web client.</li></ol>


<h1 id="DevelopingasimpleCalculatorWebservice-SettinguptheDeploymentDescriptorandDeploymentPlan">Setting up the Deployment Descriptor and Deployment Plan</h1>
<ol><li>Double click <strong>WEB-INF/web.xml</strong> and add the following code:
<parameter ac:name="borderStyle">solid</parameter><parameter ac:name="title">web.xml</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns:calc="urn:geronimo-samples-jws"
xmlns="http://java.sun.com/xml/ns/javaee"
version="2.5"&gt;
&lt;servlet&gt;
&lt;display-name&gt;CalculatorService&lt;/display-name&gt;
&lt;servlet-name&gt;CalculatorService&lt;/servlet-name&gt;
&lt;servlet-class&gt;
org.apache.geronimo.samples.jws.CalculatorService
&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
&lt;servlet-name&gt;CalculatorService&lt;/servlet-name&gt;
&lt;url-pattern&gt;/calculator&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;service-ref&gt;
            &lt;service-ref-name&gt;services/Calculator&lt;/service-ref-name&gt;
            &lt;service-interface&gt;javax.xml.ws.Service&lt;/service-interface&gt;
            &lt;wsdl-file&gt;WEB-INF/CalculatorService.wsdl&lt;/wsdl-file&gt;
        &lt;/service-ref&gt;
&lt;/web-app&gt;
</plain-text-body></li><li>Similarly double click <strong>geronimo-web.xml</strong> and add the following code:
<parameter ac:name="borderStyle">solid</parameter><parameter ac:name="title">geronimo-web.xml</parameter><plain-text-body>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web:web-app xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2" 
             xmlns:conn="http://geronimo.apache.org/xml/ns/j2ee/connector-1.2" 
             xmlns:name="http://geronimo.apache.org/xml/ns/naming-1.2" 
             xmlns:ejb="http://openejb.apache.org/xml/ns/openejb-jar-2.2" 
             xmlns:pkgen="http://openejb.apache.org/xml/ns/pkgen-2.1" 
             xmlns:app="http://geronimo.apache.org/xml/ns/j2ee/application-2.0" 
             xmlns:sec="http://geronimo.apache.org/xml/ns/security-2.0" 
             xmlns:web="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1" 
             xmlns:pers="http://java.sun.com/xml/ns/persistence" 
             xmlns:client="http://geronimo.apache.org/xml/ns/j2ee/application-client-2.0"&gt;

    &lt;dep:environment&gt;
        &lt;dep:moduleId&gt;
            &lt;dep:groupId&gt;org.apache.geronimo.samples.jws&lt;/dep:groupId&gt;
            &lt;dep:artifactId&gt;Calculator&lt;/dep:artifactId&gt;
            &lt;dep:version&gt;1.0&lt;/dep:version&gt;
            &lt;dep:type&gt;car&lt;/dep:type&gt;
        &lt;/dep:moduleId&gt;
        &lt;dep:dependencies&gt;
        &lt;/dep:dependencies&gt;
    &lt;/dep:environment&gt;

    &lt;context-root&gt;/jaxws-calculator-1.0&lt;/context-root&gt;

    &lt;service-ref&gt;
        &lt;service-ref-name&gt;services/Calculator&lt;/service-ref-name&gt;
        &lt;port&gt;
            &lt;port-name&gt;CalculatorPort&lt;/port-name&gt;
            &lt;protocol&gt;http&lt;/protocol&gt;
            &lt;host&gt;localhost&lt;/host&gt;
            &lt;port&gt;8080&lt;/port&gt;
            &lt;uri&gt;/jaxws-calculator/calculator&lt;/uri&gt;
        &lt;/port&gt;
    &lt;/service-ref&gt;
&lt;/web:web-app&gt;
</plain-text-body></li></ol>


<h1 id="DevelopingasimpleCalculatorWebservice-DeployandRun">Deploy and Run</h1>
<ol><li>Right click on <strong>jaxws-calculator</strong> project. Select <strong>Run As -&gt; Run On Server</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>On the next window select Apache Geronimo V2.2 and Select <strong>Finish.</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Once the application is deployed on the server launch a browser and run the following URL <a shape="rect" class="external-link" href="http://localhost:8080/jaxws-calculator-1.0/index.jsp" rel="nofollow">http://localhost:8080/jaxws-calculator-1.0/index.jsp</a>.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run3.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Give the values as <strong>5</strong> and <strong>7</strong> and then select the <strong>=</strong> button:<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run4.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>The result is <strong>12</strong> as shown in the figure:<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run5.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li></ol></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tr>
          <td align="left" valign="middle" class="footer">
            &nbsp;&nbsp;
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="Delicious" />
            <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">Bookmark this on Delicious</a>
            &nbsp;&nbsp;
            <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="Digg!" />
            <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)+'&amp;topic=programming');">Digg this</a>
            <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Developing a simple Calculator Web service';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
            &nbsp;&nbsp;
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">Privacy Policy</a>&nbsp;&nbsp;-&nbsp;&nbsp;
            Copyright &#169; 2003-2013, The Apache Software Foundation, Licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0.</a>&nbsp;&nbsp;
          </td>
        </tr>
    </table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  </body>
</html>
