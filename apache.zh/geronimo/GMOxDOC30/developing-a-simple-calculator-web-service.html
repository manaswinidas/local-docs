<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=0">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="Developing a simple Calculator Web service">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Developing a simple Calculator Web service">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0文档：开发一个简单的计算器Web服务</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">主页</a> > <a href="documentation.html">文档</a> > <a href="developing.html">开发</a> > <a href="tutorials.html">教程</a> > <a href="developing-web-services.html">开发Web服务</a> > <a href="developing-a-simple-calculator-web-service.html">开发简单的Calculator Web服务</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">开发一个简单的Calculator Web服务</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645259"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645259">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645259"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645259">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645259"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645259">添加新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>
<p>本教程将引导您构建和开发Geronimo样本包附带的JAX-WS计算器。完成本教程之后，您应该能够了解如何使用Apache Geronimo构建简单的Web服务。<br clear="none">使用Eclipse开发环境。</p>

<p>要运行本教程，至少需要您安装以下必备软件。</p>

<ol><li>Sun JDK 6.0+（J2SE 1.6）</li><li>面向特定平台的Java EE开发人员的Eclipse IDE</li><li>Apache Geronimo Eclipse插件2.2.x</li><li>Apache Geronimo服务器2.2.x <rich-text-body>
<p>本教程使用了Geronimo 2.2，Java 1.6运行时和Eclipse Ganymede，但是可以使用其他版本（例如，Geronimo 2.1，Java 1.5，Eclipse Europa）。</p></rich-text-body></li></ol>


<p><a shape="rect" href="development-environment.html">开发环境</a>部分中提供了有关安装Eclipse的详细信息。本教程分为以下几节：</p>
<parameter ac:name="maxLevel">2</parameter> <parameter ac:name="type">清单</parameter> <parameter ac:name="separator">管</parameter>

<h1 id="DevelopingasimpleCalculatorWebservice-SettingEclipseforapplicationdevelopment">设置Eclipse进行应用程序开发</h1>
<h2 id="DevelopingasimpleCalculatorWebservice-CreateaDynamicWebproject">创建一个动态Web项目</h2>
<ol><li>选择<strong>文件->新建</strong> ，选择<strong>其他...。</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在弹出窗口中，选择<strong>Web-> Dynamic Web Project</strong>类别，然后单击<strong>Next</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>输入<em>jaxws-calculator</em>作为<em>项目名称，</em>然后选择<strong>Next</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject3.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>确保选择了<strong>Generate Deployment Descriptor</strong> ，然后单击<strong>Next</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject5.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将“ <em>组ID”</em>修改为： <em>org.apache.geronimo.samples.jws</em> ，将“ <em>工件ID”修改</em>为： <em>Calculator</em> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject6.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<parameter ac:name="title">有用的信息</parameter> <rich-text-body>
<ul><li>组ID：标识模块组的名称。默认值为default。</li><li>工件ID：组中模块的名称。默认值为<blank>。</blank></li><li>版本：模块的版本。默认值为1.0</li><li>类型：模块的类型，例如系统模块（car），jar模块（jar），Web归档文件（war），企业归档文件（ear）等。默认值为car。模块以存储库/ groupId / artifactId / version / artifactIdversion的形式存储在存储库中。<br clear="none">类型。该存储库结构提供了更加标准化和易于维护的<br clear="none">Geronimo应用程序的结构。</li></ul>
</rich-text-body></li></ol>



<h2 id="DevelopingasimpleCalculatorWebservice-Axis2configuration">Axis2配置</h2>
<ol><li>选择<strong>窗口->首选项。</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject8.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>选择<strong>Web服务</strong> -> <strong>Axis2首选项</strong> 。</li><li>在“ <em>Axis2运行时”</em>选项卡下，浏览到要在Eclipse中使用的Axis2运行时安装的安装根目录。选择<strong>确定。</strong> <parameter ac:name="title">有用的信息</parameter> <rich-text-body>
<p>Eclipse Axis2项目构面需要使用单独的Axis2运行时。您可以使用本地Geronimo存储库中<geronimo_home>/repository/axis/axis/1.4</geronimo_home>下的预集成Axis2 1.4二进制文件（axis-1.4.jar）。</p></rich-text-body>
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/axis2-runtime.jpg"></span></li><li>右键单击<strong>jaxws-calculator</strong>项目并选择<strong>Properties</strong> ，然后选择<strong>Project Facets</strong> 。</li><li>在下一个屏幕上，选中<strong>Axis2 Web Services</strong>框。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/CreateProject4.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>选择<strong>完成</strong> 。<br clear="none">这就完成了用于应用程序开发的Eclipse配置。</li></ol>


<h1 id="DevelopingasimpleCalculatorWebservice-CreatingtheWebservicesimplementationcode">创建Web服务实现代码</h1>
<p>为了实现<strong>Calculator</strong> Web服务，我们将创建一个名为<em>org.apache.geronimo.samples.jws</em>的包。此包将包含两类：一<em>计算器接口</em>和<em>CalculatorService的</em>一个实现<strong>计算器界面</strong> 。让我们逐步创建包，接口类和实现类。</p>
<ol><li>右键单击<strong>Java Resources：src，</strong>然后选择<strong>New-> Package。</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createpackage.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将包命名为<em>org.apache.geronimo.samples.jws</em> 。选择<strong>完成。</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createpackage2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>右键单击新软件包，然后选择“ <strong>新建->接口”</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createinterface.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将接口命名为<em>Calculator</em> 。选择<strong>完成。</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createinterface2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<strong>Calculator</strong>接口类： <parameter ac:name="borderStyle">solid</parameter> <parameter ac:name="title">Calculator.class</parameter> <plain-text-body>package org.apache.geronimo.samples.jws;导入javax.jws。网络服务;导入javax.jws。Web方法；导入javax.jws。Web帕拉姆； @WebService（name =“ CalculatorPortType”，targetNamespace =“ http://jws.samples.geronimo.apache.org”）公共接口计算器{@WebMethod public int add（@WebParam（name =“ value1”）int value1，@ WebParam（name =“ value2”）int value2）; }</plain-text-body></li><li>右键单击<strong>org.apache.geronimo.samples.jws</strong>包，然后选择<strong>New-</strong> <strong>> Class</strong> 。</li><li>将类命名为<em>CalculatorService</em> 。</li><li>接受所有默认设置，然后选择<strong>完成。</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/createClass.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<strong>CalculatorService</strong>类： <parameter ac:name="borderStyle">solid</parameter> <parameter ac:name="title">CalculatorService.class</parameter> <plain-text-body>package org.apache.geronimo.samples.jws;导入javax.annotation。资源；导入javax.jws。网络服务;导入javax.xml.ws。WebServiceContext; @WebService（serviceName =“ Calculator”，portName =“ CalculatorPort”，endpointInterface =“ org.apache.geronimo.samples.jws。计算器”，targetNamespace =“ http://jws.samples.geronimo.apache.org”）公共类CalculatorService实现计算器{@Resource private WebServiceContext上下文； public int add（int value1，int value2）{System.out.println（ “用户主体：” + context.getUserPrincipal（））;返回值1 +值2;}}</plain-text-body></li></ol>


<p>让我们尝试了解每个注释。</p>
<ul><li><strong>@WebService-</strong>此注释可以与Java类以及接口一起使用。在我们的案例中，我们将其与接口以及POJO一起使用。该注释将POJO声明为WebService。@WebService批注用于生成WSDL文件。
	<ul><li><strong>serviceName</strong>与WSDL元素服务相同</li><li><strong>名称</strong>与WSDL元素相同<porttype name=""></porttype></li><li><strong>endpointInterface</strong>建议用户定义服务端点接口（SEI）的名称。</li><li><strong>portName</strong>是元素portName</li><li><strong>targetNamespace</strong>是WSDL的XML名称空间，也是从WebService生成的一些XML元素</li></ul>
	</li><li><strong>@WebMethod-</strong>此注释应用于方法，以将其公开为WebService方法。如果您有多个方法，则可以使用此批注将方法选择性地公开为WebService方法。如果不使用此批注，则所有公共方法都将公开为WebService。</li><li><strong>@WebParam-</strong>此注释与@WebMethod注释一起使用以定义WebService。它用于定制WSDL消息部分中使用的参数。</li></ul>


<p>这样就完成了Web服务实现代码的开发。</p>

<h1 id="DevelopingasimpleCalculatorWebservice-GeneratingtheWSDLfortheWebservice">为Web服务生成WSDL</h1>
<p>Geronimo提供了一个新的jaxws-tools.bat，它有助于从服务端点接口生成WSDL文件。</p>
<ul><li>如下图所示，将源文件导出到jar中。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/souirce_export.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/souirce_export2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/souirce_export1.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>打开命令提示符，并将其指向服务器安装的<strong>bin</strong>目录。
	<ol><li>运行命令： <parameter ac:name="borderStyle">solid</parameter> <parameter ac:name="title">WSDL Generation命令</parameter> <plain-text-body>Administrator @ T60J9：/> jaxws-tools.bat wsgen -classpath C：/WSDL/source.jar -d C：/ WSDL / -wsdl：soap1.1 org.apache.geronimo.samples .jws。CalculatorService</plain-text-body>在此命令中， <strong>-classpath</strong>用于在类路径中设置从Eclipse导出的<strong>source.jar</strong> ， <strong>-d</strong>定义将放置所有生成的工件的位置， <strong>-wsdl：soap1.1</strong>建议遵循soap1.1协议生成WSDL ，以及<strong>org.apache.geronimo.samples.jws。CalculatorService</strong>是用于生成WSDL的SEI。</li><li>一旦上述命令运行<code>Calculator_schema1.xsd</code>和<code>Calculator.wsdl</code>将在生成<code>C:/WSDL/</code> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>改名<code>Calculator.wsdl</code>如<code>CalculatorService.wsdl</code>并将两个生成的文件添加到项目的WEB-INF目录。</li></ol>
	</li></ul>


<h1 id="DevelopingasimpleCalculatorWebservice-DevelopingaWebclientforCalculator">为计算器开发Web客户端</h1>
<p>本节将引导您完成两个JSP的创建： <code>index.jsp</code>和<code>result.jsp</code> 。 <code>index.jsp</code>将提示用户输入两个整数值并将它们相加。提交表格后，该操作将转发给<code>result.jsp</code> ，它将调用<strong>Calculator</strong> Web Service。</p>
<ol><li>右键单击Web Content文件夹，然后选择<strong>New-> JSP</strong> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将JSP命名为<em>index.jsp，</em>然后选择<strong>Finish。</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/webclientjsp.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<code>index.jsp</code> ： <parameter ac:name="borderStyle">固定</parameter> <parameter ac:name="title">index.jsp</parameter> <plain-text-body><％@页面import =“ java.net。URL，javax.xml.namespace。QName，javax.xml.ws。Service，org .apache.geronimo.samples.jws。计算器“％>

<title>计算器</title>


<form action="result.jsp">请输入2个整数以添加：<input type="text" name="value1">+<input type="text" name="value2"> <input type="submit" value="=">
</form>


</plain-text-body></li><li>右键单击Web Content文件夹，然后选择<strong>New-> JSP</strong> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将JSP命名为<em>result.jsp，</em>然后选择<strong>Finish。</strong> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<code>result.jsp</code> ： <parameter ac:name="borderStyle">可靠的</parameter> <parameter ac:name="title">result.jsp</parameter> <plain-text-body><％@页面import =“ java.net。URL，javax.xml.namespace。QName，javax.xml.ws。Service，org .apache.geronimo.samples.jws。计算器“％>

<title>计算器结果</title>
<％int value1 = 0; int value2 = 0; int sum = 0;尝试{System.out.println（request.getParameter（“ value1”）+“” + request.getParameter（“ value2”））; value1 = Integer.parseInt（request.getParameter（“ value1”））; value2 = Integer.parseInt（request.getParameter（“ value2”））; URL url =新URL（“ http：// localhost：8080 / jaxws-calculator- 1.0 / calculator？wsdl“）; QName qname =新的QName（” http://jws.samples.geronimo.apache.org“，” Calculator“）;服务service = Service.create（url，qname）;计算器calc =（Calculator）服务.getPort（Calculator.class）; sum = calc.add（value1，value2）;} catch（Exception e）{e.printStackTrace（）;}％>结果是：<％= value1％> + <％= value2％> = <％= sum％><br>
<a href="index.jsp">背部</a>


</plain-text-body>这样就完成了Web客户端的开发。</li></ol>


<h1 id="DevelopingasimpleCalculatorWebservice-SettinguptheDeploymentDescriptorandDeploymentPlan">设置部署描述符和部署计划</h1>
<ol><li>双击<strong>WEB-INF / web.xml</strong>并添加以下代码： <parameter ac:name="borderStyle">solid</parameter> <parameter ac:name="title">web.xml</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><web-app xmlns:calc="urn:geronimo-samples-jws" xmlns="http://java.sun.com/xml/ns/javaee" version="2.5"><servlet><display-name>CalculatorService</display-name> <servlet-name>CalculatorService</servlet-name> <servlet-class>org.apache.geronimo.samples.jws。CalculatorService</servlet-class></servlet> <servlet-mapping><servlet-name>CalculatorService</servlet-name> <url-pattern>/计算器</url-pattern></servlet-mapping> <service-ref><service-ref-name>服务/计算器</service-ref-name> <service-interface>javax.xml.ws。服务</service-interface> <wsdl-file>WEB-INF / CalculatorService.wsdl</wsdl-file>
        </service-ref>
</web-app>
<!--?xml--></plain-text-body></li><li>同样，双击<strong>geronimo-web.xml</strong>并添加以下代码： <parameter ac:name="borderStyle">solid</parameter> <parameter ac:name="title">geronimo-web.xml</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><web:web-app xmlns:dep="http://geronimo.apache.org/xml/ns/deployment-1.2" xmlns:conn="http://geronimo.apache.org/xml/ns/j2ee/connector-1.2" xmlns:name="http://geronimo.apache.org/xml/ns/naming-1.2" xmlns:ejb="http://openejb.apache.org/xml/ns/openejb-jar-2.2" xmlns:pkgen="http://openejb.apache.org/xml/ns/pkgen-2.1" xmlns:app="http://geronimo.apache.org/xml/ns/j2ee/application-2.0" xmlns:sec="http://geronimo.apache.org/xml/ns/security-2.0" xmlns:web="http://geronimo.apache.org/xml/ns/j2ee/web-2.0.1" xmlns:pers="http://java.sun.com/xml/ns/persistence" xmlns:client="http://geronimo.apache.org/xml/ns/j2ee/application-client-2.0"><dep:environment><dep:moduleid><dep:groupid>org.apache.geronimo.samples.jws</dep:groupid> <dep:artifactid>Calculator</dep:artifactid> <dep:version>1.0</dep:version> <dep:type>car</dep:type></dep:moduleid> <dep:dependencies>
        </dep:dependencies></dep:environment> <context-root>/jaxws-calculator-1.0</context-root> <service-ref><service-ref-name>服务/计算器</service-ref-name> <port><port-name>CalculatorPort</port-name> <protocol>http</protocol> <host>本地主机</host> <port>8080</port> <uri>/ jaxws-calculator / calculator</uri></port></service-ref></web:web-app><!--?xml--></plain-text-body></li></ol>


<h1 id="DevelopingasimpleCalculatorWebservice-DeployandRun">部署并运行</h1>
<ol><li>右键单击<strong>jaxws-calculator</strong>项目。选择<strong>运行方式->在服务器上运行</strong> 。<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在下一个窗口中，选择Apache Geronimo V2.2，然后选择<strong>Finish。</strong><br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run2.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在服务器上部署应用程序后，启动浏览器并运行以下URL <a shape="rect" class="external-link" href="http://localhost:8080/jaxws-calculator-1.0/index.jsp" rel="nofollow">http：// localhost：8080 / jaxws-calculator-1.0 / index.jsp</a> 。<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run3.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将值分别指定为<strong>5</strong>和<strong>7</strong> ，然后选择<strong>=</strong>按钮：<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run4.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>结果为<strong>12</strong> ，如图所示：<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-calculator-web-service.data/Run5.png"></span><br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li></ol></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Developing a simple Calculator Web service';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>