<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=0">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="Developing JAX-RPC Web services">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Developing JAX-RPC Web services">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0文档：开发JAX-RPC Web服务</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">主页</a> > <a href="documentation.html">文档</a> > <a href="developing.html">开发</a> > <a href="tutorials.html">教程</a> > <a href="developing-web-services.html">开发Web服务</a> > <a href="developing-jax-rpc-web-services.html">开发JAX-RPC Web服务</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">开发JAX-RPC Web服务</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645255"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645255">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645255"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645255">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645255"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645255">添加新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>
<p>本教程将带您完成在Apache Geronimo中开发，部署和测试Web服务所需的步骤。完成本教程之后，您应该能够理解如何使用Eclipse开发环境在Apache Geronimo中开发简单的，与JAX-RPC兼容的Web服务。我们也不会非常关注开发JAX-RPC服务的客户端，因为生成的客户端存根非常接近JAX-WS。</p>

<parameter ac:name="title">JAX-WS Web服务</parameter> <rich-text-body>
<p>如果您不熟悉Web服务，则强烈建议您使用JAX-WS 2.0而不是JAX-RPC。 JAX-WS 2.0具有许多JAX-RPC不支持的新功能。<br class="atl-forced-newline" clear="none">从理论上讲，JAX-RPC映射到J2EE 1.4，而JAX-WS映射到Java EE 5。因此，JAX-WS充分利用了注释和其他新功能的全部潜能，从而极大地简化了应用程序的开发。</p></rich-text-body> <parameter ac:name="title">从JAX-RPC迁移到JAX-WS</parameter> <rich-text-body>
<p>如果您正在寻找如何从JAX-RPC迁移到JAX-WS，请参考以下教程<a shape="rect" href="migrating-from-jax-rpc-to-jax-ws.html">从JAX-RPC迁移到JAX-WS</a> 。<br clear="none">上面的教程没有详细介绍为什么需要这些更改以及其背后的概念，它只是一条快速注释，可以帮助您处理将应用程序从旧的Web服务堆栈迁移到新的堆栈。</p></rich-text-body> 

<p>要运行本教程，至少需要您安装以下必备软件。</p>

<ol><li>Sun JDK 6.0+（J2SE 1.6）</li><li>面向特定平台的Java EE开发人员的Eclipse IDE</li><li>Apache Geronimo Eclipse插件2.1.x</li><li>Apache Geronimo服务器2.1.x <rich-text-body>
<p>在本教程中使用了Geronimo 2.1.x版，Java 1.5运行时和Eclipse Ganymede，但是可以使用其他版本（例如Geronimo 2.2版，Java 1.6，Eclipse Europa）</p></rich-text-body></li></ol>


<p><a shape="rect" href="development-environment.html">开发环境</a>部分中提供了有关安装Eclipse的详细信息。本教程将带您完成以下步骤：</p>
<parameter ac:name="maxLevel">2</parameter> <parameter ac:name="type">清单</parameter> <parameter ac:name="separator">管</parameter>

<h1 id="DevelopingJAX-RPCWebservices-SettingupEclipseforapplicationdevelopment">设置Eclipse以进行应用程序开发</h1>
<ol><li>选择<strong>文件->新建->项目</strong> 。
<br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/1.gif"></span> <br class="atl-forced-newline" clear="none"> </li><li>在弹出窗口中，选择“ <strong>Web”->“ Dynamic Web Project”</strong>类别，然后单击“ <strong>下一步”。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/2.gif"></span> <br class="atl-forced-newline" clear="none"> </li><li>键入<em>jaxrpc-converter</em>作为“ <strong>项目名称”</strong> ，然后单击“ <strong>下一步”</strong>两次。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/3.gif"></span> <br class="atl-forced-newline" clear="none"> </li><li>将<em>组ID</em>修改为<em>org.apache.geronimo.samples.jaxrpc</em> ，并将<em>工件ID修改</em>为<em>jaxrpc-converter</em> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/4.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>点击<strong>完成</strong> 。</li></ol>


<p>这就完成了用于应用程序开发的Eclipse配置。</p>

<h1 id="DevelopingJAX-RPCWebservices-CreatingtheWebservicesimplementationcode">创建Web服务实现代码</h1>
<ol><li>右键单击<strong>JavaRsources：src</strong>并选择<strong>New-</strong> <strong>> Package</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/5.gif"></span> <br class="atl-forced-newline" clear="none"> </li><li>将包命名为<em>org.apache.geronimo.samples.jaxrpc</em>并单击<strong>Finish</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/6.gif"></span> <br class="atl-forced-newline" clear="none"> </li><li>右键单击新软件包，然后选择“ <strong>新建->接口”</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/7.gif"></span> <br class="atl-forced-newline" clear="none"> </li><li>将接口命名为<em>Converter</em> ，然后单击<strong>Finish</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/8.gif"></span> <br class="atl-forced-newline" clear="none"> </li><li>将以下代码添加到<strong>Converter</strong>接口类中： <parameter ac:name="borderStyle">solid</parameter> <parameter ac:name="title">Converter.java</parameter> <plain-text-body>package org.apache.geronimo.samples.jaxrpc;导入java.math。BigDecimal;导入java.rmi。远程;导入java.rmi。RemoteException;公共接口转换器扩展了Remote {public BigDecimal dollarToRupees（BigDecimal dollars）引发RemoteException;公共BigDecimal rupeesToEuro（BigDecimal rupees）引发RemoteException; }</plain-text-body> </li><li>右键单击新软件包，然后选择<strong>New-> Class</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/9.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将类命名为<em>ConverterImpl</em> ，然后单击<strong>Finish</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/10.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<strong>ConverterImpl</strong>类： <parameter ac:name="borderStyle">坚固的</parameter> <parameter ac:name="title">ConverterImpl.java</parameter> <plain-text-body>包org.apache.geronimo.samples.jaxrpc;导入java.math。BigDecimal;导入java.rmi。RemoteException;公共类ConverterImpl实现Converter {private BigDecimal rupeeRate = new BigDecimal（“ 40.58”）;私人BigDecimal euroRate = new BigDecimal（“ 0.018368”）;公开BigDecimal dollarToRupees（BigDecimal dollars）引发RemoteException {BigDecimal结果= dollars.multiply（rupeeRate）;返回result.setScale（2，BigDecimal。围捕）; }公开BigDecimal rupeesToEuro（BigDecimal rupees）引发RemoteException {BigDecimal结果= rupees.multiply（euroRate）;返回result.setScale（2，BigDecimal。围捕）; }}</plain-text-body></li></ol>


<p>这样就完成了Web服务实现代码的开发。</p>
<parameter ac:name="title">服务端点要求</parameter> <rich-text-body>
<p>根据JAX-RPC规范，RPC端点应扩展远程类。</p></rich-text-body>

<h1 id="DevelopingJAX-RPCWebservices-Settingupthedeploymentdescriptoranddeploymentplan">设置部署描述符和部署计划</h1>

<parameter ac:name="title">WSDL文件</parameter> <rich-text-body>
<p>对于JAX-WS服务，Geronimo在部署时自动创建WSDL文件。但是，没有用于RPC服务的功能。</p></rich-text-body> 
<h2 id="DevelopingJAX-RPCWebservices-Settingupthedeploymentdescriptor">设置部署描述符</h2>
<p>展开<strong>WEB-INF</strong>目录，并将以下代码添加到<code>web.xml</code> ：</p>
<parameter ac:name="borderStyle">固定的</parameter> <parameter ac:name="title">web.xml</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><web-app id="WebApp_ID" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemalocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5"><display-name>jaxrpc转换器</display-name> <servlet><display-name>JAX-RPC转换器服务</display-name> <servlet-name>JAXRPCConverterService</servlet-name> <servlet-class>org.apache.geronimo.samples.jaxrpc。ConverterImpl</servlet-class></servlet> <servlet-mapping><servlet-name>JAXRPCConverterService</servlet-name> <url-pattern>/ converter</url-pattern></servlet-mapping>
</web-app>

<!--?xml--></plain-text-body> 
<p>现在，我们需要创建一些其他文件来配置和描述服务。</p>

<h2 id="DevelopingJAX-RPCWebservices-CreatingtheWSDLfile">创建WSDL文件</h2>
<ol><li>右键单击<strong>WEB-INF</strong>目录，然后选择“ <strong>新建”->“其他”</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/11.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>从弹出框中的“ <em>Web服务”</em>类别中选择<strong>WSDL</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/12.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将文件命名为<em>Converter.wsdl</em>并单击<strong>Finish</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/13.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<code>Converter.wsdl</code> ：</li></ol>


<parameter ac:name="borderStyle">固态</parameter> <parameter ac:name="title">Converter.wsdl</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><wsdl:definitions name="Converter" xmlns="http://schemas.xmlsoap.org/wsdl/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tns="http://org.apache.geronimo.samples.jaxrpc/" xmlns:x1="http://org.apache.geronimo.samples.jaxrpc/types" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetnamespace="http://org.apache.geronimo.samples.jaxrpc/"><wsdl:message name="dollarToRupeesRequest"><wsdl:part name="in" type="xsd:decimal"></wsdl:part></wsdl:message> <wsdl:message name="dollarToRupeesResponse"><wsdl:part name="out" type="xsd:decimal"></wsdl:part></wsdl:message> <wsdl:message name="rupeesToEuroRequest"><wsdl:part name="in" type="xsd:decimal"></wsdl:part></wsdl:message> <wsdl:message name="rupeesToEuroResponse"><wsdl:part name="out" type="xsd:decimal"></wsdl:part></wsdl:message> <wsdl:porttype name="Converter"><wsdl:operation name="dollarToRupees"><wsdl:input name="dollarToRupeesRequest" message="tns:dollarToRupeesRequest"></wsdl:input><wsdl:output name="dollarToRupeesResponse" message="tns:dollarToRupeesResponse"></wsdl:output></wsdl:operation> <wsdl:operation name="rupeesToEuro"><wsdl:input name="rupeesToEuroRequest" message="tns:rupeesToEuroRequest"></wsdl:input><wsdl:output name="rupeesToEuroResponse" message="tns:rupeesToEuroResponse"></wsdl:output></wsdl:operation></wsdl:porttype> <wsdl:binding name="ConverterSOAPBinding" type="tns:Converter"><soap:binding transport="http://schemas.xmlsoap.org/soap/http"></soap:binding> <wsdl:operation name="dollarToRupees"><soap:operation soapaction=""></soap:operation> <wsdl:input name="dollarToRupeesRequest"><soap:body use="literal" namespace="http://org.apache.geronimo.samples.jaxrpc/"></soap:body></wsdl:input> <wsdl:output name="dollarToRupeesResponse"><soap:body use="literal" namespace="http://org.apache.geronimo.samples.jaxrpc/"></soap:body></wsdl:output></wsdl:operation> <wsdl:operation name="rupeesToEuro"><soap:operation soapaction=""></soap:operation> <wsdl:input name="rupeesToEuroRequest"><soap:body use="literal" namespace="http://org.apache.geronimo.samples.jaxrpc/"></soap:body></wsdl:input> <wsdl:output name="rupeesToEuroResponse"><soap:body use="literal" namespace="http://org.apache.geronimo.samples.jaxrpc/"></soap:body></wsdl:output></wsdl:operation></wsdl:binding> <wsdl:service name="ConverterService"><wsdl:port name="ConverterPort" binding="tns:ConverterSOAPBinding"><soap:address location="http://localhost:8080/jaxrpc-converter/ConverterPort"></soap:address></wsdl:port></wsdl:service></wsdl:definitions><!--?xml--></plain-text-body>

<h2 id="DevelopingJAX-RPCWebservices-Creatingjaxrpcmapping.xml">创建jaxrpcmapping.xml</h2>
<ol><li>右键单击<strong>WEB-INF</strong>目录，然后选择<strong>新建->其他</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/11.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>从弹出框中的<strong>XML</strong>类别中选择<strong>XML</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/14.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将文件命名为<em>jaxrpcmapping.xml</em> ，然后单击<strong>Finish</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/16.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<code>jaxrpcmapping.xml</code> ： <parameter ac:name="borderStyle">固体</parameter> <parameter ac:name="title">jaxrpcmapping.xml</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><java-wsdl-mapping xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.1">
</java-wsdl-mapping><!--?xml--></plain-text-body></li></ol>


<h2 id="DevelopingJAX-RPCWebservices-Creatingwebservices.xml">创建webservices.xml</h2>
<ol><li>右键单击<strong>WEB-INF</strong>目录，然后选择“ <strong>新建”->“其他”</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/11.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>从弹出框中的<strong>XML</strong>类别中选择<strong>XML</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/14.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将文件命名为<em>webservices.xml</em> ，然后单击<strong>Finish</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/15.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<code>webservices.xml</code> ： <parameter ac:name="borderStyle">坚实的</parameter> <parameter ac:name="title">webservices.xml</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><webservices xmlns="http://java.sun.com/xml/ns/j2ee" version="1.1"><webservice-description><webservice-description-name>JAX-RPC转换器服务</webservice-description-name> <wsdl-file>WEB-INF / Converter.wsdl</wsdl-file> <jaxrpc-mapping-file>WEB-INF / jaxrpcmapping.xml</jaxrpc-mapping-file> <port-component><port-component-name>ConverterPort</port-component-name> <wsdl-port>ConverterPort</wsdl-port> <service-endpoint-interface>org.apache.geronimo.samples.jaxrpc。Converter</service-endpoint-interface> <service-impl-bean><servlet-link>JAXRPCConverterService</servlet-link></service-impl-bean></port-component></webservice-description></webservices><!--?xml--></plain-text-body>这将完成部署描述符和部署计划的设置。</li></ol>


<p>让我们浏览一下我们创建的文件。</p>
<ul><li><code>Converter.wsdl</code> -在这里，我们指定公开的Web方法以及请求参数和返回参数是什么。我们还指定其他详细信息，例如<strong>targetNamespace</strong> ， <strong>服务名称</strong> ， <strong>绑定</strong> ， <strong>端口名称</strong> ， <strong>端口类型</strong> 。</li><li><code>jaxrpcmapping.xml</code> -实际上，此文件指定java方法和WSDL消息之间的映射。这里不需要，因为我们正在将所有方法映射到WSDL。为了进一步参考，这里是一个示例，该示例说明了如何将方法从Java映射到WSDL。 <parameter ac:name="borderStyle">固体</parameter> <parameter ac:name="title">jaxrpcmapping.xml</parameter> <plain-text-body><!--?xml version="1.0" encoding="UTF-8" ?=""--><java-wsdl-mapping xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:converter="http://org.apache.geronimo.samples.jaxrpc/" version="1.1"><package-mapping><package-type>org.apache.geronimo.samples.jaxrpc</package-type> <namespaceuri>urn：geronimo-samples</namespaceuri></package-mapping> <service-interface-mapping><service-interface>org.apache.geronimo.samples.jaxrpc。转换器</service-interface> <wsdl-service-name>Converter：ConverterService</wsdl-service-name> <port-mapping><port-name>ConverterPort</port-name> <java-port-name>ConverterPort</java-port-name></port-mapping></service-interface-mapping> <service-endpoint-interface-mapping><service-endpoint-interface>org.apache.geronimo.samples.jaxrpc。Converter</service-endpoint-interface> <wsdl-port-type>Converter：Converter</wsdl-port-type> <wsdl-binding>Converter：ConverterSOAPBinding</wsdl-binding> <service-endpoint-method-mapping><java-method-name>dollarToRupees</java-method-name> <wsdl-operation>dollarToRupees</wsdl-operation> <method-param-parts-mapping><param-position>0</param-position> <param-type>java.math。BigDecimal的</param-type> <wsdl-message-mapping><wsdl-message>转换器：dollarToRupeesRequest</wsdl-message> <wsdl-message-part-name>在</wsdl-message-part-name></wsdl-message-mapping></method-param-parts-mapping> <wsdl-return-value-mapping><method-return-value>java.math <wsdl-message-mapping><parameter-mode>中</parameter-mode></wsdl-message-mapping> 。BigDecimal</method-return-value> <wsdl-message>Converter：dollarToRupeesResponse</wsdl-message> <wsdl-message-part-name>out</wsdl-message-part-name>
			</wsdl-return-value-mapping>
		</service-endpoint-method-mapping>
	</service-endpoint-interface-mapping>
</java-wsdl-mapping>

<!--?xml--></plain-text-body></li><li><code>webservices.xml</code> -这是部署任何Web服务（JAX-RPC或JAX-WS）所必需的文件。但是不再需要从Java EE 5开始的webservices.xml。该文件包含描述Web服务以及在何处找到它们的所有必需组件。</li></ul>



<h1 id="DevelopingJAX-RPCWebservices-DeployandtesttheWebservice">部署和测试Web服务</h1>
<p>现在，我们将研究在没有任何客户端的情况下部署和测试Web服务所涉及的步骤。</p>

<h2 id="DevelopingJAX-RPCWebservices-Deploy">部署</h2>
<ol><li>右键单击服务器视图中存在的<strong>Apache Geronimo</strong> Server Runtime，然后选择“ <strong>添加或删除项目”</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/17.gif"></span></li><li>在弹出对话框中，选择<strong>jaxrpc-converter</strong>项目，然后单击“ <strong>添加”。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/18.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>确保<strong>jaxrpc-converter</strong>在已<strong>配置的项目</strong>列表中，然后单击“ <strong>完成”。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/19.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>等待一段时间，直到服务器状态更改为已同步。</li></ol>


<h2 id="DevelopingJAX-RPCWebservices-Testing">测试中</h2>
<ol><li>将应用程序部署到服务器上后，启动浏览器并转到以下URL：<br clear="none">
<a shape="rect" class="external-link" href="http://localhost:8080/jaxrpc-converter/converter" rel="nofollow">http：// localhost：8080 / jaxrpc-converter / converter</a> 。</li><li>现在，您应该看到屏幕告诉您这是Converter Web服务。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-jax-rpc-web-services.data/21.gif"></span> <parameter ac:name="title">WSDL文件</parameter> <rich-text-body>
<p>您还可以查看Geronimo基于指定的批注生成的WSDL文件，方法是转到以下URL：<br clear="none">
<a shape="rect" class="external-link" href="http://localhost:8080/jaxrpc-converter/converter?wsdl" rel="nofollow">http：// localhost：8080 / jaxrpc-converter / converter？wsdl</a></p></rich-text-body> </li></ol>


<parameter ac:name="title">在Eclipse中使用Web Service Explorer</parameter> <rich-text-body>
<p>您还可以使用Eclipse中提供的Web服务资源管理器来快速测试Web服务，而无需开发客户端。<br clear="none">要了解如何在Eclipse中使用Web Services Explorer，可以参考在Eclipse中使用<a shape="rect" href="developing-a-jax-ws-pojo-web-service.html">开发JAX-WS POJO Web Service＃Using Web Services Explorer。</a></p></rich-text-body>

<h1 id="DevelopingJAX-RPCWebservices-ChangesrequiredinClient">客户端需要进行的更改</h1>
<p>您需要在客户中进行的最重要的更改是使用<code>javax.xml.rpc.Service</code>代替<code>javax.xml.ws.Service</code> 。</p>
<parameter ac:name="title">客户发展</parameter> <rich-text-body>
<p>本教程不包括客户机开发，因为为JAX-RPC Web服务和JAX-WS Web服务创建客户机没有太大区别。</p>

<p>您可以参考“ <a shape="rect" href="developing-a-jax-ws-pojo-web-service.html">开发JAX-WS POJO Web服务”</a>教程，以获取有关如何为Web Services开发客户端的更多知识。</p></rich-text-body>

<p>您需要在客户端JSP中进行的更改是：</p>

<parameter ac:name="borderStyle">坚固的</parameter> <parameter ac:name="title">ConverterClient.jsp</parameter> <plain-text-body>URL URL =新URL（“ http：// localhost：8080 / jaxrpc-converter / converter？wsdl”）; QName qname =新的QName（“ http：//org.apache.geronimo.samples.jaxrpc/”，“ ConverterService”）; ServiceFactory factory = null;服务服务= null;尝试{factory = ServiceFactory.newInstance（）;服务= factory.createService（URL，qname）; } catch（ServiceException e）{e.printStackTrace（）; }转换器conv =（转换器）service.getPort（Converter.class）;</plain-text-body>

<h1 id="DevelopingJAX-RPCWebservices-EJBJAX-RPCWebService">EJB JAX-RPC Web服务</h1>
<p>EJB JAX-RPC非常类似于我们刚刚实现的POJO JAX-RPC。另外，JAX-RPC和JAX-WS EJB Web服务之间最重要的变化是不支持EJB注释。</p>

<ul><li>EJB JAX-RPC Web服务所需的类文件是：<ul><li>服务端点接口-Converter.java</li><li>家庭接口-ConverterHome.java</li><li>远程接口-ConverterRemote.java</li><li>Bean实现-ConverterBean.java <parameter ac:name="title">EJB类</parameter> <rich-text-body>
<p>JAX-RPC所需的这些类是根据J2EE 1.4标准（因为JAX-RPC理论上映射到J2EE 1.4）。</p></rich-text-body></li></ul>
	</li><li>同样在<code>ejb-jar.xml</code> ，必须指定您使用的是<strong>Home</strong> ， <strong>Remote</strong> ， <strong>SEI</strong> ， <strong>Bean</strong> 。示例ejb-jar.xml可能看起来像这样： <parameter ac:name="borderStyle">实体</parameter> <parameter ac:name="title">ejb-jar.jsp</parameter> <plain-text-body><ejb-jar xmlns="http://java.sun.com/xml/ns/j2ee" version="2.1"><enterprise-beans><session><ejb-name>转换器</ejb-name> <home>org.apache.geronimo.samples.jaxrpc。ConverterHome</home> <remote>org.apache.geronimo.samples.jaxrpc。ConverterRemote</remote> <service-endpoint>org.apache.geronimo.samples.jaxrpc。转换器</service-endpoint> <ejb-class>org.apache.geronimo.samples.jaxrpc。ConverterBean</ejb-class> <session-type>无状态</session-type> <transaction-type>容器</transaction-type></session></enterprise-beans></ejb-jar></plain-text-body>到此完成了JAX-RPC Web服务的开发。完成本教程后，您应该了解如何部署JAX-RPC Web服务。</li></ul>
</div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Developing JAX-RPC Web services';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>