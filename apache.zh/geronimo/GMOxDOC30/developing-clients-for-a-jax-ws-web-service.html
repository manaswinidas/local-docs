<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=0">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="Developing Clients for a JAX-WS Web Service">
    <meta name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Developing Clients for a JAX-WS Web Service">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2010-05-11">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0文档：为JAX-WS Web服务开发客户端</title>
  </head>

  <body  onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">主页</a> > <a href="documentation.html">文档</a> > <a href="developing.html">开发</a> > <a href="tutorials.html">教程</a> > <a href="developing-web-services.html">开发Web服务</a> > <a href="developing-clients-for-a-jax-ws-web-service.html">开发JAX-WS Web服务的客户端</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo v3.0</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">开发JAX-WS Web服务的客户端</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645258"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645258">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645258"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645258">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645258"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645258">新增新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>

<p>本教程将带您完成在Apache Geronimo中针对已经部署在服务器上的Web服务开发，部署和测试Web Service客户端所需的步骤。</p>

<p>本教程将带您完成为JAX-WS Web服务创建基于Web的客户端和POJO客户端所涉及的步骤。在完成本教程之前，您需要完成“ <a shape="rect" href="developing-a-jax-ws-pojo-web-service.html">开发JAX-WS POJO Web服务”</a>教程。由于我们将使用部署的Web Service的WSDL文件来创建客户端，因此在开始本教程之前，请确保部署了“ <a shape="rect" href="developing-a-jax-ws-pojo-web-service.html">开发JAX-WS POJO Web Service”</a>教程中的<a shape="rect" href="developing-a-jax-ws-pojo-web-service.html">Web Service</a> ，并且Geronimo服务器正在运行。</p>

<parameter ac:name="title">Web服务的类型</parameter> <rich-text-body>
<p>对于新用户，可以通过两种方式创建Web服务：</p>
<ul><li>自下而上的Web服务-从Java类创建Web服务。</li><li>自上而下的Web服务-从WSDL文档创建Web服务。</li></ul>


<p>本教程将帮助您从已经部署在服务器上的WSDL文档创建自上而下的Web服务。</p></rich-text-body>

<p>要运行本教程，至少需要您安装以下必备软件。</p>

<ol><li>Sun JDK 6.0+（J2SE 1.6）</li><li>面向特定平台的Java EE开发人员的Eclipse IDE</li><li>Apache Geronimo Eclipse插件2.1.x</li><li>Apache Geronimo服务器2.1.x <rich-text-body>
<p>在本教程中使用了Geronimo 2.1.x版，Java 1.5运行时和Eclipse Ganymede，但是可以使用其他版本（例如Geronimo 2.2版，Java 1.6，Eclipse Europa）</p></rich-text-body></li></ol>


<p><a shape="rect" href="development-environment.html">开发环境</a>部分中提供了有关安装Eclipse的详细信息。</p>

<parameter ac:name="">部署的Web服务</parameter> <rich-text-body>
<p>本教程假定您已完成“ <a shape="rect" href="developing-a-jax-ws-pojo-web-service.html">开发JAX-WS POJO Web服务”</a>教程。在这里，我们将尝试为上述教程中部署的Web服务开发客户端。</p></rich-text-body>

<p>本教程将带您完成以下步骤：</p>
<parameter ac:name="maxLevel">2</parameter> <parameter ac:name="type">清单</parameter> <parameter ac:name="separator">管</parameter>

<h1 id="DevelopingClientsforaJAX-WSWebService-WebbasedClient">基于Web的客户端</h1>
<p>以下步骤将帮助您为服务器上已部署的JAX-WS Web服务创建基于Web的客户端。</p>

<h2 id="DevelopingClientsforaJAX-WSWebService-CreateaDynamicWebProjecttoconsumetheWebService">创建一个动态Web项目以使用Web服务</h2>
<ul><li>从Eclipse主菜单中，选择<strong>File-> New-> Other</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在“ <strong>新建”</strong>对话框中，选择“ <strong>Web->动态Web项目”</strong> ，然后单击“ <strong>下一步”。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>键入<strong>jaxws-converterclient</strong>作为<strong>项目名称</strong> ，然后单击<strong>下一步。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在“ <strong>项目构面”</strong>页面上，默认选择就足够了。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-clients-for-a-jax-ws-web-service.data/projectfacets.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>确保选中复选框<strong>Generate Deployment Descriptor</strong> ，然后单击<strong>下一步。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在<strong>Geronimo部署页面上，</strong>将<strong>组ID</strong>修改为<strong>org.apache.geronimo.samples.jaxws</strong> ，并将<strong>工件ID修改</strong>为<strong>jaxws-converterclient</strong> 。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>点击<strong>完成</strong></li></ul>


<h2 id="DevelopingClientsforaJAX-WSWebService-CreatingnecessarystubstoconsumeWebService">创建必要的存根以使用Web服务</h2>
<p>我们需要基于WSDL文档创建服务端点接口，以在JSP中使用它。幸运的是，在Geronimo中，可以使用Geronimo提供的jaxws-tools实用程序将其自动化。</p>

<parameter ac:name="">jaxws-tools.bat</parameter> <rich-text-body>
<p>请注意，服务器的bin目录中的jaxws-tools.bat实用程序可能无法在旧版本的Apache Geronimo中使用。<br clear="none">尝试使用最新版本的Geronimo，即<strong>v2.1.1</strong> 。</p></rich-text-body>

<ul><li>打开命令提示符，并将其指向服务器安装的<strong>bin</strong>目录。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>我们将使用服务器的bin目录中提供的<strong>jaxws-tools</strong>实用程序来生成客户端存根。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>使用以下命令来生成使用Web服务所需的必要存根。</li></ul>


<parameter ac:name="borderStyle">可靠的</parameter> <parameter ac:name="title">客户端存根生成</parameter> <plain-text-body><％SERVEER_INSTALLATION_BIN_DIR％>：\ jaxws-tools.bat wsimport -s C：\ WSDL http：// localhost：8080 / jaxws-conveter / converter？wsdl</plain-text-body>

<ul><li>现在应该已经创建了所有存根并将其放置在<strong>C：\ WSDL</strong>目录中。我们只需要类<strong>ConverterPortType即可</strong>访问Web服务。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-clients-for-a-jax-ws-web-service.data/console.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li></ul>


<ul><li>复制文件<strong>Converter.java</strong>和<strong>ConverterPortType.java</strong>并根据它们的包声明将它们放置在适当的文件夹中</li></ul>


<p>让我们逐步完成刚刚完成的步骤</p>


<ul><li><strong>Converter.java-</strong>此文件扩展了<strong>javax.xml.ws。服务</strong>并提供创建服务和检索端口的方法，该端口是已部署的Web服务的服务端点接口。</li></ul>


<ul><li><strong>ConverterPortType.java-</strong>这是用于部署Web服务的文件。这是访问服务公开的Web方法所必需的服务端点接口。</li></ul>


<ul><li><strong>jaxws-tools.bat wsimport-</strong>这是Geronimo中的实用程序，它利用<strong>Sun</strong>提供的<strong>jaxws-tools</strong>的帮助来创建客户端存根。</li></ul>


<h2 id="DevelopingClientsforaJAX-WSWebService-DevelopingtheWebbasedClient">开发基于Web的客户端</h2>
<ul><li>右键单击<strong>jaxws-converterclient</strong> ，然后选择<strong>New-</strong> <strong>> JSP。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> </li><li>将JSP命名为<strong>index.jsp</strong> ，然后单击<strong>Finish。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<strong>index.jsp</strong></li></ul>


<parameter ac:name="borderStyle">稳定的</parameter> <parameter ac:name="title">index.jsp</parameter> <plain-text-body><％@页面语言=“ java” contentType =“ text / html; charset = ISO-8859-1” pageEncoding =“ ISO-8859-1”％>

<title>转换器</title>
<meta content="text/html; CHARSET=iso-8859-1" http-equiv="Content-Type">



<center>
<h3>这从调用Web服务。</h3>
<br>请输入金额，然后单击提交以查看结果。
<form action="index.jsp">金额（美元）：<input type="text" name="amount"> <input type="submit" value="提交"></form>
<br><br>
<jsp:include page="result.jsp"></jsp:include>
</center>



</plain-text-body>

<ul><li>再次右键单击并添加另一个名为<strong>result.jsp的</strong> JSP。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> </li><li>将以下代码添加到<strong>result.jsp</strong></li></ul>


<parameter ac:name="borderStyle">稳定的</parameter> <parameter ac:name="title">result.jsp</parameter> <plain-text-body><％@页面语言=“ java” contentType =“ text / html; charset = ISO-8859-1” pageEncoding =“ ISO-8859-1”％> <％@ page import =“ java.math。BigDecimal“％> <％@页面import =” org.apache.geronimo.samples.jaxws。转换器”％> <％@页面import =“ org.apache.geronimo.samples.jaxws。ConverterPortType“％>

<title>转换器</title>
<meta content="text/html; CHARSET=iso-8859-1" http-equiv="Content-Type">

<％字符串数量= request.getParameter（“ amount”）;如果（金额！= null && amount.trim（）。length（）> 0）{out.println（“<center>“）;尝试{BigDecimal美元=新的BigDecimal（金额）; Converter conv =新的Converter（）; ConverterPortType端口= conv.getConverterPort（）; BigDecimal卢比= conv.dollarToRupees（美元）; BigDecimal欧元= conv.rupeesToEuro（卢比） ; out.println（美元+“美元等于” +卢比+“卢比”）; out.println（“<br>“）; out.println（卢比+”卢比等于“ +欧元+”欧元“）;} catch（Exception e）{out.println（” Error：“ + e.getMessage（））;} out.println（ ”<center>“）;}％></center></center>


</plain-text-body>

<p>到此结束我们基于Web的客户端的开发部分。</p>

<h2 id="DevelopingClientsforaJAX-WSWebService-Using<service-ref>elementtoconsumeWebService:">使用<service-ref>元素消费Web服务：</service-ref></h2>
<ul><li>在我们先前的<strong>result.jsp中，</strong>我们通过实例化Service类来访问Web Service。这会稍微增加客户端应用程序的开销。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>我们还可以使用<strong>JNDI命名</strong>服务直接访问我们的Web服务，而无需实例化任何Service类。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>我们需要在<strong>web.xml中</strong>添加一个service-ref元素，以提供有关WSDL文件位置，服务名称等的必要信息，</li></ul>


<parameter ac:name="borderStyle">实体</parameter> <parameter ac:name="title">修改过的web.xml</parameter> <plain-text-body><service-ref><service-ref-name>services / Converter</service-ref-name> <service-interface>org.apache.geronimo.samples.jaxws。转换器</service-interface> <wsdl-file>http：// localhost：8080 / jaxws-converter / converter？wsdl</wsdl-file>
</service-ref>

</plain-text-body>

<ul><li>让我们逐一介绍添加到<strong>web.xml中</strong>的元素 <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
	<ul><li><strong>service-ref-name-</strong>这是JNDI用来标识我们已部署的服务的名称。这些服务所在的位置是<strong>java：comp / env /<service-ref-name></service-ref-name></strong></li><li><strong>服务接口</strong> -这是客户端用来访问Web服务并在幕后创建必要的存根的接口。该接口应强制扩展<strong>javax.xml.ws。服务</strong>或<strong>javax.xml.rpc。服务</strong> 。观察到这不是我们用来部署服务的服务端点接口。</li><li><strong>wsdl-file</strong> -WSDL文件的位置指定了部署的Web服务的位置。假设Web服务部署在* <a shape="rect" class="external-link" href="http://localhost:8080/jaxws-converter/converter*" rel="nofollow">http：// localhost：8080 / jaxws-converter / converter *</a> ，则WSDL文件位于* <a shape="rect" class="external-link" href="http://localhost:8080/jaxws-converter/converter?wsdl*" rel="nofollow">http：// localhost：8080 / jaxws-converter / converter？wsdl *</a> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li></ul>
	</li><li>访问服务所需的更改如下：</li></ul>


<parameter ac:name="borderStyle">solid</parameter> <parameter ac:name="title">修改的result.jsp</parameter> <plain-text-body>........<％@ page import =“ javax.naming。InitialContext“％> ........上下文ctx = new InitialContext（）;对象obj = ctx.lookup（“ java：comp / env / services / Converter”）;转换器服务=（转换器）obj; ConverterPortType端口= service.getConverterPort（）; BigDecimal卢比= port.dollarToRupees（dollars）; BigDecimal euros = conv.rupeesToEuro（rupees）; ........
</plain-text-body>

<h2 id="DevelopingClientsforaJAX-WSWebService-DeployingandTestingtheWebClient">部署和测试Web客户端</h2>
<h3 id="DevelopingClientsforaJAX-WSWebService-Deploy">部署</h3>
<ul><li>右键单击服务器视图中存在的<strong>Apache Geronimo</strong> Server Runtime，然后选择“ <strong>添加和删除项目”</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将<strong>jaxws-converterclient</strong>添加到已配置的项目列表中，然后单击“ <strong>完成”。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>等待一段时间，直到服务器状态更改为“已<strong>同步”</strong>
<rich-text-body><p>请注意，您可能会在服务器控制台选项卡中收到一些错误和/或警告消息。只要项目正确部署，这些通常可以忽略。</p></rich-text-body> </li></ul>


<h3 id="DevelopingClientsforaJAX-WSWebService-Testing">测试中</h3>
<ul><li>右键单击存在于我们项目的WebContent目录下的<strong>index.jsp</strong> ，然后选择<strong>“运行方式->在服务器上运行”</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-clients-for-a-jax-ws-web-service.data/runonserver.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在弹出窗口中，选中复选框“ <strong>在运行项目时始终使用此服务器”</strong> ，然后单击“ <strong>完成”。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>现在，Eclipse将尝试在Web浏览器中打开JSP，该浏览器将显示一个表格，以美元为单位输入金额。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>输入任何金额，然后按<strong>Submit</strong> ，jsp将显示Web服务返回的结果。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-clients-for-a-jax-ws-web-service.data/weboutput.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li></ul>


<parameter ac:name="title">转换器</parameter> <rich-text-body>
<p>需要注意的是，我们通过创建一个<strong>服务</strong> ，然后从WSDL文档检索<strong>器</strong>端口进行访问JSP中的Web服务。</p></rich-text-body> 

<h1 id="DevelopingClientsforaJAX-WSWebService-POJOClient">POJO客户</h1>

<p>在这里，我们将了解如何创建一个普通的旧Java客户端来使用Web服务。</p>

<h2 id="DevelopingClientsforaJAX-WSWebService-DevelopingtheClient">发展客户</h2>
<ul><li>创建一个Java项目<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none">
	<ul><li>选择<strong>文件->新建->项目</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在弹出窗口中，选择<strong>Java-> Java Project</strong> ，然后单击<strong>下一步。</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将项目命名为<strong>jaxws-converterpojoclient</strong> ，然后在“ <strong>新建Java项目”</strong>对话框中单击“ <strong>完成</strong> ”。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li></ul>
	</li><li>将文件<strong>Converter.java</strong>和<strong>ConverterPortType.java</strong>复制到适当的包中。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>在同一包中添加另一个名为<strong>ConverterClient.java的</strong>类。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将以下代码添加到<strong>ConverterClient.java</strong></li></ul>


<parameter ac:name="borderStyle">固态</parameter> <parameter ac:name="title">ConverterClient.java</parameter> <plain-text-body>包org.apache.geronimo.samples.jaxws;导入java.io。BufferedReader;导入java.io。InputStreamReader;导入java.math。BigDecimal;公共类ConverterClient {公共静态void main（String args []）{试试{BufferedReader dataIn = new BufferedReader（new InputStreamReader（System.in））; System.out.println（“输入要转换的金额：”）;字符串编号= new String（）;数字= dataIn.readLine（）; BigDecimal数量=新的BigDecimal（number）; Converter conv = new Converter（）; ConverterPortType端口= conv.getConverterPort（）; BigDecimal结果= port.dollarToRupees（金额）; System.out.println（金额+“美元等于” +结果+“卢比”）; BigDecimal result1 = port.rupeesToEuro（result）; System.out.println（结果+“卢比等于” + result1 +“欧元”）； } catch（Exception e）{e.printStackTrace（）; }}}</plain-text-body>

<p>至此完成了我们POJO客户的开发部分</p>

<h2 id="DevelopingClientsforaJAX-WSWebService-Addingnecessaryjarfilestotheclasspath">将必要的jar文件添加到类路径</h2>

<parameter ac:name="title">Java项目中的错误</parameter> <rich-text-body>
<p>现在，我们的Java项目可能会显示许多错误，即使我们解决了这些错误，应用程序也可能无法正常运行。这是由于缺少访问和理解Web服务发送的SOAP消息所需的jar文件。</p></rich-text-body>

<ul><li>右键单击<strong>jaxws-converterpojoclient</strong>项目，然后选择<strong>属性</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>选择“ <strong>Java构建路径”</strong> ，然后转到“ <strong>库”</strong>选项卡<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-clients-for-a-jax-ws-web-service.data/buildpath.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>单击“ <strong>添加外部JAR ...”</strong> ，然后从<strong><geronimo_install_dir>/repository/org/apache/axis2/axis2/axis2-adb/1.3/</geronimo_install_dir></strong>位置添加<strong>axis2-adb-</strong> <strong><geronimo_install_dir>1.3.jar</geronimo_install_dir></strong> ，然后单击“ <strong>打开</strong> <parameter ac:name="title">版本号”</parameter> <rich-text-body>
<p>版本号可能会略有不同。没关系。</p></rich-text-body> </li><li>对以下外部JARS重复上述步骤</li></ul>


<parameter ac:name="borderColor">#CCC</parameter> <parameter ac:name="bgColor"><parameter ac:name="titleBGColor">#FFFFCE＃F7D6C1</parameter></parameter> <parameter ac:name="borderStyle">固体</parameter> <parameter ac:name="title">外部JAR必需（Axis2的）</parameter> <rich-text-body>
<p><strong>axis2-adb-1.3.jar-</strong> / <geronimo_install_dir>repository <strong>/org</strong> / <geronimo_install_dir>apache/ <strong>axis2/axis2-adb/1.3</strong> / <strong>axis2-adb-</strong> <geronimo_install_dir>1.3.jar<br clear="none">
<strong>axis2-java2wsdl-1.3.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ axis2 \ axis2-java2wsdl \ 1.3 \ axis2-java2wsdl-1.3.jar<br clear="none">
<strong>axis2-jaxws-1.3.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ axis2 \ axis2-jaxws \ 1.3 \ axis2-jaxws-1.3.jar<br clear="none">
<strong>axis2-kernel-1.3.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ axis2 \ axis2-kernel \ 1.3 \ axis2-kernel-1.3.jar<br clear="none">
<strong>axis2-metadata-1.3.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ axis2 \ axis2-metadata \ 1.3 \ axis2-metadata-1.3.jar<br clear="none">
<strong>axis2-saaj-1.3.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ axis2 \ axis2-saaj \ 1.3 \ axis2-saaj-1.3.jar<br clear="none">
<strong>axiom-api-1.2.5.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ ws \ commons \ axiom \ axiom-api \ 1.2.5 \ axiom-api-1.2.5.jar<br clear="none">
<strong>axiom-dom-1.2.5.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ ws \ commons \ axiom \ axiom-dom \ 1.2.5 \ axiom-dom-1.2.5.jar<br clear="none">
<strong>axiom-impl-1.2.5.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ ws \ commons \ axiom \ axiom-impl \ 1.2.5 \ axiom-impl-1.2.5.jar<br clear="none">
<strong>XmlSchema-1.3.1.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ ws \ commons \ schema \ XmlSchema \ 1.3.1 \ XmlSchema-1.3.1.jar<br clear="none">
<strong>neethi-2.0.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ neethi \ neethi \ 2.0 \ neethi-2.0.jar<br clear="none">
<strong>wsdl4j-1.6.1.jar-</strong> <geronimo_install_dir>\ repository \ wsdl4j \ wsdl4j \ 1.6.1 \ wsdl4j-1.6.1.jar<br clear="none">
<strong>xml-resolver-1.1.jar-</strong> <geronimo_install_dir>\ repository \ xml-resolver \ xml-resolver \ 1.1 \ xml-resolver-1.1.jar<br clear="none">
<strong>xmlbeans-2.3.0.jar-</strong> <geronimo_install_dir>\ repository \ org \ apache \ xmlbeans \ xmlbeans \ 2.3.0 \ xmlbeans-2.3.0.jar<br clear="none">
<strong>commons-codec-1.3.jar-</strong> <geronimo_install_dir>\ repository \ commons-codec \ commons-codec \ 1.3 \ commons-codec-1.3.jar<br clear="none">
<strong>commons-httpclient-3.0.1.jar-</strong> <geronimo_install_dir>\ repository \ commons-httpclient \ commons-httpclient \ 3.0.1 \ commons-httpclient-3.0.1.jar<br clear="none">
<strong>wstx-asl-3.2.1.jar-</strong> <geronimo_install_dir>\ repository \ woodstox \ wstx-asl \ 3.2.1 \ wstx-asl-3.2.1.jar</geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></geronimo_install_dir></p>

<p>还可以将Server Runtime Library添加到类路径（即，通过单击<strong>Add Library ...</strong> ），这可以减少添加更多jar的工作量。</p>

<p>请注意，当JAX-WS Engine配置为Axis2时，将使用这些jar。如果JAX-WS引擎配置为CXF，则jar可能会略有不同。</p></rich-text-body>

<p>这样就完成了向项目添加外部JAR的工作</p>
<parameter ac:name="title">JRE 6</parameter> <rich-text-body>
<p>如果您运行的是Java 6，则无需担心外部JAR，因为它们都内置在JRE 6中。但是您应该将wsimport命令生成的所有文件复制到适当的程序包中，因为Java 6中的Runtime Modeller略有不同。</p></rich-text-body> 

<h2 id="DevelopingClientsforaJAX-WSWebService-Testing.1">测试中</h2>

<ol><li>现在，右键单击<strong>ConverterClient.class</strong>并选择<strong>Run As-> Run as Java Application</strong>
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>现在，在Eclipse的控制台窗口中输入金额<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li><li>将显示输出，该输出是通过访问Web服务的方法检索的。
<br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-clients-for-a-jax-ws-web-service.data/output.gif"></span> <br class="atl-forced-newline" clear="none"> <br class="atl-forced-newline" clear="none"></li></ol>


<p>这样就完成了使用Web服务的客户端的开发和部署。即使本教程针对一个特定的Web服务进行了演示，该方法也可以扩展为任何已部署的Web服务。</p></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Developing Clients for a JAX-WS Web Service';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2013，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  

</body></html>