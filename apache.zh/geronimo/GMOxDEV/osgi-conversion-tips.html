<html lang="zh-Hans" ><head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="asset?aid=2">
    <link rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <link rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <meta name="Description" content="OSGI conversion tips">
    <meta name="Keywords" content="Apache Geronimo development documentation OSGI conversion tips">
    <meta name="Owner" content="dev@geronimo.apache.org">
    <meta name="Robots" content="index, follow">
    <meta name="Security" content="Public">
    <meta name="Source" content="wiki template">
    <meta name="DC.Date" scheme="iso8601" content="2009-01-06">
    <meta name="DC.Language" scheme="rfc1766" content="en">
    <meta name="DC.Rights" content="Copyright Â© 2003-2011, The Apache Software Foundation">
    <meta http-equiv="PICS-Label" content="(PICS-1.1 " http:="" ="" www.icra.org="" ratingsv02.htm="=" www.rsac.org="" ratingsv01.htm="=" (ss~~000="" 1)="=">

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo Development：OSGI转换技巧</title>

  </head>

  <body  onload="init()">

    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tbody><tr>
        <td align="left" valing="top">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </tbody></table>

    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tbody><tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" nowrap>
          <a href="/geronimo">首页</a> > <a href="index.html">索引</a> > <a href="osgi-conversion-tips.html">OSGI转换技巧</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8">
            <input type="hidden" name="oe" value="UTF-8">
            <input type="hidden" name="domains" value="">
            <input type="hidden" name="sitesearch" value="">
            <input type="text" name="q" value="" maxlength="255">        
            <input type="submit" name="btnG" value="谷歌搜索">
          </form>
        </td>
      </tr> 
    </tbody></table>

    <div id="PageContent">
      <div class="pageheader" style="padding:6px 0px 0px 0px">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div class="smalltext" style="margin:0px 10px 0px 10px">Apache Geronimo开发</div>
        <div class="pagetitle" style="margin:0px 10px 8px 10px">OSGI转换技巧</div>

        <div class="greynavbar" align="right" style="padding:2px 10px;margin:0px">
<!-- --> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=5603340"><img src="http://geronimo.apache.org/images/icons/notep_16.gif" height="16" width="16" border="0" title="编辑页面"></a> <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=5603340">编辑页面</a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDEV"><img src="http://geronimo.apache.org/images/icons/browse_space.gif" height="16" width="16" border="0" title="浏览空间"></a> <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDEV">浏览空间</a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDEV&fromPageId=5603340"><img src="http://geronimo.apache.org/images/icons/add_page_16.gif" height="16" width="16" border="0" title="添加页面"></a> <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDEV&fromPageId=5603340">添加页面</a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDEV&fromPageId=5603340"><img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif" height="16" width="16" border="0" title="新增新闻"></a> <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDEV&fromPageId=5603340">添加新闻</a> <!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><h2 id="OSGIconversiontips-CollectionofOSGiconversiontips">OSGi转换技巧集合</h2>

<div class="toc-macro client-side-toc-macro" data-headerelements="H3,H4,H5,H6,H7"></div>

<h3 id="OSGIconversiontips-jarswithxmlbeanscompilation">xmlbeans编译的罐子</h3>
<p>要使用xmlbeans生成的代码，您需要访问SchemaTypeSystemImpl，它不是由maven-bundle-plugin导入的。因此，您需要在pom中添加以下内容：</p>

<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;
                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;instructions&gt;
                        &lt;!--packages containing &quot;impl&quot; or &quot;internal&quot; are excluded by default --&gt;
                        &lt;Import-Package&gt;org.apache.xmlbeans.impl.schema;version=&quot;2.4&quot;,*&lt;/Import-Package&gt;
                        &lt;!--&lt;_versionpolicy&gt;[$(version;==;$(@)),$(version;+;$(@)))&lt;/_versionpolicy&gt;--&gt;
                    &lt;/instructions&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
]]></script>
</div></div>

<p>另外，我们可能带有“ impl”或“ internal”的任何软件包都必须在导出软件包中明确列出。</p>

<p>如果xmlbeans编译将由另一个捆绑软件中的xmlbeans编译使用（例如，在geronimo-service-builder编译中定义的“ environment”元素），则需要额外的步骤来使它们可用。在定义包中，需要导出所有生成的类以及schemaorg_apache_xmlbeans目录下的所有包。由于bnd工具默认情况下会省略impl目录，因此必须明确列出这些目录。这是geronimo-service-builder的示例：</p>

<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
                    &lt;instructions&gt;
                        &lt;!--&lt;_versionpolicy&gt;[$(version;==;$(@)),$(version;+;$(@)))&lt;/_versionpolicy&gt;--&gt;
                        &lt;Import-Package&gt;org.apache.xmlbeans.impl.schema,*&lt;/Import-Package&gt;
                        &lt;Export-Package&gt;
                            org.apache.geronimo.deployment.xbeans.impl,
                            org.apache.geronimo.deployment.javabean.xbeans.impl,
                            org.apache.geronimo.deployment.xbeans*,
                            org.apache.geronimo.deployment.javabean.xbeans*,
                            schemaorg_apache_xmlbeans*,
                            org.apache.geronimo.deployment.dconfigbean,
                            org.apache.geronimo.deployment.service*
                        &lt;/Export-Package&gt;
                    &lt;/instructions&gt;
]]></script>
</div></div>

<p>在导入方面，所有这些类也需要导入。schemaorg_apache_xmlbeans目录有点<br clear="none">之所以有问题，是因为bnd工具无法在导入时处理通配符，除非在<br clear="none">码。代码中未引用schemaorg程序包，它们会生成许多隐式命名的目录，这些目录很难转移到导入端。对于schemaorg目录，可以使用DynamicImport-Package。这个例子来自geronimo-connector-builder-1_6插件：</p>

<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
                    &lt;instructions&gt;
                        &lt;!--packages containing &quot;impl&quot; or &quot;internal&quot; are excluded by default --&gt;
                        &lt;Import-Package&gt;org.apache.xmlbeans.impl.schema;version=&quot;2.4&quot;,org.apache.geronimo.deployment.xbeans.impl,org.apache.geronimo.deployment.javabean.xbeans.impl,*&lt;/Import-Package&gt;
                        &lt;DynamicImport-Package&gt;schemaorg_apache_xmlbeans.*&lt;/DynamicImport-Package&gt;
                        &lt;!--&lt;_versionpolicy&gt;[$(version;==;$(@)),$(version;+;$(@)))&lt;/_versionpolicy&gt;--&gt;
                    &lt;/instructions&gt;

]]></script>
</div></div>

<p>如果xmlbeans编译将由另一个捆绑软件中的xmlbeans编译使用（例如，在geronimo-service-builder编译中定义的“ environment”元素），则需要额外的步骤来使它们可用。在定义包中，需要导出所有生成的类以及schemaorg_apache_xmlbeans目录下的所有包。由于bnd工具默认情况下会省略impl目录，因此必须明确列出这些目录。这是geronimo-service-builder的示例：</p>

<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
                    &lt;instructions&gt;
                        &lt;!--&lt;_versionpolicy&gt;[$(version;==;$(@)),$(version;+;$(@)))&lt;/_versionpolicy&gt;--&gt;
                        &lt;Import-Package&gt;org.apache.xmlbeans.impl.schema,*&lt;/Import-Package&gt;
                        &lt;Export-Package&gt;
                            org.apache.geronimo.deployment.xbeans.impl,
                            org.apache.geronimo.deployment.javabean.xbeans.impl,
                            org.apache.geronimo.deployment.xbeans*,
                            org.apache.geronimo.deployment.javabean.xbeans*,
                            schemaorg_apache_xmlbeans*,
                            org.apache.geronimo.deployment.dconfigbean,
                            org.apache.geronimo.deployment.service*
                        &lt;/Export-Package&gt;
                    &lt;/instructions&gt;
]]></script>
</div></div>

<p>在导入方面，所有这些类也需要导入。schemaorg_apache_xmlbeans目录有点<br clear="none">之所以有问题，是因为bnd工具无法在导入时处理通配符，除非在<br clear="none">码。代码中未引用schemaorg程序包，它们会生成许多隐式命名的目录，这些目录很难转移到导入端。对于schemaorg目录，可以使用DynamicImport-Package。这个例子来自geronimo-connector-builder-1_6插件：</p>

<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
                    &lt;instructions&gt;
                        &lt;!--packages containing &quot;impl&quot; or &quot;internal&quot; are excluded by default --&gt;
                        &lt;Import-Package&gt;org.apache.xmlbeans.impl.schema;version=&quot;2.4&quot;,org.apache.geronimo.deployment.xbeans.impl,org.apache.geronimo.deployment.javabean.xbeans.impl,*&lt;/Import-Package&gt;
                        &lt;DynamicImport-Package&gt;schemaorg_apache_xmlbeans.*&lt;/DynamicImport-Package&gt;
                        &lt;!--&lt;_versionpolicy&gt;[$(version;==;$(@)),$(version;+;$(@)))&lt;/_versionpolicy&gt;--&gt;
                    &lt;/instructions&gt;

]]></script>
</div></div>

<h3 id="OSGIconversiontips-Non-bundleinterference">非捆绑干扰</h3>
<p>构建插件的许多问题是由非捆绑式依赖项安装在felix中而不是捆绑的等效项引起的。不幸的是，似乎felix只说“无法启动非框架捆绑包”而没有告诉我们非捆绑包的位置。跑步</p>
<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
mvn dependency:tree
]]></script>
</div></div>
<p>帮助查找不良的依赖关系。与此相关的是，通常您必须从捆绑的重新包装的dependencyManagement依赖项中排除原始的jar。这似乎是maven-bundle-plugin中的严重缺陷。</p>

<h3 id="OSGIconversiontips-Assembleaservertomakesureeachsetofpluginsstarts.">组装服务器以确保每组插件都启动。</h3>
<p>我认为为每组插件组装服务器以确保它们至少启动是个好主意。这是如何做：</p>

<ol><li>跑<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
mvn archetype:create \
   -DarchetypeGroupId=org.apache.geronimo.buildsupport \
   -DarchetypeArtifactId=geronimo-assembly-archetype \
   -DarchetypeVersion=3.0-SNAPSHOT \
   -DgroupId=org.apache.geronimo.plugins \
   -DartifactId=geronimo-&lt;foo&gt;-server
]]></script>
</div></div><foo>您的插件集</foo>在哪里</li><li>将其添加到svn</li><li>将您要测试的插件添加为依赖关系</li><li>添加此文件以在使用-Pit运行时启动服务器<br clear="none">在插件管理中：<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
                &lt;plugin&gt;
                    &lt;groupId&gt;org.apache.geronimo.buildsupport&lt;/groupId&gt;
                    &lt;artifactId&gt;geronimo-maven-plugin&lt;/artifactId&gt;
                    &lt;version&gt;${version}&lt;/version&gt;

                    &lt;configuration&gt;
                       &lt;assemblyArchive&gt;${project.build.directory}/${pom.artifactId}-${pom.version}-bin.zip&lt;/assemblyArchive&gt;
                        &lt;optionSets&gt;
                            &lt;optionSet&gt;
                                &lt;id&gt;morememory&lt;/id&gt;
                                &lt;options&gt;
                                    &lt;option&gt;-Xmx512m&lt;/option&gt;
                                    &lt;option&gt;-XX:MaxPermSize=128m&lt;/option&gt;
                                &lt;/options&gt;
                            &lt;/optionSet&gt;

                            &lt;optionSet&gt;
                                &lt;id&gt;debug&lt;/id&gt;
                                &lt;options&gt;
                                    &lt;option&gt;-Xdebug&lt;/option&gt;
                                    &lt;option&gt;-Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n&lt;/option&gt;
                                &lt;/options&gt;
                            &lt;/optionSet&gt;
                        &lt;/optionSets&gt;
                    &lt;/configuration&gt;
                    &lt;executions&gt;
                         &lt;execution&gt;
                             &lt;id&gt;start&lt;/id&gt;
                             &lt;phase&gt;pre-integration-test&lt;/phase&gt;
                             &lt;goals&gt;
                                 &lt;goal&gt;start-server&lt;/goal&gt;
                             &lt;/goals&gt;
                             &lt;configuration&gt;
                                 &lt;assemblyId&gt;${it-server}&lt;/assemblyId&gt;
                                 &lt;logOutput&gt;true&lt;/logOutput&gt;
                                 &lt;background&gt;true&lt;/background&gt;
                                 &lt;verifyTimeout&gt;300&lt;/verifyTimeout&gt;
                                 &lt;refresh&gt;true&lt;/refresh&gt;
                                 &lt;optionSets&gt;
                                     &lt;optionSet&gt;
                                         &lt;id&gt;default&lt;/id&gt;
                                         &lt;options&gt;
                                            &lt;option&gt;-XX:MaxPermSize=128m&lt;/option&gt;
                                         &lt;/options&gt;
                                     &lt;/optionSet&gt;

                                     &lt;optionSet&gt;
                                          &lt;id&gt;morememory&lt;/id&gt;
                                          &lt;options&gt;
                                              &lt;option&gt;-Xmx512m&lt;/option&gt;
                                              &lt;option&gt;-XX:MaxPermSize=128m&lt;/option&gt;
                                          &lt;/options&gt;
                                      &lt;/optionSet&gt;

                                      &lt;optionSet&gt;
                                          &lt;id&gt;debug&lt;/id&gt;
                                          &lt;options&gt;
                                              &lt;option&gt;-Xdebug&lt;/option&gt;
                                              &lt;option&gt;-Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n&lt;/option&gt;
                                          &lt;/options&gt;
                                      &lt;/optionSet&gt;
                                 &lt;/optionSets&gt;
                             &lt;/configuration&gt;
                         &lt;/execution&gt;
                         &lt;execution&gt;
                             &lt;id&gt;stop&lt;/id&gt;
                             &lt;phase&gt;install&lt;/phase&gt;
                             &lt;goals&gt;
                                 &lt;goal&gt;stop-server&lt;/goal&gt;
                             &lt;/goals&gt;
                         &lt;/execution&gt;
                     &lt;/executions&gt;
                &lt;/plugin&gt;
]]></script>
</div></div>和个人资料<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
    &lt;profiles&gt;
        &lt;profile&gt;
            &lt;id&gt;it&lt;/id&gt;
            &lt;build&gt;
                &lt;plugins&gt;
                    &lt;plugin&gt;
                        &lt;groupId&gt;org.apache.geronimo.buildsupport&lt;/groupId&gt;
                        &lt;artifactId&gt;geronimo-maven-plugin&lt;/artifactId&gt;
                    &lt;/plugin&gt;
                &lt;/plugins&gt;
            &lt;/build&gt;
        &lt;/profile&gt;
    &lt;/profiles&gt;
]]></script>
</div></div></li></ol>


<p>请注意，目前-Pit实际不起作用，您必须尝试手动启动服务器</p>

<h3 id="OSGIconversiontips-Classloadingproblems">类加载问题</h3>
<p>通常，您会在启动配置时看到尝试加载类的构建问题。在大多数情况下，这是由较早发生的捆绑包解析问题引起的，但该信息已被吞噬。如果在构建中使用-X选项，则将在构建的早期给出解析错误，并且您通常可以找出其中的缺失之处。</p>

<p>有时，解决错误将是非常通用的“违反约束”，而没有太多有关实际失败原因的信息。在Felix中打开调试日志将提供一些信息，但是我发现使用以下补丁构建Felix可以更快地诊断问题：</p>

<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
Index: src/main/java/org/apache/felix/framework/searchpolicy/Resolver.java
===================================================================
--- src/main/java/org/apache/felix/framework/searchpolicy/Resolver.java	(revision 831350)
+++ src/main/java/org/apache/felix/framework/searchpolicy/Resolver.java	(working copy)
@@ -332,8 +332,12 @@
                     }
                     else
                     {
+                        System.out.println(
+                            &quot;Constraint violation for &quot; + importer
+                            + &quot; detected; module can see &quot;
+                            + rp + &quot; and &quot; + rpUses);
                         m_logger.log(
-                            Logger.LOG_DEBUG,
+                            Logger.LOG_ERROR,
                             &quot;Constraint violation for &quot; + importer
                             + &quot; detected; module can see &quot;
                             + rp + &quot; and &quot; + rpUses);
@@ -705,7 +709,7 @@
         catch (ResolveException ex)
         {
             m_logger.log(
-                Logger.LOG_DEBUG,
+                Logger.LOG_ERROR,
                 &quot;Constraint violation for &quot; + targetModule + &quot; detected.&quot;,
                 ex);
             return false;
@@ -789,7 +793,7 @@
         catch (ResolveException ex)
         {
             m_logger.log(
-                Logger.LOG_DEBUG,
+                Logger.LOG_ERROR,
                 &quot;Constraint violation for &quot; + targetModule + &quot; detected.&quot;,
                 ex);
             return false;
@@ -824,7 +828,7 @@
         catch (ResolveException ex)
         {
             m_logger.log(
-                Logger.LOG_DEBUG,
+                Logger.LOG_ERROR,
                 &quot;Constraint violation for &quot; + targetModule + &quot; detected.&quot;,
                 ex);
             return false;
@@ -875,7 +879,7 @@
                     else
                     {
                         m_logger.log(
-                            Logger.LOG_DEBUG,
+                            Logger.LOG_ERROR,
                             &quot;Constraint violation for &quot; + targetModule
                             + &quot; detected; module can see &quot;
                             + rp + &quot; and &quot; + rpUses);
Index: src/main/java/org/apache/felix/framework/ModuleImpl.java
===================================================================
--- src/main/java/org/apache/felix/framework/ModuleImpl.java	(revision 831350)
+++ src/main/java/org/apache/felix/framework/ModuleImpl.java	(working copy)
@@ -1295,7 +1295,7 @@
 
     public String toString()
     {
-        return m_id;
+        return getSymbolicName() + &quot; (&quot; + m_id + &quot;)&quot;;
     }
 
     private synchronized ModuleClassLoader getClassLoader()
@@ -1590,12 +1590,12 @@
 
             try
             {
-                dexFileClassLoadDex = dexFileClass.getMethod(&quot;loadDex&quot;, 
+                dexFileClassLoadDex = dexFileClass.getMethod(&quot;loadDex&quot;,
                     new Class[]{String.class, String.class, Integer.TYPE});
             }
             catch (Exception ex)
             {
-                // Nothing we need to do 
+                // Nothing we need to do
             }
             dexFileClassConstructor = dexFileClass.getConstructor(
                 new Class[] { java.io.File.class });
@@ -1717,7 +1717,7 @@
 
                         if (clazz == null)
                         {
-                            int activationPolicy = 
+                            int activationPolicy =
                                 ((BundleImpl) getBundle()).isDeclaredActivationPolicyUsed()
                                 ? ((BundleImpl) getBundle()).getCurrentModule().getDeclaredActivationPolicy()
                                 : IModule.EAGER_ACTIVATION;
@@ -1873,8 +1873,8 @@
                 {
                     if (m_dexFileClassLoadDex != null)
                     {
-                        dexFile = m_dexFileClassLoadDex.invoke(null, 
-                            new Object[]{content.getFile().getAbsolutePath(), 
+                        dexFile = m_dexFileClassLoadDex.invoke(null,
+                            new Object[]{content.getFile().getAbsolutePath(),
                                 content.getFile().getAbsolutePath() + &quot;.dex&quot;, new Integer(0)});
                     }
                     else

]]></script>
</div></div>



<h3 id="OSGIconversiontips-Loggingconversion">记录转换</h3>

<p>转换插件时，请确保避免以下依赖性： <code>log4j</code> ， <code>jcl-over-slf4j</code> ，<br clear="none">
<code>jul-to-slf4j</code> ， <code>slf4j-api</code> ， 要么<code>slf4j-log4j12</code> 。改为使用<code>pax-logging-api</code> 。该捆绑软件导出所有这些日志记录API。</p>

<div class="code panel pdl" style="border-width:1px"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
            &lt;dependency&gt;
                &lt;groupId&gt;org.ops4j.pax.logging&lt;/groupId&gt;
                &lt;artifactId&gt;pax-logging-api&lt;/artifactId&gt;              
            &lt;/dependency&gt;
]]></script>
</div></div>

<p>的<code>pax-logging-api</code>和...一起<code>pax-logging-service</code>在OSGi环境中提供日志记录服务，该服务可与所有常用日志记录API一起使用。</p>

<h3 id="OSGIconversiontips-GeneralOSGitips">OSGi一般提示</h3>

<ul><li>Bundle-ClassPath可以引用捆绑中的目录。确保捆绑包的JAR文件中仅存在该目录的条目。否则，可能无法从该目录加载类。</li><li>务必在bundle.findEntries（）调用的filePattern（第二个参数）中指定一些通配符，以确保在不同的OSGi框架上返回相同的条目集。</li></ul>
</div>
        </div>

        
      </div>
    </div>

    <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody><tr>
          <td align="left" valign="middle" class="footer">
              
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="美味的"> <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">在Delicious上添加书签</a> <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="掘客！"> <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title)+'&topic=programming');">挖这个</a> <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo Development : OSGI conversion tips';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
              
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">隐私权政策</a> -版权所有©2003-2011，Apache软件基金会，根据<a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0</a>许可<a href="http://www.apache.org/licenses/LICENSE-2.0">。</a>  
          </td>
        </tr>
    </tbody></table> 

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4380560-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
  

</body></html>