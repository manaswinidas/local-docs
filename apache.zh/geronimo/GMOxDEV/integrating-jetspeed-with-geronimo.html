<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <link type="text/css" rel="stylesheet" href="http://geronimo.apache.org/style/default.css">
    <LINK rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <META name="Description" content="Integrating Jetspeed with Geronimo" />
    <META name="Keywords" content="Apache Geronimo development documentation Integrating Jetspeed with Geronimo" />
    <META name="Owner" content="dev@geronimo.apache.org" />
    <META name="Robots" content="index, follow" />
    <META name="Security" content="Public" />
    <META name="Source" content="wiki template" />
    <META name="DC.Date" scheme="iso8601" content="2009-01-06" />
    <META name="DC.Language" scheme="rfc1766" content="en" />
    <META name="DC.Rights" content="Copyright Â© 2003-2011, The Apache Software Foundation" />
    <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo Development : Integrating Jetspeed with Geronimo</title>

  </head>

  <body onload="init()">

    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tr>
        <td valing="top" align="left">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </table>

    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" align="left" nowrap>
          <a href="/geronimo"> Home</a> >&nbsp;<a href="index.html">Index</a>&nbsp;&gt;&nbsp;<a href="integrating-jetspeed-with-geronimo.html">Integrating Jetspeed with Geronimo</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="hidden" name="oe" value="UTF-8" />
            <input type="hidden" name="domains" value="" />
            <input type="hidden" name="sitesearch" value="" />
            <input type="text" name="q" maxlength="255" value="" />        
            <input type="submit" name="btnG" value="Google Search" />
          </form>
        </td>
      </tr> 
    </table>

    <div id="PageContent">
      <div class="pageheader" style="padding: 6px 0px 0px 0px;">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div style="margin: 0px 10px 0px 10px" class="smalltext">Apache Geronimo Development</div>
        <div style="margin: 0px 10px 8px 10px"  class="pagetitle">Integrating Jetspeed with Geronimo</div>

        <div class="greynavbar" align="right" style="padding: 2px 10px; margin: 0px;">
<!-- -->         
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=74189">
            <img src="http://geronimo.apache.org/images/icons/notep_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Edit Page"></a>
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=74189">Edit Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDEV">
            <img src="http://geronimo.apache.org/images/icons/browse_space.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Browse Space"></a>
            <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDEV">Browse Space</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDEV&fromPageId=74189">
            <img src="http://geronimo.apache.org/images/icons/add_page_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add Page"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDEV&fromPageId=74189">Add Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDEV&fromPageId=74189">
            <img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add News"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDEV&fromPageId=74189">Add News</a>
<!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><p>The work on integrating Jetspeed with Geronimo is currently in the sandbox.<br clear="none">
<a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/">http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/</a></p>

<p>This is what the following modules do.</p>

<p><strong><a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/jetspeed-base/pom.xml?view=log"><strong>jetspeed-base</strong></a></strong><br clear="none">
This module installs 5 common jetspeed jars into the G repository.<br clear="none">
jetspeed-api-2.0.jar, jetspeed-commons-2.0.jar, pluto-1.0.1.jar, portals-bridges-common-1.0.jar, portlet-api-1.0.jar, derby-10.1.1.0.jar</p>

<p><strong><a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/jetspeed-database/pom.xml?view=log"><strong>jetspeed-database</strong></a></strong><br clear="none">
This module carries <a shape="rect" class="external-link" href="http://svn.apache.org/repos/asf/geronimo/sandbox/jetspeed-integration/jetspeed-database/src/main/database/">SQL scripts</a> for different DBs. These SQL scripts are used to create DB tables and initialize them.</p>

<p><strong><a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/jetspeed-derby-database/pom.xml?view=log"><strong>jetspeed-derby-database</strong></a></strong><br clear="none">
This is the CAR configuration for jetspeed's derby datasource. It includes the connector module tranql-connector-embed-local.rar. It invokes the o.a.g.connector.DatabaseInitializationGBean which executes the derby SQL scripts that were carried in the above etspeed-database module.</p>

<p><strong><a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/jetspeed-geronimo/pom.xml?view=log"><strong>jetspeed-geronimo</strong></a></strong><br clear="none">
This module carries and installs the jars for jetspeed's portal runtime. It has the <a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/jetspeed-geronimo/src/main/java/org/apache/geronimo/jetspeed/integration/JetspeedSerializerGBean.java?view=log">JetspeedSerializerGBean</a> which will be used to seed/populate the databases before the portal starts.</p>

<p><strong><a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/jetspeed-tomcat/pom.xml?view=log"><strong>jetspeed-tomcat</strong></a></strong><br clear="none">
This is a configuration for Jetspeed portal application on Tomcat web container.<br clear="none">
It carries -<br clear="none">
a) db-page-manager.xml, interceptor.xml and request-context.xml that will be needed to seed some tables.<br clear="none">
b) <a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/jetspeed-tomcat/src/main/boot/geronimo-datasource.xml?view=log">geronimo-datasource.xml</a> which will be used by Spring to seed the tables.<br clear="none">
c) <a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/jetspeed-tomcat/src/main/j2-seed.xml?view=log">j2-seed.xml</a> which provide data for seeding the tables.<br clear="none">
It invokes the JetspeedSerializerGBean from the above module which uses a bunch of other xmls in the web-inf/assembly directory of the jetspeed application to seed the tables.</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script class="brush: java; gutter: false; theme: Default" type="syntaxhighlighter"><![CDATA[
10:01:47,367 INFO  [LocalAttributeManager] Added gbeans for module: org.apache.geronimo.configs/jetspeed-tomcat/2.1-SNAPSHOT/car load: true
APP ROOT is C:\Apache\geronimo-tomcat6-javaee5-2.1-SNAPSHOT\repository\org\apache\geronimo\configs\jetspeed-tomcat\2.1-SNAPSHOT\jetspeed-tomcat-2.1-SNAPSHOT.car
starter framework created org.apache.jetspeed.components.jndi.SpringJNDIStarter@1149771
10:01:51,013 INFO  [TyrexJNDIComponent] JNDI successfully initiallized
10:01:51,033 INFO  [DBCPDatasourceComponent] Setting up data source pooling for org.apache.derby.jdbc.EmbeddedDriver
10:01:51,033 INFO  [DBCPDatasourceComponent] Max active connnections set to: 20
10:01:51,033 INFO  [DBCPDatasourceComponent] Pool is set to &quot;2&quot; when all connections are exhausted.
10:01:51,033 INFO  [DBCPDatasourceComponent] Attempting to start DBCPCDatasourceComponent.
10:01:51,073 INFO  [DBCPDatasourceComponent] DBCPCDatasourceComponent successfuly started!
10:01:51,313 INFO  [FileSystemXmlApplicationContext] Refreshing org.springframework.context.support.FileSystemXmlApplicationContext@10c9d49: display name [org.springframework.context.support.FileSystemXmlApplicationContext@10c9d49]; startup date [Tue Dec 11 10:01:51 EST 2007]; root of context hierarchy
10:01:51,664 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/boot/geronimo-datasource.xml]
10:01:52,935 INFO  [FileSystemXmlApplicationContext] Bean factory for application context [org.springframework.context.support.FileSystemXmlApplicationContext@10c9d49]: org.springframework.beans.factory.support.DefaultListableBeanFactory@6d05ee
10:01:53,026 INFO  [DefaultListableBeanFactory] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@6d05ee: defining beans [ojbConfigurer,PlatformConfigurator,JetspeedDS]; root of factory hierarchy
##### platform = Hsqldb
10:01:54,558 INFO  [FileSystemXmlApplicationContext] Refreshing org.springframework.context.support.FileSystemXmlApplicationContext@b549af: display name [org.springframework.context.support.FileSystemXmlApplicationContext@b549af]; startup date [Tue Dec 11 10:01:54 EST 2007]; parent: org.springframework.context.support.FileSystemXmlApplicationContext@10c9d49
10:01:54,568 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/cache.xml]
10:01:54,658 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/capabilities.xml]
10:01:54,728 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/db-page-manager.xml]
10:01:54,808 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/interceptors.xml]
10:01:54,868 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/prefs.xml]
10:01:54,928 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/profiler.xml]
10:01:55,018 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/registry.xml]
10:01:55,089 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/request-context.xml]
10:01:55,149 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/security-atn.xml]
10:01:55,209 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/security-atz.xml]
10:01:55,269 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/security-managers.xml]
10:01:55,339 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/security-providers.xml]
10:01:55,429 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/security-spi-atn.xml]
10:01:55,499 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/security-spi-atz.xml]
10:01:55,569 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/security-spi.xml]
10:01:55,629 INFO  [XmlBeanDefinitionReader] Loading XML bean definitions from URL [file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/assembly/transaction.xml]
10:01:55,709 INFO  [FileSystemXmlApplicationContext] Bean factory for application context [org.springframework.context.support.FileSystemXmlApplicationContext@b549af]: org.springframework.beans.factory.support.DefaultListableBeanFactory@1247834
10:01:56,370 INFO  [DefaultListableBeanFactory] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1247834: defining beans [cacheManager,ehPortletContentCache,ContentCacheKeyGenerator,portletContentCache,ehDecorationContentCache,decorationContentCache,ehPreferencesCache,preferencesCache,ehPortletApplicationOidCache,ehPortletApplicationNameCache,ehDesktopContentCache,portletApplicationOidCache,portletApplicationNameCache,desktopContentCache,ehPortletDefinitionOidCache,ehPortletDefinitionNameCache,portletDefinitionOidCache,portletDefinitionNameCache,ehActiveAuthenticationCache,activeAuthenticationCache,capabilitiesImpl,org.apache.jetspeed.capabilities.Capabilities,Client,MediaType,MimeType,Capability,org.apache.jetspeed.page.PageManagerImpl,org.apache.jetspeed.page.PageManager,injectPageManagerProxy,org.apache.jetspeed.portalsite.PortalSite,pageManagerInterceptor,PageManagerTransactionProxy,PreferencesProviderImpl,org.apache.jetspeed.prefs.PreferencesProvider,java.util.prefs.PreferencesFactory,profilerImpl,org.apache.jetspeed.profiler.Profiler,ProfileResolvers,StandardResolver,SessionResolver,RequestSessionResolver,PathResolver,PathSessionResolver,HardCodedResolver,UserCriterionResolver,RoleCriterionResolver,RoleComboCriterionResolver,GroupCriterionResolver,MediatypeCriterionResolver,LanguageCriterionResolver,CountryCriterionResolver,GroupRoleUserCriterionResolver,UserAttributeResolver,NavigationCriterionResolver,UserAgentCriterionResolver,IPCriterionResolver,HostnameCriterionResolver,DomainCriterionResolver,StandardProfilingRule,RoleFallbackProfilingRule,ProfileLocator,PrincipalRule,RuleCriterion,portletFactory,portletRegistryImpl,org.apache.jetspeed.components.portletregistry.PortletRegistry,portletEntityAccessImpl,org.apache.jetspeed.components.portletentity.PortletEntityAccessComponent,injectEntityAccessProxy,org.apache.jetspeed.request.RequestContextComponent,org.apache.jetspeed.userinfo.UserInfoManager,org.apache.jetspeed.security.LoginModuleProxy,org.apache.jetspeed.security.impl.RdbmsPolicy,org.apache.jetspeed.security.UserManager,org.apache.jetspeed.security.GroupManager,org.apache.jetspeed.security.RoleManager,org.apache.jetspeed.security.impl.PermissionManagerImpl,org.apache.jetspeed.security.PermissionManager,org.apache.jetspeed.security.AuthenticationProvider,org.apache.jetspeed.security.AuthenticationProviderProxy,org.apache.jetspeed.security.SecurityProvider,org.apache.jetspeed.security.AuthorizationProvider,org.apache.jetspeed.security.spi.CredentialPasswordValidator,org.apache.jetspeed.security.spi.CredentialPasswordEncoder,org.apache.jetspeed.security.spi.PasswordCredentialProvider,org.apache.jetspeed.security.spi.InternalPasswordCredentialInterceptor,org.apache.jetspeed.security.spi.CredentialHandler,org.apache.jetspeed.security.spi.UserSecurityHandlerImpl,org.apache.jetspeed.security.spi.UserSecurityHandler,org.apache.jetspeed.security.spi.RoleSecurityHandler,org.apache.jetspeed.security.spi.GroupSecurityHandler,org.apache.jetspeed.security.spi.SecurityMappingHandler,org.apache.jetspeed.security.spi.impl.SecurityAccessImpl,org.apache.jetspeed.security.spi.SecurityAccess,transactionManager,baseTransactionProxy]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@6d05ee
10:01:56,380 INFO  [EhCacheManagerFactoryBean] Initializing EHCache CacheManager
10:01:56,881 INFO  [JetspeedCapabilities] Merging OJB respository jar:file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/lib/jetspeed-capability-2.1.3-dev.jar!/JETSPEED-INF/ojb/capabilities_repository.xml for DAO class org.apache.jetspeed.capabilities.impl.JetspeedCapabilities
10:01:57,833 INFO  [DatabasePageManager] Merging OJB respository jar:file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/lib/jetspeed-page-manager-2.1.3-dev.jar!/JETSPEED-INF/ojb/page-manager-repository.xml for DAO class org.apache.jetspeed.page.impl.DatabasePageManager
10:01:58,794 INFO  [PersistenceBrokerPreferencesProvider] Merging OJB respository jar:file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/lib/jetspeed-prefs-2.1.3-dev.jar!/JETSPEED-INF/ojb/prefs_repository.xml for DAO class org.apache.jetspeed.prefs.impl.PersistenceBrokerPreferencesProvider
10:02:00,516 INFO  [JetspeedProfilerImpl] Merging OJB respository jar:file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/lib/jetspeed-profiler-2.1.3-dev.jar!/JETSPEED-INF/ojb/profiler_repository.xml for DAO class org.apache.jetspeed.profiler.impl.JetspeedProfilerImpl
10:02:00,757 INFO  [PersistenceBrokerPortletRegistry] Merging OJB respository jar:file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/lib/jetspeed-registry-2.1.3-dev.jar!/JETSPEED-INF/ojb/registry_repository.xml for DAO class org.apache.jetspeed.components.portletregistry.PersistenceBrokerPortletRegistry
10:02:01,127 INFO  [SecurityAccessImpl] Merging OJB respository jar:file:/C:/Apache/geronimo-tomcat6-javaee5-2.1-SNAPSHOT/repository/org/apache/geronimo/configs/jetspeed-tomcat/2.1-SNAPSHOT/jetspeed-tomcat-2.1-SNAPSHOT.car/WEB-INF/lib/jetspeed-security-2.1.3-dev.jar!/JETSPEED-INF/ojb/security_repository.xml for DAO class org.apache.jetspeed.security.spi.impl.SecurityAccessImpl
starter framework established org.apache.jetspeed.components.jndi.SpringJNDIStarter@1149771
processing import  C:\Apache\geronimo-tomcat6-javaee5-2.1-SNAPSHOT\repository\org\apache\geronimo\configs\jetspeed-tomcat\2.1-SNAPSHOT\jetspeed-tomcat-2.1-SNAPSHOT.car\WEB-INF\j2-seed.xml
org.apache.jetspeed.serializer.objects.JSSeedData created
JSSeedData Class created
]]></script>
</div></div>
<p>During the process-resources phase of building this configuration, the j2-layouts.jar is dropped in the jetspeed app's web-inf/deploy dir. Once the portal app starts running, it deploys the layouts appropriately.</p>

<p><strong><a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/geronimo-jetspeed-deployer/jetspeed-builder/pom.xml?view=log"><strong>jetspeed-builder</strong></a></strong><br clear="none">
It has the <a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/geronimo-jetspeed-deployer/jetspeed-builder/src/main/java/org/apache/geronimo/jetspeed/deployment/JetspeedModuleBuilderExtension.java?view=log">JetspeedModuleBuilderExtension</a>.</p>

<p><strong><a shape="rect" class="external-link" href="http://svn.apache.org/viewvc/geronimo/sandbox/jetspeed-integration/geronimo-jetspeed-deployer/jetspeed-deployer/pom.xml?view=log"><strong>jetspeed-deployer</strong></a></strong><br clear="none">
Configuration for the above jetspeed-builder.</p>

<h2 id="IntegratingJetspeedwithGeronimo-Status">Status</h2>

<p>The jetspeed portal application starts up fine.<br clear="none">
The j2-layouts portlet application seems to deploy fine when placed under web-inf/deploy.<br clear="none">
The j2-admin portlet app seems to deploy fine using the jetspped-deployer.</p>

<p>However, accessing the portal app at <a shape="rect" class="external-link" href="http://localhost:8080/portal" rel="nofollow">http://localhost:8080/portal</a> returns a 500 error because the portal loads web-inf/pages/<a shape="rect" class="external-link" href="http://svn.apache.org/repos/asf/portals/jetspeed-2/branches/JETSPEED-2.1.3/src/webapp/WEB-INF/pages/default-page.psml">default-pages.psml</a>. This contains fragments from j2-layouts and j2-admin portlet apps. The portal app cannot recognize portlet apps under it.</p>

<p>The portlet app deployed in this portal should have the portal configuration as it's parent. But the portal app now cannot see the child portlet app when it tries to load fragments from it. I <strong>think</strong> this is what is happening. </p></div>
        </div>

        
      </div>
    </div>

    <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tr>
          <td align="left" valign="middle" class="footer">
            &nbsp;&nbsp;
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="Delicious" />
            <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">Bookmark this on Delicious</a>
            &nbsp;&nbsp;
            <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="Digg!" />
            <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)+'&amp;topic=programming');">Digg this</a>
            <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo Development : Integrating Jetspeed with Geronimo';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
            &nbsp;&nbsp;
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">Privacy Policy</a>&nbsp;&nbsp;-&nbsp;&nbsp;
            Copyright &#169; 2003-2011, The Apache Software Foundation, Licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0.</a>&nbsp;&nbsp;
          </td>
        </tr>
    </table> 

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4380560-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
  </body>
</html>
