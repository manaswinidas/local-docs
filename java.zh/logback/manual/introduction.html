<html  xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
    <title>第一章：简介</title>
    <link rel="stylesheet" type="text/css" href="../css/common.css">
    <link rel="stylesheet" type="text/css" href="../css/screen.css" media="screen">
    <link rel="stylesheet" type="text/css" href="../css/_print.css" media="print">
    <link rel="stylesheet" type="text/css" href="../css/prettify.css" media="screen">    

  </head>
  <body  onload="prettyPrint(); decorate();">
    <script type="text/javascript">prefix='../';</script>
    <script type="text/javascript" src="../js/prettify.js"></script>
    <script src="../templates/header.js" type="text/javascript"> </script>
    <script type="text/javascript" src="../js/jquery-min.js"></script>
    <script type="text/javascript" src="../js/decorator.js"></script>
    <div id="left">
      <noscript>请打开Javascript查看此菜单</noscript>
      <script src="../templates/left.js" type="text/javascript"></script>
    </div>
    <div id="right">
      <script src="menu.js" type="text/javascript"></script>
    </div>
    <div id="content">

    <h1>第一章：简介</h1>

    <div class="quote">
      <p><em>士气的影响令人震惊。如果有一个正在运行的系统，甚至是一个简单的系统，热情就会跳跃。当新图形软件系统的第一张图片出现在屏幕上时，即使只是矩形，也会加倍努力。在过程的每个阶段，始终都有一个工作系统。我发现团队可以在四个月内发展出比建立起来复杂得多的实体。</em></p>
      
      <p>— JR.FREDERICK P. BROOKS， <em>《神话人月》</em></p>
    </div>


    <script src="../templates/creative.js" type="text/javascript"></script>

  
    <h2>什么是logback？</h2>

    <a href="introduction_ja.html">和訳（日语翻译）</a>
  
    <p>Logback旨在作为流行的log4j项目的后继者。它是由log4j的创始人CekiGülcü设计的。它建立在十年的工业强度测井系统设计经验的基础上。最终的产品（即logback）比所有现有的日志记录系统更快，并且占用的空间更小，有时差距很大。同样重要的是，logback提供了其他日志记录系统中缺少的<a href="../reasonsToSwitch.html">独特且相当有用的功能</a> 。
    </p>

    <h2>第一步</h2>

    <script src="../templates/setup.js" type="text/javascript"></script>
    
    <a name="Requirements"></a>
    <h3>要求</h3>

    <p>Logback-classic模块除了在类路径上的<em>logback-classic.jar</em>外，还要求存在<em>slf4j-api.jar</em>和<em>logback-core.jar</em> 。
    </p>

    <p><em>logback-*。jar</em>文件是logback发行版的一部分，而<em>slf4j-api-2.0.0-alpha1.jar</em>随单独的项目<a href="http://www.slf4j.org">SLF4J</a>一起提供。
    </p>

    <p>现在让我们开始尝试logback。</p>

<em>例1.1：记录的基本模板（ <a href="../xref/chapters/introduction/HelloWorld1.html">logback-examples / src / main / java / chapters / introduction / HelloWorld1.java</a> ）</em>
<pre class="prettyprint source">package chapters.introduction;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class HelloWorld1 {

  public static void main(String[] args) {

    Logger logger = LoggerFactory.getLogger("chapters.introduction.HelloWorld1");
    logger.debug("Hello world.");

  }
}</pre>

    <p><code>HelloWorld1</code>类在<code>chapters.introduction</code>包。首先导入<a href="http://slf4j.org/api/org/slf4j/Logger.html"><code>Logger</code></a>和<a href="http://slf4j.org/api/org/slf4j/LoggerFactory.html"><code>LoggerFactory</code></a> SLF4J API中定义的类，特别是在<code>org.slf4j</code>包。
    </p>


    <p>在main（）方法的第一行，名为<code>logger</code>被分配了一个<code>Logger</code>通过调用静态检索的实例<code>getLogger</code>的方法<code>LoggerFactory</code>类。该记录器名为“ chapters.introduction”。HelloWorld1”。main方法继续调用<code>debug</code>该记录器传递“ Hello World”作为参数的方法。我们说main方法包含一个DEBUG级别的日志记录语句，消息为“ Hello world”。
    </p>

    <p>请注意，以上示例未引用任何logback类。在大多数情况下，就日志记录而言，您的类仅需要导入SLF4J类。因此，绝大多数（如果不是全部）您的类将使用SLF4J API，并且不会考虑logback的存在。
    </p>


    <p>您可以启动第一个示例应用程序“ <em>chapters.introduction”。HelloWorld1</em>使用以下命令：</p>
    <div class="source"><pre>java chapters.introduction.HelloWorld1</pre></div>

    <p>启动<code>HelloWorld1</code>应用程序将在控制台上输出一行。根据logback的默认配置策略，当未找到默认配置文件时，logback将添加一个<code>ConsoleAppender</code>到根记录器。
    </p>

    <p class="source">20：49：07.962 [main] DEBUG章节。简介。HelloWorld1-世界您好。</p>

    <p>Logback可以使用内置状态系统报告有关其内部状态的信息。可以通过称为的组件访问在logback生存期内发生的重要事件。 <code>StatusManager</code> 。目前，让我们通过调用static命令指示logback打印其内部状态<code>print()</code>的方法<code>StatusPrinter</code>类。
    </p>

<em>示例：打印记录器状态（ <a href="../xref/chapters/introduction/HelloWorld2.html">logback-examples / src / main / java / chapters / introduction / HelloWorld2.java</a> ）</em>
<pre class="prettyprint source">package chapters.introduction;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
<b>import ch.qos.logback.classic.LoggerContext;
import ch.qos.logback.core.util.StatusPrinter;</b>

public class HelloWorld2 {

  public static void main(String[] args) {
    Logger logger = LoggerFactory.getLogger("chapters.introduction.HelloWorld2");
    logger.debug("Hello world.");

    // print internal state
    <b>LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();
    StatusPrinter.print(lc);</b>
  }
}</pre>


   <p>运行<code>HelloWorld2</code>应用程序将产生以下输出：</p>

<div class="source longline"><pre>12:49:22.203 [main] DEBUG chapters.introduction.HelloWorld2 - Hello world.
12:49:22,076 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]
12:49:22,078 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]
12:49:22,093 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]
12:49:22,093 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Setting up default configuration.
</pre></div>


  <p>Logback解释说，未能找到<em>logback-test.xml</em>和<em>logback.xml</em>配置文件（稍后讨论），它使用其默认策略（它是一个基本的<code>ConsoleAppender</code> 。一个<code>Appender</code>是可以视为输出目标的类。附加程序存在于许多不同的目的地，包括控制台，文件，Syslog，TCP套接字，JMS等。用户还可以根据自己的具体情况轻松创建自己的Appender。
  </p>

  <p>请注意，如果出现错误，logback将自动在控制台上打印其内部状态。</p>

  <p>前面的例子很简单。在更大的应用程序中的实际登录不会有太大不同。记录语句的一般模式不会改变。只有配置过程会有所不同。但是，您可能需要根据需要自定义或配置登录。后续章节将介绍Logback配置。
  </p>

  <p>请注意，在上面的示例中，我们已指示logback通过调用以下命令来打印其内部状态： <code>StatusPrinter.print()</code>方法。Logback的内部状态信息对于诊断与Logback相关的问题非常有用。
  </p>

  <p>以下是启用登录应用程序所需的三个步骤的列表。
  </p>

  <ol> 
    <li>配置登录环境。您可以通过几种或多或少的复杂方法来执行此操作。稍后再详细介绍。</li>

    <li>在您希望执行日志记录的每个类中，检索一个<code>Logger</code>通过调用实例<code>org.slf4j.LoggerFactory</code>类' <code>getLogger()</code>方法，将当前的类名或类本身作为参数传递。</li>
    
    <li>通过调用其记录方法（即debug（），info（），warn（）和error（）方法）使用此记录器实例。这将在配置的附加程序上生成日志记录输出。</li>
  </ol>
 
  
  <h2 class="doAnchor" name="building">建立登录</h2>
  
  <p>作为其构建工具，logback依赖于<a href="http://maven.apache.org">Maven</a> （一种广泛使用的开源构建工具）。
  </p>

  <p>一旦安装了Maven，构建logback项目（包括其所有模块）应该与发布<code>mvn install</code>从取消存档回发分发目录的目录中执行命令。Maven将自动下载所需的外部库。
  </p>

  <p>Logback发行版包含完整的源代码，因此您可以修改Logback库的一部分并构建自己的版本。只要您遵守LGPL许可证或EPL许可证的条件，您甚至可以重新分发修改后的版本。
  </p>

  <p>要在IDE下构建登录，请参阅<a href="../setup.html#ide">类路径设置页面上的相关部分</a> 。</p>
  
  <script src="../templates/footer.js" type="text/javascript"></script>
</div>


</body></html>