<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml"><head></head><body dir="ltr" onload="prettyPrint(); decorate();"></ s> </ s> </ s> <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>第1章：はじめに</title>
    <link rel="stylesheet" type="text/css" href="../css/common.css">
    <link rel="stylesheet" type="text/css" href="../css/screen.css" media="screen">
    <link rel="stylesheet" type="text/css" href="../css/_print.css" media="print">
    <link rel="stylesheet" type="text/css" href="../css/prettify.css" media="screen">
    
  
  
    <script type="text/javascript">prefix='../';</script>
    <script type="text/javascript" src="../js/prettify.js"></script>
    <script src="../templates/header.js" type="text/javascript"></script>
    <script type="text/javascript" src="../js/jquery-min.js"></script>
    <script type="text/javascript" src="../js/decorator.js"></script>
    <div id="left">
      <noscript>请打开Javascript查看此菜单</noscript>
      <script src="../templates/left.js" type="text/javascript"></script>
    </div>
    <div id="right">
      <script src="menu_ja.js" type="text/javascript"></script>
    </div>
    <div id="content">

    <h1>第1章はじめに</h1>

    <div class="quote">
      <p><em>のもたらす效果には惊くべきものがある。例え简単なシステムであろうとも，一つでも稼働しているシステムがあれば热意は燃え上がる。新しいグラフィカルフトウェアを使って，スクリーンに画像が表示されたなら，たとえそれが単纯な四角形であったとしても，その效果は倍増する。システムを稼働させるまでのプロセス一つ一つにそういう瞬间があるものだ。チームが四ヶ月かけて何かを成し遂げたなら，きっとそれ以上に复雑なことが出来るほどに成长できることに気付かされたものだ。</em></p>
      
      <p>— JR.FREDERICK P. BROOKS， <em>《神话人月》</em></p>
    </div>


    <script src="../templates/creative.js" type="text/javascript"></script>

    <h2>logbackとは何か？</h2>

    <p>Logbackは巷で大人気のlog4jプロジェクトの后継プロジェクトです。log4jの创始者であるCekiGülcüによって设计されました。强固で顽健なロギングシステムの十年间に及ぶ経験に基いて设计，构筑されています。log，logbackは既存のロギングシステムと比べてより高速で，より小さなフットプリントを持つようになりました。场合によってはその差は非常に大きなこともあります。同じくらい重要なのが，logbackは他のロギングシステムには无い<a href="http://logback.qos.ch/reasonsToSwitch.html">固有の便利なフィーチャ</a>を提供していることです。
    </p>

    <h2>最初のステップ</h2>

    <script src="../templates/setup.js" type="text/javascript"></script>
    
    <a name="Requirements"></a>
    <h3>必要条件</h3>

    <p>logback-classic moジュールを动かす际は，クラスパス上に<em>slf4j-api.jar</em>と<em>logback-core.jar</em>と<em>logback-classic.jar</em>が配置されている必要があります。
    </p>

    <p><em>logback-*。jar</em>ファイルはlogbackの配布物に含まれていますが，{0] slf4j-api-1.7.6.jarは别のプロジェクトである<a href="http://www.slf4j.org">SLF4J</a>の配布物です。
    </p>

    <p>log，logbackを使ってみましょう。</p>

<em>例1.1：ロギングの基本的なテンプレート（ <a href="http://logback.qos.ch/xref/chapters/introduction/HelloWorld1.html">logback-examples / src / main / java / chapters / introduction / HelloWorld1.java</a> ）</em>
<pre class="prettyprint source">package chapters.introduction;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class HelloWorld1 {

  public static void main(String[] args) {

    Logger logger = LoggerFactory.getLogger("chapters.introduction.HelloWorld1");
    logger.debug("Hello world.");

  }
}</pre>

    <p><code>HelloWorld1</code>クラスは<code>chapters.introduction</code>パッケージに定义されています。最初にSLF4JのAPIである<a href="http://slf4j.org/api/org/slf4j/Logger.html"><code>Logger</code></a>と<a href="http://slf4j.org/api/org/slf4j/LoggerFactory.html"><code>LoggerFactory</code></a>を<code>org.slf4j</code>パッケージからインポートしています。
    </p>


    <p>main（）メソッドの最初の行では， <code>LoggerFactory</code>クラスの静态メソッドである<code>getLogger</code>メソッドの返す<code>Logger</code>クラスのインスタンスを， <code>logger</code>変数に代入します。记录器には“ chapters.introduction。HelloWorld1“という名前が付けられています。次の处理では，引数として“ Hello World”を渡して，loggerの<code>debug</code>メソッドを呼び出しています。で一言で表すと，主要メソッ“，” Hello World“というメッセージのDEBUGレベルのロギングがある，と言えます。
    </p>

    <p>上记の例では，logbackのクラスを一つも参照していないことに注意してください。LFとんどの场合，ロギングは本来の仕事ではないので，あなたのクラスではSLF4Jのクラスをインポートするだけでよいのです。LFのように，全てではないにしても，あなたのクラスの大半はSLF4J APIを使用するだけで，logbackの存在には気づかないでしょう。
    </p>


    <p>このサンプルアプリケーション（ <em>章节。简介。HelloWorld1</em> ）は次のコマンドで実行することができます。</p>
    <div class="source"><pre>java chapters.introduction.HelloWorld1</pre></div>

    <p><code>HelloWorld1</code>アプリケーションを実行すると，コンソールに何かが一行出力されます。logbackのデフォルトの设定ポリシーにより，デフォルトの设定ファイルが见つからない场合はルートロガーに<code>ConsoleAppender</code>を割り当てるようになっています。
    </p>

    <p class="source">20：49：07.962 [main] DEBUG章节。简介。HelloWorld1-世界您好。</p>

    <p>logbackは组み込みの状态管理システムによって，内部状态をレポートすることができます。<code>StatusManager</code>と呼ばれるコンポーネントを通じて，logbackが有效になってから発生した重要なイベントの回数にアクセスすることができます。しばらくは， <code>StatusPrinter</code>クラスの<code>print()</code>ドによってッドによってlogbackの内部状态を出力することにします。
    </p>

<em>例：ロガーの内部状态を出力する（ <a href="http://logback.qos.ch/xref/chapters/introduction/HelloWorld2.html">logback-examples / src / main / java / chapters / introduction / HelloWorld2.java</a> ）</em>
<pre class="prettyprint source">package chapters.introduction;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
<b>import ch.qos.logback.classic.LoggerContext;
import ch.qos.logback.core.util.StatusPrinter;</b>

public class HelloWorld2 {

  public static void main(String[] args) {
    Logger logger = LoggerFactory.getLogger("chapters.introduction.HelloWorld2");
    logger.debug("Hello world.");

    // print internal state
    <b>LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();
    StatusPrinter.print(lc);</b>
  }
}</pre>


   <p><code>HelloWorld2</code>アプリケーションを実行すると次のように出力されます。</p>

<div class="source longline"><pre>12:49:22.203 [main] DEBUG chapters.introduction.HelloWorld2 - Hello world.
12:49:22,076 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]
12:49:22,078 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]
12:49:22,093 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]
12:49:22,093 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Setting up default configuration.
</pre></div>


  <p>これは，logbackが设置フがイルである<em>logback-test.xml</em>と<em>logback.xml</em>を见つけられなかったことを意味しています（详しくは后述します）。基本，デフォルトポリシー（基本的な<code>ConsoleAppender</code>を使います）を使うように自分自身を设定しています。<code>Appender</code>とは，出力先として使用されるクラスのことです。既存のアペンダーには，コンソール，ファイル，Syslog，TCPソケット，JMSなどをいろいろな出力先のクラスが存在が。ユーザーは自分たちの状况に応じたアペンダーを简単に作ることができます。
  </p>

  <p>异常が起きた场合，内部状态を自动的にコンソールに出力するようになっています。</p>

  <p>前の例はかなり単纯なものでした。とはいえ，大きなアプリケーションショ行ショいる実际のロギングもそんなに大きく変わるものではありません。一般的なロギング文の形式は変わらないでしょう。违うとしたら设定处理ですね。しかし，必要に応じたカスタマイズや设定をしたくなるでしょう。logbackを设定する方法については，以降の章で说明します。
  </p>

  <p>正面した例では， <code>StatusPrinter.print()</code>メソッドによって内部状态を出力するように命令していることに注意してください。logbackの内部状态は，logbackに起因する问题を调查するために非常に役立ちます。
  </p>

  <p>グをのアプリケーションでロギングを有效にするための手顺は次の三つです。
  </p>

  <ol> 
    <li>logbackの环境を准备します。やり方はさまざまです。详细は后述します。</li>

    <li>ロギングをしたい全てのクラスで， <code>org.slf4j.LoggerFactory</code>の<code>getLogger()</code>メソッドによって<code>Logger</code>のインスタンスを取得しましょう。<code>getLogger()</code>メソッドにはクラス名やクラスオブジェクト自体を引数にしましょう。</li>
    
    <li>记录器インスタンスのロギング用メソッドを呼び出しましょう。debug（）info（）warn（）error（）といったものがあります。そうすれば，アペンダーとして设定した出力先にログが出力されます。</li>
  </ol>
 
  
  <h2 class="doAnchor" name="building">logbackをビルドする</h2>
  
  <p>logbackはビルドツールとしてMavenを使用しています。<a href="http://maven.apache.org">Maven</a>はオープンソースのビルドツールで，広く利用されているものです。
  </p>

  <p>Mavenをインストールしたら，logbackの配布物を展开して，展开先のディレクトリに移动します。そして<code>mvn install</code>コマンドを実行すれば，全てのモジュールがビルドされます。Mavenは必要な外部ライブラリを自动的にダウンロードします。
  </p>

  <p>logbackの配布物には完全なソースコードが含ドがいるので，编集して自分だけのバージョンのライブラリをビルドすることができます。log修正したバージョンの登录は，LGPLライセンス，もしくは，EPLライセンスに従って再配布することもできます。
  </p>

  <p>IDEからlogbackドするルドする场合は<a href="http://logback.qos.ch/setup.html#ide">クラスパスの设定について说明したページ</a>を参照してください。</p>
  
  <script src="../templates/footer.js" type="text/javascript"></script>
</div>

</body></html>