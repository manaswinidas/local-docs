<html  xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
    <title>登录常见问题解答</title>
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/screen.css" media="screen">
    <link rel="stylesheet" type="text/css" href="css/_print.css" media="print">

  </head>
  <body >
    <script type="text/javascript">prefix='';</script>

    <script src="templates/header.js" type="text/javascript"></script>
    <div id="left">
      <script src="templates/left.js" type="text/javascript"></script>
    </div>
    <div id="right">
      <script src="templates/right.js" type="text/javascript"></script>
    </div>

    <div id="content">
	
    <h2>
      <a name="top">经常问的问题</a>
    </h2>
      
    <h3>登录项目</h3>

    <ol>
      <li><a href="#why_lgpl">为什么logback是根据LGPL而不是Apache Software License分发的？</a> </li>

      <li><a href="#dependecy">什么是logback的依赖项，即JDK版本和第三方库？</a>
      </li>
    </ol>
  
                      
    <h3>经典后退</h3>
    
    
    <ol type="1">    
      <li>
        <a href="#logger_serialization">Logback记录器是否可序列化？</a>
      </li>  
      
      <li>
        <a href="#auto_config">自动配置如何工作？</a>
      </li>  

      <li>
        <a href="#configFileLocation">配置文件（例如<em>logback.groovy</em> ， <em>logback-test.xml</em>或<em>logback.xml）</em>应放在类路径中的什么位置？</a> </li>

      <li>
        <a href="#sharedConfiguration">是否有可能多个JEE应用程序共享相同的配置文件，但又不会互相影响？
        </a>
      </li>

      <li>
        <a href="#overrideFromCL">如何从命令行禁用日志记录？
        </a>
      </li>

      <li>
        <a href="#setup_jetty">如何指示Jetty使用经典的logback作为其日志记录实现？
        </a>
      </li>
    </ol>
    
    <!-- =============================================================== -->
    <!-- =============================================================== -->
    <!-- =============================================================== -->
    <!-- =============================================================== -->
  
        
    <div class="section">
      <h2>登录项目</h2>
      
      <dl>
        <dt>
          <a name="why_lgpl" href="#why_lgpl">为什么在LGPL下而不是在Apache软件许可（ASL）下分发回发日志？</a> </dt>
        
        <dd>
          <p>由于两个主要原因，logback项目在LGPL和EPL下获得了双重许可。首先，不同的许可证强调了事实，即logback与log4j是一个相关但<em>不同的</em>项目。
          </p>

          <p>LGPL和EPL都是合理且被广泛接受的许可证。与ASL相比，LGPL和EPL都要求衍生作品必须在同一许可证下获得许可。尽管可能会对衍生作品的确切定义争论不休，但我们发现这种互惠既有道理又在道德上具有吸引力-这是我们选择LGPL和EPL双重许可的第二个原因。ASL中包含的巧妙而自由的方法不一定是错误的。这是不同平衡的表达。
          </p>
          
        </dd>
      </dl>

      <hr>

      <dl>
        <dt><a name="dependecy" href="#dependecy">什么是logback的依赖项，即JDK版本和第三方库？</a>
        </dt>

        <dd><p>这个问题在一个专门的依赖问题<a href="dependencies.html">页面</a>上得到回答。</p>
        </dd>
      </dl>


    </div>
    
    <div class="section">
      <h2>经典的Logback</h2>
      <dl>
        
        <!-- ========================================================= -->
        
        <dt>
          <a name="auto_config" href="#auto_config">自动配置如何工作？
          </a>
        </dt>
        <dd>
          <p>这个问题可以在logback手册的<a href="manual/configuration.html#auto_configuration">相关章节</a>中得到解答。
          </p>        
          <hr>
        </dd>
        

        <!-- ========================================================= -->

        <dt>

          <a name="configFileLocation" href="#configFileLocation">配置文件（例如<em>logback.groovy</em> ， <em>logback-test.xml</em>或<em>logback.xml）</em>应放在类路径中的什么位置？</a>
        </dt>


        <dd>
          <p>配置文件，如<em>logback.groovy，</em> <em>的logback-的test.xml</em>或<em>logback.xml</em>可以<b>直接</b>定位在任何文件夹中的类路径声明。例如，如果类路径读取为“ c：/java/jdk15/lib/rt.jar; c：/ mylibs /”，则<em>logback.xml</em>文件应直接位于“ c：/ mylibs /”下，即“ c：/mylibs/logback.xml”。将其放在c：/ mylibs /的子文件夹下，例如c：/ mylibs / other /，将不起作用。</p>
        
          <p>对于Web应用程序，可以将配置文件<b>直接</b>放在<em>WEB-INF / classes /下</em> 。</p>

          <hr>
        
        </dd>
        
        <!-- ========================================================= -->
        
        <dt>
          <a name="logger_serialization" href="#logger_serialization">Logback记录器是否可序列化？</a>
        </dt>
        <dd>
          <p>是。回写记录器<em>是</em> SLF4J记录器，SLF4J记录器是可序列化的。这意味着引用记录器的对象将可以在反序列化之后进行记录。
          </p>
          
          <p>反序列化的logger实例将由<code>org.slf4j.LoggerFactory</code> 。因此，有可能将logback记录器反序列化为log4j或jul记录器，取决于反序列化环境。</p>

          <hr>
        </dd>
        

        <!-- ========================================================= -->
   
        <dt>
          <a name="sharedConfiguration" href="#sharedConfiguration">是否有可能多个JEE应用程序共享相同的配置文件，但又不会互相影响？</a>
        </dt>
        <dd>
          <p>是的。使用<a href="manual/configuration.html#variableSubstitution">变量替换</a> ，可以使用单个配置文件将日志输出到每个JEE应用程序的不同目标。这是为此目的设计的示例配置文件。</p>
          
          <p class="source"><configuration>
  <appender name="FILE" class="ch.qos.logback.core.FileAppender"><!-- "application-name" is a variable --> <file><b>c：/ logs / $ {application-name} .log</b></file> <layout class="ch.qos.logback.classic.PatternLayout"><pattern>％d％p％t％c-％m％n</pattern></layout></appender> <root level="debug"><appender-ref ref="FILE"></appender-ref></root>
</configuration> </p>

          <p>假设每个JEE应用程序都将不同的logback类副本加载到内存中，如果我们可以通过某种方式为<code><em>application-name</em></code>每次启动应用程序时，日志将输出到不同的文件。我们只需要使用上面的配置文件初始化logback，同时为<code><em>application-name</em></code>变量。这是通过编程方式配置登录的示例代码。应该在JEE应用程序初始化期间调用它。
          </p>

          <p class="source">LoggerContext context =（LoggerContext）LoggerFactory.getILoggerFactory（）; JoranConfigurator jc =新的JoranConfigurator（）; jc.setContext（context）; context.reset（）; //覆盖默认配置//将当前应用程序的名称作为LoggerContext上下文的“ application-name”属性// putProperty <b>（“ application-name”，NAME_OF_CURRENT_APPLICATION）;</b> jc.doConfigure（“ / path / to / the / above / configuration / file.xml”）;</p>

          <hr>
        </dd>
        

        <!-- ========================================================= -->

        <dt>
          <a name="overrideFromCL" href="#overrideFromCL">如何从命令行禁用日志记录？
          </a>
        </dt>
        <dd>
          <p>Logback不允许从命令行禁用日志记录。但是，如果配置文件允许，则可以通过Java系统属性在命令行上设置记录器的级别。这是这样的配置文件。</p>

          <p class="source"><configuration>
  <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender"><layout class="ch.qos.logback.classic.PatternLayout"><pattern>％d [％thread]％level％logger-％m％n</pattern></layout></appender> <root level="<b>${root-level:-INFO}</b>"><appender-ref ref="CONSOLE"></appender-ref></root>
</configuration></p>


          <p>如果将<span class="variable">根级</span>系统属性设置为，则使用<a href="manual/configuration.html#variableSubstitution">变量替换</a>以及<a href="manual/configuration.html#variableSubstitution">变量的</a> <a href="manual/configuration.html#defaultValuesForVariables">默认值</a> <code>OFF</code> ，那么所有日志记录将被关闭。但是，如果未设置，它将采用默认值<code>INFO</code> 。请注意，您可以将<span class="variable">根级别的</span>系统属性设置为您选择的任何级别的值。价值<code>OFF</code>只是一个例子。

          </p>
          <hr>
        </dd>


        <!-- ========================================================= -->
        
        <dt>
          <a name="setup_jetty" href="#">如何指示Jetty使用经典的logback作为其日志记录实现？
          </a>
        </dt>
        
        <dd>
          <p>Jetty应用程序服务器使用SLF4J进行内部日志记录。
          </p>
          
          <p>回送jar文件必须出现在Jetty的类路径上。这些文件是<em>logback-core-1.3.0-alpha5.jar</em>和<em>logback-classic-1.3.0-alpha5.jar</em> 。这些文件应放在<em>$ JETTY_HOME / lib</em>目录下。
          </p>

          
          <p>由于Jetty在内部使用了SLF4J的旧版本，因此我们建议将旧版本替换为<em>slf4j-api-2.0.0-alpha1.jar</em> 。可以从<a href="http://www.slf4j.org/download.html">SLF4J</a>项目下载此文件。
          </p>
        
          
          <p>为了自动配置经典的logback，可以将文件<em>logback.xml</em>放在<em>$ JETTY_HOME / resources</em>目录下。您可以在<em>logback发行版</em>中的<em>logback-examples / src / main / java / chapters / appenders / conf /</em>文件夹中找到示例配置文件。
          </p>

          <hr>                    
        </dd>
        

        
        
        <!-- end of definitions -->
      </dl>
      
      
    </div>

  <script src="templates/footer.js" type="text/javascript"></script>
  
</div>
  

	



</body></html>