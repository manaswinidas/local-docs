<html lang="zh-Hans" class="no-js" ><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Eclipse OpenJ9 documentation">
      
      
        <link rel="canonical" href="https://www.eclipse.org/openj9/docs/interface_jvmti.html">
      
      
      
        <meta name="lang:clipboard.copy" content="">
      
        <meta name="lang:clipboard.copied" content="">
      
        <meta name="lang:search.language" content="">
      
        <meta name="lang:search.pipeline.stopwords" content="">
      
        <meta name="lang:search.pipeline.trimmer" content="">
      
        <meta name="lang:search.result.none" content="">
      
        <meta name="lang:search.result.one" content="">
      
        <meta name="lang:search.result.other" content="">
      
        <meta name="lang:search.tokenizer" content="">
      
      <link rel="shortcut icon" href="cr/oj9logo_img9.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>JVMTI-</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#00bcd4">
      
    
    
      <script src="assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
        <link rel="stylesheet" href="asset?aid=2">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="stylesheets/oj9.css">
    
    
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f (https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore%28j,f) );
})(window,document,'script','dataLayer','GTM-5WLCZXC');</script>
<!-- End Google Tag Manager -->  
  </head>
  
    
    
    <body  data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg width="416" height="448" id="__github" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 416 448">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z"></path>
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" type="checkbox" id="__drawer" autocomplete="off" data-md-toggle="drawer">
    <input class="md-toggle" type="checkbox" id="__search" autocomplete="off" data-md-toggle="search">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#java-virtual-machine-tool-interface" class="md-skip" tabindex="1">
        
      </a>
    
    
      <!--
* Copyright (c) 2017, 2019 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.eclipse.org/openj9/docs" title=" " class="md-header-nav__button md-logo">
          
            <img src="./cr/openj9_6b.png">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocomplete="off" spellcheck="false" autocapitalize="off" autocorrect="off" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1"></button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix="">
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/eclipse/openj9-docs/" title="转到存储库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg width="24" height="24" viewbox="0 0 24 24">
          <use width="24" height="24" xlink:href="#__github"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">的GitHub</div>
  </a>

          </div>
        </div>
      

      <!-- Eclipse Incubator link -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://wiki.eclipse.org/Development_Resources/Process_Guidelines/What_is_Incubation" target="_blank"><img class="egg" src="./cr/egg-incubation.png" alt="Eclipse孵化"></a>
      </div>

    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.eclipse.org/openj9/docs" title=" " class="md-nav__button md-logo">
      
        <img src="cr/openj9_6b.png" width="48" height="48">
      
    </a>
     
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/eclipse/openj9-docs/" title="转到存储库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg width="24" height="24" viewbox="0 0 24 24">
          <use width="24" height="24" xlink:href="#__github"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">的GitHub</div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix="">
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="关于" class="md-nav__link">关于</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="adoptopenjdk.html" title="采用OpenJDK构建" class="md-nav__link">采用OpenJDK构建</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="introduction.html" title="入门" class="md-nav__link">入门</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="openj9_newuser.html" title="OpenJ9的新手？" class="md-nav__link">OpenJ9的新手？
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-5" data-md-toggle="nav-5">
    
    <label class="md-nav__link" for="nav-5">发行说明</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">发行说明</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="version0.17.html" title="版本0.17.0" class="md-nav__link">版本0.17.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.16.html" title="版本0.16.0" class="md-nav__link">版本0.16.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.15.html" title="版本0.15.1" class="md-nav__link">版本0.15.1</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.14.html" title="版本0.14.0" class="md-nav__link">版本0.14.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-5-5" data-md-toggle="nav-5-5">
    
    <label class="md-nav__link" for="nav-5-5">早期版本</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-5">早期版本</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="version0.13.html" title="版本0.13.0" class="md-nav__link">版本0.13.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.12.html" title="版本0.12.0" class="md-nav__link">版本0.12.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.11.html" title="版本0.11.0" class="md-nav__link">版本0.11.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.10.html" title="版本0.10.0" class="md-nav__link">版本0.10.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.9.html" title="版本0.9.0" class="md-nav__link">版本0.9.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.8.html" title="0.8.0版" class="md-nav__link">0.8.0版</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="gc.html" title="垃圾收集" class="md-nav__link">垃圾收集</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="jit.html" title="JIT编译器" class="md-nav__link">JIT编译器</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="aot.html" title="AOT编译器" class="md-nav__link">AOT编译器</a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-9" data-md-toggle="nav-9">
    
    <label class="md-nav__link" for="nav-9">班级数据共享</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">班级数据共享</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="shrc.html" title="总览" class="md-nav__link">总览</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="shrc_diag_util.html" title="诊断缓存实用程序" class="md-nav__link">诊断缓存实用程序</a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-10" data-md-toggle="nav-10" checked>
    
    <label class="md-nav__link" for="nav-10">诊断程序</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">诊断程序</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="diag_overview.html" title="总览" class="md-nav__link">总览</a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-10-2" data-md-toggle="nav-10-2">
    
    <label class="md-nav__link" for="nav-10-2">转储</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-2">转储</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="dump_javadump.html" title="Java转储" class="md-nav__link">Java转储</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dump_heapdump.html" title="堆转储" class="md-nav__link">堆转储</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dump_systemdump.html" title="系统转储" class="md-nav__link">系统转储</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-10-3" data-md-toggle="nav-10-3">
    
    <label class="md-nav__link" for="nav-10-3">工具类</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-3">工具类</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jextract.html" title="转储提取器" class="md-nav__link">转储提取器</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jdmpview.html" title="转储查看器" class="md-nav__link">转储查看器</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_traceformat.html" title="跟踪格式化程序" class="md-nav__link">跟踪格式化程序</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_builder.html" title="期权建设者" class="md-nav__link">期权建设者</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jcmd.html" title="Java命令（JCMD）工具" class="md-nav__link">Java命令（JCMD）工具</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jmap.html" title="Java内存映射（jmap）工具" class="md-nav__link">Java内存映射（jmap）工具</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jps.html" title="Java进程状态（jps）" class="md-nav__link">Java进程状态（jps）</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jstack.html" title="Java堆栈（jstack）工具" class="md-nav__link">Java堆栈（jstack）工具</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_migration.html" title="切换到OpenJ9" class="md-nav__link">切换到OpenJ9</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-10-4" data-md-toggle="nav-10-4" checked>
    
    <label class="md-nav__link" for="nav-10-4">介面</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-4">介面</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" type="checkbox" id="__toc" data-md-toggle="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">JVMTI</label> <a href="interface_jvmti.html" title="JVMTI" class="md-nav__link md-nav__link--active">JVMTI</a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">在此页 ...</label>
    <ul class="md-nav__list" data-md-scrollfix="">
      
        <li class="md-nav__item">
  <a href="#overview" title="总览" class="md-nav__link">总览</a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openj9-extensions" title="OpenJ9扩展" class="md-nav__link">OpenJ9扩展</a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-jvmti-agent" title="样本JVMTI代理" class="md-nav__link">样本JVMTI代理</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agent_onload" title="Agent_OnLoad（）" class="md-nav__link">Agent_OnLoad（）</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dumpstartcallback" title="DumpStartCallback（）" class="md-nav__link">DumpStartCallback（）</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-sample-jvmti-agent" title="使用样本JVMTI代理" class="md-nav__link">使用样本JVMTI代理</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" title="API参考" class="md-nav__link">API参考</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getosthreadid" title="GetOSThreadID" class="md-nav__link">GetOSThreadID</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryvmdump" title="QueryVmDump" class="md-nav__link">QueryVmDump</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setvmdump" title="SetVmDump" class="md-nav__link">SetVmDump</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggervmdump" title="TriggerVmDump" class="md-nav__link">TriggerVmDump</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resetvmdump" title="ResetVmDump" class="md-nav__link">ResetVmDump</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vmdumpstart" title="VMDumpStart" class="md-nav__link">VMDumpStart</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vmdumpend" title="VMDumpEnd" class="md-nav__link">VMDumpEnd</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setvmtrace" title="SetVmTrace" class="md-nav__link">SetVmTrace</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registertracepointsubscriber" title="RegisterTracePointSubscriber" class="md-nav__link">RegisterTracePointSubscriber</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jvmtitracesubscriber-function" title="jvmtiTraceSubscriber函数" class="md-nav__link">jvmtiTraceSubscriber函数</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jvmtitracealarm-function" title="jvmtiTraceAlarm函数" class="md-nav__link">jvmtiTraceAlarm函数</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deregistertracepointsubscriber" title="取消注册TracePointSubscriber" class="md-nav__link">取消注册TracePointSubscriber</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getmemorycategories" title="GetMemory类别" class="md-nav__link">GetMemory类别</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryvmlogoptions" title="QueryVmLogOptions" class="md-nav__link">QueryVmLogOptions</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setvmlogoptions" title="SetVmLogOptions" class="md-nav__link">SetVmLogOptions</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteratesharedcaches" title="IterateSharedCaches" class="md-nav__link">IterateSharedCaches</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jvmtiiteratesharedcachescallback-function" title="jvmtiIterateSharedCachesCallback函数" class="md-nav__link">jvmtiIterateSharedCachesCallback函数</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jvmtisharedcacheinfo-structure" title="jvmtiSharedCacheInfo结构" class="md-nav__link">jvmtiSharedCacheInfo结构</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroysharedcache" title="销毁共享缓存" class="md-nav__link">销毁共享缓存</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registerverbosegcsubscriber" title="RegisterVerboseGCSubscriber" class="md-nav__link">RegisterVerboseGCSubscriber</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jvmtiverbosegcsubscriber-function" title="jvmtiVerboseGCSubscriber函数" class="md-nav__link">jvmtiVerboseGCSubscriber函数</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jvmtiverbosegcalarm-function" title="jvmtiVerboseGCAlarm函数" class="md-nav__link">jvmtiVerboseGCAlarm函数</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deregisterverbosegcsubscriber" title="注销VerboseGCSubscriber" class="md-nav__link">注销VerboseGCSubscriber</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="interface_dtfj.html" title="DTFJ" class="md-nav__link">DTFJ</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-11" data-md-toggle="nav-11">
    
    <label class="md-nav__link" for="nav-11">命令行选项</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">命令行选项</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="cmdline_specifying.html" title="指定选项" class="md-nav__link">指定选项</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="cmdline_general.html" title="标准选项" class="md-nav__link">标准选项</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="cmdline_migration.html" title="切换到OpenJ9" class="md-nav__link">切换到OpenJ9</a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-11-4" data-md-toggle="nav-11-4">
    
    <label class="md-nav__link" for="nav-11-4">系统属性选项</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-4">系统属性选项</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="d_jvm_commands.html" title="使用系统属性" class="md-nav__link">使用系统属性</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmenableclasscaching.html" title="-Dcom.ibm.enableClassCaching" class="md-nav__link">-Dcom.ibm.enableClassCaching</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmenablelegacydumpsecurity.html" title="-Dcom.ibm.enableLegacyDumpSecurity" class="md-nav__link">-Dcom.ibm.enableLegacyDumpSecurity</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmenablelegacylogsecurity.html" title="-Dcom.ibm.enableLegacyLogSecurity" class="md-nav__link">-Dcom.ibm.enableLegacyLogSecurity</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmenablelegacytracesecurity.html" title="-Dcom.ibm.enableLegacyTraceSecurity" class="md-nav__link">-Dcom.ibm.enableLegacyTraceSecurity</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmgpudisable.html" title="-Dcom.ibm.gpu.disable" class="md-nav__link">-Dcom.ibm.gpu.disable</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmgpuenable.html" title="-Dcom.ibm.gpu.enable" class="md-nav__link">-Dcom.ibm.gpu.enable</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmgpuverbose.html" title="-Dcom.ibm.gpu.verbose" class="md-nav__link">-Dcom.ibm.gpu.verbose</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmlangmanagementosmxbeaniscputime100ns.html" title="-Dcom.ibm.lang.management。OperatingSystemMXBean.isCpuTime100ns" class="md-nav__link">-Dcom.ibm.lang.management。OperatingSystemMXBean.isCpuTime100ns</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmlangmanagementverbose.html" title="-Dcom.ibm.lang.management.verbose" class="md-nav__link">-Dcom.ibm.lang.management.verbose</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachdirectory.html" title="-Dcom.ibm.tools.attach.directory" class="md-nav__link">-Dcom.ibm.tools.attach.directory</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachdisplayname.html" title="-Dcom.ibm.tools.attach.displayName" class="md-nav__link">-Dcom.ibm.tools.attach.displayName</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachenable.html" title="-Dcom.ibm.tools.attach.enable" class="md-nav__link">-Dcom.ibm.tools.attach.enable</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachid.html" title="-Dcom.ibm.tools.attach.id" class="md-nav__link">-Dcom.ibm.tools.attach.id</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachtimeout.html" title="-Dcom.ibm.tools.attach.timeout" class="md-nav__link">-Dcom.ibm.tools.attach.timeout</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dfileencoding.html" title="-Dfile.encoding" class="md-nav__link">-Dfile.encoding</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djavacompiler.html" title="-Djava.compiler" class="md-nav__link">-Djava.compiler</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativecbc.html" title="-Djdk.nativeCBC" class="md-nav__link">-Djdk.nativeCBC</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativechacha20.html" title="-Djdk.nativeChaCha20" class="md-nav__link">-Djdk.nativeChaCha20</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativecrypto.html" title="-Djdk.nativeCrypto" class="md-nav__link">-Djdk.nativeCrypto</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativedigest.html" title="-Djdk.nativeDigest" class="md-nav__link">-Djdk.nativeDigest</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativegcm.html" title="-Djdk.nativeGCM" class="md-nav__link">-Djdk.nativeGCM</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativersa.html" title="-Djdk.nativeRSA" class="md-nav__link">-Djdk.nativeRSA</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-11-5" data-md-toggle="nav-11-5">
    
    <label class="md-nav__link" for="nav-11-5">JVM -X选项</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-5">JVM -X选项</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="x_jvm_commands.html" title="使用-X选项" class="md-nav__link">使用-X选项</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="x.html" title="-X" class="md-nav__link">-X</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xaggressive.html" title="-侵略性" class="md-nav__link">-侵略性</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xalwaysclassgc.html" title="-Xalwaysclassgc" class="md-nav__link">-Xalwaysclassgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xaot.html" title="-Xaot" class="md-nav__link">-Xaot</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xargencoding.html" title="-Xargencoding" class="md-nav__link">-Xargencoding</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xbootclasspath.html" title="-Xbootclasspath" class="md-nav__link">-Xbootclasspath</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xceehdlr.html" title="-XCEEHDLR" class="md-nav__link">-XCEEHDLR</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcheck.html" title="-X检查" class="md-nav__link">-X检查</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xclassgc.html" title="-Xclassgc" class="md-nav__link">-Xclassgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcodecache.html" title="-Xcodecache" class="md-nav__link">-Xcodecache</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcodecachetotal.html" title="-Xcodecachetotal" class="md-nav__link">-Xcodecachetotal</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcomp.html" title="-Xcomp" class="md-nav__link">-Xcomp</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompactexplicitgc.html" title="-Xcompactexplicitgc" class="md-nav__link">-Xcompactexplicitgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompactgc.html" title="-Xcompactgc" class="md-nav__link">-Xcompactgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompilationthreads.html" title="-XcompilationThreads" class="md-nav__link">-XcompilationThreads</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompressedrefs.html" title="-Xcompressedrefs" class="md-nav__link">-Xcompressedrefs</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xconcurrentbackground.html" title="-Xconcurrentbackground" class="md-nav__link">-Xconcurrentbackground</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xconcurrentlevel.html" title="-Xconcurrentlevel" class="md-nav__link">-Xconcurrentlevel</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xconcurrentslack.html" title="-Xconcurrentslack" class="md-nav__link">-Xconcurrentslack</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xconmeter.html" title="-Xconmeter" class="md-nav__link">-Xconmeter</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenableexcessivegc.html" title="-Xdisableexcessivegc" class="md-nav__link">-Xdisableexcessivegc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenableexplicitgc.html" title="-Xdisableexplicitgc" class="md-nav__link">-Xdisableexplicitgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xdisablejavadump.html" title="-Xdisablejavadump" class="md-nav__link">-Xdisablejavadump</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenablestringconstantgc.html" title="-Xdisablestringconstantgc" class="md-nav__link">-Xdisablestringconstantgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xdump.html" title="-X转储" class="md-nav__link">-X转储</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenableexcessivegc.html" title="-xenableexcessivegc" class="md-nav__link">-xenableexcessivegc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenableexplicitgc.html" title="-Xenableexplicitgc" class="md-nav__link">-Xenableexplicitgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenablestringconstantgc.html" title="-xenablestringconstantgc" class="md-nav__link">-xenablestringconstantgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xfastresolve.html" title="-Xfastresolve" class="md-nav__link">-Xfastresolve</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xfuture.html" title="-未来" class="md-nav__link">-未来</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgc.html" title="-Xgc" class="md-nav__link">-Xgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgcsplitheap.html" title="-Xgc：splitheap" class="md-nav__link">-Xgc：splitheap</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgcpolicy.html" title="-Xgcpolicy" class="md-nav__link">-Xgcpolicy</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgcthreads.html" title="-Xgcthreads" class="md-nav__link">-Xgcthreads</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgcworkpackets.html" title="-Xgcworkpackets" class="md-nav__link">-Xgcworkpackets</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xifa.html" title="-希法" class="md-nav__link">-希法</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xint.html" title="-Xint" class="md-nav__link">-Xint</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xss.html" title="-Xiss" class="md-nav__link">-Xiss</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xjit.html" title="-吉特" class="md-nav__link">-吉特</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xjni.html" title="-希尼" class="md-nav__link">-希尼</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlinenumbers.html" title="-Xlinenumbers" class="md-nav__link">-Xlinenumbers</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloa.html" title="-Xloa" class="md-nav__link">-Xloa</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloaminimum.html" title="-Xloainitial" class="md-nav__link">-Xloainitial</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloaminimum.html" title="-Xloa最大" class="md-nav__link">-Xloa最大</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloaminimum.html" title="-Xloaminimum" class="md-nav__link">-Xloaminimum</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlockreservation.html" title="-Xlock预订" class="md-nav__link">-Xlock预订</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlockword.html" title="-Xlockword" class="md-nav__link">-Xlockword</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlog.html" title="-Xlog" class="md-nav__link">-Xlog</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlp.html" title="-Xlp" class="md-nav__link">-Xlp</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlpcodecache.html" title="-Xlp：代码缓存" class="md-nav__link">-Xlp：代码缓存</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlpobjectheap.html" title="-Xlp：对象堆" class="md-nav__link">-Xlp：对象堆</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmine.html" title="-Xmaxe" class="md-nav__link">-Xmaxe</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xminf.html" title="-Xmaxf" class="md-nav__link">-Xmaxf</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmint.html" title="-X最大" class="md-nav__link">-X最大</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmca.html" title="-Xmca" class="md-nav__link">-Xmca</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmca.html" title="-Xmco" class="md-nav__link">-Xmco</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmcrs.html" title="-Xmcrs" class="md-nav__link">-Xmcrs</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmine.html" title="-Xmine" class="md-nav__link">-Xmine</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xminf.html" title="-Xminf" class="md-nav__link">-Xminf</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmint.html" title="-Xmint" class="md-nav__link">-Xmint</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmn.html" title="-Xmn" class="md-nav__link">-Xmn</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmn.html" title="-Xmns" class="md-nav__link">-Xmns</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmn.html" title="-Xmnx" class="md-nav__link">-Xmnx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmo.html" title="-Xmo" class="md-nav__link">-Xmo</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmo.html" title="-Xmoi" class="md-nav__link">-Xmoi</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmo.html" title="-Xmos" class="md-nav__link">-Xmos</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmo.html" title="-Xmox" class="md-nav__link">-Xmox</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmr.html" title="-Xmr" class="md-nav__link">-Xmr</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmr.html" title="-Xmrx" class="md-nav__link">-Xmrx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xms.html" title="-Xms" class="md-nav__link">-Xms</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmso.html" title="-Xmso" class="md-nav__link">-Xmso</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xms.html" title="-Xmx" class="md-nav__link">-Xmx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xaot.html" title="-Xnoaot" class="md-nav__link">-Xnoaot</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xclassgc.html" title="-Xnoclassgc" class="md-nav__link">-Xnoclassgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompactexplicitgc.html" title="-Xnocompactexplicitgc" class="md-nav__link">-Xnocompactexplicitgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompactgc.html" title="-Xnocompactgc" class="md-nav__link">-Xnocompactgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompressedrefs.html" title="-Xnocompressedrefs" class="md-nav__link">-Xnocompressedrefs</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xjit.html" title="-Xnojit" class="md-nav__link">-Xnojit</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlinenumbers.html" title="-Xnolinenumbers" class="md-nav__link">-Xnolinenumbers</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloa.html" title="-Xnoloa" class="md-nav__link">-Xnoloa</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsigcatch.html" title="-Xnosigcatch" class="md-nav__link">-Xnosigcatch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsigchain.html" title="-Xnosigchain" class="md-nav__link">-Xnosigchain</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xnumanone.html" title="-Xnuma：无" class="md-nav__link">-Xnuma：无</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xoptionsfile.html" title="-Xoptions文件" class="md-nav__link">-Xoptions文件</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xquickstart.html" title="-Xquickstart" class="md-nav__link">-Xquickstart</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xrs.html" title="-Xrs" class="md-nav__link">-Xrs</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsamplingexpirationtime.html" title="-XsamplingExpirationTime" class="md-nav__link">-XsamplingExpirationTime</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscdmx.html" title="-Xscdmx" class="md-nav__link">-Xscdmx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscminaot.html" title="-Xscmaxaot" class="md-nav__link">-Xscmaxaot</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscminjitdata.html" title="-Xscmaxjitdata" class="md-nav__link">-Xscmaxjitdata</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscminaot.html" title="-Xscminaot" class="md-nav__link">-Xscminaot</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscminjitdata.html" title="-Xscminjitdata" class="md-nav__link">-Xscminjitdata</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscmx.html" title="-Xscmx" class="md-nav__link">-Xscmx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xshareclasses.html" title="-Xshareclass" class="md-nav__link">-Xshareclass</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsigcatch.html" title="-Xsigcatch" class="md-nav__link">-Xsigcatch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsigchain.html" title="-Xsigchain" class="md-nav__link">-Xsigchain</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsignal.html" title="-Xsignal" class="md-nav__link">-Xsignal</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsoftmx.html" title="-Xsoftmx" class="md-nav__link">-Xsoftmx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsoftrefthreshold.html" title="-Xsoftrefthreshold" class="md-nav__link">-Xsoftrefthreshold</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xss.html" title="-Xss" class="md-nav__link">-Xss</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xss.html" title="-Xssi" class="md-nav__link">-Xssi</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xtgc.html" title="-Xtgc" class="md-nav__link">-Xtgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xthr.html" title="-Xthr" class="md-nav__link">-Xthr</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xtlhprefetch.html" title="-XtlhPrefetch" class="md-nav__link">-XtlhPrefetch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xtrace.html" title="-Xtrace" class="md-nav__link">-Xtrace</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xtunevirtualized.html" title="-Xtune：虚拟化" class="md-nav__link">-Xtune：虚拟化</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xverbosegclog.html" title="-Xverbosegclog" class="md-nav__link">-Xverbosegclog</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xverify.html" title="-Xverify" class="md-nav__link">-Xverify</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xzero.html" title="-Xzero" class="md-nav__link">-Xzero</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-11-6" data-md-toggle="nav-11-6">
    
    <label class="md-nav__link" for="nav-11-6">JVM -XX选项</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-6">JVM -XX选项</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="xx_jvm_commands.html" title="使用-XX选项" class="md-nav__link">使用-XX选项</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxactiveprocessorcount.html" title="-XXActiveProcessorCount" class="md-nav__link">-XXActiveProcessorCount</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxallowvmshutdown.html" title="-XXallowvmshutdown" class="md-nav__link">-XXallowvmshutdown</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxclassrelationshipverifier.html" title="-XX：[+ |-] ClassRelationshipVerifier" class="md-nav__link">-XX：[+ |-] ClassRelationshipVerifier</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxcodecachetotal.html" title="-XX：代码缓存总计" class="md-nav__link">-XX：代码缓存总计</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxcompactstrings.html" title="-XX：[+ |-] CompactStrings" class="md-nav__link">-XX：[+ |-] CompactStrings</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxdisableexplicitgc.html" title="-XX：[+ |-] DisableExplicitGC" class="md-nav__link">-XX：[+ |-] DisableExplicitGC</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxdisclaimjitscratch.html" title="-XX：[+ |-] DisclaimJitScratch" class="md-nav__link">-XX：[+ |-] DisclaimJitScratch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxenablecpumonitor.html" title="-XX：[+ |-]启用CPUMonitor" class="md-nav__link">-XX：[+ |-]启用CPUMonitor</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxhandlesigxfsz.html" title="-XX：[+ |-] handleSIGXFSZ" class="md-nav__link">-XX：[+ |-] handleSIGXFSZ</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxheapdumponoutofmemory.html" title="-XX：[+ |-] HeapDumpOnOutOfMemory" class="md-nav__link">-XX：[+ |-] HeapDumpOnOutOfMemory</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxheapdumppath.html" title="-XX：HeapDumpPath" class="md-nav__link">-XX：HeapDumpPath</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxheapmanagementmxbeancompatibility.html" title="-XX：[+ |-] HeapManagementMXBean兼容性" class="md-nav__link">-XX：[+ |-] HeapManagementMXBean兼容性</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxidletuningcompactonidle.html" title="-XX：[+ |-] IdleTuningCompactOnIdle" class="md-nav__link">-XX：[+ |-] IdleTuningCompactOnIdle</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxidletuninggconidle.html" title="-XX：[+ |-] IdleTuningGcOnIdle" class="md-nav__link">-XX：[+ |-] IdleTuningGcOnIdle</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxidletuningminfreeheaponidle.html" title="-XX：IdleTuningMinFreeHeapOnIdle" class="md-nav__link">-XX：IdleTuningMinFreeHeapOnIdle</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxidletuningminidlewaittime.html" title="-XX：IdleTuningMinIdleWaitTime" class="md-nav__link">-XX：IdleTuningMinIdleWaitTime</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxignoreunrecognizedvmoptions.html" title="-XX：[+ |-]忽略无法识别的VMOptions" class="md-nav__link">-XX：[+ |-]忽略无法识别的VMOptions</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxignoreunrecognizedxxcolonoptions.html" title="-XX：[+ |-]忽略无法识别的XXColonOptions" class="md-nav__link">-XX：[+ |-]忽略无法识别的XXColonOptions</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinitialrampercentage.html" title="-XX：InitialRAMPercentage" class="md-nav__link">-XX：InitialRAMPercentage</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinitialheapsize.html" title="-XX：InitialHeapSize" class="md-nav__link">-XX：InitialHeapSize</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinterleavememory.html" title="-XX：[+ |-] InterleaveMemory" class="md-nav__link">-XX：[+ |-] InterleaveMemory</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxjitinlinewatches.html" title="-XX：[+ |-] JITInlineWatches" class="md-nav__link">-XX：[+ |-] JITInlineWatches</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxlazysymbolresolution.html" title="-XX：[+ |-] LazySymbolResolution" class="md-nav__link">-XX：[+ |-] LazySymbolResolution</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxmaxdirectmemorysize.html" title="-XX：MaxDirectMemorySize" class="md-nav__link">-XX：MaxDirectMemorySize</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinitialheapsize.html" title="-XX：MaxHeapSize" class="md-nav__link">-XX：MaxHeapSize</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinitialrampercentage.html" title="-XX：MaxRAMPercentage" class="md-nav__link">-XX：MaxRAMPercentage</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxonoutofmemoryerror.html" title="-XX：OnOutOfMemoryError" class="md-nav__link">-XX：OnOutOfMemoryError</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxnosuballoc32bitmem.html" title="-XXnosuballoc32bitmem" class="md-nav__link">-XXnosuballoc32bitmem</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxpagealigndirectmemory.html" title="-XX：[+ |-] PageAlignDirectMemory" class="md-nav__link">-XX：[+ |-] PageAlignDirectMemory</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxpositiveidentityhash.html" title="-XX：[+ |-] PositiveIdentityHash" class="md-nav__link">-XX：[+ |-] PositiveIdentityHash</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxreadipinfoforras.html" title="-XX：[+ |-] ReadIPInfoForRAS" class="md-nav__link">-XX：[+ |-] ReadIPInfoForRAS</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxreducecpumonitoroverhead.html" title="-XX：[+ |-] ReduceCPUMonitorOverhead" class="md-nav__link">-XX：[+ |-] ReduceCPUMonitorOverhead</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxruntimeinstrumentation.html" title="-XX：[+ |-] RuntimeInstrumentation" class="md-nav__link">-XX：[+ |-] RuntimeInstrumentation</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxsethwprefetch.html" title="-XXsetHWPrefetch" class="md-nav__link">-XXsetHWPrefetch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxshareanonymousclasses.html" title="-XX：[+ |-] ShareAnonymousClasses" class="md-nav__link">-XX：[+ |-] ShareAnonymousClasses</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxshareclassesenablebci.html" title="-XX：ShareClassesDisableBCI" class="md-nav__link">-XX：ShareClassesDisableBCI</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxshareclassesenablebci.html" title="-XX：ShareClassesEnableBCI" class="md-nav__link">-XX：ShareClassesEnableBCI</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxsharedcachehardlimit.html" title="-XX：SharedCacheHardLimit" class="md-nav__link">-XX：SharedCacheHardLimit</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxshareunsafeclasses.html" title="-XX：[+ |-] ShareUnsafeClasses" class="md-nav__link">-XX：[+ |-] ShareUnsafeClasses</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxstacktraceinthrowable.html" title="-XX：-StackTraceInThrowable" class="md-nav__link">-XX：-StackTraceInThrowable</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxtransparenthugepage.html" title="-XX：[+ |-] TransparentHugePage" class="md-nav__link">-XX：[+ |-] TransparentHugePage</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxusecompressedoops.html" title="-XX：[+ |-] UseCompressedOops" class="md-nav__link">-XX：[+ |-] UseCompressedOops</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxusecontainersupport.html" title="-XX：[+ |-] UseContainerSupport" class="md-nav__link">-XX：[+ |-] UseContainerSupport</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxusegcstartuphints.html" title="-XX：[+ |-] UseGCStartupHints" class="md-nav__link">-XX：[+ |-] UseGCStartupHints</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxusenogc.html" title="-XX：[+ |-] UseNoGC" class="md-nav__link">-XX：[+ |-] UseNoGC</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxverboseverification.html" title="-XX：[+ |-]详细验证" class="md-nav__link">-XX：[+ |-]详细验证</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxvmlockclassloader.html" title="-XX：[+ |-] VMLockClassLoader" class="md-nav__link">-XX：[+ |-] VMLockClassLoader</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-12" data-md-toggle="nav-12">
    
    <label class="md-nav__link" for="nav-12">参考</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">参考</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="openj9_support.html" title="支持的环境" class="md-nav__link">支持的环境</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="openj9_defaults.html" title="默认设置" class="md-nav__link">默认设置</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="openj9_directories.html" title="目录约定" class="md-nav__link">目录约定</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="messages_intro.html" title="OpenJ9消息" class="md-nav__link">OpenJ9消息</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="env_var.html" title="环境变量" class="md-nav__link">环境变量</a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="legal.html" title="法律" class="md-nav__link">法律</a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">在此页 ...</label>
    <ul class="md-nav__list" data-md-scrollfix="">
      
        <li class="md-nav__item">
  <a href="#overview" title="总览" class="md-nav__link">总览</a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openj9-extensions" title="OpenJ9扩展" class="md-nav__link">OpenJ9扩展</a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-jvmti-agent" title="样本JVMTI代理" class="md-nav__link">样本JVMTI代理</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agent_onload" title="Agent_OnLoad（）" class="md-nav__link">Agent_OnLoad（）</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dumpstartcallback" title="DumpStartCallback（）" class="md-nav__link">DumpStartCallback（）</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-sample-jvmti-agent" title="使用样本JVMTI代理" class="md-nav__link">使用样本JVMTI代理</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" title="API参考" class="md-nav__link">API参考</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getosthreadid" title="GetOSThreadID" class="md-nav__link">GetOSThreadID</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryvmdump" title="QueryVmDump" class="md-nav__link">QueryVmDump</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setvmdump" title="SetVmDump" class="md-nav__link">SetVmDump</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggervmdump" title="TriggerVmDump" class="md-nav__link">TriggerVmDump</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resetvmdump" title="ResetVmDump" class="md-nav__link">ResetVmDump</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vmdumpstart" title="VMDumpStart" class="md-nav__link">VMDumpStart</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vmdumpend" title="VMDumpEnd" class="md-nav__link">VMDumpEnd</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setvmtrace" title="SetVmTrace" class="md-nav__link">SetVmTrace</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registertracepointsubscriber" title="RegisterTracePointSubscriber" class="md-nav__link">RegisterTracePointSubscriber</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jvmtitracesubscriber-function" title="jvmtiTraceSubscriber函数" class="md-nav__link">jvmtiTraceSubscriber函数</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jvmtitracealarm-function" title="jvmtiTraceAlarm函数" class="md-nav__link">jvmtiTraceAlarm函数</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deregistertracepointsubscriber" title="取消注册TracePointSubscriber" class="md-nav__link">取消注册TracePointSubscriber</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getmemorycategories" title="GetMemory类别" class="md-nav__link">GetMemory类别</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryvmlogoptions" title="QueryVmLogOptions" class="md-nav__link">QueryVmLogOptions</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setvmlogoptions" title="SetVmLogOptions" class="md-nav__link">SetVmLogOptions</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteratesharedcaches" title="IterateSharedCaches" class="md-nav__link">IterateSharedCaches</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jvmtiiteratesharedcachescallback-function" title="jvmtiIterateSharedCachesCallback函数" class="md-nav__link">jvmtiIterateSharedCachesCallback函数</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jvmtisharedcacheinfo-structure" title="jvmtiSharedCacheInfo结构" class="md-nav__link">jvmtiSharedCacheInfo结构</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroysharedcache" title="销毁共享缓存" class="md-nav__link">销毁共享缓存</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registerverbosegcsubscriber" title="RegisterVerboseGCSubscriber" class="md-nav__link">RegisterVerboseGCSubscriber</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jvmtiverbosegcsubscriber-function" title="jvmtiVerboseGCSubscriber函数" class="md-nav__link">jvmtiVerboseGCSubscriber函数</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jvmtiverbosegcalarm-function" title="jvmtiVerboseGCAlarm函数" class="md-nav__link">jvmtiVerboseGCAlarm函数</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deregisterverbosegcsubscriber" title="注销VerboseGCSubscriber" class="md-nav__link">注销VerboseGCSubscriber</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
<!-- this adds 'pencil' icon to H1 so that you can edit the page directly in GitHub
                
                  <a href="https://github.com/eclipse/openj9-docs/edit/master/docs/interface_jvmti.md" title="Edit this page" class="md-icon md-content__icon"></a>
                
-->
                
                <!--
* Copyright (c) 2017, 2019 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->

<h1 id="java-virtual-machine-tool-interface">Java虚拟机工具接口</h1>
<p>Java™虚拟机工具接口（JVMTI）是双向接口，允许VM与本机代理之间进行通信。它替代了Java虚拟机调试接口（JVMDI）和Java虚拟机分析器接口（JVMPI）。</p>
<h2 id="overview">总览</h2>
<p>JVMTI允许第三方为VM开发调试，概要分析和监视工具。该接口包含用于代理将其所需的信息种类通知VM的机制，并且还提供了一种接收相关通知的方法。</p>
<p>可以一次将多个代理连接到VM。</p>
<p>可以在启动时使用短格式或长格式的命令行选项来加载JVMTI代理：</p>
<pre><code>-agentlib:&lt;agent-lib-name&gt;=&lt;options&gt;
</code></pre>
<p>要么</p>
<pre><code>-agentpath:&lt;path-to-agent&gt;=&lt;options&gt;
</code></pre>
<p>在下面的示例中（请参见<a href="#sample-jvmti-agent">示例JVMTI agent</a> ），包含以下内容的目录<code>jdwp</code>假定库位于库路径上。如果您需要特定的库，例如<code>jdwp</code>使用JVMTI代理，您可以在启动时指定路径，例如：</p>
<pre><code>-agentlib:jdwp=&lt;options&gt;
</code></pre>
<p>有关JVMTI的更多信息，请参见<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/management/index.html">https://docs.oracle.com/javase/8/docs/technotes/guides/management/index.html</a> 。</p>
<p>有关编写JVMTI代理的指南，请参见<a href="http://www.oracle.com/technetwork/articles/javase/jvmti-136367.html">http://www.oracle.com/technetwork/articles/javase/jvmti-136367.html</a> 。</p>
<h2 id="openj9-extensions">OpenJ9扩展</h2>
<p>JVMTI的OpenJ9扩展允许JVMTI代理查询或自动触发VM中的操作，包括以下任务：</p>
<table>
<thead>
<tr>
<th>任务</th>
<th>OpenJ9扩展</th>
</tr>
</thead>
<tbody>
<tr>
<td>获取操作系统线程ID</td>
<td><a href="#getosthreadid"><code>GetOSThreadID</code></a></td>
</tr>
<tr>
<td>查询，设置和重置VM转储选项</td>
<td><a href="#queryvmdump"><code>QueryVmDump</code></a> ， <a href="#setvmdump"><code>SetVmDump</code></a> ，<a href="#resetvmdump"><code>ResetVmDump</code></a></td>
</tr>
<tr>
<td>触发VM转储，并在VM转储开始和结束时监视JVMTI事件功能</td>
<td><a href="#triggervmdump"><code>TriggerVmDump</code></a> ， <a href="#vmdumpstart"><code>VMDumpStart</code></a> ，<a href="#vmdumpend"><code>VMDumpEnd</code></a></td>
</tr>
<tr>
<td>设置虚拟机跟踪选项</td>
<td><a href="#setvmtrace"><code>SetVmTrace</code></a></td>
</tr>
<tr>
<td>订阅和取消订阅VM跟踪点</td>
<td><a href="#registertracepointsubscriber"><code>RegisterTracePointSubscriber</code></a> ，<a href="#deregistertracepointsubscriber"><code>DeregisterTracePointSubscriber</code></a></td>
</tr>
<tr>
<td>查询运行时环境本机内存类别</td>
<td><a href="#getmemorycategories"><code>GetMemoryCategories</code></a></td>
</tr>
<tr>
<td>查询和设置虚拟机日志选项</td>
<td><a href="#queryvmlogoptions"><code>QueryVmLogOptions</code></a> ，<a href="#setvmlogoptions"><code>SetVmLogOptions</code></a></td>
</tr>
<tr>
<td>搜索并删除共享的类缓存</td>
<td><a href="#iteratesharedcaches"><code>IterateSharedCaches</code></a> ，<a href="#destroysharedcache"><code>DestroySharedCache</code></a></td>
</tr>
<tr>
<td>订阅和取消订阅详细垃圾收集（GC）数据记录</td>
<td><a href="#registerverbosegcsubscriber"><code>RegisterVerboseGCSubscriber</code></a> ，<a href="#deregisterverbosegcsubscriber"><code>DeregisterVerboseGCSubscriber</code></a></td>
</tr>
</tbody>
</table>
<p>头文件中提供了编写JVMTI代理时所需的定义。 <code>jvmti.h</code>和<code>ibmjvmti.h</code> ， 在里面<code>include</code>目录。</p>
<h2 id="sample-jvmti-agent">样本JVMTI代理</h2>
<p>以下样本显示了如何编写对JVMTI使用OpenJ9扩展的简单JVMTI代理。</p>
<p></p><details>
  <summary>使用C / C ++编写的示例JVMTI代理，它使用OpenJ9扩展</summary><p></p>
<pre><code>/*
 * tiSample.c
 *
 * Sample JVMTI agent to demonstrate the OpenJ9 JVMTI dump extensions
 */

#include &quot;jvmti.h&quot;
#include &quot;ibmjvmti.h&quot;

/* Forward declarations for JVMTI callback functions */
void JNICALL VMInitCallback(jvmtiEnv *jvmti_env, JNIEnv* jni_env, jthread thread);
void JNICALL DumpStartCallback(jvmtiEnv *jvmti_env, char* label, char* event, char* detail, ...);


/*
 * Agent_Onload()
 *
 * JVMTI agent initialisation function, invoked as agent is loaded by the VM
 */
JNIEXPORT jint JNICALL Agent_OnLoad(JavaVM *jvm, char *options, void *reserved) {

  jvmtiEnv *jvmti = NULL;
  jvmtiError rc;
  jint extensionEventCount = 0;
  jvmtiExtensionEventInfo *extensionEvents = NULL;
  jint extensionFunctionCount = 0;
  jvmtiExtensionFunctionInfo *extensionFunctions = NULL;
  int i = 0, j = 0;

  printf(&quot;tiSample: Loading JVMTI sample agent\n&quot;);

    /* Get access to JVMTI */
    (*jvm)-&gt;GetEnv(jvm, (void **)&amp;jvmti, JVMTI_VERSION_1_0);

     /* Look up all the JVMTI extension events and functions */
   (*jvmti)-&gt;GetExtensionEvents(jvmti, &amp;extensionEventCount, &amp;extensionEvents);
   (*jvmti)-&gt;GetExtensionFunctions(jvmti, &amp;extensionFunctionCount, &amp;extensionFunctions);

    printf(&quot;tiSample: Found %i JVMTI extension events, %i extension functions\n&quot;, extensionEventCount, extensionFunctionCount);

   /* Find the JVMTI extension event we want */
   while (i++ &lt; extensionEventCount) {

        if (strcmp(extensionEvents-&gt;id, COM_IBM_VM_DUMP_START) == 0) {
            /* Found the dump start extension event, now set up a callback for it */
            rc = (*jvmti)-&gt;SetExtensionEventCallback(jvmti, extensionEvents-&gt;extension_event_index, &amp;DumpStartCallback);
            printf(&quot;tiSample: Setting JVMTI event callback %s, rc=%i\n&quot;, COM_IBM_VM_DUMP_START, rc);
            break;
        }
        extensionEvents++; /* move on to the next extension event */
    }

    /* Find the JVMTI extension function we want */
    while (j++ &lt; extensionFunctionCount) {
        jvmtiExtensionFunction function = extensionFunctions-&gt;func;

        if (strcmp(extensionFunctions-&gt;id, COM_IBM_SET_VM_DUMP) == 0) {
            /* Found the set dump extension function, now set a dump option to generate javadumps on
          thread starts */
            rc = function(jvmti, &quot;java:events=thrstart&quot;);
            printf(&quot;tiSample: Calling JVMTI extension %s, rc=%i\n&quot;, COM_IBM_SET_VM_DUMP, rc);
            break;
        }
        extensionFunctions++; /* move on to the next extension function */
     }

     return JNI_OK;
}


/*
 * DumpStartCallback()
 * JVMTI callback for dump start event (IBM JVMTI extension)  */
void JNICALL
DumpStartCallback(jvmtiEnv *jvmti_env, char* label, char* event, char* detail, ...) {
      printf(&quot;tiSample: Received JVMTI event callback, for event %s\n&quot;, event);
}
</code></pre>

<p></p></details><p></p>
<p>样本JVMTI代理包含两个功能， <code>Agent_OnLoad()</code>和<code>DumpStartCallback()</code> ：</p>
<h3 id="agent_onload"><code>Agent_OnLoad()</code></h3>
<p>在虚拟机启动时加载代理时，虚拟机会调用此函数，这允许JVMTI代理在初始化完成之前修改虚拟机行为。样本代理通过使用JNI Invocation API函数获得对JVMTI接口的访问<code>GetEnv()</code> 。代理调用API <code>GetExtensionEvents()</code>和<code>GetExtensionFunctions()</code>查找VM支持的JVMTI扩展。这些API可让您访问<code>jvmtiExtensionEventInfo</code>和<code>jvmtiExtensionFunctionInfo</code>结构。该示例通过以下方式使用扩展事件和扩展功能：</p>
<p><strong>扩展事件：</strong>样本JVMTI代理搜索扩展事件<code>VmDumpStart</code>在列表中<code>jvmtiExtensionEventInfo</code>结构，通过使用标识符<code>COM_IBM_VM_DUMP_START</code>提供在<code>ibmjvmti.h</code> 。找到事件后，JVMTI代理将调用JVMTI接口<code>SetExtensionEventCallback()</code>启用事件，提供功能<code>DumpStartCallback()</code>触发事件时调用。</p>
<p><strong>扩展功能：</strong>接下来，示例JVMTI代理搜索扩展功能<code>SetVMDump</code>在列表中<code>jvmtiExtensionFunctionInfo</code>结构，通过使用标识符<code>COM_IBM_SET_VM_DUMP</code>提供在<code>ibmjvmti.h</code> 。JVMTI代理通过使用<code>jvmtiExtensionFunction</code>设置虚拟机转储选项的指针<code>java:events=thrstart</code> 。每次启动VM线程时，此选项都要求VM触发Java转储。</p>
<h3 id="dumpstartcallback"><code>DumpStartCallback()</code></h3>
<p>调用关联的扩展事件时，此回调函数将发出一条消息。在示例代码中， <code>DumpStartCallback()</code>用于<code>VmDumpStart</code>事件被触发。</p>
<h3 id="using-the-sample-jvmti-agent">使用样本JVMTI代理</h3>
<ul>
<li>
<p>构建样本JVMTI代理：</p>
<p>视窗：</p>
<pre><code>cl /I&lt;jre_path&gt;\include /MD /FetiSample.dll tiSample.c /link /DLL
</code></pre>
<p>Linux，AIX®和z /OS®：</p>
<pre><code>gcc -I&lt;jre_path&gt;/include -o libtiSample.so -shared tiSample.c
</code></pre>
<p>哪里<code><jre_path></code>是Java运行时环境安装的路径。</p>
</li>
<li>
<p>要运行样本JVMTI代理，请使用以下命令：</p>
<pre><code>java -agentlib:tiSample -version
</code></pre>
<p>样本JVMTI代理加载后，将生成消息。JVMTI代理启动Java转储时，该消息<code>JVMDUMP010</code>发行。</p>
</li>
</ul>
<h2 id="api-reference">API参考</h2>
<p>以下各节提供了JVMTI的OpenJ9扩展的参考信息。</p>
<!-- ==================================================================================================== -->

<h3 id="getosthreadid"><code>GetOSThreadID</code></h3>
<p>您可以使用以下命令获取操作系统线程ID <code>GetOSThreadID()</code> API：</p>
<pre><code>jvmtiError GetOSThreadID(jvmtiEnv* jvmti_env, jthread thread, jlong * threadid_ptr);
</code></pre>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>thread</code> ：需要ID的线程。</li>
<li><code>threadid_ptr</code> ：指向变量的指针，用于返回与ID所指定的线程相对应的线程ID <code>thread</code>参数。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ： <code>threadid_ptr</code>参数为null。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_INVALID_THREAD</code> ：该线程无效。<br>
<code>JVMTI_ERROR_THREAD_NOT_ALIVE</code> ：线程的VM状态未启动或已死亡。<br>
<code>JVMTI_ERROR_UNATTACHED_THREAD</code> ：当前线程未连接到VM。 <code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI启动或活动阶段之外调用。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.GetOSThreadID</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_GET_OS_THREAD_ID</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="queryvmdump"><code>QueryVmDump</code></h3>
<p>您可以使用以下命令查询为虚拟机设置的虚拟机转储选项： <code>QueryVmDump()</code> API：</p>
<pre><code>jvmtiError QueryVmDump(jvmtiEnv* jvmti_env, jint buffer_size, void* options_buffer, jint* data_size_ptr)
</code></pre>
<p>此扩展名以ASCII字符串形式返回一组转储选项规范。选项字符串的语法与<code>-Xdump</code>命令行选项，带有初始<code>-Xdump:</code>省略。请参阅<a href="xdump.html">-Xdump</a> 。选项字符串由换行符分隔。如果内存缓冲区太小而无法包含当前的VM转储选项字符串，则可以期待以下结果：</p>
<ul>
<li>错误讯息<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code>返回。</li>
<li>的变量<code>data_size_ptr</code>设置为所需的缓冲区大小。</li>
</ul>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>buffer_size</code> ：提供的内存缓冲区的大小（以字节为单位）。</li>
<li><code>options_buffer</code> ：指向提供的内存缓冲区的指针。</li>
<li><code>data_size_ptr</code> ：指向变量的指针，用于返回选项字符串的总大小。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ： <code>options_buffer</code>要么<code>data_size_ptr</code>参数为空。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_NOT_AVAILABLE</code> ：转储配置已锁定，因为正在进行转储。<br>
<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code> ：提供的内存缓冲区位于<code>options_buffer</code>太小。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.QueryVmDump</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_QUERY_VM_DUMP</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="setvmdump"><code>SetVmDump</code></h3>
<p>您可以使用<code>SetVmDump()</code> API：</p>
<pre><code>jvmtiError SetVmDump(jvmtiEnv* jvmti_env, char* option)
</code></pre>
<p>转储选项作为ASCII字符串传递。使用与相同的语法<code>-Xdump</code>命令行选项，带有初始<code>-Xdump:</code>省略。请参阅<a href="xdump.html">-Xdump</a> 。</p>
<p>转储正在进行时，转储配置将被锁定，并调用<code>SetVmDump()</code>失败，返回值为<code>JVMTI_ERROR_NOT_AVAILABLE</code> 。</p>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>option</code> ：VM转储选项字符串。<br>
<i class="fa fa-pencil-square-o" aria-hidden="true"></i> <strong>注意：</strong>在z / OS上，可能需要在使用此JVMTI扩展功能之前将选项字符串从EBCDIC转换为ASCII。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ：参数选项为null。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_NOT_AVAILABLE</code> ：转储配置已锁定，因为正在进行转储。<br>
<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code> ：参数选项包含无效的<code>-Xdump</code>串。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.SetVmDump</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_SET_VM_DUMP</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="triggervmdump"><code>TriggerVmDump</code></h3>
<p>您可以触发虚拟机转储并使用以下命令指定所需的转储类型<code>TriggerVmDump()</code> API：</p>
<pre><code>jvmtiError TriggerVmDump(jvmtiEnv* jvmti_env, char* option)
</code></pre>
<p>通过指定包含支持的转储代理类型之一的ASCII字符串来选择所需的转储类型。请参阅<a href="xdump.html">-Xdump</a> 。在转储的开始和结束时提供了JVMTI事件。</p>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li>
<p><code>option</code> ：指向转储类型字符串的指针，可以是以下类型之一：</p>
<p><code>stack</code><br>
<code>java</code><br>
<code>system</code><br>
<code>console</code><br>
<code>tool</code><br>
<code>heap</code><br>
<code>snap</code><br>
<code>ceedump</code> （仅限z / OS）</p>
<p><i class="fa fa-pencil-square-o" aria-hidden="true"></i> <strong>注意：</strong>在z / OS上，可能需要在使用此JVMTI扩展功能之前将选项字符串从EBCDIC转换为ASCII。</p>
</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ：option参数为null。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_NOT_AVAILABLE</code> ：转储配置已锁定，因为正在进行转储。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.TriggerVmDump</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_TRIGGER_VM_DUMP</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="resetvmdump"><code>ResetVmDump</code></h3>
<p>您可以使用以下命令将VM转储选项重置为VM初始化时的值： <code>ResetVmDump()</code> API：</p>
<pre><code>jvmtiError ResetVmDump(jvmtiEnv* jvmti_env)
</code></pre>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：JVMTI环境指针。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_NOT_AVAILABLE</code> ：转储配置已锁定，因为正在进行转储。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.ResetVmDump</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_RESET_VM_DUMP</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="vmdumpstart"><code>VMDumpStart</code></h3>
<p>VM转储开始时，将调用以下JVMTI事件函数：</p>
<pre><code>void JNICALL VMDumpStart(jvmtiEnv *jvmti_env, JNIEnv* jni_env, char* label, char* event, char* detail)
</code></pre>
<p>事件函数提供转储文件名，JVMTI事件的名称以及转储事件中的详细信息字符串。详细信息字符串提供有关触发转储的事件的其他信息。此信息与<code>JVMDUMP039I</code>信息。例如：</p>
<pre><code>JVMDUMP039I Processing dump event "systhrow", detail "java/lang/OutOfMemoryError" at 2014/10/17 13:31:03 - please wait."
</code></pre>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：JVMTI环境指针。</li>
<li><code>jni_env</code> ：事件发生所在的线程的JNI环境指针。</li>
<li><code>label</code> ：转储文件名，包括目录路径。</li>
<li><code>event</code> ：扩展事件名称，例如<code>com.ibm.VmDumpStart</code> 。</li>
<li><code>detail</code> ：转储事件详细信息字符串。该字符串可以为空。</li>
</ul>
<p><strong>退货</strong></p>
<p>没有</p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="vmdumpend"><code>VMDumpEnd</code></h3>
<p>VM转储结束时，将调用以下JVMTI事件函数：</p>
<pre><code>void JNICALL VMDumpEnd(jvmtiEnv *jvmti_env, JNIEnv* jni_env, char* label, char* event, char* detail)
</code></pre>
<p>事件函数提供转储文件名，JVMTI事件的名称以及转储事件中的详细信息字符串。详细信息字符串提供有关触发转储的事件的其他信息。此信息与<code>JVMDUMP039I</code>信息。例如：</p>
<pre><code>JVMDUMP039I Processing dump event "systhrow", detail "java/lang/OutOfMemoryError" at 2014/10/17 13:31:03 - please wait.
</code></pre>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：JVMTI环境指针。</li>
<li><code>jni_env</code> ：事件发生所在的线程的JNI环境指针。</li>
<li><code>label</code> ：转储文件名，包括目录路径。</li>
<li><code>event</code> ：扩展事件名称<code>com.ibm.VmDumpEnd</code> 。</li>
<li><code>detail</code> ：转储事件详细信息字符串。该字符串可以为空。</li>
</ul>
<p><strong>退货</strong></p>
<p>没有</p>
<!-- ==================================================================================================== -->

<hr>
<h3 id="setvmtrace"><code>SetVmTrace</code></h3>
<p>您可以使用<code>SetVmTrace()</code> API：</p>
<pre><code>jvmtiError SetVmTrace(jvmtiEnv* jvmti_env, char* option)
</code></pre>
<p>跟踪选项作为ASCII字符串传递。使用与相同的语法<code>-Xtrace</code>命令行选项，带有初始<code>-Xtrace:</code>省略。请参阅<a href="xtrace.html">-Xtrace</a> 。</p>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：JVMTI环境指针。</li>
<li><code>option</code> ：输入虚拟机跟踪选项字符串。<br>
<i class="fa fa-pencil-square-o" aria-hidden="true"></i> <strong>注意：</strong>在z / OS上，可能需要在使用此JVMTI扩展功能之前将选项字符串从EBCDIC转换为ASCII。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ：option参数为null。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code> ：选项参数包含无效的<code>-Xtrace</code>串。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.SetVmTrace</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_SET_VM_TRACE</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="registertracepointsubscriber"><code>RegisterTracePointSubscriber</code></h3>
<p>您可以使用以下方法订阅VM跟踪点： <code>RegisterTracePointSubscriber()</code> API：</p>
<pre><code>jvmtiError RegisterTracePointSubscriber(jvmtiEnv* jvmti_env, char *description, jvmtiTraceSubscriber subscriber, jvmtiTraceAlarm alarm, void *userData, void **subscriptionID)
</code></pre>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>description</code> ：描述订户的ASCII字符串。</li>
<li><code>subscriber</code> ：函数类型<a href="#jvmtitracesubscriber-function"><code>jvmtiTraceSubscriber</code></a> 。</li>
<li><code>alarm</code> ：类型的函数指针<a href="#jvmtitracealarm-function"><code>jvmtiTraceAlarm</code></a> 。</li>
<li><code>user_data</code> ：指向用户数据的指针。每次调用这些函数时，该指针都会传递给用户和警报函数。该指针可以为空值。</li>
<li><code>subscription_id</code> ：指向订阅标识符的指针。该指针由<code>RegisterTracePointSubscriber</code>呼叫成功。该值必须提供给以后的调用<code>DeregisterTracePointSubscriber</code> API，用于取消订阅VM跟踪点。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ：提供的参数之一为空。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_NOT_AVAILABLE</code> ：VM跟踪不可用。<br>
<code>JVMTI_ERROR_INTERNAL</code> ： 发生了内部错误。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.RegisterTracePointSubscriber</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_REGISTER_TRACEPOINT_SUBSCRIBER</code></p>
<h4 id="jvmtitracesubscriber-function"><code>jvmtiTraceSubscriber</code>功能</h4>
<dl>
<dd>
<p>订户功能类型定义如下：</p>
<pre><code>typedef jvmtiError (*jvmtiTraceSubscriber)(jvmtiEnv *jvmti_env, void *record, jlong length, void *user_data);
</code></pre>
<p>订户功能必须是类型<code>jvmtiTraceSubscriber</code> ，在中声明<code>ibmjvmti.h</code> 。</p>
<p>对于通过以下方式选择的每个跟踪点记录，都会调用此函数： <code>-Xtrace:external</code>选项。</p>
<p>提供给订户功能的跟踪点记录仅在功能持续时间内有效。如果订户要保存数据，则必须将数据复制到其他位置。</p>
<p>如果订户函数返回错误，则将调用警报函数，预订将被断开，并且不会再向订户发送任何跟踪点。</p>
<p><strong>订户功能参数</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>record</code> ：包含跟踪点记录的UTF-8字符串。</li>
<li><code>length</code> ：跟踪点记录中的UTF-8字符数。</li>
<li><code>user_data</code> ：注册订户时提供的用户数据。</li>
</ul>
</dd>
</dl>
<h4 id="jvmtitracealarm-function"><code>jvmtiTraceAlarm</code>功能</h4>
<dl>
<dd>
<p>报警功能类型定义如下：</p>
<pre><code>typedef jvmtiError (*jvmtiTraceAlarm)(jvmtiEnv *jvmti_env, void *subscription_id, void *user_data);
</code></pre>
<p>警报功能必须为类型<code>jvmtiTraceAlarm</code> ，在中声明<code>ibmjvmti.h</code> 。如果订户函数返回错误，则调用此函数。</p>
<p><strong>报警功能参数</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>subscription_id</code> ：订阅标识符。</li>
<li><code>user_data</code> ：注册订户时提供的用户数据。</li>
</ul>
</dd>
</dl>
<hr>
<!-- ==================================================================================================== -->

<h3 id="deregistertracepointsubscriber"><code>DeregisterTracePointSubscriber</code></h3>
<p>您可以通过以下方式取消订阅VM跟踪点： <code>DeregisterTracePointSubscriber()</code> API：</p>
<pre><code>jvmtiError DeregisterTracePointSubscriber(jvmtiEnv* jvmti_env, void *userData, void *subscription_id)
</code></pre>
<p>之后<code>DeregisterTracePointSubscriber()</code>调用了API，不再对订户函数进行任何调用。</p>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>subscription_id</code> ：通过对<a href="#registertracepointsubscriber">RegisterTracePointSubscriber</a> API的调用返回的订阅标识符。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ： <code>subscription_id</code>参数为null。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.DeregisterTracePointSubscriber</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_DEREGISTER_TRACEPOINT_SUBSCRIBER</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="getmemorycategories"><code>GetMemoryCategories</code></h3>
<p>您可以使用以下命令查询运行时环境本机内存类别： <code>GetMemoryCategories()</code> API：</p>
<pre><code>jvmtiError GetMemoryCategories(jvmtiEnv* env, jint version, jint max_categories, jvmtiMemoryCategory * categories_buffer, jint * written_count_ptr, jint * total_categories_ptr);
</code></pre>
<p>您可以使用此API查询每个内存类别的运行时环境的总本机内存消耗。本机内存是使用库函数从操作系统请求的内存，例如<code>malloc()</code>和<code>mmap()</code> 。运行时环境本机内存使用情况分为高级内存类别，如<code>NATIVEMEMINFO</code> <em>Java转储</em>主题。由返回的数据<code>GetMemoryCategories()</code> API与此格式一致。参见<a href="dump_javadump.html#nativememinfo">Java转储：NATIVEMEMINFO</a> 。</p>
<p>该扩展将本机内存信息写入用户指定的内存缓冲区。每个内存类别都记录为一个<code>jvmtiMemoryCategory</code>结构，其格式定义为<code>ibmjvmti.h</code> 。</p>
<p>您可以使用<code>GetMemoryCategories()</code>确定您必须分配以容纳VM内部定义的所有内存类别的缓冲区大小的API。要计算大小，请使用null调用API <code>categories_buffer</code>参数和非null <code>total_categories_ptr</code>论点。</p>
<p><strong>参量</strong></p>
<ul>
<li><code>env</code> ：指向JVMTI环境的指针。</li>
<li><code>version</code> ：版本<code>jvmtiMemoryCategory</code>您正在使用的结构。使用<code>COM_IBM_GET_MEMORY_CATEGORIES_VERSION_1</code>除非您必须使用过时的版本<code>jvmtiMemoryCategory</code>结构体。</li>
<li><code>max_categories</code> ： 的数量<code>jvmtiMemoryCategory</code>可以适合的结构<code>categories_buffer</code>内存缓冲区。</li>
<li><code>categories_buffer</code> ：指向用于保存结果的内存缓冲区的指针<code>GetMemoryCategories()</code>呼叫。的数量<code>jvmtiMemoryCategory</code>可用的插槽<code>categories_buffer</code>内存缓冲区必须准确指定<code>max_categories</code> ， 除此以外<code>GetMemoryCategories()</code>可能会使内存缓冲区溢出。该值可以为空。</li>
<li><code>written_count_ptr</code> ：指向的指针<code>jint</code>存储数量<code>jvmtiMemoryCategory</code>要写入的结构<code>categories_buffer</code>内存缓冲区。该值可以为空。</li>
<li><code>total_categories_ptr</code> ：指向的指针<code>jint</code>存储虚拟机中声明的内存类别总数。该值可以为空。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_UNSUPPORTED_VERSION</code> ：传递了版本的无法识别的值。<br>
<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code> ：非法论点； <code>categories_buffer</code> ， <code>count_ptr</code>和<code>total_categories_ptr</code>全部具有空值。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>env</code>参数无效。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：内存类别数据被截断是因为<code>max_categories</code>还不够大。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.GetMemoryCategories</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_GET_MEMORY_CATEGORIES</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="queryvmlogoptions"><code>QueryVmLogOptions</code></h3>
<p>您可以使用以下命令查询VM日志选项： <code>QueryVmLogOptions()</code> API：</p>
<pre><code>jvmtiError QueryVmLogOptions(jvmtiEnv* jvmti_env, jint buffer_size, void* options, jint* data_size_ptr)
</code></pre>
<p>此扩展名将当前日志选项作为ASCII字符串返回。字符串的语法与<code>-Xlog</code>命令行选项，带有初始<code>-Xlog:</code>省略。例如，字符串“ error，warn”表示VM设置为仅记录错误和警告消息。有关更多信息，请参见<a href="xlog.html"><code>-Xlog</code></a> 。</p>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>buffer_size</code> ：提供的内存缓冲区的大小（以字节为单位）。如果内存缓冲区太小而无法包含当前的VM日志选项字符串，则<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code>返回错误信息。</li>
<li><code>options_buffer</code> ：指向提供的内存缓冲区的指针。</li>
<li><code>data_size_ptr</code> ：指向变量的指针，用于返回选项字符串的总大小。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ： <code>options</code>要么<code>data_size_ptr</code>参数为空。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code> ：提供的内存缓冲区太小。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.QueryVmLogOptions</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_QUERY_VM_LOG_OPTIONS</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="setvmlogoptions"><code>SetVmLogOptions</code></h3>
<p>您可以使用以下命令设置VM日志选项： <code>SetVmLogOptions()</code> API：</p>
<pre><code>jvmtiError SetVmLogOptions(jvmtiEnv* jvmti_env, char* options_buffer)
</code></pre>
<p>log选项作为ASCII字符串传递。使用与相同的语法<code>-Xlog</code>命令行选项，带有初始<code>-Xlog:</code>省略。例如，要将虚拟机设置为记录错误和警告消息，请传入包含“ error，warn”的字符串。有关更多信息，请参见<a href="xlog.html"><code>-Xlog</code></a> 。</p>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>options_buffer</code> ：指向包含log选项的内存的指针。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ：参数选项为null。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code> ：参数选项包含无效的<code>-Xlog</code>串。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.SetVmLogOptions</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_SET_VM_LOG_OPTIONS</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="iteratesharedcaches"><code>IterateSharedCaches</code></h3>
<p>您可以使用以下命令搜索指定缓存目录中存在的共享类缓存。 <code>IterateSharedCaches()</code> API：</p>
<pre><code>jvmtiError IterateSharedCaches(jvmtiEnv* env, jint version, const char *cacheDir, jint flags, jboolean useCommandLineValues, jvmtiIterateSharedCachesCallback callback, void *user_data);
</code></pre>
<p>有关缓存的信息以用户指定的回调函数填充的结构形式返回。您可以通过两种方式指定搜索目录：</p>
<ul>
<li>设定值<code>useCommandLineValues</code>至<code>true</code>并在命令行上指定目录。如果未在命令行上指定目录，则使用平台的默认位置。</li>
<li>设定值<code>useCommandLineValues</code>至<code>false</code>并使用<code>cacheDir</code>参数。要接受平台的默认位置，请指定<code>cacheDir</code>与一个<code>null</code>值。</li>
</ul>
<p><strong>参量</strong></p>
<ul>
<li><code>env</code> ：指向JVMTI环境的指针。</li>
<li><code>version</code> ：版本信息<code>IterateSharedCaches</code> ，它描述了<code>jvmtiSharedCacheInfo</code>结构传递给<code>jvmtiIterateSharedCachesCallback</code>功能。允许的值为：<ul>
<li><code>COM_IBM_ITERATE_SHARED_CACHES_VERSION_1</code></li>
<li><code>COM_IBM_ITERATE_SHARED_CACHES_VERSION_2</code></li>
<li><code>COM_IBM_ITERATE_SHARED_CACHES_VERSION_3</code></li>
<li><code>COM_IBM_ITERATE_SHARED_CACHES_VERSION_4</code></li>
</ul>
</li>
<li><code>cacheDir</code> ：当值<code>useCommandLineValues</code>是<code>false</code> ，指定共享类缓存的目录的绝对路径。如果值为<code>null</code> ，则使用平台相关的默认值。</li>
<li><code>flags</code> ：保留以备将来使用。唯一允许的值是<code>COM_IBM_ITERATE_SHARED_CACHES_NO_FLAGS</code> 。</li>
<li><code>useCommandLineValues</code> ：将此值设置为<code>true</code>当您想在命令行上指定缓存目录时。将此值设置为<code>false</code>当您想使用<code>cacheDir</code>参数。</li>
<li><code>callback</code> ：指向用户提供的回调例程的函数指针<code>jvmtiIterateSharedCachesCallback</code> 。</li>
<li><code>user_data</code> ：用户提供的数据，作为参数传递给回调函数。<pre><code>jint (JNICALL *jvmtiIterateSharedCachesCallback)(jvmtiEnv *env,jvmtiSharedCacheInfo *cache_info, void *user_data);
</code></pre>
</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_UNSUPPORTED_VERSION</code> ： <code>version</code>参数无效。<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ： <code>callback</code>参数为null。<br>
<code>JVMTI_ERROR_NOT_AVAILABLE</code> ：VM中未启用共享类功能。<br>
<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code> ： <code>flags</code>参数无效。<br>
<code>JVMTI_ERROR_INTERNAL</code> ：当<code>jvmtiIterateSharedCachesCallback</code>退货<code>JNI_ERR</code> 。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.IterateSharedCaches</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_ITERATE_SHARED_CACHES</code></p>
<h4 id="jvmtiiteratesharedcachescallback-function"><code>jvmtiIterateSharedCachesCallback</code>功能</h4>
<dl>
<dd>
<p><strong>回调函数参数</strong></p>
<ul>
<li><code>env</code> ：调用时指向JVMTI环境的指针<code>COM_IBM_ITERATE_SHARED_CACHES</code> 。</li>
<li><code>cache_info</code> ： 一种<code>jvmtiSharedCacheInfo</code>包含有关共享缓存的信息的结构。</li>
<li><code>user_data</code> ：用户提供的数据，作为参数传递给<code>IterateSharedCaches</code> 。</li>
</ul>
<p><strong>回调函数返回</strong></p>
<p><code>JNI_OK</code> ：继续进行迭代。<br>
<code>JNI_ERR</code> ：停止迭代，这会导致<code>IterateSharedCaches</code>返回<code>JVMTI_ERROR_INTERNAL</code></p>
</dd>
</dl>
<h4 id="jvmtisharedcacheinfo-structure"><code>jvmtiSharedCacheInfo</code>结构体</h4>
<dl>
<dd>
<p>的结构<code>jvmtiSharedCacheInfo</code></p>
<pre><code>typedef struct jvmtiSharedCacheInfo {
const char *name;      // the name of the shared cache
jboolean isCompatible; // if the shared cache is compatible with this VM
jboolean isPersistent; // true if the shared cache is persistent, false if its non-persistent
jint os_shmid;         // the OS shared memory ID associated with a non-persistent cache, -1 otherwise
jint os_semid;         // the OS shared semaphore ID associated with a non-persistent cache, -1 otherwise
jint modLevel;         // one of:
                       //   COM_IBM_SHARED_CACHE_MODLEVEL_JAVA5
                       //   COM_IBM_SHARED_CACHE_MODLEVEL_JAVA6
                       //   COM_IBM_SHARED_CACHE_MODLEVEL_JAVA7
                       //   COM_IBM_SHARED_CACHE_MODLEVEL_JAVA8
                       //   COM_IBM_SHARED_CACHE_MODLEVEL_JAVA9
                       //   from Java 10: the version number of the Java level on which the shared cache is created
jint addrMode;         // the address mode of the VM creating the shared cache: includes additional
                       // information on whether it is a 64-bit compressedRefs cache when
                       // COM_IBM_ITERATE_SHARED_CACHES_VERSION_3 or later is specified.
jboolean isCorrupt;    // if the cache is corrupted
jlong cacheSize;       // the total usable shared class cache size, or -1 when isCompatible is false
jlong freeBytes;       // the number of free bytes in the shared class cache, or -1 when isCompatible is false
jlong lastDetach;      // the last detach time specified in milliseconds since 00:00:00 on 1 January 1970 UTC,
                       // or -1 when the last detach time is not available
jint cacheType;        // the type of the cache
jlong softMaxBytes;    // the soft limit for the available space in the cache
} jvmtiSharedCacheInfo;
</code></pre>
<p><i class="fa fa-pencil-square-o" aria-hidden="true"></i> <strong>笔记：</strong></p>
<ul>
<li>
<p>场<code>cacheType</code>包括在<code>COM_IBM_ITERATE_SHARED_CACHES_VERSION_2</code>或更高版本被指定。</p>
</li>
<li>
<p><code>jvmtiSharedCacheInfo.addrMode</code>当同时编码地址模式和压缩参考模式时<code>COM_IBM_ITERATE_SHARED_CACHES_VERSION_3</code>或更高版本被指定。在这种情况下，请使用以下宏集访问地址模式和压缩参考模式：</p>
</li>
</ul>
<dl>
<dd>
<p>要获取地址模式，请使用：</p>
<pre><code>COM_IBM_ITERATE_SHARED_CACHES_GET_ADDR_MODE(jvmtiSharedCacheInfo.addrMode)
</code></pre>
<p>此宏返回以下值之一：<br>
<code>COM_IBM_SHARED_CACHE_ADDRMODE_32</code><br>
<code>COM_IBM_SHARED_CACHE_ADDRMODE_64</code>  </p>
</dd>
<dd>
<p>要获取压缩的引用模式，请使用：</p>
<pre><code>COM_IBM_ITERATE_SHARED_CACHES_GET_CMPRSSREF_MODE(jvmtiSharedCacheInfo.addrMode)
</code></pre>
<p>此宏返回以下值之一：<br>
<code>COM_IBM_ITERATE_SHARED_CACHES_UNKNOWN_COMPRESSED_POINTERS_MODE</code><br>
<code>COM_IBM_ITERATE_SHARED_CACHES_COMPRESSED_POINTERS_MODE</code><br>
<code>COM_IBM_ITERATE_SHARED_CACHES_NON_COMPRESSED_POINTERS_MODE</code>  </p>
</dd>
</dl>
<ul>
<li>场<code>softMaxBytes</code>包括在<code>COM_IBM_ITERATE_SHARED_CACHES_VERSION_4</code>或更高版本被指定。</li>
</ul>
</dd>
</dl>
<hr>
<!-- ==================================================================================================== -->

<h3 id="destroysharedcache"><code>DestroySharedCache</code></h3>
<p>您可以使用以下命令删除共享的类缓存<code>DestroySharedCache()</code> API：</p>
<pre><code>jvmtiError DestroySharedCache(jvmtiEnv *env, const char *cacheDir, const char *name, jint persistence, jboolean useCommandLineValues, jint *internalErrorCode);
</code></pre>
<p>此扩展在给定目录中删除给定持久性类型的命名共享类缓存。您可以通过以下方式之一指定缓存名称，持久性类型和目录：</p>
<ul>
<li>
<p>组<code>useCommandLineValues</code>至<code>true</code>并在命令行上指定值。如果没有值，则使用平台的默认值。</p>
</li>
<li>
<p>组<code>useCommandLineValues</code>至<code>false</code>并使用<code>cacheDir</code> ， <code>persistence</code>和<code>cacheName</code>标识要删除的缓存的参数。接受默认值<code>cacheDir</code>要么<code>cacheName</code> ，请使用<code>null</code>值。</p>
</li>
</ul>
<p><strong>参量</strong></p>
<ul>
<li><code>env</code> ：指向JVMTI环境的指针。</li>
<li><code>cacheDir</code> ：当值<code>useCommandLineValues</code>是<code>false</code> ，指定共享类缓存的目录的绝对路径。如果值为<code>null</code> ，则使用平台相关的默认值。</li>
<li><code>cacheName</code> ：当值<code>useCommandLineValues</code>是<code>false</code> ，指定要删除的缓存的名称。如果值为<code>null</code> ，则使用平台相关的默认值。</li>
<li><code>persistence</code> ：当值<code>useCommandLineValues</code>如果为false，请指定要删除的缓存类型。此参数必须具有以下值之一：<br>
<code>PERSISTENCE_DEFAULT</code> （平台的默认值）。<br>
<code>PERSISTENT</code><br>
<code>NONPERSISTENT</code>  </li>
<li><code>useCommandLineValues</code> ：将此值设置为<code>true</code>当您想在命令行上指定共享类缓存名称，持久性类型和目录时。将此值设置为<code>false</code>当您想使用<code>cacheDir</code> ， <code>persistence</code>和<code>cacheName</code>参数代替。</li>
<li><code>internalErrorCode</code> ： 如果不<code>null</code> ，则在以下情况下将此值设置为以下常量之一<code>JVMTI_ERROR_INTERNAL</code>返回：<ul>
<li><code>COM_IBM_DESTROYED_ALL_CACHE</code> ：设置时间<code>JVMTI_ERROR_NONE is</code>回来。</li>
<li><code>COM_IBM_DESTROYED_NONE</code> ：在函数无法删除任何缓存时设置。</li>
<li><code>COM_IBM_DESTROY_FAILED_CURRENT_GEN_CACHE</code> ：在函数无法删除现有的当前高速缓存时设置，无论较早的高速缓存的状态如何。</li>
<li><code>COM_IBM_DESTROY_FAILED_OLDER_GEN_CACHE</code> ：当函数无法删除任何较早的缓存时设置。当前代缓存不存在或已成功删除。</li>
</ul>
</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。不存在任何高速缓存，或者已删除所有所有代的现有高速缓存。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_NOT_AVAILABLE</code> ：VM中未启用共享类功能。<br>
<code>JVMTI_ERROR_ILLEGAL_ARGUMENT</code> ： <code>persistence</code>参数无效。
<code>JVMTI_ERROR_INTERNAL</code> ：无法删除具有给定名称的任何现有缓存。看到的价值<code>internalErrorCode</code>参数以获取有关失败的更多信息。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.DestroySharedCache</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_DESTROY_SHARED_CACHE</code></p>
<hr>
<!-- ==================================================================================================== -->

<h3 id="registerverbosegcsubscriber"><code>RegisterVerboseGCSubscriber</code></h3>
<p>您可以使用以下命令订阅详细垃圾收集（GC）数据记录<code>RegisterVerboseGCSubscriber()</code> API：</p>
<pre><code>jvmtiError RegisterVerboseGCSubscriber(jvmtiEnv* jvmti_env, char *description, jvmtiVerboseGCSubscriber subscriber, jvmtiVerboseGCAlarm alarm, void *user_data, void **subscription_id)
</code></pre>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>description</code> ：描述订户的ASCII字符串。</li>
<li><code>subscriber</code> ：函数类型<a href="#jvmtiverbosegcsubscriberfunction"><code>jvmtiVerboseGCSubscriber</code></a> 。</li>
<li><code>alarm</code> ：类型的函数指针<a href="#jvmtiverbosegcalarmfunction"><code>jvmtiVerboseGCAlarm</code></a> 。</li>
<li><code>user_data</code> ：指向用户数据的指针。每次调用这些函数时，该指针都会传递给用户和警报函数。该指针可以为空值。</li>
<li><code>subscription_id</code> ：指向订阅标识符的指针。该指针由<code>RegisterVerboseGCSubscriber</code>呼叫成功。该值必须提供给以后的调用<code>DeregisterVerboseGCSubscriber</code> API，用于取消订阅详细的GC数据记录。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ：提供的参数之一为空。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。<br>
<code>JVMTI_ERROR_NOT_AVAILABLE</code> ：GC详细日志记录不可用。<br>
<code>JVMTI_ERROR_INTERNAL</code> ： 发生了一个内部的错误。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.RegisterVerboseGCSubscriber</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_REGISTER_VERBOSEGC_SUBSCRIBER</code></p>
<h4 id="jvmtiverbosegcsubscriber-function"><code>jvmtiVerboseGCSubscriber</code>功能</h4>
<dl>
<dd>
<p>订户功能类型定义如下：</p>
<pre><code>typedef jvmtiError (*jvmtiVerboseGCSubscriber)(jvmtiEnv *jvmti_env, const char *record, jlong length, void *user_data);
</code></pre>
<p>订户功能必须是类型<code>jvmtiVerboseGCSubscriber</code> ，在中声明<code>ibmjvmti.h</code> 。</p>
<p>VM生成的详细日志记录的每条记录都会调用此函数。</p>
<p>提供给订户功能的详细日志记录仅在功能持续时间内有效。如果订户要保存数据，则必须将数据复制到其他位置。</p>
<p>如果订阅者函数返回错误，则调用警报函数，并取消订阅。</p>
<p><strong>订户功能参数</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>record</code> ：包含详细日志记录的ASCII字符串。</li>
<li><code>length</code> ：详细日志记录中的ASCII字符数。</li>
<li><code>user_data</code> ：注册订户时提供的用户数据。</li>
</ul>
</dd>
</dl>
<h4 id="jvmtiverbosegcalarm-function"><code>jvmtiVerboseGCAlarm</code>功能</h4>
<dl>
<dd>
<p>报警功能类型定义如下：</p>
<pre><code>typedef jvmtiError (*jvmtiVerboseGCAlarm)(jvmtiEnv *jvmti_env, void *subscription_id, void *user_data);
</code></pre>
<p>警报功能必须为类型<code>jvmtiVerboseGCAlarm</code> ，在中声明<code>ibmjvmti.h</code> 。如果订户函数返回错误，则调用此函数。</p>
<p><strong>报警功能参数</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>user_data</code> ：注册订户时提供的用户数据。</li>
<li><code>subscription_id</code> ：订阅标识符。</li>
</ul>
</dd>
</dl>
<hr>
<!-- ==================================================================================================== -->

<h3 id="deregisterverbosegcsubscriber"><code>DeregisterVerboseGCSubscriber</code></h3>
<p>您可以通过以下方式取消订阅详细的垃圾收集（GC）数据记录： <code>DeregisterVerboseGCSubscriber()</code> API：</p>
<pre><code>jvmtiError DeregisterVerboseGCSubscriber(jvmtiEnv* jvmti_env, void *userData, void *subscription_id)
</code></pre>
<p>之后<code>DeregisterVerboseGCSubscriber()</code>调用了API，不再对先前注册的订户函数进行任何调用。</p>
<p><strong>参量</strong></p>
<ul>
<li><code>jvmti_env</code> ：指向JVMTI环境的指针。</li>
<li><code>subscription_id</code> ：通过调用<a href="#registerverbosegcsubscriber">RegisterVerboseGCSubscriber（）</a> API返回的订阅标识符。</li>
</ul>
<p><strong>退货</strong></p>
<p><code>JVMTI_ERROR_NONE</code> ：成功。<br>
<code>JVMTI_ERROR_NULL_POINTER</code> ： <code>subscription_id</code>参数为null。<br>
<code>JVMTI_ERROR_OUT_OF_MEMORY</code> ：没有足够的系统内存来处理请求。<br>
<code>JVMTI_ERROR_INVALID_ENVIRONMENT</code> ： <code>jvmti_env</code>参数无效。<br>
<code>JVMTI_ERROR_WRONG_PHASE</code> ：该扩展已在JVMTI实时阶段之外被调用。</p>
<p><strong>身份标识</strong></p>
<p>JVMTI扩展功能标识符：<code>com.ibm.DeregisterVerboseGCSubscriber</code><br>中的宏声明<code>ibmjvmti.h</code>文件：<code>COM_IBM_DEREGISTER_VERBOSEGC_SUBSCRIBER</code></p>
<hr>
<!-- ==================================================================================================== -->

<!-- ==== END OF TOPIC ==== interface_jvmti.md ==== -->
                
                  
                
              
<!--
              
                


              
-->
              <!-- This block was originally in the theme's 'footer.html' partial file. It has been moved here in part to resolve issues with the footer being too large. -->
              
                <!--
* Copyright (c) 2017, 2018 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->
              
                <div class="md-footer-nav">
                  <nav class="md-footer-nav__inner md-grid">
<!-- Ignore all this to remove previous/next links in footer, but leave nav block else lose highlighting in LH navigation
                    <img alt="" src="../cr/rule.png"> [!-- Separator --]
                    
                      <a href="tool_migration.html" title="Switching to OpenJ9" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
                        <div class="md-flex__cell md-flex__cell--shrink">
                          <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
                        </div>
                        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                          <span class="md-flex__ellipsis">
                            <span class="md-footer-nav__direction">
                              Previous
                            </span>
                            Switching to OpenJ9
                          </span>
                        </div>
                      </a>
                    
                    
                      <a href="interface_dtfj.html" title="DTFJ" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
                        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                          <span class="md-flex__ellipsis">
                            <span class="md-footer-nav__direction">
                              Next
                            </span>
                            DTFJ
                          </span>
                        </div>
                        <div class="md-flex__cell md-flex__cell--shrink">
                          <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
                        </div>
                      </a>
                    
-->
                  </nav>
                </div>
              
              
            </article>
          </div>
        </div>
      </main>
      
        <!--
* Copyright (c) 2017, 2019 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->
<cite></cite>
<footer class="md-footer">

  <div class="md-footer-meta md-typeset">
    

    
      <!--
* Copyright (c) 2017, 2019 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->

  <div class="md-footer-social1">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/eclipse/openj9" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://openj9.slack.com" class="md-footer-social__link fa fa-slack"></a>
    
      <a href="https://twitter.com/openj9" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://stackoverflow.com/search?q=OpenJ9" class="md-footer-social__link fa fa-stack-overflow"></a>
    
  </div>

    

    <div class="md-footer-eclipse1">OpenJ9是一个Eclipse Incubator项目。</div>

    <div class="md-footer-links1">
      <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org">Eclipse Foundation网站</a></span> <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org/legal/privacy.php">隐私政策</a></span> <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org/legal/termsofuse.php">网站使用条款</a></span> <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org/legal/copyright.php">版权代理</a></span> <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org/legal">法律</a></span>
    </div>

    <div class="md-footer-power1">由<a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>和<a href="http://squidfunk.github.io/mkdocs-material/" title="MkDocs的材料">Material for MkDocs提供支持</a><br><br>
    </div>

  </div>

</footer>
      
    </div>
    
      <script src="assets/javascripts/application.583bbe55.js"></script>
      
        
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
    
      
    
  
</body></html>