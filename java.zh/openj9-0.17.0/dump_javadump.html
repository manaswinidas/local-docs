<html lang="zh-Hans" class="no-js" ><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Eclipse OpenJ9 documentation">
      
      
        <link rel="canonical" href="https://www.eclipse.org/openj9/docs/dump_javadump.html">
      
      
      
        <meta name="lang:clipboard.copy" content="">
      
        <meta name="lang:clipboard.copied" content="">
      
        <meta name="lang:search.language" content="">
      
        <meta name="lang:search.pipeline.stopwords" content="">
      
        <meta name="lang:search.pipeline.trimmer" content="">
      
        <meta name="lang:search.result.none" content="">
      
        <meta name="lang:search.result.one" content="">
      
        <meta name="lang:search.result.other" content="">
      
        <meta name="lang:search.tokenizer" content="">
      
      <link rel="shortcut icon" href="cr/oj9logo_img9.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>Java转储-</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#00bcd4">
      
    
    
      <script src="assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
        <link rel="stylesheet" href="asset?aid=0">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="stylesheets/oj9.css">
    
    
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f (https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore%28j,f) );
})(window,document,'script','dataLayer','GTM-5WLCZXC');</script>
<!-- End Google Tag Manager -->  
  </head>
  
    
    
    <body  data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg width="416" height="448" id="__github" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 416 448">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z"></path>
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" type="checkbox" id="__drawer" autocomplete="off" data-md-toggle="drawer">
    <input class="md-toggle" type="checkbox" id="__search" autocomplete="off" data-md-toggle="search">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#java-dump" class="md-skip" tabindex="1">
        
      </a>
    
    
      <!--
* Copyright (c) 2017, 2019 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.eclipse.org/openj9/docs" title=" " class="md-header-nav__button md-logo">
          
            <img src="./cr/openj9_6b.png">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocomplete="off" spellcheck="false" autocapitalize="off" autocorrect="off" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1"></button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix="">
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/eclipse/openj9-docs/" title="转到存储库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg width="24" height="24" viewbox="0 0 24 24">
          <use width="24" height="24" xlink:href="#__github"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">的GitHub</div>
  </a>

          </div>
        </div>
      

      <!-- Eclipse Incubator link -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://wiki.eclipse.org/Development_Resources/Process_Guidelines/What_is_Incubation" target="_blank"><img class="egg" src="./cr/egg-incubation.png" alt="Eclipse孵化"></a>
      </div>

    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.eclipse.org/openj9/docs" title=" " class="md-nav__button md-logo">
      
        <img src="cr/openj9_6b.png" width="48" height="48">
      
    </a>
     
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/eclipse/openj9-docs/" title="转到存储库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg width="24" height="24" viewbox="0 0 24 24">
          <use width="24" height="24" xlink:href="#__github"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">的GitHub</div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix="">
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="关于" class="md-nav__link">关于</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="adoptopenjdk.html" title="采用OpenJDK构建" class="md-nav__link">采用OpenJDK构建</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="introduction.html" title="入门" class="md-nav__link">入门</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="openj9_newuser.html" title="OpenJ9的新手？" class="md-nav__link">OpenJ9的新手？
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-5" data-md-toggle="nav-5">
    
    <label class="md-nav__link" for="nav-5">发行说明</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">发行说明</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="version0.17.html" title="版本0.17.0" class="md-nav__link">版本0.17.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.16.html" title="版本0.16.0" class="md-nav__link">版本0.16.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.15.html" title="版本0.15.1" class="md-nav__link">版本0.15.1</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.14.html" title="版本0.14.0" class="md-nav__link">版本0.14.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-5-5" data-md-toggle="nav-5-5">
    
    <label class="md-nav__link" for="nav-5-5">早期版本</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-5">早期版本</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="version0.13.html" title="版本0.13.0" class="md-nav__link">版本0.13.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.12.html" title="版本0.12.0" class="md-nav__link">版本0.12.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.11.html" title="版本0.11.0" class="md-nav__link">版本0.11.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.10.html" title="版本0.10.0" class="md-nav__link">版本0.10.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.9.html" title="版本0.9.0" class="md-nav__link">版本0.9.0</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="version0.8.html" title="0.8.0版" class="md-nav__link">0.8.0版</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="gc.html" title="垃圾收集" class="md-nav__link">垃圾收集</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="jit.html" title="JIT编译器" class="md-nav__link">JIT编译器</a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="aot.html" title="AOT编译器" class="md-nav__link">AOT编译器</a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-9" data-md-toggle="nav-9">
    
    <label class="md-nav__link" for="nav-9">班级数据共享</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">班级数据共享</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="shrc.html" title="总览" class="md-nav__link">总览</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="shrc_diag_util.html" title="诊断缓存实用程序" class="md-nav__link">诊断缓存实用程序</a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-10" data-md-toggle="nav-10" checked>
    
    <label class="md-nav__link" for="nav-10">诊断程序</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">诊断程序</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="diag_overview.html" title="总览" class="md-nav__link">总览</a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-10-2" data-md-toggle="nav-10-2" checked>
    
    <label class="md-nav__link" for="nav-10-2">转储</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-2">转储</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" type="checkbox" id="__toc" data-md-toggle="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">Java转储</label> <a href="dump_javadump.html" title="Java转储" class="md-nav__link md-nav__link--active">Java转储</a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">在此页 ...</label>
    <ul class="md-nav__list" data-md-scrollfix="">
      
        <li class="md-nav__item">
  <a href="#java-dump-contents" title="Java转储内容" class="md-nav__link">Java转储内容</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#title" title="标题" class="md-nav__link">标题</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpinfo" title="GPINFO" class="md-nav__link">GPINFO</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#envinfo" title="环保信息" class="md-nav__link">环保信息</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nativememinfo" title="本地记忆信息" class="md-nav__link">本地记忆信息</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meminfo" title="MEMINFO" class="md-nav__link">MEMINFO</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#locks" title="锁" class="md-nav__link">锁</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threads" title="螺纹" class="md-nav__link">螺纹</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hooks" title="挂钩" class="md-nav__link">挂钩</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shared-classes" title="共享类" class="md-nav__link">共享类</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classes" title="类" class="md-nav__link">类</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenarios" title="情境" class="md-nav__link">情境</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-protection-fault" title="一般性保护错误" class="md-nav__link">一般性保护错误</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-outofmemoryerror" title="Java OutOfMemoryError" class="md-nav__link">Java OutOfMemoryError</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#native-outofmemoryerror" title="本机OutOfMemoryError" class="md-nav__link">本机OutOfMemoryError</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deadlock" title="僵局" class="md-nav__link">僵局</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hang" title="挂" class="md-nav__link">挂</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dump_heapdump.html" title="堆转储" class="md-nav__link">堆转储</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dump_systemdump.html" title="系统转储" class="md-nav__link">系统转储</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-10-3" data-md-toggle="nav-10-3">
    
    <label class="md-nav__link" for="nav-10-3">工具类</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-3">工具类</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jextract.html" title="转储提取器" class="md-nav__link">转储提取器</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jdmpview.html" title="转储查看器" class="md-nav__link">转储查看器</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_traceformat.html" title="跟踪格式化程序" class="md-nav__link">跟踪格式化程序</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_builder.html" title="期权建设者" class="md-nav__link">期权建设者</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jcmd.html" title="Java命令（JCMD）工具" class="md-nav__link">Java命令（JCMD）工具</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jmap.html" title="Java内存映射（jmap）工具" class="md-nav__link">Java内存映射（jmap）工具</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jps.html" title="Java进程状态（jps）" class="md-nav__link">Java进程状态（jps）</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_jstack.html" title="Java堆栈（jstack）工具" class="md-nav__link">Java堆栈（jstack）工具</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tool_migration.html" title="切换到OpenJ9" class="md-nav__link">切换到OpenJ9</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-10-4" data-md-toggle="nav-10-4">
    
    <label class="md-nav__link" for="nav-10-4">介面</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-4">介面</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="interface_jvmti.html" title="JVMTI" class="md-nav__link">JVMTI</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="interface_dtfj.html" title="DTFJ" class="md-nav__link">DTFJ</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-11" data-md-toggle="nav-11">
    
    <label class="md-nav__link" for="nav-11">命令行选项</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">命令行选项</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="cmdline_specifying.html" title="指定选项" class="md-nav__link">指定选项</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="cmdline_general.html" title="标准选项" class="md-nav__link">标准选项</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="cmdline_migration.html" title="切换到OpenJ9" class="md-nav__link">切换到OpenJ9</a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-11-4" data-md-toggle="nav-11-4">
    
    <label class="md-nav__link" for="nav-11-4">系统属性选项</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-4">系统属性选项</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="d_jvm_commands.html" title="使用系统属性" class="md-nav__link">使用系统属性</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmenableclasscaching.html" title="-Dcom.ibm.enableClassCaching" class="md-nav__link">-Dcom.ibm.enableClassCaching</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmenablelegacydumpsecurity.html" title="-Dcom.ibm.enableLegacyDumpSecurity" class="md-nav__link">-Dcom.ibm.enableLegacyDumpSecurity</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmenablelegacylogsecurity.html" title="-Dcom.ibm.enableLegacyLogSecurity" class="md-nav__link">-Dcom.ibm.enableLegacyLogSecurity</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmenablelegacytracesecurity.html" title="-Dcom.ibm.enableLegacyTraceSecurity" class="md-nav__link">-Dcom.ibm.enableLegacyTraceSecurity</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmgpudisable.html" title="-Dcom.ibm.gpu.disable" class="md-nav__link">-Dcom.ibm.gpu.disable</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmgpuenable.html" title="-Dcom.ibm.gpu.enable" class="md-nav__link">-Dcom.ibm.gpu.enable</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmgpuverbose.html" title="-Dcom.ibm.gpu.verbose" class="md-nav__link">-Dcom.ibm.gpu.verbose</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmlangmanagementosmxbeaniscputime100ns.html" title="-Dcom.ibm.lang.management。OperatingSystemMXBean.isCpuTime100ns" class="md-nav__link">-Dcom.ibm.lang.management。OperatingSystemMXBean.isCpuTime100ns</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmlangmanagementverbose.html" title="-Dcom.ibm.lang.management.verbose" class="md-nav__link">-Dcom.ibm.lang.management.verbose</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachdirectory.html" title="-Dcom.ibm.tools.attach.directory" class="md-nav__link">-Dcom.ibm.tools.attach.directory</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachdisplayname.html" title="-Dcom.ibm.tools.attach.displayName" class="md-nav__link">-Dcom.ibm.tools.attach.displayName</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachenable.html" title="-Dcom.ibm.tools.attach.enable" class="md-nav__link">-Dcom.ibm.tools.attach.enable</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachid.html" title="-Dcom.ibm.tools.attach.id" class="md-nav__link">-Dcom.ibm.tools.attach.id</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dcomibmtoolsattachtimeout.html" title="-Dcom.ibm.tools.attach.timeout" class="md-nav__link">-Dcom.ibm.tools.attach.timeout</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dfileencoding.html" title="-Dfile.encoding" class="md-nav__link">-Dfile.encoding</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djavacompiler.html" title="-Djava.compiler" class="md-nav__link">-Djava.compiler</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativecbc.html" title="-Djdk.nativeCBC" class="md-nav__link">-Djdk.nativeCBC</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativechacha20.html" title="-Djdk.nativeChaCha20" class="md-nav__link">-Djdk.nativeChaCha20</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativecrypto.html" title="-Djdk.nativeCrypto" class="md-nav__link">-Djdk.nativeCrypto</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativedigest.html" title="-Djdk.nativeDigest" class="md-nav__link">-Djdk.nativeDigest</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativegcm.html" title="-Djdk.nativeGCM" class="md-nav__link">-Djdk.nativeGCM</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="djdknativersa.html" title="-Djdk.nativeRSA" class="md-nav__link">-Djdk.nativeRSA</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-11-5" data-md-toggle="nav-11-5">
    
    <label class="md-nav__link" for="nav-11-5">JVM -X选项</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-5">JVM -X选项</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="x_jvm_commands.html" title="使用-X选项" class="md-nav__link">使用-X选项</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="x.html" title="-X" class="md-nav__link">-X</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xaggressive.html" title="-侵略性" class="md-nav__link">-侵略性</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xalwaysclassgc.html" title="-Xalwaysclassgc" class="md-nav__link">-Xalwaysclassgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xaot.html" title="-Xaot" class="md-nav__link">-Xaot</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xargencoding.html" title="-Xargencoding" class="md-nav__link">-Xargencoding</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xbootclasspath.html" title="-Xbootclasspath" class="md-nav__link">-Xbootclasspath</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xceehdlr.html" title="-XCEEHDLR" class="md-nav__link">-XCEEHDLR</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcheck.html" title="-X检查" class="md-nav__link">-X检查</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xclassgc.html" title="-Xclassgc" class="md-nav__link">-Xclassgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcodecache.html" title="-Xcodecache" class="md-nav__link">-Xcodecache</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcodecachetotal.html" title="-Xcodecachetotal" class="md-nav__link">-Xcodecachetotal</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcomp.html" title="-Xcomp" class="md-nav__link">-Xcomp</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompactexplicitgc.html" title="-Xcompactexplicitgc" class="md-nav__link">-Xcompactexplicitgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompactgc.html" title="-Xcompactgc" class="md-nav__link">-Xcompactgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompilationthreads.html" title="-XcompilationThreads" class="md-nav__link">-XcompilationThreads</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompressedrefs.html" title="-Xcompressedrefs" class="md-nav__link">-Xcompressedrefs</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xconcurrentbackground.html" title="-Xconcurrentbackground" class="md-nav__link">-Xconcurrentbackground</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xconcurrentlevel.html" title="-Xconcurrentlevel" class="md-nav__link">-Xconcurrentlevel</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xconcurrentslack.html" title="-Xconcurrentslack" class="md-nav__link">-Xconcurrentslack</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xconmeter.html" title="-Xconmeter" class="md-nav__link">-Xconmeter</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenableexcessivegc.html" title="-Xdisableexcessivegc" class="md-nav__link">-Xdisableexcessivegc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenableexplicitgc.html" title="-Xdisableexplicitgc" class="md-nav__link">-Xdisableexplicitgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xdisablejavadump.html" title="-Xdisablejavadump" class="md-nav__link">-Xdisablejavadump</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenablestringconstantgc.html" title="-Xdisablestringconstantgc" class="md-nav__link">-Xdisablestringconstantgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xdump.html" title="-X转储" class="md-nav__link">-X转储</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenableexcessivegc.html" title="-xenableexcessivegc" class="md-nav__link">-xenableexcessivegc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenableexplicitgc.html" title="-Xenableexplicitgc" class="md-nav__link">-Xenableexplicitgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xenablestringconstantgc.html" title="-xenablestringconstantgc" class="md-nav__link">-xenablestringconstantgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xfastresolve.html" title="-Xfastresolve" class="md-nav__link">-Xfastresolve</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xfuture.html" title="-未来" class="md-nav__link">-未来</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgc.html" title="-Xgc" class="md-nav__link">-Xgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgcsplitheap.html" title="-Xgc：splitheap" class="md-nav__link">-Xgc：splitheap</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgcpolicy.html" title="-Xgcpolicy" class="md-nav__link">-Xgcpolicy</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgcthreads.html" title="-Xgcthreads" class="md-nav__link">-Xgcthreads</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xgcworkpackets.html" title="-Xgcworkpackets" class="md-nav__link">-Xgcworkpackets</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xifa.html" title="-希法" class="md-nav__link">-希法</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xint.html" title="-Xint" class="md-nav__link">-Xint</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xss.html" title="-Xiss" class="md-nav__link">-Xiss</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xjit.html" title="-吉特" class="md-nav__link">-吉特</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xjni.html" title="-希尼" class="md-nav__link">-希尼</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlinenumbers.html" title="-Xlinenumbers" class="md-nav__link">-Xlinenumbers</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloa.html" title="-Xloa" class="md-nav__link">-Xloa</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloaminimum.html" title="-Xloainitial" class="md-nav__link">-Xloainitial</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloaminimum.html" title="-Xloa最大" class="md-nav__link">-Xloa最大</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloaminimum.html" title="-Xloaminimum" class="md-nav__link">-Xloaminimum</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlockreservation.html" title="-Xlock预订" class="md-nav__link">-Xlock预订</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlockword.html" title="-Xlockword" class="md-nav__link">-Xlockword</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlog.html" title="-Xlog" class="md-nav__link">-Xlog</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlp.html" title="-Xlp" class="md-nav__link">-Xlp</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlpcodecache.html" title="-Xlp：代码缓存" class="md-nav__link">-Xlp：代码缓存</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlpobjectheap.html" title="-Xlp：对象堆" class="md-nav__link">-Xlp：对象堆</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmine.html" title="-Xmaxe" class="md-nav__link">-Xmaxe</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xminf.html" title="-Xmaxf" class="md-nav__link">-Xmaxf</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmint.html" title="-X最大" class="md-nav__link">-X最大</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmca.html" title="-Xmca" class="md-nav__link">-Xmca</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmca.html" title="-Xmco" class="md-nav__link">-Xmco</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmcrs.html" title="-Xmcrs" class="md-nav__link">-Xmcrs</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmine.html" title="-Xmine" class="md-nav__link">-Xmine</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xminf.html" title="-Xminf" class="md-nav__link">-Xminf</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmint.html" title="-Xmint" class="md-nav__link">-Xmint</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmn.html" title="-Xmn" class="md-nav__link">-Xmn</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmn.html" title="-Xmns" class="md-nav__link">-Xmns</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmn.html" title="-Xmnx" class="md-nav__link">-Xmnx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmo.html" title="-Xmo" class="md-nav__link">-Xmo</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmo.html" title="-Xmoi" class="md-nav__link">-Xmoi</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmo.html" title="-Xmos" class="md-nav__link">-Xmos</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmo.html" title="-Xmox" class="md-nav__link">-Xmox</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmr.html" title="-Xmr" class="md-nav__link">-Xmr</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmr.html" title="-Xmrx" class="md-nav__link">-Xmrx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xms.html" title="-Xms" class="md-nav__link">-Xms</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xmso.html" title="-Xmso" class="md-nav__link">-Xmso</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xms.html" title="-Xmx" class="md-nav__link">-Xmx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xaot.html" title="-Xnoaot" class="md-nav__link">-Xnoaot</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xclassgc.html" title="-Xnoclassgc" class="md-nav__link">-Xnoclassgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompactexplicitgc.html" title="-Xnocompactexplicitgc" class="md-nav__link">-Xnocompactexplicitgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompactgc.html" title="-Xnocompactgc" class="md-nav__link">-Xnocompactgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xcompressedrefs.html" title="-Xnocompressedrefs" class="md-nav__link">-Xnocompressedrefs</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xjit.html" title="-Xnojit" class="md-nav__link">-Xnojit</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xlinenumbers.html" title="-Xnolinenumbers" class="md-nav__link">-Xnolinenumbers</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xloa.html" title="-Xnoloa" class="md-nav__link">-Xnoloa</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsigcatch.html" title="-Xnosigcatch" class="md-nav__link">-Xnosigcatch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsigchain.html" title="-Xnosigchain" class="md-nav__link">-Xnosigchain</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xnumanone.html" title="-Xnuma：无" class="md-nav__link">-Xnuma：无</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xoptionsfile.html" title="-Xoptions文件" class="md-nav__link">-Xoptions文件</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xquickstart.html" title="-Xquickstart" class="md-nav__link">-Xquickstart</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xrs.html" title="-Xrs" class="md-nav__link">-Xrs</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsamplingexpirationtime.html" title="-XsamplingExpirationTime" class="md-nav__link">-XsamplingExpirationTime</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscdmx.html" title="-Xscdmx" class="md-nav__link">-Xscdmx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscminaot.html" title="-Xscmaxaot" class="md-nav__link">-Xscmaxaot</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscminjitdata.html" title="-Xscmaxjitdata" class="md-nav__link">-Xscmaxjitdata</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscminaot.html" title="-Xscminaot" class="md-nav__link">-Xscminaot</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscminjitdata.html" title="-Xscminjitdata" class="md-nav__link">-Xscminjitdata</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xscmx.html" title="-Xscmx" class="md-nav__link">-Xscmx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xshareclasses.html" title="-Xshareclass" class="md-nav__link">-Xshareclass</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsigcatch.html" title="-Xsigcatch" class="md-nav__link">-Xsigcatch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsigchain.html" title="-Xsigchain" class="md-nav__link">-Xsigchain</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsignal.html" title="-Xsignal" class="md-nav__link">-Xsignal</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsoftmx.html" title="-Xsoftmx" class="md-nav__link">-Xsoftmx</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xsoftrefthreshold.html" title="-Xsoftrefthreshold" class="md-nav__link">-Xsoftrefthreshold</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xss.html" title="-Xss" class="md-nav__link">-Xss</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xss.html" title="-Xssi" class="md-nav__link">-Xssi</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xtgc.html" title="-Xtgc" class="md-nav__link">-Xtgc</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xthr.html" title="-Xthr" class="md-nav__link">-Xthr</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xtlhprefetch.html" title="-XtlhPrefetch" class="md-nav__link">-XtlhPrefetch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xtrace.html" title="-Xtrace" class="md-nav__link">-Xtrace</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xtunevirtualized.html" title="-Xtune：虚拟化" class="md-nav__link">-Xtune：虚拟化</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xverbosegclog.html" title="-Xverbosegclog" class="md-nav__link">-Xverbosegclog</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xverify.html" title="-Xverify" class="md-nav__link">-Xverify</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xzero.html" title="-Xzero" class="md-nav__link">-Xzero</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-11-6" data-md-toggle="nav-11-6">
    
    <label class="md-nav__link" for="nav-11-6">JVM -XX选项</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-6">JVM -XX选项</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="xx_jvm_commands.html" title="使用-XX选项" class="md-nav__link">使用-XX选项</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxactiveprocessorcount.html" title="-XXActiveProcessorCount" class="md-nav__link">-XXActiveProcessorCount</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxallowvmshutdown.html" title="-XXallowvmshutdown" class="md-nav__link">-XXallowvmshutdown</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxclassrelationshipverifier.html" title="-XX：[+ |-] ClassRelationshipVerifier" class="md-nav__link">-XX：[+ |-] ClassRelationshipVerifier</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxcodecachetotal.html" title="-XX：代码缓存总计" class="md-nav__link">-XX：代码缓存总计</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxcompactstrings.html" title="-XX：[+ |-] CompactStrings" class="md-nav__link">-XX：[+ |-] CompactStrings</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxdisableexplicitgc.html" title="-XX：[+ |-] DisableExplicitGC" class="md-nav__link">-XX：[+ |-] DisableExplicitGC</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxdisclaimjitscratch.html" title="-XX：[+ |-] DisclaimJitScratch" class="md-nav__link">-XX：[+ |-] DisclaimJitScratch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxenablecpumonitor.html" title="-XX：[+ |-]启用CPUMonitor" class="md-nav__link">-XX：[+ |-]启用CPUMonitor</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxhandlesigxfsz.html" title="-XX：[+ |-] handleSIGXFSZ" class="md-nav__link">-XX：[+ |-] handleSIGXFSZ</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxheapdumponoutofmemory.html" title="-XX：[+ |-] HeapDumpOnOutOfMemory" class="md-nav__link">-XX：[+ |-] HeapDumpOnOutOfMemory</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxheapdumppath.html" title="-XX：HeapDumpPath" class="md-nav__link">-XX：HeapDumpPath</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxheapmanagementmxbeancompatibility.html" title="-XX：[+ |-] HeapManagementMXBean兼容性" class="md-nav__link">-XX：[+ |-] HeapManagementMXBeanCompatibility</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxidletuningcompactonidle.html" title="-XX：[+ |-] IdleTuningCompactOnIdle" class="md-nav__link">-XX：[+ |-] IdleTuningCompactOnIdle</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxidletuninggconidle.html" title="-XX：[+ |-] IdleTuningGcOnIdle" class="md-nav__link">-XX：[+ |-] IdleTuningGcOnIdle</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxidletuningminfreeheaponidle.html" title="-XX：IdleTuningMinFreeHeapOnIdle" class="md-nav__link">-XX：IdleTuningMinFreeHeapOnIdle</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxidletuningminidlewaittime.html" title="-XX：IdleTuningMinIdleWaitTime" class="md-nav__link">-XX：IdleTuningMinIdleWaitTime</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxignoreunrecognizedvmoptions.html" title="-XX：[+ |-]忽略无法识别的VMOptions" class="md-nav__link">-XX：[+ |-]忽略无法识别的VMOptions</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxignoreunrecognizedxxcolonoptions.html" title="-XX：[+ |-]忽略无法识别的XXColonOptions" class="md-nav__link">-XX：[+ |-]忽略无法识别的XXColonOptions</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinitialrampercentage.html" title="-XX：InitialRAMPercentage" class="md-nav__link">-XX：InitialRAMPercentage</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinitialheapsize.html" title="-XX：InitialHeapSize" class="md-nav__link">-XX：InitialHeapSize</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinterleavememory.html" title="-XX：[+ |-] InterleaveMemory" class="md-nav__link">-XX：[+ |-] InterleaveMemory</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxjitinlinewatches.html" title="-XX：[+ |-] JITInlineWatches" class="md-nav__link">-XX：[+ |-] JITInlineWatches</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxlazysymbolresolution.html" title="-XX：[+ |-] LazySymbolResolution" class="md-nav__link">-XX：[+ |-] LazySymbolResolution</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxmaxdirectmemorysize.html" title="-XX：MaxDirectMemorySize" class="md-nav__link">-XX：MaxDirectMemorySize</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinitialheapsize.html" title="-XX：MaxHeapSize" class="md-nav__link">-XX：MaxHeapSize</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxinitialrampercentage.html" title="-XX：MaxRAMPercentage" class="md-nav__link">-XX：MaxRAMPercentage</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxonoutofmemoryerror.html" title="-XX：OnOutOfMemoryError" class="md-nav__link">-XX：OnOutOfMemoryError</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxnosuballoc32bitmem.html" title="-XXnosuballoc32bitmem" class="md-nav__link">-XXnosuballoc32bitmem</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxpagealigndirectmemory.html" title="-XX：[+ |-] PageAlignDirectMemory" class="md-nav__link">-XX：[+ |-] PageAlignDirectMemory</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxpositiveidentityhash.html" title="-XX：[+ |-] PositiveIdentityHash" class="md-nav__link">-XX：[+ |-] PositiveIdentityHash</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxreadipinfoforras.html" title="-XX：[+ |-] ReadIPInfoForRAS" class="md-nav__link">-XX：[+ |-] ReadIPInfoForRAS</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxreducecpumonitoroverhead.html" title="-XX：[+ |-] ReduceCPUMonitorOverhead" class="md-nav__link">-XX：[+ |-] ReduceCPUMonitorOverhead</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxruntimeinstrumentation.html" title="-XX：[+ |-] RuntimeInstrumentation" class="md-nav__link">-XX：[+ |-] RuntimeInstrumentation</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxsethwprefetch.html" title="-XXsetHWPrefetch" class="md-nav__link">-XXsetHWPrefetch</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxshareanonymousclasses.html" title="-XX：[+ |-] ShareAnonymousClasses" class="md-nav__link">-XX：[+ |-] ShareAnonymousClasses</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxshareclassesenablebci.html" title="-XX：ShareClassesDisableBCI" class="md-nav__link">-XX：ShareClassesDisableBCI</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxshareclassesenablebci.html" title="-XX：ShareClassesEnableBCI" class="md-nav__link">-XX：ShareClassesEnableBCI</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxsharedcachehardlimit.html" title="-XX：SharedCacheHardLimit" class="md-nav__link">-XX：SharedCacheHardLimit</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxshareunsafeclasses.html" title="-XX：[+ |-] ShareUnsafeClasses" class="md-nav__link">-XX：[+ |-] ShareUnsafeClasses</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxstacktraceinthrowable.html" title="-XX：-StackTraceInThrowable" class="md-nav__link">-XX：-StackTraceInThrowable</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxtransparenthugepage.html" title="-XX：[+ |-] TransparentHugePage" class="md-nav__link">-XX：[+ |-] TransparentHugePage</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxusecompressedoops.html" title="-XX：[+ |-] UseCompressedOops" class="md-nav__link">-XX：[+ |-] UseCompressedOops</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxusecontainersupport.html" title="-XX：[+ |-] UseContainerSupport" class="md-nav__link">-XX：[+ |-] UseContainerSupport</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxusegcstartuphints.html" title="-XX：[+ |-] UseGCStartupHints" class="md-nav__link">-XX：[+ |-] UseGCStartupHints</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxusenogc.html" title="-XX：[+ |-] UseNoGC" class="md-nav__link">-XX：[+ |-] UseNoGC</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxverboseverification.html" title="-XX：[+ |-]详细验证" class="md-nav__link">-XX：[+ |-]详细验证</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="xxvmlockclassloader.html" title="-XX：[+ |-] VMLockClassLoader" class="md-nav__link">-XX：[+ |-] VMLockClassLoader</a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" type="checkbox" id="nav-12" data-md-toggle="nav-12">
    
    <label class="md-nav__link" for="nav-12">参考</label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">参考</label>
      <ul class="md-nav__list" data-md-scrollfix="">
        
        
          
          
          


  <li class="md-nav__item">
    <a href="openj9_support.html" title="支持的环境" class="md-nav__link">支持的环境</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="openj9_defaults.html" title="默认设置" class="md-nav__link">默认设置</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="openj9_directories.html" title="目录约定" class="md-nav__link">目录约定</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="messages_intro.html" title="OpenJ9消息" class="md-nav__link">OpenJ9消息</a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="env_var.html" title="环境变量" class="md-nav__link">环境变量</a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="legal.html" title="法律" class="md-nav__link">法律</a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">在此页 ...</label>
    <ul class="md-nav__list" data-md-scrollfix="">
      
        <li class="md-nav__item">
  <a href="#java-dump-contents" title="Java转储内容" class="md-nav__link">Java转储内容</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#title" title="标题" class="md-nav__link">标题</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpinfo" title="GPINFO" class="md-nav__link">GPINFO</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#envinfo" title="环保信息" class="md-nav__link">环保信息</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nativememinfo" title="本地记忆信息" class="md-nav__link">本地记忆信息</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meminfo" title="MEMINFO" class="md-nav__link">MEMINFO</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#locks" title="锁" class="md-nav__link">锁</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threads" title="螺纹" class="md-nav__link">螺纹</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hooks" title="挂钩" class="md-nav__link">挂钩</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shared-classes" title="共享类" class="md-nav__link">共享类</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classes" title="类" class="md-nav__link">类</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenarios" title="情境" class="md-nav__link">情境</a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-protection-fault" title="一般性保护错误" class="md-nav__link">一般性保护错误</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java-outofmemoryerror" title="Java OutOfMemoryError" class="md-nav__link">Java OutOfMemoryError</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#native-outofmemoryerror" title="本机OutOfMemoryError" class="md-nav__link">本机OutOfMemoryError</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deadlock" title="僵局" class="md-nav__link">僵局</a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hang" title="挂" class="md-nav__link">挂</a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
<!-- this adds 'pencil' icon to H1 so that you can edit the page directly in GitHub
                
                  <a href="https://github.com/eclipse/openj9-docs/edit/master/docs/dump_javadump.md" title="Edit this page" class="md-icon md-content__icon"></a>
                
-->
                
                <!--
* Copyright (c) 2017, 2019 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->

<h1 id="java-dump">Java转储</h1>
<p>当VM由于操作系统信号意外终止时，会生成Java转储（有时称为<em>Java核心）</em> ， <code>OutOfMemoryError</code> ，或用户启动的按键组合。您还可以通过从应用程序中以编程方式调用Dump API或指定<code>-Xdump:java</code>命令行上的选项。</p>
<p>如果您的Java应用程序崩溃或挂起，则Java转储可以提供有用的信息来帮助您诊断根本原因。</p>
<ul>
<li>如果您的应用程序崩溃，则会针对以下类型的失败自动生成Java转储：<ul>
<li>VM收到意外信号或断言失败</li>
<li>VM内存不足</li>
</ul>
</li>
<li>
<p>如果您的应用程序挂起，则可以通过发送SIGQUIT信号来触发Java转储的生成（ <code>kill -3</code> ）到VM。</p>
<p><i class="fa fa-pencil-square-o" aria-hidden="true"></i> <strong>注意：</strong>在Windows上，如果在控制台窗口中启动了VM，则可以强制VM响应SIGBREAK信号（Ctrl-Break键盘组合）产生Java转储。如果您没有在控制台窗口中启动，那么没有等效的Linux <code>kill</code> Windows上用于发送信号的命令。这里唯一的选择是通过在Windows任务管理器的“ <strong>进程”</strong>选项卡中找到VM进程并单击“ <strong>创建转储文件”</strong>来触发完整的系统转储。</p>
</li>
</ul>
<p>为了帮助您理解Java转储如何帮助您进行问题诊断，本主题包括一些方案来帮助您解释数据：</p>
<ul>
<li><a href="#general-protection-fault">由一般保护错误（gpf）引起的崩溃</a></li>
<li><a href="#java-outofmemoryerror">Java堆OutOfMemoryError（OOM）</a></li>
<li><a href="#native-outofmemoryerror">本机OutOfMemoryError（OOM）</a></li>
<li><a href="#deadlock">僵局</a></li>
<li><a href="#hang">挂</a></li>
</ul>
<h2 id="java-dump-contents">Java转储内容</h2>
<p>Java转储会总结事件发生时VM的状态，其中大多数信息与VM的组件有关。该文件由提供不同类型信息的多个部分组成。</p>
<h3 id="title">标题</h3>
<p>Java转储文件的第一部分提供有关触发转储生成的事件的信息。在以下示例中，您可以看到<code>vmstop</code>事件在指定的日期和时间触发了转储。</p>
<pre><code>0SECTION       TITLE subcomponent dump routine
NULL           ===============================
1TICHARSET     UTF-8
1TISIGINFO     Dump Event &quot;vmstop&quot; (00000002) Detail &quot;#0000000000000000&quot; received
1TIDATETIME    Date: 2018/08/30 at 21:55:47:607
1TINANOTIME    System nanotime: 22012355276134
1TIFILENAME    Javacore filename:    /home/doc-javacore/javacore.20180830.215547.30285.0001.txt
1TIREQFLAGS    Request Flags: 0x81 (exclusive+preempt)
1TIPREPSTATE   Prep State: 0x106 (vm_access+exclusive_vm_access+trace_disabled)
</code></pre>

<h3 id="gpinfo">GPINFO</h3>
<p>GPINFO部分提供有关运行VM的系统的常规信息。以下示例取自在Linux系统上生成的Java转储。</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       GPINFO subcomponent dump routine
NULL           ================================
2XHOSLEVEL     OS Level         : Linux 3.10.0-862.11.6.el7.x86_64
2XHCPUS        Processors -
3XHCPUARCH       Architecture   : amd64
3XHNUMCPUS       How Many       : 4
3XHNUMASUP       NUMA is either not supported or has been disabled by user
NULL           
1XHERROR2      Register dump section only produced for SIGSEGV, SIGILL or SIGFPE.
NULL           
</code></pre>

<p>此部分的内容可能会有所不同，具体取决于转储的原因。例如，如果转储是由一般保护错误（gpf）引起的，则还记录了发生崩溃的库以及显示为<code>VM flags</code> 。该值可以提供有关可能涉及VM的哪个组件的一些线索。在输出中查找以下行：</p>
<pre><code>1XHFLAGS       VM flags:0000000000000000
</code></pre>

<p>记录的十六进制数<code>VM flags</code>结束于MSSSS，其中M是VM组件，SSSS是特定于组件的代码，如下表所示：</p>
<table>
<thead>
<tr>
<th>零件</th>
<th>代码值</th>
</tr>
</thead>
<tbody>
<tr>
<td>解释器</td>
<td>0x10000</td>
</tr>
<tr>
<td>GC</td>
<td>0x20000</td>
</tr>
<tr>
<td>GROW_STACK</td>
<td>0x30000</td>
</tr>
<tr>
<td>杰尼</td>
<td>0x40000</td>
</tr>
<tr>
<td>JIT_CODEGEN</td>
<td>0x50000</td>
</tr>
<tr>
<td>BC验证</td>
<td>0x60000</td>
</tr>
<tr>
<td>RT验证</td>
<td>0x70000</td>
</tr>
<tr>
<td>共享类</td>
<td>0x80000</td>
</tr>
</tbody>
</table>
<p>值<code>0000000000000000</code> （0x00000）表示VM外部发生了崩溃。</p>
<h3 id="envinfo">环保信息</h3>
<p>本部分包含有关发生崩溃的环境的有用信息，包括以下数据：</p>
<ul>
<li>Java版本（ <code>1CIJAVAVERSION</code> ）</li>
<li>OpenJ9 VM和子组件版本信息（ <code>1CIVMVERSION</code> ， <code>1CIJ9VMVERSION</code> ， <code>1CIJITVERSION</code> ， <code>1CIOMRVERSION</code> ， <code>1CIJCLVERSION</code> ）</li>
<li>VM启动时间（ <code>1CISTARTTIME</code> ）和处理信息（ <code>1CIPROCESSID</code> ）</li>
<li>Java主页（ <code>1CIJAVAHOMEDIR</code> ）和DLL（ <code>1CIJAVADLLDIR</code> ）目录</li>
<li>在命令行上传递的用户参数（ <code>1CIUSERARG</code> ）</li>
<li>系统施加的用户限制（ <code>1CIUSERLIMITS</code> ）</li>
<li>环境变量到位（ <code>1CIENVVARS</code> ）</li>
<li>系统信息（ <code>1CISYSINFO</code> ）</li>
<li>CPU信息（ <code>1CICPUINFO</code> ）</li>
<li>对照组（Cgroup）信息（ <code>1CICGRPINFO</code> ）</li>
</ul>
<p>为了清楚起见，以下示例显示了本节的简化版本，其中<code>...</code>表示删除了行：</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       ENVINFO subcomponent dump routine
NULL           =================================
1CIJAVAVERSION JRE 9 Linux amd64-64 (build 9.0.4-internal+0-adhoc..openj9-openjdk-jdk9)
1CIVMVERSION   20180830_000000
1CIJ9VMVERSION 8e7c6ec
1CIJITVERSION  8e7c6ec
1CIOMRVERSION  553811b_CMPRSS
1CIJCLVERSION  ec1d223 based on jdk-9.0.4+12
1CIJITMODES    JIT enabled, AOT enabled, FSD disabled, HCR enabled
1CIRUNNINGAS   Running as a standalone JVM
1CIVMIDLESTATE VM Idle State: ACTIVE
1CICONTINFO    Running in container : FALSE
1CICGRPINFO    JVM support for cgroups enabled : TRUE
1CISTARTTIME   JVM start time: 2018/08/30 at 21:55:47:387
1CISTARTNANO   JVM start nanotime: 22012135233549
1CIPROCESSID   Process ID: 30285 (0x764D)
1CICMDLINE     [not available]
1CIJAVAHOMEDIR Java Home Dir:   /home/me/openj9-openjdk-jdk9/build/linux-x86_64-normal-server-release/images/jdk
1CIJAVADLLDIR  Java DLL Dir:    /home/me/openj9-openjdk-jdk9/build/linux-x86_64-normal-server-release/images/jdk/bin
1CISYSCP       Sys Classpath:   
1CIUSERARGS    UserArgs:
2CIUSERARG               -Xoptionsfile=/home/me/openj9-openjdk-jdk9/build/linux-x86_64-normal-server-release/images/jdk/lib/options.default
...
NULL
1CIUSERLIMITS  User Limits (in bytes except for NOFILE and NPROC)
NULL           ------------------------------------------------------------------------
NULL           type                            soft limit           hard limit
2CIUSERLIMIT   RLIMIT_AS                        unlimited            unlimited
2CIUSERLIMIT   RLIMIT_CORE                              0            unlimited
2CIUSERLIMIT   RLIMIT_CPU                       unlimited            unlimited
2CIUSERLIMIT   RLIMIT_DATA                      unlimited            unlimited
2CIUSERLIMIT   RLIMIT_FSIZE                     unlimited            unlimited
2CIUSERLIMIT   RLIMIT_LOCKS                     unlimited            unlimited
2CIUSERLIMIT   RLIMIT_MEMLOCK                       65536                65536
2CIUSERLIMIT   RLIMIT_NOFILE                         4096                 4096
2CIUSERLIMIT   RLIMIT_NPROC                          4096                30592
2CIUSERLIMIT   RLIMIT_RSS                       unlimited            unlimited
2CIUSERLIMIT   RLIMIT_STACK                       8388608            unlimited
2CIUSERLIMIT   RLIMIT_MSGQUEUE                     819200               819200
2CIUSERLIMIT   RLIMIT_NICE                              0                    0
2CIUSERLIMIT   RLIMIT_RTPRIO                            0                    0
2CIUSERLIMIT   RLIMIT_SIGPENDING                    30592                30592
NULL
1CIENVVARS     Environment Variables
NULL           ------------------------------------------------------------------------
2CIENVVAR      XDG_VTNR=1
2CIENVVAR      SSH_AGENT_PID=2653
...
NULL           
1CISYSINFO     System Information
NULL           ------------------------------------------------------------------------
2CISYSINFO     /proc/sys/kernel/core_pattern = core
2CISYSINFO     /proc/sys/kernel/core_uses_pid = 1
NULL          
1CICPUINFO     CPU Information
NULL           ------------------------------------------------------------------------
2CIPHYSCPU     Physical CPUs: 4
2CIONLNCPU     Online CPUs: 4
2CIBOUNDCPU    Bound CPUs: 4
2CIACTIVECPU   Active CPUs: 0
2CITARGETCPU   Target CPUs: 4
NULL
1CICGRPINFO    Cgroup Information
NULL           ------------------------------------------------------------------------
2CICGRPINFO    subsystem : cpu
2CICGRPINFO    cgroup name : /
3CICGRPINFO    CPU Period : 100000 microseconds
3CICGRPINFO    CPU Quota : Not Set
3CICGRPINFO    CPU Shares : 1024
3CICGRPINFO    Period intervals elapsed count : 0
3CICGRPINFO    Throttled count : 0
3CICGRPINFO    Total throttle time : 0 nanoseconds
2CICGRPINFO    subsystem : cpuset
2CICGRPINFO    cgroup name : /
3CICGRPINFO    CPU exclusive : 1
3CICGRPINFO    Mem exclusive : 1
3CICGRPINFO    CPUs : 0-3
3CICGRPINFO    Mems : 0
2CICGRPINFO    subsystem : memory
2CICGRPINFO    cgroup name : /
3CICGRPINFO    Memory Limit : Not Set
3CICGRPINFO    Memory + Swap Limit : Not Set
3CICGRPINFO    Memory Usage : 5363396608 bytes
3CICGRPINFO    Memory + Swap Usage : 5363396608 bytes
3CICGRPINFO    Memory Max Usage : 0 bytes
3CICGRPINFO    Memory + Swap Max Usage : 0 bytes
3CICGRPINFO    Memory limit exceeded count : 0
3CICGRPINFO    Memory + Swap limit exceeded count : 0
3CICGRPINFO    OOM Killer Disabled : 0
3CICGRPINFO    Under OOM : 0
NULL           
</code></pre>

<h3 id="nativememinfo">本地记忆信息</h3>
<p>本节记录有关使用库函数（例如， <code>malloc()</code>和<code>mmap()</code> 。提供的值作为每个组件的明细，指示分配的字节总数和本机内存分配数。在以下示例中，向VM类分配了4,682,840字节的本机内存（但尚未释放），这对应于141个分配。</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       NATIVEMEMINFO subcomponent dump routine
NULL           =================================
0MEMUSER
1MEMUSER       JRE: 2,569,088,312 bytes / 4653 allocations
1MEMUSER       |
2MEMUSER       +--VM: 2,280,088,336 bytes / 2423 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Classes: 4,682,840 bytes / 141 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Memory Manager (GC): 2,054,966,784 bytes / 433 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Java Heap: 2,014,113,792 bytes / 1 allocation
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Other: 40,852,992 bytes / 432 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Threads: 10,970,016 bytes / 156 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Java Stack: 197,760 bytes / 16 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Native Stack: 10,616,832 bytes / 17 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Other: 155,424 bytes / 123 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Trace: 180,056 bytes / 263 allocations
2MEMUSER       |  |
3MEMUSER       |  +--JVMTI: 17,776 bytes / 13 allocations
2MEMUSER       |  |
3MEMUSER       |  +--JNI: 36,184 bytes / 52 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Port Library: 208,179,632 bytes / 72 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Unused &lt;32bit allocation regions: 208,168,752 bytes / 1 allocation
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Other: 10,880 bytes / 71 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Other: 1,055,048 bytes / 1293 allocations
1MEMUSER       |
2MEMUSER       +--JIT: 288,472,816 bytes / 140 allocations
2MEMUSER       |  |
3MEMUSER       |  +--JIT Code Cache: 268,435,456 bytes / 1 allocation
2MEMUSER       |  |
3MEMUSER       |  +--JIT Data Cache: 2,097,216 bytes / 1 allocation
2MEMUSER       |  |
3MEMUSER       |  +--Other: 17,940,144 bytes / 138 allocations
1MEMUSER       |
2MEMUSER       +--Class Libraries: 13,432 bytes / 25 allocations
2MEMUSER       |  |
3MEMUSER       |  +--VM Class Libraries: 13,432 bytes / 25 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--sun.misc.Unsafe: 3,184 bytes / 13 allocations
4MEMUSER       |  |  |  |
5MEMUSER       |  |  |  +--Direct Byte Buffers: 1,056 bytes / 12 allocations
4MEMUSER       |  |  |  |
5MEMUSER       |  |  |  +--Other: 2,128 bytes / 1 allocation
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Other: 10,248 bytes / 12 allocations
1MEMUSER       |
2MEMUSER       +--Unknown: 513,728 bytes / 2065 allocations
NULL           
</code></pre>

<p>本部分不记录由应用程序或JNI代码分配的内存，通常比操作系统工具记录的值小。</p>
<h3 id="meminfo">MEMINFO</h3>
<p>本部分与内存管理有关，以十进制和十六进制格式提供了VM中对象堆，内部内存，用于类的内存，JIT代码缓存和JIT数据缓存的内存使用明细。您还可以找出产生转储时正在使用的垃圾收集策略。</p>
<p>对象存储区（ <code>1STHEAPTYPE</code> ）记录正在使用的每个内存区域，其开始和结束地址以及区域大小。有关用于内部存储器，类存储器，JIT代码高速缓存和JIT数据高速缓存的内存段的进一步信息被记录（ <code>1STSEGMENT</code> ）。此信息包括段控制数据结构的地址，本机内存段的开始和结束地址以及段大小。</p>
<p>为了清楚起见，以下示例显示了本节的简化版本，其中<code>...</code>表示删除了行：</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       MEMINFO subcomponent dump routine
NULL           =================================
NULL           
1STHEAPTYPE    Object Memory
NULL           id                 start              end                size               space/region
1STHEAPSPACE   0x00007FF4F00744A0         --                 --                 --         Generational
1STHEAPREGION  0x00007FF4F0074CE0 0x0000000087F40000 0x0000000088540000 0x0000000000600000 Generational/Tenured Region
1STHEAPREGION  0x00007FF4F0074930 0x00000000FFE00000 0x00000000FFF00000 0x0000000000100000 Generational/Nursery Region
1STHEAPREGION  0x00007FF4F0074580 0x00000000FFF00000 0x0000000100000000 0x0000000000100000 Generational/Nursery Region
NULL
1STHEAPTOTAL   Total memory:                     8388608 (0x0000000000800000)
1STHEAPINUSE   Total memory in use:              2030408 (0x00000000001EFB48)
1STHEAPFREE    Total memory free:                6358200 (0x00000000006104B8)
NULL
1STSEGTYPE     Internal Memory
NULL           segment            start              alloc              end                type       size
1STSEGMENT     0x00007FF4F004CBC8 0x00007FF4CD33C000 0x00007FF4CD33C000 0x00007FF4CE33C000 0x01000440 0x0000000001000000
1STSEGMENT     0x00007FF4F004CB08 0x00007FF4DE43D030 0x00007FF4DE517770 0x00007FF4DE53D030 0x00800040 0x0000000000100000
NULL
1STSEGTOTAL    Total memory:                    17825792 (0x0000000001100000)
1STSEGINUSE    Total memory in use:               894784 (0x00000000000DA740)
1STSEGFREE     Total memory free:               16931008 (0x00000000010258C0)
NULL           
1STSEGTYPE     Class Memory
NULL           segment            start              alloc              end                type       size
1STSEGMENT     0x00007FF4F03B5638 0x0000000001053D98 0x000000000105BD98 0x000000000105BD98 0x00010040 0x0000000000008000
1STSEGMENT     0x00007FF4F03B5578 0x0000000001048188 0x0000000001050188 0x0000000001050188 0x00010040 0x0000000000008000
...
NULL
1STSEGTOTAL    Total memory:                     3512520 (0x00000000003598C8)
1STSEGINUSE    Total memory in use:              3433944 (0x00000000003465D8)
1STSEGFREE     Total memory free:                  78576 (0x00000000000132F0)
NULL           
1STSEGTYPE     JIT Code Cache
NULL           segment            start              alloc              end                type       size
1STSEGMENT     0x00007FF4F00961F8 0x00007FF4CE43D000 0x00007FF4CE445790 0x00007FF4DE43D000 0x00000068 0x0000000010000000
NULL
1STSEGTOTAL    Total memory:                   268435456 (0x0000000010000000)
1STSEGINUSE    Total memory in use:                34704 (0x0000000000008790)
1STSEGFREE     Total memory free:              268400752 (0x000000000FFF7870)
1STSEGLIMIT    Allocation limit:               268435456 (0x0000000010000000)
NULL           
1STSEGTYPE     JIT Data Cache
NULL           segment            start              alloc              end                type       size
1STSEGMENT     0x00007FF4F0096668 0x00007FF4CC553030 0x00007FF4CC753030 0x00007FF4CC753030 0x00000048 0x0000000000200000
NULL
1STSEGTOTAL    Total memory:                     2097152 (0x0000000000200000)
1STSEGINUSE    Total memory in use:              2097152 (0x0000000000200000)
1STSEGFREE     Total memory free:                      0 (0x0000000000000000)
1STSEGLIMIT    Allocation limit:               402653184 (0x0000000018000000)
NULL           
1STGCHTYPE     GC History  
NULL           
</code></pre>

<p>在示例中，GC历史记录（ <code>1STGCHTYPE</code> ）部分为空白。如果正在使用跟踪工具诊断的VM中发生垃圾回收周期，则会填充此部分。</p>
<h3 id="locks">锁</h3>
<p>Java转储的这一部分提供了有关锁的信息，这些锁可防止共享资源一次被多个实体访问。在两个线程试图在一个对象上进行同步并锁定一个类的实例的死锁情况下，该信息至关重要。记录有关导致问题的线程的准确信息，这使您能够确定根本原因。</p>
<p>下面的示例显示了一个典型的LOCKS节，其中在触发转储时不存在死锁。为了清楚起见，以下示例显示了本节的简化版本，其中<code>...</code>表示删除了行：</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       LOCKS subcomponent dump routine
NULL           ===============================
NULL           
1LKPOOLINFO    Monitor pool info:
2LKPOOLTOTAL     Current total number of monitors: 3
NULL           
1LKMONPOOLDUMP Monitor Pool Dump (flat &amp; inflated object-monitors):
2LKMONINUSE      sys_mon_t:0x00007FF4B0001D78 infl_mon_t: 0x00007FF4B0001DF8:
3LKMONOBJECT       java/lang/ref/ReferenceQueue@0x00000000FFE26A10: &lt;unowned&gt;
3LKNOTIFYQ            Waiting to be notified:
3LKWAITNOTIFY            &quot;Common-Cleaner&quot; (J9VMThread:0x0000000000FD0100)
NULL           
1LKREGMONDUMP  JVM System Monitor Dump (registered monitors):
2LKREGMON          Thread global lock (0x00007FF4F0004FE8): &lt;unowned&gt;
2LKREGMON          &amp;(PPG_mem_mem32_subAllocHeapMem32.monitor) lock (0x00007FF4F0005098): &lt;unowned&gt;
2LKREGMON          NLS hash table lock (0x00007FF4F0005148): &lt;unowned&gt;
...
NULL           
</code></pre>

<h3 id="threads">螺纹</h3>
<p>Java转储文件的THREADS部分提供有关VM线程池的摘要信息以及有关Java线程，本机线程和堆栈跟踪的详细信息。了解本节的内容可以帮助您诊断由线程阻塞或等待引起的问题。</p>
<p>Java线程在本机线程上运行。在每个Java线程中记录了几行<code>Thread Details</code>小节，其中包含以下关键信息：</p>
<ul>
<li><code>3XMTHREADINFO</code> ：线程名称，VM线程结构和Java线程对象的地址信息，线程状态和线程优先级。</li>
<li><code>3XMJAVALTHREAD</code> ：来自线程对象的Java线程ID和守护程序状态。</li>
<li><code>3XMTHREADINFO1</code> ：本机操作系统线程ID，优先级，调度策略，内部VM线程状态和VM线程标志。</li>
<li><code>3XMTHREADINFO2</code> ：本机堆栈地址范围。</li>
<li><code>3XMTHREADINFO3</code> ：Java调用栈信息（ <code>4XESTACKTRACE</code> ）或本地调用堆栈信息（ <code>4XENATIVESTACK</code> ）。</li>
<li><code>5XESTACKTRACE</code> ：此行指示是否通过特定方法获取了锁定。</li>
</ul>
<p>Java线程优先级映射到操作系统优先级值。线程状态如下表所示：</p>
<table>
<thead>
<tr>
<th>线程状态值</th>
<th>状态</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>[R</td>
<td>可运行</td>
<td>线程能够运行</td>
</tr>
<tr>
<td>连续波</td>
<td>条件等待</td>
<td>线程正在等待</td>
</tr>
<tr>
<td>小号</td>
<td>已暂停</td>
<td>该线程被另一个线程挂起</td>
</tr>
<tr>
<td>ž</td>
<td>僵尸</td>
<td>线程被破坏</td>
</tr>
<tr>
<td>P</td>
<td>停放</td>
<td>线程被停放<code>java.util.concurrent</code></td>
</tr>
<tr>
<td>乙</td>
<td>受阻</td>
<td>线程正在等待获取锁</td>
</tr>
</tbody>
</table>
<p>对于停放（P），阻塞（B）或等待（CW）的线程，附加线（ <code>3XMTHREADBLOCK</code> ）包含在输出中，该输出显示了线程停在，阻塞或正在等待的内容。</p>
<p>为了清楚起见，以下示例显示了典型THREADS部分的简化版本，其中<code>...</code>表示删除了行：</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       THREADS subcomponent dump routine
NULL           =================================
NULL
1XMPOOLINFO    JVM Thread pool info:
2XMPOOLTOTAL       Current total number of pooled threads: 18
2XMPOOLLIVE        Current total number of live threads: 16
2XMPOOLDAEMON      Current total number of live daemon threads: 15
NULL           
1XMTHDINFO     Thread Details
NULL           
3XMTHREADINFO      &quot;JIT Diagnostic Compilation Thread-7 Suspended&quot; J9VMThread:0x0000000000EFC500, omrthread_t:0x00007FF4F00A77E8, java/lang/Thread:0x00000000FFE97480, state:R, prio=10
3XMJAVALTHREAD            (java/lang/Thread getId:0xA, isDaemon:true)
3XMTHREADINFO1            (native thread ID:0x7657, native priority:0xB, native policy:UNKNOWN, vmstate:CW, vm thread flags:0x00000081)
3XMTHREADINFO2            (native stack address range from:0x00007FF4CCC36000, to:0x00007FF4CCD36000, size:0x100000)
3XMCPUTIME               CPU usage total: 0.000037663 secs, current category=&quot;JIT&quot;
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           No Java callstack associated with this thread
3XMTHREADINFO3           No native callstack available for this thread
NULL
...
3XMTHREADINFO      &quot;Common-Cleaner&quot; J9VMThread:0x0000000000FD0100, omrthread_t:0x00007FF4F022A520, java/lang/Thread:0x00000000FFE26F40, state:CW, prio=8
3XMJAVALTHREAD            (java/lang/Thread getId:0x2, isDaemon:true)
3XMTHREADINFO1            (native thread ID:0x765A, native priority:0x8, native policy:UNKNOWN, vmstate:CW, vm thread flags:0x00080181)
3XMTHREADINFO2            (native stack address range from:0x00007FF4CC0B8000, to:0x00007FF4CC0F8000, size:0x40000)
3XMCPUTIME               CPU usage total: 0.000150926 secs, current category=&quot;Application&quot;
3XMTHREADBLOCK     Waiting on: java/lang/ref/ReferenceQueue@0x00000000FFE26A10 Owned by: &lt;unowned&gt;
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           Java callstack:
4XESTACKTRACE                at java/lang/Object.wait(Native Method)
4XESTACKTRACE                at java/lang/Object.wait(Object.java:221)
4XESTACKTRACE                at java/lang/ref/ReferenceQueue.remove(ReferenceQueue.java:138)
5XESTACKTRACE                   (entered lock: java/lang/ref/ReferenceQueue@0x00000000FFE26A10, entry count: 1)
4XESTACKTRACE                at jdk/internal/ref/CleanerImpl.run(CleanerImpl.java:148)
4XESTACKTRACE                at java/lang/Thread.run(Thread.java:835)
4XESTACKTRACE                at jdk/internal/misc/InnocuousThread.run(InnocuousThread.java:122)
3XMTHREADINFO3           No native callstack available for this thread
NULL
NULL
3XMTHREADINFO      &quot;IProfiler&quot; J9VMThread:0x0000000000F03D00, omrthread_t:0x00007FF4F00B06F8, java/lang/Thread:0x00000000FFE97B60, state:R, prio=5
3XMJAVALTHREAD            (java/lang/Thread getId:0xC, isDaemon:true)
3XMTHREADINFO1            (native thread ID:0x7659, native priority:0x5, native policy:UNKNOWN, vmstate:CW, vm thread flags:0x00000081)
3XMTHREADINFO2            (native stack address range from:0x00007FF4F8940000, to:0x00007FF4F8960000, size:0x20000)
3XMCPUTIME               CPU usage total: 0.004753103 secs, current category=&quot;JIT&quot;
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           No Java callstack associated with this thread
3XMTHREADINFO3           No native callstack available for this thread
NULL
...
1XMWLKTHDERR   The following was reported while collecting native stacks:
2XMWLKTHDERR             unable to count threads(3, -2)
NULL
1XMTHDSUMMARY  Threads CPU Usage Summary
NULL           =========================
NULL
1XMTHDCATINFO  Warning: to get more accurate CPU times for the GC, the option -XX:-ReduceCPUMonitorOverhead can be used. See the user guide for more information.
NULL
1XMTHDCATEGORY All JVM attached threads: 0.280083000 secs
1XMTHDCATEGORY |
2XMTHDCATEGORY +--System-JVM: 0.270814000 secs
2XMTHDCATEGORY |  |
3XMTHDCATEGORY |  +--GC: 0.000599000 secs
2XMTHDCATEGORY |  |
3XMTHDCATEGORY |  +--JIT: 0.071904000 secs
1XMTHDCATEGORY |
2XMTHDCATEGORY +--Application: 0.009269000 secs
NULL
</code></pre>

<h3 id="hooks">挂钩</h3>
<p>本节显示内部VM事件回调，这些事件回调用于诊断VM中的性能问题。列出了多个挂钩接口，其中包括它们各自的挂钩事件。</p>
<p>以下示例显示了<code>J9VMHookInterface</code> ，包括之前所有事件的总时间，呼叫站点的位置（ <source file=""> ：） <line number="">，开始时间以及最后一次回调和最长回调的持续时间（所有时间均以微秒为单位）。每次Java转储后，都会重置钩子数据。</line></p>
<pre><code>NULL           ------------------------------------------------------------------------
SECTION HOOK   subcomponent dump routine
NULL           =========================
1NOTE          These data are reset every time a javacore is taken
1HKINTERFACE   MM_OMRHookInterface
NULL           ------------------------------------------------------------------------
1HKINTERFACE   MM_PrivateHookInterface
NULL           ------------------------------------------------------------------------
1HKINTERFACE   MM_HookInterface
NULL           ------------------------------------------------------------------------
1HKINTERFACE   J9VMHookInterface
NULL           ------------------------------------------------------------------------
2HKEVENTID     1
3HKCALLCOUNT       1239
3HKTOTALTIME       219564us
3HKLAST            Last Callback
4HKCALLSITE            trcengine.c:395
4HKSTARTTIME           Start Time: 2019-10-18T00:15:14.664
4HKDURATION            Duration : 16us
3HKLONGST          Longest Callback
4HKCALLSITE            trcengine.c:395
4HKSTARTTIME           Start Time: 2019-10-18T21:28:34.895
4HKDURATION            Duration : 5012us
NULL
...
1HKINTERFACE   J9VMZipCachePoolHookInterface
NULL           ------------------------------------------------------------------------
1HKINTERFACE   J9JITHookInterface
NULL           ------------------------------------------------------------------------
2HKEVENTID     3
3HKCALLCOUNT       3113
3HKTOTALTIME       4904us
3HKLAST            Last Callback
4HKCALLSITE            common/mgmtinit.c:193
4HKSTARTTIME           Start Time: 2019-10-18T16:04:15.320
4HKDURATION            Duration : 3us
3HKLONGST          Longest Callback
4HKCALLSITE            common/mgmtinit.c:193
4HKSTARTTIME           Start Time: 2019-10-18T16:37:17.633
4HKDURATION            Duration : 27us
NULL
...
</code></pre>

<h3 id="shared-classes">共享类</h3>
<p>如果在运行时启用了共享类缓存，则Java转储文件中提供的信息将描述创建缓存时所使用的设置，以及有关缓存大小和内容的摘要信息。</p>
<p>在以下示例中，共享类缓存是使用“类调试区域”（ <code>-Xnolinenumbers=false</code> ）。启用了字节码检测（BCI），这是默认设置，并且允许共享缓存的VM存储类路径，这也是默认设置。</p>
<p>的<code>Cache Summary</code>显示缓存大小（ <code>2SCLTEXTCSZ</code> ）16776608字节，最大软大小为（ <code>2SCLTEXTSMB</code> ）也为16776608字节，从而留下12691668字节的可用空间（ <code>2SCLTEXTFRB</code> ）。类调试区域的大小（ <code>2SCLTEXTDAS</code> ）为1331200字节，仅使用了11％的空间。</p>
<p>在里面<code>Cache Memory Status</code>小节，行<code>2SCLTEXTCMDT</code>指示共享缓存的名称和位置，以及<code>cr</code>表示高速缓存是64位压缩参考高速缓存。</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       SHARED CLASSES subcomponent dump routine
NULL           ========================================
NULL
1SCLTEXTCRTW   Cache Created With
NULL           ------------------
NULL
2SCLTEXTXNL        -Xnolinenumbers       = false
2SCLTEXTBCI        BCI Enabled           = true
2SCLTEXTBCI        Restrict Classpaths   = false
NULL
1SCLTEXTCSUM   Cache Summary
NULL           ------------------
NULL
2SCLTEXTNLC        No line number content                    = false
2SCLTEXTLNC        Line number content                       = true
NULL
2SCLTEXTRCS        ROMClass start address                    = 0x00007F423061C000
2SCLTEXTRCE        ROMClass end address                      = 0x00007F42307B9A28
2SCLTEXTMSA        Metadata start address                    = 0x00007F42313D42FC
2SCLTEXTCEA        Cache end address                         = 0x00007F4231600000
2SCLTEXTRTF        Runtime flags                             = 0x00102001ECA6028B
2SCLTEXTCGN        Cache generation                          = 35
NULL
2SCLTEXTCSZ        Cache size                                = 16776608
2SCLTEXTSMB        Softmx bytes                              = 16776608
2SCLTEXTFRB        Free bytes                                = 12691668
2SCLTEXTRCB        ROMClass bytes                            = 1694248
2SCLTEXTAOB        AOT code bytes                            = 0
2SCLTEXTADB        AOT data bytes                            = 0
2SCLTEXTAHB        AOT class hierarchy bytes                 = 32
2SCLTEXTATB        AOT thunk bytes                           = 0
2SCLTEXTARB        Reserved space for AOT bytes              = -1
2SCLTEXTAMB        Maximum space for AOT bytes               = -1
2SCLTEXTJHB        JIT hint bytes                            = 308
2SCLTEXTJPB        JIT profile bytes                         = 2296
2SCLTEXTJRB        Reserved space for JIT data bytes         = -1
2SCLTEXTJMB        Maximum space for JIT data bytes          = -1
2SCLTEXTNOB        Java Object bytes                         = 0
2SCLTEXTZCB        Zip cache bytes                           = 919328
2SCLTEXTSHB        Startup hint bytes                        = 0
2SCLTEXTRWB        ReadWrite bytes                           = 114080
2SCLTEXTJCB        JCL data bytes                            = 0
2SCLTEXTBDA        Byte data bytes                           = 0
2SCLTEXTMDA        Metadata bytes                            = 23448
2SCLTEXTDAS        Class debug area size                     = 1331200
2SCLTEXTDAU        Class debug area % used                   = 11%
2SCLTEXTDAN        Class LineNumberTable bytes               = 156240
2SCLTEXTDAV        Class LocalVariableTable bytes            = 0
NULL
2SCLTEXTNRC        Number ROMClasses                         = 595
2SCLTEXTNAM        Number AOT Methods                        = 0
2SCLTEXTNAD        Number AOT Data Entries                   = 0
2SCLTEXTNAH        Number AOT Class Hierarchy                = 1
2SCLTEXTNAT        Number AOT Thunks                         = 0
2SCLTEXTNJH        Number JIT Hints                          = 14
2SCLTEXTNJP        Number JIT Profiles                       = 20
2SCLTEXTNCP        Number Classpaths                         = 1
2SCLTEXTNUR        Number URLs                               = 0
2SCLTEXTNTK        Number Tokens                             = 0
2SCLTEXTNOJ        Number Java Objects                       = 0
2SCLTEXTNZC        Number Zip Caches                         = 5
2SCLTEXTNJC        Number JCL Entries                        = 0
2SCLTEXTNST        Number Stale classes                      = 0
2SCLTEXTPST        Percent Stale classes                     = 0%
NULL
2SCLTEXTCPF        Cache is 24% full
NULL
1SCLTEXTCMST   Cache Memory Status
NULL           ------------------
1SCLTEXTCNTD       Cache Name                    Feature                  Memory type              Cache path
NULL
2SCLTEXTCMDT       sharedcc_doc-javacore         CR                       Memory mapped file       /tmp/javasharedresources/C290M4F1A64P_sharedcc_doc-javacore_G35
NULL
1SCLTEXTCMST   Cache Lock Status
NULL           ------------------
1SCLTEXTCNTD       Lock Name                     Lock type                TID owning lock
NULL
2SCLTEXTCWRL       Cache write lock              File lock                Unowned
2SCLTEXTCRWL       Cache read/write lock         File lock                Unowned
NULL
</code></pre>

<p>以下示例显示了分层缓存的信息：</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       SHARED CLASSES subcomponent dump routine
NULL           ========================================
NULL
1SCLTEXTCSTL   Cache Statistics for Top Layer
NULL
1SCLTEXTCRTW       Cache Created With
NULL               ------------------
NULL
2SCLTEXTXNL            -Xnolinenumbers       = false
2SCLTEXTBCI            BCI Enabled           = true
2SCLTEXTBCI            Restrict Classpaths   = false
NULL
1SCLTEXTCSUM       Cache Summary
NULL               ------------------
NULL
2SCLTEXTNLC            No line number content                    = false
2SCLTEXTLNC            Line number content                       = false
NULL
2SCLTEXTRCS            ROMClass start address                    = 0x00007F0EDB567000
2SCLTEXTRCE            ROMClass end address                      = 0x00007F0EDB567000
2SCLTEXTMSA            Metadata start address                    = 0x00007F0EDC40241C
2SCLTEXTCEA            Cache end address                         = 0x00007F0EDC54B000
2SCLTEXTRTF            Runtime flags                             = 0x80102001ECA602BB
2SCLTEXTCGN            Cache generation                          = 41
2SCLTEXTCLY            Cache layer                               = 1
NULL
2SCLTEXTCSZ            Cache size                                = 16776608
2SCLTEXTSMB            Softmx bytes                              = 16776608
2SCLTEXTFRB            Free bytes                                = 15315996
2SCLTEXTARB            Reserved space for AOT bytes              = -1
2SCLTEXTAMB            Maximum space for AOT bytes               = -1
2SCLTEXTJRB            Reserved space for JIT data bytes         = -1
2SCLTEXTJMB            Maximum space for JIT data bytes          = -1
2SCLTEXTRWB            ReadWrite bytes                           = 114080
2SCLTEXTDAS            Class debug area size                     = 1331200
2SCLTEXTDAU            Class debug area % used                   = 0%
2SCLTEXTDAN            Class LineNumberTable bytes               = 0
2SCLTEXTDAV            Class LocalVariableTable bytes            = 0
NULL
2SCLTEXTCPF            Cache is 8% full
NULL
1SCLTEXTCMST       Cache Memory Status
NULL               ------------------
1SCLTEXTCNTD           Cache Name                    Feature                  Memory type              Cache path
NULL
2SCLTEXTCMDT           Cache1                        CR                       Memory mapped file       /tmp/javasharedresources/C290M4F1A64P_Cache1_G41L01
NULL
1SCLTEXTCMST       Cache Lock Status
NULL               ------------------
1SCLTEXTCNTD           Lock Name                     Lock type                TID owning lock
NULL
2SCLTEXTCWRL           Cache write lock              File lock                Unowned
2SCLTEXTCRWL           Cache read/write lock         File lock                Unowned
NULL
1SCLTEXTCSAL   Cache Statistics for All Layers
NULL
2SCLTEXTRCB            ROMClass bytes                            = 1459040
2SCLTEXTAOB            AOT code bytes                            = 57624
2SCLTEXTADB            AOT data bytes                            = 272
2SCLTEXTAHB            AOT class hierarchy bytes                 = 1840
2SCLTEXTATB            AOT thunk bytes                           = 632
2SCLTEXTJHB            JIT hint bytes                            = 484
2SCLTEXTJPB            JIT profile bytes                         = 0
2SCLTEXTNOB            Java Object bytes                         = 0
2SCLTEXTZCB            Zip cache bytes                           = 1134016
2SCLTEXTSHB            Startup hint bytes                        = 0
2SCLTEXTJCB            JCL data bytes                            = 0
2SCLTEXTBDA            Byte data bytes                           = 0
NULL
2SCLTEXTNRC            Number ROMClasses                         = 503
2SCLTEXTNAM            Number AOT Methods                        = 16
2SCLTEXTNAD            Number AOT Data Entries                   = 1
2SCLTEXTNAH            Number AOT Class Hierarchy                = 28
2SCLTEXTNAT            Number AOT Thunks                         = 11
2SCLTEXTNJH            Number JIT Hints                          = 15
2SCLTEXTNJP            Number JIT Profiles                       = 0
2SCLTEXTNCP            Number Classpaths                         = 1
2SCLTEXTNUR            Number URLs                               = 0
2SCLTEXTNTK            Number Tokens                             = 0
2SCLTEXTNOJ            Number Java Objects                       = 0
2SCLTEXTNZC            Number Zip Caches                         = 21
2SCLTEXTNSH            Number Startup Hint Entries               = 0
2SCLTEXTNJC            Number JCL Entries                        = 0
2SCLTEXTNST            Number Stale classes                      = 0
2SCLTEXTPST            Percent Stale classes                     = 0%
</code></pre>

<h3 id="classes">类</h3>
<p>“类”部分显示有关类加载器的信息。第一部分是总结，记录了每个可用的类加载器（ <code>2CLTEXTCLLOADER</code> ），然后是它加载的库和类的数量。该信息后面是更详细的库列表（ <code>1CLTEXTCLLIB</code> ）和课程（ <code>1CLTEXTCLLO</code> ）。</p>
<p>在示例中，您可以看到<code>java/lang/InternalAnonymousClassLoader</code>装了2节课<code>jdk/internal/loader/BuiltinClassLoader$$Lambda$2/00000000F03876A0(0x0000000001030F00)</code>和<code>jdk/internal/loader/BuiltinClassLoader$$Lambda$1/00000000F00D2460(0x0000000001018A00)</code> 。</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       CLASSES subcomponent dump routine
NULL           =================================
1CLTEXTCLLOS    Classloader summaries
1CLTEXTCLLSS        12345678: 1=primordial,2=extension,3=shareable,4=middleware,5=system,6=trusted,7=application,8=delegating
2CLTEXTCLLOADER     p---st-- Loader *System*(0x00000000FFE1D258)
3CLNMBRLOADEDLIB        Number of loaded libraries 5
3CLNMBRLOADEDCL         Number of loaded classes 638
2CLTEXTCLLOADER     -x--st-- Loader jdk/internal/loader/ClassLoaders$PlatformClassLoader(0x00000000FFE1D4F0), Parent *none*(0x0000000000000000)
3CLNMBRLOADEDLIB        Number of loaded libraries 0
3CLNMBRLOADEDCL         Number of loaded classes 0
2CLTEXTCLLOADER     ----st-- Loader java/lang/InternalAnonymousClassLoader(0x00000000FFE1DFD0), Parent *none*(0x0000000000000000)
3CLNMBRLOADEDLIB        Number of loaded libraries 0
3CLNMBRLOADEDCL         Number of loaded classes 2
2CLTEXTCLLOADER     -----ta- Loader jdk/internal/loader/ClassLoaders$AppClassLoader(0x00000000FFE1DAD0), Parent jdk/internal/loader/ClassLoaders$PlatformClassLoader(0x00000000FFE1D4F0)
3CLNMBRLOADEDLIB        Number of loaded libraries 0
3CLNMBRLOADEDCL         Number of loaded classes 0
1CLTEXTCLLIB    ClassLoader loaded libraries
2CLTEXTCLLIB        Loader *System*(0x00000000FFE1D258)
3CLTEXTLIB              /home/me/openj9-openjdk-jdk9/build/linux-x86_64-normal-server-release/images/jdk/lib/compressedrefs/jclse9_29
3CLTEXTLIB              /home/me/openj9-openjdk-jdk9/build/linux-x86_64-normal-server-release/images/jdk/lib/java
3CLTEXTLIB              /home/me/openj9-openjdk-jdk9/build/linux-x86_64-normal-server-release/images/jdk/lib/compressedrefs/j9jit29
3CLTEXTLIB              /home/me/openj9-openjdk-jdk9/build/linux-x86_64-normal-server-release/images/jdk/lib/zip
3CLTEXTLIB              /home/me/openj9-openjdk-jdk9/build/linux-x86_64-normal-server-release/images/jdk/lib/nio
1CLTEXTCLLOD    ClassLoader loaded classes
2CLTEXTCLLOAD       Loader *System*(0x00000000FFE1D258)
3CLTEXTCLASS            [Ljava/lang/Thread$State;(0x0000000001056400)
...
2CLTEXTCLLOAD       Loader jdk/internal/loader/ClassLoaders$PlatformClassLoader(0x00000000FFE1D4F0)
2CLTEXTCLLOAD       Loader java/lang/InternalAnonymousClassLoader(0x00000000FFE1DFD0)
3CLTEXTCLASS            jdk/internal/loader/BuiltinClassLoader$$Lambda$2/00000000F03876A0(0x0000000001030F00)
3CLTEXTCLASS            jdk/internal/loader/BuiltinClassLoader$$Lambda$1/00000000F00D2460(0x0000000001018A00)
2CLTEXTCLLOAD       Loader jdk/internal/loader/ClassLoaders$AppClassLoader(0x00000000FFE1DAD0)
</code></pre>

<h2 id="scenarios">情境</h2>
<h3 id="general-protection-fault">一般性保护错误</h3>
<p>在这种情况下，Java应用程序由于常规保护错误（GPF）而崩溃，从而自动生成Java转储文件。</p>
<p>文件的第一部分（TITLE）告诉您GPF触发了Java转储。</p>
<pre><code>0SECTION       TITLE subcomponent dump routine
NULL           ===============================
1TICHARSET     UTF-8
1TISIGINFO     Dump Event &quot;gpf&quot; (00002000) received
1TIDATETIME    Date: 2018/09/24 at 15:18:03:115
1TINANOTIME    System nanotime: 4498949283020796
1TIFILENAME    Javacore filename:    /home/test/JNICrasher/javacore.20180924.151801.29399.0002.txt
1TIREQFLAGS    Request Flags: 0x81 (exclusive+preempt)
1TIPREPSTATE   Prep State: 0x100 (trace_disabled)
1TIPREPINFO    Exclusive VM access not taken: data may not be consistent across javacore sections
</code></pre>

<p>要解决此问题，您需要知道哪个线程导致了GPF的发生。崩溃时正在运行的<strong>线程</strong>在Java转储的THREADS部分中报告为<strong>当前线程</strong> 。这是摘录部分的摘录：</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       THREADS subcomponent dump routine
NULL           =================================
NULL
1XMPOOLINFO    JVM Thread pool info:
2XMPOOLTOTAL       Current total number of pooled threads: 16
2XMPOOLLIVE        Current total number of live threads: 15
2XMPOOLDAEMON      Current total number of live daemon threads: 14
NULL            
1XMCURTHDINFO  Current thread
3XMTHREADINFO      &quot;main&quot; J9VMThread:0xB6B60E00, omrthread_t:0xB6B049D8, java/lang/Thread:0xB55444D0, state:R, prio=5
3XMJAVALTHREAD            (java/lang/Thread getId:0x1, isDaemon:false)
3XMTHREADINFO1            (native thread ID:0x72D8, native priority:0x5, native policy:UNKNOWN, vmstate:R, vm thread flags:0x00000000)
3XMTHREADINFO2            (native stack address range from:0xB6CE3000, to:0xB74E4000, size:0x801000)
3XMCPUTIME               CPU usage total: 0.319865924 secs, current category=&quot;Application&quot;
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=778008 (0xBDF18)
3XMTHREADINFO3           Java callstack:
4XESTACKTRACE                at JNICrasher.doSomethingThatCrashes(Native Method)
4XESTACKTRACE                at JNICrasher.main(JNICrasher.java:7)
3XMTHREADINFO3           Native callstack:
4XENATIVESTACK               (0xB6C6F663 [libj9prt29.so+0x3b663])
4XENATIVESTACK               (0xB6C52F6E [libj9prt29.so+0x1ef6e])
4XENATIVESTACK               (0xB6C6F1CE [libj9prt29.so+0x3b1ce])
4XENATIVESTACK               (0xB6C6F2C6 [libj9prt29.so+0x3b2c6])
4XENATIVESTACK               (0xB6C6ED93 [libj9prt29.so+0x3ad93])
4XENATIVESTACK               (0xB6C52F6E [libj9prt29.so+0x1ef6e])
4XENATIVESTACK               (0xB6C6ED07 [libj9prt29.so+0x3ad07])
4XENATIVESTACK               (0xB6C6AA3D [libj9prt29.so+0x36a3d])
4XENATIVESTACK               (0xB6C6C3A4 [libj9prt29.so+0x383a4])
4XENATIVESTACK               (0xB667FA19 [libj9dmp29.so+0xfa19])
4XENATIVESTACK               (0xB6C52F6E [libj9prt29.so+0x1ef6e])
4XENATIVESTACK               (0xB66878CF [libj9dmp29.so+0x178cf])
4XENATIVESTACK               (0xB6688083 [libj9dmp29.so+0x18083])
4XENATIVESTACK               (0xB6C52F6E [libj9prt29.so+0x1ef6e])
4XENATIVESTACK               (0xB6680C0D [libj9dmp29.so+0x10c0d])
4XENATIVESTACK               (0xB667F9D7 [libj9dmp29.so+0xf9d7])
4XENATIVESTACK               (0xB6C52F6E [libj9prt29.so+0x1ef6e])
4XENATIVESTACK               (0xB668B02F [libj9dmp29.so+0x1b02f])
4XENATIVESTACK               (0xB668B4D3 [libj9dmp29.so+0x1b4d3])
4XENATIVESTACK               (0xB66740F1 [libj9dmp29.so+0x40f1])
4XENATIVESTACK               (0xB66726FA [libj9dmp29.so+0x26fa])
4XENATIVESTACK               (0xB6C52F6E [libj9prt29.so+0x1ef6e])
4XENATIVESTACK               (0xB66726A9 [libj9dmp29.so+0x26a9])
4XENATIVESTACK               (0xB6676AE4 [libj9dmp29.so+0x6ae4])
4XENATIVESTACK               (0xB668D75A [libj9dmp29.so+0x1d75a])
4XENATIVESTACK               (0xB6A28DD4 [libj9vm29.so+0x81dd4])
4XENATIVESTACK               (0xB6C52F6E [libj9prt29.so+0x1ef6e])
4XENATIVESTACK               (0xB6A289EE [libj9vm29.so+0x819ee])
4XENATIVESTACK               (0xB6A29A40 [libj9vm29.so+0x82a40])
4XENATIVESTACK               (0xB6C52B6A [libj9prt29.so+0x1eb6a])
4XENATIVESTACK               __kernel_rt_sigreturn+0x0 (0xB7747410)
4XENATIVESTACK               (0xB75330B6 [libffi29.so+0x50b6])
4XENATIVESTACK               ffi_raw_call+0xad (0xB7531C53 [libffi29.so+0x3c53])
4XENATIVESTACK               (0xB69BE4AB [libj9vm29.so+0x174ab])
4XENATIVESTACK               (0xB6A665BC [libj9vm29.so+0xbf5bc])
4XENATIVESTACK               (0xB6A15552 [libj9vm29.so+0x6e552])
4XENATIVESTACK               (0xB6A30894 [libj9vm29.so+0x89894])
4XENATIVESTACK               (0xB6A6F169 [libj9vm29.so+0xc8169])
4XENATIVESTACK               (0xB6C52F6E [libj9prt29.so+0x1ef6e])
4XENATIVESTACK               (0xB6A6F1FA [libj9vm29.so+0xc81fa])
4XENATIVESTACK               (0xB6A30994 [libj9vm29.so+0x89994])
4XENATIVESTACK               (0xB6A2CE4C [libj9vm29.so+0x85e4c])
4XENATIVESTACK               (0xB770487D [libjli.so+0x787d])
4XENATIVESTACK               (0xB7719F72 [libpthread.so.0+0x6f72])
4XENATIVESTACK               clone+0x5e (0xB763543E [libc.so.6+0xee43e])
</code></pre>

<p>摘录告诉您当前线程是<code>java/lang/Thread</code> ，并提供有关Java调用栈和本机调用栈的信息（ <code>3XMTHREADINFO3</code> ）发生崩溃的时间点。为了模拟由应用程序中的错误引起的崩溃，此示例调用一个JNI方法，该方法的本机实现会导致崩溃。Java调用栈显示了对JNI本机方法的调用（ <code>JNIcrasher</code> ），并且本地调用堆栈显示了故障点。在此示例中，本机调用堆栈不包含任何函数名称来帮助您隔离本机代码中的错误。您可以从通常与Java转储一起产生的系统转储中获得此信息。使用<a href="tool_jdmpview.html">转储查看器</a>打开系统转储，并使用<code>info thread</code>命令以显示当前线程的Java和本机堆栈。</p>
<h3 id="java-outofmemoryerror">Java OutOfMemoryError</h3>
<p>在这种情况下，Java堆内存不足，导致<code>OutOfMemoryError</code> ，它会自动生成Java转储文件。</p>
<p>文件的第一部分（TITLE）告诉您<code>systhrow</code>事件因OOM（ <code>java/lang/OutOfMemoryError</code> ）用于Java堆空间。</p>
<pre><code>0SECTION       TITLE subcomponent dump routine
NULL           ===============================
1TICHARSET     UTF-8
1TISIGINFO     Dump Event &quot;systhrow&quot; (00040000) Detail &quot;java/lang/OutOfMemoryError&quot; &quot;Java heap space&quot; received
1TIDATETIME    Date: 2018/09/14 at 15:29:42:709
1TINANOTIME    System nanotime: 3635648876608448
1TIFILENAME    Javacore filename:    /home/cheesemp/test/javacore.20180914.152929.18885.0003.txt
1TIREQFLAGS    Request Flags: 0x81 (exclusive+preempt)
1TIPREPSTATE   Prep State: 0x104 (exclusive_vm_access+trace_disabled)
</code></pre>

<p>MEMINFO部分记录为Java堆分配了多少内存（ <code>1STHEAPTYPE Object Memory</code> ），正在使用多少，以及有多少免费。解决问题的方法可能很简单，只需在启动应用程序时设置更大的堆大小即可。</p>
<p>如果您不知道Java堆设置为什么大小，则可以在ENVINFO部分中找到该信息，该部分记录了应用程序启动时使用的命令行选项。查找或搜索<code>1CIUSERARGS UserArgs:</code>字符串并查看为所有开始的行记录的条目<code>2CIUSERARG</code> 。Java堆大小由<code>-Xmx</code>选项。如果尚未在命令行上通过以下方式设置大小<code>-Xmx</code> ，则应用默认值，您可以在<a href="openj9_defaults.html">默认设置中</a>找到该<a href="openj9_defaults.html">值</a> 。</p>
<p>在这种情况下，解决该问题的方法不是调整Java堆大小。这是MEMINFO部分：</p>
<pre><code>0SECTION       MEMINFO subcomponent dump routine
NULL           =================================
NULL
1STHEAPTYPE    Object Memory
NULL           id         start      end        size       space/region
1STHEAPSPACE   0xB6B49D20     --         --         --     Generational
1STHEAPREGION  0xB6B4A078 0x95750000 0xB5470000 0x1FD20000 Generational/Tenured Region
1STHEAPREGION  0xB6B49F10 0xB5470000 0xB54C0000 0x00050000 Generational/Nursery Region
1STHEAPREGION  0xB6B49DA8 0xB54C0000 0xB5750000 0x00290000 Generational/Nursery Region
NULL
1STHEAPTOTAL   Total memory:         536870912 (0x20000000)
1STHEAPINUSE   Total memory in use:  302603160 (0x12095B98)
1STHEAPFREE    Total memory free:    234267752 (0x0DF6A468)
</code></pre>

<p>输出显示仅使用了56％的Java堆，因此这表明该应用程序正在尝试执行次优操作。为了进一步调查，您需要确定OOM发生时哪个线程是当前线程，以查看其试图执行的操作。与之前的方案一样，您可以在THREADS部分中找到<strong>当前线程</strong> 。这是输出的摘录：</p>
<pre><code>0SECTION       THREADS subcomponent dump routine
NULL           =================================
NULL
1XMPOOLINFO    JVM Thread pool info:
2XMPOOLTOTAL       Current total number of pooled threads: 16
2XMPOOLLIVE        Current total number of live threads: 16
2XMPOOLDAEMON      Current total number of live daemon threads: 15
NULL
1XMCURTHDINFO  Current thread
3XMTHREADINFO      &quot;main&quot; J9VMThread:0xB6B60C00, omrthread_t:0xB6B049D8, java/lang/Thread:0x95764520, state:R, prio=5
3XMJAVALTHREAD            (java/lang/Thread getId:0x1, isDaemon:false)
3XMTHREADINFO1            (native thread ID:0x49C6, native priority:0x5, native policy:UNKNOWN, vmstate:R, vm thread flags:0x00001020)
3XMTHREADINFO2            (native stack address range from:0xB6CB5000, to:0xB74B6000, size:0x801000)
3XMCPUTIME               CPU usage total: 8.537823831 secs, current category=&quot;Application&quot;
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           Java callstack:
4XESTACKTRACE                at java/lang/StringBuffer.ensureCapacityImpl(StringBuffer.java:696)
4XESTACKTRACE                at java/lang/StringBuffer.append(StringBuffer.java:486(Compiled Code))
5XESTACKTRACE                   (entered lock: java/lang/StringBuffer@0x957645B8, entry count: 1)
4XESTACKTRACE                at java/lang/StringBuffer.append(StringBuffer.java:428(Compiled Code))
4XESTACKTRACE                at HeapBreaker.main(HeapBreaker.java:34(Compiled Code))
3XMTHREADINFO3           Native callstack:
4XENATIVESTACK               (0xB6C535B3 [libj9prt29.so+0x3b5b3])
4XENATIVESTACK               (0xB6C36F3E [libj9prt29.so+0x1ef3e])
4XENATIVESTACK               (0xB6C5311E [libj9prt29.so+0x3b11e])
4XENATIVESTACK               (0xB6C53216 [libj9prt29.so+0x3b216])
4XENATIVESTACK               (0xB6C52CE3 [libj9prt29.so+0x3ace3])
4XENATIVESTACK               (0xB6C36F3E [libj9prt29.so+0x1ef3e])
4XENATIVESTACK               (0xB6C52C57 [libj9prt29.so+0x3ac57])
4XENATIVESTACK               (0xB6C4E9CD [libj9prt29.so+0x369cd])
4XENATIVESTACK               (0xB6C502FA [libj9prt29.so+0x382fa])
</code></pre>

<p>模拟Java <code>OutOfMemoryError</code> ，此示例应用程序将字符重复添加到<code>StringBuffer</code>无限循环中的对象。Java调用栈显示<code>HeapBreaker.main</code>附加字符的方法（ <code>java/lang/StringGuffer.append</code> ）直到方法<code>java/lang/StringBuffer.ensureCapacityImpl()</code>抛出<code>OutOfMemoryError</code> 。</p>
<p>StringBuffer对象是字符数组的包装器（ <code>char[]</code> ），并在达到基础数组的容量时，将内容自动复制到一个更大的新数组中。新数组在<code>StringBuffer.ensureCapacity()</code>方法，它或多或少使旧数组的大小增加了一倍。在这种情况下，该阵列将占用Java堆中的所有剩余空间。</p>
<p>Java转储文件的MEMINFO部分还可以告诉您何时意外的大分配请求导致了OOM。查找GC历史记录（ <code>1STGCHTYPE</code> ）部分，其中详细介绍了触发GC活动的分配请求。在示例输出中，您可以看到大量分配请求（ <code>requestedbytes=603979784</code> ）触发了全局GC。当GC无法释放堆中足够的空间来满足请求时，分配失败将生成OOM。</p>
<pre><code>1STGCHTYPE     GC History  
3STHSTTYPE     14:29:29:580239000 GMT j9mm.101 -   J9AllocateIndexableObject() returning NULL! 0 bytes requested for object of class B6BBC300 from memory space 'Generational' id=B6B49D20
3STHSTTYPE     14:29:29:579916000 GMT j9mm.134 -   Allocation failure end: newspace=2686912/3014656 oldspace=231597224/533856256 loa=5338112/5338112
3STHSTTYPE     14:29:29:579905000 GMT j9mm.470 -   Allocation failure cycle end: newspace=2686912/3014656 oldspace=231597224/533856256 loa=5338112/5338112
3STHSTTYPE     14:29:29:579859000 GMT j9mm.475 -   GlobalGC end: workstackoverflow=0 overflowcount=0 memory=234284136/536870912
3STHSTTYPE     14:29:29:579807000 GMT j9mm.90 -   GlobalGC collect complete
3STHSTTYPE     14:29:29:579776000 GMT j9mm.137 -   Compact end: bytesmoved=301989896
3STHSTTYPE     14:29:29:313899000 GMT j9mm.136 -   Compact start: reason=compact to meet allocation
3STHSTTYPE     14:29:29:313555000 GMT j9mm.57 -   Sweep end
3STHSTTYPE     14:29:29:310772000 GMT j9mm.56 -   Sweep start
3STHSTTYPE     14:29:29:310765000 GMT j9mm.94 -   Class unloading end: classloadersunloaded=0 classesunloaded=0
3STHSTTYPE     14:29:29:310753000 GMT j9mm.60 -   Class unloading start
3STHSTTYPE     14:29:29:310750000 GMT j9mm.55 -   Mark end
3STHSTTYPE     14:29:29:306013000 GMT j9mm.54 -   Mark start
3STHSTTYPE     14:29:29:305957000 GMT j9mm.474 -   GlobalGC start: globalcount=9
3STHSTTYPE     14:29:29:305888000 GMT j9mm.475 -   GlobalGC end: workstackoverflow=0 overflowcount=0 memory=234284136/536870912
3STHSTTYPE     14:29:29:305837000 GMT j9mm.90 -   GlobalGC collect complete
3STHSTTYPE     14:29:29:305808000 GMT j9mm.137 -   Compact end: bytesmoved=189784
3STHSTTYPE     14:29:29:298042000 GMT j9mm.136 -   Compact start: reason=compact to meet allocation
3STHSTTYPE     14:29:29:297695000 GMT j9mm.57 -   Sweep end
3STHSTTYPE     14:29:29:291696000 GMT j9mm.56 -   Sweep start
3STHSTTYPE     14:29:29:291692000 GMT j9mm.55 -   Mark end
3STHSTTYPE     14:29:29:284994000 GMT j9mm.54 -   Mark start
3STHSTTYPE     14:29:29:284941000 GMT j9mm.474 -   GlobalGC start: globalcount=8
3STHSTTYPE     14:29:29:284916000 GMT j9mm.135 -   Exclusive access: exclusiveaccessms=0.016 meanexclusiveaccessms=0.016 threads=0 lastthreadtid=0xB6B61100 beatenbyotherthread=0
3STHSTTYPE     14:29:29:284914000 GMT j9mm.469 -   Allocation failure cycle start: newspace=2678784/3014656 oldspace=80601248/533856256 loa=5338112/5338112 requestedbytes=603979784
3STHSTTYPE     14:29:29:284893000 GMT j9mm.470 -   Allocation failure cycle end: newspace=2678784/3014656 oldspace=80601248/533856256 loa=5338112/5338112
3STHSTTYPE     14:29:29:284858000 GMT j9mm.560 -   LocalGC end: rememberedsetoverflow=0 causedrememberedsetoverflow=0 scancacheoverflow=0 failedflipcount=0 failedflipbytes=0 failedtenurecount=0 failedtenurebytes=0 flipcount=2 flipbytes=64 newspace=2678784/3014656 oldspace=80601248/533856256 loa=5338112/5338112 tenureage=0
3STHSTTYPE     14:29:29:284140000 GMT j9mm.140 -   Tilt ratio: 89
3STHSTTYPE     14:29:29:283160000 GMT j9mm.64 -   LocalGC start: globalcount=8 scavengecount=335 weakrefs=0 soft=0 phantom=0 finalizers=0
3STHSTTYPE     14:29:29:283123000 GMT j9mm.135 -   Exclusive access: exclusiveaccessms=0.016 meanexclusiveaccessms=0.016 threads=0 lastthreadtid=0xB6B61100 beatenbyotherthread=0
3STHSTTYPE     14:29:29:283120000 GMT j9mm.469 -   Allocation failure cycle start: newspace=753616/3014656 oldspace=80601248/533856256 loa=5338112/5338112 requestedbytes=603979784
3STHSTTYPE     14:29:29:283117000 GMT j9mm.133 -   Allocation failure start: newspace=753616/3014656 oldspace=80601248/533856256 loa=5338112/5338112 requestedbytes=603979784
3STHSTTYPE     14:29:29:269762000 GMT j9mm.134 -   Allocation failure end: newspace=2686928/3014656 oldspace=80601248/533856256 loa=5338112/5338112
3STHSTTYPE     14:29:29:269751000 GMT j9mm.470 -   Allocation failure cycle end: newspace=2686976/3014656 oldspace=80601248/533856256 loa=5338112/5338112
3STHSTTYPE     14:29:29:269718000 GMT j9mm.560 -   LocalGC end: rememberedsetoverflow=0 causedrememberedsetoverflow=0 scancacheoverflow=0 failedflipcount=0 failedflipbytes=0 failedtenurecount=0 failedtenurebytes=0 flipcount=0 flipbytes=0 newspace=2686976/3014656 oldspace=80601248/533856256 loa=5338112/5338112 tenureage=0
3STHSTTYPE     14:29:29:268981000 GMT j9mm.140 -   Tilt ratio: 89
3STHSTTYPE     14:29:29:268007000 GMT j9mm.64 -   LocalGC start: globalcount=8 scavengecount=334 weakrefs=0 soft=0 phantom=0 finalizers=0
3STHSTTYPE     14:29:29:267969000 GMT j9mm.135 -   Exclusive access: exclusiveaccessms=0.016 meanexclusiveaccessms=0.016 threads=0 lastthreadtid=0xB6B61100 beatenbyotherthread=0
3STHSTTYPE     14:29:29:267966000 GMT j9mm.469 -   Allocation failure cycle start: newspace=0/3014656 oldspace=80601248/533856256 loa=5338112/5338112 requestedbytes=48
3STHSTTYPE     14:29:29:267963000 GMT j9mm.133 -   Allocation failure start: newspace=0/3014656 oldspace=80601248/533856256 loa=5338112/5338112 requestedbytes=48
3STHSTTYPE     14:29:29:249015000 GMT j9mm.134 -   Allocation failure end: newspace=2686928/3014656 oldspace=80601248/533856256 loa=5338112/5338112
3STHSTTYPE     14:29:29:249003000 GMT j9mm.470 -   Allocation failure cycle end: newspace=2686976/3014656 oldspace=80601248/533856256 loa=5338112/5338112
3STHSTTYPE     14:29:29:248971000 GMT j9mm.560 -   LocalGC end: rememberedsetoverflow=0 causedrememberedsetoverflow=0 scancacheoverflow=0 failedflipcount=0 failedflipbytes=0 failedtenurecount=0 failedtenurebytes=0 flipcount=0 flipbytes=0 newspace=2686976/3014656 oldspace=80601248/533856256 loa=5338112/5338112 tenureage=0
</code></pre>

<p>尽管此方案中使用的Java代码故意触发了<code>OutOfMemoryError</code>以明显的方式，当处理诸如XML文件之类的大型数据集时，可能也会发生类似的分配问题。</p>
<p>诊断问题的下一步是打开系统转储，当<code>OutOfMemoryError</code>发生。使用<a href="https://www.eclipse.org/mat/">Eclipse Memory Analyzer工具（MAT）</a>打开转储，然后搜索<code>StringBuffer</code>对象，它应该提供有关发生问题的更多线索。一个常见的例子是看到相同的<code>String</code>一遍又一遍地重复，这可能表明代码陷入了循环。</p>
<p><i class="fa fa-pencil-square-o" aria-hidden="true"></i> <strong>注意：</strong>如果要使用MAT分析系统转储，则必须在Eclipse IDE中安装Java诊断工具框架（DTFJ）插件。选择以下菜单项：</p>
<pre><code>Help &gt; Install New Software &gt; Work with &quot;IBM Diagnostic Tool Framework for Java&quot; &gt;  
</code></pre>

<p>如果与以前的情况不同，您收到了<code>OutOfMemoryError</code>并且MEMINFO部分显示Java堆上几乎没有剩余空间，当前线程信息通常并不重要。当前线程只是空间用完时碰巧是最新的线程。在这种情况下，您可能想要增加Java堆大小。有关此任务的帮助，请参阅<a href="https://www.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.vm.80.doc/docs/mm_heapsizing.html">如何进行堆大小调整</a> 。</p>
<h3 id="native-outofmemoryerror">本机OutOfMemoryError</h3>
<p>在这种情况下，VM耗尽了本机内存。本机内存是VM用来存储VM操作所需的所有虚拟化资源和数据的内存。VM进程可用的本机内存受操作系统限制。VM可用的本机内存可能还受到操作系统（例如Unix）施加的其他限制。 <code>ulimits</code> 。</p>
<p>当一个<code>NativeOutOfMemoryError</code>发生时，默认情况下会生成Java转储。文件的第一部分（TITLE）告诉您systhrow事件是由于OOM（ <code>java/lang/OutOfMemoryError</code> ）用于本机内存。</p>
<pre><code>0SECTION       TITLE subcomponent dump routine
NULL           ===============================
1TICHARSET     UTF-8
1TISIGINFO     Dump Event &quot;systhrow&quot; (00040000) Detail &quot;java/lang/OutOfMemoryError&quot; &quot;native memory exhausted&quot; received
1TIDATETIME    Date: 2018/09/14 at 15:49:55:887
1TINANOTIME    System nanotime: 3636862054495675
1TIFILENAME    Javacore filename:    /home/cheesemp/test/javacore.20180914.154814.19708.0003.txt
1TIREQFLAGS    Request Flags: 0x81 (exclusive+preempt)
1TIPREPSTATE   Prep State: 0x104 (exclusive_vm_access+trace_disabled)
</code></pre>

<p>有时，当前线程负责导致<code>NativeOutOfMemoryError</code> 。可以在THREADS部分中找到有关当前线程的信息，如以下输出所示。</p>
<pre><code>0SECTION       THREADS subcomponent dump routine
NULL           =================================
NULL
1XMPOOLINFO    JVM Thread pool info:
2XMPOOLTOTAL       Current total number of pooled threads: 16
2XMPOOLLIVE        Current total number of live threads: 16
2XMPOOLDAEMON      Current total number of live daemon threads: 15
NULL            
1XMCURTHDINFO  Current thread
3XMTHREADINFO      &quot;main&quot; J9VMThread:0xB6C60C00, omrthread_t:0xB6C049D8, java/lang/Thread:0xB55E3C10, state:R, prio=5
3XMJAVALTHREAD            (java/lang/Thread getId:0x1, isDaemon:false)
3XMTHREADINFO1            (native thread ID:0x4CFD, native priority:0x5, native policy:UNKNOWN, vmstate:R, vm thread flags:0x00001020)
3XMTHREADINFO2            (native stack address range from:0xB6D4E000, to:0xB754F000, size:0x801000)
3XMCPUTIME               CPU usage total: 3.654896026 secs, current category=&quot;Application&quot;
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           Java callstack:
4XESTACKTRACE                at sun/misc/Unsafe.allocateDBBMemory(Native Method)
4XESTACKTRACE                at java/nio/DirectByteBuffer.&lt;init&gt;(DirectByteBuffer.java:127(Compiled Code))
4XESTACKTRACE                at java/nio/ByteBuffer.allocateDirect(ByteBuffer.java:311)
4XESTACKTRACE                at NativeHeapBreaker.main(NativeHeapBreaker.java:9)
3XMTHREADINFO3           Native callstack:
4XENATIVESTACK               (0xB6A9F5B3 [libj9prt29.so+0x3b5b3])
...
4XENATIVESTACK               (0xB582CC9C [libjclse7b_29.so+0x40c9c])
4XENATIVESTACK               Java_sun_misc_Unsafe_allocateDBBMemory+0x88 (0xB5827F6B [libjclse7b_29.so+0x3bf6b])
4XENATIVESTACK               (0x94A2084A [&lt;unknown&gt;+0x0])
4XENATIVESTACK               (0xB6B2538B [libj9vm29.so+0x6c38b])
4XENATIVESTACK               (0xB6B4074C [libj9vm29.so+0x8774c])
4XENATIVESTACK               (0xB6B7F299 [libj9vm29.so+0xc6299])
4XENATIVESTACK               (0xB6A82F3E [libj9prt29.so+0x1ef3e])
4XENATIVESTACK               (0xB6B7F32A [libj9vm29.so+0xc632a])
4XENATIVESTACK               (0xB6B4084C [libj9vm29.so+0x8784c])
4XENATIVESTACK               (0xB6B3CD0C [libj9vm29.so+0x83d0c])
4XENATIVESTACK               (0xB776F87D [libjli.so+0x787d])
4XENATIVESTACK               (0xB7784F72 [libpthread.so.0+0x6f72])
4XENATIVESTACK               clone+0x5e (0xB76A043E [libc.so.6+0xee43e])
</code></pre>

<p>为了清楚起见<code>Native callstack</code>输出， <code>...</code>表示某些行已删除。</p>
<p>Java调用栈显示了从Java到本机代码的过渡（ <code>sun/misc/Unsafe.allocateDBBMemory(Native Method)</code> ），表示请求直接字节缓冲区（DBB）存储。DBB存储由本机内存支持，而Java堆仅包含对本机堆缓冲区的引用。在这种情况下，DBB存储可能是造成这种情况的罪魁祸首<code>NativeOutOfMemoryError</code> 。</p>
<p>下一步是研究Java转储文件的NATIVEMEMINFO部分，该部分报告了JRE进程使用的内存量，并分为了各个组成部分。</p>
<pre><code>0SECTION       NATIVEMEMINFO subcomponent dump routine
NULL           =================================
0MEMUSER
1MEMUSER       JRE: 3,166,386,688 bytes / 4388 allocations
1MEMUSER       |
2MEMUSER       +--VM: 563,176,824 bytes / 1518 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Classes: 3,104,416 bytes / 120 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Memory Manager (GC): 548,181,888 bytes / 398 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Java Heap: 536,932,352 bytes / 1 allocation
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Other: 11,249,536 bytes / 397 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Threads: 10,817,120 bytes / 147 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Java Stack: 115,584 bytes / 16 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Native Stack: 10,616,832 bytes / 17 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Other: 84,704 bytes / 114 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Trace: 163,688 bytes / 268 allocations
2MEMUSER       |  |
3MEMUSER       |  +--JVMTI: 17,320 bytes / 13 allocations
2MEMUSER       |  |
3MEMUSER       |  +--JNI: 23,296 bytes / 55 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Port Library: 8,576 bytes / 74 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Other: 860,520 bytes / 443 allocations
1MEMUSER       |
2MEMUSER       +--JIT: 3,744,728 bytes / 122 allocations
2MEMUSER       |  |
3MEMUSER       |  +--JIT Code Cache: 2,097,152 bytes / 1 allocation
2MEMUSER       |  |
3MEMUSER       |  +--JIT Data Cache: 524,336 bytes / 1 allocation
2MEMUSER       |  |
3MEMUSER       |  +--Other: 1,123,240 bytes / 120 allocations
1MEMUSER       |
2MEMUSER       +--Class Libraries: 2,599,463,024 bytes / 2732 allocations
2MEMUSER       |  |
3MEMUSER       |  +--Harmony Class Libraries: 1,024 bytes / 1 allocation
2MEMUSER       |  |
3MEMUSER       |  +--VM Class Libraries: 2,599,462,000 bytes / 2731 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--sun.misc.Unsafe: 2,598,510,480 bytes / 2484 allocations
4MEMUSER       |  |  |  |
5MEMUSER       |  |  |  +--Direct Byte Buffers: 2,598,510,480 bytes / 2484 allocations
3MEMUSER       |  |  |
4MEMUSER       |  |  +--Other: 951,520 bytes / 247 allocations
1MEMUSER       |
2MEMUSER       +--Unknown: 2,112 bytes / 16 allocations
NULL           
</code></pre>

<p>在里面<code>VM Class Libraries</code>部分，分配给的内存量<code>Direct Byte Buffers</code>显示。因为<code>NativeOutOfMemoryError</code>是在小型32位系统上收到的，值为<code>2,598,510,480 bytes</code>表示操作系统内存不足。在较大的UNIX系统上，由于以下原因，该进程可能已耗尽内存： <code>ulimit</code>设置。为增加价值<code>ulimit</code>可以避免该错误，您可以通过设置暂时<code>ulimit -f unlimited</code>在您当前的会话中。</p>
<p>32位进程的理论上最大大小是32位地址空间的大小，即4 GB。在大多数操作系统上，内核使用每个进程的一部分地址空间，从而使32位进程的实际限制实际上大大小于4GB。结果，用32位VM用完本机内存非常普遍。</p>
<p>如果您使用带有压缩引用的64位VM，则相同的4 GB限制也很重要。在压缩引用模式下，出于性能原因，对对象，类，线程和监视器的所有引用均由32位值表示，因此只能在32位地址处分配这些结构。但是，操作系统可能会在这4 GB的地址空间内放置其他分配，并且如果该区域变得足够满或碎片化，则VM会抛出本机<code>NativeOutOfMemoryError</code>错误。当VM尝试创建新线程或加载类时，通常会发生这些错误。<strong>当前线程历史记录</strong>部分应包含有关以下信息的更多信息： <code>NativeOutOfMemoryError</code>错误发生。</p>
<p>通常，您可以通过使用<code>-Xmcrs</code>选项可在VM启动时在最低4GB的内存中保留连续的内存区域。</p>
<p>另一个常见的原因<code>NativeOutOfMemoryError</code>当应用程序加载重复的类时。类是在本机内存中的Java堆之外分配的。如果报告的值是<code>Classes</code>在NATIVEMEMINFO部分中，非常大，重复的类可能是导致问题的原因。<a href="https://www.eclipse.org/mat/">Eclipse内存分析器工具（MAT）</a>可以通过使用<em>Class Loader Explorer</em>功能来告诉您是否有重复的类。因为将自动生成系统转储以及Java转储以响应<code>NativeOutOfMemoryError</code> ，只需在MAT中打开系统转储即可继续进行诊断。</p>
<h3 id="deadlock">僵局</h3>
<p>当两个线程试图在一个对象上同步并锁定一个类的实例时，就会发生死锁。发生这种情况时，您的应用程序停止响应并挂起。生成Java转储文件将迅速告诉您是否存在死锁情况。通过发送SIGQUIT信号触发Java转储（ <code>kill -3</code> ）到VM。</p>
<p>VM可以检测涉及Java监视器的最常见类型的死锁方案。如果检测到这种类型的死锁，则会在“ LOCKS”部分中提供信息。不会检测到更复杂的死锁，包括那些将本机互斥锁和Java监视器混合在一起的死锁。</p>
<p>这是用于导致常见死锁情况的代码的输出：</p>
<pre><code>NULL           
1LKDEADLOCK    Deadlock detected !!!
NULL           ---------------------
NULL           
2LKDEADLOCKTHR  Thread &quot;Worker Thread 2&quot; (0x94501D00)
3LKDEADLOCKWTR    is waiting for:
4LKDEADLOCKMON      sys_mon_t:0x08C2B344 infl_mon_t: 0x08C2B384:
4LKDEADLOCKOBJ      java/lang/Object@0xB5666698
3LKDEADLOCKOWN    which is owned by:
2LKDEADLOCKTHR  Thread &quot;Worker Thread 3&quot; (0x94507500)
3LKDEADLOCKWTR    which is waiting for:
4LKDEADLOCKMON      sys_mon_t:0x08C2B3A0 infl_mon_t: 0x08C2B3E0:
4LKDEADLOCKOBJ      java/lang/Object@0xB5666678
3LKDEADLOCKOWN    which is owned by:
2LKDEADLOCKTHR  Thread &quot;Worker Thread 1&quot; (0x92A3EC00)
3LKDEADLOCKWTR    which is waiting for:
4LKDEADLOCKMON      sys_mon_t:0x08C2B2E8 infl_mon_t: 0x08C2B328:
4LKDEADLOCKOBJ      java/lang/Object@0xB5666688
3LKDEADLOCKOWN    which is owned by:
2LKDEADLOCKTHR  Thread &quot;Worker Thread 2&quot; (0x94501D00)
</code></pre>

<p>此输出告诉您<code>Worker Thread 2</code>正在等待<code>Worker Thread 3</code> ，正在等待<code>Worker Thread 1</code> 。因为<code>Worker Thread 1</code>也正在等待<code>Worker Thread 2</code> ，有一个僵局。下一个要看的地方是THREADS部分中的Java和本机堆栈的输出。通过查看每个工作线程的堆栈，您可以将问题追溯到应用程序代码中的特定行。</p>
<p>在此示例中，您可以从以下输出中看到，对于所有工作线程，堆栈跟踪（ <code>4XESTACKTRACE</code> / <code>5XESTACKTRACE</code> ）在应用程序的第35行中指出问题<code>DeadLockTest.java</code> ：</p>
<pre><code>3XMTHREADINFO      &quot;Worker Thread 1&quot; J9VMThread:0x92A3EC00, omrthread_t:0x92A3C2B0, java/lang/Thread:0xB5666778, state:B, prio=5
3XMJAVALTHREAD            (java/lang/Thread getId:0x13, isDaemon:false)
3XMTHREADINFO1            (native thread ID:0x52CF, native priority:0x5, native policy:UNKNOWN, vmstate:B, vm thread flags:0x00000201)
3XMTHREADINFO2            (native stack address range from:0x9297E000, to:0x929BF000, size:0x41000)
3XMCPUTIME               CPU usage total: 0.004365543 secs, current category=&quot;Application&quot;
3XMTHREADBLOCK     Blocked on: java/lang/Object@0xB5666688 Owned by: &quot;Worker Thread 2&quot; (J9VMThread:0x94501D00, java/lang/Thread:0xB56668D0)
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           Java callstack:
4XESTACKTRACE                at WorkerThread.run(DeadLockTest.java:35)
5XESTACKTRACE                   (entered lock: java/lang/Object@0xB5666678, entry count: 1)
...
3XMTHREADINFO      &quot;Worker Thread 2&quot; J9VMThread:0x94501D00, omrthread_t:0x92A3C8F0, java/lang/Thread:0xB56668D0, state:B, prio=5
3XMJAVALTHREAD            (java/lang/Thread getId:0x14, isDaemon:false)
3XMTHREADINFO1            (native thread ID:0x52D0, native priority:0x5, native policy:UNKNOWN, vmstate:B, vm thread flags:0x00000201)
3XMTHREADINFO2            (native stack address range from:0x946BF000, to:0x94700000, size:0x41000)
3XMCPUTIME               CPU usage total: 0.004555580 secs, current category=&quot;Application&quot;
3XMTHREADBLOCK     Blocked on: java/lang/Object@0xB5666698 Owned by: &quot;Worker Thread 3&quot; (J9VMThread:0x94507500, java/lang/Thread:0xB5666A18)
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           Java callstack:
4XESTACKTRACE                at WorkerThread.run(DeadLockTest.java:35)
5XESTACKTRACE                   (entered lock: java/lang/Object@0xB5666688, entry count: 1)
...
3XMTHREADINFO      &quot;Worker Thread 3&quot; J9VMThread:0x94507500, omrthread_t:0x92A3CC10, java/lang/Thread:0xB5666A18, state:B, prio=5
3XMJAVALTHREAD            (java/lang/Thread getId:0x15, isDaemon:false)
3XMTHREADINFO1            (native thread ID:0x52D1, native priority:0x5, native policy:UNKNOWN, vmstate:B, vm thread flags:0x00000201)
3XMTHREADINFO2            (native stack address range from:0x9467E000, to:0x946BF000, size:0x41000)
3XMCPUTIME               CPU usage total: 0.003657010 secs, current category=&quot;Application&quot;
3XMTHREADBLOCK     Blocked on: java/lang/Object@0xB5666678 Owned by: &quot;Worker Thread 1&quot; (J9VMThread:0x92A3EC00, java/lang/Thread:0xB5666778)
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           Java callstack:
4XESTACKTRACE                at WorkerThread.run(DeadLockTest.java:35)
5XESTACKTRACE                   (entered lock: java/lang/Object@0xB5666698, entry count: 1)
</code></pre>

<h3 id="hang">挂</h3>
<p>应用程序可能由于多种原因而挂起，但最常见的原因是过度的全局垃圾回收（GC）活动，由于Java堆<em>几乎</em>用完了内存，因此您的应用程序被重复暂停。您可以通过查看详细的GC输出来确定此问题。通过指定<code>-verbose:gc</code>选项。</p>
<p>死锁情况也可能表现为挂起。有关从Java转储诊断此类问题的更多信息，请参见<a href="#deadlock">死锁</a>方案。</p>
<p>如果您消除了冗长的GC活动和死锁，则另一个常见的挂起方案是涉及竞争并等待Java对象锁的线程。通常可以通过检查Java转储来诊断此类问题。涉及Java对象锁的最简单的挂起方案是线程获得其他线程正在等待的锁，但是由于某种原因它不会释放该锁。</p>
<p>在Java转储输出中查找的第一位是<strong>LOCKS</strong>部分。本节列出了所有监视器，并显示了哪些线程已获得锁定以及哪些线程正在等待。如果挂起是由于某个线程未释放其他线程需要的锁而导致的，则可以在输出中看到等待线程的列表。</p>
<p>在此示例场景中，Java dump <strong>LOCKS</strong>部分显示<code>Worker Thread 0</code> （ <code>3LKMONOBJECT</code> ）已获取了锁，还有19个其他工作线程正在等待获取该锁。</p>
<pre><code>NULL           ------------------------------------------------------------------------
0SECTION       LOCKS subcomponent dump routine
NULL           ===============================
NULL           
1LKPOOLINFO    Monitor pool info:
2LKPOOLTOTAL     Current total number of monitors: 1
NULL           
1LKMONPOOLDUMP Monitor Pool Dump (flat &amp; inflated object-monitors):
2LKMONINUSE      sys_mon_t:0x92711200 infl_mon_t: 0x92711240:
3LKMONOBJECT       java/lang/Object@0xB56658D8: Flat locked by &quot;Worker Thread 0&quot; (J9VMThread:0x92A3EC00), entry count 1
3LKWAITERQ            Waiting to enter:
3LKWAITER                &quot;Worker Thread 1&quot; (J9VMThread:0x92703F00)
3LKWAITER                &quot;Worker Thread 2&quot; (J9VMThread:0x92709C00)
3LKWAITER                &quot;Worker Thread 3&quot; (J9VMThread:0x92710A00)
3LKWAITER                &quot;Worker Thread 4&quot; (J9VMThread:0x92717F00)
3LKWAITER                &quot;Worker Thread 5&quot; (J9VMThread:0x9271DC00)
3LKWAITER                &quot;Worker Thread 6&quot; (J9VMThread:0x92723A00)
3LKWAITER                &quot;Worker Thread 7&quot; (J9VMThread:0x92729800)
3LKWAITER                &quot;Worker Thread 8&quot; (J9VMThread:0x92733700)
3LKWAITER                &quot;Worker Thread 9&quot; (J9VMThread:0x92739400)
3LKWAITER                &quot;Worker Thread 10&quot; (J9VMThread:0x92740200)
3LKWAITER                &quot;Worker Thread 11&quot; (J9VMThread:0x92748100)
3LKWAITER                &quot;Worker Thread 12&quot; (J9VMThread:0x9274DF00)
3LKWAITER                &quot;Worker Thread 13&quot; (J9VMThread:0x92754D00)
3LKWAITER                &quot;Worker Thread 14&quot; (J9VMThread:0x9275AA00)
3LKWAITER                &quot;Worker Thread 15&quot; (J9VMThread:0x92760800)
3LKWAITER                &quot;Worker Thread 16&quot; (J9VMThread:0x92766600)
3LKWAITER                &quot;Worker Thread 17&quot; (J9VMThread:0x9276C300)
3LKWAITER                &quot;Worker Thread 18&quot; (J9VMThread:0x92773100)
3LKWAITER                &quot;Worker Thread 19&quot; (J9VMThread:0x92778F00)
NULL           
</code></pre>

<p>下一步是确定原因<code>Worker Thread 0</code>没有释放锁。最好的起点是该线程的堆栈跟踪，您可以通过在<strong>THREADS</strong>部分中搜索线程名称或J9VMThread ID来找到。</p>
<p>以下摘录显示了有关的详细信息<code>"Worker Thread 0" (J9VMThread:0x92A3EC00)</code> ：</p>
<pre><code>NULL
3XMTHREADINFO      &quot;Worker Thread 0&quot; J9VMThread:0x92A3EC00, omrthread_t:0x92A3C280, java/lang/Thread:0xB56668B8, state:CW, prio=5
3XMJAVALTHREAD            (java/lang/Thread getId:0x13, isDaemon:false)
3XMTHREADINFO1            (native thread ID:0x511F, native priority:0x5, native policy:UNKNOWN, vmstate:CW, vm thread flags:0x00000401)
3XMTHREADINFO2            (native stack address range from:0x9297E000, to:0x929BF000, size:0x41000)
3XMCPUTIME               CPU usage total: 0.000211878 secs, current category=&quot;Application&quot;
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           Java callstack:
4XESTACKTRACE                at java/lang/Thread.sleep(Native Method)
4XESTACKTRACE                at java/lang/Thread.sleep(Thread.java:941)
4XESTACKTRACE                at WorkerThread.doWork(HangTest.java:37)
4XESTACKTRACE                at WorkerThread.run(HangTest.java:31)
5XESTACKTRACE                   (entered lock: java/lang/Object@0xB56658D8, entry count: 1)
</code></pre>

<p>在此输出的最后一行中，您可以看到线程在哪里获取了锁。从这一行开始，您可以看到<code>WorkerThread.run</code>被称为，反过来称为<code>WorkerThread.doWork</code> 。堆栈显示该线程随后输入了对<code>java/lang/Thread.sleep</code>在第37行的HangTest.java中，它阻止线程完成其工作并释放锁。在这个例子中<code>sleep</code>增加了call来引发挂起，但是在实际情况下，原因可能是任何阻塞操作，例如从输入流或套接字读取。另一种可能性是线程正在等待另一个线程拥有的<em>另一个</em>锁。</p>
<p>重要的是要记住，每个Java转储都及时表示一个快照。您应该至少生成三个Java转储，并以一个短暂的停顿（例如30秒）为间隔，并比较输出。此比较告诉您所涉及的线程是处于固定状态还是正在移动。</p>
<p>在此示例中，线程不移动，调查需要重点关注<code>WorkerThread.doWork</code>了解为什么<code>Worker Thread 0</code>进入<code>java/lang/Thread.sleep</code>呼叫。</p>
<p>另一个常见的情况是，每个Java转储都显示许多线程正在等待另一个线程拥有的锁，但是等待线程的列表和拥有锁的线程会随着时间而变化。在这种情况下，原因很可能是线程争用引起的瓶颈，在这种情况下，线程不断争夺同一个锁。在严重的情况下，该锁仅保留一小段时间，但是有很多线程试图获取该锁。由于比执行应用程序代码花费更多的时间来处理锁和调度线程，因此性能下降表现为挂起。线程争用通常是由应用程序设计问题引起的。您可以使用与本方案中使用的方法类似的方法来确定哪些代码行负责争用。</p>
<!-- ==== END OF TOPIC ==== dump_javadump.md ==== -->
                
                  
                
              
<!--
              
                


              
-->
              <!-- This block was originally in the theme's 'footer.html' partial file. It has been moved here in part to resolve issues with the footer being too large. -->
              
                <!--
* Copyright (c) 2017, 2018 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->
              
                <div class="md-footer-nav">
                  <nav class="md-footer-nav__inner md-grid">
<!-- Ignore all this to remove previous/next links in footer, but leave nav block else lose highlighting in LH navigation
                    <img alt="" src="../cr/rule.png"> [!-- Separator --]
                    
                      <a href="diag_overview.html" title="Overview" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
                        <div class="md-flex__cell md-flex__cell--shrink">
                          <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
                        </div>
                        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                          <span class="md-flex__ellipsis">
                            <span class="md-footer-nav__direction">
                              Previous
                            </span>
                            Overview
                          </span>
                        </div>
                      </a>
                    
                    
                      <a href="dump_heapdump.html" title="Heap dump" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
                        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                          <span class="md-flex__ellipsis">
                            <span class="md-footer-nav__direction">
                              Next
                            </span>
                            Heap dump
                          </span>
                        </div>
                        <div class="md-flex__cell md-flex__cell--shrink">
                          <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
                        </div>
                      </a>
                    
-->
                  </nav>
                </div>
              
              
            </article>
          </div>
        </div>
      </main>
      
        <!--
* Copyright (c) 2017, 2019 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->
<cite></cite>
<footer class="md-footer">

  <div class="md-footer-meta md-typeset">
    

    
      <!--
* Copyright (c) 2017, 2019 IBM Corp. and others
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which accompanies this distribution and is available at
* https://www.eclipse.org/legal/epl-2.0/ or the Apache
* License, Version 2.0 which accompanies this distribution and
* is available at https://www.apache.org/licenses/LICENSE-2.0.
*
* This Source Code may also be made available under the
* following Secondary Licenses when the conditions for such
* availability set forth in the Eclipse Public License, v. 2.0
* are satisfied: GNU General Public License, version 2 with
* the GNU Classpath Exception [1] and GNU General Public
* License, version 2 with the OpenJDK Assembly Exception [2].
*
* [1] https://www.gnu.org/software/classpath/license.html
* [2] http://openjdk.java.net/legal/assembly-exception.html
*
* SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH
* Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception
-->

  <div class="md-footer-social1">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/eclipse/openj9" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://openj9.slack.com" class="md-footer-social__link fa fa-slack"></a>
    
      <a href="https://twitter.com/openj9" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://stackoverflow.com/search?q=OpenJ9" class="md-footer-social__link fa fa-stack-overflow"></a>
    
  </div>

    

    <div class="md-footer-eclipse1">OpenJ9是一个Eclipse Incubator项目。</div>

    <div class="md-footer-links1">
      <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org">Eclipse Foundation网站</a></span> <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org/legal/privacy.php">隐私政策</a></span> <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org/legal/termsofuse.php">网站使用条款</a></span> <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org/legal/copyright.php">版权代理</a></span> <span class="no-wrap"><i class="fa fa-chevron-circle-right f_mini" aria-hidden="true"></i> <a class="dark-link" href="http://www.eclipse.org/legal">法律</a></span>
    </div>

    <div class="md-footer-power1">由<a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>和<a href="http://squidfunk.github.io/mkdocs-material/" title="MkDocs的材料">Material for MkDocs提供支持</a><br><br>
    </div>

  </div>

</footer>
      
    </div>
    
      <script src="assets/javascripts/application.583bbe55.js"></script>
      
        
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
    
      
    
  
</body></html>