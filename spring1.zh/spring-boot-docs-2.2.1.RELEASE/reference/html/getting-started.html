<html lang="zh-Hans" ><head></head><body id="getting-started" class="book toc2 toc-left" >﻿
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<title>入门</title>
<link rel="stylesheet" href="css/spring.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<div id="header">
<h1>入门</h1>
<div id="toc" class="toc2">
<div id="toctitle">目录</div>
<ul class="sectlevel1">
<li><a href="#getting-started-introducing-spring-boot">1。介绍Spring Boot</a></li>
<li><a href="#getting-started-system-requirements">2。系统要求</a>
<ul class="sectlevel2">
<li><a href="#getting-started-system-requirements-servlet-containers">2.1。Servlet容器</a></li>
</ul>
</li>
<li><a href="#getting-started-installing-spring-boot">3。安装Spring Boot</a>
<ul class="sectlevel2">
<li><a href="#getting-started-installation-instructions-for-java">3.1。Java开发人员的安装说明</a>
<ul class="sectlevel3">
<li><a href="#getting-started-maven-installation">3.1.1。Maven安装</a></li>
<li><a href="#getting-started-gradle-installation">3.1.2。摇篮安装</a></li>
</ul>
</li>
<li><a href="#getting-started-installing-the-cli">3.2。安装Spring Boot CLI</a>
<ul class="sectlevel3">
<li><a href="#getting-started-manual-cli-installation">3.2.1。手动安装</a></li>
<li><a href="#getting-started-sdkman-cli-installation">3.2.2。使用SDKMAN安装！</a></li>
<li><a href="#getting-started-homebrew-cli-installation">3.2.3。OSX Homebrew安装</a></li>
<li><a href="#getting-started-macports-cli-installation">3.2.4。MacPorts安装</a></li>
<li><a href="#getting-started-cli-command-line-completion">3.2.5。命令行补全</a></li>
<li><a href="#getting-started-scoop-cli-installation">3.2.6。Windows Scoop安装</a></li>
<li><a href="#getting-started-cli-example">3.2.7。快速入门Spring CLI示例</a></li>
</ul>
</li>
<li><a href="#getting-started-upgrading-from-an-earlier-version">3.3。从较早版本的Spring Boot升级</a></li>
</ul>
</li>
<li><a href="#getting-started-first-application">4。开发您的第一个Spring Boot应用程序</a>
<ul class="sectlevel2">
<li><a href="#getting-started-first-application-pom">4.1。创建POM</a></li>
<li><a href="#getting-started-first-application-dependencies">4.2。添加类路径依赖</a></li>
<li><a href="#getting-started-first-application-code">4.3。编写代码</a>
<ul class="sectlevel3">
<li><a href="#getting-started-first-application-annotations">4.3.1。@RestController和@RequestMapping注释</a></li>
<li><a href="#getting-started-first-application-auto-configuration">4.3.2。@EnableAutoConfiguration批注</a></li>
<li><a href="#getting-started-first-application-main-method">4.3.3。“主要”方法</a></li>
</ul>
</li>
<li><a href="#getting-started-first-application-run">4.4。运行示例</a></li>
<li><a href="#getting-started-first-application-executable-jar">4.5。创建一个可执行的Jar</a></li>
</ul>
</li>
<li><a href="#getting-started-whats-next">5，接下来要读什么</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>如果您是从Spring Boot或“ Spring”开始的，请先阅读本节。它回答了基本的“什么？”，“如何？”和“为什么？”问题。它包括对Spring Boot的介绍以及安装说明。然后，我们将引导您构建第一个Spring Boot应用程序，并讨论一些核心原理。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started-introducing-spring-boot"><a class="anchor" href="#getting-started-introducing-spring-boot"></a> 1。介绍Spring Boot</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring Boot使创建可运行的独立，生产级基于Spring的应用程序变得容易。我们对Spring平台和第三方库持固执己见的观点，这样您就可以以最小的麻烦开始使用。大多数Spring Boot应用程序只需要很少的Spring配置。</p>
</div>
<div class="paragraph">
<p>您可以使用Spring Boot创建可以通过使用以下命令启动的Java应用程序<code>java -jar</code>或更传统的战争部署。我们还提供了一个运行“ spring脚本”的命令行工具。</p>
</div>
<div class="paragraph">
<p>我们的主要目标是：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>为所有Spring开发提供根本上更快且可广泛访问的入门经验。</p>
</li>
<li>
<p>开箱即用，但由于需求开始偏离默认值，因此会迅速摆脱困境。</p>
</li>
<li>
<p>提供一系列大型项目通用的非功能性功能（例如嵌入式服务器，安全性，指标，运行状况检查和外部化配置）。</p>
</li>
<li>
<p>完全没有代码生成，也不需要XML配置。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started-system-requirements"><a class="anchor" href="#getting-started-system-requirements"></a> 2。系统要求</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring Boot 2.2.1。RELEASE需要<a href="https://www.java.com">Java 8，</a>并且与Java 13（包括）兼容。
<a href="https://docs.spring.io/spring/docs/5.2.1.RELEASE/spring-framework-reference/">Spring Framework 5.2.1。还需要RELEASE</a>或更高版本。</p>
</div>
<div class="paragraph">
<p>为以下构建工具提供了明确的构建支持：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:50%">
<col style="width:50%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">制作工具</th>
<th class="tableblock halign-left valign-top">版</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">马文</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3+</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">摇篮</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.x（也支持4.10，但已弃用）</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="getting-started-system-requirements-servlet-containers"><a class="anchor" href="#getting-started-system-requirements-servlet-containers"></a> 2.1。Servlet容器</h3>
<div class="paragraph">
<p>Spring Boot支持以下嵌入式servlet容器：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:50%">
<col style="width:50%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">名称</th>
<th class="tableblock halign-left valign-top">Servlet版本</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tomcat 9.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">码头9.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Undertow 2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.0</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>您还可以将Spring Boot应用程序部署到任何Servlet 3.1+兼容的容器中。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started-installing-spring-boot"><a class="anchor" href="#getting-started-installing-spring-boot"></a> 3。安装Spring Boot</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring Boot可以与“经典” Java开发工具一起使用，也可以作为命令行工具安装。无论哪种方式，都需要<a href="https://www.java.com">Java SDK v1.8</a>或更高版本。在开始之前，您应该使用以下命令检查当前的Java安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ java -version</pre>
</div>
</div>
<div class="paragraph">
<p>如果您不熟悉Java开发，或者想尝试使用Spring Boot，则可能要先尝试使用<a href="#getting-started-installing-the-cli">Spring Boot CLI</a> （命令行界面）。否则，请继续阅读“经典”安装说明。</p>
</div>
<div class="sect2">
<h3 id="getting-started-installation-instructions-for-java"><a class="anchor" href="#getting-started-installation-instructions-for-java"></a> 3.1。Java开发人员的安装说明</h3>
<div class="paragraph">
<p>您可以像使用任何标准Java库一样使用Spring Boot。为此，请包括适当的<code>spring-boot-*.jar</code>类路径上的文件。Spring Boot不需要任何特殊的工具集成，因此您可以使用任何IDE或文本编辑器。另外，Spring Boot应用程序没有什么特别之处，因此您可以像运行其他Java程序一样运行和调试Spring Boot应用程序。</p>
</div>
<div class="paragraph">
<p>尽管您<em>可以</em>复制Spring Boot jar，但是我们通常建议您使用支持依赖关系管理的构建工具（例如Maven或Gradle）。</p>
</div>
<div class="sect3">
<h4 id="getting-started-maven-installation"><a class="anchor" href="#getting-started-maven-installation"></a> 3.1.1。Maven安装</h4>
<div class="paragraph">
<p>Spring Boot与Apache Maven 3.3或更高版本兼容。如果尚未安装Maven，则可以按照<a href="https://maven.apache.org" class="bare">maven.apache.org上</a>的说明进行操作。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="小费"></i>
</td>
<td class="content">在许多操作系统上，Maven可以与程序包管理器一起安装。如果您使用OSX Homebrew，请尝试<code>brew install maven</code> 。Ubuntu用户可以运行<code>sudo apt-get install maven</code> 。具有<a href="https://chocolatey.org/">Chocolatey的</a> Windows用户可以运行<code>choco install maven</code>从提升的（管理员）提示。
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Spring Boot依赖项使用<code>org.springframework.boot</code><code>groupId</code> 。通常，您的Maven POM文件继承自<code>spring-boot-starter-parent</code>项目，并声明对一个或多个<a href="using-spring-boot.html#using-boot-starter">“启动器”的</a>依赖关系。Spring Boot还提供了一个可选的<a href="build-tool-plugins.html#build-tool-plugins-maven-plugin">Maven插件</a>来创建可执行jar。</p>
</div>
<div class="paragraph">
<p>以下清单显示了典型的<code>pom.xml</code>文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;myproject&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

    &lt;!-- Inherit defaults from Spring Boot --&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;
    &lt;/parent&gt;

    &lt;!-- Override inherited settings --&gt;
    &lt;description/&gt;
    &lt;developers&gt;
        &lt;developer/&gt;
    &lt;/developers&gt;
    &lt;licenses&gt;
        &lt;license/&gt;
    &lt;/licenses&gt;
    &lt;scm&gt;
        &lt;url/&gt;
    &lt;/scm&gt;
    &lt;url/&gt;

    &lt;!-- Add typical dependencies for a web application --&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;!-- Package as an executable jar --&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="小费"></i>
</td>
<td class="content">的<code>spring-boot-starter-parent</code>这是使用Spring Boot的一种好方法，但可能并不总是适合。有时您可能需要从其他父POM继承，或者您可能不喜欢我们的默认设置。在这种情况下，请参阅<a href="using-spring-boot.html#using-boot-maven-without-a-parent">using-spring-boot.html</a> ，了解<a href="using-spring-boot.html#using-boot-maven-without-a-parent">使用</a> <code>import</code>范围。
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-gradle-installation"><a class="anchor" href="#getting-started-gradle-installation"></a> 3.1.2。摇篮安装</h4>
<div class="paragraph">
<p>Spring Boot与5.x兼容。还支持4.10，但不支持该支持，在将来的版本中将删除该支持。如果尚未安装Gradle，则可以按照<a href="https://gradle.org" class="bare">gradle.org上</a>的说明进行<a href="https://gradle.org" class="bare">操作</a> 。</p>
</div>
<div class="paragraph">
<p>可以使用<code>org.springframework.boot</code><code>group</code> 。通常，您的项目声明对一个或多个<a href="using-spring-boot.html#using-boot-starter">“启动器”的</a>依赖。Spring Boot提供了一个有用的<a href="build-tool-plugins.html#build-tool-plugins-gradle-plugin">Gradle插件</a> ，可用于简化依赖项声明和创建可执行jar。</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">摇篮包装</div>
<div class="paragraph">
<p>当您需要构建项目时，Gradle包装器提供了一种“获取” Gradle的好方法。这是一个小的脚本和库，您随代码一起提交以引导构建过程。有关详细信息，请参见<a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html" class="bare">docs.gradle.org/current/userguide/gradle_wrapper.html</a> 。</p>
</div>
</div>
</div>
<div class="paragraph">
<p>有关Spring Boot和Gradle <a href="https://docs.spring.io/spring-boot/docs/2.2.1.RELEASE/gradle-plugin/reference/html//#getting-started">入门的</a>更多详细信息，可以在Gradle插件参考指南的“ <a href="https://docs.spring.io/spring-boot/docs/2.2.1.RELEASE/gradle-plugin/reference/html//#getting-started">入门”部分</a>中找到。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-installing-the-cli"><a class="anchor" href="#getting-started-installing-the-cli"></a> 3.2。安装Spring Boot CLI</h3>
<div class="paragraph">
<p>Spring Boot CLI（命令行界面）是一个命令行工具，可用于快速使用Spring进行原型设计。它使您可以运行<a href="http://groovy-lang.org/">Groovy</a>脚本，这意味着您具有类似Java的熟悉语法，而没有太多样板代码。</p>
</div>
<div class="paragraph">
<p>您无需使用CLI即可与Spring Boot一起使用，但这绝对是使Spring应用程序启动的最快方法。</p>
</div>
<div class="sect3">
<h4 id="getting-started-manual-cli-installation"><a class="anchor" href="#getting-started-manual-cli-installation"></a> 3.2.1。手动安装</h4>
<div class="paragraph">
<p>您可以从Spring软件存储库下载Spring CLI发行版：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://repo.spring.io/release/org/springframework/boot/spring-boot-cli/2.2.1.RELEASE/spring-boot-cli-2.2.1.RELEASE-bin.zip">spring-boot-cli-2.2.1。RELEASE-bin.zip</a></p>
</li>
<li>
<p><a href="https://repo.spring.io/release/org/springframework/boot/spring-boot-cli/2.2.1.RELEASE/spring-boot-cli-2.2.1.RELEASE-bin.tar.gz">spring-boot-cli-2.2.1。RELEASE-bin.tar.gz</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>也提供最先进的<a href="https://repo.spring.io/snapshot/org/springframework/boot/spring-boot-cli/">快照分发</a> 。</p>
</div>
<div class="paragraph">
<p>下载完成后，请按照解压缩后的归档文件中的<a href="https://raw.githubusercontent.com/spring-projects/spring-boot/v2.2.1.RELEASE/spring-boot-project/spring-boot-cli/src/main/content/INSTALL.txt">INSTALL.txt</a>说明进行操作。总而言之，有一个<code>spring</code>脚本（ <code>spring.bat</code>对于Windows） <code>bin/</code>目录中<code>.zip</code>文件。或者，您可以使用<code>java -jar</code>与<code>.jar</code>文件（脚本可帮助您确保正确设置类路径）。</p>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-sdkman-cli-installation"><a class="anchor" href="#getting-started-sdkman-cli-installation"></a> 3.2.2。使用SDKMAN安装！</h4>
<div class="paragraph">
<p>SDKMAN！（软件开发套件管理器）可用于管理各种二进制SDK的多个版本，包括Groovy和Spring Boot CLI。获取SDKMAN！从<a href="https://sdkman.io" class="bare">sdkman.io</a>并使用以下命令安装Spring Boot：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sdk install springboot
$ spring --version
Spring Boot v2.2.1.RELEASE</pre>
</div>
</div>
<div class="paragraph">
<p>如果您为CLI开发功能并希望轻松访问所构建的版本，请使用以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sdk install springboot dev /path/to/spring-boot/spring-boot-cli/target/spring-boot-cli-2.2.1.RELEASE-bin/spring-2.2.1.RELEASE/
$ sdk default springboot dev
$ spring --version
Spring CLI v2.2.1.RELEASE</pre>
</div>
</div>
<div class="paragraph">
<p>前面的说明安装了一个本地实例<code>spring</code>叫做<code>dev</code>实例。它指向您的目标构建位置，因此每次重新构建Spring Boot时， <code>spring</code>已是最新。</p>
</div>
<div class="paragraph">
<p>您可以通过运行以下命令来查看它：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sdk ls springboot

================================================================================
Available Springboot Versions
================================================================================
&gt; + dev
* 2.2.1.RELEASE

================================================================================
+ - local version
* - installed
&gt; - currently in use
================================================================================</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-homebrew-cli-installation"><a class="anchor" href="#getting-started-homebrew-cli-installation"></a> 3.2.3。OSX Homebrew安装</h4>
<div class="paragraph">
<p>如果您使用的是Mac，并且使用<a href="https://brew.sh/">Homebrew</a> ，则可以使用以下命令安装Spring Boot CLI：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ brew tap pivotal/tap
$ brew install springboot</pre>
</div>
</div>
<div class="paragraph">
<p>自家安装<code>spring</code>至<code>/usr/local/bin</code> 。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">如果看不到该公式，则说明brew的安装可能已过期。在这种情况下，运行<code>brew update</code>然后再试一次。
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-macports-cli-installation"><a class="anchor" href="#getting-started-macports-cli-installation"></a> 3.2.4。MacPorts安装</h4>
<div class="paragraph">
<p>如果您使用的是Mac并使用<a href="https://www.macports.org/">MacPorts</a> ，则可以使用以下命令安装Spring Boot CLI：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo port install spring-boot-cli</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-cli-command-line-completion"><a class="anchor" href="#getting-started-cli-command-line-completion"></a> 3.2.5。命令行补全</h4>
<div class="paragraph">
<p>Spring Boot CLI包括为<a href="https://en.wikipedia.org/wiki/Bash_%28Unix_shell%29">BASH</a>和<a href="https://en.wikipedia.org/wiki/Z_shell">zsh</a> Shell提供命令完成的脚本。您可以<code>source</code>脚本（也称为<code>spring</code> ）放在任何shell中，或放入您的个人或系统范围内的bash完成初始化中。在Debian系统上，系统级脚本位于<code>/shell-completion/bash</code>当启动新的Shell时，将执行该目录中的所有脚本。例如，如果使用SDKMAN！安装，则要手动运行脚本，请使用以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ . ~/.sdkman/candidates/springboot/current/shell-completion/bash/spring
$ spring &lt;HIT TAB HERE&gt;
  grab  help  jar  run  test  version</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">如果使用Homebrew或MacPorts安装Spring Boot CLI，则命令行完成脚本会自动注册到您的Shell中。
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-scoop-cli-installation"><a class="anchor" href="#getting-started-scoop-cli-installation"></a> 3.2.6。Windows Scoop安装</h4>
<div class="paragraph">
<p>如果您使用的是Windows并使用<a href="https://scoop.sh/">Scoop</a> ，则可以使用以下命令安装Spring Boot CLI：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; scoop bucket add extras
&gt; scoop install springboot</pre>
</div>
</div>
<div class="paragraph">
<p>独家安装<code>spring</code>至<code>~/scoop/apps/springboot/current/bin</code> 。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">如果您没有看到应用清单，则可能是因为瓢的安装已过期。在这种情况下，运行<code>scoop update</code>然后再试一次。
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-cli-example"><a class="anchor" href="#getting-started-cli-example"></a> 3.2.7。快速入门Spring CLI示例</h4>
<div class="paragraph">
<p>您可以使用以下Web应用程序来测试安装。首先，创建一个名为<code>app.groovy</code> ， 如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">@RestController
class ThisWillActuallyRun {

    @RequestMapping("/")
    String home() {
        "Hello World!"
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>然后从外壳运行它，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring run app.groovy</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">您的应用程序的首次运行速度很慢，因为依赖项已下载。随后的运行要快得多。
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>打开<code><a href="http://localhost:8080" class="bare">localhost:8080</a></code>在您喜欢的网络浏览器中。您应该看到以下输出：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello World!</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-upgrading-from-an-earlier-version"><a class="anchor" href="#getting-started-upgrading-from-an-earlier-version"></a> 3.3。从较早版本的Spring Boot升级</h3>
<div class="paragraph">
<p>如果您要从<code>1.x</code>要发布Spring Boot，请查看<a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide">项目Wiki上</a>的<a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide">“迁移指南”，该指南</a>提供了详细的升级说明。还请检查<a href="https://github.com/spring-projects/spring-boot/wiki">“发行说明”</a>以获取每个发行版的“新功能和值得注意的功能”列表。</p>
</div>
<div class="paragraph">
<p>升级到新功能版本时，某些属性可能已被重命名或删除。Spring Boot提供了一种在启动时分析应用程序环境并打印诊断的方法，而且还可以在运行时为您临时迁移属性。要启用该功能，请将以下依赖项添加到您的项目中：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="警告"></i>
</td>
<td class="content">稍后添加到环境中的属性，例如使用时<code>@PropertySource</code> ，不会被考虑在内。
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">迁移完成后，请确保从项目的依赖项中删除此模块。
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>要升级现有的CLI安装，请使用适当的程序包管理器命令（例如， <code>brew upgrade</code> ）。如果您手动安装了CLI，请按照<a href="#getting-started-manual-cli-installation">标准说明进行操作</a> ，并记住要更新<code>PATH</code>环境变量以删除任何较旧的引用。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started-first-application"><a class="anchor" href="#getting-started-first-application"></a> 4。开发您的第一个Spring Boot应用程序</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本节介绍如何开发一个简单的“ Hello World！”。Web应用程序，重点介绍了Spring Boot的一些关键功能。我们使用Maven来构建该项目，因为大多数IDE都支持它。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="小费"></i>
</td>
<td class="content">
<div class="paragraph">
<p><a href="https://spring.io">spring.io</a>网站包含许多使用Spring Boot的“入门” <a href="https://spring.io/guides">指南</a> 。如果您需要解决特定的问题，请首先检查。</p>
</div>
<div class="paragraph">
<p>通过转到<a href="https://start.spring.io" class="bare">start.spring.io</a>并从依赖项搜索器中选择“ Web”启动器，可以简化以下步骤。这样做会生成一个新的项目结构，以便您可以<a href="#getting-started-first-application-code">立即开始编码</a> 。查看<a href="https://docs.spring.io/initializr/docs/current/reference/html//#user-guide">Spring Initializr文档</a>以获取更多详细信息。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>在开始之前，请打开终端并运行以下命令，以确保安装了有效的Java和Maven版本：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ java -version
java version "1.8.0_102"
Java(TM) SE Runtime Environment (build 1.8.0_102-b14)
Java HotSpot(TM) 64-Bit Server VM (build 25.102-b14, mixed mode)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn -v
Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-17T14:33:14-04:00)
Maven home: /usr/local/Cellar/maven/3.3.9/libexec
Java version: 1.8.0_102, vendor: Oracle Corporation</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">该示例需要在其自己的文件夹中创建。随后的说明假定您已经创建了一个合适的文件夹，并且它是当前目录。
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="getting-started-first-application-pom"><a class="anchor" href="#getting-started-first-application-pom"></a> 4.1。创建POM</h3>
<div class="paragraph">
<p>我们需要先创建一个Maven <code>pom.xml</code>文件。的<code>pom.xml</code>是用于构建项目的配方。打开您喜欢的文本编辑器并添加以下内容：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;myproject&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;
    &lt;/parent&gt;

    &lt;description/&gt;
    &lt;developers&gt;
        &lt;developer/&gt;
    &lt;/developers&gt;
    &lt;licenses&gt;
        &lt;license/&gt;
    &lt;/licenses&gt;
    &lt;scm&gt;
        &lt;url/&gt;
    &lt;/scm&gt;
    &lt;url/&gt;

    &lt;!-- Additional lines to be added here... --&gt;

&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>上面的清单应为您提供有效的构建。您可以通过运行来测试<code>mvn package</code> （目前，您可以忽略“ jar将为空-没有标记为包含内容！”警告）。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">此时，您可以将项目导入IDE（大多数现代Java IDE都包含对Maven的内置支持）。为简单起见，我们在此示例中继续使用纯文本编辑器。
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-first-application-dependencies"><a class="anchor" href="#getting-started-first-application-dependencies"></a> 4.2。添加类路径依赖</h3>
<div class="paragraph">
<p>Spring Boot提供了许多“启动器”，使您可以将jar添加到类路径中。我们的烟雾测试应用程序使用<code>spring-boot-starter-parent</code>在里面<code>parent</code> POM部分。的<code>spring-boot-starter-parent</code>是一个特殊的启动器，提供有用的Maven默认值。它还提供了<a href="using-spring-boot.html#using-boot-dependency-management"><code>dependency-management</code></a>部分，以便您可以省略<code>version</code>标记“祝福”的依赖项。</p>
</div>
<div class="paragraph">
<p>其他“入门”提供了在开发特定类型的应用程序时可能需要的依赖项。由于我们正在开发Web应用程序，因此我们添加了<code>spring-boot-starter-web</code>依赖性。在此之前，我们可以通过运行以下命令来查看当前的状态：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn dependency:tree

[INFO] com.example:myproject:jar:0.0.1-SNAPSHOT</pre>
</div>
</div>
<div class="paragraph">
<p>的<code>mvn dependency:tree</code>命令打印项目依赖关系的树形表示。你可以看到<code>spring-boot-starter-parent</code>本身不提供依赖项。要添加必要的依赖项，请编辑<code>pom.xml</code>并添加<code>spring-boot-starter-web</code>依赖关系直接在<code>parent</code>部分：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果你跑<code>mvn dependency:tree</code>再次，您看到现在还有许多其他依赖项，包括Tomcat Web服务器和Spring Boot本身。</p>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-first-application-code"><a class="anchor" href="#getting-started-first-application-code"></a> 4.3。编写代码</h3>
<div class="paragraph">
<p>要完成我们的应用程序，我们需要创建一个Java文件。默认情况下，Maven编译源<code>src/main/java</code> ，因此您需要创建该文件夹结构，然后添加一个名为<code>src/main/java/Example.java</code>包含以下代码：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.springframework.boot.*;
import org.springframework.boot.autoconfigure.*;
import org.springframework.web.bind.annotation.*;

@RestController
@EnableAutoConfiguration
public class Example {

    @RequestMapping("/")
    String home() {
        return "Hello World!";
    }

    public static void main(String[] args) {
        SpringApplication.run(Example.class, args);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>尽管这里没有太多代码，但是正在发生很多事情。我们将在接下来的几节中逐步介绍重要部分。</p>
</div>
<div class="sect3">
<h4 id="getting-started-first-application-annotations"><a class="anchor" href="#getting-started-first-application-annotations"></a> 4.3.1。@RestController和@RequestMapping注释</h4>
<div class="paragraph">
<p>我们的第一个注释<code>Example</code>类是<code>@RestController</code> 。这被称为<em>构造型</em>注释。它为人们阅读代码提供了提示，对于Spring来说，类扮演了特定角色。在这种情况下，我们的课程是一个网络<code>@Controller</code> ，因此Spring在处理传入的Web请求时会考虑使用它。</p>
</div>
<div class="paragraph">
<p>的<code>@RequestMapping</code>注释提供“路由”信息。它告诉Spring任何带有<code>/</code>路径应映射到<code>home</code>方法。的<code>@RestController</code>批注告诉Spring将结果字符串直接呈现回调用方。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="小费"></i>
</td>
<td class="content">的<code>@RestController</code>和<code>@RequestMapping</code>注释是Spring MVC注释（它们并非特定于Spring Boot）。有关更多详细信息，请参见Spring参考文档中的<a href="https://docs.spring.io/spring/docs/5.2.1.RELEASE/spring-framework-reference/web.html#mvc">MVC部分</a> 。
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-first-application-auto-configuration"><a class="anchor" href="#getting-started-first-application-auto-configuration"></a> 4.3.2。@EnableAutoConfiguration批注</h4>
<div class="paragraph">
<p>第二个类级别的注释是<code>@EnableAutoConfiguration</code> 。这个注释告诉Spring Boot根据所添加的jar依赖关系“猜测”您如何配置Spring。以来<code>spring-boot-starter-web</code>添加了Tomcat和Spring MVC之后，自动配置假定您正在开发Web应用程序并相应地设置Spring。</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">启动器和自动配置</div>
<div class="paragraph">
<p>自动配置旨在与“启动器”配合使用，但是这两个概念并没有直接联系在一起。您可以在启动程序之外自由选择jar依赖项。Spring Boot仍会尽其所能自动配置您的应用程序。</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-first-application-main-method"><a class="anchor" href="#getting-started-first-application-main-method"></a> 4.3.3。“主要”方法</h4>
<div class="paragraph">
<p>我们应用程序的最后一部分是<code>main</code>方法。这只是遵循Java约定的应用程序入口点的标准方法。我们的主要方法委托给Spring Boot的<code>SpringApplication</code>打电话上课<code>run</code> 。
<code>SpringApplication</code>引导我们的应用程序，启动Spring，这反过来又启动了自动配置的Tomcat Web服务器。我们需要通过<code>Example.class</code>作为对<code>run</code>告诉方法<code>SpringApplication</code>这是主要的Spring组件。的<code>args</code>数组也通过传递以公开任何命令行参数。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-first-application-run"><a class="anchor" href="#getting-started-first-application-run"></a> 4.4。运行示例</h3>
<div class="paragraph">
<p>此时，您的应用程序应该可以工作了。由于您使用了<code>spring-boot-starter-parent</code> POM，您有用<code>run</code>您可以用来启动应用程序的目标。类型<code>mvn spring-boot:run</code>从根项目目录启动应用程序。您应该看到类似于以下内容的输出：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:run

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::  (v2.2.1.RELEASE)
....... . . .
....... . . . (log output here)
....... . . .
........ Started Example in 2.222 seconds (JVM running for 6.514)</pre>
</div>
</div>
<div class="paragraph">
<p>如果您打开网络浏览器来<code><a href="http://localhost:8080" class="bare">localhost:8080</a></code> ，您应该看到以下输出：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hello World!</pre>
</div>
</div>
<div class="paragraph">
<p>要正常退出该应用程序，请按<code>ctrl-c</code> 。</p>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-first-application-executable-jar"><a class="anchor" href="#getting-started-first-application-executable-jar"></a> 4.5。创建一个可执行的Jar</h3>
<div class="paragraph">
<p>通过创建可以在生产环境中运行的完全独立的可执行jar文件来结束示例。可执行jar（有时称为“胖jar”）是包含您的已编译类以及代码需要运行的所有jar依赖项的归档文件。</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">可执行jar和Java</div>
<div class="paragraph">
<p>Java没有提供加载嵌套jar文件（jar中本身包含的jar文件）的标准方法。如果您要分发独立的应用程序，则可能会出现问题。</p>
</div>
<div class="paragraph">
<p>为了解决这个问题，许多开发人员使用“超级”罐子。uber jar将来自应用程序所有依赖项的所有类打包到单个存档中。这种方法的问题在于，很难查看应用程序中包含哪些库。如果在多个jar中使用相同的文件名（但具有不同的内容），也可能会产生问题。</p>
</div>
<div class="paragraph">
<p>Spring Boot采用了<a href="appendix-executable-jar-format.html#executable-jar">另一种方法</a> ，实际上允许您直接嵌套jar。</p>
</div>
</div>
</div>
<div class="paragraph">
<p>要创建可执行jar，我们需要添加<code>spring-boot-maven-plugin</code>对我们的<code>pom.xml</code> 。为此，请在<code>dependencies</code>部分：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">的<code>spring-boot-starter-parent</code> POM包括<code><executions></code>配置以绑定<code>repackage</code>目标。如果不使用父POM，则需要自己声明此配置。有关详细信息，请参见<a href="https://docs.spring.io/spring-boot/docs/2.2.1.RELEASE/maven-plugin//usage.html">插件文档</a> 。
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>保存你的<code>pom.xml</code>并运行<code>mvn package</code>从命令行，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn package

[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building myproject 0.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] .... ..
[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ myproject ---
[INFO] Building jar: /Users/developer/example/spring-boot-example/target/myproject-0.0.1-SNAPSHOT.jar
[INFO]
[INFO] --- spring-boot-maven-plugin:2.2.1.RELEASE:repackage (default) @ myproject ---
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------</pre>
</div>
</div>
<div class="paragraph">
<p>如果你看着<code>target</code>目录，您应该看到<code>myproject-0.0.1-SNAPSHOT.jar</code> 。该文件的大小应为10 MB左右。如果您想窥视里面，可以使用<code>jar tvf</code> ， 如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ jar tvf target/myproject-0.0.1-SNAPSHOT.jar</pre>
</div>
</div>
<div class="paragraph">
<p>您还应该看到一个更小的文件，名为<code>myproject-0.0.1-SNAPSHOT.jar.original</code>在里面<code>target</code>目录。这是Maven在Spring Boot重新打包之前创建的原始jar文件。</p>
</div>
<div class="paragraph">
<p>要运行该应用程序，请使用<code>java -jar</code>命令，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ java -jar target/myproject-0.0.1-SNAPSHOT.jar

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::  (v2.2.1.RELEASE)
....... . . .
....... . . . (log output here)
....... . . .
........ Started Example in 2.536 seconds (JVM running for 2.864)</pre>
</div>
</div>
<div class="paragraph">
<p>和以前一样，要退出该应用程序，请按<code>ctrl-c</code> 。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started-whats-next"><a class="anchor" href="#getting-started-whats-next"></a> 5，接下来要读什么</h2>
<div class="sectionbody">
<div class="paragraph">
<p>希望本节提供了一些Spring Boot基础知识，并带您开始编写自己的应用程序。如果您是面向任务的开发人员，则可能要跳到<a href="https://spring.io" class="bare">spring.io</a>并查看一些解决特定“我如何使用Spring进行操作”的<a href="https://spring.io/guides/">入门</a>指南。问题。我们也有特定<a href="howto.html#howto">于</a> Spring Boot的“ <a href="howto.html#howto">操作方法</a> ”参考文档。</p>
</div>
<div class="paragraph">
<p>否则，下一个逻辑步骤是阅读<em><a href="using-spring-boot.html#using-boot">using-spring-boot.html</a></em> 。如果您真的不耐烦，还可以继续阅读有关<em><a href="spring-boot-features.html#boot-features">Spring Boot功能的信息</a></em> 。</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">最近更新时间2019-11-06 21:59:20 UTC</div>
</div>
<script type="text/javascript" src="js/tocbot/tocbot.min.js"></script>
<script type="text/javascript" src="js/toc.js"></script>
<link rel="stylesheet" href="js/highlight/styles/github.min.css">
<script src="js/highlight/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>

</body></html>