<!DOCTYPE html>
<html lang="zh-Hans" ><head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<title>配置元数据</title>
<link rel="stylesheet" href="css/spring.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


</head><body id="configuration-metadata" class="book toc2 toc-left" ><div id="header">
<h1>配置元数据</h1>
<div id="toc" class="toc2">
<div id="toctitle">目录</div>
<ul class="sectlevel1">
<li><a href="#configuration-metadata-format">1。元数据格式</a>
<ul class="sectlevel2">
<li><a href="#configuration-metadata-group-attributes">1.1。组属性</a></li>
<li><a href="#configuration-metadata-property-attributes">1.2。属性属性</a></li>
<li><a href="#configuration-metadata-hints-attributes">1.3。提示属性</a></li>
<li><a href="#configuration-metadata-repeated-items">1.4。重复的元数据项</a></li>
</ul>
</li>
<li><a href="#configuration-metadata-providing-manual-hints">2。提供手动提示</a>
<ul class="sectlevel2">
<li><a href="#value-hint">2.1。价值提示</a></li>
<li><a href="#value-providers">2.2。价值提供者</a>
<ul class="sectlevel3">
<li><a href="#any">2.2.1。任何</a></li>
<li><a href="#class-reference">2.2.2。类参考</a></li>
<li><a href="#handle-as">2.2.3。处理为</a></li>
<li><a href="#logger-name">2.2.4。记录仪名称</a></li>
<li><a href="#spring-bean-reference">2.2.5。Spring Bean参考</a></li>
<li><a href="#spring-profile-name">2.2.6。春季资料名称</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#configuration-metadata-annotation-processor">3。使用注释处理器生成您自己的元数据</a>
<ul class="sectlevel2">
<li><a href="#configuration-metadata-nested-properties">3.1。嵌套属性</a></li>
<li><a href="#configuration-metadata-additional-metadata">3.2。添加其他元数据</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Spring Boot jar包含元数据文件，这些文件提供了所有受支持的配置属性的详细信息。这些文件旨在让IDE开发人员在用户使用时提供上下文帮助和“代码完成”。 <code>application.properties</code>要么<code>application.yml</code>文件。</p>
</div>
<div class="paragraph">
<p>元数据文件的大部分是在编译时通过处理带有注释的所有项目自动生成的<code>@ConfigurationProperties</code> 。但是，对于极端情况或更高级的用例， <a href="#configuration-metadata-additional-metadata">可以手动编写部分元数据</a> 。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-metadata-format"><a class="anchor" href="#configuration-metadata-format"></a> 1。元数据格式</h2>
<div class="sectionbody">
<div class="paragraph">
<p>配置元数据文件位于jars下<code>META-INF/spring-configuration-metadata.json</code> 。他们使用简单的JSON格式，将项目归类为“组”或“属性”，并将其他值提示归类为“提示”，如以下示例所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"groups": [
    {
        "name": "server",
        "type": "org.springframework.boot.autoconfigure.web.ServerProperties",
        "sourceType": "org.springframework.boot.autoconfigure.web.ServerProperties"
    },
    {
        "name": "spring.jpa.hibernate",
        "type": "org.springframework.boot.autoconfigure.orm.jpa.JpaProperties$Hibernate",
        "sourceType": "org.springframework.boot.autoconfigure.orm.jpa.JpaProperties",
        "sourceMethod": "getHibernate()"
    }
    ...
],"properties": [
    {
        "name": "server.port",
        "type": "java.lang.Integer",
        "sourceType": "org.springframework.boot.autoconfigure.web.ServerProperties"
    },
    {
        "name": "server.address",
        "type": "java.net.InetAddress",
        "sourceType": "org.springframework.boot.autoconfigure.web.ServerProperties"
    },
    {
          "name": "spring.jpa.hibernate.ddl-auto",
          "type": "java.lang.String",
          "description": "DDL mode. This is actually a shortcut for the \"hibernate.hbm2ddl.auto\" property.",
          "sourceType": "org.springframework.boot.autoconfigure.orm.jpa.JpaProperties$Hibernate"
    }
    ...
],"hints": [
    {
        "name": "spring.jpa.hibernate.ddl-auto",
        "values": [
            {
                "value": "none",
                "description": "Disable DDL handling."
            },
            {
                "value": "validate",
                "description": "Validate the schema, make no changes to the database."
            },
            {
                "value": "update",
                "description": "Update the schema if necessary."
            },
            {
                "value": "create",
                "description": "Create the schema and destroy previous data."
            },
            {
                "value": "create-drop",
                "description": "Create and then destroy the schema at the end of the session."
            }
        ]
    }
]}</code></pre>
</div>
</div>
<div class="paragraph">
<p>每个“属性”都是用户使用给定值指定的配置项。例如， <code>server.port</code>和<code>server.address</code>可能在<code>application.properties</code> ， 如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">server.port=9090
server.address=127.0.0.1</code></pre>
</div>
</div>
<div class="paragraph">
<p>“组”是更高级别的项目，它们本身并不指定值，而是提供属性的上下文分组。例如， <code>server.port</code>和<code>server.address</code>属性是<code>server</code>组。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">不需要每个“属性”都有一个“组”。某些属性可能本身就存在。
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>最后，“提示”是用于帮助用户配置给定属性的其他信息。例如，当开发人员正在配置<code>spring.jpa.hibernate.ddl-auto</code>属性，工具可以使用提示为<code>none</code> ， <code>validate</code> ， <code>update</code> ， <code>create</code>和<code>create-drop</code>价值观。</p>
</div>
<div class="sect2">
<h3 id="configuration-metadata-group-attributes"><a class="anchor" href="#configuration-metadata-group-attributes"></a> 1.1。组属性</h3>
<div class="paragraph">
<p>包含在<code>groups</code>数组可以包含下表中显示的属性：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:16.6666%">
<col style="width:16.6666%">
<col style="width:66.6668%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">名称</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">目的</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">组的全名。此属性是必需的。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">组数据类型的类名。例如，如果该组基于带注释的类<code>@ConfigurationProperties</code> ，该属性将包含该类的完全限定名称。如果是基于<code>@Bean</code>方法，它将是该方法的返回类型。如果类型未知，则可以省略该属性。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">可以显示给用户的组的简短描述。如果没有可用的描述，则可以省略。建议使用简短的描述，第一行提供简要的摘要。说明中的最后一行应以句号（ <code>.</code> ）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourceType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">贡献此组的源的类名。例如，如果该组基于<code>@Bean</code>用注释的方法<code>@ConfigurationProperties</code> ，此属性将包含的全限定名<code>@Configuration</code>包含方法的类。如果源类型未知，则可以省略该属性。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourceMethod</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">促成该组的方法的全名（包括括号和参数类型）（例如， <code>@ConfigurationProperties</code>带注释<code>@Bean</code>方法）。如果源方法未知，则可以省略。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="configuration-metadata-property-attributes"><a class="anchor" href="#configuration-metadata-property-attributes"></a> 1.2。属性属性</h3>
<div class="paragraph">
<p>包含在<code>properties</code>数组可以包含下表中描述的属性：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:16.6666%">
<col style="width:16.6666%">
<col style="width:66.6668%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">名称</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">目的</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">属性的全名。名称采用小写的句点分隔符（例如， <code>server.address</code> ）。此属性是必需的。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">属性数据类型的完整签名（例如， <code>java.lang.String</code> ），也可以是完整的泛型类型（例如<code>java.util.Map<java.util.String,acme.MyEnum></code> ）。您可以使用此属性指导用户输入的值的类型。为了保持一致，通过使用包装的对应对象来指定基本类型（例如， <code>boolean</code>变成<code>java.lang.Boolean</code> ）。请注意，此类可能是从<code>String</code>值绑定。如果类型未知，则可以省略。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">可以显示给用户的属性的简短描述。如果没有可用的描述，则可以省略。建议使用简短的描述，第一行提供简要的摘要。说明中的最后一行应以句号（ <code>.</code> ）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourceType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">贡献此属性的源的类名。例如，如果属性来自带有注释的类<code>@ConfigurationProperties</code> ，此属性将包含该类的完全限定名称。如果源类型未知，则可以省略。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>defaultValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">宾语</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">默认值，如果未指定该属性，则使用该默认值。如果属性的类型是数组，则它可以是值的数组。如果默认值未知，则可以省略。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deprecation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">弃用</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定是否不推荐使用该属性。如果不建议使用该字段，或者该信息未知，则可以将其省略。下表提供了有关<code>deprecation</code>属性。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>包含在<code>deprecation</code>每个属性<code>properties</code>元素可以包含以下属性：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:16.6666%">
<col style="width:16.6666%">
<col style="width:66.6668%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">名称</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">目的</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>level</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">弃用级别，可以是<code>warning</code> （默认）或<code>error</code> 。当物业有<code>warning</code>弃用级别，它仍应绑定在环境中。但是，当它具有<code>error</code>弃用级别，该属性将不再受管理且未绑定。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reason</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">对不推荐使用该属性的原因的简短描述。如果没有任何理由，则可以省略。建议使用简短的描述，第一行提供简要的摘要。说明中的最后一行应以句号（ <code>.</code> ）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>replacement</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>替换</em>此不推荐使用的属性的属性的全名。如果无法替代此属性，则可以省略。</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">在Spring Boot 1.3之前， <code>deprecated</code>可以使用boolean属性代替<code>deprecation</code>元件。仍然以不推荐的方式支持此功能，并且不应再使用它。如果没有原因和替换可用，则为空<code>deprecation</code>应该设置对象。
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>弃用也可以在代码中以声明方式指定，方法是添加<code>@DeprecatedConfigurationProperty</code>给getter的注释，暴露不推荐使用的属性。例如，假设<code>app.acme.target</code>属性令人困惑，并被重命名为<code>app.acme.name</code> 。以下示例显示了如何处理这种情况：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigurationProperties("app.acme")
public class AcmeProperties {

    private String name;

    public String getName() { ... }

    public void setName(String name) { ... }

    @DeprecatedConfigurationProperty(replacement = "app.acme.name")
    @Deprecated
    public String getTarget() {
        return getName();
    }

    @Deprecated
    public void setTarget(String target) {
        setName(target);
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">无法设置一个<code>level</code> 。
<code>warning</code>由于代码仍在处理该属性，因此始终假定使用。
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>前面的代码确保不推荐使用的属性仍然有效（委托给<code>name</code>幕后的财产）。一旦<code>getTarget</code>和<code>setTarget</code>可以从您的公共API中删除方法，元数据中的自动弃用提示也将消失。如果要保持提示，请添加带有<code>error</code>弃用级别可确保仍通知用户该属性。当以下情况时，这样做特别有用<code>replacement</code>提供。</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-metadata-hints-attributes"><a class="anchor" href="#configuration-metadata-hints-attributes"></a> 1.3。提示属性</h3>
<div class="paragraph">
<p>包含在<code>hints</code>数组可以包含下表中显示的属性：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:16.6666%">
<col style="width:16.6666%">
<col style="width:66.6668%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">名称</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">目的</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">该提示所引用的属性的全名。名称采用小写的句点分隔形式（例如<code>spring.mvc.servlet.path</code> ）。如果属性引用的是地图（例如<code>system.contexts</code> ），则提示要么应用于地图的<em>键</em> （ <code>system.contexts.keys</code> ）或<em>值</em> （ <code>system.contexts.values</code> ）的地图。此属性是必需的。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>values</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueHint []</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">有效值列表，由<code>ValueHint</code>对象（在下表中描述）。每个条目都定义该值，并且可以具有描述。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>providers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueProvider []</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">提供商定义的提供商列表<code>ValueProvider</code>对象（在本文档的后面部分介绍）。每个条目定义提供者的名称及其参数（如果有）。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>包含在<code>values</code>每个属性<code>hint</code>元素可以包含下表中描述的属性：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:16.6666%">
<col style="width:16.6666%">
<col style="width:66.6668%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">名称</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">目的</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">宾语</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">提示所引用元素的有效值。如果属性的类型是数组，则它也可以是值的数组。此属性是必需的。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">可以显示给用户的值的简短描述。如果没有可用的描述，则可以省略。建议使用简短的描述，第一行提供简要的摘要。说明中的最后一行应以句号（ <code>.</code> ）。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>包含在<code>providers</code>每个属性<code>hint</code>元素可以包含下表中描述的属性：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:16.6666%">
<col style="width:16.6666%">
<col style="width:66.6668%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">名称</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">目的</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">串</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于为提示所引用的元素提供附加内容帮助的提供者的名称。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>parameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON对象</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">提供程序支持的任何其他参数（有关更多详细信息，请参阅提供程序的文档）。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="configuration-metadata-repeated-items"><a class="anchor" href="#configuration-metadata-repeated-items"></a> 1.4。重复的元数据项</h3>
<div class="paragraph">
<p>具有相同“属性”和“组”名称的对象可以在元数据文件中多次出现。例如，您可以将两个单独的类绑定到同一前缀，每个类具有可能重叠的属性名称。虽然相同的名称多次出现在元数据中应该不常见，但元数据的使用者应注意确保它们支持该名称。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-metadata-providing-manual-hints"><a class="anchor" href="#configuration-metadata-providing-manual-hints"></a> 2。提供手动提示</h2>
<div class="sectionbody">
<div class="paragraph">
<p>为了改善用户体验并进一步帮助用户配置给定属性，您可以提供其他元数据，这些元数据可以：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>描述属性的潜在值列表。</p>
</li>
<li>
<p>关联提供程序，以将定义良好的语义附加到属性，以便工具可以根据项目的上下文发现潜在值的列表。</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="value-hint"><a class="anchor" href="#value-hint"></a> 2.1。价值提示</h3>
<div class="paragraph">
<p>的<code>name</code>每个提示的属性指的是<code>name</code>财产。在<a href="#configuration-metadata-format">前面显示</a>的<a href="#configuration-metadata-format">初始示例中</a> ，我们为<code>spring.jpa.hibernate.ddl-auto</code>属性： <code>none</code> ， <code>validate</code> ， <code>update</code> ， <code>create</code>和<code>create-drop</code> 。每个值也可以具有描述。</p>
</div>
<div class="paragraph">
<p>如果您的财产属于类型<code>Map</code> ，您可以提供键和值的提示（但不提供地图本身的提示）。特别的<code>.keys</code>和<code>.values</code>后缀必须分别指代键和值。</p>
</div>
<div class="paragraph">
<p>假设一个<code>sample.contexts</code>地图魔术<code>String</code>值转换为整数，如以下示例所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigurationProperties("sample")
public class SampleProperties {

    private Map&lt;String,Integer&gt; contexts;
    // getters and setters
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>魔术值（在此示例中）为<code>sample1</code>和<code>sample2</code> 。为了提供有关键的其他内容帮助，您可以将以下JSON添加到<a href="#configuration-metadata-additional-metadata">模块的手动元数据中</a> ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"hints": [
    {
        "name": "sample.contexts.keys",
        "values": [
            {
                "value": "sample1"
            },
            {
                "value": "sample2"
            }
        ]
    }
]}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="小费"></i>
</td>
<td class="content">我们建议您使用<code>Enum</code>取而代之的是这两个值。如果您的IDE支持，则这是迄今为止最有效的自动完成方法。
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="value-providers"><a class="anchor" href="#value-providers"></a> 2.2。价值提供者</h3>
<div class="paragraph">
<p>提供程序是将语义附加到属性的有效方法。在本节中，我们定义了可用于您自己的提示的官方提供程序。但是，您最喜欢的IDE可能只实现其中一些，也可能不实现。而且，它最终可以提供自己的。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">由于这是一项新功能，IDE供应商必须赶上它的工作方式。采用时间自然会有所不同。
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>下表总结了受支持的提供程序的列表：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:33.3333%">
<col style="width:66.6667%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">名称</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>any</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">允许提供任何附加值。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>class-reference</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">自动完成项目中可用的类。通常受制于指定的基类<code>target</code>参数。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>handle-as</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">处理属性，就好像它是由强制性定义的类型定义的一样<code>target</code>参数。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logger-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">自动完成有效的记录器名称和<a href="spring-boot-features.html#boot-features-custom-log-groups">记录器组</a> 。通常，可以自动完成当前项目中可用的包和类名以及定义的组。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-bean-reference</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">自动完成当前项目中的可用bean名称。通常受制于指定的基类<code>target</code>参数。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-profile-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">自动完成项目中可用的Spring概要文件名称。</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="小费"></i>
</td>
<td class="content">对于给定的属性，只有一个提供程序可以处于活动状态，但是如果它们都可以通过<em>某种方式</em>管理该属性<em>，</em>则可以指定多个提供程序。确保将最强大的提供程序放在首位，因为IDE必须使用它可以处理的JSON部分中的第一个。如果不支持给定属性的提供程序，则也不提供特殊的内容帮助。
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="any"><a class="anchor" href="#any"></a> 2.2.1。任何</h4>
<div class="paragraph">
<p>特殊的<strong>任何</strong>提供程序值允许提供任何其他值。如果支持，则应基于属性类型进行常规值验证。</p>
</div>
<div class="paragraph">
<p>如果您具有值列表，并且任何其他值仍应视为有效，则通常使用此提供程序。</p>
</div>
<div class="paragraph">
<p>以下示例提供<code>on</code>和<code>off</code>作为自动完成值<code>system.state</code> ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"hints": [
    {
        "name": "system.state",
        "values": [
            {
                "value": "on"
            },
            {
                "value": "off"
            }
        ],
        "providers": [
            {
                "name": "any"
            }
        ]
    }
]}</code></pre>
</div>
</div>
<div class="paragraph">
<p>注意，在前面的示例中，还允许任何其他值。</p>
</div>
</div>
<div class="sect3">
<h4 id="class-reference"><a class="anchor" href="#class-reference"></a> 2.2.2。类参考</h4>
<div class="paragraph">
<p><strong>类引用</strong>提供程序自动完成项目中可用的类。此提供程序支持以下参数：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:12.5%">
<col style="width:12.5%">
<col style="width:25%">
<col style="width:50%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">参数</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">默认值</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>target</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code> （ <code>Class</code> ）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>没有</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">应分配给所选值的类的完全限定名称。通常用于过滤掉非候选类。请注意，可以通过暴露具有适当上限的类来由类型本身提供此信息。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>concrete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">真正</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定是否仅将具体类视为有效候选者。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>以下元数据片段对应于标准<code>server.servlet.jsp.class-name</code>定义<code>JspServlet</code>要使用的类名称：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"hints": [
    {
        "name": "server.servlet.jsp.class-name",
        "providers": [
            {
                "name": "class-reference",
                "parameters": {
                    "target": "javax.servlet.http.HttpServlet"
                }
            }
        ]
    }
]}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="handle-as"><a class="anchor" href="#handle-as"></a> 2.2.3。处理为</h4>
<div class="paragraph">
<p><strong>handle-as</strong>提供程序使您可以将属性的类型替换为更高级的类型。通常，当属性具有<code>java.lang.String</code>类型，因为您不希望配置类依赖于可能不在类路径中的类。此提供程序支持以下参数：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:12.5%">
<col style="width:12.5%">
<col style="width:25%">
<col style="width:50%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">参数</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">默认值</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>target</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code> （ <code>Class</code> ）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>没有</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">要为属性考虑的类型的标准名称。此参数是必需的。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>可以使用以下类型：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>任何<code>java.lang.Enum</code> ：列出属性的可能值。（我们建议使用<code>Enum</code>类型，因为IDE不需要其他提示即可自动完成值）</p>
</li>
<li>
<p><code>java.nio.charset.Charset</code> ：支持字符集/编码值（例如<code>UTF-8</code> ）</p>
</li>
<li>
<p><code>java.util.Locale</code> ：自动完成语言环境（例如<code>en_US</code> ）</p>
</li>
<li>
<p><code>org.springframework.util.MimeType</code> ：支持内容类型值的自动完成（例如<code>text/plain</code> ）</p>
</li>
<li>
<p><code>org.springframework.core.io.Resource</code> ：支持自动完成Spring的Resource抽象，以引用文件系统或类路径上的文件（例如<code>classpath:/sample.properties</code> ）</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="小费"></i>
</td>
<td class="content">如果可以提供多个值，请使用<code>Collection</code>或<em>数组</em>类型来向IDE教授有关它的信息。
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>以下元数据片段对应于标准<code>spring.liquibase.change-log</code>定义要使用的更改日志的路径的属性。实际上在内部用作<code>org.springframework.core.io.Resource</code>但不能这样公开，因为我们需要保留原始的String值以将其传递给Liquibase API。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"hints": [
    {
        "name": "spring.liquibase.change-log",
        "providers": [
            {
                "name": "handle-as",
                "parameters": {
                    "target": "org.springframework.core.io.Resource"
                }
            }
        ]
    }
]}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="logger-name"><a class="anchor" href="#logger-name"></a> 2.2.4。记录仪名称</h4>
<div class="paragraph">
<p><strong>记录器名称</strong>提供程序会自动完成有效的记录器名称和<a href="spring-boot-features.html#boot-features-custom-log-groups">记录器组</a> 。通常，可以自动完成当前项目中可用的程序包和类名。如果启用了组（默认），并且在配置中标识了自定义记录程序组，则应为其提供自动完成功能。特定的框架可能还具有其他可以支持的魔术记录器名称。</p>
</div>
<div class="paragraph">
<p>此提供程序支持以下参数：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:12.5%">
<col style="width:12.5%">
<col style="width:25%">
<col style="width:50%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">参数</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">默认值</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>group</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定是否应考虑已知组。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>由于记录器名称可以是任意名称，因此该提供程序应允许使用任何值，但可以突出显示项目的类路径中不可用的有效程序包和类名称。</p>
</div>
<div class="paragraph">
<p>以下元数据片段对应于标准<code>logging.level</code>属性。键是<em>记录器名称</em> ，值对应于标准日志级别或任何自定义级别。当Spring Boot开箱即用地定义了一些记录器组时，已经为它们添加了专用的值提示。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"hints": [
    {
        "name": "logging.level.keys",
        "values": [
            {
                "value": "root",
                "description": "Root logger used to assign the default logging level."
            },
            {
                "value": "sql",
                "description": "SQL logging group including Hibernate SQL logger."
            },
            {
                "value": "web",
                "description": "Web logging group including codecs."
            }
        ],
        "providers": [
            {
                "name": "logger-name"
            }
        ]
    },
    {
        "name": "logging.level.values",
        "values": [
            {
                "value": "trace"
            },
            {
                "value": "debug"
            },
            {
                "value": "info"
            },
            {
                "value": "warn"
            },
            {
                "value": "error"
            },
            {
                "value": "fatal"
            },
            {
                "value": "off"
            }

        ],
        "providers": [
            {
                "name": "any"
            }
        ]
    }
]}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="spring-bean-reference"><a class="anchor" href="#spring-bean-reference"></a> 2.2.5。Spring Bean参考</h4>
<div class="paragraph">
<p><strong>spring-bean-reference</strong>提供程序自动完成在当前项目的配置中定义的bean。此提供程序支持以下参数：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width:12.5%">
<col style="width:12.5%">
<col style="width:25%">
<col style="width:50%">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">参数</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">默认值</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>target</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code> （ <code>Class</code> ）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>没有</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">应分配给候选者的Bean类的完全限定名称。通常用于过滤掉非候选 bean 。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>以下元数据片段对应于标准<code>spring.jmx.server</code>定义名称的属性<code>MBeanServer</code> bean 使用：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"hints": [
    {
        "name": "spring.jmx.server",
        "providers": [
            {
                "name": "spring-bean-reference",
                "parameters": {
                    "target": "javax.management.MBeanServer"
                }
            }
        ]
    }
]}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">活页夹不知道元数据。如果提供了该提示，则仍然需要使用来将Bean名称转换为实际的Bean引用。 <code>ApplicationContext</code> 。
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="spring-profile-name"><a class="anchor" href="#spring-profile-name"></a> 2.2.6。春季资料名称</h4>
<div class="paragraph">
<p><strong>spring-profile-name</strong>提供程序自动完成在当前项目的配置中定义的Spring概要文件。</p>
</div>
<div class="paragraph">
<p>以下元数据片段对应于标准<code>spring.profiles.active</code>定义要启用的Spring配置文件名称的属性：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"hints": [
    {
        "name": "spring.profiles.active",
        "providers": [
            {
                "name": "spring-profile-name"
            }
        ]
    }
]}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-metadata-annotation-processor"><a class="anchor" href="#configuration-metadata-annotation-processor"></a> 3。使用注释处理器生成您自己的元数据</h2>
<div class="sectionbody">
<div class="paragraph">
<p>您可以轻松地从带注释的项目中生成自己的配置元数据文件<code>@ConfigurationProperties</code>通过使用<code>spring-boot-configuration-processor</code>罐。该jar包含一个Java注释处理器，在您的项目被编译时会被调用。要使用处理器，请包括<code>spring-boot-configuration-processor</code> 。</p>
</div>
<div class="paragraph">
<p>使用Maven，依赖项应声明为可选，如以下示例所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>对于Gradle 4.5及更早版本，相关性应在<code>compileOnly</code>配置，如以下示例所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">dependencies {
    compileOnly "org.springframework.boot:spring-boot-configuration-processor"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>在Gradle 4.6及更高版本中，相关性应在<code>annotationProcessor</code>配置，如以下示例所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">dependencies {
    annotationProcessor "org.springframework.boot:spring-boot-configuration-processor"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您使用的是<code>additional-spring-configuration-metadata.json</code>文件， <code>compileJava</code>任务应配置为取决于<code>processResources</code>任务，如以下示例所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">compileJava.dependsOn(processResources)</code></pre>
</div>
</div>
<div class="paragraph">
<p>这种依赖关系确保注释处理器在编译期间运行时，其他元数据可用。</p>
</div>
<div class="paragraph">
<p>处理器选择带注释的类和方法<code>@ConfigurationProperties</code> 。配置类中字段值的Javadoc用于填充<code>description</code>属性。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">您只应使用带有<code>@ConfigurationProperties</code>字段Javadoc，因为在将它们添加到JSON之前不会对其进行处理。</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>如果该类具有一个带有至少一个参数的构造函数，则为每个构造函数参数创建一个属性。否则，将通过存在标准的getter和setter并对集合类型进行特殊处理来发现属性（即使仅存在getter也会被检测到）。</p>
</div>
<div class="paragraph">
<p>注释处理器还支持使用<code>@Data</code> ， <code>@Getter</code>和<code>@Setter</code>龙目岛注释。</p>
</div>
<div class="paragraph">
<p>注释处理器无法自动检测以下内容的默认值： <code>Enum</code>和<code>Collections</code> s。在这种情况下<code>Collection</code>要么<code>Enum</code>属性具有非空的默认值，应提供<a href="#configuration-metadata-additional-metadata">手动元数据</a> 。</p>
</div>
<div class="paragraph">
<p>考虑以下类别：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigurationProperties(prefix="acme.messaging")
public class MessagingProperties {

    private List&lt;String&gt; addresses = new ArrayList&lt;&gt;(Arrays.asList("a", "b")) ;

    private ContainerType = ContainerType.SIMPLE;

    // ... getter and setters

    public enum ContainerType {

        SIMPLE,
        DIRECT

    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>为了记录以上类中属性的默认值，您可以将以下内容添加到<a href="#configuration-metadata-additional-metadata">模块的手动元数据中</a> ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"properties": [
    {
        "name": "acme.messaging.addresses",
        "defaultValue": ["a", "b"]
    },
    {
        "name": "acme.messaging.container-type",
        "defaultValue": "simple"
    }
]}</code></pre>
</div>
</div>
<div class="paragraph">
<p>只有<code>name</code>要使用手动元数据来记录其他字段，需要使用属性的属性。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="注意"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果在项目中使用AspectJ，则需要确保注释处理器仅运行一次。有几种方法可以做到这一点。使用Maven，您可以配置<code>maven-apt-plugin</code>显式地将依赖项添加到注释处理器中。您还可以让AspectJ插件运行所有处理，并在<code>maven-compiler-plugin</code>配置如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
    &lt;configuration&gt;
        &lt;proc&gt;none&lt;/proc&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="configuration-metadata-nested-properties"><a class="anchor" href="#configuration-metadata-nested-properties"></a> 3.1。嵌套属性</h3>
<div class="paragraph">
<p>注释处理器自动将内部类视为嵌套属性。考虑以下类别：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigurationProperties(prefix="server")
public class ServerProperties {

    private String name;

    private Host host;

    // ... getter and setters

    public static class Host {

        private String ip;

        private int port;

        // ... getter and setters

    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>前面的示例为<code>server.name</code> ， <code>server.host.ip</code>和<code>server.host.port</code>属性。您可以使用<code>@NestedConfigurationProperty</code>字段上的注释，指示应将常规（非内部）类视为嵌套类。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="小费"></i>
</td>
<td class="content">这对集合和地图没有影响，因为这些类型会自动识别，并且会为每个集合生成一个元数据属性。
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="configuration-metadata-additional-metadata"><a class="anchor" href="#configuration-metadata-additional-metadata"></a> 3.2。添加其他元数据</h3>
<div class="paragraph">
<p>Spring Boot的配置文件处理非常灵活，通常情况下可能存在未绑定到<code>@ConfigurationProperties</code> bean 。您可能还需要调整现有键的某些属性。为了支持这种情况，并允许您提供自定义的“提示”，注释处理器会自动合并来自<code>META-INF/additional-spring-configuration-metadata.json</code>到主元数据文件中。</p>
</div>
<div class="paragraph">
<p>如果引用了已自动检测到的属性，则如果指定了描述，默认值和弃用信息，则它们将被覆盖。如果在当前模块中未标识手动属性声明，则将其添加为新属性。</p>
</div>
<div class="paragraph">
<p>的格式<code>additional-spring-configuration-metadata.json</code>文件与常规文件完全相同<code>spring-configuration-metadata.json</code> 。附加属性文件是可选的。如果没有任何其他属性，请不要添加文件。</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">最近更新时间2019-11-06 21:59:19 UTC</div>
</div>
<script type="text/javascript" src="js/tocbot/tocbot.min.js"></script>
<script type="text/javascript" src="js/toc.js"></script>
<link rel="stylesheet" href="js/highlight/styles/github.min.css">
<script src="js/highlight/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>

</body></html>