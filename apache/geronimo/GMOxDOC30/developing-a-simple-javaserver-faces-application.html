<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<html lang="en">
  <head>
    <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <link type="text/css" rel="stylesheet" href="http://geronimo.apache.org/style/default.css">
    <LINK rel="SHORTCUT ICON" href="http://geronimo.apache.org/images/favicon.ico">
    <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
    <META name="Description" content="Developing a Simple JavaServer Faces application" />
    <META name="Keywords" content="Apache Geronimo 3.0 Documentation JavaEE6 OSGi Developing a Simple JavaServer Faces application" />
    <META name="Owner" content="dev@geronimo.apache.org" />
    <META name="Robots" content="index, follow" />
    <META name="Security" content="Public" />
    <META name="Source" content="wiki template" />
    <META name="DC.Date" scheme="iso8601" content="2010-05-11" />
    <META name="DC.Language" scheme="rfc1766" content="en" />
    <META name="DC.Rights" content="Copyright Â© 2003-2013, The Apache Software Foundation" />
    <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>

    <script src="http://geronimo.apache.org/functions.js" type="text/javascript"></script>


    <title>Apache Geronimo v3.0 Documentation: Developing a Simple JavaServer Faces application</title>
  </head>

  <body onload="init()">

        <!-- banner -->
    <table valign="top" border="0" cellspacing="0" cellpadding="0" width="100%" background="http://geronimo.apache.org/images/top_bgstretch_1x64.gif">
      <tr>
        <td valing="top" align="left">
          <img src="http://geronimo.apache.org/images/topleft_logo_437x64.gif" border="0">
        </td>
      </tr>
    </table>

        <!-- topNav -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
      <tr class="topBar">
        <td align="left" valign="middle" class="topBarDiv" align="left" nowrap>
          <a href="/geronimo"> Home</a> >&nbsp;<a href="documentation.html">Documentation</a>&nbsp;&gt;&nbsp;<a href="developing.html">Developing</a>&nbsp;&gt;&nbsp;<a href="tutorials.html">Tutorials</a>&nbsp;&gt;&nbsp;<a href="developing-web-applications.html">Developing Web applications</a>&nbsp;&gt;&nbsp;<a href="developing-javaserver-faces-applications.html">Developing JavaServer faces applications</a>&nbsp;&gt;&nbsp;<a href="developing-a-simple-javaserver-faces-application.html">Developing a Simple JavaServer Faces application</a>
        </td>
        <td align="right" valign="middle" nowrap>
          <form name="search" action="http://www.google.com/search" method="get">
            <input type="hidden" name="ie" value="UTF-8" />
            <input type="hidden" name="oe" value="UTF-8" />
            <input type="hidden" name="domains" value="" />
            <input type="hidden" name="sitesearch" value="" />
            <input type="text" name="q" maxlength="255" value="" />        
            <input type="submit" name="btnG" value="Google Search" />
          </form>
        </td>
      </tr> 
    </table>

        <!-- pageContent -->
    <div id="PageContent">
      <div class="pageheader" style="padding: 6px 0px 0px 0px;">
        <!-- We'll enable this once we figure out how to access (and save) the logo resource -->
        <!--img src="http://geronimo.apache.org/images/confluence_logo.gif" style="float: left; margin: 4px 4px 4px 10px;" border="0"-->
        <div style="margin: 0px 10px 0px 10px" class="smalltext">Apache Geronimo v3.0</div>
        <div style="margin: 0px 10px 8px 10px"  class="pagetitle">Developing a Simple JavaServer Faces application</div>

        <div class="greynavbar" align="right" style="padding: 2px 10px; margin: 0px;">
<!-- -->         
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645269">
            <img src="http://geronimo.apache.org/images/icons/notep_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Edit Page"></a>
            <a href="https://cwiki.apache.org/confluence/pages/editpage.action?pageId=20645269">Edit Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">
            <img src="http://geronimo.apache.org/images/icons/browse_space.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Browse Space"></a>
            <a href="https://cwiki.apache.org/confluence/pages/listpages.action?key=GMOxDOC30">Browse Space</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645269">
            <img src="http://geronimo.apache.org/images/icons/add_page_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add Page"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createpage.action?spaceKey=GMOxDOC30&fromPageId=20645269">Add Page</a>
          &nbsp;
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645269">
            <img src="http://geronimo.apache.org/images/icons/add_blogentry_16.gif"
                 height="16" width="16" border="0" align="absmiddle" title="Add News"></a>
          <a href="https://cwiki.apache.org/confluence/pages/createblogpost.action?spaceKey=GMOxDOC30&fromPageId=20645269">Add News</a>
<!-- -->	 
        </div>
      </div>

      <div class="pagecontent">
        <div class="wiki-content">
          <div class="wiki-content maincontent"><plain-text-body>{scrollbar}</plain-text-body>

<p>This application will make you understand how Model (M), View (V), Controller (C) architecture is implemented in JavaServer Faces. This application will make use of UI components, Validator, Navigation and Bean component available with JSF.</p>

<p>This application will take a user First Name and Last Name. Later these fields will be validated by JSF and using the controller bean and Navigation rule the output will be displayed. This application will also introduce a UI component which is a submit button.</p>

<p>To run this tutorial, as a minimum you will be required to have installed the following prerequisite software:</p>

<ul><li>Sun JDK 6.0+ (J2SE 1.6)</li><li>Eclipse IDE for Java EE Developers, which is platform specific</li><li>Apache Geronimo Eclipse Plugin 2.1.x</li><li>Apache Geronimo Server 2.1.x
<rich-text-body>
<p>Geronimo version 2.1.x, Java 1.5 runtime, and Eclipse Ganymede are used is used in this tutorial but other versions can be used instead (e.g., Geronimo version 2.2, Java 1.6, Eclipse Europa)</p></rich-text-body></li></ul>


<p>Details on installing eclipse are provided in the <a shape="rect" href="development-environment.html">Development environment</a> section. This tutorial is organized in the following sections:</p>

<parameter ac:name="minLevel">2</parameter>
<p>Once you have all the prerequisites installed, follow the following steps to create a project with Eclipse.</p>

<h2 id="DevelopingaSimpleJavaServerFacesapplication-SettingEclipseforapplicationdevelopment">Setting Eclipse for application development</h2>
<ol><li>Launch Eclipse and create a dynamic Web project as shown in the figure.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/CreateWebProject.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Give the fields for the Web Project as shown in the following figure.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/WebProjectFields.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Select <strong>Finish</strong>.</li><li>Right click on the <strong>SimpleJSF</strong> project and select <strong>Properties</strong>, then select <strong>Project Facets</strong>.</li><li>Check the box for <strong>JavaServerFaces</strong> and under the <em>Version</em> tab select <strong>1.2</strong> as the version. Select the <img class="emoticon emoticon-cross" src="https://cwiki.apache.org/confluence/s/en_GB/5997/6f42626d00e36f53fe51440403446ca61552e2a2.1/_/images/icons/emoticons/error.png" data-emoticon-name="cross" alt="(error)"> <strong>Further configuration required...</strong> indicator to display the <em>JSF Capabilities</em> pane.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ProjectFileds.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>On the <em>JSF Capabilities</em> window check the box and select <strong>new</strong> as shown in the figure.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/JSFCapabilities.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>The next window is used to create a JSF Implementation library. Give the library name as <strong>JSFCustomLibrary</strong> and add the following jars. Select <strong>Finish</strong> once done. See the figure below:
	<ul><li>&lt;GERONIMO_HOME&gt;\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar</li><li>&lt;GERONIMO_HOME&gt;\repository\commons-collections\commons-collections\3.2\commons-collections-3.2.jar</li><li>&lt;GERONIMO_HOME&gt;\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar</li><li>&lt;GERONIMO_HOME&gt;\repository\commons-logging\commons-logging\1.0.4\commons-logging-1.0.4.jar</li><li>&lt;GERONIMO_HOME&gt;\repository\org\apache\myfaces\core\myfaces-api\1.2.3\myfaces-api-1.2.3.jar</li><li>&lt;GERONIMO_HOME&gt;\repository\org\apache\myfaces\core\myfaces-impl\1.2.3\myfaces-impl-1.2.3.jar<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/JSFCustomLibrary.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li></ul>
	</li><li>Check Deploy and modify the URL pattern to <strong>*.jsf</strong> as shown in the figure. Select <strong>Finish</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/EclipseSetUpFinal.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
This finishes the setting up of the Eclipse IDE for application development.</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefineandImplementtheapplicationModel(M)">Define and Implement the application Model (M)</h2>
<p>The <strong>Model</strong> as suggested by MVC architecture handles data and logic of the application. In an enterprise application. Java Beans are used to represent collection of data and operation on that data. In JSF we use Java Beans to define the Model.</p>
<ol><li>Under the project explorer right click on the <strong>SimpleJSF</strong> project and create a new class.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Model1.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Fill the <em>New Java Class</em> form with <em>jsf</em> as the package name and <em>FirstName</em> as the bean class name. Select <strong>Finish</strong> once done.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Model2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Add the following code to the <strong>FirstName</strong> bean class: <br clear="none" class="atl-forced-newline">
<parameter ac:name="">JAVA</parameter><parameter ac:name="title">FirstName.java</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
package jsf;

public class FirstName {
	String username;

	public String getName() {
		return username;
	}

	public void setName(String name) {
		username = name;
	}

}
</plain-text-body>
<br clear="none" class="atl-forced-newline"></li><li>Create a second Bean class <strong>LastName</strong> and add the following code to the class:
<parameter ac:name="">JAVA</parameter><parameter ac:name="title">LastName.java</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
package jsf;

public class LastName {
	String lastname;

	public String getLName() 	{
		return lastname;
	}

	public void setLName(String lname)
	{
		lastname = lname;
}
}
</plain-text-body>
This completes the Model definition and implementation of the bean classes.</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefineandimplementModel(M)objectstoController">Define and implement Model (M) objects to Controller</h2>
<ol><li>In a JSF application the <strong>Controller</strong> is implemented by a configuration file called <code>WebContent/WEB-INF/faces-config.xml</code>. Double click on the file. This will open the <em>Faces Configuration Editor</em>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ModelController.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Select the <em>ManagedBean</em> tab in the editor. Select the <strong>request</strong> Managed Bean Element and select <strong>Add</strong>.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ModelController2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Choose the <strong>Using an existing Java class</strong> option, select <strong>Browse</strong>. Give the search element as <em>FirstName</em> and select <strong>OK</strong>.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ModelController3.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Select <strong>Finish</strong> on the next window. Similarly add the other bean <strong>LastName</strong>. Now select the <em>Source</em> tab in the Faces configuration Editor. It displays the bean components (i.e., the Model) in the controller.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ModelController4.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
This completes the description of Model to Controller.</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefineandimplementView(V)inapplication">Define and implement View (V) in application</h2>
<ol><li>Right click on <strong>WebContent</strong> and create a new folder with the name <em>pages</em>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/View.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Right click on <strong>pages</strong> folder and create a JSP called <code>login.jsp</code>. Select <strong>Finish</strong>.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/View2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Similarly create another JSP page called <code>welcome.jsp</code>.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Now we have to include the Tag Library Descriptors (TLD) in our application. Geronimo comes packaged with the required TLD's, which can be found in:<br clear="none" class="atl-forced-newline">
<parameter ac:name="title">Location of TLD</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;GERONIMO_HOME&gt;\repository\org\apache\myfaces\core\myfaces-impl\1.2.3\myfaces-impl-1.2.3.jar\META-INF\myfaces-html.tld
and
&lt;GERONIMO_HOME&gt;\repository\org\apache\myfaces\core\myfaces-impl\1.2.3\myfaces-impl-1.2.3.jar\META-INF\myfaces_core.tld
</plain-text-body>
 <br clear="none" class="atl-forced-newline"></li><li>To add these two TLD's in the application, in Eclipse under the Project Explorer right click on <strong>WEB-INF</strong>. Create a folder called <strong>tld</strong>. Copy <code>myfaces-html.tld</code> and <code>myfaces_core.tld</code> to this folder.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>The next step is to populate <code>login.jsp</code> and <code>welcome.jsp</code> with data
<parameter ac:name="">html</parameter><parameter ac:name="title">login.jsp</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;%@ taglib uri="/WEB-INF/tld/myfaces-html.tld" prefix="h" %&gt;
&lt;%@ taglib uri="/WEB-INF/tld/myfaces_core.tld" prefix="f" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Welcome to Apache Geronimo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;f:view&gt;
    &lt;h1&gt;&lt;h:outputText value="Welcome to Apache Geronimo" /&gt;&lt;/h1&gt;
    &lt;h:form&gt;
        &lt;h:message for="firstName" style="color: red;" /&gt;
        &lt;h:message for="lastName" style="color: red;" /&gt;
        &lt;br&gt;
        &lt;h:outputText value="Enter your first name" /&gt;
        &lt;br&gt;
        &lt;h:inputText id="firstName" value="#{firstName.name}" required="true"&gt;
            &lt;f:validateLength minimum="4" maximum="10" /&gt;
        &lt;/h:inputText&gt;
        &lt;br&gt;
        &lt;h:outputText value="Enter your last name" /&gt;
        &lt;br&gt;
        &lt;h:inputText id="lastName" value="#{lastName.LName}" required="true"&gt;
            &lt;f:validateLength minimum="3" maximum="10" /&gt;
        &lt;/h:inputText&gt;
        &lt;br&gt;
        &lt;h:commandButton id="submit" action="validated" value="Enter" /&gt;
    &lt;/h:form&gt;
&lt;/f:view&gt;
&lt;/body&gt;
&lt;/html&gt;
</plain-text-body>
<parameter ac:name="">html</parameter><parameter ac:name="title">welcome.jsp</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;%@ taglib uri="/WEB-INF/tld/myfaces-html.tld" prefix="h"%&gt;
&lt;%@ taglib uri="/WEB-INF/tld/myfaces_core.tld" prefix="f"%&gt;
&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
pageEncoding="ISO-8859-1"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Welcome&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;f:view&gt;
&lt;h3&gt;&lt;h:outputText value="You have successfully logged in: " /&gt; &lt;h:outputText value="#{firstName.name} " /&gt; &lt;h:outputText value="#{lastName.LName}" /&gt;
&lt;h:outputText value="!" /&gt;&lt;/h3&gt;
&lt;/f:view&gt;
&lt;/body&gt;
&lt;/html&gt;
</plain-text-body>
Lets now try to understand what each line of code represents.
	<ul><li>The first two lines in <code>login.jsp</code> defines two tag libraries
<parameter ac:name="">html</parameter><parameter ac:name="title">Code Snippet from login.jsp</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;%@ taglib uri="/WEB-INF/tld/myfaces-html.tld" prefix="h" %&gt;
and
&lt;%@ taglib uri="/WEB-INF/tld/myfaces_core.tld" prefix="f" %&gt;
</plain-text-body>
These two sets of tags are defined by JSF. The first one with the namespace "h" is used to generate html views. The second one with the namespace "f" handles the core functionalities of JSF like type conversions, validations and listeners for input from user.</li><li>The next few lines contains the usual html tags
<parameter ac:name="">html</parameter><parameter ac:name="title">Code Snippet from login.jsp</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Welcome to Apache Geronimo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
</plain-text-body></li><li>The tag <strong>&lt;f:view&gt;</strong> represents the start of JSF code.</li><li>This line of code Represents the input tag.  The <strong>id="firstName"</strong> and <strong>value="firstName.name"</strong> comes from the Managed Bean.
<parameter ac:name="">html</parameter><parameter ac:name="title">Code Snippet from login.jsp</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;h:inputText id="firstName" value="#{firstName.name}" required="true"&gt;
</plain-text-body></li></ul>
	</li><li>Using the Faces Configuration Editor, select <strong>firstName</strong> bean under <em>Managed Bean</em> tab. The Managed Bean Name is <strong>firstName</strong>. See the figure below.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/View3.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> 
This completes the implementation of View (V) in the application. The other tags <strong>&lt;f:validateLength&gt;</strong> and <strong>&lt;h:commandButton&gt;</strong> will be explained in the next section.</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefinetheValidatorComponent">Define the Validator Component</h2>
<p>The code <strong>&lt;f:validateLength minimum="4" maximum="10"/&gt;</strong> defines the input text length to be minimum of 4 characters and maximum of 10 characters. This is the standard validation provided by core tag libraries. Other examples of validators are <strong>Validate Long Range</strong> tag, <strong>Validate Double Range</strong> tag , and so on. JSF also provides a Validator interface which can be implemented to create custom validators.</p>

<p>The code <strong>&lt;h:message for="" style="color: red;"/&gt;</strong> defines the error message. When the user inputs the controller validates each of the inputs. If the inputs are invalid Controller displays the same page again with an error message for the errors. The <strong>color:red</strong> suggests that the error message will be displayed in red color.</p>

<h2 id="DevelopingaSimpleJavaServerFacesapplication-DefineandimplementtheViewnavigationbyController(C)">Define and implement the View navigation by Controller (C)</h2>
<p>This step uses the JSP page navigation in the order of user inputs and validation by controller. If all the inputs are valid than the controller performs the action as suggested by the HTML form. This action is submitted by the HTML form as a command button.<br clear="none">
The code in the <code>input.jsp</code> <strong>&lt;h:commandButton id="submit" action="validated" value="Enter" /&gt;</strong> checks to determine if all the inputs are valid. This is the button which submits the form to controller if all inputs are valid. In this case the <strong>commandButton</strong> tells the controller to execute the validated action if all the inputs are valid.<br clear="none">
The pages navigation in a JSF applicaiton is defined by <code>faces-config.xml</code>. Follow the steps before to define the pages navigation.<br clear="none" class="atl-forced-newline"> </p>
<ol><li>Launch the Faces Configuration Editor by double clicking on <code>faces-config.xml</code> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Select the <em>Navigation Rule</em> tab in the Configuration Editor. Under the Palette window select <strong>Page</strong>. This will select a <strong>PageFlow Page</strong> GUI object.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Drag the mouse over the Navigation Rule Window and click on the window. This will give a <em>Select JSP File</em> window. Select the <code>login.jsp</code> as shown in the figure and select <strong>OK</strong>.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Similarly add the <code>welcome.jsp</code> page on the Navigation Rule window. See the figure below:<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController3.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Select <strong>Link</strong> from the Palette window and join the two pages as shown in the figure:<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController4.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Select the link between the two pages and go to properties view and set the value for <em>From Outcome</em> field as <strong>validated</strong>. This is because of the tag <strong>&lt;h:commandButton id="submit" action="validated" value="Enter" /&gt;</strong>. Once all the inputs are valid the action taken is <strong>validated</strong>. See the figure.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController5.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Once done have a look the <em>Source</em> tab in the Faces Navigation Editor. A <strong>&lt;navigation-rule&gt;</strong> tag has been introduced into the <code>faces-config.xml</code>. This rule instructs the Controller that if all the inputs are valid from a form in the <code>/pages/login.jsp</code>, and the action is <strong>validated</strong>, then go to page <code>/pages/welcome.jsp</code>.<br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/ViewController6.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"></li><li>Now lets add a <code>index.jsp</code> under <strong>WebContent</strong> as follows:
<parameter ac:name="">html</parameter><parameter ac:name="title">index.jsp</parameter><parameter ac:name="borderStyle">solid</parameter><plain-text-body>
&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"pageEncoding="ISO-8859-1"%&gt;
&lt;\!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;body&gt;
&lt;jsp:forward page="/pages/login.jsf" /&gt;
&lt;/body&gt;
&lt;/html&gt;
</plain-text-body>
What is the <code>login.jsf</code> in the <strong>forward path</strong> tag. If you look at the <code>web.xml</code>, <strong>*.jsf</strong> is used as the URL pattern to suggest that forwarded page be taken care by Java Server Faces Servlet.<br clear="none">
This completes the Application Development process. The next step is to deploy and test the application.</li></ol>


<h2 id="DevelopingaSimpleJavaServerFacesapplication-DeployandTesttheapplication">Deploy and Test the application</h2>
<p>Right click on the project <strong>SimpleJSF</strong> and select <strong>Run As -&gt; Run On Server</strong>. This will deploy the sample on the Apache Geronimo Server and a Login page will be launched.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Test.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
Lets give some sample inputs:<br clear="none">
<strong>Sample Input #1</strong>:<br clear="none">
<strong>First Name:</strong> Mickey<br clear="none">
<strong>Last Name:</strong> Mouse<br clear="none">
Both the First Name as well as Last Name fulfills the validation rules, so this form will be submitted to controller and according to the navigation rule controller will launch a <code>welcome.jsp</code> page. <br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Test2.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline">
<strong>Sample Input #2:</strong><br clear="none">
<strong>First Name:</strong> Mic<br clear="none">
<strong>Last Name:</strong> Mouse<br clear="none">
First Name should be minimum of length=4 but in this case First Name is of length=3. In this case validation will fail and an error message will be generated by controller for First Name field.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Test3.png"></span><br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> <br clear="none" class="atl-forced-newline"> 
<strong>Sample Input #3:</strong><br clear="none">
<strong>First Name:</strong> Mickey<br clear="none">
<strong>Last Name:</strong> Mo<br clear="none">
Last Name should be minimum of length=3 but in this case Last Name is of length=2. In this case validation will fail and an error message will be generated by controller for Last Name field.<br clear="none">
<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="developing-a-simple-javaserver-faces-application.data/Test4.png"></span></p></div>
        </div>

              </div>
    </div>

        <!-- footer -->
    <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tr>
          <td align="left" valign="middle" class="footer">
            &nbsp;&nbsp;
            <img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="Delicious" />
            <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=550,height=550'); return false;">Bookmark this on Delicious</a>
            &nbsp;&nbsp;
            <img src="http://digg.com/img/badges/16x16-digg-guy.gif" width="16" height="16" alt="Digg!" />
            <a href="" onclick="window.open('http://digg.com/submit?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)+'&amp;topic=programming');">Digg this</a>
            <!-- Slicker, but no text
            <script type="text/javascript">
              digg_skin = 'icon';
              digg_window = 'new';
              digg_title = 'Apache Geronimo v3.0 Documentation : Developing a Simple JavaServer Faces application';
              digg_topic = 'programming';
            </script>
            <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
            -->
            &nbsp;&nbsp;
          </td>
          <td align="right" valign="middle" class="footer">
            <a href="http://cwiki.apache.org/GMOxPMGT/geronimo-privacy-policy.html">Privacy Policy</a>&nbsp;&nbsp;-&nbsp;&nbsp;
            Copyright &#169; 2003-2013, The Apache Software Foundation, Licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">ASL 2.0.</a>&nbsp;&nbsp;
          </td>
        </tr>
    </table> 

        <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      var pageTracker = _gat._getTracker("UA-4380560-1");
      pageTracker._initData();
      pageTracker._trackPageview();
    </script>

  </body>
</html>
