			<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
  	<title>Apache Mesos 官方文档_V1.0</title>
  	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<style>
		        body {
            color: #666666;
            font-family: 微软雅黑,Verdana,sans-serif,宋体;
            font-size: 14px;
            margin: 0;
            padding: 0;
        }
        a {
            color: #999999;
            text-decoration: none;
        }
        a:hover {
            color: #16B28F;
        }
        .sin_navi ul {
            list-style: none outside none;
            margin: 0;
            padding: 0 0 0 10px;
        }
        .sin_navi ul li {
            line-height: 30px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        li {
            line-height: 24px;
        }
        table {
            border-left: 1px solid #CCCCCC;
            border-top: 1px solid #CCCCCC;
            margin: 5px 10px;
            text-align: left;
            width: 678px;
        }
        table th {
            background-color: #EEEEEE;
            border-bottom: 1px solid #CCCCCC;
            border-right: 1px solid #CCCCCC;
            padding: 10px;
        }
        table td {
            border-bottom: 1px solid #CCCCCC;
            border-right: 1px solid #CCCCCC;
        }
        p {
            line-height: 24px;
            margin: 10px;
        }
        h1, h2, h3, h4, h5, h6 {
            color: #111111;
            font-weight: normal;
            margin: 0;
            padding: 0;
        }
        h1 {
            font-size: 26px;
        }
        h2 {
            border-bottom: 1px dashed #CCCCCC;
            font-size: 24px;
            padding: 10px 0;
        }
        h3 {
            font-size: 20px;
            padding: 8px 0;
        }
        h4 {
            font-size: 18px;
            margin-left: 10px;
            padding: 5px 0;
        }
        h5 {
            font-size: 16px;
            margin-left: 10px;
            padding: 5px 0;
        }
        h6 {
            font-size: 16px;
            margin-left: 10px;
            padding: 5px 0;
        }
        blockquote {
            background: url("../../../img/blockquote.gif") no-repeat scroll left top #F4F5F7;
            margin: 5px 10px;
            padding: 10px 10px 10px 30px;
        }
        pre {
            background: none repeat scroll 0 0 #EEEEEE;
            margin: 5px 10px;
            padding: 10px;
        }
        .sin_callout {
            margin: 5px 10px;
        }
        .sin_header {
            background-color: #F7F7F7;
            border-bottom: 1px solid #CCCCCC;
            height: 80px;
            width: 100%;
        }
        .sin_title {
            margin: 0 auto;
            width: 1000px;
        }
        .sin_title_text {
            color: #000000;
            float: left;
            line-height: 80px;
        }
        .sin_version {
            color: #999999;
            float: left;
            font-size: 14px;
            padding-top: 25px;
            margin-left: 10px;
        }
        .sin_main {
            margin: 0 auto;
            width: 1000px;
        }
        .sin_navi {
            float: left;
            margin-bottom: 20px;
            overflow-y: scroll;
            padding: 0;
            position: relative;
            width: 279px;
            z-index: 1;
        }
        .sin_navi_nomove {
            position: fixed;
            top: 0;
        }
        .sin_navi_ca a {
            color: #333333;
        }
        .sin_navi_ca a:hover {
            color: #16B28F;
        }
        .sin_navi_current {
            border-right: 3px solid #16B28F;
        }
        .sin_navi_current a {
            color: #16B28F;
        }
        .sin_content {
            background-color: #FFFFFF;
            border-left: 1px solid #CCCCCC;
            float: left;
            margin-left: -20px;
            padding: 10px 20px;
            position: relative;
            width: 699px;
            z-index: 2;
        }
        .sin_content_mar {
            margin-left: 259px;
        }
        .sin_footer {
            border-top: 1px solid #CCCCCC;
            color: #999999;
            height: 80px;
            line-height: 80px;
            margin: 0 auto;
            text-align: center;
        }
        .sin_info {
            background: none repeat scroll 0 0 #FFFFCC;
            border: 1px solid #D5D4D4;
            border-radius: 4px 4px 4px 4px;
            color: #999999;
            margin: 10px 0;
            padding: 14px;
        }
        .sin_link_logo {
            color: #16B28F;
            font-size: 12px;
            margin-left: 10px;
        }
        .sin_text {
            margin-bottom: 10px;
        }
        .d_callout {
            margin-bottom: 10px;
        }
        .d_callout_info {
            background: none repeat scroll 0 0 #F4F8FA;
            border-left: 4px solid #5BC0DE;
            padding: 10px;
        }
        .d_callout_warn {
            background: none repeat scroll 0 0 #FCF8F2;
            border-left: 4px solid #F0AD4E;
            padding: 10px;
        }
        .d_callout_danger {
            background: none repeat scroll 0 0 #FDF7F7;
            border-left: 4px solid #D9534F;
            padding: 10px;
        }
        .d_callout_success {
            background: none repeat scroll 0 0 #F3F8F3;
            border-left: 4px solid #50AF51;
            padding: 10px;
        }
        .d_callout input {
            background-color: rgba(0, 0, 0, 0);
            font-size: 15px;
            margin-bottom: 5px;
            padding: 10px 5px 0 10px;
        }
        .d_callout textarea {
            background-color: rgba(0, 0, 0, 0);
        }
        .d_callout_icons a {
            color: #AAAAAA;
            margin-left: 10px;
        }
        a.d_callout_icon_info {
            color: #5BC0DE;
        }
        a.d_callout_icon_warn {
            color: #F0AD4E;
        }
        a.d_callout_icon_danger {
            color: #D9534F;
        }
        a.d_callout_icon_success {
            color: #50AF51;
        }
        .clear {
            clear: both;
        }

	</style>
</head>
<body>
	<div class="sin_header">
		<div class="sin_title">
			<h1 class="sin_title_text">Apache Mesos 官方文档</h1>
			<span class="sin_version">V1.0</span>
			<div class="clear"></div>
		</div>
		<div id="top_end"></div>
	</div>
	<div class="sin_main">
		<div class="sin_navi" id="sin_navi_id">
			<ul style="margin: 20px 0;">
				    																																													<li style="width: 246px;" id="navi_text_38317">
									<a href="#text_38317">
										关于《Apache Mesos 官方文档》众包翻译
									</a>	
								</li>
																															<li class="sin_navi_ca" style="width: 246px;" id="navi_category_8290">
								<a href="#category_8290">
									Mesos 基础
								</a>
							</li>
										<ul>
																			<li style="width:236px" id="navi_text_33729">
						<a href="#text_33729">
							Mesos Architecture
						</a>	
					</li>
																					<li style="width:236px">
						<a href="http://mesos.apache.org/documentation/latest/index.html" target="_blank">
							Video and Slides of Mesos Presentations
						</a>
						<em class="fa fa-link sin_link_logo"></em>
					</li>
											</ul>
																									<li class="sin_navi_ca" style="width: 246px;" id="navi_category_8291">
								<a href="#category_8291">
									运行 Mesos
								</a>
							</li>
										<ul>
																			<li style="width:236px" id="navi_text_38331">
						<a href="#text_38331">
							快速入门
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33731">
						<a href="#text_33731">
							配置
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33732">
						<a href="#text_33732">
							Mesos 容器化
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33734">
						<a href="#text_33734">
							Docker 容器化工具
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33735">
						<a href="#text_33735">
							外部容器化工具
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_43363">
						<a href="#text_43363">
							框架认证
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33736">
						<a href="#text_33736">
							框架授权
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33737">
						<a href="#text_33737">
							应用框架速率限额
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33738">
						<a href="#text_33738">
							日志和调试
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33740">
						<a href="#text_33740">
							高可用模式
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33741">
						<a href="#text_33741">
							操作指南
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33742">
						<a href="#text_33742">
							Mesos 可观测的度量
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33743">
						<a href="#text_33743">
							单容器网络监控和隔离
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33744">
						<a href="#text_33744">
							Slave 节点恢复机制
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33745">
						<a href="#text_33745">
							辅助工具
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33746">
						<a href="#text_33746">
							SSL
						</a>	
					</li>
											</ul>
																									<li class="sin_navi_ca" style="width: 246px;" id="navi_category_9278">
								<a href="#category_9278">
									高级功能
								</a>
							</li>
										<ul>
																			<li style="width:236px" id="navi_text_38333">
						<a href="#text_38333">
							属性和资源
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_45717">
						<a href="#text_45717">
							Mesos Fetcher
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_45718">
						<a href="#text_45718">
							Mesos 管理容器网络
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_45719">
						<a href="#text_45719">
							超额认购
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_45720">
						<a href="#text_45720">
							Persistent Volume 
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_45721">
						<a href="#text_45721">
							预留
						</a>	
					</li>
											</ul>
																									<li class="sin_navi_ca" style="width: 246px;" id="navi_category_9130">
								<a href="#category_9130">
									运行 Mesos 框架
								</a>
							</li>
										<ul>
																			<li style="width:236px" id="navi_text_42220">
						<a href="#text_42220">
							运行 Mesos
						</a>	
					</li>
											</ul>
																									<li class="sin_navi_ca" style="width: 246px;" id="navi_category_8293">
								<a href="#category_8293">
									开发 Mesos 框架
								</a>
							</li>
										<ul>
																			<li style="width:236px" id="navi_text_33748">
						<a href="#text_33748">
							计算框架开发指南
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33751">
						<a href="#text_33751">
							一致性
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_39562">
						<a href="#text_39562">
							Scheduler HTTP API
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33752">
						<a href="#text_33752">
							Javadoc
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33753">
						<a href="#text_33753">
							Doxygen
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33754">
						<a href="#text_33754">
							开发者工具
						</a>	
					</li>
											</ul>
																									<li class="sin_navi_ca" style="width: 246px;" id="navi_category_8295">
								<a href="#category_8295">
									对 Mesos 贡献
								</a>
							</li>
										<ul>
																			<li style="width:236px" id="navi_text_33756">
						<a href="#text_33756">
							报告问题，改进，或功能
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33757">
						<a href="#text_33757">
							提交补丁
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33758">
						<a href="#text_33758">
							Mesos 测试模式
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33759">
						<a href="#text_33759">
							有效的代码审查
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33760">
						<a href="#text_33760">
							工程原则和实践
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33761">
						<a href="#text_33761">
							提交
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33762">
						<a href="#text_33762">
							提交者
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_33768">
						<a href="#text_33768">
							Mesos 路线图
						</a>	
					</li>
																					<li style="width:236px">
						<a href="http://mesos.apache.org/api/latest/c++/" target="_blank">
							Doxygen
						</a>
						<em class="fa fa-link sin_link_logo"></em>
					</li>
											</ul>
																									<li class="sin_navi_ca" style="width: 246px;" id="navi_category_11444">
								<a href="#category_11444">
									Mesos 扩展
								</a>
							</li>
										<ul>
																			<li style="width:236px" id="navi_text_48086">
						<a href="#text_48086">
							Mesos 模块
						</a>	
					</li>
																										<li style="width:236px" id="navi_text_48087">
						<a href="#text_48087">
							Mesos 配置模块
						</a>	
					</li>
											</ul>
																									<li class="sin_navi_ca" style="width: 246px;" id="navi_category_8296">
								<a href="#category_8296">
									更多 Mesos 信息
								</a>
							</li>
										<ul>
														<li style="width:236px">
						<a href="http://mesos.apache.org/documentation/latest/powered-by-mesos/" target="_blank">
							Powered by Mesos
						</a>
						<em class="fa fa-link sin_link_logo"></em>
					</li>
											</ul>
																																	<li style="width: 246px;">
									<a href="http://mesos.apache.org/documentation/latest/index.html" target="_blank">
										原文链接
									</a>
									<em class="fa fa-link sin_link_logo"></em>
								</li>
																									</ul>
		</div>
		<div class="sin_content" id="sin_content_id">
																													<h2 id="text_38317" class="sin_target">关于《Apache Mesos 官方文档》众包翻译</h2>
<div class="sin_text">
    					<p>《Apache Mesos 官方文档》翻译悬赏已经完结，感谢各位译者和校对者的参与，文档贡献地址如下：http://mesos.mydoc.io</p>
<p>参与人员如下：</p>
<p>翻译：<br>Yol：《对 Mesos 贡献》《Mesos 扩展》<br>土豆妮珠：《高级功能》<br>抢小孩糖吃：《运行 Mesos 框架》《开发 Mesos 框架》<br>黑传说：《Mesos 基础》《运行 Mesos》</p>
<p>校对：<br>KevinShu ：《Mesos 基础》《运行 Mesos》<br>秣马儿：《对 Mesos 贡献》《Mesos 扩展》<br>itfanr：《高级功能》《开发 Mesos 框架》<br>船老大：《运行 Mesos 框架》</p>
<p>《Apache Mesos 官方文档》由开源中国进行翻译，未经许可不得用于任何商业用途。翻译的《Apache Mesos》文档版本为 3.4.0-rc1，如原文有任何更新，可随时告知 @孔小菜</p>
<p>大家对《Apache Mesos 官方文档》有任何意见或者建议，请在 <a href="http://www.oschina.net/news/68503" rel="nofollow">http://www.oschina.net/news/68503</a> 留下评论。</p>
			</div>

																										<h2 id="category_8290">Mesos 基础</h2>
																								<h3 id="text_33729" class="sin_target">Mesos Architecture</h3>
<div class="sin_text">
    					<h1>Mesos 架构</h1>
<p><img src="http://mesos.apache.org/assets/img/documentation/architecture3.jpg" alt="Mesos Architecture"></p>
<p>上图是Mesos的主要部件。 Mesos包括一个 <strong>主控</strong> 守护进程，用来管理子节点的 <strong>被控</strong> 守护进程。<br>同时还包含Mesos <strong>应用</strong>（application，下文也称 框架 <strong>framework</strong>） 负责在 子节点上运行 <strong>任务</strong>(tasks)。</p>
<p>主控进程 通过 给予各个应用框架来提供资源邀约（**resource offers**）来提供更细粒度的资源共享能力（资源类型包括CPU，内存……）。每种资源邀约 包含 一个列表<code>&lt;slave ID, resource1: amount1, resource2, amount2, ...&gt;</code>即：被控端ID，资源1：数量，资源2：数量……<br>主控进程 可根据给定的组织策略 来决定分配给每个应用多少资源，比如：平均分配，或者严格按优先级分配等。<br>为了支持多样化的策略，主控采用了模块化的架构，这样一来，通过插件机制来添加新的资源分配模块变得很容易。</p>
<p>一个运行在 Mesos 之上的应用框架包含两个组件：**调度器** (scheduler)进程和 <strong>执行器</strong>(executor)进程。</p>
<p>调度器进程 用于从 主控提供的资源里选定使用哪些资源。执行器进程在被控节点启动来执行应用任务（详见<a href="http://mesos.apache.org/documentation/latest/architecture/app-framework-development-guide/" rel="nofollow">App/应用开发指南</a>）。</p>
<p>主控 负责决定给每个应用分配多少资源，而应用框架的调度器才会真正选择使用哪些被分配到的资源。当应用框架接收了分配的资源，它会向Mesos发送一个它希望运行任务的描述信息。然后，Mesos会负责在相应的被控节点上启动任务。</p>
<h2>示例：资源分派流程</h2>
<p>下图给出了一个例子，展示了一个应用如何被调度来执行任务： </p>
<p><img src="http://mesos.apache.org/assets/img/documentation/architecture-example.jpg" alt="Mesos Architecture"></p>
<p>根据上图，看一下图片中的事件：</p> 
<ol> 
 <li>被控端1 报告给 主控，报告内容是它有 4个CPU和4 GB内存可用。然后，主控触发分配策略模块（allocation module），该模块告诉它应该给应用框架1分派所有可用的资源。</li> 
 <li>主控将 被控端1 可以的资源信息通过资源邀约（resource offer）发送至 应用框架1。</li> 
 <li>应用框架1 的 调度进程 发送给主控相应的反馈信息，内容是它会在被控端上运行两个任务，第一个要用“2 CPU，1 GB内存”，第二个要用“1 CPU，2 GB内存”。</li> 
 <li>最后，主控发送任务至被控端1，将其可用资源分配给应用1的执行器。之后，执行器会启动两个相应的任务（在图中显示为点划线边框）。由于被控端还剩余1个CPU和1 GB内存没有被分配，分配模块之后可能会把它们提供给应用框架2。</li> 
</ol>
<p>之后，当任务结束，被控端的资源被释放时，资源调度分派进程会根据新任务来循环执行上面的流程。</p>
<p>通过这样简化的交互接口设计，Mesos集群可以方便的进行横向扩展。而与此同时，每一个运行其上的应用框架也会相互独立，完成各自的演进和升级。</p>
<p>那么，问题来了：如何在Mesos不知道应用框架存在特殊限制条件的前提下满足其限制条件？比如，在Mesos不知道哪个节点存储着应用所需要的数据时，应用框架如何满足数据处理的本地化要求？Mesos的处理方式是让应用直接拒绝（**reject**）资源邀约。应用会拒绝不满足其限制条件的资源邀约，而只接受满足条件的资源。特别指出的是，我们发现了一种简单的策略，称之为延迟调度（delay scheduling）机制，即应用可以等待一定的时间，来获得存储需要数据的相应节点，从而获得近似优化过的数据本地处理结果。</p>
<p>想了解更多 Mesos架构，可见论文 <a href="http://mesos.berkeley.edu/mesos_tech_report.pdf" rel="nofollow">Mesos的实现技术</a>.</p>
			</div>

																																										<h2 id="category_8291">运行 Mesos</h2>
																								<h3 id="text_38331" class="sin_target">快速入门</h3>
<div class="sin_text">
    					<h1>快速入门</h1>
<h2>下载Mesos</h2>
<p>有两种方法：</p> 
<ol> 
 <li><p>从 <a href="http://mesos.apache.org/downloads/" rel="nofollow">Apache</a>官方网站下载 (***推荐***)</p> <pre><code>$ wget http://www.apache.org/dist/mesos/0.24.0/mesos-0.24.0.tar.gz
$ tar -zxf mesos-0.24.0.tar.gz
</code></pre></li> 
 <li><p>克隆Mesos的 git 代码仓库 <a href="https://git-wip-us.apache.org/repos/asf/mesos.git" rel="nofollow">repository</a> (***适用于高级用户***)</p> <pre><code>$ git clone https://git-wip-us.apache.org/repos/asf/mesos.git
</code></pre></li> 
</ol>
<h2>系统要求</h2>
<p>Mesos 可运行在 Linux (64 Bit) 和 Mac OS X (64 Bit)上。</p>
<h3>Ubuntu 14.04</h3>
<p>下面介绍Ubuntu 14.04中的安装步骤说明：</p> 
<pre><code># 更新包库
$ sudo apt-get update

# 安装最新版本的 OpenJDK.
$ sudo apt-get install -y openjdk-7-jdk

# 安装编译工具 (需要编译时需要)
$ sudo apt-get install -y autoconf libtool

# 安装相关依赖
$ sudo apt-get -y install build-essential python-dev python-boto libcurl4-nss-dev libsasl2-dev maven libapr1-dev libsvn-dev
</code></pre>
<h3>Mac OS X Yosemite</h3>
<p>下面 Mac OS X Yosemite 中的步骤说明：</p> 
<pre><code># 安装命令行工具
$ xcode-select --install

# 安装 Homebrew
$ ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

# 安装关联库
$ brew install autoconf automake libtool subversion maven
</code></pre>
<h3>CentOS 6.6</h3>
<p>下面 CentOS 6.6 中的步骤说明：</p> 
<pre><code>    # 安装基础工具
    $ sudo yum install -y tar wget which

    # 'Mesos &gt; 0.21.0' 需要 完整支持 C++11 的编译器， (比如 GCC &gt; 4.8)的工具中 有'devtoolset-2'可用。
    # 下载 Scientific Linux CERN devtoolset 仓库文件。
    $ sudo wget -O /etc/yum.repos.d/slc6-devtoolset.repo http://linuxsoft.cern.ch/cern/devtoolset/slc6-devtoolset.repo

    # 导入CERN GPG 密钥
    $ sudo rpm --import http://linuxsoft.cern.ch/cern/centos/7/os/x86_64/RPM-GPG-KEY-cern

    # 下载 Apache Maven 仓库文件
    $ sudo wget http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo -O /etc/yum.repos.d/epel-apache-maven.repo

    # 'Mesos &gt; 0.21.0' 需要 'subversion &gt; 1.8' 开发包
    # 不过这版本没在默认仓库里，需要手动添加。
    # 在文件'/etc/yum.repos.d/wandisco-svn.repo'中添加如下内容：

      [WANdiscoSVN]
      name=WANdisco SVN Repo 1.8
      enabled=1
      baseurl=http://opensource.wandisco.com/centos/6/svn-1.8/RPMS/$basearch/
      gpgcheck=1
      gpgkey=http://opensource.wandisco.com/RPM-GPG-KEY-WANdisco

    # 安装相应开发工具
    $ sudo yum groupinstall -y "Development Tools"

    # 安装 'devtoolset-2-toolchain'，内有 GCC 4.8.2 和相关工具
    $ sudo yum install -y devtoolset-2-toolchain

    # 安装 Mesos 依赖
    $ sudo yum install -y apache-maven python-devel java-1.7.0-openjdk-devel zlib-devel libcurl-devel openssl-devel cyrus-sasl-devel cyrus-sasl-md5 apr-devel subversion-devel apr-util-devel

    # 在终端中，开启'devtoolset-2'
    $ scl enable devtoolset-2 bash
    $ g++ --version  # 注意：一定要 GCC &gt; 4.8！
</code></pre>
<h3>CentOS 7.1</h3>
<p>下面 CentOS 7.1 中的步骤说明：</p> 
<pre><code>    # 安装基础工具
    $ sudo yum install -y tar wget

    # 下载 Apache Maven 仓库文件
    $ sudo wget http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo -O /etc/yum.repos.d/epel-apache-maven.repo

    # 'Mesos &gt; 0.21.0' 需要 'subversion &gt; 1.8' 开发包
    # 不过这版本没在默认仓库里，需要手动添加。
    # 在文件'/etc/yum.repos.d/wandisco-svn.repo'中添加如下内容：

      [WANdiscoSVN]
      name=WANdisco SVN Repo 1.9
      enabled=1
      baseurl=http://opensource.wandisco.com/centos/7/svn-1.9/RPMS/$basearch/
      gpgcheck=1
      gpgkey=http://opensource.wandisco.com/RPM-GPG-KEY-WANdisco

    # 安装相应开发工具
    $ sudo yum groupinstall -y "Development Tools"

    # 安装 Mesos 依赖
    $ sudo yum install -y apache-maven python-devel java-1.7.0-openjdk-devel zlib-devel libcurl-devel openssl-devel cyrus-sasl-devel cyrus-sasl-md5 apr-devel subversion-devel apr-util-devel
</code></pre>
<h2>编译 Mesos</h2> 
<pre><code>    # 切换到源码目录
    $ cd mesos

    # 自检 (只在从 git 编译时需要)
    $ ./bootstrap

    # 配置并编译
    $ mkdir build
    $ cd build
    $ ../configure
    $ make
</code></pre>
<p>可设置<code>-j &lt;使用核心数量&gt; V=0</code> 来加快编译进度，减少日志输出。</p> 
<pre><code>    # 运行测试
    $ make check

    # 安装
    $ make install
</code></pre>
<h2>示例</h2>
<p>Mesos 自带 C++, Java 和 Python 框架实例</p> 
<pre><code>    # 切换到源码目录
    $ cd build

    # 启动 mesos 主控端(请确保 目录存在，且权限合适)
    $ ./bin/mesos-master.sh --ip=127.0.0.1 --work_dir=/var/lib/mesos

    # 启动 被控
    $ ./bin/mesos-slave.sh --master=127.0.0.1:5050

    # 访问 mesos页面
    $ http://127.0.0.1:5050

    # 运行 C++ 框架 (运行任务成功后会退出)
    $ ./src/test-framework --master=127.0.0.1:5050

    # 运行Java 框架 (运行任务成功后会退出) 
    $ ./src/examples/java/test-framework 127.0.0.1:5050

    # 运行 Python 框架 (运行任务成功后会退出)
    $ ./src/examples/python/test-framework 127.0.0.1:5050
</code></pre>
<p><em>NOTE: 需要使用 <code>make check</code>编译测试套件，才会编译 实例框架。</em></p>
			</div>

																								<h3 id="text_33731" class="sin_target">配置</h3>
<div class="sin_text">
    					<h1>Mesos 配置</h1>
<p>Mesos主控端和被控端的配置可选项 可通过 命令行参数 或 设置环境变量 来配置。<br>输入命令 <code>mesos-master --help</code> 和 <code>mesos-slave --help</code>可查看所有 主控端和被控端 的可用参数，参数可通过两种方式设置：</p> 
<ul> 
 <li>在命令行 使用 <code>--option_name=value</code> 设置，可直接输入 设置的值，也可指定一个存储了设置的文件 (<code>--option_name=file://path/to/file</code>)，可以是 绝对路径也可以当前路径的相对路径。</li> 
 <li>设置环境变量<code>MESOS_OPTION_NAME</code>（名称格式是参数名字加上前缀 <code>MESOS_</code> ）。</li> 
</ul>
<p>配置的使用顺序：先搜索环境变量，然后再使用命令行变量。</p>
<p><strong>重要提示</strong></p>
<p>若需特殊编译，可在预配置时，通过命令 <code>./configure --help</code> 查看编译配置帮助。</p>
<p>另外，下文所列参数仅仅是Mesos最近版本的，具体可以使用哪些参数，需要根据你的Mesos版本而定，可通过 在命令后添加 <code>--help</code> 查询，比如 <code>mesos-master --help</code>。</p>
<h2>主控和被控端通用参数</h2>
<p><em>下面参数可通用于主控和被控端</em></p> 
<table>  
 <tbody><tr> 
  <th> 标记 </th> 
  <th> 解释 </th> 
 </tr>  
 </tbody><tbody>
  <tr> 
   <td> --external_log_file=VALUE </td> 
   <td> 设定外部日志文件。此日志可通过 web界面和HTTP api 查看。用途：使用了Mesos不识别的 stderr logging 作为日志文件。 </td> 
  </tr> 
  <tr> 
   <td> --firewall_rules=VALUE </td> 
   <td> 设置防火墙规则，所设置的值 必须是个 json格式字串，或者是 使用了json格式的文档路径。路径格式： <code>file:///path/to/file</code> 或者 <code>/path/to/file</code>. <p></p> 可在防火墙信息输出带flags.proto中，查看可用格式。 <p></p> 示例： <pre><code>{
  "disabled_endpoints" : {
    "paths" : [
      "/files/browse",
      "/slave(0)/stats.json",
    ]
  }
}</code></pre> </td> 
  </tr> 
  <tr> 
   <td> --[no-]help </td> 
   <td> 屏显帮助信息（默认设置：false，也就是不输出） </td> 
  </tr> 
  <tr> 
   <td> --[no-]initialize_driver_logging </td> 
   <td> 设置是否初始化 google 调度日志 和／或者 执行器驱动。（默认：true） </td> 
  </tr> 
  <tr> 
   <td> --ip=VALUE </td> 
   <td> 设置监听的IP地址，当使用 `--ip_discovery_command` 时，这个设定会失效。 </td> 
  </tr> 
  <tr> 
   <td> --ip_discovery_command=VALUE </td> 
   <td> 可选项，若设置，将使用主控绑定的IP地址。这个设定和 `--ip`　互斥。 </td> 
  </tr> 
  <tr> 
   <td> --log_dir=VALUE </td> 
   <td> 设置日志文件存储地址（无默认设置，当无设置时，将不会生成任何日志文件。但不会影响到　stderr 日志）。 </td> 
  </tr> 
  <tr> 
   <td> --logbufsecs=VALUE </td> 
   <td> 设置多少分钟记录一次日志信息（默认是０） </td> 
  </tr> 
  <tr> 
   <td> --logging_level=VALUE </td> 
   <td> 设置记录的日志信息级别，可用的设置： 'INFO'（一般信息）, 'WARNING'（警告）, 'ERROR'（出错）; 若使用　`quiet`　参数，将只会作用到　log_dir（若设置了的话）里的日志。（默认级别：INFO）。 </td> 
  </tr> 
  <tr> 
   <td> --port=VALUE </td> 
   <td> 设置监听的端口（主控默认：5050，被控默认：5051） </td> 
  </tr> 
  <tr> 
   <td> --[no-]quiet </td> 
   <td> 设置不把日志输出到 stderr（默认：false） </td> 
  </tr> 
  <tr> 
   <td> --[no-]version </td> 
   <td> 显示版本并退出（默认：false） </td> 
  </tr> 
 </tbody>
</table>
<h2>主控参数</h2>
<p><em>必设参数</em></p> 
<table>  
 <tbody><tr> 
  <th> 标记 </th> 
  <th> 解释 </th> 
 </tr>  
 </tbody><tbody>
  <tr> 
   <td> --advertise_ip=VALUE </td> 
   <td> 设置外网可通达主控的对公IP地址。Mesos主控自身不会绑定这个IP地址，但这IP将用来操控Mesos主控端。 </td> 
  </tr> 
  <tr> 
   <td> --advertise_port=VALUE </td> 
   <td> 设置可通达主控的对公端口。Mesos主控自身不会绑定这个端口，但这端口和上面提到的对公IP将用来操控Mesos主控端。 </td> 
  </tr> 
  <tr> 
   <td> --quorum=VALUE </td> 
   <td> 当登记为“同步日志”（'replicated_log'）时，设置 相对多数的值。 这个值必须大于主控数的一半，比如：相对多数 &gt; (主控数)/2。 <p></p> <b>NOTE</b> 当主控只有一个时(non-HA)，不需要设置这个值。 </td> 
  </tr> 
  <tr> 
   <td> --work_dir=VALUE </td> 
   <td> 设置　注册的信息　存储位置。 </td> 
  </tr> 
  <tr> 
   <td> --zk=VALUE </td> 
   <td> ZooKeeper的连接地址（用于主控们选举主导者）。格式使用下面之一即可： <pre><code>zk://主机地址1:端口1,主机地址2:端口2,.../路径
zk://用户名:密码@主机地址1:端口1,主机地址2:端口2,.../路径
file:///path/to/file (包含上面信息文件的位置)</code></pre> <p></p> <b>NOTE</b> 当主控只有一个时(non-HA)，不需要设置这个值。 </td> 
  </tr> 
 </tbody>
</table>
<p><em>可选参数</em></p> 
<table>  
 <tbody><tr> 
  <th> 标记 </th> 
  <th> 解释 </th> 
 </tr>  
 </tbody><tbody>
  <tr> 
   <td> --acls=VALUE </td> 
   <td> 设置可执行列表，格式是JSON格式的字串或者是使用JSON的文件路径。可以绝对路径也可以相对路径，如：<code>file:///path/to/file</code> 或　<code>/path/to/file</code>。 <p></p> 在mesos.proto的ACL的protobuf中，查看可用格式。 <p></p> JSON配置文件示例: <pre><code>{
  "register_frameworks": [
    {
      "principals": { "type": "ANY" },
      "roles": { "values": ["a"] }
    }
  ],
  "run_tasks": [
    {
      "principals": { "values": ["a", "b"] },
      "users": { "values": ["c"] }
    }
  ],
  "shutdown_frameworks": [
    {
      "principals": { "values": ["a", "b"] },
      "framework_principals": { "values": ["c"] }
    }
  ]
}</code></pre> </td> 
  </tr> 
  <tr> 
   <td> --allocation_interval=VALUE </td> 
   <td> 设置（成批）分配资源时的等待回馈时间量。 (比如 500ms, 1sec, 等). (默认1秒： 1secs) </td> 
  </tr> 
  <tr> 
   <td> --allocator=VALUE </td> 
   <td> 分配资源的调度器，默认<code>HierarchicalDRF</code>，或者使用 <code>--modules</code>来调用 调度器。 (默认： HierarchicalDRF) </td> 
  </tr> 
  <tr> 
   <td> --[no-]authenticate </td> 
   <td> 若认证被设定为`true`，将只有被认证的应用可被注册。默认所有非认证的应用都可注册。(默认： false) </td> 
  </tr> 
  <tr> 
   <td> --[no-]authenticate_slaves </td> 
   <td> 若设为'true'，认证的被控端将可注册。 <p></p> 默认所有非认证的被控端皆可注册。 (默认： false) </td> 
  </tr> 
  <tr> 
   <td> --authenticators=VALUE </td> 
   <td> 设定认证方式，默认<code>crammd5</code>，或者使用 <code>--modules</code>来调用 认证模块。 (默认： crammd5) </td> 
  </tr> 
  <tr> 
   <td> --authorizers=VALUE </td> 
   <td> 设置授权方式，默认使用<code>local</code>，或者使用 <code>--modules</code>来调用 授权模块。 <br> Note：当 <code>--authorizers</code>的值不是<code>local</code>时，可执行列表<code>--acls</code>传递的参数将被忽略。 <br> 当前不支持混用多种授权方式。<br> (默认：<code>local</code>) </td> 
  </tr> 
  <tr> 
   <td> --cluster=VALUE </td> 
   <td> 设定在web界面里显示的集群名。 </td> 
  </tr> 
  <tr> 
   <td> --credentials=VALUE </td> 
   <td> 设定证书列表路径。证书列表可以是一个文本文件（每行记录一个 授权对象和密钥，用空格隔开），也可以是一个json格式文档。路径格式可以是<code>file:///path/to/file</code> 或者 <code>/path/to/file</code> <p></p> JSON文件示例： <pre><code>{
  "credentials": [
    {
      "principal": "sherman",
      "secret": "kitesurf"
    }
  ]
}</code></pre> <p></p> 文本文件示例: <pre><code>    username secret </code></pre> </td> 
  </tr> 
  <tr> 
   <td> --framework_sorter=VALUE </td> 
   <td> 设置 用户的应用 间的资源分配策略。值和user_allocator一样。 (默认按优先度分配： drf) </td> 
  </tr> 
  <tr> 
   <td> --hooks=VALUE </td> 
   <td> 设置主控将安装的可调用模块，模块名间用逗号隔开。 </td> 
  </tr> 
  <tr> 
   <td> --hostname=VALUE </td> 
   <td> 设置主控在ZooKeeper中的主机名。 若不设置，将使用IP地址标识。 </td> 
  </tr> 
  <tr> 
   <td> --[no-]log_auto_initialize </td> 
   <td> 设置是否在注册时自动初始化 “同步日志”，若设为 flase，则以后首次使用的时候，需要手动创建。 (默认： true) </td> 
  </tr> 
  <tr> 
   <td> --max_slave_ping_timeouts=VALUE </td> 
   <td> 设置 呼叫 被控端无回应的超时时间。超时的被控端将被移除。 (默认： 5) </td> 
  </tr> 
  <tr> 
   <td> --modules=VALUE </td> 
   <td> 设置内部子系统需要加载的模块。 <p></p> 可用 <code>--modules=filepath</code>指定文件路径。文件是以JSON格式保存的需加载模块列表。 文件内路径格式可用 <code>file:///path/to/file</code> 或 <code>/path/to/file</code>。<p></p> 也可用 <code>--modules="{...}"</code>在行内列出所需加载的模块。 <p></p> JSON文件示例： <pre><code>{
  "libraries": [
    {
      "file": "/path/to/libfoo.so",
      "modules": [
        {
          "name": "org_apache_mesos_bar",
          "parameters": [
            {
              "key": "X",
              "value": "Y"
            }
          ]
        },
        {
          "name": "org_apache_mesos_baz"
        }
      ]
    },
    {
      "name": "qux",
      "modules": [
        {
          "name": "org_apache_mesos_norf"
        }
      ]
    }
  ]
}</code></pre> </td> 
  </tr> 
  <tr> 
   <td> --offer_timeout=VALUE </td> 
   <td> 设置应用申请资源的超时时间。 <p></p> 这可用于：当应用应用一直不停申请资源时，或者应用意外丢失申请时。 </td> 
  </tr> 
  <tr> 
   <td> --rate_limits=VALUE </td> 
   <td> 设置应用的资源使用最大比例，可以是一个JSON格式的字串，也可以一个设定的JSON格式文件。 <p></p> 文件内路径格式可用 <code>file:///path/to/file</code> 或 <code>/path/to/file</code>。 <p></p> 见mesos.proto里的 RateLimits protobuf，查看可用格式。 <p></p> 示例： <pre><code>{
  "limits": [
    {
      "principal": "foo",
      "qps": 55.5
    },
    {
      "principal": "bar"
    }
  ],
  "aggregate_default_qps": 33.3
}</code></pre> </td> 
  </tr> 
  <tr> 
   <td> --recovery_slave_removal_limit=VALUE </td> 
   <td> 设置被移出注册表以及重新注册超时后关机的被控端比例，以启动 切换备用 模式。 若超过此设定的比例，则主控将会 启用备用 模式，而不是移除被控。 <p></p> 在生产环境中，这种模式可令系统更为稳健。生产环境中，主控间频繁切换就相当于 被控端永久崩溃的比例已经超过最大设定。（比例由rack-level设定）。 <p></p> 此项设置可用于 当集群发生大规模被控崩溃的时候，让人工干预。 <p></p> 值： [0%-100%] (默认： 100%) </td> 
  </tr> 
  <tr> 
   <td> --registry=VALUE </td> 
   <td> 设置注册的策略。 <p></p> 可用设置：'replicated_log'（）, 'in_memory' (测试中的功能). (默认： replicated_log) </td> 
  </tr> 
  <tr> 
   <td> --registry_fetch_timeout=VALUE </td> 
   <td> 设置获取注册信息的超时时间。(默认1分钟： 1mins) </td> 
  </tr> 
  <tr> 
   <td> --registry_store_timeout=VALUE </td> 
   <td> 设置存储注册信息的超时时间。(默认5秒： 5secs) </td> 
  </tr> 
  <tr> 
   <td> --[no-]registry_strict </td> 
   <td> 设置是否验证注册信息。若设置为 false，则代表接受所有的注册，包括：被控加入申请、被控读取申请、移除被控申请。这样设置不需系统重构，从而可令运行中的集群 保持持续运转。 <p></p> NOTE: 此项功能目前仍处 *实验* 阶段，不可用于生产环境！(默认：false) </td> 
  </tr> 
  <tr> 
   <td> --roles=VALUE </td> 
   <td> 设置应用所属 角色，格式是用逗号分隔 所属角色名的字串。 </td> 
  </tr> 
  <tr> 
   <td> --[no-]root_submissions </td> 
   <td> 设置是否可以以 root 身份登录。(默认： true) </td> 
  </tr> 
  <tr> 
   <td> --slave_ping_timeout=VALUE </td> 
   <td> 设置 主控 呼叫 被控 的超时时间。超时无回应的被控将被移出注册表。 (默认15秒：15secs) </td> 
  </tr> 
  <tr> 
   <td> --slave_removal_rate_limit=VALUE </td> 
   <td> 设置 移除被控端的 最大速度（比如10分钟移除一个，或者3小时移除2个：1/10mins, 2/3hrs 等），默认是遇到失联的被控则立刻移除。 <p></p> 设置值的计算公式：'被控数量'/'间隔时间' </td> 
  </tr> 
  <tr> 
   <td> --slave_reregister_timeout=VALUE </td> 
   <td> 设置 当新主导端被选定后，所有被控端 重新注册 的超时时间。超时的被控端将被剔除出成员表，它们对主控的连接将被关闭。 <p></p> NOTE: 此值最小10分钟。(默认10分钟： 10mins) </td> 
  </tr> 
  <tr> 
   <td> --user_sorter=VALUE </td> 
   <td> 设置用户间资源分配策略，如下： <p></p> dominant_resource_fairness (drf) (默认按优先度分配： drf) </td> 
  </tr> 
  <tr> 
   <td> --webui_dir=VALUE </td> 
   <td> web界面的路径 (默认： /usr/local/share/mesos/webui) </td> 
  </tr> 
  <tr> 
   <td> --weights=VALUE </td> 
   <td> 角色和权重（优先度）列表，用逗号分隔。如 'role=weight,role=weight'。 </td> 
  </tr> 
  <tr> 
   <td> --whitelist=VALUE </td> 
   <td> 设定一个白名单文件名，此文件里每行记录一个被控端可供给的资源信息，此文件会被监视，一定周期内会被重读刷新　被控端白名单。默认没有白名单，所有机器都可被接受。（默认：None） <p></p> 示例： <pre><code>file:///etc/mesos/slave_whitelist</code></pre> <p></p> </td> 
  </tr> 
  <tr> 
   <td> --zk_session_timeout=VALUE </td> 
   <td> 设置ZooKeeper会话超时时间。(默认10秒：10secs) </td> 
  </tr> 
 </tbody>
</table>
<p><em>当使用了’–with-network-isolator’时，可用参数设置</em></p> 
<table>  
 <tbody><tr> 
  <th>标记 </th> 
  <th>解释 </th> 
 </tr>  
 </tbody><tbody> 
  <tr> 
   <td>–max_executors_per_slave=VALUE </td> 
   <td>设置 每个被控端 可用执行器最大数量。网络监控和隔离技术会让每个执行器占用一定的资源(# ephemeral ports)，因此每个被控端只能运行一定数量的执行器。 <p></p> 当被控端的临时端口都被分配后，此标识用于避免 应用再来获取资源申请。 </td> 
  </tr> 
 </tbody> 
</table>
<h2>被控参数</h2>
<p><em>必设参数</em></p> 
<table>  
 <tbody><tr> 
  <th> 标记 </th> 
  <th> 解释 </th> 
 </tr>  
 </tbody><tbody>
  <tr> 
   <td> --master=VALUE </td> 
   <td> 设置连接主控的方式。有三种方式： 
    <ol> 
     <li> 主控的主机名或者IP地址，多个用逗号分隔。如： <pre><code>--master=localhost:5050
--master=10.0.0.5:5050,10.0.0.6:5050
</code></pre> </li> 
     <li> zookeeper 或 quorum hostname/ip + 端口 + 主控注册表路径</li> 
     <pre><code>--master=zk://host1:port1,host2:port2,.../path
--master=zk://username:password@host1:port1,host2:port2,.../path
</code></pre>  
     <li> 可以把上面两种设定中的一种放进一个文件里，然后指定文件路径<code>file:///path/to/file</code>，连接主控。 </li> 
    </ol> </td> 
  </tr> 
 </tbody>
</table>
<p><em>可选参数</em></p> 
<table>  
 <tbody><tr> 
  <th> 标志 </th> 
  <th> 解释 </th> 
 </tr>  
 </tbody><tbody>
  <tr> 
   <td> --attributes=VALUE </td> 
   <td> 设置机器参数，格式如下： <p></p> <code>rack:2</code> 或 <code>'rack:2;u:1'</code> </td> 
  </tr> 
  <tr> 
   <td> --authenticatee=VALUE </td> 
   <td> 设定认证方式，默认<code>crammd5</code>，或者使用 <code>--modules</code>来调用 认证模块。 </td> 
  </tr> 
  <tr> 
   <td> --[no-]cgroups_cpu_enable_pids_and_tids_count </td> 
   <td> 设置使用分组策略cgroup来计算容器中的进程和线程。(默认： false) </td> 
  </tr> 
  <tr> 
   <td> --[no-]cgroups_enable_cfs </td> 
   <td> 设置使用分组策略cgroup的CFS带宽限额来限制CPU使用量。 (默认： false) </td> 
  </tr> 
  <tr> 
   <td> --cgroups_hierarchy=VALUE </td> 
   <td> 设置cgroup是的路径 (默认： /sys/fs/cgroup) </td> 
  </tr> 
  <tr> 
   <td> --[no-]cgroups_limit_swap </td> 
   <td> 设置使用分组策略cgroup限制内存和缓存使用量。 (默认： false) </td> 
  </tr> 
  <tr> 
   <td> --cgroups_root=VALUE </td> 
   <td> 设置cgroup的根名字。 (默认： mesos) </td> 
  </tr> 
  <tr> 
   <td> --container_disk_watch_interval=VALUE </td> 
   <td> 设置当使用<code>posix/disk</code>分隔策略时，内部容器间对磁盘轮询的时间间隔。 (默认15秒： 15secs) </td> 
  </tr> 
  <tr> 
   <td> --containerizer_path=VALUE </td> 
   <td> 设置当 外部网络隔离启用时(--isolation=external)，外部管理容器的路径。 </td> 
  </tr> 
  <tr> 
   <td> --containerizers=VALUE </td> 
   <td> 设置使用的容器管理工具，多个的话用逗号分隔，系统将按出现的顺序使用。 <p></p> 可用的值：'mesos', 'external', 和 'docker' (on Linux)。 (默认： mesos) </td> 
  </tr> 
  <tr> 
   <td> --credential=VALUE </td> 
   <td> 设定证书列表路径。证书列表可以是一个文本文件（每行记录一个 授权对象和密钥，用空格隔开），也可以是一个json格式文档。路径格式可以是<code>file:///path/to/file</code> 或者 <code>/path/to/file</code> <p>JSON文件示例：</p><p></p> <pre><code>{
  "principal": "username",
  "secret": "secret"
}</code></pre> </td> 
  </tr> 
  <tr> 
   <td> --default_container_image=VALUE </td> 
   <td> 设置当使用外部容器工具时，默认使用的镜像。 </td> 
  </tr> 
  <tr> 
   <td> --default_container_info=VALUE </td> 
   <td> 设定默认容器信息ContainerInfo路径，信息保存在一个JSON格式文档中。当没有指定容器信息的时候，ExecutorInfo将使用这个默认值。 <p></p> 可在mesos.proto的ContainerInfo protobuf 中，查看可用格式。 <p></p> 内容示例如下： <pre><code>{
  "type": "MESOS",
  "volumes": [
    {
      "host_path": "./.private/tmp",
      "container_path": "/tmp",
      "mode": "RW"
    }
  ]
}</code></pre> </td> 
  </tr> 
  <tr> 
   <td> --default_role=VALUE </td> 
   <td> 设置默认角色：当 `--resources` 但却没有设置角色的时候，或者没有列在`--resources`中的，都将使用此默认角色。 (默认： `*`) </td> 
  </tr> 
  <tr> 
   <td> --disk_watch_interval=VALUE </td> 
   <td> 设置监测磁盘空间使用状况的周期时间。 (默认1分钟： 1mins) </td> 
  </tr> 
  <tr> 
   <td> --docker=VALUE </td> 
   <td> 设置docker的绝对路径。 (默认： docker) </td> 
  </tr> 
  <tr> 
   <td> --docker_remove_delay=VALUE </td> 
   <td> 延迟移除docker容器的时间（比如3天，2周等 3days, 2weeks）。 (默认6小时： 6hrs) </td> 
  </tr> 
  <tr> 
   <td> --[no-]docker_kill_orphans </td> 
   <td> 设置让docker管理器关闭已经空载的容器。当需要在同一个系统里面运行多个被控的时候，需要设置为 false，已免docker移除被其他 被控端使用的 容器。同时，也需要给被控开启运行监测，以使得 被控的识别名能够重用，否则被控上的docker任务在重启的时候将无法被清空。 (默认： true) </td> 
  </tr> 
  <tr> 
   <td> --docker_sock=VALUE </td> 
   <td> 设置 将被docker执行器加载的UNIXsocket路径，以使docker命令行界面里可操作docker守护进程。这个路径必须是被控的docker 镜像里用的。 (默认： /var/run/docker.sock) </td> 
  </tr> 
  <tr> 
   <td> --docker_mesos_image=VALUE </td> 
   <td> 设置docker镜像，用于运行 mesos被控实例。若镜像被指定，被控端运行于docker容器中，当被控端重启并恢复的时候，将用docker容器加载执行器，来恢复状态。 </td> 
  </tr> 
  <tr> 
   <td> --docker_stop_timeout=VALUE </td> 
   <td> 设置docker停用到杀死一个实例的等待时间，默认0秒表示停止后立即杀死。 (默认0秒： 0secs) </td> 
  </tr> 
  <tr> 
   <td> --sandbox_directory=VALUE </td> 
   <td> 设置容器中沙箱所指的绝对路径。 (默认： /mnt/mesos/sandbox) </td> 
  </tr> 
  <tr> 
   <td> --[no-]enforce_container_disk_quota </td> 
   <td> 设置容器是否开启磁盘使用限额。此项用于 `posix/disk` 隔离器。 (默认： false) </td> 
  </tr> 
  <tr> 
   <td> --executor_environment_variables </td> 
   <td> 设置传递给执行器及随后任务的环境变量，格式为JSON对象。默认执行器继承被控端的环境变量。 示例： <pre><code>{
  "PATH": "/bin:/usr/bin",
  "LD_LIBRARY_PATH": "/usr/local/lib"
}</code></pre> </td> 
  </tr> 
  <tr> 
   <td> --executor_registration_timeout=VALUE </td> 
   <td> 设置执行器向被控注册的超时时间，超过设定时间则被认为是挂起并被关闭。(可以 60secs, 3mins, 等) (默认1分钟：1mins) </td> 
  </tr> 
  <tr> 
   <td> --executor_shutdown_grace_period=VALUE </td> 
   <td> 设置执行器关闭前的等待时间(可以 60secs, 3mins, 等) (默认5秒： 5secs) </td> 
  </tr> 
  <tr> 
   <td> --frameworks_home=VALUE </td> 
   <td> 设置应用的家路径，用于作为相应执行器URI的前缀。(默认无： ) </td> 
  </tr> 
  <tr> 
   <td> --gc_delay=VALUE </td> 
   <td> 设置清理执行器目录的周期。 <p></p> 注意：可根据磁盘使用情况确定周期。(默认一周： 1weeks) </td> 
  </tr> 
  <tr> 
   <td> --gc_disk_headroom=VALUE </td> 
   <td> 设置执行器目录的纯空置率（就是完全没被用到的磁盘空间比例，）。纯空置率用于计算目录存续期，存续期计算方式：<p></p> <code>gc_delay * max(0.0, (1.0 - gc_disk_headroom - disk usage))</code> every <code>--disk_watch_interval</code> duration. <code>gc_disk_headroom</code>数字必须在0.0到 1.0之间。 (默认： 0.1) </td> 
  </tr> 
  <tr> 
   <td> --hadoop_home=VALUE </td> 
   <td> 设置Hadoop的家目录，以便可在HDFS中找到应用执行器。若无设置，则会从环境变量中寻找 HADOOP_HOME 或在 PATH中找 可执行程序hadoop。(默认无 ) </td> 
  </tr> 
  <tr> 
   <td> --hooks=VALUE </td> 
   <td> 设置将被安装在主控上的可注入模块，多个用逗号分隔。 </td> 
  </tr> 
  <tr> 
   <td> --hostname=VALUE </td> 
   <td> 设置被控的主机名。 <p></p> 若没有设置，则会用被控的IP地址来绑定主机名。 </td> 
  </tr> 
  <tr> 
   <td> --isolation=VALUE </td> 
   <td> 设置隔离机制。比如'posix/cpu,posix/mem', or 'cgroups/cpu,cgroups/mem', 或 network/port_mapping (可用 --with-network-isolator 开启并设置), 或者 'external', 或者可用载入一个 <code>--modules</code>隔离模块。 注意：只对Mesos容器管理器有效。(默认：posix/cpu,posix/mem) </td> 
  </tr> 
  <tr> 
   <td> --launcher_dir=VALUE </td> 
   <td> 设置Mesos可执行程序路径(默认： /usr/local/lib/mesos) </td> 
  </tr> 
  <tr> 
   <td> --modules=VALUE </td> 
   <td> 设置内部子系统可用的模块名。 <p></p> 可用 <code>--modules=filepath</code>指定文件路径。文件是以JSON格式保存的需加载模块列表。 文件内路径格式可用 <code>file:///path/to/file</code> 或 <code>/path/to/file</code>。<p></p> 也可用 <code>--modules="{...}"</code>在行内列出所需加载的模块。 <p></p> JSON文件内容示例： <pre><code>
{
  "libraries": [
    {
      "file": "/path/to/libfoo.so",
      "modules": [
        {
          "name": "org_apache_mesos_bar",
          "parameters": [
            {
              "key": "X",
              "value": "Y"
            }
          ]
        },
        {
          "name": "org_apache_mesos_baz"
        }
      ]
    },
    {
      "name": "qux",
      "modules": [
        {
          "name": "org_apache_mesos_norf"
        }
      ]
    }
  ]
}</code></pre> </td> 
  </tr> 
  <tr> 
   <td> --oversubscribed_resources_interval=VALUE </td> 
   <td> 设置间隔汇报时间：被控会把目前估算的 已用（也就是可被回收）及还没用的过剩资源总量，定期告诉主控。 (默认15秒： 15secs) </td> 
  </tr> 
  <tr> 
   <td> --perf_duration=VALUE </td> 
   <td> 设置一个perf统计周期的长度，这个值必须低于perf_interval。(默认10秒： 10secs) </td> 
  </tr> 
  <tr> 
   <td> --perf_events=VALUE </td> 
   <td> 设置使用 perf_event 分隔器时，用于统计每个容器的perf事件。默认为 none。 <p></p> 可输入命令 'perf list' 查看所有的事件。在PerfStatistics protobuf里，事件名会被转为小写，连字符会被替换为下划线。比如cpu-cycles 变成 cpu_cycles，可在 PerfStatistics protobuf中查看所有的名字。 </td> 
  </tr> 
  <tr> 
   <td> --perf_interval=VALUE </td> 
   <td> 设置 perf 统计周期间的间隔，系统会根据这个间隔时间，获取perf的数据，并把最近的数据返回而不是展现。可见，这个perf_interval和资源监控间隔是不一样的。(默认１分钟： 1mins) </td> 
  </tr> 
  <tr> 
   <td> --qos_controller=VALUE </td> 
   <td> 设置QoS Controller的名字，用于过载检验。 </td> 
  </tr> 
  <tr> 
   <td> --qos_correction_interval_min=VALUE </td> 
   <td> 设置据QoS而调整的最小间隔周期：QoS Controller会根据自己监测到的任务运行性能进行调整，被控会轮询并据此调整。(默认0秒： 0secs) </td> 
  </tr> 
  <tr> 
   <td> --recover=VALUE </td> 
   <td> 设置是否以更新的状态 还原 并重新连接 原有执行器。 <p></p> 可用的值： <p></p> reconnect: 重新连接那些 失联过但可用的执行器。 <p></p> cleanup : 杀死所有 失联但仍存在的执行器，并退出。——当被控和执行器需要 不向前兼容的升级时可用这项。 <p></p> <p></p> NOTE: 若被控的运行监测没有退出，还原操作将不会发生，而是当作新被控在主控注册。(默认重连： reconnect) </td> 
  </tr> 
  <tr> 
   <td> --recovery_timeout=VALUE </td> 
   <td> 设置还原被控端时的操作超时总时间。若被控端还原所需时间超过设定的时间，则此指向此被控端、待重连的执行器都将自动中断。 <p></p> NOTE: 此设置只有当`--checkpoint`启用时才有效。 (默认15分钟：15mins) </td> 
  </tr> 
  <tr> 
   <td> --registration_backoff_factor=VALUE </td> 
   <td> 设置被控端到一个新主控重新注册的时间因子。被控会在 [0, b] 之间随机选择一个时间。 b = registration_backoff_factor 时间因子。 <p></p> 随后的重新注册时间间隔，将以此为基础指数级增加直到满1分钟，比如第一次[0, b * 2^1]之间随机选择，第二次[0, b * 2^2]，第三次[0, b * 2^3] 等。 (默认1秒： 1secs) </td> 
  </tr> 
  <tr> 
   <td> --resource_estimator=VALUE </td> 
   <td> 设置监测资源过剩的估算器名称。 </td> 
  </tr> 
  <tr> 
   <td> --resource_monitoring_interval=VALUE </td> 
   <td> 设置监控执行器资源使用情况的间隔时间。(比如：10secs, 1min等) (默认1秒：1secs) </td> 
  </tr> 
  <tr> 
   <td> --resources=VALUE </td> 
   <td> 设置每个被控总共可用的资源量。形式如下： <p></p> <code>name(role):value;name(role):value...</code>. </td> 
  </tr> 
  <tr> 
   <td> --[no-]revocable_cpu_low_priority </td> 
   <td> 设置是否以低优先度在可资源回收的CPU中运行，目前仅有cgroups/cpu隔离器支持此功能。 (默认： true) </td> 
  </tr> 
  <tr> 
   <td> --slave_subsystems=VALUE </td> 
   <td> 设置 以cgroup子系统 来运行被控程序，多个以逗号分隔，比如 <code>memory,cpuacct</code>。默认none。 目前此功能用于资源监控，默认不限制群组，将继承mesos cgroup设置。 </td> 
  </tr> 
  <tr> 
   <td> --[no-]strict </td> 
   <td> 若设置 `strict=true`，则将只恢复没有任何出错时的状态。 <p></p> 若设置`strict=false`，所有之前的出错（比如类似：被控无法恢复执行器的信息，因为执行器在重注册之前被控端就挂了。），将被忽略，将尽可能恢复到最近状态。 (默认： true) </td> 
  </tr> 
  <tr> 
   <td> --[no-]switch_user </td> 
   <td> 设置是否在被控端，以不同于被控端当前用户的身份运行任务。(需要 setuid 操作权限) (默认： true) </td> 
  </tr> 
  <tr> 
   <td> --fetcher_cache_size=VALUE </td> 
   <td> 设置 获取器的缓存大小。单位：Bytes. (默认：2 GB) </td> 
  </tr> 
  <tr> 
   <td> --fetcher_cache_dir=VALUE </td> 
   <td> 设置 获取器的 缓存路径（这是父级路径，每个被控端一个子文件夹），默认路径放在工作目录中，方便操作。但生产环境则经常会把缓存单独存放到缓存卷，缓存和缓存卷的数据可能会互相干扰，因此，需要明确指定路径，以防不测。 (默认： /tmp/mesos/fetch) </td> 
  </tr> 
  <tr> 
   <td> --work_dir=VALUE </td> 
   <td> 设置应用的工作路径。(默认： /tmp/mesos) </td> 
  </tr> 
 </tbody>
</table>
<p><em>当使用’–with-network-isolator’时，可用的参数</em></p> 
<table>  
 <tbody><tr> 
  <th>标记 </th> 
  <th>解释 </th> 
 </tr>  
 </tbody><tbody> 
  <tr> 
   <td>–ephemeral_ports_per_container=VALUE </td> 
   <td>设置分配给容器的临时端口数。数字必须是2的乘方。(默认： 1024) </td> 
  </tr> 
  <tr> 
   <td>–eth0_name=VALUE </td> 
   <td>设置对外连接使用的网络接口（比如 eth0）。若没有指定，网络分隔器将根据主机的网关猜。 </td> 
  </tr> 
  <tr> 
   <td>–lo_name=VALUE </td> 
   <td>设置环连接的接口（比如 lo）。若没指定，网络分隔器将自己猜。 </td> 
  </tr> 
  <tr> 
   <td>–egress_rate_limit_per_container=VALUE </td> 
   <td>设置每个容器的对外网速限制，单位是 Bytes/s。若无设置，或者设置为0，网络分隔器将不限速。 </td> 
  </tr> 
  <tr> 
   <td>–[no-]network_enable_socket_statistics_summary </td> 
   <td>设置是否为每个容器采集 socket通讯的汇总信息。这个用于 ‘network/port_mapping’ 设置。(默认： false) </td> 
  </tr> 
  <tr> 
   <td>–[no-]network_enable_socket_statistics_details </td> 
   <td>设置是否为每个容器采集 socket通讯的详细信息。这个用于 ‘network/port_mapping’ 设置。 (默认：false) </td> 
  </tr> 
 </tbody> 
</table>
<h2>Libprocess 进程管理　参数</h2>
<p><em>内置的libprocess可用下面环境变量控制</em></p> 
<table>  
 <tbody><tr> 
  <th>变量 </th> 
  <th>解释 </th> 
 </tr>  
 </tbody><tbody> 
  <tr> 
   <td>LIBPROCESS_IP </td> 
   <td>设置用于和libprocess沟通的IP地址。 </td> 
  </tr> 
  <tr> 
   <td>LIBPROCESS_PORT </td> 
   <td>设置用于和libprocess沟通的端口。 </td> 
  </tr> 
  <tr> 
   <td>LIBPROCESS_ADVERTISE_IP </td> 
   <td>若设置，则会使用此IP用于libprocess的外部通讯。好处是有些不想让主控执行的通讯任务可以使用非对公ip。 </td> 
  </tr> 
  <tr> 
   <td>LIBPROCESS_ADVERTISE_PORT </td> 
   <td>若设置，则会使用此端口用于libprocess的外部通讯。注意：此端口实际上不会被绑定（本地的LIBPROCESS_PORT则会），因此本地ip和端口必须要单独设置。 </td> 
  </tr> 
 </tbody> 
</table>
<h2>Mesos编译配置参数</h2>
<h3>编译配置中有下面可选参数设置：</h3> 
<table>  
 <tbody><tr> 
  <th>标记 </th> 
  <th>解释 </th> 
 </tr>  
 </tbody><tbody> 
  <tr> 
   <td>–enable-shared[=PKGS] </td> 
   <td>编译共享库 [默认：=yes] </td> 
  </tr> 
  <tr> 
   <td>–enable-static[=PKGS] </td> 
   <td>编译静态库 [默认：=yes] </td> 
  </tr> 
  <tr> 
   <td>–enable-fast-install[=PKGS] </td> 
   <td>优化为快速安装 [默认：=yes] </td> 
  </tr> 
  <tr> 
   <td>–disable-libtool-lock </td> 
   <td>避免锁定（并行编译时锁死会打断编译） </td> 
  </tr> 
  <tr> 
   <td>–disable-java </td> 
   <td>不编译Java绑定 </td> 
  </tr> 
  <tr> 
   <td>–disable-python </td> 
   <td>不编译Python绑定 </td> 
  </tr> 
  <tr> 
   <td>–enable-debug </td> 
   <td>启用调试信息。若CFLAGS/CXXFLAGS 已经有设定，这个设定将不起作用（默认：no）。 </td> 
  </tr> 
  <tr> 
   <td>–enable-optimize </td> 
   <td>开启优化。若CFLAGS/CXXFLAGS 已经有设定，这个设定将不起作用（默认：no）。 </td> 
  </tr> 
  <tr> 
   <td>–disable-bundled </td> 
   <td>使用已装依赖，而不把依赖一起封包。 </td> 
  </tr> 
  <tr> 
   <td>–disable-bundled-distribute </td> 
   <td>不编译distribute，而是使用PYTHONPATH已安装的版本。 </td> 
  </tr> 
  <tr> 
   <td>–disable-bundled-pip </td> 
   <td>不编译pip，而是使用PYTHONPATH已安装的版本。 </td> 
  </tr> 
  <tr> 
   <td>–disable-bundled-wheel </td> 
   <td>不编译wheel，而是使用PYTHONPATH已安装的版本。 </td> 
  </tr> 
  <tr> 
   <td>–disable-python-dependency-install </td> 
   <td>当python依赖已经在<code>make install</code>阶段里装入时，不再需要下载或安装额外的依赖。 </td> 
  </tr> 
 </tbody> 
</table>
<h3>编译配置中有下面可选包设置：</h3> 
<table>  
 <tbody><tr> 
  <th>标记 </th> 
  <th>解释 </th> 
 </tr>  
 </tbody><tbody> 
  <tr> 
   <td>–with-gnu-ld </td> 
   <td>使用　GNU ld 来复位　Ｃ编译器。 [默认：=no] </td> 
  </tr> 
  <tr> 
   <td>–with-sysroot=DIR </td> 
   <td>在设定的路径下（若没设定，则使用编译器的sysroot），查找关联库。 </td> 
  </tr> 
  <tr> 
   <td>–with-zookeeper[=DIR] </td> 
   <td>不编译ZooKeeper，而是使用已安装的版本，此处指定已装版本路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-leveldb[=DIR] </td> 
   <td>不编译LevelDB，而是使用已安装的版本，此处指定已装版本路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-glog[=DIR] </td> 
   <td>不编译glog，而是使用已安装的版本，此处指定已装版本路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-protobuf[=DIR] </td> 
   <td>不编译protobuf，而是使用已安装的版本，此处指定已装版本路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-gmock[=DIR] </td> 
   <td>不编译gmock，而是使用已安装的版本，此处指定已装版本路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-curl=[=DIR] </td> 
   <td>设定curl路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-sasl=[=DIR] </td> 
   <td>设定sasl2路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-zlib=[=DIR] </td> 
   <td>设定zlib路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-apr=[=DIR] </td> 
   <td>设定apr-1路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-svn=[=DIR] </td> 
   <td>设定svn-1路径。 </td> 
  </tr> 
  <tr> 
   <td>–with-network-isolator </td> 
   <td>编译网络分隔器。 </td> 
  </tr> 
 </tbody> 
</table>
<h3>对编译配置有影响的环境变量：</h3>
<p>下面有些变量可能需要根据实际情况设定，以改变 <code>configure</code> 默认值，让编译器能够识别正确名字和路径。</p> 
<table>  
 <tbody><tr> 
  <th>变量 </th> 
  <th>解释 </th> 
 </tr>  
 </tbody><tbody> 
  <tr> 
   <td>JAVA_HOME </td> 
   <td>Java Development Kit (JDK)的路径 </td> 
  </tr> 
  <tr> 
   <td>JAVA_CPPFLAGS </td> 
   <td>JNI　的预编译器设定 </td> 
  </tr> 
  <tr> 
   <td>JAVA_JVM_LIBRARY </td> 
   <td>libjvm.so的完整路径 </td> 
  </tr> 
  <tr> 
   <td>MAVEN_HOME </td> 
   <td>mvn的路径。指MAVEN_HOME/bin/mvn中的MARVEN_HOME部分 </td> 
  </tr> 
  <tr> 
   <td>PROTOBUF_JAR </td> 
   <td>预编译时 protobuf jar的完整路径。 </td> 
  </tr> 
  <tr> 
   <td>PYTHON </td> 
   <td>使用的Python解析器 </td> 
  </tr> 
  <tr> 
   <td>PYTHON_VERSION </td> 
   <td>使用的Python版本，比如“2.3”。此字串将被按一定规则附加在Python解析器的名字后。 </td> 
  </tr> 
 </tbody> 
</table>
					    		<table cellpadding="0" cellspacing="0">
		        <thead>
			        <tr>
			        				           		<th></th>
			            			           		<th></th>
			            			           		<th></th>
			            			        </tr>
		        </thead>
		        <tbody>
		        					        <tr>
		        							        	<td>
				        		
				        	</td>
				        					        	<td>
				        		
				        	</td>
				        					        	<td>
				        		
				        	</td>
				        					        </tr>
		        					        <tr>
		        							        	<td>
				        		
				        	</td>
				        					        	<td>
				        		
				        	</td>
				        					        	<td>
				        		
				        	</td>
				        					        </tr>
		        					        <tr>
		        							        	<td>
				        		
				        	</td>
				        					        	<td>
				        		
				        	</td>
				        					        	<td>
				        		
				        	</td>
				        					        </tr>
		        			        </tbody>
    		</table>
					    		<table cellpadding="0" cellspacing="0">
		        <thead>
			        <tr>
			        				           		<th></th>
			            			           		<th></th>
			            			           		<th></th>
			            			        </tr>
		        </thead>
		        <tbody>
		        					        <tr>
		        							        	<td>
				        		
				        	</td>
				        					        	<td>
				        		
				        	</td>
				        					        	<