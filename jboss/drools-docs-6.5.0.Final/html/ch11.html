<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 11. Drools Commands</title><link rel="stylesheet" type="text/css" href="css/jbossorg.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"/><link rel="home" href="index.html" title="Drools Documentation"/><link rel="up" href="pt04.html" title="Part IV. Drools Integration"/><link rel="prev" href="pt04.html" title="Part IV. Drools Integration"/><link rel="next" href="ch12.html" title="Chapter 12. CDI"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="pt04.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch12.html"><strong>Next</strong></a></li></ul><div class="chapter" title="Chapter 11. Drools Commands"><div class="titlepage"><div><div><h2 class="title"><a id="ch.commands"/>Chapter 11. Drools Commands</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ch11.html#CommandsAPISection">11.1. API</a></span></dt><dd><dl><dt><span class="section"><a href="ch11.html#d0e13764">11.1.1. XStream</a></span></dt><dt><span class="section"><a href="ch11.html#d0e13780">11.1.2. JSON</a></span></dt><dt><span class="section"><a href="ch11.html#d0e13796">11.1.3. JAXB</a></span></dt></dl></dd><dt><span class="section"><a href="ch11.html#d0e13824">11.2. Commands supported</a></span></dt><dd><dl><dt><span class="section"><a href="ch11.html#d0e13904">11.2.1. BatchExecutionCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e13972">11.2.2. InsertObjectCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14054">11.2.3. RetractCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14121">11.2.4. ModifyCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14188">11.2.5. GetObjectCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14256">11.2.6. InsertElementsCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14334">11.2.7. FireAllRulesCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14409">11.2.8. StartProcessCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14479">11.2.9. SignalEventCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14548">11.2.10. CompleteWorkItemCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14615">11.2.11. AbortWorkItemCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14676">11.2.12. QueryCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14748">11.2.13. SetGlobalCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14826">11.2.14. GetGlobalCommand</a></span></dt><dt><span class="section"><a href="ch11.html#d0e14894">11.2.15. GetObjectsCommand</a></span></dt></dl></dd></dl></div><div class="section" title="11.1. API"><div class="titlepage"><div><div><h2 class="title"><a id="CommandsAPISection"/>11.1. API</h2></div></div></div><p>XML marshalling/unmarshalling of the Drools Commands requires the use
  of special classes, which are going to be described in the following
  sections.</p><p>The following urls show sample script examples for jaxb, xstream and
  json marshalling using:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>http://fisheye.jboss.org/browse/JBossRules/trunk/drools-camel/src/test/resources/org/drools/camel/component/jaxb.mvt?r=HEAD</p></li><li class="listitem"><p>http://fisheye.jboss.org/browse/JBossRules/trunk/drools-camel/src/test/resources/org/drools/camel/component/jaxb.mvt?r=HEAD</p></li><li class="listitem"><p>http://fisheye.jboss.org/browse/JBossRules/trunk/drools-camel/src/test/resources/org/drools/camel/component/xstream.mvt?r=HEAD</p></li></ul></div><div class="section" title="11.1.1. XStream"><div class="titlepage"><div><div><h3 class="title"><a id="d0e13764"/>11.1.1. XStream</h3></div></div></div><p>To use the XStream commands marshaller you need to use the
    DroolsHelperProvider to obtain an XStream instance. We need to use this
    because it has the commands converters registered.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Marshalling</p><p>BatchExecutionHelperProviderImpl.newXStreamMarshaller().toXML(command);</p></li><li class="listitem"><p>Unmarshalling</p><p>BatchExecutionHelperProviderImpl.newXStreamMarshaller().fromXML(xml)</p></li></ul></div></div><div class="section" title="11.1.2. JSON"><div class="titlepage"><div><div><h3 class="title"><a id="d0e13780"/>11.1.2. JSON</h3></div></div></div><p>JSON API to marshalling/unmarshalling is similar to XStream
    API:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Marshalling</p><p>BatchExecutionHelper.newJSonMarshaller().toXML(command);</p></li><li class="listitem"><p>Unmarshalling</p><p>BatchExecutionHelper.newJSonMarshaller().fromXML(xml)</p></li></ul></div></div><div class="section" title="11.1.3. JAXB"><div class="titlepage"><div><div><h3 class="title"><a id="d0e13796"/>11.1.3. JAXB</h3></div></div></div><p>There are two options for using JAXB, you can define your model in
    an XSD file or you can have a POJO model. In both cases you have to
    declare your model inside JAXBContext, and in order to do that you need to
    use Drools Helper classes. Once you have the JAXBContext you need to
    create the Unmarshaller/Marshaller as needed.</p><div class="section" title="11.1.3.1. Using an XSD file to define the model"><div class="titlepage"><div><div><h4 class="title"><a id="d0e13801"/>11.1.3.1. Using an XSD file to define the model</h4></div></div></div><p>With your model defined in a XSD file you need to have a
      KnowledgeBase that has your XSD model added as a resource.</p><p>To do this, the XSD file must be added as a XSD ResourceType into
      the KnowledgeBuilder. Finally you can create the JAXBContext using the
      KnowledgeBase created with the KnowledgeBuilder  </p><pre><code class="language-java">Options xjcOpts = new Options();
xjcOpts.setSchemaLanguage(Language.XMLSCHEMA);
JaxbConfiguration jaxbConfiguration = KnowledgeBuilderFactory.newJaxbConfiguration( xjcOpts, "xsd" );
kbuilder.add(ResourceFactory.newClassPathResource("person.xsd", getClass()), ResourceType.XSD, jaxbConfiguration);
KnowledgeBase kbase = kbuilder.newKnowledgeBase();

List&lt;String&gt; classesName = new ArrayList&lt;String&gt;();
classesName.add("org.drools.compiler.test.Person");
   
JAXBContext jaxbContext = KnowledgeBuilderHelper.newJAXBContext(classesName.toArray(new String[classesName.size()]), kbase);</code></pre></div><div class="section" title="11.1.3.2. Using a POJO model"><div class="titlepage"><div><div><h4 class="title"><a id="d0e13810"/>11.1.3.2. Using a POJO model</h4></div></div></div><p>In this case you need to use DroolsJaxbHelperProviderImpl to create the
      JAXBContext. This class has two parameters:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>classNames: A List with the canonical name of the classes that
          you want to use in the marshalling/unmarshalling process.</p></li><li class="listitem"><p>properties: JAXB custom properties</p></li></ol></div><pre><code class="language-java">List&lt;String&gt; classNames = new ArrayList&lt;String&gt;();
classNames.add("org.drools.compiler.test.Person");
JAXBContext jaxbContext = DroolsJaxbHelperProviderImpl.createDroolsJaxbContext(classNames, null);
Marshaller marshaller = jaxbContext.createMarshaller();</code></pre></div></div></div><div class="section" title="11.2. Commands supported"><div class="titlepage"><div><div><h2 class="title"><a id="d0e13824"/>11.2. Commands supported</h2></div></div></div><p>Currently, the following commands are supported:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>BatchExecutionCommand</p></li><li class="listitem"><p>InsertObjectCommand</p></li><li class="listitem"><p>RetractCommand</p></li><li class="listitem"><p>ModifyCommand</p></li><li class="listitem"><p>GetObjectCommand</p></li><li class="listitem"><p>InsertElementsCommand</p></li><li class="listitem"><p>FireAllRulesCommand</p></li><li class="listitem"><p>StartProcessCommand</p></li><li class="listitem"><p>SignalEventCommand</p></li><li class="listitem"><p>CompleteWorkItemCommand</p></li><li class="listitem"><p>AbortWorkItemCommand</p></li><li class="listitem"><p>QueryCommand</p></li><li class="listitem"><p>SetGlobalCommand</p></li><li class="listitem"><p>GetGlobalCommand</p></li><li class="listitem"><p>GetObjectsCommand</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>In the next snippets code we are going to use a POJO org.drools.compiler.test.Person that has two fields</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>name: String</p></li><li class="listitem"><p>age: Integer</p></li></ul></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>In the next examples, to marshall the commands we have used the next snippet codes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-java">String xml = BatchExecutionHelper.newXStreamMarshaller().toXML(command);</code></pre></li><li class="listitem"><p>JSON</p><pre><code class="language-java">String xml = BatchExecutionHelper.newJSonMarshaller().toXML(command);</code></pre></li><li class="listitem"><p>JAXB</p><pre><code class="language-java">Marshaller marshaller = jaxbContext.createMarshaller();
StringWriter xml = new StringWriter();
marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
marshaller.marshal(command, xml);</code></pre></li></ul></div></div><div class="section" title="11.2.1. BatchExecutionCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e13904"/>11.2.1. BatchExecutionCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: The command that contains a list of commands, which
      will be sent and executed.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e13915"/><p class="title"><strong>Table 11.1. BatchExecutionCommand attributes</strong></p><div class="table-contents"><table summary="BatchExecutionCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">lookup</td><td>Sets the knowledge session id on which the commands are
              going to be executed</td><td>true</td></tr><tr><td align="center">commands</td><td>List of commands to be executed</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
InsertObjectCommand insertObjectCommand = new InsertObjectCommand(new Person("john", 25));
FireAllRulesCommand fireAllRulesCommand = new FireAllRulesCommand();
command.getCommands().add(insertObjectCommand);
command.getCommands().add(fireAllRulesCommand);</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;insert&gt;
    &lt;org.drools.compiler.test.Person&gt;
      &lt;name&gt;john&lt;/name&gt;
      &lt;age&gt;25&lt;/age&gt;
    &lt;/org.drools.compiler.test.Person&gt;
  &lt;/insert&gt;
  &lt;fire-all-rules/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":[{"insert":{"object":{"org.drools.compiler.test.Person":{"name":"john","age":25}}}},{"fire-all-rules":""}]}} </code></pre><p/></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;insert&gt;
        &lt;object xsi:type="person" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
            &lt;age&gt;25&lt;/age&gt;
            &lt;name&gt;john&lt;/name&gt;
        &lt;/object&gt;
    &lt;/insert&gt;
    &lt;fire-all-rules max="-1"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.2. InsertObjectCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e13972"/>11.2.2. InsertObjectCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Insert an object in the knowledge session.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e13983"/><p class="title"><strong>Table 11.2. InsertObjectCommand attributes</strong></p><div class="table-contents"><table summary="InsertObjectCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">object</td><td>The object to be inserted</td><td>true</td></tr><tr><td align="center">outIdentifier</td><td>Id to identify the FactHandle created in the object
              insertion and added to the execution results</td><td>false</td></tr><tr><td align="center">returnObject</td><td>Boolean to establish if the object must be returned in
              the execution results. Default value: true</td><td>false</td></tr><tr><td align="center">entryPoint</td><td>Entrypoint for the insertion</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">List&lt;Command&gt; cmds = ArrayList&lt;Command&gt;();

Command insertObjectCommand = CommandFactory.newInsert(new Person("john", 25), "john", false, null);
cmds.add( insertObjectCommand );

BatchExecutionCommand command = CommandFactory.createBatchExecution(cmds, "ksession1" );
</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;insert out-identifier="john" entry-point="my stream" return-object="false"&gt;
    &lt;org.drools.compiler.test.Person&gt;
      &lt;name&gt;john&lt;/name&gt;
      &lt;age&gt;25&lt;/age&gt;
    &lt;/org.drools.compiler.test.Person&gt;
  &lt;/insert&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"insert":{"entry-point":"my stream", "out-identifier":"john","return-object":false,"object":{"org.drools.compiler.test.Person":{"name":"john","age":25}}}}}}
</code></pre><p/></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;insert out-identifier="john" entry-point="my stream" &gt;
        &lt;object xsi:type="person" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
            &lt;age&gt;25&lt;/age&gt;
            &lt;name&gt;john&lt;/name&gt;
        &lt;/object&gt;
    &lt;/insert&gt;
&lt;/batch-execution&gt;</code></pre><p/></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.3. RetractCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14054"/>11.2.3. RetractCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Retract an object from the knowledge session.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14065"/><p class="title"><strong>Table 11.3. RetractCommand attributes</strong></p><div class="table-contents"><table summary="RetractCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">handle</td><td>The FactHandle associated to the object to be
              retracted</td><td>true</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation: we have two options, with the same output
      result:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Create the Fact Handle from a string</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
RetractCommand retractCommand = new RetractCommand();
retractCommand.setFactHandleFromString("123:234:345:456:567");
command.getCommands().add(retractCommand);</code></pre></li><li class="listitem"><p>Set the Fact Handle that you received when the object was
          inserted</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
RetractCommand retractCommand = new RetractCommand(factHandle);
command.getCommands().add(retractCommand);</code></pre></li></ol></div><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;retract fact-handle="0:234:345:456:567"/&gt;
&lt;/batch-execution&gt;</code></pre></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"retract":{"fact-handle":"0:234:345:456:567"}}}}</code></pre></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;retract fact-handle="0:234:345:456:567"/&gt;
&lt;/batch-execution&gt;</code></pre></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.4. ModifyCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14121"/>11.2.4. ModifyCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Allows you to modify a previously inserted object in
      the knowledge session.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14132"/><p class="title"><strong>Table 11.4. ModifyCommand attributes</strong></p><div class="table-contents"><table summary="ModifyCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">handle</td><td>The FactHandle associated to the object to be
              retracted</td><td>true</td></tr><tr><td align="center">setters</td><td>List of setters object's modifications</td><td>true</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
ModifyCommand modifyCommand = new ModifyCommand();
modifyCommand.setFactHandleFromString("123:234:345:456:567");
List&lt;Setter&gt; setters = new ArrayList&lt;Setter&gt;();
setters.add(new SetterImpl("age", "30"));
modifyCommand.setSetters(setters);
command.getCommands().add(modifyCommand);</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;modify fact-handle="0:234:345:456:567"&gt;
    &lt;set accessor="age" value="30"/&gt;
  &lt;/modify&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"modify":{"fact-handle":"0:234:345:456:567","setters":{"accessor":"age","value":30}}}}} </code></pre></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;modify fact-handle="0:234:345:456:567"&gt;
        &lt;set value="30" accessor="age"/&gt;
    &lt;/modify&gt;
&lt;/batch-execution&gt;</code></pre><p/></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.5. GetObjectCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14188"/>11.2.5. GetObjectCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Used to get an object from a knowledge session</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14199"/><p class="title"><strong>Table 11.5. GetObjectCommand attributes</strong></p><div class="table-contents"><table summary="GetObjectCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">factHandle</td><td>The FactHandle associated to the object to be
              retracted</td><td>true</td></tr><tr><td align="center">outIdentifier</td><td>Id to identify the FactHandle created in the object
              insertion and added to the execution results</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
GetObjectCommand getObjectCommand = new GetObjectCommand();
getObjectCommand.setFactHandleFromString("123:234:345:456:567");
getObjectCommand.setOutIdentifier("john");
command.getCommands().add(getObjectCommand);</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;get-object fact-handle="0:234:345:456:567" out-identifier="john"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"get-object":{"fact-handle":"0:234:345:456:567","out-identifier":"john"}}}}
</code></pre><p/></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;get-object out-identifier="john" fact-handle="0:234:345:456:567"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.6. InsertElementsCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14256"/>11.2.6. InsertElementsCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Used to insert a list of objects.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14267"/><p class="title"><strong>Table 11.6. InsertElementsCommand attributes</strong></p><div class="table-contents"><table summary="InsertElementsCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">objects</td><td>The list of objects to be inserted on the knowledge
              session</td><td>true</td></tr><tr><td align="center">outIdentifier</td><td>Id to identify the FactHandle created in the object
              insertion and added to the execution results</td><td>false</td></tr><tr><td align="center">returnObject</td><td>Boolean to establish if the object must be returned in
              the execution results. Default value: true</td><td>false</td></tr><tr><td align="center">entryPoint</td><td>Entrypoint for the insertion</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">List&lt;Command&gt; cmds = ArrayList&lt;Command&gt;();

List&lt;Object&gt; objects = new ArrayList&lt;Object&gt;();
objects.add(new Person("john", 25));
objects.add(new Person("sarah", 35));

Command insertElementsCommand = CommandFactory.newInsertElements( objects );
cmds.add( insertElementsCommand );

BatchExecutionCommand command = CommandFactory.createBatchExecution(cmds, "ksession1" );</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;insert-elements&gt;
    &lt;org.drools.compiler.test.Person&gt;
      &lt;name&gt;john&lt;/name&gt;
      &lt;age&gt;25&lt;/age&gt;
    &lt;/org.drools.compiler.test.Person&gt;
    &lt;org.drools.compiler.test.Person&gt;
      &lt;name&gt;sarah&lt;/name&gt;
      &lt;age&gt;35&lt;/age&gt;
    &lt;/org.drools.compiler.test.Person&gt;
  &lt;/insert-elements&gt;
&lt;/batch-execution&gt;</code></pre></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"insert-elements":{"objects":[{"containedObject":{"@class":"org.drools.compiler.test.Person","name":"john","age":25}},{"containedObject":{"@class":"Person","name":"sarah","age":35}}]}}}} </code></pre></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;insert-elements return-objects="true"&gt;
        &lt;list&gt;
            &lt;element xsi:type="person" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
                &lt;age&gt;25&lt;/age&gt;
                &lt;name&gt;john&lt;/name&gt;
            &lt;/element&gt;
            &lt;element xsi:type="person" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
                &lt;age&gt;35&lt;/age&gt;
                &lt;name&gt;sarah&lt;/name&gt;
            &lt;/element&gt;
        &lt;list&gt;
    &lt;/insert-elements&gt;
&lt;/batch-execution&gt;</code></pre></li></ul></div></li></ul></div></div><div class="section" title="11.2.7. FireAllRulesCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14334"/>11.2.7. FireAllRulesCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Allow execution of the rules activations
      created.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14345"/><p class="title"><strong>Table 11.7. FireAllRulesCommand attributes</strong></p><div class="table-contents"><table summary="FireAllRulesCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">max</td><td>The max number of rules activations to be executed.
              default is -1 and will not put any restriction on
              execution</td><td>false</td></tr><tr><td align="center">outIdentifier</td><td>Add the number of rules activations fired on the
              execution results</td><td>false</td></tr><tr><td align="center">agendaFilter</td><td>Allow the rules execution using an Agenda Filter</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
FireAllRulesCommand fireAllRulesCommand = new FireAllRulesCommand();
fireAllRulesCommand.setMax(10);
fireAllRulesCommand.setOutIdentifier("firedActivations");
command.getCommands().add(fireAllRulesCommand);</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;fire-all-rules max="10" out-identifier="firedActivations"/&gt;
&lt;/batch-execution&gt;
</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"fire-all-rules":{"max":10,"out-identifier":"firedActivations"}}}}</code></pre><p/></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
   &lt;fire-all-rules out-identifier="firedActivations" max="10"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.8. StartProcessCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14409"/>11.2.8. StartProcessCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Allows you to start a process using the ID. Also you
      can pass parameters and initial data to be inserted.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14420"/><p class="title"><strong>Table 11.8. StartProcessCommand attributes</strong></p><div class="table-contents"><table summary="StartProcessCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">processId</td><td>The ID of the process to be started</td><td>true</td></tr><tr><td align="center">parameters</td><td>A Map&lt;String, Object&gt; to pass parameters in the
              process startup</td><td>false</td></tr><tr><td align="center">data</td><td>A list of objects to be inserted in the knowledge session
              before the process startup</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
StartProcessCommand startProcessCommand = new StartProcessCommand();
startProcessCommand.setProcessId("org.drools.task.processOne");
command.getCommands().add(startProcessCommand);</code></pre></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;start-process processId="org.drools.task.processOne"/&gt;
&lt;/batch-execution&gt;</code></pre></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"start-process":{"process-id":"org.drools.task.processOne"}}}} </code></pre></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;start-process processId="org.drools.task.processOne"&gt;
        &lt;parameter/&gt;
    &lt;/start-process&gt;
&lt;/batch-execution&gt;</code></pre></li></ul></div></li></ul></div></div><div class="section" title="11.2.9. SignalEventCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14479"/>11.2.9. SignalEventCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Send a signal event.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14490"/><p class="title"><strong>Table 11.9. SignalEventCommand attributes</strong></p><div class="table-contents"><table summary="SignalEventCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">event-type</td><td> </td><td>true</td></tr><tr><td align="center">processInstanceId</td><td> </td><td>false</td></tr><tr><td align="center">event</td><td> </td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
SignalEventCommand signalEventCommand = new SignalEventCommand();
signalEventCommand.setProcessInstanceId(1001);
signalEventCommand.setEventType("start");
signalEventCommand.setEvent(new Person("john", 25));
command.getCommands().add(signalEventCommand);</code></pre></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;signal-event process-instance-id="1001" event-type="start"&gt;
    &lt;org.drools.pipeline.camel.Person&gt;
      &lt;name&gt;john&lt;/name&gt;
      &lt;age&gt;25&lt;/age&gt;
    &lt;/org.drools.pipeline.camel.Person&gt;
  &lt;/signal-event&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"signal-event":{"process-instance-id":1001,"@event-type":"start","event-type":"start","object":{"org.drools.pipeline.camel.Person":{"name":"john","age":25}}}}}}</code></pre></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;signal-event event-type="start" process-instance-id="1001"&gt;
        &lt;event xsi:type="person" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
            &lt;age&gt;25&lt;/age&gt;
            &lt;name&gt;john&lt;/name&gt;
        &lt;/event&gt;
    &lt;/signal-event&gt;
&lt;/batch-execution&gt;</code></pre></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.10. CompleteWorkItemCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14548"/>11.2.10. CompleteWorkItemCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Allows you to complete a WorkItem.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14559"/><p class="title"><strong>Table 11.10. CompleteWorkItemCommand attributes</strong></p><div class="table-contents"><table summary="CompleteWorkItemCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">workItemId</td><td>The ID of the WorkItem to be completed</td><td>true</td></tr><tr><td align="center">results</td><td> </td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
CompleteWorkItemCommand completeWorkItemCommand = new CompleteWorkItemCommand();
completeWorkItemCommand.setWorkItemId(1001);
command.getCommands().add(completeWorkItemCommand);</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;complete-work-item id="1001"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"complete-work-item":{"id":1001}}}} </code></pre><p/></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;complete-work-item id="1001"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.11. AbortWorkItemCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14615"/>11.2.11. AbortWorkItemCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Allows you abort an WorkItem. The same as
      session.getWorkItemManager().abortWorkItem(workItemId)</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14626"/><p class="title"><strong>Table 11.11. AbortWorkItemCommand attributes</strong></p><div class="table-contents"><table summary="AbortWorkItemCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">workItemId</td><td>The ID of the WorkItem to be completed</td><td>true</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
AbortWorkItemCommand abortWorkItemCommand = new AbortWorkItemCommand();
abortWorkItemCommand.setWorkItemId(1001);
command.getCommands().add(abortWorkItemCommand);</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;abort-work-item id="1001"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"abort-work-item":{"id":1001}}}} </code></pre><p/></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;abort-work-item id="1001"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.12. QueryCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14676"/>11.2.12. QueryCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Executes a query defined in knowledge base.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14687"/><p class="title"><strong>Table 11.12. QueryCommand attributes</strong></p><div class="table-contents"><table summary="QueryCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">name</td><td>The query name</td><td>true</td></tr><tr><td align="center">outIdentifier</td><td>The identifier of the query results. The query results
              are going to be added in the execution results with this
              identifier</td><td>false</td></tr><tr><td align="center">arguments</td><td>A list of objects to be passed as a query
              parameter</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
QueryCommand queryCommand = new QueryCommand();
queryCommand.setName("persons");
queryCommand.setOutIdentifier("persons");
command.getCommands().add(queryCommand);</code></pre></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;query out-identifier="persons" name="persons"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"query":{"out-identifier":"persons","name":"persons"}}}} </code></pre></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;query name="persons" out-identifier="persons"/&gt;
&lt;/batch-execution&gt;</code></pre></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.13. SetGlobalCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14748"/>11.2.13. SetGlobalCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Allows you to set a global.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14759"/><p class="title"><strong>Table 11.13. SetGlobalCommand attributes</strong></p><div class="table-contents"><table summary="SetGlobalCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">identifier</td><td>The identifier of the global defined in the knowledge
              base</td><td>true</td></tr><tr><td align="center">object</td><td>The object to be set into the global</td><td>false</td></tr><tr><td align="center">out</td><td>A boolean to add, or not, the set global result into the
              execution results</td><td>false</td></tr><tr><td align="center">outIdentifier</td><td>The identifier of the global execution result</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
SetGlobalCommand setGlobalCommand = new SetGlobalCommand();
setGlobalCommand.setIdentifier("helper");
setGlobalCommand.setObject(new Person("kyle", 30));
setGlobalCommand.setOut(true);
setGlobalCommand.setOutIdentifier("output");
command.getCommands().add(setGlobalCommand);</code></pre></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;set-global identifier="helper" out-identifier="output"&gt;
    &lt;org.drools.compiler.test.Person&gt;
      &lt;name&gt;kyle&lt;/name&gt;
      &lt;age&gt;30&lt;/age&gt;
    &lt;/org.drools.compiler.test.Person&gt;
  &lt;/set-global&gt;
&lt;/batch-execution&gt;</code></pre></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"set-global":{"identifier":"helper","out-identifier":"output","object":{"org.drools.compiler.test.Person":{"name":"kyle","age":30}}}}}}</code></pre></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;set-global out="true" out-identifier="output" identifier="helper"&gt;
        &lt;object xsi:type="person" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
            &lt;age&gt;30&lt;/age&gt;
            &lt;name&gt;kyle&lt;/name&gt;
        &lt;/object&gt;
    &lt;/set-global&gt;
&lt;/batch-execution&gt;</code></pre></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.14. GetGlobalCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14826"/>11.2.14. GetGlobalCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Allows you to get a global previously defined.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14837"/><p class="title"><strong>Table 11.14. GetGlobalCommand attributes</strong></p><div class="table-contents"><table summary="GetGlobalCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">identifier</td><td>The identifier of the global defined in the knowledge
              base</td><td>true</td></tr><tr><td align="center">outIdentifier</td><td>The identifier to be used in the execution
              results</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
GetGlobalCommand getGlobalCommand = new GetGlobalCommand();
getGlobalCommand.setIdentifier("helper");
getGlobalCommand.setOutIdentifier("helperOutput");
command.getCommands().add(getGlobalCommand);</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;get-global identifier="helper" out-identifier="helperOutput"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"get-global":{"identifier":"helper","out-identifier":"helperOutput"}}}} </code></pre><p/></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;get-global out-identifier="helperOutput" identifier="helper"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li></ul></div></li></ul></div><p/></div><div class="section" title="11.2.15. GetObjectsCommand"><div class="titlepage"><div><div><h3 class="title"><a id="d0e14894"/>11.2.15. GetObjectsCommand</h3></div></div></div><p/><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Description: Returns all the objects from the current session as a
      Collection.</p></li><li class="listitem"><p>Attributes</p><div class="table"><a id="d0e14905"/><p class="title"><strong>Table 11.15. GetObjectsCommand attributes</strong></p><div class="table-contents"><table summary="GetObjectsCommand attributes" border="1"><colgroup><col align="center"/><col/><col/></colgroup><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">required</th></tr></thead><tbody><tr><td align="center">objectFilter</td><td>An ObjectFilter to filter the objects returned from the
              current session</td><td>false</td></tr><tr><td align="center">outIdentifier</td><td>The identifier to be used in the execution
              results</td><td>false</td></tr></tbody></table></div></div><br class="table-break"/></li><li class="listitem"><p>Command creation</p><pre><code class="language-java">BatchExecutionCommand command = new BatchExecutionCommand();
command.setLookup("ksession1");
GetObjectsCommand getObjectsCommand = new GetObjectsCommand();
getObjectsCommand.setOutIdentifier("objects");
command.getCommands().add(getObjectsCommand);</code></pre><p/></li><li class="listitem"><p>XML output</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>XStream</p><pre><code class="language-xml">&lt;batch-execution lookup="ksession1"&gt;
  &lt;get-objects out-identifier="objects"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li><li class="listitem"><p>JSON</p><pre><code class="no-highlight">{"batch-execution":{"lookup":"ksession1","commands":{"get-objects":{"out-identifier":"objects"}}}}</code></pre><p/></li><li class="listitem"><p>JAXB</p><pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;batch-execution lookup="ksession1"&gt;
    &lt;get-objects out-identifier="objects"/&gt;
&lt;/batch-execution&gt;</code></pre><p/></li></ul></div></li></ul></div><p/></div></div></div><script type="text/javascript" src="highlight.js/highlight.pack.js"> </script><script type="text/javascript">hljs.initHighlightingOnLoad();</script><ul class="docnav"><li class="previous"><a accesskey="p" href="pt04.html"><strong>Prev</strong>Part IV. Drools Integration</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch12.html"><strong>Next</strong>Chapter 12. CDI</a></li></ul></body></html>