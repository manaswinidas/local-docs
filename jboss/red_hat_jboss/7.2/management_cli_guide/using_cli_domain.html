<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 5. Using the Management CLI with a Managed Domain</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="using_cli_domain"/>Chapter 5. Using the Management CLI with a Managed Domain</h1></div></div></div><p>
			You can use the management CLI to configure and manage both standalone servers and managed domains. The JBoss EAP documentation usually shows examples of management CLI commands for a standalone server configuration. If you are running a managed domain instead, you often need to adjust the command. The following sections describe how to change standalone server management CLI commands for a managed domain configuration.
		</p><h2><a id="specify_the_profile_for_subsystem_configuration"/>Specify the Profile for Subsystem Configuration</h2><p>
			The management CLI commands for standalone server subsystem configuration begin with <code class="literal">/subsystem=<span class="emphasis"><em>SUBSYSTEM_NAME</em></span></code>. For managed domain subsystem configuration, you must specify which profile’s subsystem to configure by starting the command with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/subsystem=<span class="emphasis"><em>SUBSYSTEM_NAME</em></span></code>.
		</p><div class="title"><strong>Example: Read the Logging Subsystem Configuration (Standalone Server)</strong></div><p>
				
</p><pre class="screen">/subsystem=logging:read-resource</pre><p>

			</p><p>
			This example shows how to read the configuration of the <code class="literal">logging</code> subsystem for a standalone server.
		</p><div class="title"><strong>Example: Read the Logging Subsystem Configuration (Managed Domain)</strong></div><p>
				
</p><pre class="screen">/profile=default/subsystem=logging:read-resource</pre><p>

			</p><p>
			This example shows how to read the configuration of the <code class="literal">logging</code> subsystem for a the <code class="literal">default</code> profile in a managed domain.
		</p><h2><a id="specify_the_host_for_core_management_and_runtime_commands"/>Specify the Host for Core Management and Runtime Commands</h2><p>
			Some core management and runtime commands for a managed domain require you to specify the host that the command applies to by starting the command with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span></code>.
		</p><div class="title"><strong>Example: Enable Audit Logging (Standalone Server)</strong></div><p>
				
</p><pre class="screen">/core-service=management/access=audit/logger=audit-log:write-attribute(name=enabled,value=true)</pre><p>

			</p><p>
			This example shows how to enable audit logging for a standalone server.
		</p><div class="title"><strong>Example: Enable Audit Logging (Managed Domain)</strong></div><p>
				
</p><pre class="screen">/host=master/core-service=management/access=audit/logger=audit-log:write-attribute(name=enabled,value=true)</pre><p>

			</p><p>
			This example shows how to enable audit logging for the <code class="literal">master</code> host in a managed domain.
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
				Some commands require the host as an argument, for example, <code class="literal">reload --host=<span class="emphasis"><em>HOST_NAME</em></span></code>. If you do not specify a host for these commands, an error message notifies you that the <code class="literal">--host</code> argument is required.
			</p></div><h2><a id="specify_the_server_for_core_management_and_runtime_commands"/>Specify the Server for Core Management and Runtime Commands</h2><p>
			Some core management and runtime commands for a managed domain require you to specify the host and server that the command applies to by starting the command with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span></code>.
		</p><div class="title"><strong>Example: Display Runtime Metrics for a Deployment (Standalone Server)</strong></div><p>
				
</p><pre class="screen">/deployment=test-application.war/subsystem=undertow:read-attribute(name=active-sessions)</pre><p>

			</p><p>
			This example shows how to display runtime metrics for a standalone server deployment.
		</p><div class="title"><strong>Example: Display Runtime Metrics for a Deployment (Managed Domain)</strong></div><p>
				
</p><pre class="screen">/host=master/server=server-one/deployment=test-application.war/subsystem=undertow:read-attribute(name=active-sessions)</pre><p>

			</p><p>
			This example shows how to display runtime metrics for a managed domain deployment that is deployed to the <code class="literal">server-one</code> server on the <code class="literal">master</code> host.
		</p></div></body></html>