<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 2. Getting Started with the Management CLI</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="getting_started_management_cli"/>Chapter 2. Getting Started with the Management CLI</h1></div></div></div><p>
			The management CLI is included with the JBoss EAP distribution. Once you <a class="link" href="getting_started_management_cli.html#launch_management_cli" title="Launch the Management CLI">launch</a> the management CLI, you can <a class="link" href="getting_started_management_cli.html#connect_server_management_cli" title="Connect to the Server">connect</a> to a running server instance or managed domains to <a class="link" href="creating_executing_requests.html" title="Chapter 4. Creating and Executing Requests">perform management operations</a>.
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="launch_management_cli"/>Launch the Management CLI</h1></div></div></div><p>
				You can launch the management CLI by running the <code class="literal">jboss-cli</code> script provided with JBoss EAP.
			</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					For Windows Server, use the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>\bin\jboss-cli.bat</code> script to launch the management CLI.
				</p></div><p>
				See <a class="link" href="getting_started_management_cli.html#connect_server_management_cli" title="Connect to the Server">Connect to the Server</a> for details on launching the management CLI and connecting to the server in one step using the <code class="literal">--connect</code> argument.
			</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
					The <code class="literal">jboss-cli</code> scripts set the <code class="literal">com.ibm.jsse2.overrideDefaultTLS</code> property to <code class="literal">true</code>. This setting is important if you are using the IBM JDK to prevent authentication issues when using SSL configured by Elytron.
				</p><p>
					Be sure to set this property if you are using the IBM JDK and using another method to start a CLI session, for example, programmatically using the classes available in <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/client/jboss-cli-client.jar</code>.
				</p></div><p>
				For a complete listing of all available <code class="literal">jboss-cli</code> script arguments and their purposes, use the <code class="literal">--help</code> argument or see the <a class="link" href="reference_material.html#ref_mgmt_cli_startup_args" title="Management CLI Startup Arguments">Management CLI Startup Arguments</a> section.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="connect_server_management_cli"/>Connect to the Server</h1></div></div></div><p>
				You can connect to a running standalone server or managed domain by using the <code class="literal">connect</code> command.
			</p><pre class="screen">connect</pre><p>
				The default host and port configuration is <code class="literal">localhost:9990</code>. If the server is listening on a different host and port, then these need to be provided to the <code class="literal">connect</code> command.
			</p><pre class="screen">connect 192.168.0.1:9991</pre><p>
				You can also launch the management CLI and connect to the server in one step using the <code class="literal">--connect</code> argument (and the <code class="literal">--controller</code> argument if necessary).
			</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect --controller=192.168.0.1:9991</pre><p>
				In JBoss EAP 7.2, to connect using the <code class="literal">http-remoting</code> protocol, use:
			</p><pre class="screen">connect http-remoting://192.168.0.1:9999</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="cli_getting_help"/>Getting Help</h1></div></div></div><p>
				The management CLI provides several ways for you to get help with using the management CLI.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						View general help on using the management CLI.
					</p><pre class="screen">help</pre><p class="simpara">
						This provides detailed help with launching, navigating, and generating operation requests.
					</p></li><li class="listitem"><p class="simpara">
						View help for a particular command or operation:
					</p><pre class="screen">help <span class="emphasis"><em>COMMAND_OR_OPERATION</em></span></pre><p class="simpara">
						This provides the usage, description, and arguments for the particular command or operation.
					</p><p class="simpara">
						For example:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
								View help for the <code class="literal">patch</code> command:
							</p><pre class="screen">help patch</pre></li><li class="listitem"><p class="simpara">
								View help for the <code class="literal">apply</code> action of the <code class="literal">patch</code> command:
							</p><pre class="screen">help patch apply</pre></li><li class="listitem"><p class="simpara">
								View help for the Elytron <code class="literal">key-store</code> resource <code class="literal">add</code> operation:
							</p><pre class="screen">help /subsystem=elytron/key-store=?:add</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						View the list of available commands in the current context:
					</p><pre class="screen">help --commands</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
							Commands that require a connection to either a standalone server or domain controller do not appear in the list unless the connection has been established.
						</p></div></li></ul></div><p>
				See the <a class="link" href="reference_material.html#reference_mgmt_cli_commands" title="Management CLI Commands">Management CLI Commands</a> section for a listing of management CLI commands.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="quit_management_cli"/>Quit the Management CLI</h1></div></div></div><p>
				You can quit the management CLI by entering the <code class="literal">quit</code> command.
			</p><pre class="screen">quit</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="non_interactive_mode"/>Run in Non-Interactive Mode</h1></div></div></div><p>
				You can issue management CLI commands without launching and interacting with the management CLI. This is useful for processing batches of commands and executing commands from scripts. You can either <a class="link" href="getting_started_management_cli.html#cli_pass_in_commands" title="Pass in Commands">pass in the commands</a> or <a class="link" href="getting_started_management_cli.html#cli_pass_in_file" title="Pass in a File of Commands">pass in a file that contains commands</a> to the <code class="literal">jboss-cli</code> startup script.
			</p><h3><a id="cli_pass_in_commands"/>Pass in Commands</h3><p>
				You can use the <code class="literal">--command</code> argument to provide a single CLI command to execute. The management CLI will terminate once the commands have completed.
			</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect --command="/interface=public:read-attribute(name=inet-address,resolve-expressions=true)"</pre><p>
				The output from each command provided is displayed as it executes.
			</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; "127.0.0.1"
}</pre><p>
				You can also use the <code class="literal">--commands</code> argument to provide a comma-separated list of CLI commands to execute.
			</p><h3><a id="cli_pass_in_file"/>Pass in a File of Commands</h3><p>
				You can use the <code class="literal">--file</code> argument to pass in a text file of CLI commands to execute, with each command on a separate line in the file.
			</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect --file=<span class="emphasis"><em>/path/to/cli_commands.txt</em></span></pre><p>
				The output from each command in the file is displayed as it executes.
			</p><div class="title"><strong>Example Output</strong></div><p>
					
</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; "NORMAL"
}
helloworld.war</pre><p>

				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					You can include comments in a CLI script to aid understanding and maintenance. Comments are denoted by a pound sign (#) at the beginning of the line. While executing the script, JBoss EAP ignores the comments you included.
				</p></div><p>
				You can use the <code class="literal">--echo-command</code> argument to include the prompt and command with the output. This can be useful when resolving failures by matching the output to the command that was executed.
			</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh --connect --file=<span class="emphasis"><em>/path/to/cli_commands.txt</em></span> --echo-command</pre><p>
				The command and its output are displayed as it executes.
			</p><div class="title"><strong>Example Output With Command Echo</strong></div><p>
					
</p><pre class="screen">[standalone@localhost:9990 /] :read-attribute(name=running-mode)
{
    "outcome" =&gt; "success",
    "result" =&gt; "NORMAL"
}
[standalone@localhost:9990 /] ls /deployment
helloworld.war</pre><p>

				</p></div></div></body></html>