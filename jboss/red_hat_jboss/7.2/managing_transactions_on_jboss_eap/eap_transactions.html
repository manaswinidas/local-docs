<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 1. Transactions in JBoss EAP</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="eap_transactions"/>Chapter 1. Transactions in JBoss EAP</h1></div></div></div><p>
			A transaction consists of two or more operations that must either all succeed or all fail. A successful outcome results in a commit, and a failed outcome results in a rollback. In a rollback, each member’s state is reverted before the transaction attempts the commit.
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="transaction_subsystem"/>Transaction Subsystem</h1></div></div></div><p>
				The <code class="literal">transactions</code> subsystem allows you to configure the Transaction Manager (TM) options, such as timeout values, transaction logging, statistics collection, and whether to use Java Transaction Service (JTS). The <code class="literal">transactions</code> subsystem consists of four main elements:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Core environment</span></dt><dd>
							The core environment includes the TM interface that allows the JBoss EAP server to control transaction boundaries on behalf of the resource being managed. A transaction coordinator manages communication with the transactional objects and resources that participate in transactions.
						</dd><dt><span class="term">Recovery environment</span></dt><dd>
							The recovery environment of the JBoss EAP transaction service ensures that the system applies the results of a transaction consistently to all the resources affected by the transaction. This operation continues even if any application process or the machine hosting them crashes or loses network connectivity.
						</dd><dt><span class="term">Coordinator environment</span></dt><dd>
							The coordinator environment defines custom properties for the transaction, such as default timeout and logging statistics.
						</dd><dt><span class="term">Object store</span></dt><dd>
							JBoss EAP transaction service uses an object store to record the outcomes of transactions in a persistent manner for failure recovery. The Recovery Manager scans the object store and other locations of information, for transactions and resources that might need recovery.
						</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="properties_of_the_transaction"/>Properties of the Transaction</h1></div></div></div><p>
				The typical standard for a well-designed transaction is that it is atomic, consistent, isolated, and durable (ACID):
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Atomic</span></dt><dd>
							All members of the transaction must make the same decision regarding committing or rolling back the transaction.
						</dd><dt><span class="term">Consistent</span></dt><dd>
							Transactions produce consistent results and preserve application specific invariants.
						</dd><dt><span class="term">Isolation</span></dt><dd>
							The data being operated on must be locked before modification to prevent processes outside the scope of the transaction from modifying the data.
						</dd><dt><span class="term">Durable</span></dt><dd>
							The effects of a committed transaction are not lost, except in the event of a catastrophic failure.
						</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="components_of_a_transaction"/>Components of a Transaction</h1></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Transaction Coordinator</span></dt><dd>
							The coordinator governs the outcome of a transaction. It is responsible for ensuring that the web services invoked by the client arrive at a consistent outcome.
						</dd><dt><span class="term">Transaction Context</span></dt><dd>
							Transaction context is the information about a transaction that is propagated, which allows the transaction to span multiple services.
						</dd><dt><span class="term">Transaction Participant</span></dt><dd>
							Participants are the services enrolled in a transaction using a participant model.
						</dd><dt><span class="term">Transaction Service</span></dt><dd>
							Transaction service captures the model of the underlying transaction protocol and coordinates with the participants affiliated with a transaction according to that model.
						</dd><dt><span class="term">Transaction API</span></dt><dd>
							Transaction API provides an interface for transaction demarcation and the registration of participants.
						</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="principles_of_transaction_management"/>Principles of Transaction Management</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="xa_versus_non_xa_transactions"/>XA Versus Non-XA Transactions</h2></div></div></div><p>
					Non-XA transactions involve only one resource. They do not have a transaction coordinator and a single resource does all the transaction work. They are sometimes called local transactions.
				</p><p>
					XA transactions involve multiple resources. They also have a coordinating transaction manager with one or more databases, or other resources like JMS, all participating in a single transaction. They are referred to as global transactions.
				</p></div></div></div></body></html>