<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 6. Reference Information</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="reference_information"/>Chapter 6. Reference Information</h1></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
				The content in this section is derived from the engineering documentation for this image. It is provided for reference as it can be useful for development purposes and for testing beyond the scope of the product documentation.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="persistent_templates"/>Persistent Templates</h1></div></div></div><p>
				The JBoss EAP database templates, which deploy JBoss EAP and database pods, have both ephemeral and persistent variations. For example, for a JBoss EAP application backed by a MongoDB database, there are <code class="literal">eap72-mongodb-s2i</code> and <code class="literal">eap72-mongodb-persistent-s2i</code> templates.
			</p><p>
				Persistent templates include an environment variable to provision a persistent volume claim, which binds with an available persistent volume to be used as a storage volume for the JBoss EAP for OpenShift deployment. Information, such as timer schema, log handling, or data updates, is stored on the storage volume, rather than in ephemeral container memory. This information persists if the pod goes down for any reason, such as project upgrade, deployment rollback, or an unexpected error.
			</p><p>
				Without a persistent storage volume for the deployment, this information is stored in the container memory only, and is lost if the pod goes down for any reason.
			</p><p>
				For example, an EE timer backed by persistent storage continues to run if the pod is restarted. Any events triggered by the timer during the restart process are enacted when the application is running again.
			</p><p>
				Conversely, if the EE timer is running in the container memory, the timer status is lost if the pod is restarted, and starts from the beginning when the pod is running again.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_information_environment_variables"/>Information Environment Variables</h1></div></div></div><p>
				The following environment variables are designed to provide information to the image and should not be modified by the user:
			</p><div class="table"><a id="idm140478923708512"/><p class="title"><strong>Table 6.1. Information Environment Variables</strong></p><div class="table-contents"><table summary="Information Environment Variables" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Variable Name</th><th style="text-align: left" valign="top">Description and Value</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								JBOSS_IMAGE_NAME
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The image name.
							</p>
							 <p>
								Value: <code class="literal">jboss-eap-7/eap72-openshift</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JBOSS_IMAGE_RELEASE
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The image release label.
							</p>
							 <p>
								Value: <code class="literal">dev</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JBOSS_IMAGE_VERSION
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The image version.
							</p>
							 <p>
								Value: This is the image version number. See the <a class="link" href="https://access.redhat.com/containers/?tab=overview#/registry.access.redhat.com/jboss-eap-7/eap72-openshift">Red Hat Container Catalog</a> for the latest value.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JBOSS_MODULES_SYSTEM_PKGS
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								A comma-separated list of JBoss EAP system modules packages that are available to applications.
							</p>
							 <p>
								Value: <code class="literal">org.jboss.logmanager</code>, <code class="literal">jdk.nashorn.api</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								STI_BUILDER
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Provides OpenShift S2I support for <code class="literal">jee</code> project types.
							</p>
							 <p>
								Value: <code class="literal">jee</code>
							</p>
							 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_configuration_environment_variables"/>Configuration Environment Variables</h1></div></div></div><p>
				You can configure the following environment variables to adjust the image without requiring a rebuild.
			</p><div class="table"><a id="idm140478925616080"/><p class="title"><strong>Table 6.2. Configuration Environment Variables</strong></p><div class="table-contents"><table summary="Configuration Environment Variables" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Variable Name</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_AUTH_OPENSHIFT
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Switch on client authentication for OpenShift TLS communication. The value of this parameter can be <code class="literal">true</code>, <code class="literal">false</code>, or a relative distinguished name, which must be contained in a presented client’s certificate. The default CA cert is set to <code class="literal">/var/run/secrets/kubernetes.io/serviceaccount/ca.crt</code>.
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										Set to <code class="literal">false</code> to disable client authentication for OpenShift TLS communication.
									</li><li class="listitem">
										Set to <code class="literal">true</code> to enable client authentication for OpenShift TLS communication using the default CA certificate and client principal.
									</li><li class="listitem">
										Set to a relative distinguished name, for example <code class="literal">cn=someSystem</code>, to enable client authentication for OpenShift TLS communication but override the client principal. This distinguished name must be contained in a presented client’s certificate.
									</li></ul></div>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_CONFIG
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If set, uses this fully qualified file path for the Jolokia JVM agent properties, which are described in the <a class="link" href="https://jolokia.org/reference/html/agents.html#agents-jvm">Jolokia reference documentation</a>. If you set your own Jolokia properties config file, the rest of the Jolokia settings in this document are ignored.
							</p>
							 <p>
								If not set, <code class="literal">/opt/jolokia/etc/jolokia.properties</code> is created using the settings as defined in the Jolokia reference documentation.
							</p>
							 <p>
								Example value: <code class="literal">/opt/jolokia/custom.properties</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_DISCOVERY_ENABLED
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Enable Jolokia discovery.
							</p>
							 <p>
								Defaults to <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_HOST
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Host address to bind to.
							</p>
							 <p>
								Defaults to <code class="literal">0.0.0.0</code>.
							</p>
							 <p>
								Example value: <code class="literal">127.0.0.1</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_HTTPS
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Switch on secure communication with HTTPS.
							</p>
							 <p>
								By default self-signed server certificates are generated if no <code class="literal">serverCert</code> configuration is given in <code class="literal">AB_JOLOKIA_OPTS</code>.
							</p>
							 <p>
								Example value: <code class="literal">true</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_ID
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Agent ID to use.
							</p>
							 <p>
								The default value is the <code class="literal">$HOSTNAME</code>, which is the container id.
							</p>
							 <p>
								Example value: <code class="literal">openjdk-app-1-xqlsj</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_OFF
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If set to <code class="literal">true</code>, disables activation of Jolokia, which echos an empty value.
							</p>
							 <p>
								Jolokia is enabled by default.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_OPTS
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Additional options to be appended to the agent configuration. They should be given in the format <code class="literal">key=value, key=value, …​</code>​.
							</p>
							 <p>
								Example value: <code class="literal">backlog=20</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_PASSWORD
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The password for basic authentication.
							</p>
							 <p>
								By default, authentication is switched off.
							</p>
							 <p>
								Example value: <code class="literal">mypassword</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_PASSWORD_RANDOM
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Determines if a random <code class="literal">AB_JOLOKIA_PASSWORD</code> should be generated.
							</p>
							 <p>
								Set to <code class="literal">true</code> to generate a random password. The generated value is saved in the <code class="literal">/opt/jolokia/etc/jolokia.pw</code> file.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_PORT
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The port to listen to.
							</p>
							 <p>
								Defaults to <code class="literal">8778</code>.
							</p>
							 <p>
								Example value: <code class="literal">5432</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								AB_JOLOKIA_USER
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The name of the user to use for basic authentication.
							</p>
							 <p>
								Defaults to <code class="literal">jolokia</code>.
							</p>
							 <p>
								Example value: <code class="literal">myusername</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								CLI_GRACEFUL_SHUTDOWN
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If set to any non-zero length value, the image will prevent shutdown with the <code class="literal">TERM</code> signal and will require execution of the <code class="literal">shutdown</code> command using the JBoss EAP management CLI.
							</p>
							 <p>
								Example value: <code class="literal">true</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								CONTAINER_HEAP_PERCENT
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Set the maximum Java heap size, as a percentage of available container memory.
							</p>
							 <p>
								Example value: <code class="literal">0.5</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								CUSTOM_INSTALL_DIRECTORIES
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								A list of comma-separated directories used for installation and configuration of artifacts for the image during the S2I process.
							</p>
							 <p>
								Example value: <code class="literal">custom,shared</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								DEFAULT_JMS_CONNECTION_FACTORY
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								This value is used to specify the default JNDI binding for the JMS connection factory, for example <code class="literal">jms-connection-factory='java:jboss/DefaultJMSConnectionFactory'</code>.
							</p>
							 <p>
								Example value: <code class="literal">java:jboss/DefaultJMSConnectionFactory</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								ENABLE_ACCESS_LOG
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Enable logging of access messages to the standard output channel.
							</p>
							 <p>
								Logging of access messages is implemented using following methods:
							</p>
							 <div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										The JBoss EAP 6.4 OpenShift image uses a custom JBoss Web Access Log Valve.
									</li><li class="listitem">
										The JBoss EAP for OpenShift image uses the Undertow <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#accessloghandler"><code class="literal">AccessLogHandler</code></a>.
									</li></ul></div>
							 <p>
								Defaults to <code class="literal">false</code>.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								INITIAL_HEAP_PERCENT
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Set the initial Java heap size, as a percentage of the maximum heap size.
							</p>
							 <p>
								Example value: <code class="literal">0.5</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JAVA_OPTS_APPEND
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Server startup options.
							</p>
							 <p>
								Example value: <code class="literal">-Dfoo=bar</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JBOSS_MODULES_SYSTEM_PKGS_APPEND
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								A comma-separated list of package names that will be appended to the <code class="literal">JBOSS_MODULES_SYSTEM_PKGS</code> environment variable.
							</p>
							 <p>
								Example value: <code class="literal">org.jboss.byteman</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JGROUPS_CLUSTER_PASSWORD
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Password used to authenticate the node so it is allowed to join the JGroups cluster. <span class="strong"><strong>Required</strong></span>, when using <code class="literal">ASYM_ENCRYPT</code> JGroups cluster traffic encryption protocol. If not set, authentication is disabled, cluster communication is not encrypted and a warning is issued. Optional, when using <code class="literal">SYM_ENCRYPT</code> JGroups cluster traffic encryption protocol.
							</p>
							 <p>
								Example value: <code class="literal">mypassword</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JGROUPS_ENCRYPT_KEYSTORE
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Name of the keystore file within the secret specified via <code class="literal">JGROUPS_ENCRYPT_SECRET</code> variable, when using <code class="literal">SYM_ENCRYPT</code> JGroups cluster traffic encryption protocol. If not set, cluster communication is not encrypted and a warning is issued.
							</p>
							 <p>
								Example value: <code class="literal">jgroups.jceks</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JGROUPS_ENCRYPT_KEYSTORE_DIR
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Directory path of the keystore file within the secret specified via <code class="literal">JGROUPS_ENCRYPT_SECRET</code> variable, when using <code class="literal">SYM_ENCRYPT</code> JGroups cluster traffic encryption protocol. If not set, cluster communication is not encrypted and a warning is issued.
							</p>
							 <p>
								Example value: <code class="literal">/etc/jgroups-encrypt-secret-volume</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JGROUPS_ENCRYPT_NAME
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Name associated with the server’s certificate, when using <code class="literal">SYM_ENCRYPT</code> JGroups cluster traffic encryption protocol. If not set, cluster communication is not encrypted and a warning is issued.
							</p>
							 <p>
								Example value: <code class="literal">jgroups</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JGROUPS_ENCRYPT_PASSWORD
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Password used to access the keystore and the certificate, when using <code class="literal">SYM_ENCRYPT</code> JGroups cluster traffic encryption protocol. If not set, cluster communication is not encrypted and a warning is issued.
							</p>
							 <p>
								Example value: <code class="literal">mypassword</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JGROUPS_ENCRYPT_PROTOCOL
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								JGroups protocol to use for encryption of cluster traffic. Can be either <code class="literal">SYM_ENCRYPT</code> or <code class="literal">ASYM_ENCRYPT</code>.
							</p>
							 <p>
								Defaults to <code class="literal">SYM_ENCRYPT</code>.
							</p>
							 <p>
								Example value: <code class="literal">ASYM_ENCRYPT</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JGROUPS_ENCRYPT_SECRET
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Name of the secret, containing the JGroups keystore file used for securing the JGroups communications, when using <code class="literal">SYM_ENCRYPT</code> JGroups cluster traffic encryption protocol. If not set, cluster communication is not encrypted and a warning is issued.
							</p>
							 <p>
								Example value: <code class="literal">eap7-app-secret</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								JGROUPS_PING_PROTOCOL
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								JGroups protocol to use for node discovery. Can be either <code class="literal">openshift.DNS_PING</code> or <code class="literal">openshift.KUBE_PING</code>.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								MQ_SIMPLE_DEFAULT_PHYSICAL_DESTINATION
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								For backwards compatibility, set to <code class="literal">true</code> to use <code class="literal">MyQueue</code> and <code class="literal">MyTopic</code> as physical destination name defaults instead of <code class="literal">queue/MyQueue</code> and <code class="literal">topic/MyTopic</code>.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								OPENSHIFT_DNS_PING_SERVICE_NAME
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Name of the service exposing the ping port on the servers for the DNS discovery mechanism.
							</p>
							 <p>
								Example value: <code class="literal">eap-app-ping</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								OPENSHIFT_DNS_PING_SERVICE_PORT
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The port number of the ping port for the DNS discovery mechanism. If not specified, an attempt will be made to discover the port number from the SRV records for the service, otherwise the default <code class="literal">8888</code> will be used.
							</p>
							 <p>
								Defaults to <code class="literal">8888</code>.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								OPENSHIFT_KUBE_PING_LABELS
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Clustering labels selector for the Kubernetes discovery mechanism.
							</p>
							 <p>
								Example value: <code class="literal">app=eap-app</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								OPENSHIFT_KUBE_PING_NAMESPACE
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Clustering project namespace for the Kubernetes discovery mechanism.
							</p>
							 <p>
								Example value: <code class="literal">myproject</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SCRIPT_DEBUG
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If set to <code class="literal">true</code>, ensures that the Bash scripts are executed with the <code class="literal">-x</code> option, printing the commands and their arguments as they are executed.
							</p>
							 </td></tr></tbody></table></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					Other environment variables not listed above that can influence the product can be found in the <a class="link" href="https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/">JBoss EAP documentation</a>.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_application_templates"/>Application Templates</h1></div></div></div><div class="table"><a id="idm140478932980032"/><p class="title"><strong>Table 6.3. Application Templates</strong></p><div class="table-contents"><table summary="Application Templates" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Variable Name</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								AUTO_DEPLOY_EXPLODED
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Controls whether exploded deployment content should be automatically deployed.
							</p>
							 <p>
								Example value: <code class="literal">false</code>
							</p>
							 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_exposed_ports"/>Exposed Ports</h1></div></div></div><div class="table"><a id="idm140478909256064"/><p class="title"><strong>Table 6.4. Exposed Ports</strong></p><div class="table-contents"><table summary="Exposed Ports" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Port Number</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								8443
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								HTTPS
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								8778
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Jolokia Monitoring
							</p>
							 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_datasources"/>Datasources</h1></div></div></div><p>
				Datasources are automatically created based on the value of some of the environment variables.
			</p><p>
				The most important environment variable is <code class="literal">DB_SERVICE_PREFIX_MAPPING</code>, as it defines JNDI mappings for the datasources. The allowed value for this variable is a comma-separated list of <code class="literal"><span class="emphasis"><em>POOLNAME</em></span>-<span class="emphasis"><em>DATABASETYPE</em></span>=<span class="emphasis"><em>PREFIX</em></span></code> triplets, where:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal"><span class="emphasis"><em>POOLNAME</em></span></code> is used as the <code class="literal">pool-name</code> in the datasource.
					</li><li class="listitem">
						<code class="literal"><span class="emphasis"><em>DATABASETYPE</em></span></code> is the database driver to use.
					</li><li class="listitem">
						<code class="literal"><span class="emphasis"><em>PREFIX</em></span></code> is the prefix used in the names of environment variables that are used to configure the datasource.
					</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="db_service_prefix_mapping"/>JNDI Mappings for Datasources</h2></div></div></div><p>
					For each <code class="literal"><span class="emphasis"><em>POOLNAME</em></span>-<span class="emphasis"><em>DATABASETYPE</em></span>=<span class="emphasis"><em>PREFIX</em></span></code> triplet defined in the <code class="literal">DB_SERVICE_PREFIX_MAPPING</code> environment variable, the launch script creates a separate datasource, which is executed when running the image.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						The first part (before the equal sign) of the <code class="literal">DB_SERVICE_PREFIX_MAPPING</code> should be lowercase.
					</p></div><p>
					The <code class="literal"><span class="emphasis"><em>DATABASETYPE</em></span></code> determines the driver for the datasource. Currently, only <code class="literal">postgresql</code> and <code class="literal">mysql</code> are supported.
				</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
						Do not use any special characters for the <code class="literal"><span class="emphasis"><em>POOLNAME</em></span></code> parameter.
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="db_service_prefix_mapping_database_drivers"/>Database Drivers</h3></div></div></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
							Support for using the Red Hat-provided internal datasource drivers with the JBoss EAP for OpenShift image is now deprecated. It is recommended that you use JDBC drivers obtained from your database vendor for your JBoss EAP applications.
						</p><p>
							For more information on configuring JDBC drivers with JBoss EAP, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/configuration_guide/#jdbc_drivers">JDBC drivers</a> in the JBoss EAP <span class="emphasis"><em>Configuration Guide</em></span>.
						</p></div><p>
						Every image contains Java drivers for MySQL, PostgreSQL and MongoDB databases deployed. Datasources are generated only for MySQL and PostgreSQL databases.
					</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
							For MongoDB database there are no JNDI mappings created because MongoDB is not a SQL database.
						</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="db_service_prefix_mapping_datasource_config_env_vars"/>Datasource Configuration Environment Variables</h3></div></div></div><p>
						To configure other datasource properties, use the following environment variables.
					</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
							Be sure to replace the values for <code class="literal"><span class="emphasis"><em>POOLNAME</em></span></code>, <code class="literal"><span class="emphasis"><em>DATABASETYPE</em></span></code>, and <code class="literal"><span class="emphasis"><em>PREFIX</em></span></code> in the following variable names with the appropriate values. These replaceable values are described in this section and in the <a class="link" href="reference_information.html#reference_datasources" title="Datasources">Datasources</a> section.
						</p></div><div class="informaltable"><table border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Variable Name</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>POOLNAME</em></span><span class="emphasis"><em>_DATABASETYPE</em></span>_SERVICE_HOST
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the database server’s host name or IP address to be used in the datasource’s <code class="literal">connection-url</code> property.
									</p>
									 <p>
										Example value: <code class="literal">192.168.1.3</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>POOLNAME</em></span><span class="emphasis"><em>_DATABASETYPE</em></span>_SERVICE_PORT
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the database server’s port for the datasource.
									</p>
									 <p>
										Example value: <code class="literal">5432</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_BACKGROUND_VALIDATION
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										When set to <code class="literal">true</code> database connections are validated periodically in a background thread prior to use. Defaults to <code class="literal">false</code>, meaning the <code class="literal">validate-on-match</code> method is enabled by default instead.
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_BACKGROUND_VALIDATION_MILLIS
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Specifies frequency of the validation, in milliseconds, when the <code class="literal">background-validation</code> database connection validation mechanism is enabled (<code class="literal"><span class="emphasis"><em>PREFIX</em></span>_BACKGROUND_VALIDATION</code> variable is set to <code class="literal">true</code>). Defaults to <code class="literal">10000</code>.
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_CONNECTION_CHECKER
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Specifies a connection checker class that is used to validate connections for the particular database in use.
									</p>
									 <p>
										Example value: <code class="literal">org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_DATABASE
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the database name for the datasource.
									</p>
									 <p>
										Example value: <code class="literal">myDatabase</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_DRIVER
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines Java database driver for the datasource.
									</p>
									 <p>
										Example value: <code class="literal">postgresql</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_EXCEPTION_SORTER
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Specifies the exception sorter class that is used to properly detect and clean up after fatal database connection exceptions.
									</p>
									 <p>
										Example value: <code class="literal">org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_JNDI
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the JNDI name for the datasource. Defaults to <code class="literal">java:jboss/datasources/<span class="emphasis"><em>POOLNAME</em></span><span class="emphasis"><em>_DATABASETYPE</em></span></code>, where <code class="literal"><span class="emphasis"><em>POOLNAME</em></span></code> and <code class="literal"><span class="emphasis"><em>DATABASETYPE</em></span></code> are taken from the triplet described above. This setting is useful if you want to override the default generated JNDI name.
									</p>
									 <p>
										Example value: <code class="literal">java:jboss/datasources/test-postgresql</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_JTA
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines Java Transaction API (JTA) option for the non-XA datasource. The XA datasources are already JTA capable by default.
									</p>
									 <p>
										Defaults to <code class="literal">true</code>.
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_MAX_POOL_SIZE
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the maximum pool size option for the datasource.
									</p>
									 <p>
										Example value: <code class="literal">20</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_MIN_POOL_SIZE
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the minimum pool size option for the datasource.
									</p>
									 <p>
										Example value: <code class="literal">1</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_NONXA
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the datasource as a non-XA datasource. Defaults to <code class="literal">false</code>.
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_PASSWORD
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the password for the datasource.
									</p>
									 <p>
										Example value: <code class="literal">password</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_TX_ISOLATION
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the java.sql.Connection transaction isolation level for the datasource.
									</p>
									 <p>
										Example value: <code class="literal">TRANSACTION_READ_UNCOMMITTED</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_URL
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines connection URL for the datasource.
									</p>
									 <p>
										Example value: <code class="literal">jdbc:postgresql://localhost:5432/postgresdb</code>
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										<span class="emphasis"><em>PREFIX</em></span>_USERNAME
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Defines the username for the datasource.
									</p>
									 <p>
										Example value: <code class="literal">admin</code>
									</p>
									 </td></tr></tbody></table></div><p>
						When running this image in OpenShift, the <code class="literal"><span class="emphasis"><em>POOLNAME</em></span><span class="emphasis"><em>_DATABASETYPE</em></span>_SERVICE_HOST</code> and <code class="literal"><span class="emphasis"><em>POOLNAME</em></span><span class="emphasis"><em>_DATABASETYPE</em></span>_SERVICE_PORT</code> environment variables are set up automatically from the database service definition in the OpenShift application template, while the others are configured in the template directly as <code class="literal">env</code> entries in container definitions under each pod template.
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="db_service_prefix_mapping_examples"/>Examples</h3></div></div></div><p>
						These examples show how value of the <code class="literal">DB_SERVICE_PREFIX_MAPPING</code> environment variable influences datasource creation.
					</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="db_service_prefix_mapping_examples_single_mapping"/>Single Mapping</h4></div></div></div><p>
							Consider value <code class="literal">test-postgresql=TEST</code>.
						</p><p>
							This creates a datasource with <code class="literal">java:jboss/datasources/test_postgresql</code> name. Additionally, all the required settings like password and username are expected to be provided as environment variables with the <code class="literal">TEST_</code> prefix, for example <code class="literal">TEST_USERNAME</code> and <code class="literal">TEST_PASSWORD</code>.
						</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="db_service_prefix_mapping_multiple_mappings"/>Multiple Mappings</h4></div></div></div><p>
							You can specify multiple database mappings.
						</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								Always separate multiple datasource mappings with a comma.
							</p></div><p>
							Consider the following value for the <code class="literal">DB_SERVICE_PREFIX_MAPPING</code> environment variable: <code class="literal">cloud-postgresql=CLOUD,test-mysql=TEST_MYSQL</code>.
						</p><p>
							This creates the following two datasources:
						</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
									<code class="literal">java:jboss/datasources/test_mysql</code>
								</li><li class="listitem">
									<code class="literal">java:jboss/datasources/cloud_postgresql</code>
								</li></ol></div><p>
							Then you can use <code class="literal">TEST_MYSQL</code> prefix for configuring things like the username and password for the MySQL datasource, for example <code class="literal">TEST_MYSQL_USERNAME</code>. And for the PostgreSQL datasource, use the <code class="literal">CLOUD_</code> prefix, for example <code class="literal">CLOUD_USERNAME</code>.
						</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_clustering"/>Clustering</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring_a_jgroups_discovery_mechanism"/>Configuring a JGroups Discovery Mechanism</h2></div></div></div><p>
					To enable JBoss EAP clustering on OpenShift, configure the JGroups protocol stack in your JBoss EAP configuration to use either the <code class="literal">kubernetes.KUBE_PING</code> or <code class="literal">openshift.DNS_PING</code> discovery mechanism.
				</p><p>
					Although you can use a custom <code class="literal">standalone-openshift.xml</code> configuration file, it is recommended that you <a class="link" href="configuring_eap_openshift_image.html#configuring_eap_env_vars" title="Configuring JBoss EAP for OpenShift Using Environment Variables">use environment variables</a> to configure JGroups in your image build.
				</p><p>
					The instructions below use environment variables to configure the discovery mechanism for the JBoss EAP for OpenShift image.
				</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you use one of the available application templates to deploy an application on top of the JBoss EAP for OpenShift image, the default discovery mechanism is <code class="literal">openshift.DNS_PING</code>.
					</p><p>
						The <code class="literal">openshift.DNS_PING</code> and <code class="literal">kubernetes.KUBE_PING</code> discovery mechanisms are not compatible with each other. It is not possible to form a supercluster out of two independent child clusters, with one using the <code class="literal">openshift.DNS_PING</code> mechanism for discovery and the other using the <code class="literal">kubernetes.KUBE_PING</code> mechanism. Similarly, when performing a rolling upgrade, the discovery mechanism needs to be identical for both the source and the target clusters.
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuring_kube_ping"/>Configuring KUBE_PING</h3></div></div></div><p>
						To use the <code class="literal">KUBE_PING</code> JGroups discovery mechanism:
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
								The JGroups protocol stack must be configured to use <code class="literal">KUBE_PING</code> as the discovery mechanism.
							</p><p class="simpara">
								You can do this by setting the <code class="literal">JGROUPS_PING_PROTOCOL</code> environment variable to <code class="literal">kubernetes.KUBE_PING</code>:
							</p><pre class="screen">JGROUPS_PING_PROTOCOL=kubernetes.KUBE_PING</pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">KUBERNETES_NAMESPACE</code> environment variable must be set to your OpenShift project name. If not set, the server behaves as a single-node cluster (a "cluster of one"). For example:
							</p><pre class="screen">KUBERNETES_NAMESPACE=<span class="emphasis"><em>PROJECT_NAME</em></span></pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">KUBERNETES_LABELS</code> environment variable should be set. This should match the <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.6/html-single/architecture/#labels">label set at the service level</a>. If not set, pods outside of your application (albeit in your namespace) will try to join. For example:
							</p><pre class="screen">KUBERNETES_LABELS=application=<span class="emphasis"><em>APP_NAME</em></span></pre></li><li class="listitem"><p class="simpara">
								Authorization must be granted to the service account the pod is running under to be allowed to access Kubernetes' REST API. This is done using the OpenShift CLI. The following example uses the <a class="link" href="https://docs.openshift.com/container-platform/latest/dev_guide/service_accounts.html#default-service-accounts-and-roles"><code class="literal">default</code></a> service account in the current project’s namespace:
							</p><pre class="literallayout">oc policy add-role-to-user view system:serviceaccount:$(oc project -q):default -n $(oc project -q)</pre><p class="simpara">
								Using the <code class="literal">eap-service-account</code> in the project namespace:
							</p><pre class="literallayout">oc policy add-role-to-user view system:serviceaccount:$(oc project -q):eap-service-account -n $(oc project -q)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
									See <a class="link" href="build_run_java_app_s2i.html#prepare_for_deployment" title="Prepare OpenShift for Application Deployment">Prepare OpenShift for Application Deployment</a> for more information on adding policies to service accounts.
								</p></div></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuring_dns_ping"/>Configuring DNS_PING</h3></div></div></div><p>
						To use the <code class="literal">DNS_PING</code> JGroups discovery mechanism:
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
								The JGroups protocol stack must be configured to use <code class="literal">DNS_PING</code> as the discovery mechanism.
							</p><p class="simpara">
								You can do this by setting the <code class="literal">JGROUPS_PING_PROTOCOL</code> environment variable to <code class="literal">openshift.DNS_PING</code>:
							</p><pre class="screen">JGROUPS_PING_PROTOCOL=openshift.DNS_PING</pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">OPENSHIFT_DNS_PING_SERVICE_NAME</code> environment variable must be set to the name of the ping service for the cluster. If not set, the server will act as if it is a single-node cluster (a "cluster of one").
							</p><pre class="screen">OPENSHIFT_DNS_PING_SERVICE_NAME=<span class="emphasis"><em>PING_SERVICE_NAME</em></span></pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">OPENSHIFT_DNS_PING_SERVICE_PORT</code> environment variable should be set to the port number on which the ping service is exposed. The <code class="literal">DNS_PING</code> protocol attempts to discern the port from the SRV records, otherwise it defaults to <code class="literal">8888</code>.
							</p><pre class="screen">OPENSHIFT_DNS_PING_SERVICE_PORT=<span class="emphasis"><em>PING_PORT</em></span></pre></li><li class="listitem"><p class="simpara">
								A ping service which exposes the ping port must be defined. This service should be headless (ClusterIP=None) and must have the following:
							</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
										The port must be named.
									</li><li class="listitem"><p class="simpara">
										The service must be annotated with <code class="literal">service.alpha.kubernetes.io/tolerate-unready-endpoints</code> set to <code class="literal">"true"</code>.
									</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
											Omitting this annotation will result in each node forming their own "cluster of one" during startup, then merging their cluster into the other nodes' clusters after startup, as the other nodes are not detected until after they have started.
										</p></div><pre class="programlisting">kind: Service
apiVersion: v1
spec:
    clusterIP: None
    ports:
    - name: ping
      port: 8888
    selector:
        deploymentConfig: eap-app
metadata:
    name: eap-app-ping
    annotations:
        service.alpha.kubernetes.io/tolerate-unready-endpoints: "true"
        description: "The JGroups ping port for clustering."</pre></li></ol></div></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
							<code class="literal">DNS_PING</code> does not require any modifications to the service account and works using the default permissions.
						</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring_jgroups_to_encrypt_cluster_traffic"/>Configuring JGroups to Encrypt Cluster Traffic</h2></div></div></div><p>
					To encrypt cluster traffic for JBoss EAP on OpenShift, you must configure the JGroups protocol stack in your JBoss EAP configuration to use either the <code class="literal">SYM_ENCRYPT</code> or <code class="literal">ASYM_ENCRYPT</code> protocol.
				</p><p>
					Although you can use a custom <code class="literal">standalone-openshift.xml</code> configuration file, it is recommended that you <a class="link" href="configuring_eap_openshift_image.html#configuring_eap_env_vars" title="Configuring JBoss EAP for OpenShift Using Environment Variables">use environment variables</a> to configure JGroups in your image build.
				</p><p>
					The instructions below use environment variables to configure the protocol for cluster traffic encryption for the JBoss EAP for OpenShift image.
				</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						The <code class="literal">SYM_ENCRYPT</code> and <code class="literal">ASYM_ENCRYPT</code> protocols are not compatible with each other. It is not possible to form a supercluster out of two independent child clusters, with one using the <code class="literal">SYM_ENCRYPT</code> protocol for the encryption of cluster traffic and the other using the <code class="literal">ASYM_ENCRYPT</code> protocol. Similarly, when performing a rolling upgrade, the protocol needs to be identical for both the source and the target clusters.
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuring_sym_encrypt"/>Configuring SYM_ENCRYPT</h3></div></div></div><p>
						To use the <code class="literal">SYM_ENCRYPT</code> protocol to encrypt JGroups cluster traffic:
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
								The JGroups protocol stack must be configured to use <code class="literal">SYM_ENCRYPT</code> as the encryption protocol.
							</p><p class="simpara">
								You can do this by setting the <code class="literal">JGROUPS_ENCRYPT_PROTOCOL</code> environment variable to <code class="literal">SYM_ENCRYPT</code>:
							</p><pre class="screen">JGROUPS_ENCRYPT_PROTOCOL=SYM_ENCRYPT</pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">JGROUPS_ENCRYPT_SECRET</code> environment variable must be set to the name of the secret containing the JGroups keystore file used for securing the JGroups communications. If not set, cluster communication is not encrypted and a warning is issued. For example:
							</p><pre class="screen">JGROUPS_ENCRYPT_SECRET=eap7-app-secret</pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">JGROUPS_ENCRYPT_KEYSTORE_DIR</code> environment variable must be set to the directory path of the keystore file within the secret specified via <code class="literal">JGROUPS_ENCRYPT_SECRET</code> variable. If not set, cluster communication is not encrypted and a warning is issued. For example:
							</p><pre class="screen">JGROUPS_ENCRYPT_KEYSTORE_DIR=/etc/jgroups-encrypt-secret-volume</pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">JGROUPS_ENCRYPT_KEYSTORE</code> environment variable must be set to the name of the keystore file within the secret specified via <code class="literal">JGROUPS_ENCRYPT_SECRET</code> variable. If not set, cluster communication is not encrypted and a warning is issued. For example:
							</p><pre class="screen">JGROUPS_ENCRYPT_KEYSTORE=jgroups.jceks</pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">JGROUPS_ENCRYPT_NAME</code> environment variable must be set to the name associated with the server’s certificate. If not set, cluster communication is not encrypted and a warning is issued. For example:
							</p><pre class="screen">JGROUPS_ENCRYPT_NAME=jgroups</pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">JGROUPS_ENCRYPT_PASSWORD</code> environment variable must be set to the password used to access the keystore and the certificate. If not set, cluster communication is not encrypted and a warning is issued. For example:
							</p><pre class="screen">JGROUPS_ENCRYPT_PASSWORD=mypassword</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuring_asym_encrypt"/>Configuring ASYM_ENCRYPT</h3></div></div></div><p>
						To use the <code class="literal">ASYM_ENCRYPT</code> protocol to encrypt JGroups cluster traffic:
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
								The JGroups protocol stack must be configured to use <code class="literal">ASYM_ENCRYPT</code> as the encryption protocol.
							</p><p class="simpara">
								You can do this by setting the <code class="literal">JGROUPS_ENCRYPT_PROTOCOL</code> environment variable to <code class="literal">ASYM_ENCRYPT</code>:
							</p><pre class="screen">JGROUPS_ENCRYPT_PROTOCOL=ASYM_ENCRYPT</pre></li><li class="listitem"><p class="simpara">
								The <code class="literal">JGROUPS_CLUSTER_PASSWORD</code> environment variable must be set to the password used to authenticate the node so it is allowed to join the JGroups cluster. If not set, authentication is disabled, cluster communication is not encrypted and a warning is issued. For example:
							</p><pre class="screen">JGROUPS_CLUSTER_PASSWORD=mypassword</pre></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
							If you configure <code class="literal">ASYM_ENCRYPT</code> but also define any of the environment variables required for <code class="literal">SYM_ENCRYPT</code>, the <code class="literal">SYM_ENCRYPT</code> environment variables are ignored and a warning is issued. In this situation, cluster communication is still encrypted using <code class="literal">ASYM_ENCRYPT</code>.
						</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="openshift_health_check"/>Health Checks</h1></div></div></div><p>
				The JBoss EAP for OpenShift image utilizes the <a class="link" href="https://docs.openshift.com/container-platform/latest/dev_guide/application_health.html">liveness and readiness probes</a> included in OpenShift by default. In addition, this image includes <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/configuration_guide/#microprofile_health_check">Eclipse MicroProfile Health</a>, as discussed in the <span class="emphasis"><em>Configuration Guide</em></span>.
			</p><p>
				The following table demonstrates the values necessary for these health checks to pass. If the status is anything other than the values found below, then the check is failed and the image is restarted per the image’s restart policy.
			</p><div class="table"><a id="idm140478926389344"/><p class="title"><strong>Table 6.5. Liveness and Readiness Checks</strong></p><div class="table-contents"><table summary="Liveness and Readiness Checks" border="1"><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/></colgroup><thead><tr><th style="text-align: left" valign="top">Performed Test</th><th style="text-align: left" valign="top">Liveness</th><th style="text-align: left" valign="top">Readiness</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								Server Status
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Any status
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Running
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								Boot Errors
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								None
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								None
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								Deployment Status <a href="#ftn.idm140478912779456" class="footnote" id="idm140478912779456"><sup class="footnote">[a]</sup></a>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								N/A or no <code class="literal">failed</code> entries
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								N/A or no <code class="literal">failed</code> entries
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								Eclipse MicroProfile Health <a href="#ftn.idm140478908986128" class="footnote" id="idm140478908986128"><sup class="footnote">[b]</sup></a>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								N/A or <code class="literal">UP</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								N/A or <code class="literal">UP</code>
							</p>
							 </td></tr></tbody><tbody class="footnotes"><tr><td colspan="3"><div id="ftn.idm140478912779456" class="footnote"><p><a href="#idm140478912779456" class="simpara"><sup class="simpara">[a] </sup></a>
									N/A is only a valid state when no deployments are present.
								</p></div><div id="ftn.idm140478908986128" class="footnote"><p><a href="#idm140478908986128" class="simpara"><sup class="simpara">[b] </sup></a>
									N/A is only a valid state when the <code class="literal">microprofile-health-smallrye</code> subsystem has been disabled.
								</p></div></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_messaging"/>Messaging</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring_external_red_hat_amq_brokers"/>Configuring External Red Hat AMQ Brokers</h2></div></div></div><p>
					You can configure the JBoss EAP for OpenShift image with environment variables to connect to external Red Hat AMQ brokers.
				</p><h4><a id="example_openshift_application_definition"/>Example OpenShift Application Definition</h4><p>
					The following example uses a template to create a JBoss EAP application connected to an external Red Hat AMQ 7 broker.
				</p><pre class="screen">oc new-app eap72-amq-s2i \
-p APPLICATION_NAME=<span class="emphasis"><em>eap72-mq</em></span> \
-p MQ_USERNAME=<span class="emphasis"><em>MY_USERNAME</em></span> \
-p MQ_PASSWORD=<span class="emphasis"><em>MY_PASSWORD</em></span></pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						The template used in this example provides valid default values for the required parameters. If you do not use a template and provide your own parameters, be aware that the <code class="literal">MQ_SERVICE_PREFIX_MAPPING</code> name must match the <code class="literal">APPLICATION_NAME</code> name, appended with "-amq7=MQ".
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="security_domains"/>Security Domains</h1></div></div></div><p>
				To configure a new Security Domain, the user must define the <code class="literal">SECDOMAIN_NAME</code> environment variable.
			</p><p>
				This results in the creation of a security domain named after the environment variable. The user may also define the following environment variables to customize the domain:
			</p><div class="table"><a id="idm140478934110896"/><p class="title"><strong>Table 6.6. Security Domains</strong></p><div class="table-contents"><table summary="Security Domains" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Variable name</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								SECDOMAIN_NAME
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Defines an additional security domain.
							</p>
							 <p>
								Example value: <code class="literal">myDomain</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SECDOMAIN_PASSWORD_STACKING
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If defined, the <code class="literal">password-stacking</code> module option is enabled and set to the value <code class="literal">useFirstPass</code>.
							</p>
							 <p>
								Example value: <code class="literal">true</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SECDOMAIN_LOGIN_MODULE
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The login module to be used.
							</p>
							 <p>
								Defaults to <code class="literal">UsersRoles</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SECDOMAIN_USERS_PROPERTIES
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The name of the properties file containing user definitions.
							</p>
							 <p>
								Defaults to <code class="literal">users.properties</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SECDOMAIN_ROLES_PROPERTIES
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The name of the properties file containing role definitions.
							</p>
							 <p>
								Defaults to <code class="literal">roles.properties</code>
							</p>
							 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="https_env_variables"/>HTTPS Environment Variables</h1></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Variable name</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								HTTPS_NAME
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If defined along with <code class="literal">HTTPS_PASSWORD</code> and <code class="literal">HTTPS_KEYSTORE</code>, enables HTTPS and sets the SSL name.
							</p>
							 <p>
								This should be the value specified as the alias name of your keystore if you created it with the <code class="literal">keytool -genkey</code> command.
							</p>
							 <p>
								Example value: <code class="literal">example.com</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								HTTPS_PASSWORD
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If defined along with <code class="literal">HTTPS_NAME</code> and <code class="literal">HTTPS_KEYSTORE</code>, enables HTTPS and sets the SSL key password.
							</p>
							 <p>
								Example value: <code class="literal">passw0rd</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								HTTPS_KEYSTORE
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If defined along with <code class="literal">HTTPS_PASSWORD</code> and <code class="literal">HTTPS_NAME</code>, enables HTTPS and sets the SSL certificate key file to a relative path under <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration</code>
							</p>
							 <p>
								Example value: <code class="literal">ssl.key</code>
							</p>
							 </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="environment_variables"/>Administration Environment Variables</h1></div></div></div><div class="table"><a id="idm140478930110864"/><p class="title"><strong>Table 6.7. Administration Environment Variables</strong></p><div class="table-contents"><table summary="Administration Environment Variables" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Variable name</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								ADMIN_USERNAME
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If both this and <code class="literal">ADMIN_PASSWORD</code> are defined, used for the JBoss EAP management user name.
							</p>
							 <p>
								Example value: <code class="literal">eapadmin</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								ADMIN_PASSWORD
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The password for the specified <code class="literal">ADMIN_USERNAME</code>.
							</p>
							 <p>
								Example value: <code class="literal">passw0rd</code>
							</p>
							 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_s2i"/>S2I</h1></div></div></div><p>
				The image includes S2I scripts and Maven.
			</p><p>
				Maven is currently only supported as a build tool for applications that are supposed to be deployed on JBoss EAP-based containers (or related/descendant images) on OpenShift.
			</p><p>
				Only WAR deployments are supported at this time.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="custom_configuration"/>Custom Configuration</h2></div></div></div><p>
					It is possible to add custom configuration files for the image. All files put into <code class="literal">configuration/</code> directory will be copied into <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/</code>. For example to override the default configuration used in the image, just add a custom <code class="literal">standalone-openshift.xml</code> into the <code class="literal">configuration/</code> directory. <a class="link" href="https://github.com/goldmann/openshift-eap-examples/tree/master/custom-configuration">See example</a> for such a deployment.
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="custom_modules"/>Custom Modules</h3></div></div></div><p>
						It is possible to add custom modules. All files from the <code class="literal">modules/</code> directory will be copied into <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code>. <a class="link" href="https://github.com/goldmann/openshift-eap-examples/tree/master/custom-module">See example</a> for such a deployment.
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="deployment_artifacts"/>Deployment Artifacts</h2></div></div></div><p>
					By default, artifacts from the source <code class="literal">target</code> directory will be deployed. To deploy from different directories set the <code class="literal">ARTIFACT_DIR</code> environment variable in the BuildConfig definition. <code class="literal">ARTIFACT_DIR</code> is a comma-delimited list. For example: <code class="literal">ARTIFACT_DIR=app1/target,app2/target,app3/target</code>
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="eap-artifact-repository-mirrors-section"/>Artifact Repository Mirrors</h2></div></div></div><p>
					A repository in Maven holds build artifacts and dependencies of various types, for example, all of the project JARs, library JARs, plug-ins, or any other project specific artifacts. It also specifies locations from where to download artifacts while performing the S2I build. Besides using central repositories, it is a common practice for organizations to deploy a local custom mirror repository.
				</p><p>
					Benefits of using a mirror are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Availability of a synchronized mirror, which is geographically closer and faster.
						</li><li class="listitem">
							Ability to have greater control over the repository content.
						</li><li class="listitem">
							Possibility to share artifacts across different teams (developers, CI), without the need to rely on public servers and repositories.
						</li><li class="listitem">
							Improved build times.
						</li></ul></div><p>
					Often, a repository manager can serve as local cache to a mirror. Assuming that the repository manager is already deployed and reachable externally at <code class="literal">http://10.0.0.1:8080/repository/internal/</code>, the S2I build can then use this manager by supplying the <code class="literal">MAVEN_MIRROR_URL</code> environment variable to the build configuration of the application as follows:
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Identify the name of the build configuration to apply <code class="literal">MAVEN_MIRROR_URL</code> variable against.
						</p><pre class="screen">oc get bc -o name
buildconfig/eap</pre></li><li class="listitem"><p class="simpara">
							Update build configuration of <code class="literal">eap</code> with a <code class="literal">MAVEN_MIRROR_URL</code> environment variable.
						</p><pre class="screen">oc env bc/eap MAVEN_MIRROR_URL="http://10.0.0.1:8080/repository/internal/"
buildconfig "eap" updated</pre></li><li class="listitem"><p class="simpara">
							Verify the setting.
						</p><pre class="screen">oc env bc/eap --list
# buildconfigs eap
MAVEN_MIRROR_URL=http://10.0.0.1:8080/repository/internal/</pre></li><li class="listitem">
							Schedule new build of the application.
						</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						During application build, you will notice that Maven dependencies are pulled from the repository manager, instead of the default public repositories. Also, after the build is finished, you will see that the mirror is filled with all the dependencies that were retrieved and used during the build.
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="scripts"/>Scripts</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">run</code></span></dt><dd>
								This script uses the <code class="literal">openshift-launch.sh</code> script that configures and starts JBoss EAP with the <code class="literal">standalone-openshift.xml</code> configuration.
							</dd><dt><span class="term"><code class="literal">assemble</code></span></dt><dd>
								This script uses Maven to build the source, create a package (WAR), and move it to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/deployments</code> directory.
							</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="environment_variables-1"/>Environment Variables</h2></div></div></div><p>
					You can influence the way the build is executed by supplying environment variables to the <code class="literal">s2i build</code> command. The environment variables that can be supplied are:
				</p><div class="table"><a id="idm140478929796208"/><p class="title"><strong>Table 6.8. s2i Environment Variables</strong></p><div class="table-contents"><table summary="s2i Environment Variables" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Variable name</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									ARTIFACT_DIR
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									The <code class="literal">.war</code>, <code class="literal">.ear</code>, and <code class="literal">.jar</code> files from this directory will be copied into the <code class="literal">deployments/</code> directory.
								</p>
								 <p>
									Example value: <code class="literal">target</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									HTTP_PROXY_HOST
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Host name or IP address of a HTTP proxy for Maven to use.
								</p>
								 <p>
									Example value: <code class="literal">192.168.1.1</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									HTTP_PROXY_PORT
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									TCP Port of a HTTP proxy for Maven to use.
								</p>
								 <p>
									Example value: <code class="literal">8080</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									HTTP_PROXY_USERNAME
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									If supplied with <code class="literal">HTTP_PROXY_PASSWORD</code>, use credentials for HTTP proxy.
								</p>
								 <p>
									Example value: <code class="literal">myusername</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									HTTP_PROXY_PASSWORD
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									If supplied with <code class="literal">HTTP_PROXY_USERNAME</code>, use credentials for HTTP proxy.
								</p>
								 <p>
									Example value: <code class="literal">mypassword</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									HTTP_PROXY_NONPROXYHOSTS
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									If supplied, a configured HTTP proxy will ignore these hosts.
								</p>
								 <p>
									Example value: <code class="literal">some.example.org|*.example.net</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									MAVEN_ARGS
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Overrides the arguments supplied to Maven during build.
								</p>
								 <p>
									Example value: <code class="literal">-e -Popenshift -DskipTests -Dcom.redhat.xpaas.repo.redhatga package</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									MAVEN_ARGS_APPEND
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Appends user arguments supplied to Maven during build.
								</p>
								 <p>
									Example value: <code class="literal">-Dfoo=bar</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									MAVEN_MIRROR_URL
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									URL of a Maven Mirror/repository manager to configure.
								</p>
								 <p>
									Example value: <code class="literal">http://10.0.0.1:8080/repository/internal/</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									MAVEN_CLEAR_REPO
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Optionally clear the local Maven repository after the build.
								</p>
								 <p>
									Example value: <code class="literal">true</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									APP_DATADIR
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									If defined, directory in the source from where data files are copied.
								</p>
								 <p>
									Example value: <code class="literal">mydata</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									DATA_DIR
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Directory in the image where data from <code class="literal">$APP_DATADIR</code> will be copied.
								</p>
								 <p>
									Example value: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/data</code>
								</p>
								 </td></tr></tbody></table></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						For more information, see <a class="link" href="build_run_java_app_s2i.html" title="Chapter 2. Build and Run a Java Application on the JBoss EAP for OpenShift Image">Build and Run a Java Application on the JBoss EAP for OpenShift Image</a>, which uses Maven and the S2I scripts included in the JBoss EAP for OpenShift image.
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_sso"/>SSO</h1></div></div></div><p>
				This image contains support for Red Hat JBoss SSO-enabled applications.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					See the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_middleware_for_openshift/3/single/red_hat_jboss_sso_for_openshift/#Example-EAP-Manual">Red Hat JBoss SSO for OpenShift documentation</a> for more information on how to deploy the Red Hat JBoss SSO for OpenShift image with the JBoss EAP for OpenShift image.
				</p></div><div class="table"><a id="idm140478939980976"/><p class="title"><strong>Table 6.9. SSO Environment Variables</strong></p><div class="table-contents"><table summary="SSO Environment Variables" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Variable name</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								SSO_URL
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								URL of the SSO server.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_REALM
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								SSO realm for the deployed applications.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_PUBLIC_KEY
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Public key of the SSO Realm. This field is optional but if omitted can leave the applications vulnerable to man-in-middle attacks.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_USERNAME
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								SSO User required to access the SSO REST API.
							</p>
							 <p>
								Example value: <code class="literal">mySsoUser</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_PASSWORD
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Password for the SSO user defined by the <code class="literal">SSO_USERNAME</code> variable.
							</p>
							 <p>
								Example value: <code class="literal">6fedmL3P</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_SAML_KEYSTORE
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Keystore location for SAML. Defaults to <code class="literal">/etc/sso-saml-secret-volume/keystore.jks</code>.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_SAML_KEYSTORE_PASSWORD
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Keystore password for SAML. Defaults to <code class="literal">mykeystorepass</code>.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_SAML_CERTIFICATE_NAME
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Alias for keys/certificate to use for SAML. Defaults to <code class="literal">jboss</code>.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_BEARER_ONLY
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								SSO Client Access Type. (Optional)
							</p>
							 <p>
								Example value: <code class="literal">true</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_CLIENT
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Path for SSO redirects back to the application. Defaults to match <code class="literal">module-name</code>.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_ENABLE_CORS
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If <code class="literal">true</code>, enable CORS for SSO applications. (Optional)
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_SECRET
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The SSO Client Secret for Confidential Access.
							</p>
							 <p>
								Example value: <code class="literal">KZ1QyIq4</code>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								SSO_DISABLE_SSL_CERTIFICATE_VALIDATION
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								If <code class="literal">true</code> the SSL/TLS communication between JBoss EAP and the RH-SSO server will be unsecure, for example, the certificate validation is disabled with <code class="literal">curl</code>. Not set by default.
							</p>
							 <p>
								Example value: <code class="literal">true</code>
							</p>
							 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_transactions"/>Transaction Recovery</h1></div></div></div><p>
				When a cluster is scaled down, it is possible for transaction branches to be in doubt. There is a <a class="link" href="advanced_tutorials.html#transaction_recovery_demo" title="Example Workflow: Automated Transaction Recovery Feature When Scaling Down a Cluster">technology preview automated recovery pod</a> that is meant to complete these branches, but there are rare scenarios, such as a network split, where the recovery may fail. In these cases, <a class="link" href="reference_information.html#manual_transaction_recovery" title="Manual Transaction Recovery Process">manual transaction recovery</a> might be necessary.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="unsupported_transaction_recovery"/>Unsupported Transaction Recovery Scenarios</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							JTS transactions
						</p><p class="simpara">
							Because the network endpoint of the parent is encoded in recovery coordinator IORs, recovery cannot work reliably if either the child or parent node recovers with either a new IP address, or if it is intended to be accessed using a virtualized IP address.
						</p></li><li class="listitem"><p class="simpara">
							XTS transactions
						</p><p class="simpara">
							XTS does not work in a clustered scenario for recovery purposes. See <a class="link" href="https://issues.jboss.org/browse/JBTM-2742">JBTM-2742</a> for details.
						</p></li><li class="listitem">
							Transactions propagated over <a class="link" href="http://jbossremoting.jboss.org/">JBoss Remoting</a>
						</li><li class="listitem"><p class="simpara">
							Transactions propagated over XATerminator
						</p><p class="simpara">
							Because the EIS is intended to be connected to a single instance of a Java EE application server, there are no well-defined ways to couple these processes.
						</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="manual_transaction_recovery"/>Manual Transaction Recovery Process</h2></div></div></div><p>
					The goal of the following procedure is to find and manually resolve in-doubt branches in cases where automated recovery has failed.
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="caveats"/>Caveats</h3></div></div></div><p>
						This procedure only describes how to manually recover transactions that were wholly self-contained within a single JVM. The procedure does not describe how to recover JTA transactions that have been propagated to other JVMs.
					</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
							There are various network partition scenarios in which OpenShift might start multiple instances of the same pod with the same IP address and same node name and where, due to the partition, the old pod is still running. During manual recovery, this might result in a situation where you might be connected to a pod that has a stale view of the object store. If you think you are in this scenario, it is recommended that all JBoss EAP pods be shut down to ensure that none of the resource managers or object stores are in use.
						</p></div><p>
						When you enlist a resource in an XA transaction, it is your responsibility to ensure that each resource type is supported for recovery. For example, it is known that PostgreSQL and MySQL are well-behaved with respect to recovery, but for others, such as A-MQ and JDV resource managers, you should check documentation of the specific OpenShift release.
					</p><p>
						The deployment must use a <a class="link" href="reference_information.html#transaction_recovery_jdbc_object_store" title="Prerequisite">JDBC object store</a>.
					</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
							The transaction manager relies on the uniqueness of node identifiers. The maximum byte length of an XID is set by the XA specification and cannot be changed. Due to the data that the JBoss EAP for OpenShift image must include in the XID, this leaves room for 23 bytes in the node identifier.
						</p><p>
							OpenShift coerces the node identifier to fit this 23 byte limit:
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									For all node names, even those under 23 bytes, the <code class="literal">-</code> (dash) character is stripped out.
								</li><li class="listitem">
									If the name is still over 23 bytes, characters are truncated from the beginning of the name until length of the name is within the 23 byte limit.
								</li></ul></div><p>
							However, this process might impact the uniqueness of the identifier. For example, the names <code class="literal">aaa123456789012345678m0jwh</code> and <code class="literal">bbb123456789012345678m0jwh</code> are both truncated to <code class="literal">123456789012345678m0jwh</code>, which breaks the uniqueness of the names that are expected. In another example, <code class="literal">this-pod-is-m0jwh</code> and <code class="literal">thispod-is-m0jwh</code> are both truncated to <code class="literal">thispodism0jwh</code>, again breaking the uniqueness of the names.
						</p><p>
							It is your responsibility to ensure that the node names you configure are unique, keeping in mind the above truncation process.
						</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="transaction_recovery_jdbc_object_store"/>Prerequisite</h3></div></div></div><p>
						It is assumed the OpenShift instance has been configured with a JDBC store, and that the store tables are partitioned using a table prefix corresponding to the pod name. This should be automatic whenever a JBoss EAP deployment is in use. This is different from the <a class="link" href="advanced_tutorials.html#transaction_recovery_demo" title="Example Workflow: Automated Transaction Recovery Feature When Scaling Down a Cluster">automated recovery example</a>, which uses a file store with split directories on a shared volume. You can verify that the JBoss EAP instance is using a JDBC object store by looking at the configuration of the transactions subsystem in a running pod:
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
								Determine if the <code class="literal">/opt/eap/standalone/configuration/openshift-standalone.xml</code> configuration file contains an element for the transaction subsystem:
							</p><pre class="screen">&lt;subsystem xmlns="urn:jboss:domain:transactions:3.0"&gt;</pre></li><li class="listitem"><p class="simpara">
								If the JDBC object store is in use, then there is an entry similar to the following:
							</p><pre class="screen">&lt;jdbc-store datasource-jndi-name="java:jboss/datasources/jdbcstore_postgresql"/&gt;</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
									The JNDI name identifies the datasource used to store the transaction logs.
								</p></div></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="procedure"/>Procedure</h3></div></div></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
							The following procedure details the process of manual transaction recovery solely for datasources.
						</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
								Use the database vendor tooling to list the XIDs (transaction branch identifiers) for in-doubt branches. It is necessary to list XIDs <span class="emphasis"><em>for all datasources that were in use by any deployments running on the pod</em></span> that failed or was scaled down. Refer to the vendor documentation for the database product in use.
							</li><li class="listitem"><p class="simpara">
								For each such XID, determine which pod created the transaction and check to see if that pod is still running.
							</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
										If it is running, then leave the branch alone.
									</li><li class="listitem"><p class="simpara">
										If the pod is not running, assume it was removed from the cluster and you must apply the manual resolution procedure described here. Look in the transaction log storage that was used by the failed pod to see if there is a corresponding transaction log:
									</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
												If there is a log, then manually commit the XID using the vendor tooling.
											</li><li class="listitem">
												If there is not a log, assume it is an orphaned branch and roll back the XID using the vendor tooling.
											</li></ol></div></li></ol></div></li></ol></div><p>
						The rest of this procedure explains in detail how to carry out each of these steps.
					</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="resolving_in_doubt_branches"/>Resolving In-doubt Branches</h4></div></div></div><p>
							First, find all the resources that the deployment is using.
						</p><p>
							It is recommended that you do this using the JBoss EAP managagement CLI. Although the resources should be defined in the JBoss EAP <code class="literal">standalone-openshift.xml</code> configuration file, there are other ways they can be made available to the transaction subsystem within the application server. For example, this can be done using a file in a deployment, or dynamically using the management CLI at runtime.
						</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
									Open a terminal on a pod running a JBoss EAP instance in the cluster of the failed pod. If there is no such pod, scale up to one.
								</li><li class="listitem">
									Create a management user using the <code class="literal">/opt/eap/bin/add-user.sh</code> script.
								</li><li class="listitem">
									Log into the management CLI using the <code class="literal">/opt/eap/bin/jboss-cli.sh</code> script.
								</li><li class="listitem"><p class="simpara">
									List the datasources configured on the server. These are the ones that may contain in-doubt transaction branches.
								</p><pre class="screen">/subsystem=datasources:read-resource
{
    "outcome" =&gt; "success",
    "result" =&gt; {
    	"data-source" =&gt; {
        	"ExampleDS" =&gt; undefined,
        	...
    	},
  ...
}</pre></li><li class="listitem"><p class="simpara">
									Once you have the list, find the connection URL for each of the datasources. For example:
								</p><pre class="screen">/subsystem=datasources/data-source=ExampleDS:read-attribute(name=connection-url)
{
    "outcome" =&gt; "success",
    "result" =&gt; "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE",
    "response-headers" =&gt; {"process-state" =&gt; "restart-required"}
}</pre></li><li class="listitem"><p class="simpara">
									Connect to each datasource and list any in-doubt transaction branches.
								</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
										The table name that stores in-doubt branches will be different for each datasource vendor.
									</p></div><p class="simpara">
									JBoss EAP has a default SQL query tool (H2) that you can use to check each database. For example:
								</p><pre class="screen">java -cp /opt/eap/modules/system/layers/base/com/h2database/h2/main/h2-1.3.173.jar \
-url "jdbc:postgresql://localhost:5432/postgres" \
-user sa \
-password sa \
-sql "select gid from pg_prepared_xacts;"</pre><p class="simpara">
									Alternatively, you can use the resource’s native tooling. For example, for a PostGreSQL datasource called <code class="literal">sampledb</code>, you can use the OpenShift client tools to remotely log in to the pod and query the in-doubt transaction table:
								</p><a id="transaction_select_statement"/><pre class="screen">$ oc rsh postgresql-2-vwf9n # rsh to the named pod
sh-4.2$ psql sampledb
psql (9.5.7)
Type "help" for help.

sampledb=# select gid from pg_prepared_xacts;
131077_AAAAAAAAAAAAAP//rBEAB440GK1aJ72oAAAAGHAtanRhLWNyYXNoLXJlYy0zLXAyY2N3_AAAAAAAAAAAAAP//rBEAB440GK1aJ72oAAAAGgAAAAEAAAAA</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="extract_the_global_transaction_id_and_node_identifier_from_each_xid"/>Extract the Global Transaction ID and Node Identifier from Each XID</h4></div></div></div><p>
							When all XIDs for in-doubt branches are identified, convert the XIDs into a format that you can compare to the logs stored in the transaction tables of the transaction manager.
						</p><p>
							For example, the following Bash script can be used to perform this conversion. Assuming that <code class="literal">$PG_XID</code> holds the XID from the <a class="link" href="reference_information.html#transaction_select_statement">select statement</a> above, then the JBoss EAP transaction ID can be obtained as follows:
						</p><pre class="screen">PG_XID="$1"
IFS='_' read -ra lines &lt;&lt;&lt; "$PG_XID"
[[ "${lines[0]}" = 131077 ]] || exit 0; # this script only works for our own FORMAT ID
PG_TID=${lines[1]}

a=($(echo "$PG_TID"| base64 -d  | xxd -ps |tr -d '\n' | while read -N16 i ; do echo 0x$i ; done))
b=($(echo "$PG_TID"| base64 -d  | xxd -ps |tr -d '\n' | while read -N8 i ; do echo 0x$i ; done))
c=("${b[@]:4}") # put the last 3 32-bit hexadecimal numbers into array c
# the negative elements of c need special handling since printf below only works with positive
# hexadecimal numbers
for i in "${!c[@]}"; do
  arg=${c[$i]}
  # inspect the MSB to see if arg is negative - if so convert it from a 2’s complement number
  [[ $(($arg&gt;&gt;31)) = 1 ]] &amp;&amp; x=$(echo "obase=16; $(($arg - 0x100000000 ))" | bc) || x=$arg
  if [[ ${x:0:1} = \- ]] ; then # see if the first character is a minus sign
     neg[$i]="-";
     c[$i]=0x${x:1} # strip the minus sign and make it hex for use with printf below
  else
     neg[$i]=""
     c[$i]=$x
  fi
done
EAP_TID=$(printf %x:%x:${neg[0]}%x:${neg[1]}%x:${neg[2]}%x ${a[0]} ${a[1]} ${c[0]} ${c[1]} ${c[2]})</pre><p>
							After completion, the <code class="literal">$EAP_TID</code> variable holds the global transaction ID of the transaction that created this XID. The node identifier of the pod that started the transaction is given by the output of the following bash command:
						</p><pre class="screen">echo "$PG_TID"| base64 -d | tail -c +29</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								The node identifier starts from the 29th character of the PostgreSQL global transaction ID field.
							</p></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									If this pod is <a class="link" href="reference_information.html#list_of_node_identifiers_of_running_EAP_instances" title="Obtain the List of Node Identifiers of All Running JBoss EAP Instances in Any Cluster that Can Contact the Resource Managers">still running</a>, then leave this in-doubt branch alone since the transaction is still in flight.
								</li><li class="listitem"><p class="simpara">
									If this pod is not running, then you need to search the relevant transaction log storage for the transaction log. The log storage is located in a JDBC table, which is named following the <a id="log_storage_table_name_pattern"/><code class="literal">os&lt;node-identifier&gt;jbosststxtable</code> pattern.
								</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
											If there is no such table, leave the branch alone as it is owned by some other transaction manager. The URL for the datasource containing this table is defined in the transaction subsystem description shown below.
										</li><li class="listitem"><p class="simpara">
											If there is such a table, look for an entry that matches the global transaction ID.
										</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
													If there is an entry in the table that matches the global transaction ID, then the in-doubt branch needs to be committed using the datasource vendor tooling as described below.
												</li><li class="listitem">
													If there is no such entry, then the branch is an orphan and can safely be rolled back.
												</li></ul></div></li></ul></div></li></ul></div><p>
							An example of how to commit an in-doubt PostgreSQL branch is shown below:
						</p><pre class="screen">$ oc rsh postgresql-2-vwf9n
sh-4.2$ psql sampledb
psql (9.5.7)
Type "help" for help.
psql sampledb
commit prepared '131077_AAAAAAAAAAAAAP//rBEAB440GK1aJ72oAAAAGHAtanRh
 ----
LWNyYXNoLXJlYy0zLXAyY2N3_AAAAAAAAAAAAAP//rBEAB440GK1aJ72oAAAAGgAAAAEAAAAA';</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
								Repeat this procedure for all datasources and in-doubt branches.
							</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="list_of_node_identifiers_of_running_EAP_instances"/>Obtain the List of Node Identifiers of All Running JBoss EAP Instances in Any Cluster that Can Contact the Resource Managers</h4></div></div></div><p>
							Node identifiers are configured to be the same name as the pod name. You can obtain the pod names in use using the <code class="literal">oc</code> command. Use the following command to list the running pods:
						</p><pre class="screen">$ oc get pods | grep Running
eap-manual-tx-recovery-app-4-26p4r   1/1       Running     0          23m
postgresql-2-vwf9n                   1/1       Running     0          41m</pre><p>
							For each running pod, look in the output of the pod’s log and obtain the node name. For example, for first pod shown in the above output, use the following command:
						</p><a id="jboss_node_name"/><pre class="screen">$ oc logs eap-manual-tx-recovery-app-4-26p4r | grep "jboss.node.name" | head -1
jboss.node.name = tx-recovery-app-4-26p4r</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="jboss_node_name_length_limit"/>Important</h3><p>
								The aforementioned <a class="link" href="reference_information.html#jboss_node_name">JBoss node name identifier</a> will always be truncated to the maximum length of 23 characters in total by removing characters from the beginning and retaining the trailing characters until the maximum length of 23 characters is reached.
							</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="find_the_transaction_logs"/>Find the Transaction Logs</h4></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
									The transaction logs reside in a JDBC-backed object store. The JNDI name of this store is defined in the <code class="literal">transaction</code> subsystem definition of the JBoss EAP configuration file.
								</li><li class="listitem">
									Look in the configuration file to find the datasource definition corresponding to the above JNDI name.
								</li><li class="listitem">
									Use the JNDI name to derive the connection URL.
								</li><li class="listitem"><p class="simpara">
									You can use the URL to connect to the database and issue a <code class="literal">select</code> query on the relevant in-doubt transaction table.
								</p><p class="simpara">
									Alternatively, if you know which pod the database is running on, and you know the name of the database, it might be easier to open an OpenShift remote shell into the pod and use the database tooling directly.
								</p><p class="simpara">
									For example, if the JDBC store is hosted by a PostgreSQL database called <code class="literal">sampledb</code> running on pod <code class="literal">postgresql-2-vwf9n</code>, then you can find the transaction logs using the following commands:
								</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
										The <span class="emphasis"><em>ostxrecoveryapp426p4rjbosststxtable</em></span> table name listed in the following command has been chosen since it follows the <a class="link" href="reference_information.html#log_storage_table_name_pattern">pattern for JDBC table names holding the log storage entries</a>. In your environment the table name will have similar form:
									</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
												Starting with <code class="literal">os</code> prefix.
											</li><li class="listitem">
												The part in the middle is derived from the <a class="link" href="reference_information.html#jboss_node_name">JBoss node name above</a>, possibly deleting the "-" (dash) character if present.
											</li><li class="listitem">
												Finally the <code class="literal">jbosststxtable</code> suffix is appended to create the final name of the table.
											</li></ul></div></div><pre class="screen">$ oc rsh postgresql-2-vwf9n
sh-4.2$ psql sampledb
psql (9.5.7)
Type "help" for help.

sampledb=# select uidstring from ostxrecoveryapp426p4rjbosststxtable where TYPENAME='StateManager/BasicAction/TwoPhaseCoordinator/AtomicAction'
;
              uidstring
 -------------------------------------
 0:ffff0a81009d:33789827:5a68b2bf:40
 (1 row)</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="cleaning_up_the_transaction_logs_for_reconciled_in_doubt_branches"/>Cleaning Up the Transaction Logs for Reconciled In-doubt Branches</h4></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
								Do not delete the log unless you are certain that there are no remaining in-doubt branches.
							</p></div><p>
							When all the branches for a given transaction are complete, and all potential resources managers have been checked, including A-MQ and JDV, it is safe to delete the transaction log.
						</p><p>
							Issue the following command, specify the transaction log to be removed using the appropriate <code class="literal">uidstring</code>:
						</p><pre class="screen">DELETE FROM ostxrecoveryapp426p4rjbosststxtable where uidstring = <span class="emphasis"><em>UIDSTRING</em></span></pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
								If you do not delete the log, then completed transactions which failed after prepare, but which have now been resolved, will never be removed from the transaction log storage. The consequence of this is that unnecessary storage is used and future manual reconciliation will be more difficult.
							</p></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="reference_included_jboss_modules"/>Included JBoss Modules</h1></div></div></div><p>
				The table below lists included JBoss Modules in the JBoss EAP for OpenShift image.
			</p><div class="table"><a id="idm140478822605856"/><p class="title"><strong>Table 6.10. Included JBoss Modules</strong></p><div class="table-contents"><table summary="Included JBoss Modules" border="1"><colgroup><col class="col_1"/></colgroup><thead><tr><th style="text-align: left" valign="top">JBoss Module</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								org.jboss.as.clustering.common
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								org.jboss.as.clustering.jgroups
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								org.jboss.as.ee
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								org.jboss.logmanager.ext
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								org.jgroups
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								org.mongodb
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								org.openshift.ping
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								org.postgresql
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								com.mysql
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								net.oauth.core
							</p>
							 </td></tr></tbody></table></div></div><p>
				<br/><br/><br/><br/>
			</p><p>
				<span class="emphasis"><em><span class="right">Revised on 2019-02-07 14:57:54 UTC</span></em></span>
			</p></div></div></body></html>