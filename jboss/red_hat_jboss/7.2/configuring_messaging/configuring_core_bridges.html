<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 28. Configuring Core Bridges</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="configuring_core_bridges"/>Chapter 28. Configuring Core Bridges</h1></div></div></div><p>
				The function of a bridge is to consume messages from one destination and forward them to another one, typically on a different JBoss EAP messaging server.
			</p><p>
				The source and target servers do not have to be in the same cluster which makes bridging suitable for reliably sending messages from one cluster to another, for instance across a WAN, or internet and where the connection may be unreliable.
			</p><p>
				The bridge has built-in resilience to failure so if the target server connection is lost, for example, due to network failure, the bridge will retry connecting to the target until it comes back online. When it comes back online it will resume operation as normal.
			</p><p>
				Bridges are a way to reliably connect two separate JBoss EAP messaging servers together. With a core bridge both source and target servers must be JBoss EAP 7 messaging servers.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					Do not confuse a core bridge with a JMS bridge. A core bridge is used to bridge any two JBoss EAP messaging instances and uses the core API. A <a class="link" href="configuring_jms_bridges.html" title="Chapter 27. Configuring JMS Bridges">JMS bridge</a> can be used to bridge any two JMS 1.1 compliant JMS providers and uses the JMS API. It is preferable to use a core bridge instead of a JMS bridge whenever possible.
				</p></div><p>
				Below is an example configuration of a JBoss EAP messaging core bridge.
			</p><pre class="programlisting">&lt;subsystem xmlns="urn:jboss:domain:messaging-activemq:4.0"&gt;
  &lt;server name="default"&gt;
    ...
    &lt;bridge name="my-core-bridge" static-connectors="bridge-connector" queue-name="jms.queue.InQueue"/&gt;
    ...
  &lt;/server&gt;
&lt;/subsystem&gt;</pre><p>
				This core bridge can be added using the following management CLI command. Note that when defining a core bridge, you must define a <code class="literal">queue-name</code> and either <code class="literal">static-connectors</code> or <code class="literal">discovery-group</code>. See the <a class="link" href="reference_material.html#core_bridge_attributes" title="Core Bridge Attributes">table in the appendix</a> for a full list of configurable attributes.
			</p><pre class="screen">/subsystem=messaging-activemq/server=default/bridge=my-core-bridge:add(static-connectors=[bridge-connector],queue-name=jms.queue.InQueue)</pre><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configuring_a_core_bridge_for_duplicate_detection"/>Configuring a Core Bridge for Duplicate Detection</h1></div></div></div><p>
					Core bridges can be configured to automatically add a unique duplicate ID value, if there is not already one in the message, before forwarding the message to the target. To configure a core bridge for duplicate message detection set the <code class="literal">use-duplicate-detection</code> attribute to <code class="literal">true</code>, which is the default value.
				</p><pre class="screen">/subsystem=messaging-activemq/server=default/bridge=my-core-bridge:write-attribute(name=use-duplicate-detection,value=true)</pre></div></div></body></html>