<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 36. Other Tuning Options</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="other_tunings"/>Chapter 36. Other Tuning Options</h1></div></div></div><p>
				This section describes other places in JBoss EAP messaging that can be tuned.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						Use asynchronous send acknowledgements.
					</p><p class="simpara">
						If you need to send non-transactional, durable messages and do not need a guarantee that they have reached the server by the time the call to <code class="literal">send()</code> returns, do not set them to be sent blocking. Instead use asynchronous send acknowledgements to get your send acknowledgements returned in a separate stream. However, in the case of a server crash, some messages might be lost.
					</p></li><li class="listitem"><p class="simpara">
						Use <code class="literal">pre-acknowledge</code> mode.
					</p><p class="simpara">
						With <code class="literal">pre-acknowledge</code> mode, messages are acknowledged before they are sent to the client. This reduces the amount of acknowledgment traffic on the wire. However, if that client crashes, messages will not be redelivered if the client reconnects.
					</p></li><li class="listitem"><p class="simpara">
						Disable security.
					</p><p class="simpara">
						There is a small performance boost when you disable security by setting the <code class="literal">security-enabled</code> attribute to false.
					</p></li><li class="listitem"><p class="simpara">
						Disable persistence.
					</p><p class="simpara">
						You can turn off message persistence altogether by setting <code class="literal">persistence-enabled</code> to <code class="literal">false</code>.
					</p></li><li class="listitem"><p class="simpara">
						Sync transactions lazily.
					</p><p class="simpara">
						Setting <code class="literal">journal-sync-transactional</code> to <code class="literal">false</code> provides better transactional persistent performance at the expense of some possibility of loss of transactions on failure.
					</p></li><li class="listitem"><p class="simpara">
						Sync non-transactional lazily.
					</p><p class="simpara">
						Setting <code class="literal">journal-sync-non-transactional</code> to <code class="literal">false</code> provides better non-transactional persistent performance at the expense of some possibility of loss of durable messages on failure.
					</p></li><li class="listitem"><p class="simpara">
						Send messages non-blocking.
					</p><p class="simpara">
						To avoid waiting for a network round trip for every message sent, set <code class="literal">block-on-durable-send</code> and <code class="literal">block-on-non-durable-send</code> to <code class="literal">false</code> if you are using JMS and JNDI, or set it directly on the <code class="literal">ServerLocator</code> by calling the <code class="literal">setBlockOnDurableSend()</code> and <code class="literal">setBlockOnNonDurableSend()</code> methods.
					</p></li><li class="listitem"><p class="simpara">
						Optimize the <code class="literal">consumer-window-size</code>.
					</p><p class="simpara">
						If you have very fast consumers, you can increase the <code class="literal">consumer-window-size</code> to effectively disable consumer flow control.
					</p></li><li class="listitem"><p class="simpara">
						Use the core API instead of the JMS API.
					</p><p class="simpara">
						JMS operations must be translated into core operations before the server can handle them, resulting in lower performance than when you use the core API. When using the core API, try to use methods that take <code class="literal">SimpleString</code> as much as possible. <code class="literal">SimpleString</code>, unlike <code class="literal">java.lang.String</code>, does not require copying before it is written to the wire, so if you reuse <code class="literal">SimpleString</code> instances between calls, you can avoid some unnecessary copying. Note that the core API is not portable to other brokers.
					</p></li></ul></div></div></body></html>