<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 6. Miscellaneous Changes</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="migration_miscellaneous_changes"/>Chapter 6. Miscellaneous Changes</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="changes_to_delivery_of_eap_natives_and_apache_http_server"/>Changes to Delivery of JBoss EAP Natives and Apache HTTP Server</h1></div></div></div><p>
				JBoss EAP 7 natives are delivered differently in this release than in the past. Some now ship with the new Red Hat JBoss Core Services product, which is a set of supplementary software that is common to many of the Red Hat JBoss middleware products. The new product allows for faster distribution of updates and a more consistent update experience. The JBoss Core Services product is available for download in a different location on the Red Hat Customer Portal.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						The following table lists the differences in the delivery methods between the releases.
					</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/></colgroup><thead><tr><th style="text-align: left" valign="top">Package</th><th style="text-align: left" valign="top">JBoss EAP 6</th><th style="text-align: left" valign="top">JBoss EAP 7</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
										AIO Natives for Messaging
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the product in a separate "Native Utilities" download
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Included within the JBoss EAP distribution. No additional download is required.
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										Apache HTTP Server
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the product in a separate "Apache HTTP Server" download
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the new JBoss Core Services product
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										mod_cluster, mod_jk, isapi, and nsapi connectors
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the product in a separate "Webserver Connector Natives" download
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the new JBoss Core Services product
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										JSVC
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the product in a separate "Native Utilities" download
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the new JBoss Core Services product
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										OpenSSL
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the product in a separate "Native Utilities" download
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the new JBoss Core Services product
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										tcnatives
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										Delivered with the product in a separate "Native Components" download
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										This was dropped in JBoss EAP 7
									</p>
									 </td></tr></tbody></table></div></li><li class="listitem"><p class="simpara">
						You should also be aware of the following changes:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
								Support was dropped for mod_cluster and mod_jk connectors used with Apache HTTP Server from Red Hat Enterprise Linux RPM channels. If you run Apache HTTP Server from Red Hat Enterprise Linux RPM channels and need to configure load balancing for JBoss EAP 7 servers, you can do one of the following:
							</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										Use the Apache HTTP Server provided by JBoss Core Services.
									</li><li class="listitem">
										You can configure JBoss EAP 7 to act as a front-end load balancer. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/configuration_guide/#configuring_jboss_eap_load_balancer">Configuring JBoss EAP as a Front-end Load Balancer</a> in the JBoss EAP <span class="emphasis"><em>Configuration Guide</em></span>.
									</li><li class="listitem">
										You can deploy Apache HTTP Server on a machine that is supported and certified and then run the load balancer on that machine. For the list of supported configurations, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/configuration_guide/#overview_http_connectors">Overview of HTTP Connectors</a> in the JBoss EAP 7 <span class="emphasis"><em>Configuration Guide</em></span>.
									</li></ul></div></li></ul></div></li><li class="listitem">
						You can find more information about <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_core_services_apache_http_server/2.4/html-single/apache_http_server_installation_guide/#about_red_hat_jboss_core_services">JBoss Core Services</a> in the <span class="emphasis"><em>Apache HTTP Server Installation Guide</em></span>.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="migrate_changes_to_deployments_on_amazon_ec2"/>Changes to Deployments on Amazon EC2</h1></div></div></div><p>
				A number of changes have been made to the Amazon Machine Images (AMI) in JBoss EAP 7. This section briefly summarizes some of those changes.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						The way you launch non-clustered and clustered JBoss EAP instances and domains in Amazon EC2 has changed significantly.
					</li><li class="listitem">
						JBoss EAP 6 used the <code class="literal">User Data:</code> field for JBoss EAP configuration. The AMI scripts that parsed the configuration in the <code class="literal">User Data:</code> field and started the servers automatically on instance startup have been removed from JBoss EAP 7.
					</li><li class="listitem">
						Red Hat JBoss Operations Network agent was installed in the previous release of JBoss EAP. In JBoss EAP 7, you must install it separately.
					</li></ul></div><p>
				For details on deploying JBoss EAP 7 on Amazon EC2, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/deploying_jboss_eap_on_amazon_web_services/"><span class="emphasis"><em>Deploying JBoss EAP on Amazon Web Services</em></span></a>.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="undeploying_applications_that_include_shared_modules"/>Undeploying Applications That Include Shared Modules</h1></div></div></div><p>
				Changes in the JBoss EAP 7.1 server and the Maven plug-in can result in the following failure when you attempt to undeploy your application. This error can occur if your application contains modules that interact with or depend on each other.
			</p><pre class="screen">WFLYCTL0184:    New missing/unsatisfied dependencies</pre><p>
				For example, assume you have an application that contains two Maven WAR project modules, <code class="literal">application-A</code> and <code class="literal">application-B</code>, that share data managed by the <code class="literal">data-sharing</code> module.
			</p><p>
				When you deploy this application, you must deploy the shared <code class="literal">data-sharing</code> module first, and then deploy the modules that depend on it. The deployment order is specified in the <code class="literal">&lt;modules&gt;</code> element of the parent <code class="literal">pom.xml</code> file. This is true in JBoss EAP 6.4 through JBoss EAP 7.2.
			</p><p>
				In releases prior to JBoss EAP 7.1, you could undeploy all of the archives for this application from the root of the parent project using the following command.
			</p><pre class="screen">$ mvn wildfly:undeploy</pre><p>
				In JBoss EAP 7.1 and later, you must first undeploy the archives that use the shared modules, and then undeploy the shared modules. Since there is no way to specify the order of undeployment in the project <code class="literal">pom.xml</code> file, you must undeploy the modules manually. You can accomplish this by running the following commands from the root of the parent directory.
			</p><pre class="screen">$ mvn wildfly:undeploy -pl application-A,application-B
$ mvn wildfly:undeploy -pl data-shared</pre><p>
				This new undeploy behavior is more correct and ensures that you do not end up in an unstable deployment state.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="migrate_changes_to_eap_scripts"/>Changes to JBoss EAP Scripts</h1></div></div></div><p>
				The <code class="literal">add-user</code> script behavior has changed in JBoss EAP 7 due to a change in password policy. JBoss EAP 6 had a strict password policy. As a result, the <code class="literal">add-user</code> script rejected weak passwords that did not satisfy the minimum requirements. In JBoss EAP 7, weak passwords are accepted and a warning is issued. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/configuration_guide/#setting_add_user_password_restrictions">Setting Add-User Utility Password Restrictions</a> in the JBoss EAP <span class="emphasis"><em>Configuration Guide</em></span>.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="migrate_removal_of_osgi_support"/>Removal of OSGi Support</h1></div></div></div><p>
				When JBoss EAP 6.0 GA was first released, JBoss OSGi, an implementation of the OSGi specification, was included as a Technology Preview feature. With the release of JBoss EAP 6.1.0, JBoss OSGi was demoted from Technology Preview to Unsupported.
			</p><p>
				In JBoss EAP 6.1.0, the <code class="literal">configadmin</code> and <code class="literal">osgi</code> extension modules and subsystem configuration for a standalone server were moved to a separate <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/standalone-osgi.xml</code> configuration file. Because you should not migrate this unsupported configuration file, the removal of JBoss OSGi support should not impact the migration of a standalone server configuration. If you modified any of the other standalone configuration files to configure <code class="literal">osgi</code> or <code class="literal">configadmin</code>, those configurations must be removed.
			</p><p>
				For a managed domain, the <code class="literal">osgi</code> extension and subsystem configuration were removed from the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/domain.xml</code> file in the JBoss EAP 6.1.0 release. However, the <code class="literal">configadmin</code> module extension and subsystem configuration remain in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/domain.xml</code> file. This configuration is no longer supported in JBoss EAP 7 and must be removed.
			</p></div></div></body></html>