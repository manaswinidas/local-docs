<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 2. Developing Applications Using JBoss EAP</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="developing_apps_using_jboss_eap"/>Chapter 2. Developing Applications Using JBoss EAP</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="overview"/>Overview</h1></div></div></div><p>
				This guide provides information on getting started developing applications by using Red Hat Developer Studio and the JBoss EAP 7 quickstart examples.
			</p><p>
				Red Hat Developer Studio is an Eclipse-based integrated development environment (IDE) that integrates JBoss application development plug-ins. Red Hat Developer Studio can assist with your application development with the availability of JBoss-specific wizards and the ability to deploy applications to JBoss EAP servers. Many quickstart code examples are provided with JBoss EAP 7 to help users get started writing applications using different Java EE technologies.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="setting_up_the_development_environment"/>Setting Up the Development Environment</h1></div></div></div><p>
				It is recommended to use Red Hat Developer Studio 12.9 or later with JBoss EAP 7.2.
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Download and install Red Hat Developer Studio.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_studio/12.9/html-single/installation_guide/#proc_installing-devstudio-stand-alone-using-the-installer">Installing Developer Studio stand-alone using the Installer</a> in the Red Hat Developer Studio <span class="emphasis"><em>Installation Guide</em></span>.
					</p></li><li class="listitem"><p class="simpara">
						Set up the JBoss EAP server in Red Hat Developer Studio.
					</p><p class="simpara">
						For instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_studio/12.9/html-single/getting_started_with_developer_studio_tools/#proc_downloading-installing-and-setting-up-eap-from-within-the-ide">Downloading, Installing, and Setting Up JBoss EAP from within the IDE</a> in the <span class="emphasis"><em>Getting Started with Developer Studio Tools</em></span> guide.
					</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="using_the_quickstart_examples"/>Using the Quickstart Examples</h1></div></div></div><p>
				The quickstart examples provided with JBoss EAP are Maven projects.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="about_maven"/>About Maven</h2></div></div></div><p>
					Apache Maven is a distributed build automation tool used in Java application development to create, manage, and build software projects. Maven uses standard configuration files called Project Object Model (POM) files to define projects and manage the build process. POMs describe the module and component dependencies, build order, and targets for the resulting project packaging and output using an XML file. This ensures that the project is built in a correct and uniform manner.
				</p><p>
					Maven achieves this by using a repository. A Maven repository stores Java libraries, plug-ins, and other build artifacts. The default public repository is the <a class="link" href="http://search.maven.org/#browse">Maven 2 Central Repository</a>, but repositories can be private and internal within a company with a goal to share common artifacts among development teams. Repositories are also available from third-parties. For more information, see the <a class="link" href="http://maven.apache.org/">Apache Maven</a> project and the <a class="link" href="http://maven.apache.org/guides/introduction/introduction-to-repositories.html">Introduction to Repositories</a> guide.
				</p><p>
					JBoss EAP includes a Maven repository that contains many of the requirements that Java EE developers typically use to build applications on JBoss EAP.
				</p><p>
					For more information about how to use Maven with JBoss EAP, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#using_maven_with_eap">Using Maven with JBoss EAP</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="using_maven_with_the_quickstarts"/>Using Maven with the Quickstarts</h2></div></div></div><p>
					The artifacts and dependencies needed to build and deploy applications to JBoss EAP 7 are hosted on a public repository. Starting with the JBoss EAP 7 quickstarts, it is no longer necessary to configure your Maven <code class="literal">settings.xml</code> file to use these repositories when building the quickstarts. The Maven repositories are now configured in the quickstart project POM files. This method of configuration is provided to make it easier to get started with the quickstarts, however, is generally not recommended for production projects because it can slow down your build.
				</p><p>
					Red Hat Developer Studio includes Maven, so there is no need to download and install it separately. It is recommended to use Red Hat Developer Studio version 12.9 or later.
				</p><p>
					If you plan to use the Maven command line to build and deploy your applications, then you must first download Maven from the <a class="link" href="http://maven.apache.org/download.cgi">Apache Maven</a> project and install it using the instructions provided in the Maven documentation.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="download_and_run_the_quickstarts"/>Download and Run the Quickstarts</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="download_the_quickstarts"/>Download the Quickstarts</h3></div></div></div><p>
						JBoss EAP comes with a comprehensive set of quickstart code examples designed to help users begin writing applications using various Java EE technologies. The quickstarts can be downloaded from the Red Hat Customer Portal.
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
								Log in to the <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=appplatform&amp;downloadType=distributions">JBoss EAP download page</a> on the Red Hat Customer Portal.
							</li><li class="listitem">
								Select <span class="strong"><strong>7.2</strong></span> in the <span class="strong"><strong>Version</strong></span> drop-down menu.
							</li><li class="listitem">
								Find the <span class="strong"><strong>Red Hat JBoss Enterprise Application Platform 7.2.0 Quickstarts</strong></span> entry in the list and click <span class="strong"><strong>Download</strong></span> to download a ZIP file containing the quickstarts.
							</li><li class="listitem">
								Save the ZIP file to the desired directory.
							</li><li class="listitem">
								Extract the ZIP file.
							</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="run_the_quickstarts_in_red_hat_developer_studio"/>Run the Quickstarts in Red Hat Developer Studio</h3></div></div></div><p>
						Once the quickstarts have been downloaded, they can be imported into Red Hat Developer Studio and deployed to JBoss EAP.
					</p><div class="title"><strong>Import a Quickstart into Red Hat Developer Studio</strong></div><p>
							Each quickstart ships with a POM file that contains its project and configuration information. Use this POM file to easily import the quickstart into Red Hat Developer Studio.
						</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
							If your quickstart project folder is located within the IDE workspace when you import it into Red Hat Developer Studio, the IDE generates an invalid project name and WAR archive name. Be sure your quickstart project folder is located outside the IDE workspace before you begin.
						</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
								Start Red Hat Developer Studio.
							</li><li class="listitem">
								Select <span class="strong"><strong>File</strong></span> → <span class="strong"><strong>Import</strong></span>.
							</li><li class="listitem"><p class="simpara">
								Choose <span class="strong"><strong>Maven</strong></span> → <span class="strong"><strong>Existing Maven Projects</strong></span>, then click <span class="strong"><strong>Next</strong></span>.
							</p><div class="figure"><a id="idm140147827886464"/><p class="title"><strong>Figure 2.1. Import Existing Maven Projects</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/7301.png" alt="The *Import* window."/></div></div></div></li><li class="listitem"><p class="simpara">
								Browse to the desired quickstart’s directory (for example the <code class="literal">helloworld</code> quickstart), and click <span class="strong"><strong>OK</strong></span>. The <span class="strong"><strong>Projects</strong></span> list box is populated with the <code class="literal">pom.xml</code> file of the selected quickstart project.
							</p><div class="figure"><a id="idm140147843078288"/><p class="title"><strong>Figure 2.2. Select Maven Projects</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/7303.png" alt="The *Maven Projects* selection window."/></div></div></div></li><li class="listitem">
								Click <span class="strong"><strong>Finish</strong></span>.
							</li></ol></div><div class="title"><strong>Run the <span class="emphasis"><em>helloworld</em></span> Quickstart</strong></div><p>
							Running the <code class="literal">helloworld</code> quickstart is a simple way to verify that the JBoss EAP server is configured and running correctly.
						</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
								If you have not yet defined a server, add the JBoss EAP server to Red Hat Developer Studio. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_studio/12.9/html-single/getting_started_with_developer_studio_tools/#proc_downloading-installing-and-setting-up-eap-from-within-the-ide">Downloading, Installing, and Setting Up JBoss EAP from within the IDE</a> in the <span class="emphasis"><em>Getting Started with Developer Studio Tools</em></span> guide.
							</li><li class="listitem"><p class="simpara">
								Right-click the <span class="strong"><strong>helloworld</strong></span> project in the <span class="strong"><strong>Project Explorer</strong></span> tab and select <span class="strong"><strong>Run As</strong></span> → <span class="strong"><strong>Run on Server</strong></span>.
							</p><div class="figure"><a id="idm140147825921680"/><p class="title"><strong>Figure 2.3. Run As - Run on Server</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/7308.png" alt="The *Run As* -&gt; *Run on Server* screen capture."/></div></div></div></li><li class="listitem"><p class="simpara">
								Select the JBoss EAP 7.2 server from the server list and click <span class="strong"><strong>Next</strong></span>.
							</p><div class="figure"><a id="idm140147838480560"/><p class="title"><strong>Figure 2.4. Run on Server</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/7309.png" alt="The *Run on Server* window."/></div></div></div></li><li class="listitem"><p class="simpara">
								The <span class="strong"><strong>helloworld</strong></span> quickstart is already listed to be configured on the server. Click <span class="strong"><strong>Finish</strong></span> to deploy the quickstart.
							</p><div class="figure"><a id="idm140147844421392"/><p class="title"><strong>Figure 2.5. Modify Resources Configured on the Server</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/7310.png" alt="The *Add and Remove Resources* window."/></div></div></div></li><li class="listitem"><p class="simpara">
								Verify the results.
							</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										In the <span class="strong"><strong>Server</strong></span> tab, the JBoss EAP 7.2 server status changes to <code class="literal">Started</code> .
									</li><li class="listitem"><p class="simpara">
										The <span class="strong"><strong>Console</strong></span> tab shows messages detailing the JBoss EAP server start and the <code class="literal">helloworld</code> quickstart deployment.
									</p><pre class="screen">WFLYUT0021: Registered web context: /helloworld
WFLYSRV0010: Deployed "helloworld.war" (runtime-name : "helloworld.war")</pre></li><li class="listitem">
										The <code class="literal">helloworld</code> application is available at <a class="link" href="http://localhost:8080/helloworld">http://localhost:8080/helloworld</a> and displays the text <code class="literal">Hello World!</code>.
									</li></ul></div></li></ol></div><p>
						For further details on the <code class="literal">helloworld</code> quickstart, see <a class="link" href="developing_apps_using_jboss_eap.html#explore_the_helloworld_quickstart" title="Explore the helloworld Quickstart">Explore the helloworld Quickstart</a>.
					</p><div class="title"><strong>Run the <span class="emphasis"><em>bean-validation</em></span> Quickstart</strong></div><p>
							Some quickstarts, such as the <code class="literal">bean-validation</code> quickstart, do not provide a user interface layer and instead provide Arquillian tests to demonstrate functionality.
						</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
								Import the <code class="literal">bean-validation</code> quickstart into Red Hat Developer Studio.
							</li><li class="listitem">
								In the <span class="strong"><strong>Servers</strong></span> tab, right-click on the server and choose <span class="strong"><strong>Start</strong></span> to start the JBoss EAP server. If you do not see a <span class="strong"><strong>Servers</strong></span> tab or have not yet defined a server, add the JBoss EAP server to Red Hat Developer Studio. See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_studio/12.9/html-single/getting_started_with_developer_studio_tools/#proc_downloading-installing-and-setting-up-eap-from-within-the-ide">Downloading, Installing, and Setting Up JBoss EAP from within the IDE</a> in the <span class="emphasis"><em>Getting Started with Developer Studio Tools</em></span> guide.
							</li><li class="listitem">
								Right-click on the <code class="literal">bean-validation</code> project in the <span class="strong"><strong>Project Explorer</strong></span> tab and select <span class="strong"><strong>Run As</strong></span> → <span class="strong"><strong>Maven Build</strong></span>.
							</li><li class="listitem"><p class="simpara">
								Enter the following in the <span class="strong"><strong>Goals</strong></span> input field and then click <span class="strong"><strong>Run</strong></span>.
							</p><pre class="screen">clean verify -Parq-remote</pre><div class="figure"><a id="idm140147798817104"/><p class="title"><strong>Figure 2.6. Edit Configuration</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/7314.png" alt="The *Edit Configuration* window."/></div></div></div></li><li class="listitem"><p class="simpara">
								Verify the results.
							</p><p class="simpara">
								The <span class="strong"><strong>Console</strong></span> tab shows the results of the <code class="literal">bean-validation</code> Arquillian tests:
							</p><pre class="screen">-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.jboss.as.quickstarts.bean_validation.test.MemberValidationTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.189 sec

Results :

Tests run: 5, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="run_the_quickstarts_using_a_command_line"/>Run the Quickstarts from the Command Line</h3></div></div></div><p>
						You can easily build and deploy the quickstarts from the command line using Maven. If you do not yet have Maven installed, see the <a class="link" href="http://maven.apache.org/download.cgi">Apache Maven</a> project to download and install it.
					</p><p>
						A <code class="literal">README.md</code> file is provided at the root directory of the quickstarts that contains general information about system requirements, configuring Maven, adding users, and running the quickstarts.
					</p><p>
						Each quickstart also contains its own <code class="literal">README.md</code> file that provides the specific instructions and Maven commands to run that quickstart.
					</p><div class="orderedlist"><p class="title"><strong>Run the <span class="emphasis"><em>helloworld</em></span> Quickstart from the Command Line</strong></p><ol class="orderedlist"><li class="listitem">
								Review the <code class="literal">README.md</code> file in the root directory of the <span class="emphasis"><em>helloworld</em></span> quickstart.
							</li><li class="listitem"><p class="simpara">
								Start the JBoss EAP server.
							</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh</pre></li><li class="listitem">
								Navigate to the <span class="emphasis"><em>helloworld</em></span> quickstart directory.
							</li><li class="listitem"><p class="simpara">
								Build and deploy the quickstart using the Maven command provided in the quickstart’s <code class="literal">README.md</code> file.
							</p><pre class="screen">$ mvn clean install wildfly:deploy</pre></li><li class="listitem">
								The <span class="emphasis"><em>helloworld</em></span> application is now available at <a class="link" href="http://localhost:8080/helloworld">http://localhost:8080/helloworld</a> and displays the text <code class="literal">Hello World!</code>.
							</li></ol></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="review_the_quickstart_tutorials"/>Review the Quickstart Examples</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="explore_the_helloworld_quickstart"/>Explore the helloworld Quickstart</h2></div></div></div><p>
					The <code class="literal">helloworld</code> quickstart shows you how to deploy a simple servlet to JBoss EAP. The business logic is encapsulated in a service, which is provided as a Contexts and Dependency Injection (CDI) bean and injected into the Servlet. This quickstart is a starting point to be sure you have configured and started your server properly.
				</p><p>
					Detailed instructions to build and deploy this quickstart using the command line can be found in the <code class="literal">README.html</code> file at the root of the <code class="literal">helloworld</code> quickstart directory. This topic shows you how to use Red Hat Developer Studio to run the quickstart and assumes you have installed Red Hat Developer Studio, configured Maven, and imported and successfully run the <code class="literal">helloworld</code> quickstart.
				</p><h4><a id="prerequisites"/>Prerequisites</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Install Red Hat Developer Studio. For instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_studio/12.9/html-single/installation_guide/#proc_installing-devstudio-stand-alone-using-the-installer">Installing Developer Studio stand-alone using the Installer</a> in the Red Hat Developer Studio <span class="emphasis"><em>Installation Guide</em></span>.
						</li><li class="listitem">
							Run the <code class="literal">helloworld</code> quickstart. For instructions, see <a class="link" href="developing_apps_using_jboss_eap.html#run_the_quickstarts_in_red_hat_developer_studio" title="Run the Quickstarts in Red Hat Developer Studio">Run the Quickstarts in Red Hat Developer Studio</a>.
						</li><li class="listitem">
							Verify that the <code class="literal">helloworld</code> quickstart was successfully deployed to JBoss EAP by opening a web browser and accessing the application at <a class="link" href="http://localhost:8080/helloworld">http://localhost:8080/helloworld</a>.
						</li></ul></div><h4><a id="examine_the_directory_structure"/>Examine the Directory Structure</h4><p>
					The code for the <code class="literal">helloworld</code> quickstart can be found in the <code class="literal"><span class="emphasis"><em>QUICKSTART_HOME</em></span>/helloworld/</code> directory. The <code class="literal">helloworld</code> quickstart is comprised of a Servlet and a CDI bean. It also contains a <code class="literal">beans.xml</code> file in the application’s <code class="literal">WEB-INF/</code> directory that has a version number of 1.1 and a <code class="literal">bean-discovery-mode</code> of <code class="literal">all</code>. This marker file identifies the WAR as a bean archive and tells JBoss EAP to look for beans in this application and to activate the CDI.
				</p><p>
					The <code class="literal">src/main/webapp/</code> directory contains the files for the quickstart. All the configuration files for this example are located in the <code class="literal">WEB-INF/</code> directory within <code class="literal">src/main/webapp/</code>, including the <code class="literal">beans.xml</code> file. The <code class="literal">src/main/webapp/</code> directory also includes an <code class="literal">index.html</code> file, which uses a simple meta refresh to redirect the user’s browser to the Servlet, which is located at <a class="link" href="http://localhost:8080/helloworld/HelloWorld">http://localhost:8080/helloworld/HelloWorld</a>. The quickstart does not require a <code class="literal">web.xml</code> file.
				</p><h4><a id="examine_the_code"/>Examine the Code</h4><p>
					The package declaration and imports have been excluded from these listings. The complete listing is available in the quickstart source code.
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Review the <code class="literal">HelloWorldServlet</code> code.
						</p><p class="simpara">
							The <code class="literal">HelloWorldServlet.java</code> file is located in the <code class="literal">src/main/java/org/jboss/as/quickstarts/helloworld/</code> directory. This servlet sends the information to the browser.
						</p><div class="title"><strong>Example: HelloWorldServlet Class Code</strong></div><p>
								
</p><pre class="programlisting">42 @SuppressWarnings("serial")
43 @WebServlet("/HelloWorld")
44 public class HelloWorldServlet extends HttpServlet {
45
46     static String PAGE_HEADER = "&lt;html&gt;&lt;head&gt;&lt;title&gt;helloworld&lt;/title&gt;&lt;/head&gt;&lt;body&gt;";
47
48     static String PAGE_FOOTER = "&lt;/body&gt;&lt;/html&gt;";
49
50     @Inject
51	   HelloService helloService;
52
53     @Override
54     protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
55         resp.setContentType("text/html");
56         PrintWriter writer = resp.getWriter();
57         writer.println(PAGE_HEADER);
58         writer.println("&lt;h1&gt;" + helloService.createHelloMessage("World") + "&lt;/h1&gt;");
59         writer.println(PAGE_FOOTER);
60         writer.close();
61     }
62
63 }</pre><p>

							</p><div class="table"><a id="idm140147797284144"/><p class="title"><strong>Table 2.1. HelloWorldServlet Details</strong></p><div class="table-contents"><table summary="HelloWorldServlet Details" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Line</th><th style="text-align: left" valign="top">Note</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
											43
										</p>
										 </td><td style="text-align: left" valign="top"> <p>
											All you need to do is add the <code class="literal">@WebServlet</code> annotation and provide a mapping to a URL used to access the servlet.
										</p>
										 </td></tr><tr><td style="text-align: left" valign="top"> <p>
											46-48
										</p>
										 </td><td style="text-align: left" valign="top"> <p>
											Every web page needs correctly formed HTML. This quickstart uses static Strings to write the minimum header and footer output.
										</p>
										 </td></tr><tr><td style="text-align: left" valign="top"> <p>
											50-51
										</p>
										 </td><td style="text-align: left" valign="top"> <p>
											These lines inject the HelloService CDI bean which generates the actual message. As long as we don’t alter the API of HelloService, this approach allows us to alter the implementation of HelloService at a later date without changing the view layer.
										</p>
										 </td></tr><tr><td style="text-align: left" valign="top"> <p>
											58
										</p>
										 </td><td style="text-align: left" valign="top"> <p>
											This line calls into the service to generate the message "Hello World", and write it out to the HTTP request.
										</p>
										 </td></tr></tbody></table></div></div></li><li class="listitem"><p class="simpara">
							Review the <code class="literal">HelloService</code> code.
						</p><p class="simpara">
							The <code class="literal">HelloService.java</code> file is located in the <code class="literal">src/main/java/org/jboss/as/quickstarts/helloworld/</code> directory. This service simply returns a message. No XML or annotation registration is required.
						</p><div class="title"><strong>Example: HelloService Class Code</strong></div><p>
								
</p><pre class="programlisting">public class HelloService {

    String createHelloMessage(String name) {
        return "Hello " + name + "!";
    }
}</pre><p>

							</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="explore_the_numberguess_quickstart"/>Explore the numberguess Quickstart</h2></div></div></div><p>
					The <code class="literal">numberguess</code> quickstart shows you how to create and deploy a simple non-persistant application to JBoss EAP. Information is displayed using a JSF view and business logic is encapsulated in two CDI beans. In the <code class="literal">numberguess</code> quickstart, you have ten attempts to guess a number between 1 and 100. After each attempt, you’re told whether your guess was too high or too low.
				</p><p>
					The code for the <code class="literal">numberguess</code> quickstart can be found in the <code class="literal"><span class="emphasis"><em>QUICKSTART_HOME</em></span>/numberguess/</code> directory where <code class="literal"><span class="emphasis"><em>QUICKSTART_HOME</em></span></code> is the directory where you downloaded and unzipped the JBoss EAP quickstarts. The <code class="literal">numberguess</code> quickstart is comprised of a number of beans, configuration files, and Facelets (JSF) views, and is packaged as a WAR module.
				</p><p>
					Detailed instructions to build and deploy this quickstart using the command line can be found in the <code class="literal">README.html</code> file at the root of the <code class="literal">numberguess</code> quickstart directory. The following examples use Red Hat Developer Studio to run the quickstart.
				</p><h4><a id="prerequisites_2"/>Prerequisites</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Install Red Hat Developer Studio. For instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_studio/12.9/html-single/installation_guide/#proc_installing-devstudio-stand-alone-using-the-installer">Installing Developer Studio stand-alone using the Installer</a> in the Red Hat Developer Studio <span class="emphasis"><em>Installation Guide</em></span>.
						</li><li class="listitem">
							Run the <code class="literal">numberguess</code> quickstart. For instructions, see <a class="link" href="developing_apps_using_jboss_eap.html#run_the_quickstarts_in_red_hat_developer_studio" title="Run the Quickstarts in Red Hat Developer Studio">Run the Quickstarts in Red Hat Developer Studio</a> and replace <code class="literal">helloworld</code> with <code class="literal">numberguess</code> in the instructions.
						</li><li class="listitem">
							Verify the <code class="literal">numberguess</code> quickstart was deployed successfully to JBoss EAP by opening a web browser and accessing the application at this URL: <a class="link" href="http://localhost:8080/numberguess">http://localhost:8080/numberguess</a>.
						</li></ul></div><h4><a id="examine_the_configuration_files"/>Examine the Configuration Files</h4><p>
					All the configuration files for this example are located in the <code class="literal"><span class="emphasis"><em>QUICKSTART_HOME</em></span>/numberguess/src/main/webapp/WEB-INF/</code> directory of the quickstart.
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Examine the <code class="literal">faces-config.xml</code> file.
						</p><p class="simpara">
							This quickstart uses the JSF 2.2 version of <code class="literal">faces-config.xml</code> filename. A standardized version of Facelets is the default view handler in JSF 2.2 so it requires no configuration. This file consists of only the root element and is simply a marker file to indicate JSF should be enabled in the application.
						</p><pre class="programlisting">&lt;faces-config version="2.2"
   xmlns="http://xmlns.jcp.org/xml/ns/javaee"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="
      http://xmlns.jcp.org/xml/ns/javaee
      http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_2.xsd"&gt;

&lt;/faces-config&gt;</pre></li><li class="listitem"><p class="simpara">
							Examine the <code class="literal">beans.xml</code> file.
						</p><p class="simpara">
							The <code class="literal">beans.xml</code> file contains a version number of 1.1 and a <code class="literal">bean-discovery-mode</code> of <code class="literal">all</code>. This file is a marker file that identifies the WAR as a bean archive and tells JBoss EAP to look for beans in this application and to activate the CDI.
						</p><pre class="programlisting">&lt;beans xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
      http://xmlns.jcp.org/xml/ns/javaee
      http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd"
    bean-discovery-mode="all"&gt;
&lt;/beans&gt;</pre></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						This quickstart does not need a <code class="literal">web.xml</code> file.
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="examine_the_jsf_code"/>Examine the JSF Code</h3></div></div></div><p>
						JSF uses the <code class="literal">.xhtml</code> file extension for source files, but delivers the rendered views with the <code class="literal">.jsf</code> extension. The <code class="literal">home.xhtml</code> file is located in the <code class="literal">src/main/webapp/</code> directory.
					</p><div class="title"><strong>Example: JSF Source Code</strong></div><p>
							
</p><pre class="programlisting">19&lt;html xmlns="http://www.w3.org/1999/xhtml"
20	xmlns:ui="http://java.sun.com/jsf/facelets"
21	xmlns:h="http://java.sun.com/jsf/html"
22	xmlns:f="http://java.sun.com/jsf/core"&gt;
23
24	&lt;head&gt;
25	&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
26	&lt;title&gt;Numberguess&lt;/title&gt;
27	&lt;/head&gt;
28
29	&lt;body&gt;
30	&lt;div id="content"&gt;
31		&lt;h1&gt;Guess a number...&lt;/h1&gt;
32		&lt;h:form id="numberGuess"&gt;
33
34		&lt;!-- Feedback for the user on their guess --&gt;
35	&lt;div style="color: red"&gt;
36		&lt;h:messages id="messages" globalOnly="false" /&gt;
37		&lt;h:outputText id="Higher" value="Higher!"
38 		  rendered="#{game.number gt game.guess and game.guess ne 0}" /&gt;
39		&lt;h:outputText id="Lower" value="Lower!"
40		   rendered="#{game.number lt game.guess and game.guess ne 0}" /&gt;
41	&lt;/div&gt;
42
43	&lt;!-- Instructions for the user --&gt;
44	&lt;div&gt;
45	I'm thinking of a number between &lt;span
46	id="numberGuess:smallest"&gt;#{game.smallest}&lt;/span&gt; and &lt;span
47	id="numberGuess:biggest"&gt;#{game.biggest}&lt;/span&gt;. You have
48	#{game.remainingGuesses} guesses remaining.
49	&lt;/div&gt;
50
51	&lt;!-- Input box for the users guess, plus a button to submit, and reset --&gt;
52	&lt;!-- These are bound using EL to our CDI beans --&gt;
53	&lt;div&gt;
54	Your guess:
55	&lt;h:inputText id="inputGuess" value="#{game.guess}"
56		required="true" size="3"
57		disabled="#{game.number eq game.guess}"
58		validator="#{game.validateNumberRange}" /&gt;
59		&lt;h:commandButton id="guessButton" value="Guess"
60			action="#{game.check}"
61			disabled="#{game.number eq game.guess}" /&gt;
62	&lt;/div&gt;
63	&lt;div&gt;
64	&lt;h:commandButton id="restartButton" value="Reset"
65	action="#{game.reset}" immediate="true" /&gt;
66	&lt;/div&gt;
67	&lt;/h:form&gt;
68
69	&lt;/div&gt;
70
71	&lt;br style="clear: both" /&gt;
72
73	&lt;/body&gt;
74&lt;/html&gt;</pre><p>

						</p><p>
						The following line numbers correspond to those seen when viewing the file in Red Hat Developer Studio.
					</p><div class="table"><a id="idm140147839840544"/><p class="title"><strong>Table 2.2. JSF Details</strong></p><div class="table-contents"><table summary="JSF Details" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Line</th><th style="text-align: left" valign="top">Note</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
										36-40
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										These are the messages which can be sent to the user: "Higher!" and "Lower!"
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										45-48
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										As the user guesses, the range of numbers they can guess gets smaller. This sentence changes to make sure they know the number range of a valid guess.
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										55-58
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										This input field is bound to a bean property using a value expression.
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										58
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										A validator binding is used to make sure the user does not accidentally input a number outside of the range in which they can guess. If the validator was not here, the user might use up a guess on an out of bounds number.
									</p>
									 </td></tr><tr><td style="text-align: left" valign="top"> <p>
										59-61
									</p>
									 </td><td style="text-align: left" valign="top"> <p>
										There must be a way for the user to send their guess to the server. Here we bind to an action method on the bean.
									</p>
									 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="examine_the_class_files"/>Examine the Class Files</h3></div></div></div><p>
						All of the <code class="literal">numberguess</code> quickstart source files can be found in the <code class="literal"><span class="emphasis"><em>QUICKSTART_HOME</em></span>/numberguess/src/main/java/org/jboss/as/quickstarts/numberguess/</code> directory. The package declaration and imports have been excluded from these listings. The complete listing is available in the quickstart source code.
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
								Review the <code class="literal">Random.java</code> Qualifier Code
							</p><p class="simpara">
								A qualifier is used to remove ambiguity between two beans, both of which are eligible for injection based on their type. For more information on qualifiers, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#use_a_qualifier_to_resolve_an_ambiguous_injection">Use a Qualifier to Resolve an Ambiguous Injection</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>. The <code class="literal">@Random</code> qualifier is used for injecting a random number.
							</p><pre class="programlisting">@Target({ TYPE, METHOD, PARAMETER, FIELD })
@Retention(RUNTIME)
@Documented
@Qualifier
public @interface Random {

}</pre></li><li class="listitem"><p class="simpara">
								Review the <code class="literal">MaxNumber.java</code> Qualifier Code
							</p><p class="simpara">
								The <code class="literal">@MaxNumber</code> <code class="literal">qualifier</code> is used for injecting the maximum number allowed.
							</p><pre class="programlisting">@Target({ TYPE, METHOD, PARAMETER, FIELD })
@Retention(RUNTIME)
@Documented
@Qualifier
public @interface MaxNumber {
}</pre></li><li class="listitem"><p class="simpara">
								Review the <code class="literal">Generator.java</code> Code
							</p><p class="simpara">
								The <code class="literal">Generator</code> class creates the random number via a producer method, exposing the maximum possible number via the same. This class is application-scoped, so you don’t get a different random each time.
							</p><pre class="programlisting">@SuppressWarnings("serial")
@ApplicationScoped
public class Generator implements Serializable {

    private java.util.Random random = new java.util.Random(System.currentTimeMillis());

    private int maxNumber = 100;

    java.util.Random getRandom() {
        return random;
    }

    @Produces
    @Random
    int next() {
        // a number between 1 and 100
        return getRandom().nextInt(maxNumber - 1) + 1;
    }

    @Produces
    @MaxNumber
    int getMaxNumber() {
        return maxNumber;
    }
}</pre></li><li class="listitem"><p class="simpara">
								Review the <code class="literal">Game.java</code> Code
							</p><p class="simpara">
								The session-scoped <code class="literal">Game</code> class is the primary entry point of the application. It is responsible for setting up or resetting the game, capturing and validating the user’s guess, and providing feedback to the user with a <code class="literal">FacesMessage</code>. It uses the post-construct lifecycle method to initialize the game by retrieving a random number from the <code class="literal">@Random Instance&lt;Integer&gt;</code> bean.
							</p><p class="simpara">
								Notice the <code class="literal">@Named</code> annotation in the class. This annotation is only required when you want to make the bean accessible to a JSF view by using Expression Language (EL), in this case <code class="literal">#{game}</code>.
							</p><pre class="programlisting">@SuppressWarnings("serial")
@Named
@SessionScoped
public class Game implements Serializable {

    /**
     * The number that the user needs to guess
     */
    private int number;

    /**
     * The users latest guess
     */
    private int guess;

    /**
     * The smallest number guessed so far (so we can track the valid guess range).
     */
    private int smallest;

    /**
     * The largest number guessed so far
     */
    private int biggest;

    /**
     * The number of guesses remaining
     */
    private int remainingGuesses;

    /**
     * The maximum number we should ask them to guess
     */
    @Inject
    @MaxNumber
    private int maxNumber;

    /**
     * The random number to guess
     */
    @Inject
    @Random
    Instance&lt;Integer&gt; randomNumber;

    public Game() {
    }

    public int getNumber() {
        return number;
    }

    public int getGuess() {
        return guess;
    }

    public void setGuess(int guess) {
        this.guess = guess;
    }

    public int getSmallest() {
        return smallest;
    }

    public int getBiggest() {
        return biggest;
    }

    public int getRemainingGuesses() {
        return remainingGuesses;
    }

    /**
     * Check whether the current guess is correct, and update the biggest/smallest guesses as needed. Give feedback to the user
     * if they are correct.
     */
    public void check() {
        if (guess &gt; number) {
            biggest = guess - 1;
        } else if (guess &lt; number) {
            smallest = guess + 1;
        } else if (guess == number) {
            FacesContext.getCurrentInstance().addMessage(null, new FacesMessage("Correct!"));
        }
        remainingGuesses--;
    }

    /**
     * Reset the game, by putting all values back to their defaults, and getting a new random number. We also call this method
     * when the user starts playing for the first time using {@linkplain PostConstruct @PostConstruct} to set the initial
     * values.
     */
    @PostConstruct
    public void reset() {
        this.smallest = 0;
        this.guess = 0;
        this.remainingGuesses = 10;
        this.biggest = maxNumber;
        this.number = randomNumber.get();
    }

    /**
     * A JSF validation method which checks whether the guess is valid. It might not be valid because there are no guesses left,
     * or because the guess is not in range.
     *
     */
    public void validateNumberRange(FacesContext context, UIComponent toValidate, Object value) {
        if (remainingGuesses &lt;= 0) {
            FacesMessage message = new FacesMessage("No guesses left!");
            context.addMessage(toValidate.getClientId(context), message);
            ((UIInput) toValidate).setValid(false);
            return;
        }
        int input = (Integer) value;

        if (input &lt; smallest || input &gt; biggest) {
            ((UIInput) toValidate).setValid(false);

            FacesMessage message = new FacesMessage("Invalid guess");
            context.addMessage(toValidate.getClientId(context), message);
        }
    }
}</pre></li></ol></div></div></div></div></div></body></html>