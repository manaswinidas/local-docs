<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 2. Creating Enterprise Bean Projects</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="creating_enterprise_bean_projects"/>Chapter 2. Creating Enterprise Bean Projects</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="create_an_ejb_archive_project_using_red_hat_jboss_developer_studio"/>Create an EJB Archive Project Using Red Hat Developer Studio</h1></div></div></div><p>
				This task describes how to create an Enterprise JavaBeans (EJB) project in Red Hat Developer Studio.
			</p><h3><a id="prerequisites"/>Prerequisites</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						A server and server runtime for JBoss EAP have been configured in Red Hat Developer Studio.
					</li></ul></div><h3><a id="create_an_ejb_project_in_jbds"/>Create an EJB Project in Red Hat Developer Studio</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Open the <span class="strong"><strong>New EJB Project</strong></span> wizard.
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
								Navigate to the <span class="strong"><strong>File</strong></span> menu, select <span class="strong"><strong>New</strong></span>, then select <span class="strong"><strong>Project</strong></span>.
							</li><li class="listitem"><p class="simpara">
								When the <span class="strong"><strong>New Project</strong></span> wizard appears, select <span class="strong"><strong>EJB/EJB Project</strong></span> and click <span class="strong"><strong>Next</strong></span>.
							</p><div class="figure"><a id="idm140362818443264"/><p class="title"><strong>Figure 2.1. New EJB Project Wizard</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/6585.png" alt="New EJB Project Wizard"/></div></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Enter the following details:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<span class="strong"><strong>Project name:</strong></span> The name of the project that appears in Red Hat Developer Studio, and also the default file name for the deployed JAR file.
							</li><li class="listitem">
								<span class="strong"><strong>Project location:</strong></span> The directory where the project files will be saved. The default is a directory in the current workspace.
							</li><li class="listitem">
								<span class="strong"><strong>Target runtime:</strong></span> This is the server runtime used for the project. This will need to be set to the same <span class="strong"><strong>JBoss EAP</strong></span> runtime used by the server that you will be deploying to.
							</li><li class="listitem">
								<span class="strong"><strong>EJB module version:</strong></span> This is the version of the EJB specification that your enterprise beans will comply with. Red Hat recommends using <span class="strong"><strong>3.2</strong></span>.
							</li><li class="listitem"><p class="simpara">
								<span class="strong"><strong>Configuration:</strong></span> This allows you to adjust the supported features in your project. Use the default configuration for your selected runtime.
							</p><p class="simpara">
								Click <span class="strong"><strong>Next</strong></span> to continue.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						The <span class="strong"><strong>Java</strong></span> project configuration screen allows you to add directories containing Java source files and specify the directory for the output of the build.
					</p><p class="simpara">
						Leave this configuration unchanged and click <span class="strong"><strong>Next</strong></span>.
					</p></li><li class="listitem"><p class="simpara">
						In the <span class="strong"><strong>EJB Module</strong></span> settings screen, check <span class="strong"><strong>Generate ejb-jar.xml deployment descriptor</strong></span> if a deployment descriptor is required. The deployment descriptor is optional in EJB 3.2 and can be added later if required.
					</p><p class="simpara">
						Click <span class="strong"><strong>Finish</strong></span> and the project is created and will be displayed in the Project Explorer.
					</p><div class="figure"><a id="idm140362820845984"/><p class="title"><strong>Figure 2.2. Newly Created EJB Project in the Project Explorer</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/47.png" alt="Newly created EJB Project in the Project Explorer"/></div></div></div></li><li class="listitem"><p class="simpara">
						To add the project to the server for deployment, right-click on the target server in the <span class="strong"><strong>Servers</strong></span> tab and choose <span class="strong"><strong>Add and Remove</strong></span>.
					</p><p class="simpara">
						In the <span class="strong"><strong>Add and Remove</strong></span> dialog, select the resource to deploy from the <span class="strong"><strong>Available</strong></span> column and click the <span class="strong"><strong>Add</strong></span> button. The resource will be moved to the <span class="strong"><strong>Configured</strong></span> column. Click <span class="strong"><strong>Finish</strong></span> to close the dialog.
					</p><div class="figure"><a id="idm140362822821200"/><p class="title"><strong>Figure 2.3. Add and Remove Dialog</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/48.png" alt="Add and Remove Dialog"/></div></div></div></li></ol></div><p>
				You now have an EJB project in Red Hat Developer Studio that can build and deploy to the specified server.
			</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
					If no enterprise beans are added to the project then Red Hat Developer Studio will display the warning stating <span class="strong"><strong><span class="emphasis"><em>An EJB module must contain one or more enterprise beans.</em></span></strong></span> This warning will disappear once one or more enterprise beans have been added to the project.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="create_an_ejb_archive_project_in_maven"/>Create an EJB Archive Project in Maven</h1></div></div></div><p>
				This task demonstrates how to create a project using Maven that contains one or more enterprise beans packaged in a JAR file.
			</p><h3><a id="prerequisites_2"/>Prerequisites</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Maven is already installed.
					</li><li class="listitem">
						You understand the basic usage of Maven.
					</li></ul></div><h3><a id="create_an_ejb_archive_project_in_maven-1"/>Create an EJB Archive Project in Maven</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Create the Maven project:</strong></span> An EJB project can be created using Maven’s archetype system and the <code class="literal">ejb-javaee7</code> archetype. To do this run the <code class="literal">mvn</code> command with parameters as shown:
					</p><pre class="screen">$ mvn archetype:generate -DarchetypeGroupId=org.codehaus.mojo.archetypes -DarchetypeArtifactId=ejb-javaee7</pre><p class="simpara">
						Maven will prompt you for the <code class="literal">groupId</code>, <code class="literal">artifactId</code>, <code class="literal">version</code> and <code class="literal">package</code> for your project.
					</p><pre class="screen">$ mvn archetype:generate -DarchetypeGroupId=org.codehaus.mojo.archetypes -DarchetypeArtifactId=ejb-javaee7
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] &gt;&gt;&gt; maven-archetype-plugin:2.0:generate (default-cli) @ standalone-pom &gt;&gt;&gt;
[INFO]
[INFO] &lt;&lt;&lt; maven-archetype-plugin:2.0:generate (default-cli) @ standalone-pom &lt;&lt;&lt;
[INFO]
[INFO] --- maven-archetype-plugin:2.0:generate (default-cli) @ standalone-pom ---
[INFO] Generating project in Interactive mode
[INFO] Archetype [org.codehaus.mojo.archetypes:ejb-javaee7:1.5] found in catalog remote
Define value for property 'groupId': : com.shinysparkly
Define value for property 'artifactId': : payment-arrangements
Define value for property 'version':  1.0-SNAPSHOT: :
Define value for property 'package':  com.shinysparkly: :
Confirm properties configuration:
groupId: com.company
artifactId: payment-arrangements
version: 1.0-SNAPSHOT
package: com.company.collections
Y: :
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 32.440s
[INFO] Finished at: Mon Oct 31 10:11:12 EST 2011
[INFO] Final Memory: 7M/81M
[INFO] ------------------------------------------------------------------------
[localhost]$</pre></li><li class="listitem">
						<span class="strong"><strong>Add your enterprise beans:</strong></span> Write your enterprise beans and add them to the project under the <code class="literal">src/main/java</code> directory in the appropriate sub-directory for the bean’s package.
					</li><li class="listitem">
						<span class="strong"><strong>Build the project:</strong></span> To build the project, run the <code class="literal">mvn package</code> command in the same directory as the <code class="literal">pom.xml</code> file. This will compile the Java classes and package the JAR file. The built JAR file is named <code class="literal">-.jar</code> and is placed in the <code class="literal">target/</code> directory.
					</li></ol></div><p>
				You now have a Maven project that builds and packages a JAR file. This project can contain enterprise beans and the JAR file can be deployed to an application server.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="create_an_ear_project_containing_an_ejb_project"/>Create an EAR Project Containing an EJB Project</h1></div></div></div><p>
				This task describes how to create a new enterprise archive (EAR) project in Red Hat Developer Studio that contains an EJB project.
			</p><h3><a id="prerequisites_3"/>Prerequisites</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						A server and server runtime for JBoss EAP have been set up.
					</li></ul></div><h3><a id="create_an_ear_project_containing_an_ejb_project-1"/>Create an EAR Project Containing an EJB Project</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Open the <span class="strong"><strong>New Java EE EAR Project</strong></span> Wizard.
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
								Navigate to the <span class="strong"><strong>File</strong></span> menu, select <span class="strong"><strong>New</strong></span>, then select <span class="strong"><strong>Project</strong></span>.
							</li><li class="listitem">
								When the <span class="strong"><strong>New Project</strong></span> wizard appears, select <span class="strong"><strong>Java EE/Enterprise Application Project</strong></span> and click <span class="strong"><strong>Next</strong></span>.
							</li></ol></div><div class="figure"><a id="idm140362832993856"/><p class="title"><strong>Figure 2.4. New EAR Application Project Wizard</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/6584.png" alt="New EAR Application Project Wizard"/></div></div></div></li><li class="listitem"><p class="simpara">
						Enter the following details:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<span class="strong"><strong>Project name:</strong></span> The name of the project that appears in Red Hat Developer Studio, and also the default file name for the deployed EAR file.
							</li><li class="listitem">
								<span class="strong"><strong>Project location:</strong></span> The directory where the project files will be saved. The default is a directory in the current workspace.
							</li><li class="listitem">
								<span class="strong"><strong>Target runtime:</strong></span> This is the server runtime used for the project. This will need to be set to the same JBoss EAP runtime used by the server that you will be deploying to.
							</li><li class="listitem">
								<span class="strong"><strong>EAR version:</strong></span> This is the version of the Java Enterprise Edition specification that your project will comply with. Red Hat recommends using Java EE 8.
							</li><li class="listitem"><p class="simpara">
								<span class="strong"><strong>Configuration:</strong></span> This allows you to adjust the supported features in your project. Use the default configuration for your selected runtime.
							</p><p class="simpara">
								Click <span class="strong"><strong>Next</strong></span> to continue.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Add a new EJB module.
					</p><p class="simpara">
						New modules can be added from the <span class="strong"><strong>Enterprise Application</strong></span> page of the wizard. To add a new EJB Project as a module follow the steps below:
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
								Click <span class="strong"><strong>New Module</strong></span>, uncheck <span class="strong"><strong>Create Default Modules</strong></span> checkbox, select the <span class="strong"><strong>Enterprise Java Bean</strong></span> and click <span class="strong"><strong>Next</strong></span>. The <span class="strong"><strong>New EJB Project wizard</strong></span> appears.
							</li><li class="listitem"><p class="simpara">
								The <span class="strong"><strong>New EJB Project wizard</strong></span> is the same as the wizard used to create new standalone EJB Projects and is described in <a class="link" href="creating_enterprise_bean_projects.html#create_an_ejb_archive_project_using_red_hat_jboss_developer_studio" title="Create an EJB Archive Project Using Red Hat Developer Studio">Create an EJB Archive Project Using Red Hat Developer Studio</a>.
							</p><p class="simpara">
								The minimum details required to create the project are:
							</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										Project name
									</li><li class="listitem">
										Target runtime
									</li><li class="listitem">
										EJB module version
									</li><li class="listitem"><p class="simpara">
										Configuration
									</p><p class="simpara">
										All the other steps of the wizard are optional. Click <span class="strong"><strong>Finish</strong></span> to complete creating the EJB Project.
									</p><p class="simpara">
										The newly created EJB project is listed in the Java EE module dependencies and the checkbox is checked.
									</p></li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Optionally, add an <code class="literal">application.xml</code> deployment descriptor.
					</p><p class="simpara">
						Check the <span class="strong"><strong>Generate application.xml deployment descriptor</strong></span> checkbox if one is required.
					</p></li><li class="listitem"><p class="simpara">
						Click <span class="strong"><strong>Finish</strong></span>.
					</p><p class="simpara">
						Two new projects will appear: the EJB project and the EAR project.
					</p></li><li class="listitem"><p class="simpara">
						Add the build artifact to the server for deployment.
					</p><p class="simpara">
						Open the <span class="strong"><strong>Add and Remove</strong></span> dialog by right-clicking in the <span class="strong"><strong>Servers</strong></span> tab on the server you want to deploy the built artifact to in the server tab and then select <span class="strong"><strong>Add and Remove</strong></span>.
					</p><p class="simpara">
						Select the EAR resource to deploy from the <span class="strong"><strong>Available</strong></span> column and click the <span class="strong"><strong>Add</strong></span> button. The resource will be moved to the Configured column. Click <span class="strong"><strong>Finish</strong></span> to close the dialog.
					</p></li></ol></div><div class="figure"><a id="idm140362817353088"/><p class="title"><strong>Figure 2.5. Add and Remove Dialog</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/51.png" alt="Add and Remove Dialog"/></div></div></div><p>
				You now have an Enterprise Application Project with a member EJB Project. This will build and deploy to the specified server as a single EAR deployment containing an EJB subdeployment.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="add_a_deployment_descriptor_to_an_EJB_project"/>Add a Deployment Descriptor to an EJB Project</h1></div></div></div><p>
				An EJB deployment descriptor can be added to an EJB project that was created without one. To do this, follow the procedure below.
			</p><h3><a id="prerequisites_4"/>Prerequisites</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						You have a EJB project in Red Hat Developer Studio to which you want to add an EJB deployment descriptor.
					</li></ul></div><h3><a id="add_a_deployment_descriptor_to_an_ejb_project"/>Add a Deployment Descriptor to an EJB Project</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Open the project in Red Hat Developer Studio.
					</li><li class="listitem"><p class="simpara">
						Add a deployment descriptor.
					</p><p class="simpara">
						Right-click on the <span class="strong"><strong>Deployment Descriptor</strong></span> folder in the project view and select <span class="strong"><strong>Generate Deployment Descriptor</strong></span> tab.
					</p><div class="figure"><a id="idm140362719217600"/><p class="title"><strong>Figure 2.6. Adding a Deployment Descriptor</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/49.png" alt="Adding a Deployment Descriptor"/></div></div></div><p class="simpara">
						The new file, <code class="literal">ejb-jar.xml</code>, is created in <code class="literal">ejbModule/META-INF/</code>. Double-click on the <span class="strong"><strong>Deployment Descriptor</strong></span> folder in the project view to open this file.
					</p></li></ol></div></div></div></body></html>