<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 11. Logging with JBoss EAP</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="logging_with_jboss_eap"/>Chapter 11. Logging with JBoss EAP</h1></div></div></div><p>
			JBoss EAP provides highly-configurable logging facilities for both its own internal use and for use by deployed applications. The <code class="literal">logging</code> subsystem is based on JBoss LogManager and supports several third-party application logging frameworks in addition to JBoss Logging.
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="about_server_logging"/>About Server Logging</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="server_logging"/>Server Logging</h2></div></div></div><p>
					By default, all JBoss EAP log entries are written to the <code class="literal">server.log</code> file. The location of this file depends on your operating mode.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Standalone server: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/server.log</code>
						</li><li class="listitem">
							Managed domain: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/servers/<span class="emphasis"><em>SERVER_NAME</em></span>/log/server.log</code>
						</li></ul></div><p>
					This file is often referred to as the server log. For more information, see the <a class="link" href="logging_with_jboss_eap.html#root_logger" title="Root Logger">Root Logger</a> section.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="bootup_logging"/>Bootup Logging</h2></div></div></div><p>
					During bootup, JBoss EAP logs information about the Java environment and the startup of each service. This log can be useful when troubleshooting. By default, all log entries are written to the <a class="link" href="logging_with_jboss_eap.html#server_logging" title="Server Logging">server log</a>.
				</p><p>
					Bootup logging configuration is specified in the <code class="literal">logging.properties</code> configuration file, which is active until the JBoss EAP <code class="literal">logging</code> subsystem is started and takes over. The location of this file depends on your operating mode.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Standalone server: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/configuration/logging.properties</code>
						</li><li class="listitem"><p class="simpara">
							Managed domain:
						</p><p class="simpara">
							There is a <code class="literal">logging.properties</code> file for the domain controller and for each server.
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Domain controller: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/configuration/logging.properties</code>
								</li><li class="listitem">
									Server: <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/domain/servers/<span class="emphasis"><em>SERVER_NAME</em></span>/data/logging.properties</code>
								</li></ul></div></li></ul></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
						It is recommended that you do not directly edit the <code class="literal">logging.properties</code> file unless you know of a specific use case that requires it. Before doing so, it is recommended that you open a support case from the <a class="link" href="https://access.redhat.com/">Red Hat Customer Portal</a>.
					</p><p>
						Changes made manually to the <code class="literal">logging.properties</code> file are overwritten on startup.
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="view_bootup_errors"/>View Bootup Errors</h3></div></div></div><p>
						When troubleshooting JBoss EAP, checking for errors that occurred during bootup should be one of the first steps taken. You can then use the information provided to diagnose and resolve their causes. Open a support case for assistance in troubleshooting bootup errors.
					</p><p>
						There are two methods of viewing bootup errors, each with its advantages. You can examine the <a class="link" href="logging_with_jboss_eap.html#examine_server_log" title="Examine the Server Log File"><code class="literal">server.log</code> file</a> or read the boot errors using the <a class="link" href="logging_with_jboss_eap.html#read_boot_errors_cli" title="Read the Boot Errors from the Management CLI"><code class="literal">read-boot-errors</code> management CLI command</a>.
					</p><h4><a id="examine_server_log"/>Examine the Server Log File</h4><p>
						You can open the <code class="literal">server.log</code> file to view any errors that occurred during bootup.
					</p><p>
						This method allows you to see each error message together with possibly related messages, allowing you to get more information about <span class="emphasis"><em>why</em></span> an error might have occurred. It also allows you to see error messages in plain text format.
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
								Open the file <code class="literal">server.log</code> in a file viewer.
							</li><li class="listitem">
								Navigate to the end of the file.
							</li><li class="listitem">
								Search backward for the <code class="literal">WFLYSRV0049</code> message identifier, which marks the start of the latest bootup sequence.
							</li><li class="listitem">
								Search the log from that point onward for instances of <code class="literal">ERROR</code>. Each instance will include a description of the error and list the modules involved.
							</li></ol></div><p>
						The following is an example error description from the <code class="literal">server.log</code> log file.
					</p><pre class="screen">2016-03-16 14:32:01,627 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.undertow.listener.default: org.jboss.msc.service.StartException in service jboss.undertow.listener.default: Could not start http listener
        at org.wildfly.extension.undertow.ListenerService.start(ListenerService.java:142)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.BindException: Address already in use
        ...</pre><h4><a id="read_boot_errors_cli"/>Read the Boot Errors from the Management CLI</h4><p>
						You can use the <code class="literal">read-boot-errors</code> management CLI command to view errors if a server starts but reported errors during bootup.
					</p><p>
						This method does not require access to the server’s file system, which is useful for anyone responsible for monitoring for errors who does not have file system access. Since it is a management CLI command, it can be used in a script. For example, you could write a script that starts multiple JBoss EAP instances, then checks for errors that occurred on bootup.
					</p><p>
						Run the following management CLI command.
					</p><pre class="screen">/core-service=management:read-boot-errors</pre><p>
						Any errors that occurred during bootup will be listed.
					</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; [
        {
            "failed-operation" =&gt; {
                "operation" =&gt; "add",
                "address" =&gt; [
                    ("subsystem" =&gt; "undertow"),
                    ("server" =&gt; "default-server"),
                    ("http-listener" =&gt; "default")
                ]
            },
            "failure-description" =&gt; "{\"WFLYCTL0080: Failed services\" =&gt; {\"jboss.undertow.listener.default\" =&gt; \"org.jboss.msc.service.StartException in service jboss.undertow.listener.default: Could not start http listener
    Caused by: java.net.BindException: Address already in use\"}}",
            "failed-services" =&gt; {"jboss.undertow.listener.default" =&gt; "org.jboss.msc.service.StartException in service jboss.undertow.listener.default: Could not start http listener
    Caused by: java.net.BindException: Address already in use"}
        }
        ...
    ]
}</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="garbage_colleciton_logging"/>Garbage Collection Logging</h2></div></div></div><p>
					Garbage collection logging logs all garbage collection activity to plain text log files. These log files can be useful for diagnostic purposes. Garbage collection logging is enabled by default for a JBoss EAP standalone server on all supported configurations <span class="emphasis"><em>except</em></span> IBM Java development kit.
				</p><p>
					The location of the garbage collection log is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/gc.log.DIGIT.current</code>. Garbage collection logs are limited to 3 MB each, and up to five files are rotated.
				</p><p>
					It is strongly recommended to leave garbage collection logging enabled as it can be useful in troubleshooting and should have minimal overhead. However, you can disable garbage collection logging for a standalone server by setting the <code class="literal">GC_LOG</code> variable to <code class="literal">false</code> before starting the server. For example:
				</p><pre class="screen">$ export GC_LOG=false
$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.sh</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="default_log_file_locations"/>Default Log File Locations</h2></div></div></div><p>
					The following log files are created for the default logging configurations. The default configuration writes the server log files using periodic log handlers.
				</p><div class="table"><a id="idm140150822812704"/><p class="title"><strong>Table 11.1. Default Log File for a Standalone Server</strong></p><div class="table-contents"><table summary="Default Log File for a Standalone Server" border="1" width="100%"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Log File</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/server.log
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Contains server log messages, including server startup messages.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/gc.log.DIGIT.current
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Contains garbage collection details.
								</p>
								 </td></tr></tbody></table></div></div><div class="table"><a id="idm140150822795472"/><p class="title"><strong>Table 11.2. Default Log Files for a Managed Domain</strong></p><div class="table-contents"><table summary="Default Log Files for a Managed Domain" border="1" width="100%"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Log File</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/domain/log/host-controller.log
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Contains log messages related to the startup of the host controller.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/domain/log/process-controller.log
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Contains log messages related to the startup of the process controller.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<span class="emphasis"><em>EAP_HOME</em></span>/domain/servers/<span class="emphasis"><em>SERVER_NAME</em></span>/log/server.log
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Contains log messages for the named server, including server startup messages.
								</p>
								 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="default_locale_server"/>Set the Default Locale of the Server</h2></div></div></div><p>
					You can configure the default locale for JBoss EAP by setting JVM properties in the appropriate startup configuration file. The startup configuration file is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code> for a standalone server or <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> for a managed domain.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						For Windows Server, the JBoss EAP startup configuration files are <code class="literal">standalone.conf.bat</code> and <code class="literal">domain.conf.bat</code>.
					</p></div><p>
					Log messages that have been internationalized and localized will use this default locale. See the JBoss EAP <span class="emphasis"><em>Development Guide</em></span> for information on <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#internationalization_and_localization">creating internationalized log messages</a>.
				</p><h4><a id="set_the_language"/>Set the Language</h4><p>
					Specify the language by setting the <code class="literal">user.language</code> property using the <code class="literal">JAVA_OPTS</code> variable. For example, add the following line to the startup configuration file to set a French locale.
				</p><pre class="screen">JAVA_OPTS="$JAVA_OPTS -Duser.language=fr"</pre><p>
					Log messages that have been internationalized and localized will now output in French.
				</p><h4><a id="set_the_language_and_country"/>Set the Language and Country</h4><p>
					In addition to the language, it may also be necessary to specify the country by setting the <code class="literal">user.country</code> property. For example, add the following line to the startup configuration file to set the Portuguese locale for Brazil.
				</p><pre class="screen">JAVA_OPTS="$JAVA_OPTS -Duser.language=pt -Duser.country=BR"</pre><p>
					Log messages that have been internationalized and localized will now output in Brazilian Portuguese.
				</p><h4><a id="server_locale_property"/>Set the Server Locale Using the org.jboss.logging.locale Property</h4><p>
					You can configure the <code class="literal">org.jboss.logging.locale</code> property to override the locale for messages logged using JBoss Logging, including any messages from JBoss EAP and its owned dependencies. Other dependencies, such as JSF, cannot get an overridden locale.
				</p><p>
					To start the JBoss EAP server with a different locale than the system default, you can edit <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code> or the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> file, depending on your operating mode, and append the following command to set the JVM parameter for the required locale. The value of the property must be specified in the BCP 47 format. For example, to set Brazilian Portuguese, use pt-BR.
				</p><pre class="screen">JAVA_OPTS="$JAVA_OPTS -Dorg.jboss.logging.locale=pt-BR"</pre></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="viewing_log_files"/>Viewing Log Files</h1></div></div></div><p>
				Viewing server and application logs is important in order to help diagnose errors, performance problems, and other issues. Some users may prefer to view logs directly on the server file system. For those who do not have direct access to the file system, or who prefer a graphical interface, JBoss EAP allows you to view logs from the management console. You can also view logs using the management CLI.
			</p><p>
				For a log to be accessible from one of the management interfaces, it must be located in the directory specified by the server’s <code class="literal">jboss.server.log.dir</code> property and be defined as a file, periodic rotating, size rotating, or periodic size rotating log handler. RBAC role assignments are also honored, so a user logged in to the management console or CLI can only view logs that they are authorized to access.
			</p><h3><a id="view_logs_management_console"/>View Logs from the Management Console</h3><p>
				You can view logs directly from the management console.
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Select the <span class="strong"><strong>Runtime</strong></span> tab and select the appropriate server.
					</li><li class="listitem">
						Select <span class="strong"><strong>Log Files</strong></span> and choose a log file from the list.
					</li><li class="listitem">
						Click <span class="strong"><strong>View</strong></span> to view and search log contents, or choose <span class="strong"><strong>Download</strong></span> from the drop down to download the log file to your local file system.
					</li></ol></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
					The management console log viewer is not intended to be a text editor replacement for viewing very large log files, for example, greater than 100MB. You will be prompted for confirmation if you attempt to open a log file that is larger than 15MB. Opening a very large file in the management console could crash your browser, so you should always download large log files locally and open them in a text editor.
				</p></div><h3><a id="view_logs_management_cli"/>View Logs from the Management CLI</h3><p>
				You can read the contents of log files from the management CLI using the <code class="literal">read-log-file</code> command. By default, this displays the last <code class="literal">10</code> lines of the specified log file.
			</p><pre class="screen">/subsystem=logging/log-file=<span class="emphasis"><em>LOG_FILE_NAME</em></span>:read-log-file</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					In a managed domain, precede this command with <code class="literal">/host=<span class="emphasis"><em>HOST_NAME</em></span>/server=<span class="emphasis"><em>SERVER_NAME</em></span></code>.
				</p></div><p>
				You can use the following parameters to customize the log output.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">encoding</span></dt><dd>
							The character encoding used to read the file.
						</dd><dt><span class="term">lines</span></dt><dd>
							The number of lines to read from the file. A value of <code class="literal">-1</code> will read all log lines. The default is <code class="literal">10</code>.
						</dd><dt><span class="term">skip</span></dt><dd>
							The number of lines to skip before reading. The default is <code class="literal">0</code>.
						</dd><dt><span class="term">tail</span></dt><dd>
							Whether to read from the end of the file. Defaults to <code class="literal">true</code>.
						</dd></dl></div><p>
				For example, the following management CLI command reads the first <code class="literal">5</code> lines from the top of the <code class="literal">server.log</code> log file.
			</p><pre class="screen">/subsystem=logging/log-file=server.log:read-log-file(lines=5,tail=false)</pre><p>
				This produces the following output.
			</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; [
        "2016-03-24 08:49:26,612 INFO  [org.jboss.modules] (main) JBoss Modules version 1.5.1.Final-redhat-1",
        "2016-03-24 08:49:26,788 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final-redhat-1",
        "2016-03-24 08:49:26,863 INFO  [org.jboss.as] (MSC service thread 1-7) WFLYSRV0049: JBoss EAP 7.0.0.GA (WildFly Core 2.0.13.Final-redhat-1) starting",
        "2016-03-24 08:49:27,973 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)",
        "2016-03-24 08:49:27,994 INFO  [org.xnio] (MSC service thread 1-1) XNIO version 3.3.4.Final-redhat-1"
    ]
}</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="about_logging_subsystem"/>About the Logging Subsystem</h1></div></div></div><p>
				The JBoss EAP <code class="literal">logging</code> subsystem is configured using a system of <a class="link" href="logging_with_jboss_eap.html#log_categories" title="Log Categories">log categories</a> and <a class="link" href="logging_with_jboss_eap.html#log_handlers" title="Log Handlers">log handlers</a>. Log categories define what messages to capture. Log handlers define how to deal with those messages, for example, writing to a disk or sending to the console.
			</p><p>
				<a class="link" href="logging_with_jboss_eap.html#logging_profiles" title="Logging Profiles">Logging profiles</a> allow uniquely-named sets of logging configuration to be created and assigned to applications independent of any other logging configuration. The configuration of logging profiles is almost identical to the main <code class="literal">logging</code> subsystem.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="root_logger"/>Root Logger</h2></div></div></div><p>
					The JBoss EAP root logger captures all log messages, of the specified log level or higher, sent to the server that are not captured by a log category.
				</p><p>
					By default, the root logger is configured to use a console and a periodic log handler. The periodic log handler is configured to write to the <code class="literal">server.log</code> file. This file is often referred to as the server log.
				</p><p>
					See <a class="link" href="logging_with_jboss_eap.html#configure_root_logger" title="Configuring the Root Logger">Configuring the Root Logger</a> for more information.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="log_categories"/>Log Categories</h2></div></div></div><p>
					A log category defines a set of log messages to capture and one or more log handlers that will process the messages.
				</p><p>
					The log messages to capture are defined by the specified Java package of origin and log level. Messages from classes in that package and of that log level or higher are captured by the log category and sent to the specified log handlers.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						Although the log category is typically the Java package and class name, it can be any name specified by the <code class="literal">Logger.getLogger(<span class="emphasis"><em>LOGGER_NAME</em></span>)</code> method.
					</p></div><p>
					Log categories can optionally use the log handlers of the root logger instead of their own handlers.
				</p><p>
					See <a class="link" href="logging_with_jboss_eap.html#configure_log_category" title="Configuring Log Categories">Configuring Log Categories</a> for more information.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="log_handlers"/>Log Handlers</h2></div></div></div><p>
					Log handlers define how captured log messages are recorded. The available log handler types are <span class="emphasis"><em>console</em></span>, <span class="emphasis"><em>file</em></span>, <span class="emphasis"><em>periodic</em></span>, <span class="emphasis"><em>size</em></span>, <span class="emphasis"><em>periodic size</em></span>, <span class="emphasis"><em>syslog</em></span>, <span class="emphasis"><em>custom</em></span>, and <span class="emphasis"><em>async</em></span>.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						A log handler must be added to at least one logger in order to be active.
					</p></div><h4><a id="log_handler_types"/>Log Handler Types</h4><div class="variablelist"><dl class="variablelist"><dt><span class="term">Console</span></dt><dd>
								A console log handler writes log messages to either the host operating system’s standard out, <code class="literal">stdout</code>, or standard error, <code class="literal">stderr</code>, stream. These messages are displayed when JBoss EAP is run from a command line prompt. The messages from a console log handler are not saved unless the operating system is configured to capture the standard out or standard error stream.
							</dd><dt><span class="term">File</span></dt><dd>
								A file log handler writes log messages to a specified file.
							</dd><dt><span class="term">Periodic</span></dt><dd>
								A periodic log handler writes log messages to a named file until a specified period of time has elapsed. Once the time period has passed, the file is renamed by appending the specified timestamp and the handler continues to write into a newly created log file with the original name.
							</dd><dt><span class="term">Size</span></dt><dd>
								A size log handler writes log messages to a named file until the file reaches a specified size. When the file reaches a specified size, it is renamed with a numeric suffix and the handler continues to write into a newly created log file with the original name. Each size log handler must specify the maximum number of files to be kept in this fashion.
							</dd><dt><span class="term">Periodic Size</span></dt><dd><p class="simpara">
								A periodic size log handler writes log messages to a named file until the file reaches the specified size <span class="emphasis"><em>or</em></span> the specified time period has passed. Then, the file is renamed and the handler continues to write to a newly created log file with the original name.
							</p><p class="simpara">
								This is a combination of the periodic and size log handlers and supports their combined attributes.
							</p></dd><dt><span class="term">Syslog</span></dt><dd>
								A syslog handler can be used to send messages to a remote logging server. This allows multiple applications to send their log messages to the same server, where they can all be parsed together.
							</dd><dt><span class="term">Socket</span></dt><dd>
								A socket log handler can be used to send log messages over a socket to a remote logging server. This can be a TCP or UDP socket.
							</dd><dt><span class="term">Custom</span></dt><dd>
								A custom log handler enables you to configure new types of log handlers that have been implemented. A custom handler must be implemented as a Java class that extends <code class="literal">java.util.logging.Handler</code> and be contained in a module. You can also use a Log4J appender as a custom log handler.
							</dd><dt><span class="term">Async</span></dt><dd>
								An async log handler is a wrapper log handler that provides asynchronous behavior for one or more other log handlers. This is useful for log handlers that may have high latency or other performance problems such as writing a log file to a network file system.
							</dd></dl></div><p>
					For details on configuring each of these log handlers, see the <a class="link" href="logging_with_jboss_eap.html#configuring_log_handlers" title="Configuring Log Handlers">Configuring Log Handlers</a> section.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="log_levels"/>Log Levels</h2></div></div></div><p>
					A log level is an enumerated value that indicates the nature and severity of a log message. As a developer, you can specify the level of a given log message using the appropriate method of your chosen logging framework to send the message.
				</p><p>
					JBoss EAP supports all the log levels used by the supported application logging frameworks. The most commonly used log levels from lowest to highest are <code class="literal">TRACE</code>, <code class="literal">DEBUG</code>, <code class="literal">INFO</code>, <code class="literal">WARN</code>, <code class="literal">ERROR</code>, and <code class="literal">FATAL</code>.
				</p><p>
					Log levels are used by log categories and handlers to limit the messages they are responsible for. Each log level has an assigned numeric value that indicates its order relative to other log levels. Log categories and handlers are assigned a log level, and they only process log messages of that level or higher. For example a log handler with the level of <code class="literal">WARN</code> will only record messages of the levels <code class="literal">WARN</code>, <code class="literal">ERROR</code>, and <code class="literal">FATAL</code>.
				</p><h4><a id="supported_log_levels"/>Supported Log Levels</h4><div class="informaltable"><table border="1" width="100%"><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/></colgroup><thead><tr><th style="text-align: left" valign="top">Log Level</th><th style="text-align: left" valign="top">Value</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									ALL
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Integer.MIN_VALUE
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Provides all log messages.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									FINEST
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									300
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									-
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									FINER
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									400
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									-
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									TRACE
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									400
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									<code class="literal">TRACE</code> level log messages provide detailed information about the running state of an application and are usually only captured during debugging.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									DEBUG
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									500
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									<code class="literal">DEBUG</code> level log messages indicate the progress of individual requests or application activities and are usually only captured during debugging.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									FINE
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									500
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									-
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									CONFIG
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									700
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									-
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									INFO
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									800
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									<code class="literal">INFO</code> level log messages indicate the overall progress of the application. Often used for application startup, shutdown, and other major lifecycle events.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									WARN
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									900
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									<code class="literal">WARN</code> level log messages indicate a situation that is not in error, but is not considered ideal. <code class="literal">WARN</code> log messages can indicate circumstances that could lead to errors in the future.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									WARNING
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									900
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									-
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									ERROR
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									1000
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									<code class="literal">ERROR</code> level log messages indicate an error that has occurred that could prevent the current activity or request from completing but will not prevent the application from running.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									SEVERE
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									1000
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									-
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									FATAL
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									1100
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									<code class="literal">FATAL</code> level log messages indicate events that could cause critical service failure and application shutdown and could cause JBoss EAP to shutdown.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									OFF
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Integer.MAX_VALUE
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Does not display any log message.
								</p>
								 </td></tr></tbody></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						<code class="literal">ALL</code> is the lowest log level and includes messages of all log levels. This provides the most amount of logging.
					</p><p>
						<code class="literal">FATAL</code> is the highest log level and only includes messages of that level. This provides the least amount of logging.
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="log_formatters"/>Log Formatters</h2></div></div></div><p>
					Formatters are used to format a log message. A formatter can be assigned to a logging handler using the <code class="literal">named-formatter</code> attribute. For more information on logging handler configuration, see <a class="link" href="logging_with_jboss_eap.html#configuring_log_handlers" title="Configuring Log Handlers">Configuring Log Handlers</a>.
				</p><p>
					The logging subsystem includes four types of formatters:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#pattern_formatter" title="Pattern Formatter">Pattern Formatter</a>
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#json_formatter" title="JSON Formatter">JSON Formatter</a>
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#xml_formatter" title="XML Formatter">XML Formatter</a>
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#custom_formatter" title="Custom Formatter">Custom Formatter</a>
						</li></ul></div><h4><a id="pattern_formatter"/>Pattern Formatter</h4><p>
					A pattern formatter is used to format log messages in plain text. In addition to using the formatter as the <code class="literal">named-formatter</code> attribute of log handlers, it can also be used as a <code class="literal">formatter</code> attribute, without the need to create the formatter resource first. See <a class="link" href="reference_material.html#format_characters_for_pattern_formatter" title="Table A.40. Format Characters for Pattern Formatter">Format Characters for Pattern Formatter</a> for more information on the pattern syntax.
				</p><p>
					See <a class="link" href="logging_with_jboss_eap.html#configure_pattern_formatter" title="Configure a Pattern Formatter">Configure a Pattern Formatter</a> for information on how to configure a pattern formatter.
				</p><h4><a id="json_formatter"/>JSON Formatter</h4><p>
					A JSON formatter is used to format log messages in JSON.
				</p><p>
					See <a class="link" href="logging_with_jboss_eap.html#configure_json_log_formatter" title="Configure a JSON Log Formatter">Configure a JSON Log Formatter</a> for information on how to configure a JSON formatter.
				</p><h4><a id="xml_formatter"/>XML Formatter</h4><p>
					The XML log formatter is used to format log messages in XML.
				</p><p>
					See <a class="link" href="logging_with_jboss_eap.html#configure_xml_log_formatter" title="Configure an XML Log Formatter">Configure an XML Log Formatter</a> for information on how to configure an XML log formatter.
				</p><h4><a id="custom_formatter"/>Custom Formatter</h4><p>
					A custom formatter to be used with handlers. Note that most log records are formatted in the printf format. Formatters may require invocation of the <code class="literal">org.jboss.logmanager.ExtLogRecord#getFormattedMessage()</code> for the message to be properly formatted.
				</p><p>
					See <a class="link" href="logging_with_jboss_eap.html#configure_custom_log_formatter" title="Configure a Custom Log Formatter">Configure a Custom Log Formatter</a> for information on how to configure a custom log formatter.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="filter_expressions"/>Filter Expressions</h2></div></div></div><p>
					Filter expressions, configured using the <code class="literal">filter-spec</code> attribute, are used to record log messages based on various criteria. Filter checking is always done on a raw unformatted message. You can include a filter for a logger or handler, but the logger filter takes precedence over the filter put on a handler.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						A <code class="literal">filter-spec</code> specified for the root logger is not inherited by other loggers. Instead a <code class="literal">filter-spec</code> must be specified per handler.
					</p></div><div class="table"><a id="idm140150822536016"/><p class="title"><strong>Table 11.3. Filter Expressions for Logging</strong></p><div class="table-contents"><table summary="Filter Expressions for Logging" border="1" width="100%"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Filter Expression</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									accept
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Accept all log messages.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									deny
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Deny all log messages.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									not[filter expression]
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Returns the inverted value of a single filter expression. For example:
								</p>
								 <p>
									<code class="literal">not(match("WFLY"))</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									all[filter expression]
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Returns concatenated value from a comma-separated list of filter expressions. For example:
								</p>
								 <p>
									<code class="literal">all(match("WFLY"),match("WELD"))</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									any[filter expression]
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Returns one value from a comma-separated list of filter expressions. For example:
								</p>
								 <p>
									<code class="literal">any(match("WFLY"),match("WELD"))</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									levelChange[level]
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Updates the log record with the specified level. For example:
								</p>
								 <p>
									<code class="literal">levelChange(WARN)</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									levels[levels]
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Filters log messages with a level listed in the comma-separated list of levels. For example:
								</p>
								 <p>
									<code class="literal">levels(DEBUG,INFO,WARN,ERROR)</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									levelRange[minLevel,maxLevel]
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Filters log messages within the specified level range. The <code class="literal">[</code> and <code class="literal">]</code> characters are used to indicate an inclusive level. The <code class="literal">(</code> and <code class="literal">)</code> characters are used to indicate an exclusive level. For example:
								</p>
								 <div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
											<code class="literal">levelRange[INFO,ERROR]</code>
										</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
													The minimum level must be greater than or equal to <code class="literal">INFO</code> and the maximum level must be less than or equal to <code class="literal">ERROR</code>.
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<code class="literal">levelRange[DEBUG,ERROR)</code>
										</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
													The minimum level must be greater than or equal to <code class="literal">DEBUG</code> and the maximum level must be less than <code class="literal">ERROR</code>.
												</li></ul></div></li></ul></div>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									match["pattern"]
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Filters log messages using the provided regular expression. For example:
								</p>
								 <p>
									<code class="literal">match("WFLY\d+")</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									substitute["pattern","replacement value"]
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									A filter that replaces the first match to the pattern (first argument) with the replacement text (second argument). For example:
								</p>
								 <p>
									<code class="literal">substitute("WFLY","EAP")</code>
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									substituteAll["pattern","replacement value"]
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									A filter which replaces all matches of the pattern (first argument) with the replacement text (second argument). For example:
								</p>
								 <p>
									<code class="literal">substituteAll("WFLY","EAP")</code>
								</p>
								 </td></tr></tbody></table></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						When configuring the filter expression using the management CLI, be sure to escape commas and quotation marks in the filter text so that the value is correctly processed as a string. You must precede commas and quotation marks with a backslash (<code class="literal">\</code>) and wrap the entire expression in quotation marks. Below is an example that properly escapes <code class="literal">substituteAll("WFLY","YLFW")</code>.
					</p><pre class="screen">/subsystem=logging/console-handler=CONSOLE:write-attribute(name=filter-spec, value="substituteAll(\"WFLY\"\,\"YLFW\")")</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="implicit_logging_api_dependencies"/>Implicit Logging Dependencies</h2></div></div></div><p>
					By default, the JBoss EAP <code class="literal">logging</code> subsystem adds implicit logging API dependencies to deployments. You can control whether these implicit dependencies are added to deployments by using the <code class="literal">add-logging-api-dependencies</code> attribute, which is <code class="literal">true</code> by default.
				</p><p>
					Using the management CLI, you can set the <code class="literal">add-logging-api-dependencies</code> attribute to <code class="literal">false</code> so that the implicit logging API dependencies will not be added to deployments.
				</p><pre class="screen">/subsystem=logging:write-attribute(name=add-logging-api-dependencies, value=false)</pre><p>
					For information on the implicit dependencies for the <code class="literal">logging</code> subsystem, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#implicit_module_dependencies">Implicit Module Dependencies</a> section in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configure_log_category"/>Configuring Log Categories</h1></div></div></div><p>
				This section shows you how to configure log categories using the management CLI. You can also configure log categories using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Categories</strong></span>.
			</p><p>
				The main tasks you will perform to configure a log category are:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#add_log_category" title="Add a Log Category">Add a new log category</a>.
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_log_category_settings" title="Configure Log Category Settings">Configure the log category settings</a>.
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#assign_log_handler_logger" title="Assign a Handler">Assign a log handler to the log category</a>.
					</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
					If you are configuring this log category for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
				</p><p>
					Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p></div><h3><a id="add_log_category"/>Add a Log Category</h3><p>
				The log category name is defined by the Java package of origin. Messages from classes in that package will be captured as long as they adhere to the other settings, for example, the log level.
			</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:add</pre><h3><a id="configure_log_category_settings"/>Configure Log Category Settings</h3><p>
				Depending on your needs, you may need to set one or more of the following log category attributes. For a full list of available log category attributes and their descriptions, see <a class="link" href="reference_material.html#log_category_attributes" title="Log Category Attributes">Log Category Attributes</a>.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						Set the log level.
					</p><p class="simpara">
						Set the appropriate log level for the log category. The default is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
					</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
						Set whether this category should use the log handlers of the root logger.
					</p><p class="simpara">
						By default, log categories will use the handlers of the root logger in addition to its own. Set the <code class="literal">use-parent-handlers</code> attribute to <code class="literal">false</code> if the log category should use only its assigned handlers.
					</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:write-attribute(name=use-parent-handlers,value=<span class="emphasis"><em>USE_PARENT_HANDLERS</em></span>)</pre></li><li class="listitem"><p class="simpara">
						Set the filter expression.
					</p><p class="simpara">
						Set the expression for filtering log messages for the log category. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
					</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
						See the <a class="link" href="logging_with_jboss_eap.html#filter_expressions" title="Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
					</p></li></ul></div><h3><a id="assign_log_handler_logger"/>Assign a Handler</h3><p>
				Assign a log handler to the log category.
			</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>LOG_HANDLER_NAME</em></span>)</pre><h3><a id="remove_log_category"/>Remove a Log Category</h3><p>
				A log category can be removed with the <code class="literal">remove</code> operation.
			</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>LOG_CATEGORY</em></span>:remove</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configuring_log_handlers"/>Configuring Log Handlers</h1></div></div></div><p>
				Log handlers define how captured log messages are recorded. See the appropriate section for configuring the type of log handler that you need.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_console_log_handler" title="Configure a Console Log Handler">Console log handler</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_file_log_handler" title="Configure a File Log Handler">File log handler</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_periodic_log_handler" title="Configure a Periodic Rotating Log Handler">Periodic rotating log handler</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_size_log_handler" title="Configure a Size Rotating Log Handler">Size rotating log handler</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_periodic_size_log_handler" title="Configure a Periodic Size Rotating Log Handler">Periodic size rotating log handler</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_syslog_handler" title="Configure a Syslog Handler">Syslog handler</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_socket_log_handler" title="Configure a Socket Log Handler">Socket log handler</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_custom_log_handler" title="Configure a Custom Log Handler">Custom log handler</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_async_log_handler" title="Configure an Async Log Handler">Async log handler</a>
					</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_console_log_handler"/>Configure a Console Log Handler</h2></div></div></div><p>
					This section shows you how to configure a console log handler using the management CLI. You can also configure console log handlers using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Handler</strong></span> → <span class="strong"><strong>Console Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a console log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_console_handler" title="Add a Console Log Handler">Add a new console log handler</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#configure_console_handler_settings" title="Configure Console Log Handler Settings">Configure the console log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#assign_console_handler_logger" title="Assign the Console Log Handler to a Logger">Assign the console log handler to a logger</a>.
						</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_console_handler"/>Add a Console Log Handler</h4><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:add</pre><h4><a id="configure_console_handler_settings"/>Configure Console Log Handler Settings</h4><p>
					Depending on your needs, you may need to set one or more of the following console log handler attributes. For a full list of available console log handler attributes and their descriptions, see <a class="link" href="reference_material.html#console_log_handler_attributes" title="Table A.31. Console Log Handler Attributes">Console Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the target.
						</p><p class="simpara">
							Set the target for the handler, which can be one of <code class="literal">System.out</code>, <code class="literal">System.err</code>, or <code class="literal">console</code>. The default is <code class="literal">System.out</code>.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=target,value=<span class="emphasis"><em>TARGET</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="logging_with_jboss_eap.html#configuring_log_formatters" title="Configuring Log Formatters">saved formatter</a>.
							</p></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="logging_with_jboss_eap.html#filter_expressions" title="Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h4><a id="assign_console_handler_logger"/>Assign the Console Log Handler to a Logger</h4><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the console log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the console log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>)</pre><h4><a id="remove_console_handler"/>Remove a Console Log Handler</h4><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/console-handler=<span class="emphasis"><em>CONSOLE_HANDLER_NAME</em></span>:remove</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_file_log_handler"/>Configure a File Log Handler</h2></div></div></div><p>
					This section shows you how to configure a file log handler using the management CLI. You can also configure file log handlers using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Handler</strong></span> → <span class="strong"><strong>File Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a file log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_file_handler" title="Add a File Log Handler">Add a new file log handler</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#configure_file_handler_settings" title="Configure File Log Handler Settings">Configure the file log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#assign_file_handler_logger" title="Assign the File Log Handler to a Logger">Assign the file log handler to a logger</a>.
						</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_file_handler"/>Add a File Log Handler</h4><p>
					When adding a file log handler, you must specify the file path using the <code class="literal">file</code> attribute, which is comprised of the <code class="literal">path</code> and <code class="literal">relative-to</code> attributes. Use the <code class="literal">path</code> attribute to set the file path for the log, including the name, for example <code class="literal">my-log.log</code>. Optionally, use the <code class="literal">relative-to</code> attribute to set that the <code class="literal">path</code> is relative to a named path, for example <code class="literal">jboss.server.log.dir</code>.
				</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:add(file={path=<span class="emphasis"><em>FILE_PATH</em></span>,relative-to=<span class="emphasis"><em>RELATIVE_TO_PATH</em></span>})</pre><h4><a id="configure_file_handler_settings"/>Configure File Log Handler Settings</h4><p>
					Depending on your needs, you may need to set one or more of the following file log handler attributes. For a full list of available file log handler attributes and their descriptions, see <a class="link" href="reference_material.html#file_log_handler_attributes" title="Table A.32. File Log Handler Attributes">File Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the append behavior.
						</p><p class="simpara">
							By default, JBoss EAP will append log messages to the same file when the server is restarted. You can set the <code class="literal">append</code> attribute to <code class="literal">false</code> to have the file overwritten upon server restart.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=append,value=<span class="emphasis"><em>APPEND</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="logging_with_jboss_eap.html#configure_pattern_formatter" title="Configure a Pattern Formatter">saved formatter</a>.
							</p></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="logging_with_jboss_eap.html#filter_expressions" title="Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h4><a id="assign_file_handler_logger"/>Assign the File Log Handler to a Logger</h4><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the file log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the file log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>)</pre><h4><a id="remove_file_handler"/>Remove a File Log Handler</h4><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:remove</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_periodic_log_handler"/>Configure a Periodic Rotating Log Handler</h2></div></div></div><p>
					This section shows you how to configure a periodic rotating log handler using the management CLI. You can also configure periodic log handlers using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Handler</strong></span> → <span class="strong"><strong>Periodic Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a periodic log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_periodic_handler" title="Add a Periodic Log Handler">Add a new periodic log handler</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#configure_periodic_handler_settings" title="Configure Periodic Log Handler Settings">Configure the periodic log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#assign_periodic_handler_logger" title="Assign the Periodic Log Handler to a Logger">Assign the periodic log handler to a logger</a>.
						</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_periodic_handler"/>Add a Periodic Log Handler</h4><p>
					When adding a periodic log handler, you must specify the file path using the <code class="literal">file</code> attribute, which is comprised of the <code class="literal">path</code> and <code class="literal">relative-to</code> attributes. Use the <code class="literal">path</code> attribute to set the file path for the log, including the name, for example <code class="literal">my-log.log</code>. Optionally, use the <code class="literal">relative-to</code> attribute to set that the <code class="literal">path</code> is relative to a named path, for example <code class="literal">jboss.server.log.dir</code>.
				</p><p>
					You must also set the suffix for rotated logs using the <code class="literal">suffix</code> attribute. This must be in a format that can be understood by <code class="literal">java.text.SimpleDateFormat</code>, for example <code class="literal">.yyyy-MM-dd-HH</code>. The period of the rotation is automatically calculated based on this suffix.
				</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:add(file={path=<span class="emphasis"><em>FILE_PATH</em></span>,relative-to=<span class="emphasis"><em>RELATIVE_TO_PATH</em></span>},suffix=<span class="emphasis"><em>SUFFIX</em></span>)</pre><h4><a id="configure_periodic_handler_settings"/>Configure Periodic Log Handler Settings</h4><p>
					Depending on your needs, you may need to set one or more of the following periodic log handler attributes. For a full list of available periodic log handler attributes and their descriptions, see <a class="link" href="reference_material.html#periodic_log_handler_attributes" title="Table A.33. Periodic Log Handler Attributes">Periodic Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the append behavior.
						</p><p class="simpara">
							By default, JBoss EAP will append log messages to the same file when the server is restarted. You can set the <code class="literal">append</code> attribute to <code class="literal">false</code> to have the file overwritten upon server restart.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=append,value=<span class="emphasis"><em>APPEND</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="logging_with_jboss_eap.html#configure_pattern_formatter" title="Configure a Pattern Formatter">saved formatter</a>.
							</p></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="logging_with_jboss_eap.html#filter_expressions" title="Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h4><a id="assign_periodic_handler_logger"/>Assign the Periodic Log Handler to a Logger</h4><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the periodic log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the periodic log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>)</pre><h4><a id="remove_periodic_handler"/>Remove a Periodic Log Handler</h4><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>PERIODIC_HANDLER_NAME</em></span>:remove</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_size_log_handler"/>Configure a Size Rotating Log Handler</h2></div></div></div><p>
					This section shows you how to configure a size rotating log handler using the management CLI. You can also configure size log handlers using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Handler</strong></span> → <span class="strong"><strong>Size Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a size log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_size_handler" title="Add a Size Log Handler">Add a new size log handler</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#configure_size_handler_settings" title="Configure Size Log Handler Settings">Configure the size log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#assign_size_handler_logger" title="Assign the Size Log Handler to a Logger">Assign the size log handler to a logger</a>.
						</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_size_handler"/>Add a Size Log Handler</h4><p>
					When adding a size log handler, you must specify the file path using the <code class="literal">file</code> attribute, which is comprised of the <code class="literal">path</code> and <code class="literal">relative-to</code> attributes. Use the <code class="literal">path</code> attribute to set the file path for the log, including the name, for example <code class="literal">my-log.log</code>. Optionally, use the <code class="literal">relative-to</code> attribute to set that the <code class="literal">path</code> is relative to a named path, for example <code class="literal">jboss.server.log.dir</code>.
				</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:add(file={path=<span class="emphasis"><em>FILE_PATH</em></span>,relative-to=<span class="emphasis"><em>RELATIVE_TO_PATH</em></span>})</pre><h4><a id="configure_size_handler_settings"/>Configure Size Log Handler Settings</h4><p>
					Depending on your needs, you may need to set one or more of the following size log handler attributes. For a full list of available size log handler attributes and their descriptions, see <a class="link" href="reference_material.html#size_log_handler_attributes" title="Table A.34. Size Log Handler Attributes">Size Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the suffix for rotated logs.
						</p><p class="simpara">
							Set the suffix string, which is in a format which can be understood by <code class="literal">java.text.SimpleDateFormat</code>, for example <code class="literal">.yyyy-MM-dd-HH</code> . The period of the rotation is automatically calculated based on this suffix.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=suffix, value=<span class="emphasis"><em>SUFFIX</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the rotation size.
						</p><p class="simpara">
							Set the maximum size that the file can reach before being rotated. The default is <code class="literal">2m</code> for 2 megabytes.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=rotate-size, value=<span class="emphasis"><em>ROTATE_SIZE</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the maximum number of backup logs to keep.
						</p><p class="simpara">
							Set the number of backups to keep. The default is <code class="literal">1</code>.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=max-backup-index, value=<span class="emphasis"><em>MAX_BACKUPS</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set whether to rotate the log on boot.
						</p><p class="simpara">
							By default, a new log file is not created on server restart. You can set this to <code class="literal">true</code> to rotate the log on server restart.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=rotate-on-boot, value=<span class="emphasis"><em>ROTATE_ON_BOOT</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the append behavior.
						</p><p class="simpara">
							By default, JBoss EAP will append log messages to the same file when the server is restarted. You can set the <code class="literal">append</code> attribute to <code class="literal">false</code> to have the file overwritten upon server restart.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=append,value=<span class="emphasis"><em>APPEND</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="logging_with_jboss_eap.html#configure_pattern_formatter" title="Configure a Pattern Formatter">saved formatter</a>.
							</p></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="logging_with_jboss_eap.html#filter_expressions" title="Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h4><a id="assign_size_handler_logger"/>Assign the Size Log Handler to a Logger</h4><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the size log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the size log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>)</pre><h4><a id="remove_size_handler"/>Remove a Size Log Handler</h4><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/size-rotating-file-handler=<span class="emphasis"><em>SIZE_HANDLER_NAME</em></span>:remove</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_periodic_size_log_handler"/>Configure a Periodic Size Rotating Log Handler</h2></div></div></div><p>
					This section shows you how to configure a periodic size rotating log handler using the management CLI. You can also configure periodic size log handlers using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Handler</strong></span> → <span class="strong"><strong>Periodic Size Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a periodic size log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_periodic_size_handler" title="Add a Periodic Size Log Handler">Add a new periodic size log handler</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#configure_periodic_size_handler_settings" title="Configure Periodic Size Log Handler Settings">Configure the periodic size log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#assign_periodic_size_handler_logger" title="Assign the Periodic Size Log Handler to a Logger">Assign the periodic size log handler to a logger</a>.
						</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_periodic_size_handler"/>Add a Periodic Size Log Handler</h4><p>
					When adding a periodic size log handler, you must specify the file path using the <code class="literal">file</code> attribute, which is comprised of the <code class="literal">path</code> and <code class="literal">relative-to</code> attributes. Use the <code class="literal">path</code> attribute to set the file path for the log, including the name, for example <code class="literal">my-log.log</code>. Optionally, use the <code class="literal">relative-to</code> attribute to set that the <code class="literal">path</code> is relative to a named path, for example <code class="literal">jboss.server.log.dir</code>.
				</p><p>
					You must also set the suffix for rotated logs using the <code class="literal">suffix</code> attribute. This must be in a format that can be understood by <code class="literal">java.text.SimpleDateFormat</code>, for example <code class="literal">.yyyy-MM-dd-HH</code>. The period of the rotation is automatically calculated based on this suffix.
				</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:add(file={path=<span class="emphasis"><em>FILE_PATH</em></span>,relative-to=<span class="emphasis"><em>RELATIVE_TO_PATH</em></span>},suffix=<span class="emphasis"><em>SUFFIX</em></span>)</pre><h4><a id="configure_periodic_size_handler_settings"/>Configure Periodic Size Log Handler Settings</h4><p>
					Depending on your needs, you may need to set one or more of the following periodic size log handler attributes. For a full list of available periodic size log handler attributes and their descriptions, see <a class="link" href="reference_material.html#periodic_size_log_handler_attributes" title="Table A.35. Periodic Size Log Handler Attributes">Periodic Size Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the rotation size.
						</p><p class="simpara">
							Set the maximum size that the file can reach before being rotated. The default is <code class="literal">2m</code> for 2 megabytes.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=rotate-size, value=<span class="emphasis"><em>ROTATE_SIZE</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the maximum number of backup logs to keep.
						</p><p class="simpara">
							Set the number of backups to keep. The default is <code class="literal">1</code>.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=max-backup-index, value=<span class="emphasis"><em>MAX_BACKUPS</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set whether to rotate the log on boot.
						</p><p class="simpara">
							By default, a new log file is not created on server restart. You can set this to <code class="literal">true</code> to rotate the log on server restart.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=rotate-on-boot, value=<span class="emphasis"><em>ROTATE_ON_BOOT</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the append behavior.
						</p><p class="simpara">
							By default, JBoss EAP will append log messages to the same file when the server is restarted. You can set the <code class="literal">append</code> attribute to <code class="literal">false</code> to have the file overwritten upon server restart.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=append,value=<span class="emphasis"><em>APPEND</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="logging_with_jboss_eap.html#configure_pattern_formatter" title="Configure a Pattern Formatter">saved formatter</a>.
							</p></div></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="logging_with_jboss_eap.html#filter_expressions" title="Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h4><a id="assign_periodic_size_handler_logger"/>Assign the Periodic Size Log Handler to a Logger</h4><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the periodic size log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the periodic size log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>)</pre><h4><a id="remove_periodic_size_handler"/>Remove a Periodic Size Log Handler</h4><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/periodic-size-rotating-file-handler=<span class="emphasis"><em>PERIODIC_SIZE_HANDLER_NAME</em></span>:remove</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_syslog_handler"/>Configure a Syslog Handler</h2></div></div></div><p>
					This section shows you how to configure a syslog handler using the management CLI, which can be used to send messages to a remote logging server that supports the Syslog protocol, either RFC-3164 or RFC-5424. You can also configure syslog handlers using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Handler</strong></span> → <span class="strong"><strong>Syslog Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a syslog handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_syslog_handler" title="Add a Syslog Handler">Add a new syslog handler</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#configure_syslog_handler_settings" title="Configure Syslog Handler Settings">Configure the syslog handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#assign_syslog_handler_logger" title="Assign the Syslog Handler to a Logger">Assign the syslog handler to a logger</a>.
						</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_syslog_handler"/>Add a Syslog Handler</h4><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:add</pre><h4><a id="configure_syslog_handler_settings"/>Configure Syslog Handler Settings</h4><p>
					Depending on your needs, you may need to set one or more of the following syslog handler attributes. For a full list of available syslog handler attributes and their descriptions, see <a class="link" href="reference_material.html#syslog_handler_attributes" title="Table A.36. Syslog Handler Attributes">Syslog Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							Set the log level for the handler. The default level is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the name of the application that is logging. The default name is <code class="literal">java</code>.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=app-name,value=<span class="emphasis"><em>APP_NAME</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the address of the syslog server. The default address is <code class="literal">localhost</code>.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=server-address,value=<span class="emphasis"><em>SERVER_ADDRESS</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the port of the syslog server. The default port is <code class="literal">514</code>.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=port,value=<span class="emphasis"><em>PORT</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the syslog format, as defined by an RFC specification. The default format is <code class="literal">RFC5424</code>.
						</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:write-attribute(name=syslog-format,value=<span class="emphasis"><em>SYSLOG_FORMAT</em></span>)</pre></li></ul></div><h4><a id="assign_syslog_handler_logger"/>Assign the Syslog Handler to a Logger</h4><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the syslog handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the syslog handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>)</pre><h4><a id="remove_syslog_handler"/>Remove a Syslog Handler</h4><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/syslog-handler=<span class="emphasis"><em>SYSLOG_HANDLER_NAME</em></span>:remove</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_socket_log_handler"/>Configure a Socket Log Handler</h2></div></div></div><p>
					This section shows you how to configure a socket log handler using the management CLI, which can be used to send messages over a socket. This can be a TCP or UDP socket.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						If the server is started in admin-only mode, log messages are discarded.
					</p></div><p>
					The main tasks you will perform to configure a socket log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_socket_binding" title="Add the Socket Binding">Add a socket binding</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_formatter" title="Add the Log Formatter">Add a log formatter</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_socket_handler" title="Add the Socket Log Handler">Add the socket log handler</a> and <a class="link" href="logging_with_jboss_eap.html#configure_socket_handler_settings" title="Configure Socket Log Handler Settings">configure its settings</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#assign_socket_handler_logger" title="Assign the Socket Log Handler to a Logger">Assign the socket log handler to a logger</a>.
						</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_socket_binding"/>Add the Socket Binding</h4><p>
					Define either a <code class="literal">remote-destination-outbound-socket-binding</code> or <code class="literal">local-destination-outbound-socket-binding</code> as the <a class="link" href="network_and_port_configuration.html#socket_bindings" title="Socket Bindings">socket binding</a> to use.
				</p><pre class="screen">/socket-binding-group=<span class="emphasis"><em>SOCKET_BINDING_GROUP</em></span>/remote-destination-outbound-socket-binding=<span class="emphasis"><em>SOCKET_BINDING_NAME</em></span>:add(host=<span class="emphasis"><em>HOST</em></span>, port=<span class="emphasis"><em>PORT</em></span>)</pre><h4><a id="add_formatter"/>Add the Log Formatter</h4><p>
					Define a <a class="link" href="logging_with_jboss_eap.html#configuring_log_formatters" title="Configuring Log Formatters">log formatter</a> to use, such as a JSON formatter.
				</p><pre class="screen">/subsystem=logging/json-formatter=<span class="emphasis"><em>FORMATTER</em></span>:add</pre><h4><a id="add_socket_handler"/>Add the Socket Log Handler</h4><p>
					When adding the socket log handler, you must specify the socket binding and formatter to use.
				</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:add(outbound-socket-binding-ref=<span class="emphasis"><em>SOCKET_BINDING_NAME</em></span>,named-formatter=<span class="emphasis"><em>FORMATTER</em></span>)</pre><h4><a id="configure_socket_handler_settings"/>Configure Socket Log Handler Settings</h4><p>
					Depending on your needs, you may need to set one or more of the following socket log handler attributes. For a full list of available socket log handler attributes and their descriptions, see <a class="link" href="reference_material.html#socket_log_handler_attributes" title="Table A.37. Socket Log Handler Attributes">Socket Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							Set the protocol.
						</p><p class="simpara">
							Set the protocol to use. The default is <code class="literal">TCP</code>.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=protocol,value=<span class="emphasis"><em>PROTOCOL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								During server startup, log messages handled by a socket log handler are queued until the socket binding is configured and the <code class="literal">logging</code> subsystem is initialized. If the log level is set to a low level, such as <code class="literal">TRACE</code> or <code class="literal">DEBUG</code>, this can result in large memory consumption during startup.
							</p></div></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set auto flush.
						</p><p class="simpara">
							Set whether to automatically flush after each write. The default value is <code class="literal">true</code>.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=autoflush,value=<span class="emphasis"><em>AUTO_FLUSH</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="logging_with_jboss_eap.html#filter_expressions" title="Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h4><a id="assign_socket_handler_logger"/>Assign the Socket Log Handler to a Logger</h4><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the socket log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the socket log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>)</pre><h4><a id="remove_socket_handler"/>Remove a Socket Log Handler</h4><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/socket-handler=<span class="emphasis"><em>SOCKET_HANDLER_NAME</em></span>:remove</pre><h4><a id="log_messages_socket_ssl"/>Send Log Messages Over a Socket Using SSL/TLS</h4><p>
					The following steps show an example of how to set up a socket log handler to send log messages over a socket using the <code class="literal">SSL_TCP</code> protocol. This example configures a keystore, trust manager, and client SSL context in the <code class="literal">elytron</code> subsystem to be used by the socket log handler. Log messages from the root logger are sent over the specified socket, formatted by a JSON formatter.
				</p><p>
					For more information on configuring Elytron components, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/how_to_configure_server_security/#elytron_subsystem">Elytron Subsystem</a> in <span class="emphasis"><em>How to Configure Server Security</em></span> for JBoss EAP.
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Configure the Elytron settings.
						</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
									Add the keystore.
								</p><pre class="screen">/subsystem=elytron/key-store=log-server-ks:add(path=/path/to/keystore.jks, type=JKS, credential-reference={clear-text=mypassword})</pre></li><li class="listitem"><p class="simpara">
									Add the trust manager.
								</p><pre class="screen">/subsystem=elytron/trust-manager=log-server-tm:add(key-store=log-server-ks)</pre></li><li class="listitem"><p class="simpara">
									Add the client SSL context.
								</p><pre class="screen">/subsystem=elytron/client-ssl-context=log-server-context:add(trust-manager=log-server-tm, protocols=["TLSv1.2"])</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Add the socket binding.
						</p><pre class="screen">/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=log-server:add(host=localhost, port=4560)</pre></li><li class="listitem"><p class="simpara">
							Add a JSON formatter.
						</p><pre class="screen">/subsystem=logging/json-formatter=json:add</pre></li><li class="listitem"><p class="simpara">
							Add the socket log handler.
						</p><pre class="screen">/subsystem=logging/socket-handler=log-server-handler:add(named-formatter=json, level=INFO, outbound-socket-binding-ref=log-server, protocol=SSL_TCP, ssl-context=log-server-context)</pre></li><li class="listitem"><p class="simpara">
							Assign the log handler to the root logger.
						</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=log-server-handler)</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_custom_log_handler"/>Configure a Custom Log Handler</h2></div></div></div><p>
					This section shows you how to configure a custom log handler using the management CLI. You can also configure custom log handlers using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Handler</strong></span> → <span class="strong"><strong>Custom Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure a custom log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_custom_handler" title="Add a Custom Log Handler">Add a new custom log handler</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#configure_custom_handler_settings" title="Configure Custom Log Handler Settings">Configure the custom log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#assign_custom_handler_logger" title="Assign the Custom Log Handler to a Logger">Assign the custom log handler to a logger</a>.
						</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_custom_handler"/>Add a Custom Log Handler</h4><p>
					When adding a custom log handler, you must specify the Java class of the handler and the JBoss EAP module in which it is contained. The class must extend <code class="literal">java.util.logging.Handler</code>.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						You must have already <a class="link" href="overview_of_class_loading_and_modules.html#create_a_custom_module" title="Create a Custom Module">created a module</a> containing the custom logger or this command will fail.
					</p></div><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:add(class=<span class="emphasis"><em>CLASS_NAME</em></span>,module=<span class="emphasis"><em>MODULE_NAME</em></span>)</pre><h4><a id="configure_custom_handler_settings"/>Configure Custom Log Handler Settings</h4><p>
					Depending on your needs, you may need to set one or more of the following custom log handler attributes. For a full list of available custom log handler attributes and their descriptions, see <a class="link" href="reference_material.html#custom_log_handler_attributes" title="Table A.38. Custom Log Handler Attributes">Custom Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the properties.
						</p><p class="simpara">
							Set the necessary properties for the log handler. The properties must be accessible using a setter method.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=properties.<span class="emphasis"><em>PROPERTY_NAME</em></span>,value=<span class="emphasis"><em>PROPERTY_VALUE</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the encoding.
						</p><p class="simpara">
							Set the encoding for the handler, for example, <code class="literal">utf-8</code>.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=encoding,value=<span class="emphasis"><em>ENCODING</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the log formatter.
						</p><p class="simpara">
							Set the formatter string for the handler. For example, the default format string is <code class="literal">%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. Be sure to enclose the <code class="literal"><span class="emphasis"><em>FORMAT</em></span></code> value in quotation marks.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=formatter,value=<span class="emphasis"><em>FORMAT</em></span>)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								Use the <code class="literal">named-formatter</code> attribute if you want to reference a <a class="link" href="logging_with_jboss_eap.html#configure_pattern_formatter" title="Configure a Pattern Formatter">saved formatter</a>.
							</p></div></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="logging_with_jboss_eap.html#filter_expressions" title="Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h4><a id="assign_custom_handler_logger"/>Assign the Custom Log Handler to a Logger</h4><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the custom log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the custom log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>)</pre><h4><a id="remove_custom_handler"/>Remove a Custom Log Handler</h4><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger or async log handler.
				</p><pre class="screen">/subsystem=logging/custom-handler=<span class="emphasis"><em>CUSTOM_HANDLER_NAME</em></span>:remove</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_async_log_handler"/>Configure an Async Log Handler</h2></div></div></div><p>
					This section shows you how to configure an async log handler using the management CLI. You can also configure async log handlers using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Handler</strong></span> → <span class="strong"><strong>Async Handler</strong></span>.
				</p><p>
					The main tasks you will perform to configure an async log handler are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_async_handler" title="Add an Async Log Handler">Add a new async log handler</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#add_subhandlers" title="Add a Sub-handler">Add sub-handlers to the async log handler</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#configure_async_handler_settings" title="Configure Async Log Handler Settings">Configure the async log handler settings</a>.
						</li><li class="listitem">
							<a class="link" href="logging_with_jboss_eap.html#assign_async_handler_logger" title="Assign the Async Log Handler to a Logger">Assign the async log handler to a logger</a>.
						</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_async_handler"/>Add an Async Log Handler</h4><p>
					When adding an async log handler, you must specify the queue length. This is the maximum number of log requests that can be held in queue.
				</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:add(queue-length=<span class="emphasis"><em>QUEUE_LENGTH</em></span>)</pre><h4><a id="add_subhandlers"/>Add a Sub-handler</h4><p>
					You can add one or more handlers as sub-handlers for this async log handler. Note that the handlers must already exist in the configuration or this command will fail.
				</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:add-handler(name=<span class="emphasis"><em>HANDLER_NAME</em></span>)</pre><h4><a id="configure_async_handler_settings"/>Configure Async Log Handler Settings</h4><p>
					Depending on your needs, you may need to set one or more of the following async log handler attributes. For a full list of available async log handler attributes and their descriptions, see <a class="link" href="reference_material.html#async_log_handler_attributes" title="Table A.39. Async Log Handler Attributes">Async Log Handler Attributes</a>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							Set the log level.
						</p><p class="simpara">
							Set the appropriate log level for the handler. The default is <code class="literal">ALL</code>. See <a class="link" href="logging_with_jboss_eap.html#log_levels" title="Log Levels">Log Levels</a> for all available options.
						</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the overflow action.
						</p><p class="simpara">
							Set the action to take when overflowing. The default value is <code class="literal">BLOCK</code>, which means that threads will block in the event of a full queue. You can change this value to <code class="literal">DISCARD</code>, which means that log messages will be discarded in the event of a full queue.
						</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:write-attribute(name=overflow-action,value=<span class="emphasis"><em>OVERFLOW_ACTION</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the filter expression.
						</p><p class="simpara">
							Set the expression for filtering log messages for the handler. Be sure to escape any commas and quotation marks and surround with quotation marks. For example, the <code class="literal"><span class="emphasis"><em>FILTER_EXPRESSION</em></span></code> replaceable variable below would need to be replaced with <code class="literal">"not(match(\"WFLY\"))"</code> for a filter expression of <code class="literal">not(match("WFLY"))</code>.
						</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:write-attribute(name=filter-spec, value=<span class="emphasis"><em>FILTER_EXPRESSION</em></span>)</pre><p class="simpara">
							See the <a class="link" href="logging_with_jboss_eap.html#filter_expressions" title="Filter Expressions">Filter Expressions</a> section for more information on available filter expressions.
						</p></li></ul></div><h4><a id="assign_async_handler_logger"/>Assign the Async Log Handler to a Logger</h4><p>
					In order for a log handler to be active, you must assign it to a logger.
				</p><p>
					The following management CLI command assigns the async log handler to the root logger.
				</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>)</pre><p>
					The following management CLI command assigns the async log handler to a logger whose name is specified by <code class="literal"><span class="emphasis"><em>CATEGORY</em></span></code>.
				</p><pre class="screen">/subsystem=logging/logger=<span class="emphasis"><em>CATEGORY</em></span>:add-handler(name=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>)</pre><h4><a id="remove_async_handler"/>Remove an Async Log Handler</h4><p>
					A log handler can be removed with the <code class="literal">remove</code> operation. A log handler cannot be removed if it is currently assigned to a logger.
				</p><pre class="screen">/subsystem=logging/async-handler=<span class="emphasis"><em>ASYNC_HANDLER_NAME</em></span>:remove</pre></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configure_root_logger"/>Configuring the Root Logger</h1></div></div></div><p>
				The root logger captures all log messages, of the specified log level or higher, sent to the server that are not captured by a log category.
			</p><p>
				This section shows you how to configure the root logger using the management CLI. You can also configure the root logger using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Configuration</strong></span>, clicking <span class="strong"><strong>View</strong></span>, and selecting <span class="strong"><strong>Root Logger</strong></span>.
			</p><h3><a id="configure_the_root_logger"/>Configure the Root Logger</h3><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
					If you are configuring this log handler for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
				</p><p>
					Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
				</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Assign log handlers to the root logger.
					</p><p class="simpara">
						Add a log handler.
					</p><pre class="screen">/subsystem=logging/root-logger=ROOT:add-handler(name=<span class="emphasis"><em>LOG_HANDLER_NAME</em></span>)</pre><p class="simpara">
						Remove a log handler.
					</p><pre class="screen">/subsystem=logging/root-logger=ROOT:remove-handler(name=<span class="emphasis"><em>LOG_HANDLER_NAME</em></span>)</pre></li><li class="listitem"><p class="simpara">
						Set the log level.
					</p><pre class="screen">/subsystem=logging/root-logger=ROOT:write-attribute(name=level,value=<span class="emphasis"><em>LEVEL</em></span>)</pre></li></ol></div><p>
				For a full list of available root logger attributes and their descriptions, see <a class="link" href="reference_material.html#root_logger_attributes" title="Root Logger Attributes">Root Logger Attributes</a>.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configuring_log_formatters"/>Configuring Log Formatters</h1></div></div></div><p>
				A log formatter defines the appearance of log messages from that handler. The <code class="literal">logging</code> subsystem allows you to configure the following types of log formatters:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_pattern_formatter" title="Configure a Pattern Formatter">Pattern Formatter</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_json_log_formatter" title="Configure a JSON Log Formatter">JSON Log Formatter</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_xml_log_formatter" title="Configure an XML Log Formatter">XML Log Formatter</a>
					</li><li class="listitem">
						<a class="link" href="logging_with_jboss_eap.html#configure_custom_log_formatter" title="Configure a Custom Log Formatter">Custom Log Formatter</a>
					</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_pattern_formatter"/>Configure a Pattern Formatter</h2></div></div></div><p>
					You can create a named pattern formatter that can be used across log handlers to format log messages.
				</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log formatter for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="create_a_pattern_formatter"/>Create a Pattern Formatter</h4><p>
					When defining a pattern formatter, you provide a pattern string to use to format log messages. For more information on the pattern syntax, see <a class="link" href="reference_material.html#format_characters_for_pattern_formatter" title="Table A.40. Format Characters for Pattern Formatter">Format Characters for Pattern Formatter</a>.
				</p><pre class="screen">/subsystem=logging/pattern-formatter=<span class="emphasis"><em>PATTERN_FORMATTER_NAME</em></span>:add(pattern=<span class="emphasis"><em>PATTERN</em></span>)</pre><p>
					For example, the default configuration uses the following log formatter string for logging messages to the server log: <code class="literal">%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n</code>. This creates log messages formatted like the one below.
				</p><pre class="screen">2016-03-18 15:49:32,075 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990</pre><p>
					You can also define a color map to assign a color to different log levels. The format is a comma-separated list of <code class="literal"><span class="emphasis"><em>LEVEL</em></span>:<span class="emphasis"><em>COLOR</em></span></code>.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Valid levels: <code class="literal">finest</code>, <code class="literal">finer</code>, <code class="literal">fine</code>, <code class="literal">config</code>, <code class="literal">trace</code>, <code class="literal">debug</code>, <code class="literal">info</code>, <code class="literal">warning</code>, <code class="literal">warn</code>, <code class="literal">error</code>, <code class="literal">fatal</code>, <code class="literal">severe</code>
						</li><li class="listitem">
							Valid colors: <code class="literal">black</code>, <code class="literal">green</code>, <code class="literal">red</code>, <code class="literal">yellow</code>, <code class="literal">blue</code>, <code class="literal">magenta</code>, <code class="literal">cyan</code>, <code class="literal">white</code>, <code class="literal">brightblack</code>, <code class="literal">brightred</code>, <code class="literal">brightgreen</code>, <code class="literal">brightblue</code>, <code class="literal">brightyellow</code>, <code class="literal">brightmagenta</code>, <code class="literal">brightcyan</code>, <code class="literal">brightwhite</code>
						</li></ul></div><pre class="screen">/subsystem=logging/pattern-formatter=<span class="emphasis"><em>PATTERN_FORMATTER_NAME</em></span>:write-attribute(name=color-map,value="<span class="emphasis"><em>LEVEL</em></span>:<span class="emphasis"><em>COLOR</em></span>,<span class="emphasis"><em>LEVEL</em></span>:<span class="emphasis"><em>COLOR</em></span>")</pre><p>
					You can also configure pattern log formatters using the management console:
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
							Open the management console in a browser.
						</li><li class="listitem">
							Choose <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span>.
						</li><li class="listitem">
							Select <span class="strong"><strong>Configuration</strong></span> and then click <span class="strong"><strong>View</strong></span>.
						</li><li class="listitem">
							Select <span class="strong"><strong>Formatter</strong></span> and then choose the <span class="strong"><strong>Pattern Formatter</strong></span> option.
						</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_json_log_formatter"/>Configure a JSON Log Formatter</h2></div></div></div><p>
					You can create a JSON log formatter to format log messages in JSON.
				</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log formatter for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_a_json_log_formatter"/>Add a JSON Log Formatter</h4><pre class="screen">/subsystem=logging/json-formatter=<span class="emphasis"><em>JSON_FORMATTER_NAME</em></span>:add(pretty-print=true, exception-output-type=formatted)</pre><p>
					This creates log messages formatted like the one below.
				</p><pre class="screen">{
    "timestamp": "2018-10-18T13:53:43.031-04:00",
    "sequence": 62,
    "loggerClassName": "org.jboss.as.server.logging.ServerLogger_$logger",
    "loggerName": "org.jboss.as",
    "level": "INFO",
    "message": "WFLYSRV0025: JBoss EAP 7.2.0.GA (WildFly Core 6.0.9.Final-redhat-20181015) started in 5672ms - Started 495 of 679 services (331 services are lazy, passive or on-demand)",
    "threadName": "Controller Boot Thread",
    "threadId": 22,
    "mdc": {
    },
    "ndc": "",
    "hostName": "localhost.localdomain",
    "processName": "jboss-modules.jar",
    "processId": 7461
}</pre><h4><a id="add_a_logstash_json_log_formatter"/>Add a Logstash JSON Log Formatter</h4><pre class="screen">/subsystem=logging/json-formatter=logstash:add(exception-output-type=formatted, key-overrides=[timestamp="@timestamp"], meta-data=[@version=1])</pre><p>
					You can use the JSON formatter attributes as explained below:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">key-overrides</code> attribute can be used to override the names of the keys defined.
						</li><li class="listitem">
							The exceptions can be formatted as objects by setting the <code class="literal">exception-output-type</code> attribute to <code class="literal">formatted</code>.
						</li><li class="listitem">
							The exception stack trace can be included by setting the <code class="literal">exception-output-type</code> attribute to <code class="literal">detailed</code>.
						</li><li class="listitem">
							The exceptions can be formatted as objects and stack traces can be included by setting the <code class="literal">exception-output-type</code> to <code class="literal">detailed-and-formatted</code>.
						</li><li class="listitem">
							The metadata can be added to log records using the <code class="literal">meta-data</code> attribute.
						</li></ul></div><p>
					For more information on the JSON formatter attributes, see <a class="link" href="reference_material.html#json_log_formatter_attributes" title="Table A.41. JSON Log Formatter Attributes">JSON Log Formatter Attributes</a>.
				</p><p>
					You can also configure JSON log formatters using the management console:
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
							Open the management console in a browser.
						</li><li class="listitem">
							Choose <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span>.
						</li><li class="listitem">
							Select <span class="strong"><strong>Configuration</strong></span> and then click <span class="strong"><strong>View</strong></span>.
						</li><li class="listitem">
							Select <span class="strong"><strong>Formatter</strong></span> and then choose the <span class="strong"><strong>JSON Formatter</strong></span> option.
						</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_xml_log_formatter"/>Configure an XML Log Formatter</h2></div></div></div><p>
					You can create an XML log formatter to format log messages in XML.
				</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log formatter for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><h4><a id="add_an_xml_log_formatter"/>Add an XML Log Formatter</h4><pre class="screen">/subsystem=logging/xml-formatter=<span class="emphasis"><em>XML_FORMATTER_NAME</em></span>:add(pretty-print=true, exception-output-type=detailed-and-formatted)</pre><p>
					This creates log message formatted like the one below.
				</p><pre class="programlisting">&lt;record&gt;
    &lt;timestamp&gt;2018-10-18T13:55:53.419-04:00&lt;/timestamp&gt;
    &lt;sequence&gt;62&lt;/sequence&gt;
    &lt;loggerClassName&gt;org.jboss.as.server.logging.ServerLogger_$logger&lt;/loggerClassName&gt;
    &lt;loggerName&gt;org.jboss.as&lt;/loggerName&gt;
    &lt;level&gt;INFO&lt;/level&gt;
    &lt;message&gt;WFLYSRV0025: JBoss EAP 7.2.0.GA (WildFly Core 6.0.9.Final-redhat-20181015) started in 6271ms - Started 495 of 679 services (331 services are lazy, passive or on-demand)&lt;/message&gt;
    &lt;threadName&gt;Controller Boot Thread&lt;/threadName&gt;
    &lt;threadId&gt;22&lt;/threadId&gt;
    &lt;mdc&gt;
    &lt;/mdc&gt;
    &lt;ndc&gt;&lt;/ndc&gt;
    &lt;hostName&gt;localhost.localdomain&lt;/hostName&gt;
    &lt;processName&gt;jboss-modules.jar&lt;/processName&gt;
    &lt;processId&gt;7790&lt;/processId&gt;
&lt;/record&gt;</pre><h4><a id="add_a_key_override_xml_log_formatter"/>Add a Key Override XML Log Formatter</h4><pre class="screen">/subsystem=logging/xml-formatter=<span class="emphasis"><em>XML_FORMATTER_NAME</em></span>:add(pretty-print=true, print-namespace=true, namespace-uri="urn:custom:1.0", key-overrides={message=msg, record=logRecord, timestamp=date}, print-details=true)</pre><p>
					You can use the XML formatter attributes as explained below:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">key-overrides</code> attribute can be used to override the names of the keys defined.
						</li><li class="listitem">
							The exceptions can be formatted as objects by setting the <code class="literal">exception-output-type</code> attribute to <code class="literal">formatted</code>.
						</li><li class="listitem">
							The exception stack trace can be included by setting the <code class="literal">exception-output-type</code> attribute to <code class="literal">detailed</code>.
						</li><li class="listitem">
							The exceptions can be formatted as objects and stack traces can be included by setting the <code class="literal">exception-output-type</code> to <code class="literal">detailed-and-formatted</code>.
						</li><li class="listitem">
							The metadata can be added to log records using the <code class="literal">meta-data</code> attribute.
						</li></ul></div><p>
					For more information on the XML formatter attributes, see <a class="link" href="reference_material.html#xml_log_formatter_attributes" title="Table A.42. XML Log Formatter Attributes">XML Log Formatter Attributes</a>.
				</p><p>
					You can also configure XML log formatters using the management console:
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
							Open the management console in a browser.
						</li><li class="listitem">
							Choose <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span>.
						</li><li class="listitem">
							Select <span class="strong"><strong>Configuration</strong></span> and then click <span class="strong"><strong>View</strong></span>.
						</li><li class="listitem">
							Select <span class="strong"><strong>Formatter</strong></span> and then choose the <span class="strong"><strong>XML Formatter</strong></span> option.
						</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configure_custom_log_formatter"/>Configure a Custom Log Formatter</h2></div></div></div><p>
					You can create a custom log formatter that can be used across log handlers to format log messages.
				</p><p>
					This section shows you how to configure a custom log formatter using the management CLI.
				</p><h4><a id="configure_a_custom_log_formatter"/>Configure a Custom Log Formatter</h4><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
						If you are configuring this log formatter for a logging profile, the start of the command would be <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>LOGGING_PROFILE_NAME</em></span>/</code> instead of <code class="literal">/subsystem=logging/</code>.
					</p><p>
						Additionally, if you are running in a managed domain, precede the commands with <code class="literal">/profile=<span class="emphasis"><em>PROFILE_NAME</em></span></code>.
					</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Add the custom log formatter.
						</p><p class="simpara">
							When adding a custom log formatter, you must specify the Java class of the formatter and the JBoss EAP module in which it is contained. The class must extend <code class="literal">java.util.logging.Formatter</code>.
						</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
								You must have already created a module containing the custom formatter or this command will fail.
							</p></div><pre class="screen">/subsystem=logging/custom-formatter=<span class="emphasis"><em>CUSTOM_FORMATTER_NAME</em></span>:add(class=<span class="emphasis"><em>CLASS_NAME</em></span>, module=<span class="emphasis"><em>MODULE_NAME</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Set the necessary properties for the log formatter.
						</p><p class="simpara">
							The properties must be accessible using a setter method.
						</p><pre class="screen">/subsystem=logging/custom-formatter=<span class="emphasis"><em>CUSTOM_FORMATTER_NAME</em></span>:write-attribute(name=properties.<span class="emphasis"><em>PROPERTY_NAME</em></span>,value=<span class="emphasis"><em>PROPERTY_VALUE</em></span>)</pre></li><li class="listitem"><p class="simpara">
							Assign the custom formatter to a log handler.
						</p><p class="simpara">
							The following management CLI command assigns a custom formatter to be used by a periodic rotating file handler.
						</p><pre class="screen">/subsystem=logging/periodic-rotating-file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name=named-formatter, value=<span class="emphasis"><em>CUSTOM_FORMATTER_NAME</em></span>)</pre></li></ol></div><h4><a id="example_custom_xml_formatter"/>Example Custom XML Formatter</h4><p>
					The following example configures a custom XML formatter. It uses the <code class="literal">java.util.logging.XMLFormatter</code> class provided in the <code class="literal">org.jboss.logmanager</code> module and assigns it to the console log handler.
				</p><pre class="screen">/subsystem=logging/custom-formatter=custom-xml-formatter:add(class=java.util.logging.XMLFormatter, module=org.jboss.logmanager)
/subsystem=logging/console-handler=CONSOLE:write-attribute(name=named-formatter, value=custom-xml-formatter)</pre><p>
					A log message using this formatter would be formatted as below.
				</p><pre class="screen">&lt;record&gt;
  &lt;date&gt;2016-03-23T12:58:13&lt;/date&gt;
  &lt;millis&gt;1458752293091&lt;/millis&gt;
  &lt;sequence&gt;93963&lt;/sequence&gt;
  &lt;logger&gt;org.jboss.as&lt;/logger&gt;
  &lt;level&gt;INFO&lt;/level&gt;
  &lt;class&gt;org.jboss.as.server.BootstrapListener&lt;/class&gt;
  &lt;method&gt;logAdminConsole&lt;/method&gt;
  &lt;thread&gt;22&lt;/thread&gt;
  &lt;message&gt;WFLYSRV0051: Admin console listening on http://%s:%d&lt;/message&gt;
  &lt;param&gt;127.0.0.1&lt;/param&gt;
  &lt;param&gt;9990&lt;/param&gt;
&lt;/record&gt;</pre><h4><a id="configure_a_custom_log_formatter_using_the_management_console"/>Configure a Custom Log Formatter Using the Management Console</h4><p>
					You can also configure log formatters using the management console.
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
							Open the management console in a browser.
						</li><li class="listitem">
							Choose <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span>.
						</li><li class="listitem">
							Select <span class="strong"><strong>Configuration</strong></span> and then click <span class="strong"><strong>View</strong></span>.
						</li><li class="listitem">
							Select <span class="strong"><strong>Formatter</strong></span> and then choose the <span class="strong"><strong>Custom Formatter</strong></span> option.
						</li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="about_application_logging"/>About Application Logging</h1></div></div></div><p>
				Logging for applications can be configured using the JBoss EAP <code class="literal">logging</code> subsystem or on a per-deployment basis.
			</p><p>
				See <a class="link" href="logging_with_jboss_eap.html#about_logging_subsystem" title="About the Logging Subsystem">About the Logging Subsystem</a> for using JBoss EAP log categories and handlers for capturing log messages.
			</p><p>
				For more information on application logging, such as supported application logging frameworks and configuring per-deployment logging, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#logging_for_developers">Logging</a> chapter in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="about_per_deployment_logging"/>Per-deployment Logging</h2></div></div></div><p>
					Per-deployment logging allows a developer to configure the logging configuration for their application in advance. When the application is deployed, logging begins according to the defined configuration. The log files created through this configuration contain information only about the behavior of the application.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						If the per-deployment logging configuration is not done, the configuration from <code class="literal">logging</code> subsystem is used for all the applications as well as the server.
					</p></div><p>
					This approach has advantages and disadvantages over using system-wide logging. An advantage is that the administrator of the JBoss EAP instance does not need to configure any other logging than the server logging. A disadvantage is that the per-deployment logging configuration is read only on server startup, and so cannot be changed at runtime.
				</p><p>
					For instructions on using per-deployment logging in your applications, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#add_per_deployment_logging_to_an_application">Add Per-deployment Logging to an Application</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="disable_per_deployment_logging"/>Disable Per-deployment Logging</h3></div></div></div><p>
						You can disable per-deployment logging in one of the following ways:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
								Set the <code class="literal">use-deployment-logging-config</code> attribute to <code class="literal">false</code>.
							</p><p class="simpara">
								The <code class="literal">use-deployment-logging-config</code> attribute controls whether or not your deployment is scanned for per-deployment logging. This defaults to <code class="literal">true</code> by default. You can set this attribute to <code class="literal">false</code> to disable per-deployment logging.
							</p><pre class="screen">/subsystem=logging:write-attribute(name=use-deployment-logging-config,value=false)</pre></li><li class="listitem"><p class="simpara">
								Exclude the <code class="literal">logging</code> subsystem using a <code class="literal">jboss-deployment-structure.xml</code> file.
							</p><p class="simpara">
								For instructions, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#exclude_a_subsystem_from_a_deployment">Exclude a Subsystem from a Deployment</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
							</p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="logging_profiles"/>Logging Profiles</h2></div></div></div><p>
					Logging profiles are independent sets of logging configurations that can be assigned to deployed applications. As with the regular <code class="literal">logging</code> subsystem, a logging profile can define handlers, categories, and a root logger, but it cannot refer to configurations in other profiles or the main <code class="literal">logging</code> subsystem. The design of logging profiles mimics the <code class="literal">logging</code> subsystem for ease of configuration.
				</p><p>
					Logging profiles allow administrators to create logging configurations that are specific to one or more applications without affecting any other logging configurations. Because each profile is defined in the server configuration, the logging configuration can be changed without requiring that the affected applications be redeployed.
				</p><p>
					Each logging profile can have:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							A unique name. This value is required.
						</li><li class="listitem">
							Any number of log handlers.
						</li><li class="listitem">
							Any number of log categories.
						</li><li class="listitem">
							Up to one root logger.
						</li></ul></div><p>
					An application can specify a logging profile to use in its <code class="literal">MANIFEST.MF</code> file, using the <code class="literal">Logging-Profile</code> attribute.
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configure_logging_profile"/>Configure a Logging Profile</h3></div></div></div><p>
						A logging profile can be configured with log handlers, categories, and a root logger. Configuring a logging profile uses the same syntax as configuring the <code class="literal">logging</code> subsystem, except for the following differences:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								The root configuration path is <code class="literal">/subsystem=logging/logging-profile=<span class="emphasis"><em>NAME</em></span></code>.
							</li><li class="listitem">
								A logging profile cannot contain other logging profiles.
							</li><li class="listitem"><p class="simpara">
								The <code class="literal">logging</code> subsystem has the following attributes that are not available for a logging profile:
							</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										<code class="literal">add-logging-api-dependencies</code>
									</li><li class="listitem">
										<code class="literal">use-deployment-logging-config</code>
									</li></ul></div></li></ul></div><h5><a id="creating_and_configuring_a_logging_profile"/>Creating and Configuring a Logging Profile</h5><p>
						The following procedure uses the management CLI to create a logging profile and set a file handler and logger category. Logging profiles can also be configured using the management console by navigating to <span class="strong"><strong>Configuration</strong></span> → <span class="strong"><strong>Subsystems</strong></span> → <span class="strong"><strong>Logging</strong></span> → <span class="strong"><strong>Logging Profiles</strong></span>.
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
								Create the logging profile.
							</p><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>:add</pre></li><li class="listitem"><p class="simpara">
								Create the file handler.
							</p><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:add(file={path=&gt;"<span class="emphasis"><em>LOG_NAME</em></span>.log", "relative-to"=&gt;"jboss.server.log.dir"})</pre><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/file-handler=<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>:write-attribute(name="level", value="DEBUG")</pre><p class="simpara">
								See <a class="link" href="reference_material.html#file_log_handler_attributes" title="Table A.32. File Log Handler Attributes">File Log Handler Attributes</a> for the list of file handler attributes.
							</p></li><li class="listitem"><p class="simpara">
								Create the logger category.
							</p><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/logger=<span class="emphasis"><em>CATEGORY_NAME</em></span>:add(level=TRACE)</pre><p class="simpara">
								See <a class="link" href="reference_material.html#log_category_attributes" title="Log Category Attributes">Log Category Attributes</a> for the list of log category attributes.
							</p></li><li class="listitem"><p class="simpara">
								Assign the file handler to the category.
							</p><pre class="screen">/subsystem=logging/logging-profile=<span class="emphasis"><em>PROFILE_NAME</em></span>/logger=<span class="emphasis"><em>CATEGORY_NAME</em></span>:add-handler(name="<span class="emphasis"><em>FILE_HANDLER_NAME</em></span>")</pre></li></ol></div><p>
						You can then set the logging profile to use by an application in its <code class="literal">MANIFEST.MF</code> file. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#specify_a_logging_profile_in_an_application">Specify a Logging Profile in an Application</a> in the JBoss EAP <span class="emphasis"><em>Development Guide</em></span>.
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="example_logging_profile_configuration"/>Example Logging Profile Configuration</h3></div></div></div><p>
						This example shows the configuration of a logging profile and the application that uses it. It shows the management CLI commands, the resulting XML, and the application’s <code class="literal">MANIFEST.MF</code> file.
					</p><p>
						The example logging profile has the following characteristics:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								The name is <code class="literal">accounts-app-profile</code>.
							</li><li class="listitem">
								The log category is <code class="literal">com.company.accounts.ejbs</code>.
							</li><li class="listitem">
								The log level <code class="literal">TRACE</code>.
							</li><li class="listitem">
								The log handler is a file handler using the file <code class="literal">ejb-trace.log</code>.
							</li></ul></div><div class="title"><strong>Management CLI Session</strong></div><p>
							
</p><pre class="screen">/subsystem=logging/logging-profile=accounts-app-profile:add

/subsystem=logging/logging-profile=accounts-app-profile/file-handler=ejb-trace-file:add(file={path=&gt;"ejb-trace.log", "relative-to"=&gt;"jboss.server.log.dir"})

/subsystem=logging/logging-profile=accounts-app-profile/file-handler=ejb-trace-file:write-attribute(name="level", value="DEBUG")

/subsystem=logging/logging-profile=accounts-app-profile/logger=com.company.accounts.ejbs:add(level=TRACE)

/subsystem=logging/logging-profile=accounts-app-profile/logger=com.company.accounts.ejbs:add-handler(name="ejb-trace-file")</pre><p>

						</p><div class="title"><strong>XML Configuration</strong></div><p>
							
</p><pre class="programlisting">&lt;logging-profiles&gt;
   &lt;logging-profile name="accounts-app-profile"&gt;
      &lt;file-handler name="ejb-trace-file"&gt;
         &lt;level name="DEBUG"/&gt;
         &lt;file relative-to="jboss.server.log.dir" path="ejb-trace.log"/&gt;
      &lt;/file-handler&gt;
      &lt;logger category="com.company.accounts.ejbs"&gt;
         &lt;level name="TRACE"/&gt;
         &lt;handlers&gt;
            &lt;handler name="ejb-trace-file"/&gt;
         &lt;/handlers&gt;
      &lt;/logger&gt;
   &lt;/logging-profile&gt;
&lt;/logging-profiles&gt;</pre><p>

						</p><div class="title"><strong>Application MANIFEST.MF file</strong></div><p>
							
</p><pre class="screen">Manifest-Version: 1.0
Logging-Profile: accounts-app-profile</pre><p>

						</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="viewing_deployment_logging_configuration"/>Viewing Deployment Logging Configuration</h2></div></div></div><p>
					You can obtain information about the logging configuration for a particular deployment using the following management CLI command.
				</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>/subsystem=logging/configuration=<span class="emphasis"><em>CONFIG</em></span>:read-resource</pre><p>
					The logging configuration value, <code class="literal"><span class="emphasis"><em>CONFIG</em></span></code>, for a deployment can be one of three values:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">default</code>, if the deployment is using the <a class="link" href="logging_with_jboss_eap.html#about_logging_subsystem" title="About the Logging Subsystem"><code class="literal">logging</code> subsystem</a>. This will output the <code class="literal">logging</code> subsystem configuration.
						</li><li class="listitem">
							<code class="literal">profile-<span class="emphasis"><em>PROFILE_NAME</em></span></code>, if the deployment is using a <a class="link" href="logging_with_jboss_eap.html#logging_profiles" title="Logging Profiles">logging profile</a> defined in the <code class="literal">logging</code> subsystem. This will output the logging profile configuration.
						</li><li class="listitem">
							The path to the configuration file being used, for example, <code class="literal">myear.ear/META-INF/logging.properties</code>.
						</li></ul></div><p>
					For example, the below management CLI command displays the configuration for the <code class="literal">MYPROFILE</code> logging profile, which is used by the specified deployment.
				</p><pre class="screen">/deployment=mydeployment.war/subsystem=logging/configuration=profile-MYPROFILE:read-resource(recursive=true,include-runtime=true)</pre><p>
					This will output the following information.
				</p><pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "error-manager" =&gt; undefined,
        "filter" =&gt; undefined,
        "formatter" =&gt; {
            "MYFORMATTER" =&gt; {
                "class-name" =&gt; "org.jboss.logmanager.formatters.PatternFormatter",
                "module" =&gt; undefined,
                "properties" =&gt; {"pattern" =&gt; "%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n"}
            }
        },
        "handler" =&gt; {
            "MYPERIODIC" =&gt; {
                "class-name" =&gt; "org.jboss.logmanager.handlers.PeriodicRotatingFileHandler",
                "encoding" =&gt; undefined,
                "error-manager" =&gt; undefined,
                "filter" =&gt; undefined,
                "formatter" =&gt; "MYFORMATTER",
                "handlers" =&gt; [],
                "level" =&gt; "ALL",
                "module" =&gt; undefined,
                "properties" =&gt; {
                    "append" =&gt; "true",
                    "autoFlush" =&gt; "true",
                    "enabled" =&gt; "true",
                    "suffix" =&gt; ".yyyy-MM-dd",
                    "fileName" =&gt; "<span class="emphasis"><em>EAP_HOME</em></span>/standalone/log/deployment.log"
                }
            }
        },
        "logger" =&gt; {"MYCATEGORY" =&gt; {
            "filter" =&gt; undefined,
            "handlers" =&gt; [],
            "level" =&gt; "DEBUG",
            "use-parent-handlers" =&gt; true
        }},
        "pojo" =&gt; undefined
    }
}</pre><p>
					You could also use a recursive <code class="literal">read-resource</code> operation to read the logging configuration and other information about a deployment.
				</p><pre class="screen">/deployment=<span class="emphasis"><em>DEPLOYMENT_NAME</em></span>/subsystem=logging:read-resource(include-runtime=true, recursive=true)</pre></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="tuning_logging_subsystem"/>Tuning the Logging Subsystem</h1></div></div></div><p>
				For tips on monitoring and optimizing performance for the <code class="literal">logging</code> subsystem, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/performance_tuning_guide/#logging_tuning">Logging Subsystem Tuning</a> section of the <span class="emphasis"><em>Performance Tuning Guide</em></span>.
			</p></div></div></body></html>