<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 19. Configuring the IO Subsystem</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="configuring_the_io_subsystem"/>Chapter 19. Configuring the IO Subsystem</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="io_subsystem_overview"/>IO Subsystem Overview</h1></div></div></div><p>
				The <code class="literal">io</code> subsystem defines the XNIO <a class="link" href="configuring_the_io_subsystem.html#io_configure_worker" title="Configuring a Worker">workers</a> and <a class="link" href="configuring_the_io_subsystem.html#io_configure_buffer_pool" title="Configuring a Buffer Pool">buffer pools</a> used by other subsystems, such as Undertow and Remoting. These workers and buffer pools are defined within the following components in the <code class="literal">io</code> subsystem:
			</p><h3><a id="default_io_subsystem_configuration"/>Default IO Subsystem Configuration</h3><pre class="programlisting">&lt;subsystem xmlns="urn:jboss:domain:io:3.0"&gt;
    &lt;worker name="default"/&gt;
    &lt;buffer-pool name="default"/&gt;
&lt;/subsystem&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="io_configure_worker"/>Configuring a Worker</h1></div></div></div><p>
				Workers are XNIO worker instances. An XNIO worker instance is an abstraction layer for the Java NIO APIs, which provide functionality such as management of IO and worker threads as well as SSL support. By default, JBoss EAP provides single worker called <code class="literal">default</code>, but more can be defined.
			</p><h3><a id="updating_an_existing_worker"/>Updating an Existing Worker</h3><p>
				To update an existing worker:
			</p><pre class="screen">/subsystem=io/worker=default:write-attribute(name=io-threads,value=10)</pre><pre class="screen">reload</pre><h3><a id="creating_a_new_worker"/>Creating a New Worker</h3><p>
				To create a new worker:
			</p><pre class="screen">/subsystem=io/worker=newWorker:add</pre><h3><a id="deleting_a_worker"/>Deleting a Worker</h3><p>
				To delete a worker:
			</p><pre class="screen">/subsystem=io/worker=newWorker:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring workers, please see the <a class="link" href="reference_material.html#io_attributes" title="IO Subsystem Attributes">IO Subsystem Attributes</a> section.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="io_configure_buffer_pool"/>Configuring a Buffer Pool</h1></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					IO buffer pools are deprecated in JBoss EAP 7.2. While they are still set as the default in the current release, they will be replaced by <a class="link" href="configuring_the_web_server_undertow.html#configure_undertow_buffer_pools" title="Configuring Byte Buffer Pools">Undertow byte buffer pools</a> in a future release.
				</p></div><p>
				Buffer Pools are pooled NIO buffer instances. Changing the buffer size has a big impact on application performance. For most servers, the ideal size is usually 16k.
			</p><h3><a id="updating_an_existing_buffer_pool"/>Updating an Existing Buffer Pool</h3><p>
				To update an existing buffer pool:
			</p><pre class="screen">/subsystem=io/buffer-pool=default:write-attribute(name=direct-buffers,value=true)</pre><pre class="screen">reload</pre><h3><a id="creating_a_buffer_pool"/>Creating a Buffer Pool</h3><p>
				To create a new buffer pool:
			</p><pre class="screen">/subsystem=io/buffer-pool=newBuffer:add</pre><h3><a id="deleting_a_buffer_pool"/>Deleting a Buffer Pool</h3><p>
				To delete a buffer pool:
			</p><pre class="screen">/subsystem=io/buffer-pool=newBuffer:remove</pre><pre class="screen">reload</pre><p>
				For a full list of the attributes available for configuring buffer pools, please see the <a class="link" href="reference_material.html#io_attributes" title="IO Subsystem Attributes">IO Subsystem Attributes</a> section.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="tuning_io_subsystem"/>Tuning the IO Subsystem</h1></div></div></div><p>
				For tips on monitoring and optimizing performance for the <code class="literal">io</code> subsystem, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/performance_tuning_guide/#io_tuning">IO Subsystem Tuning</a> section of the <span class="emphasis"><em>Performance Tuning Guide</em></span>.
			</p></div></div></body></html>