<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 6. JBoss EAP Class Loading</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="overview_of_class_loading_and_modules"/>Chapter 6. JBoss EAP Class Loading</h1></div></div></div><p>
			JBoss EAP uses a modular class loading system for controlling the class paths of deployed applications. This system provides more flexibility and control than the traditional system of hierarchical class loaders. Developers have fine-grained control of the classes available to their applications, and can configure a deployment to ignore classes provided by the application server in favor of their own.
		</p><p>
			The modular class loader separates all Java classes into logical groups called modules. Each module can define dependencies on other modules in order to have the classes from that module added to its own class path. Because each deployed JAR and WAR file is treated as a module, developers can control the contents of their application’s class path by adding module configuration to their application.
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="modules"/>Modules</h1></div></div></div><p>
				A module is a logical grouping of classes used for class loading and dependency management. JBoss EAP identifies two different types of modules: <span class="emphasis"><em>static</em></span> and <span class="emphasis"><em>dynamic</em></span>. The main difference between the two is how they are packaged.
			</p><h3><a id="static_modules"/>Static Modules</h3><p>
				Static modules are defined in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code> directory of the application server. Each module exists as a subdirectory, for example, <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/com/mysql/</code>. Each module directory then contains a slot subdirectory, which defaults to <code class="literal">main</code> and contains the <code class="literal">module.xml</code> configuration file and any required JAR files. All the application server-provided APIs are provided as static modules, including the Java EE APIs as well as other APIs.
			</p><div class="title"><strong>Example: MySQL JDBC Driver <code class="literal">module.xml</code> File</strong></div><p>
					
</p><pre class="programlisting">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.mysql"&gt;
  &lt;resources&gt;
    &lt;resource-root path="mysql-connector-java-8.0.12.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><p>

				</p><p>
				The module name, <code class="literal">com.mysql</code>, must match the directory structure for the module, excluding the slot name, <code class="literal">main</code>.
			</p><p>
				Creating custom static modules can be useful if many applications are deployed on the same server that use the same third-party libraries. Instead of bundling those libraries with each application, a module containing these libraries can be created and installed by an administrator. The applications can then declare an explicit dependency on the custom static modules.
			</p><p>
				The modules provided in JBoss EAP distributions are located in the <code class="literal">system</code> directory within the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules</code> directory. This keeps them separate from any modules provided by third parties. Any Red Hat provided products that layer on top of JBoss EAP also install their modules within the <code class="literal">system</code> directory.
			</p><p>
				Users must ensure that custom modules are installed into the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules</code> directory, using one directory per module. This ensures that custom versions of modules that already exist in the <code class="literal">system</code> directory are loaded instead of the shipped versions. In this way, user-provided modules will take precedence over system modules.
			</p><p>
				If you use the <code class="literal">JBOSS_MODULEPATH</code> environment variable to change the locations in which JBoss EAP searches for modules, then the product will look for a <code class="literal">system</code> subdirectory structure within one of the locations specified. A <code class="literal">system</code> structure must exist somewhere in the locations specified with <code class="literal">JBOSS_MODULEPATH</code>.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					Starting with JBoss EAP 7.1, the use of absolute paths in the <code class="literal">resource-root path</code> element of the <code class="literal">module.xml</code> file is also supported. This way, your resource libraries can be made accessible without needing to move them to the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules</code> directory.
				</p><div class="title"><strong>Example: Absolute Path in the <code class="literal">module.xml</code> File</strong></div><p>
						
</p><pre class="programlisting">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="oracle.jdbc"&gt;
    &lt;resources&gt;
        &lt;resource-root path="/home/redhat/test.jar"/&gt;
    &lt;/resources&gt;
&lt;/module&gt;</pre><p>

					</p></div><h3><a id="dynamic_modules"/>Dynamic Modules</h3><p>
				Dynamic modules are created and loaded by the application server for each JAR or WAR deployment, or for each subdeployment in an EAR. The name of a dynamic module is derived from the name of the deployed archive. Because deployments are loaded as modules, they can configure dependencies and be used as dependencies by other deployments.
			</p><p>
				Modules are only loaded when required. This usually only occurs when an application is deployed that has explicit or implicit dependencies.
			</p><h3><a id="predefined_modules"/>Predefined Modules</h3><p>
				Starting with JBoss EAP 7.2, a set of predefined modules is available to you when you use the default module loader. The special module, <code class="literal">org.jboss.modules</code>, which includes all of the JBoss Modules API, is always available and is provided by JBoss Modules. The standard Java Platform Module System (JPMS) modules, which are provided in Java 9 and later, are also available by their standard names. When using JDK 8, the JDK 9 modules are emulated by JBoss Modules.
			</p><p>
				For a list of platform modules available on Java 9 or later, see the appropriate JDK documentation.
			</p><p>
				For the list the platform modules provided for Java 8, see <a class="link" href="reference_material.html#platform_modules_provided_for_java_8" title="Platform Modules Provided for Java 8">Platform Modules Provided for Java 8</a>.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="module_dependencies"/>Module Dependencies</h1></div></div></div><p>
				A module dependency is a declaration that one module requires the classes of one or more other modules in order to function. When JBoss EAP loads a module, the modular class loader parses the dependencies of that module and adds the classes from each dependency to its class path. If a specified dependency cannot be found, the module will fail to load.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					See the <a class="link" href="overview_of_class_loading_and_modules.html#modules" title="Modules">Modules</a> section for complete details about modules and the modular class loading system.
				</p></div><p>
				Deployed applications, such as a JAR or WAR, are loaded as dynamic modules and make use of dependencies to access the APIs provided by JBoss EAP.
			</p><p>
				There are two types of dependencies: <span class="emphasis"><em>explicit</em></span> and <span class="emphasis"><em>implicit</em></span>.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Explicit Dependencies</span></dt><dd>
							Explicit dependencies are declared by the developer in a configuration file. A static module can declare dependencies in its <code class="literal">module.xml</code> file. A dynamic module can declare dependencies in the deployment’s <code class="literal">MANIFEST.MF</code> or <code class="literal">jboss-deployment-structure.xml</code> deployment descriptor.
						</dd><dt><span class="term">Implicit Dependencies </span></dt><dd><p class="simpara">
							Implicit dependencies are added automatically by JBoss EAP when certain conditions or meta-data are found in a deployment. The Java EE APIs supplied with JBoss EAP are examples of modules that are added by detection of implicit dependencies in deployments.
						</p><p class="simpara">
							Deployments can also be configured to exclude specific implicit dependencies by using the <code class="literal">jboss-deployment-structure.xml</code> deployment descriptor file. This can be useful when an application bundles a specific version of a library that JBoss EAP will attempt to add as an implicit dependency.
						</p></dd></dl></div><h3><a id="optional_dependencies"/>Optional Dependencies</h3><p>
				Explicit dependencies can be specified as optional. Failure to load an optional dependency will not cause a module to fail to load. However, if the dependency becomes available later it will <span class="emphasis"><em>not</em></span> be added to the module’s class path. Dependencies must be available when the module is loaded.
			</p><h3><a id="export_a_dependency"/>Export a Dependency</h3><p>
				A module’s class path contains only its own classes and that of its immediate dependencies. A module is not able to access the classes of the dependencies of one of its dependencies. However, a module can specify that an explicit dependency is exported. An exported dependency is provided to any module that depends on the module that exports it.
			</p><p>
				For example, Module <span class="emphasis"><em>A</em></span> depends on Module <span class="emphasis"><em>B</em></span>, and Module <span class="emphasis"><em>B</em></span> depends on Module <span class="emphasis"><em>C</em></span>. Module <span class="emphasis"><em>A</em></span> can access the classes of Module <span class="emphasis"><em>B</em></span>, and Module <span class="emphasis"><em>B</em></span> can access the classes of Module <span class="emphasis"><em>C</em></span>. Module <span class="emphasis"><em>A</em></span> cannot access the classes of Module <span class="emphasis"><em>C</em></span> unless:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Module <span class="emphasis"><em>A</em></span> declares an explicit dependency on Module <span class="emphasis"><em>C</em></span>, or
					</li><li class="listitem">
						Module <span class="emphasis"><em>B</em></span> exports its dependency on Module <span class="emphasis"><em>C</em></span>.
					</li></ul></div><h3><a id="global_modules"/>Global Modules</h3><p>
				A global module is a module that JBoss EAP provides as a dependency to every application. Any module can be made global by adding it to JBoss EAP’s list of global modules. It does not require changes to the module.
			</p><p>
				See the <a class="link" href="overview_of_class_loading_and_modules.html#add_a_global_module" title="Define Global Modules">Define Global Modules</a> section for details.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="create_a_custom_module"/>Create a Custom Module</h1></div></div></div><p>
				Custom static modules can be added to make resources available for deployments running on JBoss EAP. You can create the module <a class="link" href="overview_of_class_loading_and_modules.html#create_module_manually" title="Create a Custom Module Manually">manually</a> or by <a class="link" href="overview_of_class_loading_and_modules.html#create_module_cli" title="Create a Custom Module Using the Management CLI">using the management CLI</a>.
			</p><p>
				Once you create the module, you must <a class="link" href="overview_of_class_loading_and_modules.html#create_module_add_dependency" title="Add the Module as a Dependency">add the module as a dependency</a> if its resources need to be made available to applications.
			</p><h3><a id="create_module_manually"/>Create a Custom Module Manually</h3><p>
				You can create a custom module manually using the following steps.
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Create the appropriate directory structure in the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code> directory.
					</p><div class="title"><strong>Example: Create MySQL JDBC Driver Directory Structure</strong></div><p>
							
</p><pre class="screen">$ cd <span class="emphasis"><em>EAP_HOME</em></span>/modules/
$ mkdir -p com/mysql/main</pre><p>

						</p></li><li class="listitem"><p class="simpara">
						Copy the JAR files or other necessary resources to the <code class="literal">main/</code> subdirectory.
					</p><div class="title"><strong>Example: Copy MySQL JDBC Driver JAR</strong></div><p>
							
</p><pre class="screen">$ cp <span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar <span class="emphasis"><em>EAP_HOME</em></span>/modules/com/mysql/main/</pre><p>

						</p></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">module.xml</code> file in the <code class="literal">main/</code> subdirectory, specifying the appropriate resources and dependencies in the file.
					</p><div class="title"><strong>Example: MySQL JDBC Driver <code class="literal">module.xml</code> File</strong></div><p>
							
</p><pre class="programlisting">&lt;?xml version="1.0" ?&gt;
&lt;module xmlns="urn:jboss:module:1.1" name="com.mysql"&gt;
  &lt;resources&gt;
    &lt;resource-root path="mysql-connector-java-8.0.12.jar"/&gt;
  &lt;/resources&gt;
  &lt;dependencies&gt;
    &lt;module name="javax.api"/&gt;
    &lt;module name="javax.transaction.api"/&gt;
  &lt;/dependencies&gt;
&lt;/module&gt;</pre><p>

						</p></li></ol></div><h3><a id="create_module_cli"/>Create a Custom Module Using the Management CLI</h3><p>
				You can create a custom module using the <code class="literal">module add</code> management CLI command.
			</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
					Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="overview_of_class_loading_and_modules.html#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="overview_of_class_loading_and_modules.html#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
				</p><p>
					Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Start the JBoss EAP server.
					</li><li class="listitem"><p class="simpara">
						Launch the management CLI.
					</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh</pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">module add</code> management CLI command to add the new core module.
					</p><pre class="screen">module add --name=<span class="emphasis"><em>MODULE_NAME</em></span> --resources=<span class="emphasis"><em>PATH_TO_RESOURCE</em></span> --dependencies=<span class="emphasis"><em>DEPENDENCIES</em></span></pre><div class="title"><strong>Example: Create a MySQL Module</strong></div><p>
							
</p><pre class="screen">module add --name=com.mysql --resources=<span class="emphasis"><em>/path/to</em></span>/mysql-connector-java-8.0.12.jar --dependencies=javax.api,javax.transaction.api</pre><p>

						</p><p class="simpara">
						See <a class="link" href="reference_material.html#module_add_arguments" title="Module Command Arguments">Module Command Arguments</a> for the available arguments to customize this command, such as providing your own <code class="literal">module.xml</code> file, using an external module directory, or specifying an alternative slot for the module. You can also execute <code class="literal">module --help</code> for more details on using this command to add and remove modules.
					</p></li></ol></div><h3><a id="create_module_add_dependency"/>Add the Module as a Dependency</h3><p>
				In order for your application to be able to access this module’s resources, you must add the module as a dependency.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						See the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/development_guide/#add_an_explicit_module_dependency_to_a_deployment">Add an Explicit Module Dependency to a Deployment</a> section of the JBoss EAP <span class="emphasis"><em>Development Guide</em></span> for adding application-specific dependencies using deployment descriptors.
					</li></ul></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						See the <a class="link" href="overview_of_class_loading_and_modules.html#add_a_global_module" title="Define Global Modules">Define Global Modules</a> section for instructions on adding modules as dependencies to all applications.
					</li></ul></div><p>
				As an example, the following steps add a JAR file containing several properties files as a module and define a global module, so that an application can then load these properties.
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Add the JAR file as a core module.
					</p><pre class="screen">module add --name=myprops --resources=<span class="emphasis"><em>/path/to</em></span>/properties.jar</pre></li><li class="listitem"><p class="simpara">
						Define this module as a global module so that it is made available to all deployments.
					</p><pre class="screen">/subsystem=ee:list-add(name=global-modules,value={name=myprops})</pre></li><li class="listitem"><p class="simpara">
						The application can then retrieve the properties from one of the properties files contained within the JAR.
					</p><pre class="programlisting">Thread.currentThread().getContextClassLoader().getResource("my.properties");</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="remove_a_custom_module"/>Remove a Custom Module</h1></div></div></div><p>
				Custom static modules can be removed <a class="link" href="overview_of_class_loading_and_modules.html#remove_module_manually" title="Remove a Custom Module Manually">manually</a> or by <a class="link" href="overview_of_class_loading_and_modules.html#remove_module_cli" title="Remove a Custom Module Using the Management CLI">using the management CLI</a>.
			</p><h3><a id="remove_module_manually"/>Remove a Custom Module Manually</h3><p>
				Before manually removing a module, ensure that it is not required by deployed applications or elsewhere in the server configuration, such as by a datasource.
			</p><p>
				To remove a custom module, remove the module’s directory under <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/</code>, which includes its <code class="literal">module.xml</code> file and associated JAR files or other resources. For example, remove the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules/com/mysql/main/</code> directory to remove a custom MySQL JDBC driver module in the <code class="literal">main</code> slot.
			</p><h3><a id="remove_module_cli"/>Remove a Custom Module Using the Management CLI</h3><p>
				You can remove a custom module using the <code class="literal">module remove</code> management CLI command.
			</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
					Using the <code class="literal">module</code> management CLI command to add and remove modules is provided as Technology Preview only. This command is not appropriate for use in a managed domain or when connecting to the management CLI remotely. Modules should be <a class="link" href="overview_of_class_loading_and_modules.html#create_module_manually" title="Create a Custom Module Manually">added</a> and <a class="link" href="overview_of_class_loading_and_modules.html#remove_module_manually" title="Remove a Custom Module Manually">removed</a> manually in a production environment.
				</p><p>
					Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend to use them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
				</p><p>
					See <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a> on the Red Hat Customer Portal for information about the support scope for Technology Preview features.
				</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Start the JBoss EAP server.
					</li><li class="listitem"><p class="simpara">
						Launch the management CLI.
					</p><pre class="screen">$ <span class="emphasis"><em>EAP_HOME</em></span>/bin/jboss-cli.sh</pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">module remove</code> management CLI command to remove the custom module.
					</p><pre class="screen">module remove --name=<span class="emphasis"><em>MODULE_NAME</em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								Use the <code class="literal">--slot</code> argument if the module to remove is in a slot other than <code class="literal">main</code>.
							</li></ul></div><div class="title"><strong>Example: Remove a MySQL Module</strong></div><p>
							
</p><pre class="screen">module remove --name=com.mysql</pre><p>

						</p></li></ol></div><p>
				Execute <code class="literal">module --help</code> for more details on using this command to add and remove modules.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="add_a_global_module"/>Define Global Modules</h1></div></div></div><p>
				A list of global modules can be defined for JBoss EAP, which will add the modules as dependencies to all deployments.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					You must know the name of the modules that are to be configured as global modules. For the complete listing of the included modules and whether they are supported, see <a class="link" href="https://access.redhat.com/articles/2158031">Red Hat JBoss Enterprise Application Platform 7 Included Modules</a> on the Red Hat Customer Portal. See the <a class="link" href="overview_of_class_loading_and_modules.html#dynamic_module_naming" title="Dynamic Module Naming Conventions">Dynamic Module Naming</a> section for naming conventions for modules in deployments.
				</p></div><p>
				Use the following management CLI command to define the list of global modules.
			</p><pre class="screen">/subsystem=ee:write-attribute(name=global-modules,value=[{name=<span class="emphasis"><em>MODULE_NAME_1</em></span>},{name=<span class="emphasis"><em>MODULE_NAME_2</em></span>}]</pre><p>
				Use the following management CLI command to add a single module to the list of existing global modules.
			</p><pre class="screen">/subsystem=ee:list-add(name=global-modules,value={name=<span class="emphasis"><em>MODULE_NAME</em></span>})</pre><p>
				Global modules can also be added and removed using the management console by navigating to the <span class="strong"><strong>EE</strong></span> subsystem from the <span class="strong"><strong>Configuration</strong></span> tab and selecting the <span class="strong"><strong>Global Modules</strong></span> section.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configure_subdeployment_isolation"/>Configure Subdeployment Isolation</h1></div></div></div><p>
				Each subdeployment in an Enterprise Archive (EAR) is a dynamic module with its own class loader. Subdeployments always have an implicit dependency on the parent module, which gives them access to classes in <code class="literal"><span class="emphasis"><em>EAR</em></span>/lib</code>. By default, a subdeployment can access the resources of other subdeployments within that EAR.
			</p><p>
				If you do not want a subdeployment to be allowed to access classes belonging to other subdeployments, then strict subdeployment isolation can be enabled in JBoss EAP. This setting will affect all deployments.
			</p><h3><a id="enable_subdeployment_module_isolation_for_all_deployments"/>Enable Subdeployment Module Isolation for All Deployments</h3><p>
				Subdeployment isolation can be enabled or disabled using the management console or the management CLI from the <code class="literal">ee</code> subsystem. By default, subdeployment isolation is set to false, which allows the subdeployments to access resources of other subdeployments within an EAR deployment.
			</p><p>
				Use the following management CLI to enable EAR subdeployment isolation.
			</p><pre class="screen">/subsystem=ee:write-attribute(name=ear-subdeployments-isolated,value=true)</pre><p>
				Subdeployments in an EAR will no longer be able to access resources from other subdeployments.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="define_an_external_jboss_eap_module_directory"/>Define an External JBoss EAP Module Directory</h1></div></div></div><p>
				The default directory for JBoss EAP modules is <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/modules</code>. You can specify a different directory for JBoss EAP modules using the <code class="literal">JBOSS_MODULEPATH</code> variable. Follow the below steps to set this variable in the JBoss EAP startup configuration file.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					You can also set <code class="literal">JBOSS_MODULEPATH</code> as an environment variable instead of setting this in the JBoss EAP startup configuration files.
				</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Edit the startup configuration file.
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								When running as a standalone server, edit the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/standalone.conf</code> file, or <code class="literal">standalone.conf.bat</code> for Windows Server.
							</li><li class="listitem">
								When running in a managed domain, edit the <code class="literal"><span class="emphasis"><em>EAP_HOME</em></span>/bin/domain.conf</code> file, or <code class="literal">domain.conf.bat</code> for Windows Server.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Set the <code class="literal">JBOSS_MODULEPATH</code> variable, for example:
					</p><pre class="screen">JBOSS_MODULEPATH="<span class="emphasis"><em>/path/to</em></span>/modules/directory/"</pre><p class="simpara">
						To specify a list of directories use a colon (<code class="literal">:</code>) to delimit the list of directories.
					</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
							For Windows Server, use the following syntax to set the <code class="literal">JBOSS_MODULEPATH</code> variable:
						</p><pre class="screen">set "JBOSS_MODULEPATH <span class="emphasis"><em>/path/to</em></span>/modules/directory/"</pre><p>
							To specify a list of directories use a semicolon (<code class="literal">;</code>) to delimit the list of directories.
						</p></div></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="dynamic_module_naming"/>Dynamic Module Naming Conventions</h1></div></div></div><p>
				JBoss EAP loads all deployments as modules, which are named according to the following conventions.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						Deployments of WAR and JAR files are named using the following format:
					</p><pre class="screen">deployment.<span class="emphasis"><em>DEPLOYMENT_NAME</em></span></pre><p class="simpara">
						For example, <code class="literal">inventory.war</code> and <code class="literal">store.jar</code> will have the module names of <code class="literal">deployment.inventory.war</code> and <code class="literal">deployment.store.jar</code> respectively.
					</p></li><li class="listitem"><p class="simpara">
						Subdeployments within an Enterprise Archive (EAR) are named using the following format:
					</p><pre class="screen">deployment.<span class="emphasis"><em>EAR_NAME</em></span>.<span class="emphasis"><em>SUBDEPLOYMENT_NAME</em></span></pre><p class="simpara">
						For example, the subdeployment of <code class="literal">reports.war</code> within the enterprise archive <code class="literal">accounts.ear</code> will have the module name of <code class="literal">deployment.accounts.ear.reports.war</code>.
					</p></li></ul></div></div></div></body></html>