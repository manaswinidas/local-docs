<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 7. Configuring a Security Domain to use a Security Mapping</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="configuring_a_security_domain_to_use_a_security_mapping"/>Chapter 7. Configuring a Security Domain to use a Security Mapping</h1></div></div></div><p>
			Adding a security mapping to a security domain allows for authentication and authorization information to be combined after the authentication or authorization happens, but before the information is passed to the application. For more information on security mapping, please see the <a class="link" href="/documentation/en/red-hat-jboss-enterprise-application-platform/version-6.4/security-architecture#security_mapping">Security Mapping section of the Red Hat JBoss Enterprise Application Platform 6 Security Architecture guide</a>.
		</p><p>
			To add a security mapping to an existing security domain, a <span class="emphasis"><em>code</em></span>, <span class="emphasis"><em>type</em></span>, and relavant module options must be configured. The <span class="emphasis"><em>code</em></span> field is the short name (e.g. <span class="emphasis"><em>SimpleRoles</em></span>, <span class="emphasis"><em>PropertiesRoles</em></span>, <span class="emphasis"><em>DatabaseRoles</em></span>) or class name of the security mapping module. The <span class="emphasis"><em>type</em></span> field refers to the type of mapping this module performs, and the allowed values are <span class="emphasis"><em>principal</em></span>, <span class="emphasis"><em>role</em></span>, <span class="emphasis"><em>attribute</em></span>, or <span class="emphasis"><em>credential</em></span>. For a full list of the available security mapping modules and their module options, refer to the <a class="link" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html/Security_Guide/Included_Security_Mapping_Modules.html">Security Mapping Modules section of the Red Hat JBoss Enterprise Application Platform 6 Security Guide</a>.
		</p><div class="title"><strong>Example CLI Commands for Adding a SimpleRoles Security Mapping to an Existing Security Domain</strong></div><p>
				
</p><pre class="programlisting">/subsystem=security/security-domain=sampleapp/mapping=classic:add</pre><p>

			</p><pre class="programlisting">/subsystem=security/security-domain=sampleapp/mapping=classic/mapping-module=SimpleRoles:add( \
code=SimpleRoles, \
type=role, \
module-options=[("user1"=&gt;"specialRole")])</pre><pre class="programlisting">reload</pre><div class="title"><strong>Resulting XML</strong></div><p>
				
</p><pre class="programlisting">&lt;security-domain name="sampleapp"&gt;
  &lt;authentication&gt;
  ...
  &lt;/authentication&gt;
  &lt;mapping&gt;
    &lt;mapping-module code="SimpleRoles" type="role"&gt;
      &lt;module-option name="user1" value="specialRole"/&gt;
    &lt;/mapping-module&gt;
  &lt;/mapping&gt;
&lt;/security-domain&gt;</pre><p>

			</p></div></body></html>