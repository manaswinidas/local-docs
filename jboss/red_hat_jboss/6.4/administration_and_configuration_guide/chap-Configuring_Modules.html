<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 7. Configuring Modules</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Configuring_Modules">
      ⁠</a>Chapter 7. Configuring Modules</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Introduction1">
      ⁠</a>7.1. Introduction</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Modules">
      ⁠</a>7.1.1. Modules</h2></div></div></div><div class="para">
		A Module is a logical grouping of classes used for class loading and dependency management. JBoss EAP 6 identifies two different types of modules, sometimes called static and dynamic modules. However the only difference between the two is how they are packaged.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Static Modules</span></dt><dd><div class="para">
					Static Modules are predefined in the <code class="filename"><em class="replaceable">EAP_HOME</em>/modules/</code> directory of the application server. Each sub-directory represents one module and defines a <code class="filename">main/</code> subdirectory that contains a configuration file (<code class="filename">module.xml</code>) and any required JAR files. The name of the module is defined in the <code class="filename">module.xml</code> file. All the application server provided APIs are provided as static modules, including the Java EE APIs as well as other APIs such as JBoss Logging.
				</div><div class="example"><a id="idm139978465157184">
      ⁠</a><p class="title"><strong>Example 7.1. Example module.xml file</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:module:1.0"</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"com.mysql"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;resources&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;resource-root</span><span xmlns="" class="perl_Others"> path=</span><span xmlns="" class="perl_String">"mysql-connector-java-5.1.15.jar"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/resources&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"javax.api"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"javax.transaction.api"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/module&gt;</span>
</pre><div class="para">
						The module name, <code class="code">com.mysql</code>, should match the directory structure for the module, excluding the <code class="filename">main/</code> subdirectory name.
					</div></div></div><div class="para">
					The modules provided in JBoss EAP distributions are located in a <code class="filename">system</code> directory within the <code class="filename"><em class="replaceable">EAP_HOME</em>/modules</code> directory. This keeps them separate from any modules provided by third parties.
				</div><div class="para">
					Any Red Hat provided layered products that layer on top of JBoss EAP 6.1 or later will also install their modules within the <code class="filename">system</code> directory.
				</div><div class="para">
					Creating custom static modules can be useful if many applications are deployed on the same server that use the same third-party libraries. Instead of bundling those libraries with each application, a module containing these libraries can be created and installed by the JBoss administrator. The applications can then declare an explicit dependency on the custom static modules.
				</div><div class="para">
					Users must ensure that custom modules are installed into the <code class="filename"><em class="replaceable">EAP_HOME</em>/modules</code> directory, using a one directory per module layout. This ensures that custom versions of modules that already exist in the <code class="filename">system</code> directory are loaded instead of the shipped versions. In this way, user provided modules will take precedence over system modules.
				</div><div class="para">
					If you use the <code class="varname">JBOSS_MODULEPATH</code> environment variable to change the locations in which JBoss EAP searches for modules, then the product will look for a <code class="filename">system</code> subdirectory structure within one of the locations specified. A <code class="filename">system</code> structure must exist somewhere in the locations specified with <code class="varname">JBOSS_MODULEPATH</code>.
				</div></dd><dt><span class="term">Dynamic Modules</span></dt><dd><div class="para">
					Dynamic Modules are created and loaded by the application server for each JAR or WAR deployment (or subdeployment in an EAR). The name of a dynamic module is derived from the name of the deployed archive. Because deployments are loaded as modules, they can configure dependencies and be used as dependencies by other deployments.
				</div></dd></dl></div><div class="para">
		Modules are only loaded when required. This usually only occurs when an application is deployed that has explicit or implicit dependencies.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4360-766898+%5BLatest%5D&amp;comment=Title%3A+Modules%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4360-766898+05+Aug+2015+14%3A20+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Global_Modules">
      ⁠</a>7.1.2. Global Modules</h2></div></div></div><div class="para">
		A global module is a module that JBoss EAP 6 provides as a dependency to every application. Any module can be made global by adding it to the application server's list of global modules. It does not require changes to the module.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5950-591719+%5BLatest%5D&amp;comment=Title%3A+Global+Modules%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5950-591719+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Module_Dependencies">
      ⁠</a>7.1.3. Module Dependencies</h2></div></div></div><div class="para">
		A module dependency is a declaration that one module requires the classes of another module in order to function. Modules can declare dependencies on any number of other modules. When the application server loads a module, the modular class loader parses the dependencies of that module and adds the classes from each dependency to its class path. If a specified dependency cannot be found, the module will fail to load.
	</div><div class="para">
		Deployed applications (JAR and WAR) are loaded as dynamic modules and make use of dependencies to access the APIs provided by JBoss EAP 6.
	</div><div class="para">
		There are two types of dependencies: explicit and implicit.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Explicit Dependencies</div>
			Explicit dependencies are declared by the developer in the configuration file. Static modules can declare dependencies in the <code class="filename">module.xml</code> file. Dynamic modules can have dependencies declared in the <code class="filename">MANIFEST.MF</code> or <code class="filename">jboss-deployment-structure.xml</code> deployment descriptors of the deployment.
		</div><div class="para">
		Explicit dependencies can be specified as optional. Failure to load an optional dependency will not cause a module to fail to load. However if the dependency becomes available later it will NOT be added to the module's class path. Dependencies must be available when the module is loaded.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Implicit Dependencies</div>
			Implicit dependencies are added automatically by the application server when certain conditions or meta-data are found in a deployment. The Java EE 6 APIs supplied with JBoss EAP 6 are examples of modules that are added by detection of implicit dependencies in deployments.
		</div><div class="para">
		Deployments can also be configured to exclude specific implicit dependencies. This is done with the <code class="filename">jboss-deployment-structure.xml</code> deployment descriptor file. This is commonly done when an application bundles a specific version of a library that the application server will attempt to add as an implicit dependency.
	</div><div class="para">
		A module's class path contains only its own classes and that of its immediate dependencies. A module is not able to access the classes of the dependencies of one of its dependencies. However a module can specify that an explicit dependency is exported. An exported dependency is provided to any module that depends on the module that exports it.
	</div><div class="example"><a id="idm139978536369360">
      ⁠</a><p class="title"><strong>Example 7.2. Module dependencies</strong></p><div class="example-contents"><div class="para">
			Module A depends on Module B and Module B depends on Module C. Module A can access the classes of Module B, and Module B can access the classes of Module C. Module A cannot access the classes of Module C unless:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					Module A declares an explicit dependency on Module C, or
				</div></li><li class="listitem"><div class="para">
					Module B exports its dependency on Module C.
				</div></li></ul></div></div></div><div class="para">
		See the <em class="citetitle">Class Loading and Modules</em> chapter of the <em class="citetitle">Development Guide</em> for details on using the <code class="filename">jboss-deployment-structure.xml</code> deployment descriptor.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5825-767307+%5BLatest%5D&amp;comment=Title%3A+Module+Dependencies%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5825-767307+12+Aug+2015+21%3A31+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Subdeployment_Class_Loader_Isolation">
      ⁠</a>7.1.4. Subdeployment Class Loader Isolation</h2></div></div></div><div class="para">
		Each subdeployment in an Enterprise Archive (EAR) is a dynamic module with its own class loader. By default a subdeployment can access the resources of other subdeployments.
	</div><div class="para">
		If a subdeployment is not to be allowed to access the resources of other subdeployments, strict subdeployment isolation can be enabled.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4565-765768+%5BLatest%5D&amp;comment=Title%3A+Subdeployment+Class+Loader+Isolation%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4565-765768+22+Jul+2015+22%3A53+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Disable_Sub-Deployment_Module_Isolation_for_All_Deployments1">
      ⁠</a>7.2. Disable Subdeployment Module Isolation for All Deployments</h1></div></div></div><div class="para">
		This task shows server administrators how to disable Subdeployment Module Isolation on the application server. This affects all deployments.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			This task requires you to edit the XML configuration files of the server. The server must be halted before doing this. This is temporary as the final release administration tools will support this type of configuration.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Stop the server</strong></p><div class="para">
				Halt the JBoss EAP 6 server.
			</div></li><li class="step"><p class="title"><strong>Open the server configuration file</strong></p><div class="para">
				Open the server configuration file in a text editor.
			</div><div class="para">
				This file will be different for a managed domain or standalone server. In addition, non-default locations and file names may be used. The default configuration files are <code class="filename">domain/configuration/domain.xml</code> and <code class="filename">standalone/configuration/standalone.xml</code> for managed domains and standalone servers respectively.
			</div></li><li class="step"><p class="title"><strong>Locate the EE Subsystem Configuration</strong></p><div class="para">
				Locate the EE Subsystem configuration element in the configuration file. The <code class="code">&lt;profile&gt;</code> element of the configuration file contains several subsystem elements. The EE Subsystem element has the namespace of <code class="code">urn:jboss:domain:ee:1.2</code>.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;profile&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   ...
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:ee:1.2"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   ...</pre><div class="para">
				The default configuration has a single self-closing tag but a custom configuration may have separate open and closing tags (possibly with other elements within) like this:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:ee:1.2"</span> <span xmlns="" class="perl_Keyword">&gt;&lt;/subsystem&gt;</span></pre></li><li class="step"><p class="title"><strong>Replace self-closing tags if necessary</strong></p><div class="para">
				If the EE Subsystem element is a single self-closing tag then replace with appropriate opening and closing tags like this:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:ee:1.2"</span> <span xmlns="" class="perl_Keyword">&gt;&lt;/subsystem&gt;</span></pre></li><li class="step"><p class="title"><strong>Add ear-subdeployments-isolated element</strong></p><div class="para">
				Add the <code class="code">ear-subdeployments-isolated</code> element as a child of the EE Subsystem element and add the content of <code class="literal">false</code> like this:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:ee:1.2"</span> <span xmlns="" class="perl_Keyword">&gt;&lt;ear-subdeployments-isolated&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/ear-subdeployments-isolated&gt;&lt;/subsystem&gt;</span></pre></li><li class="step"><p class="title"><strong>Start the server</strong></p><div class="para">
				Relaunch the JBoss EAP 6 server to start it running with the new configuration.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			The server will now be running with Subdeployment Module Isolation disabled for all deployments.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4567-713846+%5BLatest%5D&amp;comment=Title%3A+Disable+Subdeployment+Module+Isolation+for+All+Deployments%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4567-713846+29+Sep+2014+08%3A37+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Add_a_module_to_all_deployments">
      ⁠</a>7.3. Add a Module to All Deployments</h1></div></div></div><div class="para">
		This task shows how JBoss administrators can define a list of global modules.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol><li class="listitem"><div class="para">
				You must know the name of the modules that are to be configured as global modules. Refer to <a class="xref" href="chap-Configuring_Modules.html#Included_Modules1">Section 7.6.1, “Included Modules”</a> for the list of static modules included with JBoss EAP 6. If the module is in another deployment, refer to <a class="xref" href="chap-Configuring_Modules.html#Dynamic_Module_Naming1">Section 7.6.2, “Dynamic Module Naming”</a> to determine the module name.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978454024576">
      ⁠</a><p class="title"><strong>Procedure 7.1. Add a module to the list of global modules</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the management console. <a class="xref" href="chap-Management_Interfaces.html#Log_in_to_the_Management_Console">Section 3.3.2, “Log in to the Management Console”</a>
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guilabel"><strong>EE Subsystem</strong></span> panel.
			</div><ol class="substeps a"><li class="step"><div class="para">
						Select the <span class="guilabel"><strong>Configuration</strong></span> tab from the top of the console.
					</div></li><li class="step"><p class="title"><strong>Domain Mode Only</strong></p><ol class="substeps i"><li class="step"><div class="para">
								Select the appropriate profile from the drop-down box in the top left.
							</div></li></ol></li><li class="step"><div class="para">
						Expand the <span class="guimenu"><strong>Subsystems</strong></span> menu on the left of the console.
					</div></li><li class="step"><div class="para">
						Select <span class="guimenu"><strong>Container</strong></span> → <span class="guimenuitem"><strong>EE</strong></span> from the menu on the left of the console.
					</div></li></ol></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Add</strong></span> in the <span class="guilabel"><strong>Subsystem Defaults</strong></span> section. The <span class="guilabel"><strong>Create Module</strong></span> dialog appears.
			</div></li><li class="step"><div class="para">
				Type in the name of the module and optionally the module slot.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Save</strong></span> to add the new global module, or click <span class="guibutton"><strong>Cancel</strong></span> to abort.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						If you click <span class="guibutton"><strong>Save</strong></span>, the dialog will close and the specified module will be added to the list of global modules.
					</div></li><li class="listitem"><div class="para">
						If you click <span class="guibutton"><strong>Cancel</strong></span>, the dialog will close and no changes will be made.
					</div></li></ul></div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The modules added to the list of global modules will be added as dependencies to every deployment.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5951-759333+%5BLatest%5D&amp;comment=Title%3A+Add+a+Module+to+All+Deployments%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5951-759333+26+May+2015+02%3A39+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Create_a_Custom_Module">
      ⁠</a>7.4. Create a Custom Module</h1></div></div></div><div class="para">
		The following procedure describes how to create a custom module in order to make properties files and other resources available to all applications running on the JBoss EAP server.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978517797808">
      ⁠</a><p class="title"><strong>Procedure 7.2. Create a Custom Module</strong></p><ol class="1"><li class="step"><div class="para">
				Create and populate the <code class="filename">module/</code> directory structure.
			</div><ol class="substeps a"><li class="step"><div class="para">
						Create a directory structure under the <code class="filename"><em class="replaceable">EAP_HOME</em>/module</code> directory to contain the files and JARs. For example: 
<pre class="screen"><code class="command">$ cd <em class="replaceable">EAP_HOME</em>/modules/ </code>
<code class="command">$ mkdir -p myorg-conf/main/properties</code></pre>

					</div></li><li class="step"><div class="para">
						Move the properties files to the <code class="filename"><em class="replaceable">EAP_HOME</em>/modules/myorg-conf/main/properties/</code> directory you created in the previous step.
					</div></li><li class="step"><div class="para">
						Create a <code class="filename">module.xml</code> file in the <code class="filename"><em class="replaceable">EAP_HOME</em>/modules/myorg-conf/main/</code> directory containing the following XML: 
<pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:module:1.1"</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"myorg-conf"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;resources&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;resource-root</span><span xmlns="" class="perl_Others"> path=</span><span xmlns="" class="perl_String">"properties"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/resources&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/module&gt;</span></pre>

					</div></li></ol></li><li class="step"><div class="para">
				Modify the <code class="literal">ee</code> subsystem in the server configuration file. You can use the Managemet CLI or you can manually edit the file.
			</div><ul class="stepalternatives">
				<li class="step"><div class="para">
						Follow these steps to modify the server configuration file using the Management CLI.
					</div><ol class="substeps a"><li class="step"><div class="para">
								Start the server and connect to the Management CLI.
							</div><ul class="stepalternatives">
								<li class="step"><div class="para">
										For Linux, enter the following at the command line:
									</div><pre class="screen"> <em class="replaceable">EAP_HOME</em>/bin/jboss-cli.sh --connect</pre></li>
								 <li class="step"><div class="para">
										For Windows, enter the following at a command line:
									</div><pre class="screen">C:\&gt;<em class="replaceable">EAP_HOME</em>\bin\jboss-cli.bat --connect</pre></li>

							</ul><div class="para">
								You should see the following response: 
<pre class="screen">Connected to standalone controller at localhost:9999</pre>

							</div></li><li class="step"><div class="para">
								To create the <code class="code">myorg-conf</code> &lt;global-modules&gt; element in the <code class="literal">ee</code> subsystem, type the following in the command line:
							</div><pre class="screen">/subsystem=ee:write-attribute(name=global-modules, value=[{"name"=&gt;"myorg-conf","slot"=&gt;"main"}])</pre><div class="para">
								You should see the following result:
							</div><pre class="screen">{"outcome" =&gt; "success"}</pre></li></ol></li>
				 <li class="step"><div class="para">
						Follow these steps if you prefer to manually edit the server configuration file.
					</div><ol class="substeps a"><li class="step"><div class="para">
								Stop the server and open the server configuration file in a text editor. If you are running a standalone server, this is the <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/configuration/standalone.xml</code> file, or the <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/configuration/domain.xml</code> file if you are running a managed domain.
							</div></li><li class="step"><div class="para">
								Find the <code class="literal">ee</code> subsystem and add the global module for <code class="code">myorg-conf</code>. The following is an example of the <code class="literal">ee</code> subsystem element, modified to include the <code class="code">myorg-conf</code> element:
							</div><div class="example"><a id="idm139978541875872">
      ⁠</a><p class="title"><strong>Example 7.3. <code class="literal">myorg-conf</code> element</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:ee:1.0"</span> <span xmlns="" class="perl_Keyword">&gt;</span>            
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;global-modules&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"myorg-conf"</span><span xmlns="" class="perl_Others"> slot=</span><span xmlns="" class="perl_String">"main"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>            
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/global-modules&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/subsystem&gt;</span></pre></div></div></li></ol></li>

			</ul></li><li class="step"><div class="para">
				Assuming you copied a file named <code class="filename">my.properties</code> into the correct module location, you are now able to load properties files using code similar to the following:
			</div><div class="example"><a id="idm139978531601728">
      ⁠</a><p class="title"><strong>Example 7.4. Load properties file</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>Thread.<span xmlns="" class="perl_Function">currentThread</span>().<span xmlns="" class="perl_Function">getContextClassLoader</span>().<span xmlns="" class="perl_Function">getResource</span>(<span xmlns="" class="perl_String">"my.properties"</span>);</pre></div></div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+11489-763135+%5BLatest%5D&amp;comment=Title%3A+Create+a+Custom+Module%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=11489-763135+26+Jun+2015+15%3A17+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Define_an_External_JBoss_Module_Directory">
      ⁠</a>7.5. Define an External JBoss Module Directory</h1></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			By default, JBoss EAP looks for modules in the <code class="filename"><em class="replaceable">EAP_HOME</em>/modules/</code> directory. You can direct JBoss EAP to look in one or more external directories by defining a <code class="envar">JBOSS_MODULEPATH</code> environment variable or by setting the variable in the startup configuration file. This topic describes both methods.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978534600608">
      ⁠</a><p class="title"><strong>Procedure 7.3. Set the JBOSS_MODULEPATH Environment Variable</strong></p><ul><li class="step"><div class="para">
				To specify one or more external module directories, define the <code class="envar">JBOSS_MODULEPATH</code> environment variable.
			</div><div class="para">
				For Linux, use a colon to delimit a list of directories. For example:
			</div><div class="example"><a id="idm139978456391392">
      ⁠</a><p class="title"><strong>Example 7.5. <code class="envar">JBOSS_MODULEPATH</code> environment variable</strong></p><div class="example-contents"><pre class="screen">export JBOSS_MODULEPATH=<em class="replaceable">EAP_HOME</em>/modules/:/home/username/external/modules/directory/</pre></div></div><div class="para">
				For Windows, use a semicolon to delimit a list of directories. For example:
			</div><div class="example"><a id="idm139978515853200">
      ⁠</a><p class="title"><strong>Example 7.6. <code class="envar">JBOSS_MODULEPATH</code> environment variable</strong></p><div class="example-contents"><pre class="screen">SET JBOSS_MODULEPATH=<em class="replaceable">EAP_HOME</em>\modules\;D:\JBoss-Modules\</pre></div></div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978447303744">
      ⁠</a><p class="title"><strong>Procedure 7.4. Set the JBOSS_MODULEPATH Variable in the Startup Configuration File</strong></p><ul><li class="step"><div class="para">
				If you prefer not to set a global environment variable, you can set the <code class="envar">JBOSS_MODULEPATH</code> variable in the JBoss EAP startup configuration file. If you are running a standalone server, this is the <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/standalone.conf</code> file. If the server is running in a managed domain, this is the <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/domain.conf</code> file.
			</div><div class="para">
				The following is an example of the command that sets the <code class="envar">JBOSS_MODULEPATH</code> variable in the <code class="filename">standalone.conf</code> file:
			</div><div class="example"><a id="idm139978478177248">
      ⁠</a><p class="title"><strong>Example 7.7. <code class="filename">standalone.conf</code> entry</strong></p><div class="example-contents"><pre class="screen">JBOSS_MODULEPATH="<em class="replaceable">EAP_HOME</em>/modules/:/home/username/external/modules/directory/"</pre></div></div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+29464-744090+%5BLatest%5D&amp;comment=Title%3A+Define+an+External+JBoss+Module+Directory%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=29464-744090+19+Feb+2015+21%3A01+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Reference">
      ⁠</a>7.6. Reference</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Included_Modules1">
      ⁠</a>7.6.1. Included Modules</h2></div></div></div><div class="para">
		A table listing the JBoss EAP 6 included modules and whether they are supported can be found on the Customer Portal at <a href="https://access.redhat.com/articles/1122333">https://access.redhat.com/articles/1122333</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+3891-682454+%5BLatest%5D&amp;comment=Title%3A+Included+Modules%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=3891-682454+08+Jul+2014+09%3A49+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Dynamic_Module_Naming1">
      ⁠</a>7.6.2. Dynamic Module Naming</h2></div></div></div><div class="para">
		All deployments are loaded as modules by JBoss EAP 6 and named according to the following conventions.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Deployments of WAR and JAR files are named with the following format:
			</div><pre class="synopsis"> deployment.<em class="replaceable">DEPLOYMENT_NAME</em> </pre><div class="para">
				For example, <code class="filename">inventory.war</code> and <code class="filename">store.jar</code> will have the module names of <code class="code">deployment.inventory.war</code> and <code class="code">deployment.store.jar</code> respectively.
			</div></li><li class="listitem"><div class="para">
				Subdeployments within an Enterprise Archive are named with the following format:
			</div><pre class="synopsis"> deployment.<em class="replaceable">EAR_NAME</em>.<em class="replaceable">SUBDEPLOYMENT_NAME</em> </pre><div class="para">
				For example, the subdeployment of <code class="filename">reports.war</code> within the enterprise archive <code class="filename">accounts.ear</code> will have the module name of <code class="code">deployment.accounts.ear.reports.war</code>.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4562-759221+%5BLatest%5D&amp;comment=Title%3A+Dynamic+Module+Naming%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4562-759221+25+May+2015+04%3A53+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div></div></body></html>