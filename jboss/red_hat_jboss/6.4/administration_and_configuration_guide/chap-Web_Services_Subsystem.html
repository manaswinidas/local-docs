<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 16. Web Services Subsystem</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Web_Services_Subsystem">
      ⁠</a>Chapter 16. Web Services Subsystem</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Configure_Web_Services_Options">
      ⁠</a>16.1. Configure Web Services Options</h1></div></div></div><div class="para">
		The Web Services options can be configured using the Management Console or the Management CLI.
	</div><div class="para">
		In the Management Console, click the <span class="guilabel"><strong>Configuration</strong></span> tab at the top of the screen, expand the <span class="guilabel"><strong>Subsystems</strong></span> menu and then expand the <span class="guilabel"><strong>Web</strong></span> menu. Click on the <span class="guilabel"><strong>Web Services</strong></span> menu item to configure the web services subsystem. The options are explained in the table below.
	</div><div class="table"><a id="idm139978515989824">
      ⁠</a><p class="title"><strong>Table 16.1. Web Services Configuration Options</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Web Services Configuration Options"><colgroup><col/><col/><col/></colgroup><thead><tr><th> Option </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> Modify WSDL Address </td><td> <div class="para">
						Whether the WSDL address can be modified by applications. Defaults to <code class="literal">true</code>.
					</div>
					 </td><td>
<pre class="screen">/profile=full-ha/subsystem=webservices/:write-attribute(name=modify-wsdl-address,value=true)</pre>
					 </td></tr><tr><td> WSDL Host </td><td> <div class="para">
						The WSDL contract of a JAX-WS Web Service includes a &lt;soap:address&gt; element which points to the location of the endpoint. If the value of &lt;soap:address&gt; is a valid URL, it is not overwritten unless <code class="code">modify-wsdl-address</code> is set to <code class="literal">true</code>. If the value of &lt;soap:address&gt; is not a valid URL, it is overwritten using the values of <code class="code">wsdl-host</code> and either <code class="code">wsdl-port</code> or <code class="code">wsdl-secure-port</code>. If <code class="code">wsdl-host</code> is set to <code class="literal">jbossws.undefined.host</code>, the requester's host address is used when the &lt;soap-address&gt; is rewritten. Defaults to <code class="code">${jboss.bind.address:127.0.0.1}</code>, which uses <code class="literal">127.0.0.1</code> if no bind address is specified when JBoss EAP 6 is started.
					</div>
					 </td><td>
<pre class="screen">/profile=full-ha/subsystem=webservices/:write-attribute(name=wsdl-host,value=127.0.0.1)</pre>
					 </td></tr><tr><td> WSDL Port </td><td> <div class="para">
						The non-secure port that is used to rewrite the SOAP address. If this is not set (the default), the port is identified by querying the list of installed connectors.
					</div>
					 </td><td>
<pre class="screen">/profile=full-ha/subsystem=webservices/:write-attribute(name=wsdl-port,value=80)</pre>
					 </td></tr><tr><td> WSDL Secure Port </td><td> <div class="para">
						The secure port that is used to rewrite the SOAP address. If this is not set (the default), the port is identified by querying the list of installed connectors.
					</div>
					 </td><td>
<pre class="screen">/profile=full-ha/subsystem=webservices/:write-attribute(name=wsdl-secure-port,value=443)</pre>
					 </td></tr></tbody></table></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			You may need to change the profile to modify a different managed domain profile, or remove the /profile=full-ha part of the command for a standalone server.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Web Services Subsystem</div>
			To enable logging with Apache CXF, configure the following system property in <code class="filename">standalone/domain.xml</code> file: 
<pre class="screen">&lt;system-properties&gt;
&lt;property name="org.apache.cxf.logging.enabled" value="true"/&gt;
&lt;/system-properties&gt;</pre>

		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+38645-758326+%5BLatest%5D&amp;comment=Title%3A+Configure+Web+Services+Options%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=38645-758326+20+May+2015+07%3A49+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Overview_of_Handlers_and_Handler_Chains">
      ⁠</a>16.2. Overview of Handlers and Handler Chains</h1></div></div></div><div class="para">
		Each endpoint config may be associated with <code class="literal">PRE</code> and <code class="literal">POST</code> handler chains. Each handler chain may include JAXWS-compliant handlers. For outbound messages, PRE handler chain handlers are executed before any handler attached to the endpoints using standard JAXWS means, such as the <code class="code">@HandlerChain</code> annotation. POST handler chain handlers are executed after usual endpoint handlers. For inbound messages, the opposite applies. JAX-WS is a standard API for XML-based web services, and is documented at <a href="http://jcp.org/en/jsr/detail?id=224">http://jcp.org/en/jsr/detail?id=224</a>.
	</div><div class="para">
		A handler chain may also include a <code class="literal">protocol-bindings</code> attribute, which sets the protocols which trigger the chain to start.
	</div><div class="para">
		A JAXWS handler is a child element <code class="literal">handler</code> within a handler chain. The handler takes a <code class="literal">class</code> attribute, which is the fully-qualified classname of the handler class. When the endpoint is deployed, an instance of that class is created for each referencing deployment. Either the deployment class loader or the class loader for module <code class="code">org.jboss.as.webservices.server.integration</code> must be able to load the handler class.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978445550800">
      ⁠</a><p class="title"><strong>Procedure 16.1. How to add handler-chains and handlers via the CLI</strong></p><ol class="1"><li class="step"><div class="para">
				Start the JBoss EAP CLI
			</div><pre class="screen"><em class="replaceable">EAP_HOME</em>/bin/jboss-cli.sh
</pre></li><li class="step"><div class="para">
				Add handler chain and handlers via JBoss CLI:
			</div><div class="example"><a id="idm139978449482080">
      ⁠</a><p class="title"><strong>Example 16.1. Add a handler chain</strong></p><div class="example-contents"><pre class="screen">[standalone@localhost:9999 /] /subsystem=webservices/endpoint-config=Standard-Endpoint-Config/post-handler-chain=<em class="replaceable">my-handlers</em>:add(protocol-bindings="##SOAP11_HTTP")</pre></div></div><div class="example"><a id="idm139978545280096">
      ⁠</a><p class="title"><strong>Example 16.2. Add a handler</strong></p><div class="example-contents"><pre class="screen">[standalone@localhost:9999 /] /subsystem=webservices/endpoint-config=Standard-Endpoint-Config/post-handler-chain=<em class="replaceable">my-handlers</em>/handler=<em class="replaceable">foo-hander</em>:add(class="org.jboss.ws.common.invocation.RecordingServerHandler")</pre></div></div><div class="example"><a id="idm139978526875072">
      ⁠</a><p class="title"><strong>Example 16.3. Add a handler</strong></p><div class="example-contents"><pre class="screen">[standalone@localhost:9999 /] /subsystem=webservices/endpoint-config=Standard-Endpoint-Config/post-handler-chain=<em class="replaceable">my-handlers</em>/handler=<em class="replaceable">bar-handler</em>:add(class="com.arjuna.webservices11.wsarj.handler.InstanceIdentifierInHandler")</pre></div></div></li><li class="step"><div class="para">
				Reload the server:
			</div><pre class="screen">[standalone@localhost:9999 /] reload</pre></li><li class="step"><div class="para">
				Confirm the handler-chain and handlers were added correctly:
			</div><div class="example"><a id="idm139978512243248">
      ⁠</a><p class="title"><strong>Example 16.4. Read a handler-chain</strong></p><div class="example-contents"><pre class="screen">[standalone@localhost:9999 /] /profile=default/subsystem=webservices/endpoint-config=Standard-Endpoint-Config/post-handler-chain=<em class="replaceable">my-handlers</em>:read-resource</pre></div></div><div class="example"><a id="idm139978453336688">
      ⁠</a><p class="title"><strong>Example 16.5. Read a handler</strong></p><div class="example-contents"><pre class="screen">[standalone@localhost:9999 /] /profile=default/subsystem=webservices/endpoint-config=Standard-Endpoint-Config/post-handler-chain=<em class="replaceable">my-handlers</em>/handler=<em class="replaceable">bar-handler</em>:read-resource</pre></div></div></li></ol></div><div class="para">
		The options used in the commands above can be modified as required to add or modify handlers.
	</div><div class="para">
		The handlers available in JBoss EAP can be found in the <em class="citetitle">API Documentation</em> javadocs:
	</div><div class="para">
		<a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html/API_Documentation/files/javadoc/javax/xml/ws/handler/Handler.html">https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html/API_Documentation/files/javadoc/javax/xml/ws/handler/Handler.html</a>
	</div><div class="para">
		More information about handlers, handler-chains, endpoints and related issues can be also found in the <em class="citetitle">JBoss EAP Development Guide</em> available at <a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/?version=6.4">https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/?version=6.4</a>
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+44624-781530+%5BLatest%5D&amp;comment=Title%3A+Overview+of+Handlers+and+Handler+Chains%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=44624-781530+08+Nov+2017+13%3A39+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div></body></html>