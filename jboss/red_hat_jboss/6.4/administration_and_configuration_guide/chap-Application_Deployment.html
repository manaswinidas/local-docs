<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 10. Application Deployment</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Application_Deployment">
      ⁠</a>Chapter 10. Application Deployment</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="About_Application_Deployment1">
      ⁠</a>10.1. About Application Deployment</h1></div></div></div><div class="para">
		JBoss EAP 6 features a range of application deployment and configuration options to cater to both administrative and development environments. For administrators, the Management Console and the Management CLI offer the ideal graphical and command line interfaces to manage application deployments in a production environment. For developers, the range of application deployment testing options include a highly configurable filesystem deployment scanner, the use of an IDE such as JBoss Developer Studio, or deployment and undeployment via Maven.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Administration</strong></p><ul><li class="listitem"><div class="itemizedlist"><p class="title"><strong>Management Console</strong></p><ul><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_Using_the_Management_Console1">Section 10.2.2, “Enable a Deployed Application Using the Management Console”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Undeploy_an_Application_Using_the_Management_Console">Section 10.2.3, “Disable a Deployed Application Using the Management Console”</a>
					</div></li></ul></div></li><li class="listitem"><div class="itemizedlist"><p class="title"><strong>Management CLI</strong></p><ul><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_in_a_Managed_Domain_Using_the_Management_CLI1">Section 10.3.4, “Deploy an Application in a Managed Domain Using the Management CLI”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_in_a_Standalone_Server_Using_the_Management_CLI">Section 10.3.2, “Deploy an Application in a Standalone Server Using the Management CLI”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Undeploy_an_Application_in_a_Managed_Domain_Using_the_Management_CLI1">Section 10.3.5, “Undeploy an Application in a Managed Domain Using the Management CLI”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Undeploy_an_Application_in_a_Standalone_Server_Using_the_Management_CLI1">Section 10.3.3, “Undeploy an Application in a Standalone Server Using the Management CLI”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Manage_Application_Deployment_in_the_Management_CLI">Section 10.3.1, “Manage Application Deployment in the Management CLI”</a>
					</div></li></ul></div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Development</strong></p><ul><li class="listitem"><div class="itemizedlist"><p class="title"><strong>Deployment Scanner</strong></p><ul><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Configure_the_Deployment_Scanner">Section 10.5.7, “Configure the Deployment Scanner”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner1">Section 10.5.2, “Deploy an Application to a Standalone Server Instance with the Deployment Scanner”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Undeploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner1">Section 10.5.3, “Undeploy an Application from a Standalone Server Instance with the Deployment Scanner”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Redeploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner">Section 10.5.4, “Redeploy an Application to a Standalone Server Instance with the Deployment Scanner”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Configure_the_Deployment_Scanner_with_the_Management_CLI1">Section 10.5.8, “Configure the Deployment Scanner with the Management CLI”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Reference_for_Deployment_Scanner_Attributes1">Section 10.5.6, “Reference for Deployment Scanner Attributes”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Reference_for_Deployment_Scanner_Marker_Files1">Section 10.5.5, “Reference for Deployment Scanner Marker Files”</a>
					</div></li></ul></div></li><li class="listitem"><div class="itemizedlist"><p class="title"><strong>Maven</strong></p><ul><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_with_Maven1">Section 10.6.2, “Deploy an Application with Maven”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="chap-Application_Deployment.html#Undeploy_an_Application_with_Maven">Section 10.6.3, “Undeploy an Application with Maven”</a>
					</div></li></ul></div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			Before deploying any application, you can enable validation for deployment descriptors. This can be done by setting the <code class="literal">org.jboss.metadata.parser.validate</code> system property to <code class="literal">true</code>. This can be done in one of the two ways: 
			<div class="itemizedlist"><ul><li class="listitem"><div class="para">
						While starting the server.
					</div><div class="para">
						Example: 
						<div class="itemizedlist"><ul><li class="listitem"><div class="para">
									For domain mode: 
<pre class="screen">./domain.sh -Dorg.jboss.metadata.parser.validate=true</pre>

								</div></li></ul></div>
						 <div class="itemizedlist"><ul><li class="listitem"><div class="para">
									For standalone mode: 
<pre class="screen">./standalone.sh -Dorg.jboss.metadata.parser.validate=true</pre>

								</div></li></ul></div>

					</div></li><li class="listitem"><div class="para">
						By defining it in the server configuration.
					</div><div class="para">
						For more information on configuring system properties using the Management CLI, refer <a class="xref" href="chap-Management_Interfaces.html#Configure_System_Properties_Using_the_Management_CLI">Section 3.5.11, “Configure System Properties Using the Management CLI”</a>
					</div></li></ul></div>

		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4747-766821+%5BLatest%5D&amp;comment=Title%3A+About+Application+Deployment%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4747-766821+05+Aug+2015+08%3A35+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Deploy_with_the_Management_Console">
      ⁠</a>10.2. Deploy with the Management Console</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Manage_Application_Deployment_in_the_Management_Console">
      ⁠</a>10.2.1. Manage Application Deployment in the Management Console</h2></div></div></div><div class="para">
		Deploying applications via the Management Console gives you the benefit of a graphical interface that is easy to use. You can see at a glance what applications are deployed to your server or server groups, and you can enable, disable or delete applications from the content repository as required.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+8891-763789+%5BLatest%5D&amp;comment=Title%3A+Manage+Application+Deployment+in+the+Management+Console%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=8891-763789+03+Jul+2015+02%3A12+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Deploy_an_Application_Using_the_Management_Console1">
      ⁠</a>10.2.2. Enable a Deployed Application Using the Management Console</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Log_in_to_the_Management_Console">Section 3.3.2, “Log in to the Management Console”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Add_a_Deployment_in_the_Management_Console">Section 3.3.8, “Add a Deployment in the Management Console”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978501452656">
      ⁠</a><p class="title"><strong>Procedure 10.1. Enable a Deployed Application using the Management Console</strong></p><ul><li class="step"><div class="para">
				Select the <span class="guilabel"><strong>Deployments</strong></span> tab from the top of the console.
			</div><div class="para">
				The deployment method for applications will differ depending on whether you are deploying to a standalone server instance or a managed domain.
			</div><ul class="stepalternatives">
				 <li class="step"><p class="title"><strong>Enable an application on a standalone server instance</strong></p><div class="para">
						The <span class="guilabel"><strong>Available Deployments</strong></span> table shows all available application deployments and their status.
					</div><ol class="substeps a"><li class="step"><div class="para">
								To enable an application in a standalone server instance, select the application, then click <span class="guibutton"><strong>En/Disable</strong></span>.
							</div><div class="figure"><a id="idm139978447015856">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/7168.png" alt="Available deployments"/></div></div><p class="title"><strong>Figure 10.1. Available deployments</strong></p></div></li><li class="step"><div class="para">
								Click <span class="guibutton"><strong>Confirm</strong></span> to confirm that the application will be enabled on the server instance.
							</div><div class="figure"><a id="idm139978443920048">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/7169.png" alt="The confirmation dialogue box."/></div></div><p class="title"><strong>Figure 10.2. Available deployments in a standalone server</strong></p></div></li></ol></li>
				  <li class="step"><p class="title"><strong>Enable an application in a managed domain</strong></p><div class="para">
						The <span class="guilabel"><strong>Content Repository</strong></span> tab contains an <span class="guilabel"><strong>Available Deployment Content</strong></span> table showing all available application deployments and their status.
					</div><ol class="substeps a"><li class="step"><div class="para">
								To enable an application in a Managed Domain, select the application to be deployed. Click <span class="guibutton"><strong>Assign</strong></span> above the <span class="guilabel"><strong>Available Deployment Content</strong></span> table.
							</div><div class="figure"><a id="idm139978505272304">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/7170.png" alt="The Content Repository table for managed domains."/></div></div><p class="title"><strong>Figure 10.3. Available deployments in a managed domain</strong></p></div></li><li class="step"><div class="para">
								Check the boxes for each of the server groups that you want the application to be added to and click <span class="guibutton"><strong>Save</strong></span> to finish.
							</div></li><li class="step"><div class="para">
								Select <span class="guilabel"><strong>Server Groups</strong></span> tab to view the <span class="guilabel"><strong>Server Groups</strong></span> table.
							</div><div class="figure"><a id="idm139978478789296">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/7171.png" alt="The Server Groups table shows the status of deployed application."/></div></div><p class="title"><strong>Figure 10.4. Confirmation of application deployment to server groups</strong></p></div></li><li class="step"><div class="para">
								If your application is not already enabled, you can enable it now by clicking on <span class="guibutton"><strong>View</strong></span> and then clicking on the <span class="guibutton"><strong>En/Disable</strong></span> button. Click <span class="guibutton"><strong>Confirm</strong></span> to confirm that the application will be enabled on the server instance.
							</div></li></ol></li>

			</ul></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The application is enabled on the relevant server or server group.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+3764-766373+%5BLatest%5D&amp;comment=Title%3A+Enable+a+Deployed+Application+Using+the+Management+Console%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=3764-766373+30+Jul+2015+04%3A58+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Undeploy_an_Application_Using_the_Management_Console">
      ⁠</a>10.2.3. Disable a Deployed Application Using the Management Console</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Log_in_to_the_Management_Console">Section 3.3.2, “Log in to the Management Console”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Add_a_Deployment_in_the_Management_Console">Section 3.3.8, “Add a Deployment in the Management Console”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_Using_the_Management_Console1">Section 10.2.2, “Enable a Deployed Application Using the Management Console”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978464665888">
      ⁠</a><p class="title"><strong>Procedure 10.2. Disable a Deployed Application using the Management Console</strong></p><ul><li class="step"><div class="para">
				Select the <span class="guilabel"><strong>Deployment</strong></span> tab from the top of the console.
			</div><div class="para">
				The method used to disable an application will differ depending on whether you are deploying to a standalone server instance or a managed domain.
			</div><ul class="stepalternatives">
				 <li class="step"><p class="title"><strong>Disable a deployed application on a Standalone server instance</strong></p><div class="para">
						The <span class="guilabel"><strong>Available Deployments</strong></span> table shows all available application deployments and their status.
					</div><div class="figure"><a id="idm139978527688992">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/7214.png" alt="Available deployments"/></div></div><p class="title"><strong>Figure 10.5. Available deployments</strong></p></div><ol class="substeps a"><li class="step"><div class="para">
								Select the application to be disabled. Click <span class="guibutton"><strong>En/Disable</strong></span> to disable the selected application.
							</div></li><li class="step"><div class="para">
								Click <span class="guibutton"><strong>Confirm</strong></span> to confirm that the application will be disabled on the server instance.
							</div></li></ol></li>
				  <li class="step"><p class="title"><strong>Disable a deployed application on a managed domain</strong></p><div class="para">
						The <span class="guilabel"><strong>Deployments </strong></span> screen contains a <span class="guilabel"><strong>Content Repository</strong></span> tab. The <span class="guilabel"><strong>Available Deployment Content</strong></span> table shows all available application deployments and their status.
					</div><ol class="substeps a"><li class="step"><div class="para">
								Select the <span class="guilabel"><strong>Server Groups</strong></span> tab to view the server groups.
							</div><div class="figure"><a id="idm139978446779200">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/7213.png" alt="The deployments for server groups in a managed domain."/></div></div><p class="title"><strong>Figure 10.6. Server group deployments</strong></p></div></li><li class="step"><div class="para">
								Select the name of the server group in the <span class="guilabel"><strong>Server Group</strong></span> table to undeploy an application from. Click <span class="guilabel"><strong>View</strong></span> to see the applications.
							</div></li><li class="step"><div class="para">
								Select the application and click <span class="guibutton"><strong>En/Disable</strong></span> to disable the application for the selected server.
							</div></li><li class="step"><div class="para">
								Click <span class="guibutton"><strong>Confirm</strong></span> to confirm that the application will be disabled on the server instance.
							</div></li><li class="step"><div class="para">
								Repeat as required for other server groups. The application status is confirmed for each server group in the <span class="guilabel"><strong>Group Deployments</strong></span> table for that server group.
							</div></li></ol></li>

			</ul></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The application is disabled from the relevant server or server group.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+3766-766374+%5BLatest%5D&amp;comment=Title%3A+Disable+a+Deployed+Application+Using+the+Management+Console%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=3766-766374+30+Jul+2015+05%3A15+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Undeploy_an_Application_Using_the_Management_Console1">
      ⁠</a>10.2.4. Undeploy an Application Using the Management Console</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Log_in_to_the_Management_Console">Section 3.3.2, “Log in to the Management Console”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Add_a_Deployment_in_the_Management_Console">Section 3.3.8, “Add a Deployment in the Management Console”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_Using_the_Management_Console1">Section 10.2.2, “Enable a Deployed Application Using the Management Console”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Deployment.html#Undeploy_an_Application_Using_the_Management_Console">Section 10.2.3, “Disable a Deployed Application Using the Management Console”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978534907712">
      ⁠</a><p class="title"><strong>Procedure 10.3. Undeploy an Application Using the Management Console</strong></p><ul><li class="step"><div class="para">
				Select the <span class="guilabel"><strong>Deployments</strong></span> tab from the top of the console.
			</div><div class="para">
				The method used to undeploy an application will differ depending on whether you are undeploying from a standalone server instance or a managed domain.
			</div><ul class="stepalternatives">
				 <li class="step"><p class="title"><strong>Undeploy a deployed application from a Standalone server instance</strong></p><div class="para">
						The <span class="guilabel"><strong>Available Deployments</strong></span> table shows all available application deployments and their status.
					</div><div class="figure"><a id="idm139978500895152">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/7215.png" alt="Available deployments"/></div></div><p class="title"><strong>Figure 10.7. Available deployments</strong></p></div><ol class="substeps a"><li class="step"><div class="para">
								Select the application to be undeployed. Click <span class="guibutton"><strong>Remove</strong></span> to undeploy the selected application.
							</div></li><li class="step"><div class="para">
								Click <span class="guibutton"><strong>Confirm</strong></span> to confirm that the application will be undeployed on the server instance.
							</div></li></ol></li>
				  <li class="step"><p class="title"><strong>Undeploy a deployed application from a managed domain</strong></p><div class="para">
						The <span class="guilabel"><strong>Deployments</strong></span> screen contains a <span class="guilabel"><strong>Content Repository</strong></span> tab. The <span class="guilabel"><strong>Available Deployment Content</strong></span> table shows all available application deployments and their status.
					</div><ol class="substeps a"><li class="step"><div class="para">
								Select the <span class="guilabel"><strong>Server Groups</strong></span> tab to view the server groups and the status of their deployed applications.
							</div><div class="figure"><a id="idm139978479187824">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/7213.png" alt="The deployments for server groups in a managed domain."/></div></div><p class="title"><strong>Figure 10.8. Server group deployments</strong></p></div></li><li class="step"><div class="para">
								Select the name of the server group in the <span class="guilabel"><strong>Server Group</strong></span> table to undeploy an application from. Click <span class="guilabel"><strong>View</strong></span> to see the applications.
							</div></li><li class="step"><div class="para">
								Select the application and click <span class="guibutton"><strong>Remove</strong></span> to undeploy the application for the selected server.
							</div></li><li class="step"><div class="para">
								Click <span class="guibutton"><strong>Confirm</strong></span> to confirm that the application will be undeployed on the server instance.
							</div></li><li class="step"><div class="para">
								Repeat as required for other server groups. The application status is confirmed for each server group in the <span class="guilabel"><strong>Group Deployments</strong></span> table for that server group.
							</div></li></ol></li>

			</ul></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The application is undeployed from the relevant server or server group. On a standalone instance the deployment content is also removed. On a managed domain, the deployment content remains in the content repository and is only undeployed from the server group.
		</div><div class="para">

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+41122-766375+%5BLatest%5D&amp;comment=Title%3A+Undeploy+an+Application+Using+the+Management+Console%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=41122-766375+30+Jul+2015+05%3A21+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Deploy_with_the_Management_CLI">
      ⁠</a>10.3. Deploy with the Management CLI</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Manage_Application_Deployment_in_the_Management_CLI">
      ⁠</a>10.3.1. Manage Application Deployment in the Management CLI</h2></div></div></div><div class="para">
		Deploying applications via the Management CLI gives you the benefit of single command line interface with the ability to create and run deployment scripts. You can use this scripting ability to configure specific application deployment and management scenarios. You can manage the deployment status of a single server in the case of a standalone instance, or an entire network of servers in the case of a managed domain.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4791-591672+%5BLatest%5D&amp;comment=Title%3A+Manage+Application+Deployment+in+the+Management+CLI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4791-591672+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Deploy_an_Application_in_a_Standalone_Server_Using_the_Management_CLI">
      ⁠</a>10.3.2. Deploy an Application in a Standalone Server Using the Management CLI</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Launch_the_Management_CLI1">Section 3.4.2, “Launch the Management CLI”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Connect_to_a_Managed_Server_Instance_Using_the_Management_CLI1">Section 3.4.4, “Connect to a Managed Server Instance Using the Management CLI”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978442596560">
      ⁠</a><p class="title"><strong>Procedure 10.4. Deploy an Application in a Standalone Server</strong></p><ul><li class="step"><p class="title"><strong>Run the <code class="command">deploy</code> command</strong></p><div class="para">
				From the Management CLI, enter the <code class="command">deploy</code> command with the path to the application deployment.
			</div><div class="example"><a id="idm139978517209568">
      ⁠</a><p class="title"><strong>Example 10.1. The Deploy command</strong></p><div class="example-contents"><pre class="screen">[standalone@localhost:9999 /] <code class="command">deploy <em class="replaceable">/path/to/test-application.war</em></code></pre></div></div><div class="para">
				Note that a successful deploy does not produce any output to the CLI.
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The specified application is now deployed in the standalone server.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4393-744092+%5BLatest%5D&amp;comment=Title%3A+Deploy+an+Application+in+a+Standalone+Server+Using+the+Management+CLI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4393-744092+19+Feb+2015+21%3A44+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Undeploy_an_Application_in_a_Standalone_Server_Using_the_Management_CLI1">
      ⁠</a>10.3.3. Undeploy an Application in a Standalone Server Using the Management CLI</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Launch_the_Management_CLI1">Section 3.4.2, “Launch the Management CLI”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Connect_to_a_Managed_Server_Instance_Using_the_Management_CLI1">Section 3.4.4, “Connect to a Managed Server Instance Using the Management CLI”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_in_a_Standalone_Server_Using_the_Management_CLI">Section 10.3.2, “Deploy an Application in a Standalone Server Using the Management CLI”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978541604448">
      ⁠</a><p class="title"><strong>Procedure 10.5. Undeploy an Application in a Standalone Server</strong></p><div class="para">
			By default the <code class="command">undeploy</code> command will undeploy <span class="emphasis"><em>and</em></span> delete the deployment content from a standalone instance of JBoss EAP. To retain the deployment content, add the parameter <em class="parameter"><code>--keep-content</code></em>.
		</div><ul><li class="step"><p class="title"><strong>Run the <code class="command">undeploy</code> command</strong></p><div class="para">
				To undeploy the application and delete the deployment content, enter the Management CLI <code class="command">undeploy</code> command with the filename of the application deployment.
			</div><pre class="screen">[standalone@localhost:9999 /] <code class="command">undeploy <em class="replaceable">test-application.war</em></code></pre><div class="para">
				To undeploy the application, but retain the deployment content, enter the Management CLI <code class="command">undeploy</code> command with the filename of the application deployment and the parameter <em class="parameter"><code>--keep-content</code></em>.
			</div><pre class="screen">[standalone@localhost:9999 /] <code class="command">undeploy <em class="replaceable">test-application.war</em></code> <em class="parameter"><code>--keep-content</code></em></pre></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The specified application is now undeployed. Note that the <code class="command">undeploy</code> command does not produce any output to the Management CLI if it is successful.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4395-714051+%5BLatest%5D&amp;comment=Title%3A+Undeploy+an+Application+in+a+Standalone+Server+Using+the+Management+CLI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4395-714051+29+Sep+2014+22%3A06+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Deploy_an_Application_in_a_Managed_Domain_Using_the_Management_CLI1">
      ⁠</a>10.3.4. Deploy an Application in a Managed Domain Using the Management CLI</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Launch_the_Management_CLI1">Section 3.4.2, “Launch the Management CLI”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Connect_to_a_Managed_Server_Instance_Using_the_Management_CLI1">Section 3.4.4, “Connect to a Managed Server Instance Using the Management CLI”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978518366288">
      ⁠</a><p class="title"><strong>Procedure 10.6. Deploy an Application in a Managed Domain</strong></p><ul><li class="step"><p class="title"><strong>Run the <code class="command">deploy</code> command</strong></p><div class="para">
				From the Management CLI, enter the <code class="command">deploy</code> command with the path to the application deployment. Include the <em class="parameter"><code>--all-server-groups</code></em> parameter to deploy to all server groups.
			</div><pre class="screen">[domain@localhost:9999 /] <code class="command">deploy <em class="replaceable">/path/to/test-application.war</em> --all-server-groups</code></pre><ul class="stepalternatives">
				<li class="step"><div class="para">
						Alternatively, define specific server groups for the deployment with the <em class="parameter"><code>--server-groups</code></em> parameter.
					</div><pre class="screen">[domain@localhost:9999 /] <code class="command">deploy <em class="replaceable">/path/to/test-application.war</em> --server-groups=<em class="replaceable">server_group_1,server_group_2</em></code></pre></li>

			</ul><div class="para">
				Note that a successful deploy does not produce any output to the CLI.
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The specified application is now deployed to a server group in your managed domain.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4392-591665+%5BLatest%5D&amp;comment=Title%3A+Deploy+an+Application+in+a+Managed+Domain+Using+the+Management+CLI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4392-591665+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Undeploy_an_Application_in_a_Managed_Domain_Using_the_Management_CLI1">
      ⁠</a>10.3.5. Undeploy an Application in a Managed Domain Using the Management CLI</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Launch_the_Management_CLI1">Section 3.4.2, “Launch the Management CLI”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Connect_to_a_Managed_Server_Instance_Using_the_Management_CLI1">Section 3.4.4, “Connect to a Managed Server Instance Using the Management CLI”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_in_a_Managed_Domain_Using_the_Management_CLI1">Section 10.3.4, “Deploy an Application in a Managed Domain Using the Management CLI”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978469669232">
      ⁠</a><p class="title"><strong>Procedure 10.7. Undeploy an Application in a Managed Domain</strong></p><ul><li class="step"><p class="title"><strong>Run the <code class="command">undeploy</code> command</strong></p><div class="para">
				From the Management CLI, enter the <code class="command">undeploy</code> command with the filename of the application deployment. The application can be undeployed from any server group that it was originally deployed to with the addition of the <em class="parameter"><code>--all-relevant-server-groups</code></em> parameter.
			</div><pre class="screen">
<code class="prompt">[domain@localhost:9999 /]</code> <code class="command">undeploy</code> <em class="replaceable">test-application.war</em> <em class="parameter"><code>--all-relevant-server-groups</code></em></pre><div class="para">
				Note that a successful undeploy does not produce any output to the CLI.
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The specified application is now undeployed.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4394-591662+%5BLatest%5D&amp;comment=Title%3A+Undeploy+an+Application+in+a+Managed+Domain+Using+the+Management+CLI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4394-591662+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Deploy_with_the_HTTP_API">
      ⁠</a>10.4. Deploy with the HTTP API</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Deploy_an_application_using_the_HTTP_API">
      ⁠</a>10.4.1. Deploy an application using the HTTP API</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Applications can be deployed via the HTTP API using the following instructions.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				Add the user for the management interfaces. For information on creating the initial administrative user for the remote management interfaces, refer <a class="xref" href="chap-User_Management.html#Add_the_Initial_User_for_the_Management_Interfaces">Section 4.2.1, “Add the User for the Management Interfaces”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978453284384">
      ⁠</a><p class="title"><strong>Procedure 10.8. Deploy an application using HTTP API</strong></p><ul><li class="step"><div class="para">
				Use either the <code class="literal">deploy</code> or <code class="literal">undeploy</code> command relevant to your requirements.
			</div><div class="example"><a id="idm139978440929616">
      ⁠</a><p class="title"><strong>Example 10.2. Deploy and undeploy command</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>Deploy
<span xmlns="" class="line">​</span>------------------------------
<span xmlns="" class="line">​</span>curl --digest -L -D - http:<span xmlns="" class="perl_Comment">//&lt;host&gt;:&lt;port&gt;/management --header "Content-Type: application/json" -d '{"operation" : "composite", "address" : [], "steps" : [{"operation" : "add", "address" : {"deployment" : "&lt;runtime-name&gt;"}, "content" : [{"url" : "file:&lt;path-to-archive&gt;}]},{"operation" : "deploy", "address" : {"deployment" : "&lt;runtime-name&gt;"}}],"json.pretty":1}' -u &lt;user&gt;:&lt;pass&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>Example:
<span xmlns="" class="line">​</span>-------
<span xmlns="" class="line">​</span>curl --digest -L -D - http:<span xmlns="" class="perl_Comment">//localhost:9990/management --header "Content-Type: application/json" -d '{"operation" : "composite", "address" : [], "steps" : [{"operation" : "add", "address" : {"deployment" : "example.war"}, "content" : [{"url" : "file:/home/$user/example.war"}]},{"operation" : "deploy", "address" : {"deployment" : "example.war"}}],"json.pretty":1}' -u user:password</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>Undeploy
<span xmlns="" class="line">​</span>------------------------------
<span xmlns="" class="line">​</span>curl --digest -L -D - http:<span xmlns="" class="perl_Comment">//&lt;host&gt;:&lt;port&gt;/management --header "Content-Type: application/json" -d '{"operation" : "composite", "address" : [], "steps" : [{"operation" : "undeploy", "address" : {"deployment" : "&lt;runtime-name&gt;"}},{"operation" : "remove", "address" : {"deployment" : "&lt;runtime-name&gt;"}}],"json.pretty":1}' -u &lt;user&gt;:&lt;pass&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>Example:
<span xmlns="" class="line">​</span>-------
<span xmlns="" class="line">​</span>curl --digest -L -D - http:<span xmlns="" class="perl_Comment">//localhost:9990/management --header "Content-Type: application/json" -d '{"operation" : "composite", "address" : [], "steps" : [{"operation" : "undeploy", "address" : {"deployment" : "example.war"}},{"operation" : "remove", "address" : {"deployment" : "example.war"}}],"json.pretty":1}' -u user:password</span>
</pre></div></div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			To know more about programmatically generating the JSON requests, refer <a href="https://access.redhat.com/solutions/82463">https://access.redhat.com/solutions/82463</a>.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+41116-765874+%5BLatest%5D&amp;comment=Title%3A+Deploy+an+application+using+the+HTTP+API%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=41116-765874+24+Jul+2015+02%3A47+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Deploy_with_the_Deployment_Scanner">
      ⁠</a>10.5. Deploy with the Deployment Scanner</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Manage_Application_Deployment_in_the_Deployment_Scanner1">
      ⁠</a>10.5.1. Manage Application Deployment in the Deployment Scanner</h2></div></div></div><div class="para">
		Deploying applications to a standalone server instance via the deployment scanner allows you to build and test applications in a manner suited for rapid development cycles. You can configure the deployment scanner to suit your needs for deployment frequency and behavior for a variety of application types.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+8892-707571+%5BLatest%5D&amp;comment=Title%3A+Manage+Application+Deployment+in+the+Deployment+Scanner%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=8892-707571+09+Sep+2014+02%3A28+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Deploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner1">
      ⁠</a>10.5.2. Deploy an Application to a Standalone Server Instance with the Deployment Scanner</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Server_Management.html#Start_JBoss_EAP_6">Section 2.2.1, “Start JBoss EAP 6”</a>
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task shows a method for deploying applications to a standalone server instance with the deployment scanner. As indicated in the <a class="xref" href="chap-Application_Deployment.html#About_Application_Deployment1">Section 10.1, “About Application Deployment”</a> topic, this method is retained for the convenience of developers, where the Management Console and Management CLI methods are recommended for application management under production environments.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978446553376">
      ⁠</a><p class="title"><strong>Procedure 10.9. Use the Deployment Scanner to Deploy Applications</strong></p><ol class="1"><li class="step"><p class="title"><strong>Copy content to the deployment folder</strong></p><div class="para">
				Copy the application file to the deployment folder found at <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/deployments/</code>.
			</div></li><li class="step"><p class="title"><strong>Deployment scanning modes</strong></p><div class="para">
				There are two application deployment methods. You can choose between automatic and manual deployment scanner modes. Before starting either of the deployment methods, read <a class="xref" href="chap-Application_Deployment.html#Configure_the_Deployment_Scanner_with_the_Management_CLI1">Section 10.5.8, “Configure the Deployment Scanner with the Management CLI”</a>.
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Automatic deployment</strong></p><div class="para">
						The deployment scanner picks up a change to the state of the folder and creates a marker file as defined in <a class="xref" href="chap-Application_Deployment.html#Configure_the_Deployment_Scanner_with_the_Management_CLI1">Section 10.5.8, “Configure the Deployment Scanner with the Management CLI”</a>.
					</div></li>
				 <li class="step"><p class="title"><strong>Manual deployment</strong></p><div class="para">
						The deployment scanner requires a marker file to trigger the deployment process. The following example uses the Unix <code class="literal">touch</code> command to create a new <code class="literal">.dodeploy</code> file.
					</div><div class="example"><a id="idm139978532002832">
      ⁠</a><p class="title"><strong>Example 10.3. Deploy with the <code class="command">touch</code> command</strong></p><div class="example-contents"><pre class="screen">[user@host bin]$ <code class="command">touch</code> <em class="replaceable">$EAP_HOME</em>/standalone/deployments/<em class="replaceable">example.war</em>.dodeploy</pre></div></div></li>

			</ul></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The application file is deployed to the application server. A marker file is created in the deployment folder to indicate the successful deployment, and the application is flagged as <code class="literal">Enabled</code> in the Management Console.
		</div><div class="example"><a id="idm139978514711584">
      ⁠</a><p class="title"><strong>Example 10.4. Deployment folder contents after deployment</strong></p><div class="example-contents"><pre class="screen">example.war
example.war.deployed
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5285-624856+%5BLatest%5D&amp;comment=Title%3A+Deploy+an+Application+to+a+Standalone+Server+Instance+with+the+Deployment+Scanner%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5285-624856+27+Mar+2014+01%3A33+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Undeploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner1">
      ⁠</a>10.5.3. Undeploy an Application from a Standalone Server Instance with the Deployment Scanner</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Server_Management.html#Start_JBoss_EAP_6">Section 2.2.1, “Start JBoss EAP 6”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner1">Section 10.5.2, “Deploy an Application to a Standalone Server Instance with the Deployment Scanner”</a>
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task shows a method for undeploying applications from a standalone server instance that have been deployed with the deployment scanner. As indicated in the <a class="xref" href="chap-Application_Deployment.html#About_Application_Deployment1">Section 10.1, “About Application Deployment”</a> topic, this method is retained for the convenience of developers, where the Management Console and Management CLI methods are recommended for application management under production environments.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The deployment scanner should not be used in conjunction with other deployment methods for application management. Applications removed from the application server by the management console will be removed from the runtime without affecting the marker files or application contained in the deployment directory. To minimize the risk of accidental redployment or other errors, use the Management CLI and Management Console for administration in production environments.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978536489776">
      ⁠</a><p class="title"><strong>Procedure 10.10. Undeploy an Application using one of these Methods</strong></p><ul><li class="step"><p class="title"><strong>Undeploy the application</strong></p><div class="para">
				There are two methods to undeploy the application depending on whether you want to delete the application from the deployment folder or only alter its deployment status.
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Undeploy by deleting the marker file</strong></p><div class="para">
						Delete the deployed application's <code class="filename">example.war.deployed</code> marker file to trigger the deployment scanner to begin undeploying the application from the runtime.
					</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Result</span></dt><dd><div class="para">
									The deployment scanner undeploys the application and creates a <code class="filename">example.war.undeployed</code> marker file. The application remains in the deployment folder.
								</div></dd></dl></div></li>
				 <li class="step"><p class="title"><strong>Undeploy by removing the application</strong></p><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
							Undeploying an exploded WAR file using this method is not valid. Only undeployment by removing the marker file is valid. Attempting to undeploy an exploded WAR file will result in a message like the following message being logged.
						</div><pre class="screen">WARN  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 2) JBAS015006: The deployment scanner found that the content for exploded deployment EXAMPLE.war has been deleted, but auto-deploy/undeploy for exploded deployments is not enabled and the EXAMPLE.war.deployed marker file for this deployment has not been removed. As a result, the deployment is not being undeployed, but resources needed by the deployment may have been deleted and application errors may occur. Deleting the EXAMPLE.war.deployed marker file to trigger undeploy is recommended.</pre></div></div><div class="para">
						Remove the application from the deployment directory to trigger the deployment scanner to begin undeploying the application from the runtime.
					</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Result</span></dt><dd><div class="para">
									The deployment scanner undeploys the application and creates a <code class="filename">filename.filetype.undeployed</code> marker file. The application is not present in the deployment folder.
								</div></dd></dl></div></li>

			</ul></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The application file is undeployed from the application server and is not visible in the <span class="guilabel"><strong>Deployments</strong></span> screen of the Management Console.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5286-742332+%5BLatest%5D&amp;comment=Title%3A+Undeploy+an+Application+from+a+Standalone+Server+Instance+with+the+Deployment+Scanner%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5286-742332+09+Feb+2015+23%3A23+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Redeploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner">
      ⁠</a>10.5.4. Redeploy an Application to a Standalone Server Instance with the Deployment Scanner</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Server_Management.html#Start_JBoss_EAP_6">Section 2.2.1, “Start JBoss EAP 6”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner1">Section 10.5.2, “Deploy an Application to a Standalone Server Instance with the Deployment Scanner”</a>
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task shows a method for redeploying applications to a standalone server instance that have been deployed with the deployment scanner. As indicated in the <a class="xref" href="chap-Application_Deployment.html#About_Application_Deployment1">Section 10.1, “About Application Deployment”</a> topic, this method is retained for the convenience of developers, where the Management Console and Management CLI methods are recommended for application management under production environments.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978535911376">
      ⁠</a><p class="title"><strong>Procedure 10.11. Redeploy an Application to a Standalone Server</strong></p><ul><li class="step"><p class="title"><strong>Redeploy the application</strong></p><div class="para">
				There are three possible methods to redeploy an application deployed with the deployment scanner. These methods trigger the deployment scanner to initiate a deployment cycle, and can be chosen to suit personal preference.
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Redeploy by altering the marker file</strong></p><div class="para">
						Trigger the deployment scanner redeployment by altering the marker file's access and modification timestamp. In the following Linux example, a Unix <code class="command">touch</code> command is used.
					</div><div class="example"><a id="idm139978505193536">
      ⁠</a><p class="title"><strong>Example 10.5. Redeploy with the Unix <code class="command">touch</code> command</strong></p><div class="example-contents"><pre class="screen">[user@host bin]$ <code class="command">touch</code> <em class="replaceable">EAP_HOME</em>/standalone/deployments/<em class="replaceable">example.war</em>.dodeploy</pre></div></div><div class="para"><div class="title">Result</div>
							The deployment scanner detects a change in the marker file and redeploys the application. A new <code class="filename">.deployed</code> file marker replaces the previous.
						</div></li>
				 <li class="step"><p class="title"><strong>Redeploy by creating a new <code class="filename">.dodeploy</code> marker file</strong></p><div class="para">
						Trigger the deployment scanner redeployment by creating a new <code class="filename">.dodeploy</code> marker file. Refer to the manual deployment instructions in <a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner1">Section 10.5.2, “Deploy an Application to a Standalone Server Instance with the Deployment Scanner”</a>.
					</div></li>
				 <li class="step"><p class="title"><strong>Redeploy by deleting the marker file</strong></p><div class="para">
						As described in <a class="xref" href="chap-Application_Deployment.html#Reference_for_Deployment_Scanner_Marker_Files1">Section 10.5.5, “Reference for Deployment Scanner Marker Files”</a>, deleting a deployed application's <code class="filename">.deployed</code> marker file will trigger an undeployment and create an <code class="filename">.undeployed</code> marker. Deleting the undeployment marker will trigger the deployment cycle again. Refer to <a class="xref" href="chap-Application_Deployment.html#Undeploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner1">Section 10.5.3, “Undeploy an Application from a Standalone Server Instance with the Deployment Scanner”</a> for further information.
					</div></li>

			</ul></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The application file is redeployed.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5287-591694+%5BLatest%5D&amp;comment=Title%3A+Redeploy+an+Application+to+a+Standalone+Server+Instance+with+the+Deployment+Scanner%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5287-591694+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Reference_for_Deployment_Scanner_Marker_Files1">
      ⁠</a>10.5.5. Reference for Deployment Scanner Marker Files</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Marker files</div>
			Marker files are a part of the deployment scanner subsystem. These files mark the status of an application within the deployment directory of the standalone server instance. A marker file has the same name as the application, with the file suffix indicating the state of the application's deployment. The following table defines the types and responses for each marker file.
		</div><div class="example"><a id="idm139978456602336">
      ⁠</a><p class="title"><strong>Example 10.6. Marker file example</strong></p><div class="example-contents"><div class="para">
			The following example shows the marker file for a successfully deployed instance of an application called <code class="filename">testapplication.war</code>.
		</div><pre class="screen"><code class="filename">testapplication.war.deployed</code></pre></div></div><div class="table"><a id="idm139978538947552">
      ⁠</a><p class="title"><strong>Table 10.1. Marker filetype definitions</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Marker filetype definitions"><colgroup><col width="20%" style="text-align: left" class="c1"/><col width="20%" style="text-align: left" class="c1"/><col width="60%" style="text-align: left" class="c2"/></colgroup><thead><tr><th style="text-align: left"> Filename Suffix </th><th style="text-align: left"> Origin </th><th style="text-align: left"> Description </th></tr></thead><tbody><tr><td style="text-align: left"> <code class="filename">.dodeploy</code> </td><td style="text-align: left"> User generated </td><td style="text-align: left"> Indicates that the content should be deployed or redeployed into the runtime. </td></tr><tr><td style="text-align: left"> <code class="filename">.skipdeploy</code> </td><td style="text-align: left"> User generated </td><td style="text-align: left"> Disables auto-deploy of an application while present. Useful as a method of temporarily blocking the auto-deployment of exploded content, preventing the risk of incomplete content edits pushing live. Can be used with zipped content, although the scanner detects in-progress changes to zipped content and waits until completion. </td></tr><tr><td style="text-align: left"> <code class="filename">.isdeploying</code> </td><td style="text-align: left"> System generated </td><td style="text-align: left"> Indicates the initiation of deployment. The marker file will be deleted when the deployment process completes. </td></tr><tr><td style="text-align: left"> <code class="filename">.deployed</code> </td><td style="text-align: left"> System generated </td><td style="text-align: left"> Indicates that the content has been deployed. The content will be undeployed if this file is deleted. </td></tr><tr><td style="text-align: left"> <code class="filename">.failed</code> </td><td style="text-align: left"> System generated </td><td style="text-align: left"> Indicates deployment failure. The marker file contains information about the cause of failure. If the marker file is deleted, the content will be visible to the auto-deployment again. </td></tr><tr><td style="text-align: left"> <code class="filename">.isundeploying</code> </td><td style="text-align: left"> System generated </td><td style="text-align: left"> Indicates a response to a <code class="filename">.deployed</code> file deletion. The content will be undeployed and the marker will be automatically deleted upon completion. </td></tr><tr><td style="text-align: left"> <code class="filename">.undeployed</code> </td><td style="text-align: left"> System generated </td><td style="text-align: left"> Indicates that the content has been undeployed. Deletion of the marker file has no impact to content redeployment. </td></tr><tr><td style="text-align: left"> <code class="filename">.pending</code> </td><td style="text-align: left"> System generated </td><td style="text-align: left"> Indicates that deployment instructions will be sent to the server pending resolution of a detected issue. This marker serves as a global deployment road-block. The scanner will not instruct the server to deploy or undeploy any other content while this condition exists. </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5280-591691+%5BLatest%5D&amp;comment=Title%3A+Reference+for+Deployment+Scanner+Marker+Files%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5280-591691+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Reference_for_Deployment_Scanner_Attributes1">
      ⁠</a>10.5.6. Reference for Deployment Scanner Attributes</h2></div></div></div><div class="para">
		The deployment scanner contains the following attributes that are exposed to the Management CLI and able to be configured using the <code class="literal">write-attribute</code> operation. For more information on configuration options, refer to the topic <a class="xref" href="chap-Application_Deployment.html#Configure_the_Deployment_Scanner_with_the_Management_CLI1">Section 10.5.8, “Configure the Deployment Scanner with the Management CLI”</a>.
	</div><div class="table"><a id="idm139978447538704">
      ⁠</a><p class="title"><strong>Table 10.2. Deployment Scanner Attributes</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="gt-4-cols gt-7-rows" summary="Deployment Scanner Attributes"><colgroup><col width="29%" style="text-align: left" class="c1"/><col width="43%" style="text-align: left" class="c2"/><col width="14%" style="text-align: left" class="c3"/><col width="14%" style="text-align: left" class="c4"/></colgroup><thead><tr><th style="text-align: left"> Name </th><th style="text-align: left"> Description </th><th style="text-align: left"> Type </th><th style="text-align: left"> Default Value </th></tr></thead><tbody><tr><td style="text-align: left"> <code class="literal">auto-deploy-exploded</code> </td><td style="text-align: left"> Allows the automatic deployment of exploded content without requiring a <code class="literal">.dodeploy</code> marker file. Recommended for only basic development scenarios to prevent exploded application deployment from occurring during changes by the developer or operating system. </td><td style="text-align: left"> Boolean </td><td style="text-align: left"> False </td></tr><tr><td style="text-align: left"> <code class="literal">auto-deploy-xml</code> </td><td style="text-align: left"> Allows the automatic deployment of XML content without requiring a <code class="literal">.dodeploy</code> marker file. </td><td style="text-align: left"> Boolean </td><td style="text-align: left"> True </td></tr><tr><td style="text-align: left"> <code class="literal">auto-deploy-zipped</code> </td><td style="text-align: left"> Allows the automatic deployment of zipped content without requiring a <code class="literal">.dodeploy</code> marker file. </td><td style="text-align: left"> Boolean </td><td style="text-align: left"> True </td></tr><tr><td style="text-align: left"> <code class="literal">deployment-timeout</code> </td><td style="text-align: left"> The time value in seconds for the deployment scanner to allow a deployment attempt before being cancelled. </td><td style="text-align: left"> Long </td><td style="text-align: left"> 600 </td></tr><tr><td style="text-align: left"> <code class="literal">path</code> </td><td style="text-align: left"> Defines the actual filesystem path to be scanned. If the <code class="literal">relative-to</code> attribute is specified, the <code class="literal">path</code> value acts as a relative addition to that directory or path. </td><td style="text-align: left"> String </td><td style="text-align: left"> deployments </td></tr><tr><td style="text-align: left"> <code class="literal">relative-to</code> </td><td style="text-align: left"> Reference to a filesystem path defined in the <code class="literal">paths</code> section of the server configuration XML file. </td><td style="text-align: left"> String </td><td style="text-align: left"> jboss.server.base.dir </td></tr><tr><td style="text-align: left"> <code class="literal">scan-enabled</code> </td><td style="text-align: left"> Allows the automatic scanning for applications by <code class="literal">scan-interval</code> and at startup. </td><td style="text-align: left"> Boolean </td><td style="text-align: left"> True </td></tr><tr><td style="text-align: left"> <code class="literal">scan-interval</code> </td><td style="text-align: left"> The time interval in milliseconds between scans of the repository. A value of less than 1 restricts the scanner to operate only at startup. </td><td style="text-align: left"> Int </td><td style="text-align: left"> 5000 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5281-591691+%5BLatest%5D&amp;comment=Title%3A+Reference+for+Deployment+Scanner+Attributes%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5281-591691+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_the_Deployment_Scanner">
      ⁠</a>10.5.7. Configure the Deployment Scanner</h2></div></div></div><div class="para">
		The deployment scanner can be configured using the Management Console or the Management CLI. You can create a new deployment scanner or manage the existing scanner attributes. These include the scanning interval, the location of the deployment folder, and the application file types that will trigger a deployment.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+4749-591673+%5BLatest%5D&amp;comment=Title%3A+Configure+the+Deployment+Scanner%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4749-591673+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_the_Deployment_Scanner_with_the_Management_CLI1">
      ⁠</a>10.5.8. Configure the Deployment Scanner with the Management CLI</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Launch_the_Management_CLI1">Section 3.4.2, “Launch the Management CLI”</a>
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			While there are multiple methods of configuring the deployment scanner, the Management CLI can be used to expose and modify the attributes by use of batch scripts or in real time. You can modify the behavior of the deployment scanner by use of the <code class="literal">read-attribute</code> and <code class="literal">write-attribute</code> global command line operations. Further information about the deployment scanner attributes are defined in the topic <a class="xref" href="chap-Application_Deployment.html#Reference_for_Deployment_Scanner_Attributes1">Section 10.5.6, “Reference for Deployment Scanner Attributes”</a>.
		</div><div class="para">
		The deployment scanner is a subsystem of JBoss EAP 6, and can be viewed in the <code class="filename">standalone.xml</code>.
	</div><div class="example"><a id="idm139978472718304">
      ⁠</a><p class="title"><strong>Example 10.7. Excerpt from <code class="filename">standalone.xml</code></strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:deployment-scanner:1.1"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;deployment-scanner</span><span xmlns="" class="perl_Others"> path=</span><span xmlns="" class="perl_String">"deployments"</span><span xmlns="" class="perl_Others"> relative-to=</span><span xmlns="" class="perl_String">"jboss.server.base.dir"</span><span xmlns="" class="perl_Others"> scan-interval=</span><span xmlns="" class="perl_String">"5000"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/subsystem&gt;</span></pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978536798112">
      ⁠</a><p class="title"><strong>Procedure 10.12. Configure the Deployment Scanner</strong></p><ol class="1"><li class="step"><p class="title"><strong>Determine the deployment scanner attributes to configure</strong></p><div class="para">
				Configuring the deployment scanner via the Management CLI requires that you first expose the correct attribute names. You can do this with the <code class="command">read-resources</code> operation at either the root node, or by using the <code class="command">cd</code> command to change into the subsystem child node. You can also display the attributes with the <code class="command">ls</code> command at this level.
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Expose the deployment scanner attributes with the <code class="command">read-resource</code> operation</strong></p><div class="para">
						Use the <code class="command">read-resource</code> operation to expose the attributes defined by the default deployment scanner resource.
					</div><div class="example"><a id="idm139978535511920">
      ⁠</a><p class="title"><strong>Example 10.8. Sample <code class="command">read-resource</code> output</strong></p><div class="example-contents"><pre class="programlisting">[standalone@localhost:9999 /]/subsystem=deployment-scanner/scanner=default:read-resource
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "auto-deploy-exploded" =&gt; false,
        "auto-deploy-xml" =&gt; true,
        "auto-deploy-zipped" =&gt; true,
        "deployment-timeout" =&gt; 600,
        "path" =&gt; "deployments",
        "relative-to" =&gt; "jboss.server.base.dir",
        "scan-enabled" =&gt; true,
        "scan-interval" =&gt; 5000
    }
}</pre></div></div></li>
				 <li class="step"><p class="title"><strong>Expose the deployment scanner attributes with the <code class="command">ls</code> command</strong></p><div class="para">
						Use the <code class="command">ls</code> command with the <code class="command">-l</code> optional argument to display a table of results that include the subsystem node attributes, values, and type. You can learn more about the <code class="command">ls</code> command and its arguments by exposing the CLI help entry by typing <code class="command">ls --help</code>. For more information about the help menu in the Management CLI, refer to the topic <a class="xref" href="chap-Management_Interfaces.html#Get_Help_with_the_Management_CLI1">Section 3.4.5, “Obtain Help with the Management CLI”</a>.
					</div><div class="example"><a id="idm139978448831248">
      ⁠</a><p class="title"><strong>Example 10.9. Sample <code class="command">ls -l</code> output</strong></p><div class="example-contents"><pre class="programlisting">[standalone@localhost:9999 /] ls -l /subsystem=deployment-scanner/scanner=default
ATTRIBUTE            VALUE                 TYPE    
auto-deploy-exploded false                 BOOLEAN 
auto-deploy-xml      true                  BOOLEAN 
auto-deploy-zipped   true                  BOOLEAN 
deployment-timeout   600                   LONG    
path                 deployments           STRING  
relative-to          jboss.server.base.dir STRING  
scan-enabled         true                  BOOLEAN 
scan-interval        5000                  INT</pre></div></div></li>

			</ul></li><li class="step"><p class="title"><strong>Configure the deployment scanner with the <code class="command">write-attribute</code> operation</strong></p><div class="para">
				Once you have determined the name of the attribute to modify, use the <code class="command">write-attribute</code> to specify the attribute name and the new value to write to it. The following examples are all run at the child node level, which can be accessed by using the <code class="command">cd</code> command and tab completion to expose and change into the default scanner node.
			</div><pre class="programlisting">[standalone@localhost:9999 /] cd subsystem=deployment-scanner/scanner=default</pre><ol class="substeps a"><li class="step"><p class="title"><strong>Enable automatic deployment of exploded content</strong></p><div class="para">
						Use the <code class="command">write-attribute</code> operation to enable the automatic deployment of exploded application content.
					</div><pre class="programlisting">[standalone@localhost:9999 scanner=default] :write-attribute(name=auto-deploy-exploded,value=true)
{"outcome" =&gt; "success"}</pre></li><li class="step"><p class="title"><strong>Disable the automatic deployment of XML content</strong></p><div class="para">
						Use the <code class="command">write-attribute</code> operation to disable the automatic deployment of XML application content.
					</div><pre class="programlisting">[standalone@localhost:9999 scanner=default] :write-attribute(name=auto-deploy-xml,value=false)     
{"outcome" =&gt; "success"}</pre></li><li class="step"><p class="title"><strong>Disable the automatic deployment of zipped content</strong></p><div class="para">
						Use the <code class="command">write-attribute</code> command to disable the automatic deployment of zipped application content.
					</div><pre class="programlisting">[standalone@localhost:9999 scanner=default] :write-attribute(name=auto-deploy-zipped,value=false)
{"outcome" =&gt; "success"}</pre></li><li class="step"><p class="title"><strong>Configure the path attribute</strong></p><div class="para">
						Use the <code class="command">write-attribute</code> operation to modify the path attribute, substituting the example <code class="literal">newpathname</code> value for the new path name for the deployment scanner to monitor. Note that the server will require a reload to take effect.
					</div><pre class="programlisting">[standalone@localhost:9999 scanner=default] :write-attribute(name=path,value=newpathname)            
{
    "outcome" =&gt; "success",
    "response-headers" =&gt; {
        "operation-requires-reload" =&gt; true,
        "process-state" =&gt; "reload-required"
    }
}</pre></li><li class="step"><p class="title"><strong>Configure the relative path attribute</strong></p><div class="para">
						Use the <code class="command">write-attribute</code> operation to modify the relative reference to the filesystem path defined in the paths section of the configuration XML file. Note that the server will require a reload to take effect.
					</div><pre class="programlisting">[standalone@localhost:9999 scanner=default] :write-attribute(name=relative-to,value=new.relative.dir)
{
    "outcome" =&gt; "success",
    "response-headers" =&gt; {
        "operation-requires-reload" =&gt; true,
        "process-state" =&gt; "reload-required"
    }
}</pre></li><li class="step"><p class="title"><strong>Disable the deployment scanner</strong></p><div class="para">
						Use the <code class="command">write-attribute</code> operation to disable the deployment scanner by setting the <code class="literal">scan-enabled</code> value to false.
					</div><pre class="programlisting">[standalone@localhost:9999 scanner=default] :write-attribute(name=scan-enabled,value=false)        
{"outcome" =&gt; "success"}</pre></li><li class="step"><p class="title"><strong>Change the scan interval</strong></p><div class="para">
						Use the <code class="command">write-attribute</code> operation to modify the scan interval time from 5000 milliseconds to 10000 milliseconds.
					</div><pre class="programlisting">[standalone@localhost:9999 scanner=default] :write-attribute(name=scan-interval,value=10000)
{"outcome" =&gt; "success"}</pre></li></ol></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Your configuration changes are saved to the deployment scanner.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5283-744095+%5BLatest%5D&amp;comment=Title%3A+Configure+the+Deployment+Scanner+with+the+Management+CLI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5283-744095+19+Feb+2015+21%3A55+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Define_a_Custom_Deployment_Scanner">
      ⁠</a>10.5.9. Define a Custom Deployment Scanner</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Management_Interfaces.html#Launch_the_Management_CLI1">Section 3.4.2, “Launch the Management CLI”</a>
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			A new deployment scanner can be added using the Management Console or the Management CLI. This will define a new directory to scan for deployments. The default deployment scanner monitors <code class="code"><em class="replaceable">EAP_HOME</em>/standalone/deployments/</code>. See <a class="xref" href="chap-Application_Deployment.html#Configure_the_Deployment_Scanner_with_the_Management_CLI1">Section 10.5.8, “Configure the Deployment Scanner with the Management CLI”</a> for details on configuring an existing deployment scanner.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978445048304">
      ⁠</a><p class="title"><strong>Procedure 10.13. Define a Custom Deployment Scanner with the Management CLI</strong></p><ol class="1"><li class="step"><div class="para">
				Add a deployment scanner using the Management CLI <code class="code">add</code> operation: 
<pre class="screen">[standalone@localhost:9999 /] /subsystem=deployment-scanner/scanner=new-scanner:add(path=new_deployment_dir,relative-to=jboss.server.base.dir,scan-interval=5000)
{"outcome" =&gt; "success"}</pre>
				 <div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
						The specified directory must already exist or this command will fail with an error.
					</div></div></div>

			</div></li><li class="step"><div class="para">
				The new deployment scanner is now visible in the <code class="code">standalone.xml</code> file and management interfaces. 
				<div class="example"><a id="idm139978540454192">
      ⁠</a><p class="title"><strong>Example 10.10. Excerpt from <code class="code">standalone.xml</code></strong></p><div class="example-contents"><div class="para">
						
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:deployment-scanner:1.1"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;deployment-scanner</span><span xmlns="" class="perl_Others"> path=</span><span xmlns="" class="perl_String">"deployments"</span><span xmlns="" class="perl_Others"> relative-to=</span><span xmlns="" class="perl_String">"jboss.server.base.dir"</span><span xmlns="" class="perl_Others"> scan-interval=</span><span xmlns="" class="perl_String">"5000"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;deployment-scanner</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"new-scanner"</span><span xmlns="" class="perl_Others"> path=</span><span xmlns="" class="perl_String">"new_deployment_dir"</span><span xmlns="" class="perl_Others"> relative-to=</span><span xmlns="" class="perl_String">"jboss.server.base.dir"</span><span xmlns="" class="perl_Others"> scan-interval=</span><span xmlns="" class="perl_String">"5000"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/subsystem&gt;</span></pre>

					</div></div></div>

			</div></li><li class="step"><div class="para">
				The specified directory will now be scanned for deployments. See <a class="xref" href="chap-Application_Deployment.html#Deploy_an_Application_to_a_Standalone_Server_Instance_with_the_Deployment_Scanner1">Section 10.5.2, “Deploy an Application to a Standalone Server Instance with the Deployment Scanner”</a> for details on deploying an application with the deployment scanner.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			A new deployment scanner has been defined and is monitoring for deployments.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+44608-764888+%5BLatest%5D&amp;comment=Title%3A+Define+a+Custom+Deployment+Scanner%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=44608-764888+13+Jul+2015+11%3A36+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Deploy_with_Maven">
      ⁠</a>10.6. Deploy with Maven</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Manage_Application_Deployment_with_Maven">
      ⁠</a>10.6.1. Manage Application Deployment with Maven</h2></div></div></div><div class="para">
		Deploying applications via Maven allows you to incorporate a deployment cycle as part of your existing development workflow.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+8894-591854+%5BLatest%5D&amp;comment=Title%3A+Manage+Application+Deployment+with+Maven%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=8894-591854+23+Feb+2014+16%3A55+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Deploy_an_Application_with_Maven1">
      ⁠</a>10.6.2. Deploy an Application with Maven</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Server_Management.html#Start_JBoss_EAP_6">Section 2.2.1, “Start JBoss EAP 6”</a>
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task shows a method for deploying applications with Maven. The example provided uses the <code class="filename">jboss-helloworld.war</code> application found in the JBoss EAP 6 Quickstarts collection. The <code class="filename">helloworld</code> project contains a POM file which initializes the <code class="filename">jboss-as-maven-plugin</code>. This plug-in provides simple operations to deploy and undeploy applications to and from the application server.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978523621440">
      ⁠</a><p class="title"><strong>Procedure 10.14. Deploy an application with Maven</strong></p><ol class="1"><li class="step"><div class="para">
				Open a terminal session and navigate to the directory containing the quickstart examples.
			</div><div class="example"><a id="idm139978516439856">
      ⁠</a><p class="title"><strong>Example 10.11. Change into the helloworld application directory</strong></p><div class="example-contents"><pre class="screen">[localhost]$ cd /QUICKSTART_HOME/helloworld
</pre></div></div></li><li class="step"><div class="para">
				Run the Maven deploy command to deploy the application. If the application is already running, it will be redeployed.
			</div><pre class="screen">[localhost]$ mvn package jboss-as:deploy</pre></li><li class="step"><div class="para">
				View the results.
			</div><ul class="stepalternatives">
				<li class="step"><div class="para">
						The deployment can be confirmed by viewing the operation logs in the terminal window.
					</div><div class="example"><a id="idm139978443988736">
      ⁠</a><p class="title"><strong>Example 10.12. Maven confirmation for helloworld application</strong></p><div class="example-contents"><pre class="screen">                        
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 32.629s
[INFO] Finished at: Fri Mar 14 09:09:50 EDT 2014
[INFO] Final Memory: 23M/204M
[INFO] ------------------------------------------------------------------------
</pre></div></div></li>
				 <li class="step"><div class="para">
						The deployment can also be confirmed in the status stream of the active application server instance.
					</div><div class="example"><a id="idm139978535079168">
      ⁠</a><p class="title"><strong>Example 10.13. Application server confirmation for helloworld application</strong></p><div class="example-contents"><pre class="screen">
09:09:49,167 INFO  [org.jboss.as.repository] (management-handler-thread - 1) JBAS014900: Content added at location /home/<em class="replaceable">username/EAP_HOME</em>/standalone/data/content/32/4b4ef9a4bbe7206d3674a89807203a2092fc70/content
09:09:49,175 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "jboss-helloworld.war" (runtime-name: "jboss-helloworld.war")
09:09:49,563 INFO  [org.jboss.weld.deployer] (MSC service thread 1-8) JBAS016002: Processing weld deployment jboss-helloworld.war
09:09:49,611 INFO  [org.jboss.weld.deployer] (MSC service thread 1-1) JBAS016005: Starting Services for CDI deployment: jboss-helloworld.war
09:09:49,680 INFO  [org.jboss.weld.Version] (MSC service thread 1-1) WELD-000900 1.1.17 (redhat)
09:09:49,705 INFO  [org.jboss.weld.deployer] (MSC service thread 1-2) JBAS016008: Starting weld service for deployment jboss-helloworld.war
09:09:50,080 INFO  [org.jboss.web] (ServerService Thread Pool -- 55) JBAS018210: Register web context: /jboss-helloworld
09:09:50,425 INFO  [org.jboss.as.server] (management-handler-thread - 1) JBAS018559: Deployed "jboss-helloworld.war" (runtime-name : "jboss-helloworld.war")</pre></div></div></li>

			</ul></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The application is deployed to the application server.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5277-621621+%5BLatest%5D&amp;comment=Title%3A+Deploy+an+Application+with+Maven%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5277-621621+14+Mar+2014+09%3A43+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Undeploy_an_Application_with_Maven">
      ⁠</a>10.6.3. Undeploy an Application with Maven</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="chap-Application_Server_Management.html#Start_JBoss_EAP_6">Section 2.2.1, “Start JBoss EAP 6”</a>
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task shows a method for undeploying applications with Maven. The example provided uses the <code class="filename">jboss-helloworld.war</code> application found in the JBoss EAP 6 Quickstarts collection. The <code class="filename">helloworld</code> project contains a POM file which initializes the <code class="filename">jboss-as-maven-plugin</code>. This plug-in provides simple operations to deploy and undeploy applications to and from the application server.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978443828128">
      ⁠</a><p class="title"><strong>Procedure 10.15. Undeploy an Application with Maven</strong></p><ol class="1"><li class="step"><div class="para">
				Open a terminal session and navigate to the directory containing the quickstart examples.
			</div><div class="example"><a id="idm139978522475248">
      ⁠</a><p class="title"><strong>Example 10.14. Change into the helloworld application directory</strong></p><div class="example-contents"><pre class="screen">[localhost]$ cd /QUICKSTART_HOME/helloworld
</pre></div></div></li><li class="step"><div class="para">
				Run the Maven undeploy command to undeploy the application.
			</div><pre class="screen">[localhost]$ mvn jboss-as:undeploy</pre></li><li class="step"><div class="para">
				View the results.
			</div><ul class="stepalternatives">
				<li class="step"><div class="para">
						The undeployment can be confirmed by viewing the operation logs in the terminal window.
					</div><div class="example"><a id="idm139978504217152">
      ⁠</a><p class="title"><strong>Example 10.15. Maven confirmation for undeploy of helloworld application</strong></p><div class="example-contents"><pre class="screen">
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Mon Oct 10 17:33:02 EST 2011
[INFO] Final Memory: 11M/212M
[INFO] ------------------------------------------------------------------------</pre></div></div></li>
				 <li class="step"><div class="para">
						The undeployment can also be confirmed in the status stream of the active application server instance.
					</div><div class="example"><a id="idm139978507005664">
      ⁠</a><p class="title"><strong>Example 10.16. Application server confirmation for undeploy of helloworld application</strong></p><div class="example-contents"><pre class="screen">09:51:40,512 INFO  [org.jboss.web] (ServerService Thread Pool -- 69) JBAS018224: Unregister web context: /jboss-helloworld
09:51:40,522 INFO  [org.jboss.weld.deployer] (MSC service thread 1-3) JBAS016009: Stopping weld service for deployment jboss-helloworld.war
09:51:40,536 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015877: Stopped deployment jboss-helloworld.war (runtime-name: jboss-helloworld.war) in 27ms
09:51:40,621 INFO  [org.jboss.as.repository] (management-handler-thread - 10) JBAS014901: Content removed from location /home/<em class="replaceable">username/EAP_HOME</em>/jboss-eap-6.4/standalone/data/content/44/e1f3c55c84b777b0fc201d69451223c09c9da5/content
09:51:40,621 INFO  [org.jboss.as.server] (management-handler-thread - 10) JBAS018558: Undeployed "jboss-helloworld.war" (runtime-name: "jboss-helloworld.war")
</pre></div></div></li>

			</ul></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The application is undeployed from the application server.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+5278-737518+%5BLatest%5D&amp;comment=Title%3A+Undeploy+an+Application+with+Maven%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=5278-737518+21+Jan+2015+03%3A27+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Control_the_order_of_Deployed_Applications_on_JBoss_Enterprise_Application_Platform">
      ⁠</a>10.7. Control the order of Deployed Applications on JBoss EAP 6</h1></div></div></div><div class="para">
		JBoss EAP 6 offers fine grained control over the order of deployment of applications when the server is started. Strict order of deployment of applications present in multiple ear files can be enabled along with persistence of the order after a restart.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978529421904">
      ⁠</a><p class="title"><strong>Procedure 10.16. Control the order of deployment in EAP 6.0</strong></p><ol class="1"><li class="step"><div class="para">
				Create CLI scripts that will deploy and undeploy the applications in sequential order when the server is started/stopped.
			</div></li><li class="step"><div class="para">
				CLI also supports the concept of batch mode which allows you to group commands and operations and execute them together as an atomic unit. If at least one of the commands or operations fails, all the other successfully executed commands and operations in the batch are rolled back.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978517316608">
      ⁠</a><p class="title"><strong>Procedure 10.17. Control the order of deployment in EAP 6.1 and later</strong></p><div class="para">
			From EAP 6.1 onward, Inter Deployment Dependencies allows you to declare dependencies between top level deployments.
		</div><ol class="1"><li class="step"><div class="para">
				Create (if it doesn't exist) a <code class="filename">jboss-all.xml</code> file in the <code class="filename">app.ear/META-INF</code> folder, where <code class="filename">app.ear</code> is the application archive that depends on another application archive to be deployed before it is.
			</div></li><li class="step"><div class="para">
				Make a <code class="code">jboss-deployment-dependencies</code> entry in this file as shown below. Note that in the listing below, <code class="filename">framework.ear</code> is the dependency application archive that should be deployed before <code class="filename">app.ear</code> application archive is.
			</div><pre class="programlisting">&lt;jboss umlns="urn:jboss:1.0"&gt;
  &lt;jboss-deployment-dependencies xmlns="urn:jboss:deployment-dependencies:1.0"&gt;
    &lt;dependency name="framework.ear" /&gt;
  &lt;/jboss-deployment-dependencies&gt;
&lt;/jboss&gt;</pre><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					You can use the deployment's runtime name as the dependency name in the <code class="filename">jboss-all.xml</code> file.
				</div></div></div><div class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
					Although the <code class="filename">jboss-all.xml</code> file allows you to declare dependencies that the server does not otherwise detect, it is not a strict ordering feature. JBoss EAP assumes that all dependencies specified in the <code class="filename">jboss-all.xml</code> file have already been deployed or are available. If there are missing dependencies, JBoss EAP does not automatically deploy them, and the deployment fails.
				</div></div></div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+13599-781358+%5BLatest%5D&amp;comment=Title%3A+Control+the+order+of+Deployed+Applications+on+JBoss+EAP+6%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=13599-781358+10+Jul+2017+09%3A16+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Define_a_Custom_Directory_for_Deployed_Content">
      ⁠</a>10.8. Define a Custom Directory for Deployed Content</h1></div></div></div><div class="para">
		JBoss EAP provides the option to define the location that the server will use for storing deployed content.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Define a Custom Directory for Deployed Content in Standalone Mode</div>
			By default, deployed content in Standalone Mode is stored in the <code class="code"><em class="replaceable">EAP_HOME</em>/standalone/data/content</code> directory. 
			<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						This location can be changed by passing in the <code class="code">-Djboss.server.deploy.dir</code> argument when starting the server: 
<pre class="screen">./standalone.sh -Djboss.server.deploy.dir=/path/to/new_deployed_content</pre>

					</div></li><li class="listitem"><div class="para">
						The chosen location should be unique among JBoss EAP instances.
					</div></li></ul></div>

		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			<code class="code">jboss.server.deploy.dir</code> specifies the directory used for storing content that has been deployed via the Management Console or Management CLI. For defining a custom deployments directory to be monitored by the deployment scanner, see <a class="xref" href="chap-Application_Deployment.html#Define_a_Custom_Deployment_Scanner">Section 10.5.9, “Define a Custom Deployment Scanner”</a>.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Define a Custom Directory for Deployed Content in Domain Mode</div>
			By default, deployed content in Domain Mode is stored in the <code class="code"><em class="replaceable">EAP_HOME</em>/domain/data/content</code> directory. 
			<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						This location can be changed by passing in the <code class="code">-Djboss.domain.deployment.dir</code> argument when starting the domain: 
<pre class="screen">./domain.sh -Djboss.domain.deployment.dir=/path/to/new_deployed_content</pre>

					</div></li><li class="listitem"><div class="para">
						The chosen location should be unique among JBoss EAP instances.
					</div></li></ul></div>

		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+44610-764880+%5BLatest%5D&amp;comment=Title%3A+Define+a+Custom+Directory+for+Deployed+Content%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=44610-764880+13+Jul+2015+10%3A52+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Deployment_Descriptor_Overrides">
      ⁠</a>10.9. Deployment Descriptor Overrides</h1></div></div></div><div class="para">
		From JBoss EAP 6.1 onward you can override deployment descriptors, JARs, classes, JSP pages, and other files at runtime. A <span class="emphasis"><em>deployment overlay</em></span> represents a ruleset of files that must be overridden in the archive. It also provides links to the new files that must be used instead of the overridden ones. If the file being overridden is not present in the deployment archive, it will be added back to the deployment.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139978456457056">
      ⁠</a><p class="title"><strong>Procedure 10.18. Override the deployment descriptor using the Management CLI</strong></p><div class="para">
			The following steps assume that you already have a deployed application called <code class="filename">app.war</code> and you wish to override its <code class="filename">WEB-INF/web.xml</code> file with another <code class="filename">web.xml</code> file located in <code class="filename">/home/user/web.xml</code>.
		</div><ol class="1"><li class="step"><div class="para">
				Add a deployment overlay and add content to it. You can achieve this in the following two ways:
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Using DMR tree</strong></p><div class="para">

					</div><ol class="substeps a"><li class="step"><div class="para">
								
<pre class="screen"><code class="command">/deployment-overlay=myoverlay:add</code></pre>

							</div></li><li class="step"><div class="para">
								
<pre class="screen"><code class="command">/deployment-overlay=myoverlay/content=WEB-INF\/web.xml:add(content={url=file:///home/user/web.xml})</code></pre>

							</div><div class="para">
								You can also add more content rules using the second statement.
							</div></li></ol></li>
				 <li class="step"><p class="title"><strong>Using convenience methods</strong></p><div class="para">
						
<pre class="screen"><code class="command">deployment-overlay add --name=myoverlay --content=WEB-INF/web.xml=/home/user/web.xml</code></pre>

					</div></li>

			</ul></li><li class="step"><div class="para">
				Link the overlay to a deployment archive. You can achieve this in the following two ways:
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Using DMR tree</strong></p><div class="para">
						
<pre class="screen"><code class="command">/deployment-overlay=myoverlay/deployment=app.war:add</code></pre>

					</div></li>
				 <li class="step"><p class="title"><strong>Using convenience methods</strong></p><div class="para">
						
<pre class="screen"><code class="command">deployment-overlay link --name=myoverlay --deployments=app.war</code></pre>

					</div><div class="para">
						To specify multiple archive names, separate them by commas.
					</div></li>

			</ul><div class="para">
				Note that the deployment archive name need not exist on the server. You are specifying the name, but not yet linking it to an actual deployment.
			</div></li><li class="step"><p class="title"><strong>Redeploy the application</strong></p><div class="para">
				
<pre class="screen"><code class="command">/deployment=app.war:redeploy</code></pre>

			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+22205-741578+%5BLatest%5D&amp;comment=Title%3A+Deployment+Descriptor+Overrides%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=22205-741578+05+Feb+2015+19%3A11+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Rollout_Plan">
      ⁠</a>10.10. Rollout Plan</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Rollout_Plans">
      ⁠</a>10.10.1. Rollout Plans</h2></div></div></div><div class="para">
		Operations targeted at domain or host level resources can potentially impact multiple servers. Such operations can include a <em class="firstterm">roll out plan</em> detailing the sequence in which the operation would be applied to the servers, as well as the policies for detailing whether the operation could be reverted if it fails to execute successfully on some servers.
	</div><div class="example"><a id="idm139978445927184">
      ⁠</a><p class="title"><strong>Example 10.17. CLI format of a rollout plan</strong></p><div class="example-contents"><div class="para">
			
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Function">rollout</span> (id=plan_id | server_group_list) [rollback-across-groups]
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>server_group_list := server_group [ (sequence_separator | concurrent_separator) server_group ]
<span xmlns="" class="line">​</span>sequence_separator := <span xmlns="" class="perl_Char">','</span>
<span xmlns="" class="line">​</span>concurrent_separator := <span xmlns="" class="perl_Char">'^'</span>
<span xmlns="" class="line">​</span>server_group := server_group_name [group_policy_list]
<span xmlns="" class="line">​</span>group_policy_list := <span xmlns="" class="perl_Char">'('</span> policy_property_name=<span xmlns="" class="perl_Function">policy_property_value</span> (, policy_property_name=policy_property_value)* <span xmlns="" class="perl_Char">')'</span>
<span xmlns="" class="line">​</span>policy_property_name := 'rolling-to-servers' | 'max-failed-servers' | 'max-failure-percentage'</pre>
			 The value of policy_property_value depends on the property. It can be a boolean, an integer, etc.
		</div></div></div><div class="para">
		Rollout plans can potentially be long and complex. There is a possibility, though, to store them as a part of the domain management model and then later be referenced from commands and operations using their name (or ID in the definition above). Stored rollout plans are managed using the <code class="command">rollout-plan</code> command.
	</div><div class="example"><a id="idm139978515146976">
      ⁠</a><p class="title"><strong>Example 10.18. Rollout plan managed with the <code class="command">rollout-plan</code> command</strong></p><div class="example-contents"><div class="para">
			
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>rollout-plan add --name=my-plan --content={rollout main-server-group^other-server-group}
<span xmlns="" class="line">​</span>:write-attribute(name=my-attr,value=my-value){rollout id=my-plan}</pre>

		</div></div></div><div class="example"><a id="idm139978450532784">
      ⁠</a><p class="title"><strong>Example 10.19. Using a stored rollout plan</strong></p><div class="example-contents"><div class="para">
			
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>rollout-plan add --name=my-plan --content={rollout main-server-group^other-server-group}
<span xmlns="" class="line">​</span>:write-attribute(name=my-attr,value=my-value){rollout id=my-plan}</pre>

		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+44573-767504+%5BLatest%5D&amp;comment=Title%3A+Rollout+Plans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=44573-767504+17+Aug+2015+06%3A33+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Operations_with_a_Rollout_Plan">
      ⁠</a>10.10.2. Operations with a Rollout Plan</h2></div></div></div><div class="para">
		The structure is of <code class="code">rollout-plan</code> within an <code class="code">operation</code> is as follows:
	</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span><span xmlns="" class="perl_String">"operation"</span> =&gt; <span xmlns="" class="perl_String">"write-core-threads"</span>,
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_String">"address"</span> =&gt; [
<span xmlns="" class="line">​</span>        (<span xmlns="" class="perl_String">"profile"</span> =&gt; <span xmlns="" class="perl_String">"production"</span>),
<span xmlns="" class="line">​</span>        (<span xmlns="" class="perl_String">"subsystem"</span> =&gt; <span xmlns="" class="perl_String">"threads"</span>),
<span xmlns="" class="line">​</span>        (<span xmlns="" class="perl_String">"bounded-queue-thread-pool"</span> =&gt; <span xmlns="" class="perl_String">"pool1"</span>)
<span xmlns="" class="line">​</span>    ],
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_String">"count"</span> =&gt; <span xmlns="" class="perl_Float">0</span>,
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_String">"per-cpu"</span> =&gt; <span xmlns="" class="perl_Float">20</span>,
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_String">"operation-headers"</span> =&gt; {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_String">"rollout-plan"</span> =&gt; {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_String">"in-series"</span> =&gt; [
<span xmlns="" class="line">​</span>                {
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_String">"concurrent-groups"</span> =&gt; {
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_String">"groupA"</span> =&gt; {
<span xmlns="" class="line">​</span>                            <span xmlns="" class="perl_String">"rolling-to-servers"</span> =&gt; <span xmlns="" class="perl_Keyword">true</span>,
<span xmlns="" class="line">​</span>                            <span xmlns="" class="perl_String">"max-failure-percentage"</span> =&gt; <span xmlns="" class="perl_Float">20</span>
<span xmlns="" class="line">​</span>                        },
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_String">"groupB"</span> =&gt; undefined
<span xmlns="" class="line">​</span>                    }
<span xmlns="" class="line">​</span>                },
<span xmlns="" class="line">​</span>                {
<span xmlns="" class="line">​</span>                   <span xmlns="" class="perl_String">"server-group"</span> =&gt; {
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_String">"groupC"</span> =&gt; {
<span xmlns="" class="line">​</span>                            <span xmlns="" class="perl_String">"rolling-to-servers"</span> =&gt; <span xmlns="" class="perl_Keyword">false</span>,
<span xmlns="" class="line">​</span>                            <span xmlns="" class="perl_String">"max-failed-servers"</span> =&gt; <span xmlns="" class="perl_Float">1</span>
<span xmlns="" class="line">​</span>                        }
<span xmlns="" class="line">​</span>                    }
<span xmlns="" class="line">​</span>                },
<span xmlns="" class="line">​</span>                {
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_String">"concurrent-groups"</span> =&gt; {
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_String">"groupD"</span> =&gt; {
<span xmlns="" class="line">​</span>                            <span xmlns="" class="perl_String">"rolling-to-servers"</span> =&gt; <span xmlns="" class="perl_Keyword">true</span>,
<span xmlns="" class="line">​</span>                            <span xmlns="" class="perl_String">"max-failure-percentage"</span> =&gt; <span xmlns="" class="perl_Float">20</span>
<span xmlns="" class="line">​</span>                        },
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_String">"groupE"</span> =&gt; undefined
<span xmlns="" class="line">​</span>                    }
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>            ],
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_String">"rollback-across-groups"</span> =&gt; <span xmlns="" class="perl_Keyword">true</span>
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}
</pre><div class="para">
		The <code class="code">rollout-plan</code> is nested within the <code class="code">operation-headers</code> structure. The root node of the structure allows two children:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<code class="code">in-series</code> - A list of steps that are to be performed in series, with each step reaching completion before the next step is executed. Each step involves the application of the operation to the servers in one or more server groups. See below for details on each element in the list.
			</div></li><li class="listitem"><div class="para">
				<code class="code">rollback-across-groups</code> - A boolean that indicates whether the need to rollback the operation on all the servers in one server group triggers a rollback across all the server groups. This is an optional setting, and defaults to false.
			</div></li></ul></div><div class="para">
		Each element in the list under the <code class="code">in-series</code> node must have one or the other of the following structures:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<code class="code">concurrent-groups</code> - A map of server group names to policies controlling how the operation should be applied to that server group. For each server group in the map, the operation may be applied concurrently. See below for details on the per-server-group policy configuration.
			</div></li><li class="listitem"><div class="para">
				<code class="code">server-group</code> - A single key/value mapping of a server group name to a policy controlling how the operation should be applied to that server group. See below for details on the policy configuration. (Note: there is no difference in plan execution between this and a "concurrent-groups" map with a single entry.)
			</div></li></ul></div><div class="para">
		The policy controlling how the operation is applied to the servers within a server group has the following elements, each of which is optional:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<code class="code">rolling-to-servers</code> - A boolean which if set to <code class="literal">true</code>, the operation will be applied to each server in the group in series. If false or not specified, the operation will be applied to the servers in the group concurrently.
			</div></li><li class="listitem"><div class="para">
				<code class="code">max-failed-servers</code> - An integer which takes the maximum number of servers in the group that can fail to apply the operation before it should be reverted on all servers in the group. The default value if not specified is zero; i.e. failure on any server triggers rollback across the group.
			</div></li><li class="listitem"><div class="para">
				<code class="code">max-failure-percentage</code> - An integer between 0 and 100 which takes the maximum percentage of the total number of servers in the group that can fail to apply the operation before it should be reverted on all servers in the group. The default value if not specified is zero; i.e. failure on any server triggers rollback across the group.
			</div></li></ul></div><div class="para">
		If both <code class="code"/>max-failed-servers and max-failure-percentage are set to non-zero values, max-failure-percentage takes precedence.
	</div><div class="para">
		Looking at the (contrived) example above, application of the operation to the servers in the domain would be done in 3 phases. If the policy for any server group triggers a rollback of the operation across the server group, all other server groups will be rolled back as well. The 3 phases are:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				Server groups groupA and groupB will have the operation applied concurrently. The operation will be applied to the servers in groupA in series, while all servers in groupB will handle the operation concurrently. If more than 20% of the servers in groupA fail to apply the operation, it will be rolled back across that group. If any servers in groupB fail to apply the operation it will be rolled back across that group.
			</div></li><li class="listitem"><div class="para">
				Once all servers in groupA and groupB are complete, the operation will be applied to the servers in groupC. Those servers will handle the operation concurrently. If more than one server in groupC fails to apply the operation it will be rolled back across that group.
			</div></li><li class="listitem"><div class="para">
				Once all servers in groupC are complete, server groups groupD and groupE will have the operation applied concurrently. The operation will be applied to the servers in groupD in series, while all servers in groupE will handle the operation concurrently. If more than 20% of the servers in groupD fail to apply the operation, it will be rolled back across that group. If any servers in groupE fail to apply the operation it will be rolled back across that group.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Default Rollout Plan</div>
			All operations that impact multiple servers will be executed with a rollout plan. However, actually specifying the rollout plan in the operation request is not required. If no rollout-plan is specified, a default plan will be generated. The plan will have the following characteristics:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				There will only be a single high level phase. All server groups affected by the operation will have the operation applied concurrently.
			</div></li><li class="listitem"><div class="para">
				Within each server group, the operation will be applied to all servers concurrently.
			</div></li><li class="listitem"><div class="para">
				Failure on any server in a server group will cause rollback across the group.
			</div></li><li class="listitem"><div class="para">
				Failure of any server group will result in rollback of all other server groups.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+44574-764028+%5BLatest%5D&amp;comment=Title%3A+Operations+with+a+Rollout+Plan%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=44574-764028+07+Jul+2015+02%3A22+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Creating_a_Rollout_Deployment_Plan">
      ⁠</a>10.10.3. Creating a Rollout Deployment Plan</h2></div></div></div><div class="para">
		How to create a roll out deployment plan to deploy applications in a clustered domain in JBoss EAP 6
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><div class="para">
				Create a rollout deployment plan using CLI with rolling-to-servers=true. The package will be deployed to each server in the server group in a serial manner.
			</div><div class="para">
				An example CLI deployment plan for serial deployment is provided below: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>deploy ClusterWebApp.<span xmlns="" class="perl_Function">war</span> --name=ClusterWebApp.<span xmlns="" class="perl_Function">war</span> --runtime-name=ClusterWebApp.<span xmlns="" class="perl_Function">war</span> --server-groups=ha-server-group --headers={rollout ha-server-group(rolling-to-servers=<span xmlns="" class="perl_Keyword">true</span>)}
</pre>

			</div></li><li class="step"><div class="para">
				To apply a rollout plan to all the server-groups, you need to mention the names of each server-group in master host:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>deploy /NotBackedUp/PREVIOUS/ALLWAR/ClusterWebApp.<span xmlns="" class="perl_Function">war</span> --name=ClusterWebApp.<span xmlns="" class="perl_Function">war</span> --runtime-name=ClusterWebApp.<span xmlns="" class="perl_Function">war</span> --server-groups=main-server-group,other-server-group --headers={rollout main-server-group(rolling-to-servers=<span xmlns="" class="perl_Keyword">true</span>),other-server-group(rolling-to-servers=<span xmlns="" class="perl_Keyword">true</span>)}
</pre></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23087%2C+Red+Hat+Administration+and+Configuration+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A12%3A46%0ATopic+ID%3A+44575-766757+%5BLatest%5D&amp;comment=Title%3A+Creating+a+Rollout+Deployment+Plan%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=44575-766757+04+Aug+2015+12%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div></div></body></html>