<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 5. Logging for Developers</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Logging_for_Developers">
      ⁠</a>Chapter 5. Logging for Developers</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Introduction1">
      ⁠</a>5.1. Introduction</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="About_Logging">
      ⁠</a>5.1.1. About Logging</h2></div></div></div><div class="para">
		Logging is the practice of recording a series of messages from an application that provide a record (or log) of the application's activities.
	</div><div class="para">
		Log messages provide important information for developers when debugging an application and for system administrators maintaining applications in production.
	</div><div class="para">
		Most modern logging frameworks in Java also include other details such as the exact time and the origin of the message.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+4576-591666+%5BLatest%5D&amp;comment=Title%3A+About+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4576-591666+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Application_Logging_Frameworks_Supported_By_JBoss_LogManager1">
      ⁠</a>5.1.2. Application Logging Frameworks Supported By JBoss LogManager</h2></div></div></div><div class="para">
		JBoss LogManager supports the following logging frameworks:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				JBoss Logging - included with JBoss EAP 6
			</div></li><li class="listitem"><div class="para">
				Apache Commons Logging - <a href="http://commons.apache.org/logging/">http://commons.apache.org/logging/</a>
			</div></li><li class="listitem"><div class="para">
				Simple Logging Facade for Java (SLF4J) - <a href="http://www.slf4j.org/">http://www.slf4j.org/</a>
			</div></li><li class="listitem"><div class="para">
				Apache log4j - <a href="http://logging.apache.org/log4j/1.2/">http://logging.apache.org/log4j/1.2/</a>
			</div></li><li class="listitem"><div class="para">
				Java SE Logging (java.util.logging) - <a href="http://download.oracle.com/javase/6/docs/api/java/util/logging/package-summary.html">http://download.oracle.com/javase/6/docs/api/java/util/logging/package-summary.html</a>
			</div></li></ul></div><div class="para">
		JBoss LogManager supports the following APIs:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				java.util.logging
			</div></li><li class="listitem"><div class="para">
				JBoss Logging
			</div></li><li class="listitem"><div class="para">
				Log4j
			</div></li><li class="listitem"><div class="para">
				SLF4J
			</div></li><li class="listitem"><div class="para">
				commons-logging
			</div></li></ul></div><div class="para">
		JBoss LogManager also supports the following SPIs:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				java.util.logging Handler
			</div></li><li class="listitem"><div class="para">
				Log4j Appender
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			If you are using the <code class="literal">Log4j API</code> and a <code class="literal">Log4J Appender</code>, then Objects will be converted to <code class="literal">string</code> before being passed.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+4496-765884+%5BLatest%5D&amp;comment=Title%3A+Application+Logging+Frameworks+Supported+By+JBoss+LogManager%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4496-765884+24+Jul+2015+06%3A43+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="About_Log_Levels">
      ⁠</a>5.1.3. About Log Levels</h2></div></div></div><div class="para">
		Log levels are an ordered set of enumerated values that indicate the nature and severity of a log message. The level of a given log message is specified by the developer using the appropriate methods of their chosen logging framework to send the message.
	</div><div class="para">
		JBoss EAP 6 supports all the log levels used by the supported application logging frameworks. The most commonly used six log levels are (in order of lowest to highest): <code class="literal">TRACE</code>, <code class="literal">DEBUG</code>, <code class="literal">INFO</code>, <code class="literal">WARN</code>, <code class="literal">ERROR</code> and <code class="literal">FATAL</code>.
	</div><div class="para">
		Log levels are used by log categories and handlers to limit the messages they are responsible for. Each log level has an assigned numeric value which indicates its order relative to other log levels. Log categories and handlers are assigned a log level and they only process log messages of that level or higher. For example a log handler with the level of <code class="literal">WARN</code> will only record messages of the levels <code class="literal">WARN</code>, <code class="literal">ERROR</code> and <code class="literal">FATAL</code>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+8869-591853+%5BLatest%5D&amp;comment=Title%3A+About+Log+Levels%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=8869-591853+23+Feb+2014+16%3A55+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Supported_Log_Levels">
      ⁠</a>5.1.4. Supported Log Levels</h2></div></div></div><div class="table"><a id="table-supported-log-levels">
      ⁠</a><p class="title"><strong>Table 5.1. Supported Log Levels</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Supported Log Levels"><colgroup><col width="14%" style="text-align: left" class="c1"/><col width="10%" style="text-align: left" class="c2"/><col width="76%" style="text-align: left" class="c3"/></colgroup><thead><tr><th style="text-align: left"> Log Level </th><th style="text-align: left"> Value </th><th style="text-align: left"> Description </th></tr></thead><tbody><tr><td style="text-align: left"> FINEST </td><td style="text-align: left"> 300 </td><td style="text-align: left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td style="text-align: left"> FINER </td><td style="text-align: left"> 400 </td><td style="text-align: left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td style="text-align: left"> TRACE </td><td style="text-align: left"> 400 </td><td style="text-align: left"> <div class="para">
						Use for messages that provide detailed information about the running state of an application. Log messages of <code class="literal">TRACE</code> are usually only captured when debugging an application.
					</div>
					 </td></tr><tr><td style="text-align: left"> DEBUG </td><td style="text-align: left"> 500 </td><td style="text-align: left"> <div class="para">
						Use for messages that indicate the progress individual requests or activities of an application. Log messages of <code class="literal">DEBUG</code> are usually only captured when debugging an application.
					</div>
					 </td></tr><tr><td style="text-align: left"> FINE </td><td style="text-align: left"> 500 </td><td style="text-align: left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td style="text-align: left"> CONFIG </td><td style="text-align: left"> 700 </td><td style="text-align: left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td style="text-align: left"> INFO </td><td style="text-align: left"> 800 </td><td style="text-align: left"> <div class="para">
						Use for messages that indicate the overall progress of the application. Often used for application startup, shutdown and other major lifecycle events.
					</div>
					 </td></tr><tr><td style="text-align: left"> WARN </td><td style="text-align: left"> 900 </td><td style="text-align: left"> <div class="para">
						Use to indicate a situation that is not in error but is not considered ideal. May indicate circumstances that may lead to errors in the future.
					</div>
					 </td></tr><tr><td style="text-align: left"> WARNING </td><td style="text-align: left"> 900 </td><td style="text-align: left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td style="text-align: left"> ERROR </td><td style="text-align: left"> 1000 </td><td style="text-align: left"> <div class="para">
						Use to indicate an error that has occurred that could prevent the current activity or request from completing but will not prevent the application from running.
					</div>
					 </td></tr><tr><td style="text-align: left"> SEVERE </td><td style="text-align: left"> 1000 </td><td style="text-align: left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td style="text-align: left"> FATAL </td><td style="text-align: left"> 1100 </td><td style="text-align: left"> <div class="para">
						Use to indicate events that could cause critical service failure and application shutdown and possibly cause JBoss EAP 6 to shutdown.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+8872-591853+%5BLatest%5D&amp;comment=Title%3A+Supported+Log+Levels%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=8872-591853+23+Feb+2014+16%3A55+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Default_Log_File_Locations">
      ⁠</a>5.1.5. Default Log File Locations</h2></div></div></div><div class="para">
		These are the log files that get created for the default logging configurations. The default configuration writes the server log files using periodic log handlers
	</div><div class="table"><a id="topicID4495-table-standalone_log_file_locations">
      ⁠</a><p class="title"><strong>Table 5.2. Default Log File for a standalone server</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Default Log File for a standalone server"><colgroup><col width="50%" style="text-align: left" class="c1"/><col width="50%" style="text-align: left" class="c2"/></colgroup><thead><tr><th style="text-align: left"> Log File </th><th style="text-align: left"> Description </th></tr></thead><tbody><tr><td style="text-align: left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/log/server.log</code> </td><td style="text-align: left"> <div class="para">
						Server Log. Contains all server log messages, including server startup messages.
					</div>
					 </td></tr><tr><td style="text-align: left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/log/gc.log </code> </td><td style="text-align: left"> <div class="para">
						Garbage collection log. Contains details of all garbage collection.
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="topicID4495-table-domain_log_file_locations">
      ⁠</a><p class="title"><strong>Table 5.3. Default Log Files for a managed domain</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Default Log Files for a managed domain"><colgroup><col width="50%" style="text-align: left" class="c1"/><col width="50%" style="text-align: left" class="c2"/></colgroup><thead><tr><th style="text-align: left"> Log File </th><th style="text-align: left"> Description </th></tr></thead><tbody><tr><td style="text-align: left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/log/host-controller.log</code> </td><td style="text-align: left"> <div class="para">
						Host Controller boot log. Contains log messages related to the startup of the host controller.
					</div>
					 </td></tr><tr><td style="text-align: left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/log/process-controller.log</code> </td><td style="text-align: left"> <div class="para">
						Process controller boot log. Contains log messages related to the startup of the process controller.
					</div>
					 </td></tr><tr><td style="text-align: left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/servers/<em class="replaceable">SERVERNAME</em>/log/server.log</code> </td><td style="text-align: left"> <div class="para">
						The server log for the named server. Contains all log messages for that server, including server startup messages.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+4495-635317+%5BLatest%5D&amp;comment=Title%3A+Default+Log+File+Locations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4495-635317+30+Apr+2014+09%3A43+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Logging_with_the_JBoss_Logging_Framework">
      ⁠</a>5.2. Logging with the JBoss Logging Framework</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="About_JBoss_Logging">
      ⁠</a>5.2.1. About JBoss Logging</h2></div></div></div><div class="para">
		JBoss Logging is the application logging framework that is included in JBoss EAP 6.
	</div><div class="para">
		JBoss Logging provide an easy way to add logging to an application. You add code to your application that uses the framework to send log messages in a defined format. When the application is deployed to an application server, these messages can be captured by the server and displayed and/or written to file according to the server's configuration.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+4575-591666+%5BLatest%5D&amp;comment=Title%3A+About+JBoss+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4575-591666+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Features_of_JBoss_Logging">
      ⁠</a>5.2.2. Features of JBoss Logging</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Provides an innovative, easy to use "typed" logger.
			</div></li><li class="listitem"><div class="para">
				Full support for internationalization and localization. Translators work with message bundles in properties files while developers can work with interfaces and annotations.
			</div></li><li class="listitem"><div class="para">
				Build-time tooling to generate typed loggers for production, and runtime generation of typed loggers for development.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+4578-591669+%5BLatest%5D&amp;comment=Title%3A+Features+of+JBoss+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4578-591669+23+Feb+2014+16%3A54+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Add_Logging_to_an_Application_with_JBoss_Logging">
      ⁠</a>5.2.3. Add Logging to an Application with JBoss Logging</h2></div></div></div><div class="para">
		To log messages from your application you create a Logger object (<code class="code">org.jboss.logging.Logger</code>) and call the appropriate methods of that object. This task describes the steps required to add support for this to your application.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				If you are using Maven as your build system, the project must be configured to include the JBoss Maven Repository. Refer to <a class="xref" href="chap-Maven_Guide.html#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section 2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>
			</div></li><li class="listitem"><div class="para">
				The JBoss Logging JAR files must be in the build path for your application. How you do this depends on whether you build your application using Red Hat JBoss Developer Studio or with Maven.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						When building using Red Hat JBoss Developer Studio select <span class="guimenuitem"><strong>Properties</strong></span> from the <span class="guimenu"><strong>Project</strong></span> menu, then select <span class="guimenuitem"><strong>Targeted Runtimes</strong></span> and ensure the runtime for JBoss EAP 6 is checked.
					</div></li><li class="listitem"><div class="para">
						When building using Maven add the following dependency configuration to your project's <code class="filename">pom.xml</code> file.
					</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.logging<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-logging<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>3.1.2.GA-redhat-1<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>provided<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span></pre></li></ul></div><div class="para">
				You do not need to include the JARs in your built application because JBoss EAP 6 provides them to deployed applications.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm140550791421792">
      ⁠</a><p class="title"><strong>Procedure 5.1. Add Logging to an Application</strong></p><div class="para">
			Complete the following procedure for each class to which you want to add logging:
		</div><ol class="1"><li class="step"><p class="title"><strong>Add imports</strong></p><div class="para">
				Add the <code class="systemitem">import</code> statements for the JBoss Logging class namespaces that you will be using. At a minimum you will need to import <code class="code">import org.jboss.logging.Logger</code>. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Logger;</span></pre>

			</div></li><li class="step"><p class="title"><strong>Create a Logger object</strong></p><div class="para">
				Create an instance of <code class="code">org.jboss.logging.Logger</code> and initialize it by calling the static method <code class="code">Logger.getLogger(Class)</code>. Red Hat recommends creating this as a single instance variable for each class.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> Logger LOGGER = Logger.<span xmlns="" class="perl_Function">getLogger</span>(HelloWorld.<span xmlns="" class="perl_Function">class</span>);</pre></li><li class="step"><p class="title"><strong>Add logging messages</strong></p><div class="para">
				Add calls to the methods of the <code class="code">Logger</code> object to your code where you want it to send log messages. The <code class="code">Logger</code> object has many different methods with different parameters for different types of messages. The easiest to use are:
			</div><table border="0" summary="Simple list" class="simplelist"><tr><td> <code class="code">debug(Object message)</code> </td></tr><tr><td> <code class="code">info(Object message)</code> </td></tr><tr><td> <code class="code">error(Object message)</code> </td></tr><tr><td> <code class="code">trace(Object message)</code> </td></tr><tr><td> <code class="code">fatal(Object message)</code> </td></tr></table><div class="para">
				These methods send a log message with the corresponding log level and the <code class="code">message</code> parameter as a string.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>LOGGER.<span xmlns="" class="perl_Function">error</span>(<span xmlns="" class="perl_String">"Configuration file not found."</span>);</pre><div class="para">
				For the complete list of JBoss Logging methods refer to the <code class="code">org.jboss.logging</code> package in the JBoss EAP 6 API Documentation.
			</div></li></ol></div><div class="example"><a id="idm140550805178256">
      ⁠</a><p class="title"><strong>Example 5.1. Using JBoss Logging when opening a properties file</strong></p><div class="example-contents"><div class="para">
			This example shows an extract of code from a class that loads customized configuration for an application from a properties file. If the specified file is not found, an ERROR level log message is recorded.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Logger;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> LocalSystemConfig
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> Logger LOGGER = Logger.<span xmlns="" class="perl_Function">getLogger</span>(LocalSystemConfig.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> Properties <span xmlns="" class="perl_Function">openCustomProperties</span>(String configname) <span xmlns="" class="perl_Keyword">throws</span> CustomConfigFileNotFoundException
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      Properties props = <span xmlns="" class="perl_Keyword">new</span> Properties();
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">try</span> 
<span xmlns="" class="line">​</span>      {
<span xmlns="" class="line">​</span>         LOGGER.<span xmlns="" class="perl_Function">info</span>(<span xmlns="" class="perl_String">"Loading custom configuration from "</span>+configname);
<span xmlns="" class="line">​</span>         props.<span xmlns="" class="perl_Function">load</span>(<span xmlns="" class="perl_Keyword">new</span> FileInputStream(configname));
<span xmlns="" class="line">​</span>      }
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">catch</span>(IOException e) <span xmlns="" class="perl_Comment">//catch exception in case properties file does not exist</span>
<span xmlns="" class="line">​</span>      {
<span xmlns="" class="line">​</span>         LOGGER.<span xmlns="" class="perl_Function">error</span>(<span xmlns="" class="perl_String">"Custom configuration file ("</span>+configname+<span xmlns="" class="perl_String">") not found. Using defaults."</span>);
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">CustomConfigFileNotFoundException</span>(configname);
<span xmlns="" class="line">​</span>      }
<span xmlns="" class="line">​</span>      
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> props;
<span xmlns="" class="line">​</span>   }</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+4501-759166+%5BLatest%5D&amp;comment=Title%3A+Add+Logging+to+an+Application+with+JBoss+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=4501-759166+22+May+2015+08%3A09+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Per-deployment_Logging">
      ⁠</a>5.3. Per-deployment Logging</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="About_Per-deployment_Logging">
      ⁠</a>5.3.1. About Per-deployment Logging</h2></div></div></div><div class="para">
		Per-deployment logging allows a developer to configure in advance the logging configuration for their application. When the application is deployed, logging begins according to the defined configuration. The log files created through this configuration contain information only about the behavior of the application.
	</div><div class="para">
		This approach has advantages and disadvantages over using system-wide logging. An advantage is that the administrator of the JBoss EAP instance does not need to configure logging. A disadvantage is that the per-deployment logging configuration is read only on startup and so cannot be changed at runtime.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+34418-707569+%5BLatest%5D&amp;comment=Title%3A+About+Per-deployment+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=34418-707569+09+Sep+2014+02%3A27+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Add_Per-deployment_Logging_to_an_Application">
      ⁠</a>5.3.2. Add Per-deployment Logging to an Application</h2></div></div></div><div class="para">
		To configure per-deployment logging, add the logging configuration file <code class="filename">logging.properties</code> into the deployment. This configuration file is recommended because it can be used with any logging facade as the JBoss Log Manager is the underlying log manager used.
	</div><div class="para">
		If you are using <code class="literal">Simple Logging Facade for Java (SLF4J)</code> or <code class="literal">Apache log4j</code>, the <code class="filename">logging.properties</code> configuration file is suitable. If you are using Apache log4j appenders then the configuration file <code class="filename">log4j.properties</code> is required. The configuration file <code class="filename">jboss-logging.properties</code> is supported only for legacy deployments.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm140550772948288">
      ⁠</a><p class="title"><strong>Procedure 5.2. Add Configuration File to the Application</strong></p><ul><li class="step"><p class="title"><strong>The directory into which the configuration file is added depends on the deployment method: <code class="literal">EAR</code>, <code class="literal">WAR</code> or <code class="literal">JAR</code>.</strong></p><ul class="stepalternatives">
				<li class="step"><p class="title"><strong><code class="literal">EAR</code> deployment</strong></p><div class="para">
						Copy the logging configuration file to the <code class="filename">META-INF</code> directory.
					</div></li>
				 <li class="step"><p class="title"><strong><code class="literal">WAR</code> or <code class="literal">JAR</code> deployment</strong></p><div class="para">
						Copy the logging configuration file to either the <code class="filename">META-INF</code> or <code class="filename">WEB-INF/classes</code> directory.
					</div></li>

			</ul></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+34424-665446+%5BLatest%5D&amp;comment=Title%3A+Add+Per-deployment+Logging+to+an+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=34424-665446+09+Jun+2014+13%3A58+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Example_logging.properties_File">
      ⁠</a>5.3.3. Example logging.properties File</h2></div></div></div><pre class="screen">
# Additional loggers to configure (the root logger is always configured)
loggers=
# Root logger configuration
logger.level=INFO
logger.handlers=FILE
 
# A handler configuration
handler.FILE=org.jboss.logmanager.handlers.FileHandler
handler.FILE.level=ALL
handler.FILE.formatter=PATTERN
handler.FILE.properties=append,autoFlush,enabled,suffix,fileName
handler.FILE.constructorProperties=fileName,append
handler.FILE.append=true
handler.FILE.autoFlush=true
handler.FILE.enabled=true
handler.FILE.fileName=${jboss.server.log.dir}/app.log
 
# The formatter to use
formatter.PATTERN=org.jboss.logmanager.formatters.PatternFormatter
formatter.PATTERN.properties=pattern
formatter.PATTERN.constructorProperties=pattern
formatter.PATTERN.pattern=%d %-5p %c: %m%n
</pre><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+34426-665446+%5BLatest%5D&amp;comment=Title%3A+Example+logging.properties+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=34426-665446+09+Jun+2014+13%3A58+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Logging_Profiles">
      ⁠</a>5.4. Logging Profiles</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="About_Logging_Profiles">
      ⁠</a>5.4.1. About Logging Profiles</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Logging profiles are only available in version 6.1.0 and later. They cannot be configured using the management console.
		</div></div></div><div class="para">
		Logging profiles are independent sets of logging configuration that can be assigned to deployed applications. As with the regular logging subsystem, a logging profile can define handlers, categories and a root logger but cannot refer to configuration in other profiles or the main logging subsystem. The design of logging profiles mimics the logging subsystem for ease of configuration.
	</div><div class="para">
		The use of logging profiles allows administrators to create logging configuration that are specific to one or more applications without affecting any other logging configuration. Because each profile is defined in the server configuration, the logging configuration can be changed without requiring that the affected applications be redeployed.
	</div><div class="para">
		Each logging profile can have the following configuration:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				A unique name. This is required.
			</div></li><li class="listitem"><div class="para">
				Any number of log handlers.
			</div></li><li class="listitem"><div class="para">
				Any number of log categories.
			</div></li><li class="listitem"><div class="para">
				Up to one root logger.
			</div></li></ul></div><div class="para">
		An application can specify a logging profile to use in its <code class="filename">MANIFEST.MF</code> file, using the <em class="parameter"><code>logging-profile</code></em> attribute.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+14116-648922+%5BLatest%5D&amp;comment=Title%3A+About+Logging+Profiles%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=14116-648922+01+Jun+2014+22%3A03+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Specify_a_Logging_Profile_in_an_Application">
      ⁠</a>5.4.2. Specify a Logging Profile in an Application</h2></div></div></div><div class="para">
		An application specifies the logging profile to use in its <code class="filename">MANIFEST.MF</code> file.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites:</strong></p><ol><li class="listitem"><div class="para">
				You must know the name of the logging profile that has been setup on the server for this application to use. Ask your server administrator for the name of the profile to use.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm140550731667984">
      ⁠</a><p class="title"><strong>Procedure 5.3. Add Logging Profile configuration to an Application</strong></p><ul><li class="step"><p class="title"><strong>Edit <code class="filename">MANIFEST.MF</code></strong></p><div class="para">
				If your application does not have a <code class="filename">MANIFEST.MF</code> file: create one with the following content, replacing <em class="replaceable">NAME</em> with the required profile name.
			</div><pre class="screen">Manifest-Version: 1.0
Logging-Profile: NAME</pre><div class="para">
				If your application already has a <code class="filename">MANIFEST.MF</code> file: add the following line to it, replacing <em class="replaceable">NAME</em> with the required profile name.
			</div><pre class="screen">Logging-Profile: NAME</pre></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			If you are using Maven and the <code class="systemitem">maven-war-plugin</code>, you can put your MANIFEST.MF file in <code class="filename">src/main/resources/META-INF/</code> and add the following configuration to your <code class="filename">pom.xml</code> file.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;plugin&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>maven-war-plugin<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;configuration&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;archive&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;manifestFile&gt;</span>src/main/resources/META-INF/MANIFEST.MF<span xmlns="" class="perl_Keyword">&lt;/manifestFile&gt;</span>  
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/archive&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/configuration&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/plugin&gt;</span></pre></div></div><div class="para">
		When the application is deployed it will use the configuration in the specified logging profile for its log messages.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+23088%2C+Red+Hat+Development+Guide-6.4%0ABuild+Date%3A+16-11-2017+09%3A13%3A01%0ATopic+ID%3A+14120-647035+%5BLatest%5D&amp;comment=Title%3A+Specify+a+Logging+Profile+in+an+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=14120-647035+30+May+2014+00%3A53+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div></div></body></html>