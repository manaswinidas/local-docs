<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 6. Secure the Management Interfaces with Role-Based Access Control</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Secure_the_Management_Interfaces_with_Role-Based_Access_Control">
      ⁠</a>Chapter 6. Secure the Management Interfaces with Role-Based Access Control</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="About_Role-Based_Access_Control_RBAC">
      ⁠</a>6.1. About Role-Based Access Control (RBAC)</h1></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Role-Based Access Control (RBAC) is a mechanism for specifying a set of permissions for management users. It allows multiple users to share responsibility for managing JBoss EAP 6 servers without each of them requiring unrestricted access. By providing "separation of duties" for management users, JBoss EAP 6 makes it easy for an organization to spread responsibility between individuals or groups without granting unnecessary privileges. This ensures the maximum possible security of your servers and data while still providing flexibility for configuration, deployment, and management.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Role-Based Access Control in JBoss EAP 6 works through a combination of role permissions and constraints.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Seven predefined roles are provided that each have different fixed permissions. The predefined roles are: Monitor, Operator, Maintainer, Deployer, Auditor, Administrator, and SuperUser. Each management user is assigned one or more roles, which specify what the user is permitted to do when managing the server.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Before changing the provider to <code class="literal">rbac</code>, be sure your configuration has a user who will be mapped to one of the RBAC roles, preferably with at least one in the Administrator or SuperUser role. Otherwise your installation will not be manageable unless it is shut down and the XML configuration is edited.
		</div><div class="para">
			If you have started with one of the standard XML configurations shipped with JBoss EAP 6, the <code class="literal">$local</code> user will be mapped to the <code class="literal">SuperUser</code> role and the <code class="literal">local</code> authentication scheme will be enabled. This will allow a user running the CLI on the same system as the JBoss EAP 6 process to have full administrative permissions. Remote CLI users and web-based admin console users will have no permissions.
		</div><div class="para">
			Map at least one user other than <code class="literal">$local</code> before switching the provider to <code class="literal">rbac</code>.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23145-748291+%5BLatest%5D&amp;comment=Title%3A+About+Role-Based+Access+Control+%28RBAC%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23145-748291+23+Mar+2015+18%3A35+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Role-Based_Access_Control_in_the_GUI_and_CLI">
      ⁠</a>6.2. Role-Based Access Control in the Management Console and CLI</h1></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		When Role-Based Access Control (RBAC) is enabled, the role assigned to a user determines the resources to which they have access and what operations they can conduct with a resource's attributes.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">The Management Console</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					In the management console some controls and views are disabled (greyed out) or not visible at all depending on the permissions of the role to which the user has been assigned.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					If you do not have read permissions to a resource attribute, that attribute will appear blank in the console. For example, most roles cannot read the username and password fields for datasources.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					If you do not have write permissions to a resource attribute, that attribute will be disabled (greyed-out) in the edit form for the resource. If you do not have write permissions to the resource, then the edit button for the resource will not appear.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					If a user does not have permissions to access a resource or attribute (it is "unaddressable" for that role), it will not appear in the console for that user. An example of that is the access control system itself which is only visible to a few roles by default.
				</div></dd><dt><span class="term">The Management CLI or API</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Users of the Management CLI or management API will encounter slightly different behavior in the API when RBAC is enabled.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Resources and attributes that cannot be read are filtered from results. If the filtered items are addressable by the role, their names are listed as <code class="code">filtered-attributes</code> in the <code class="code">response-headers</code> section of the result. If a resource or attribute is not addressable by the role, it is not listed.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Attempting to access a resource that is not addressable will result in a <code class="computeroutput">resource not found</code> error.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					If a user attempts to write or read a resource that they can address but lack the appropriate write or read permissions, a <code class="computeroutput">Permission Denied</code> error is returned.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23148-712538+%5BLatest%5D&amp;comment=Title%3A+Role-Based+Access+Control+in+the+Management+Console+and+CLI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23148-712538+24+Sep+2014+01%3A13+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Supported_Authentication_Schemes">
      ⁠</a>6.3. Supported Authentication Schemes</h1></div></div></div><div class="para">
		Role-Based Access Control works with the standard authentication providers that are included with JBoss EAP 6. The standard authentication providers are: <code class="systemitem">username/password</code>, <code class="systemitem">client certificate</code>, and <code class="systemitem">local user</code>.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Username/Password</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Users are authenticated using a username and password combination which is verified against either the <code class="filename">mgmt-users.properties</code> file, or an LDAP server.
				</div></dd><dt><span class="term">Client Certificate</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Using the Trust Store.
				</div></dd><dt><span class="term">Local User</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					<code class="command">jboss-cli.sh</code> authenticates automatically as Local User if the server that is running on the same machine. By default Local User is a member of the <code class="systemitem">SuperUser</code> group.
				</div></dd></dl></div><div class="para">
		Regardless of which provider is used, JBoss EAP is responsible for the assignment of roles to users. However when authenticating with the <code class="filename">mgmt-users.properties</code> file or an LDAP server, those systems can supply user group information. This information can also be used by JBoss EAP to assign roles to users.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23150-737045+%5BLatest%5D&amp;comment=Title%3A+Supported+Authentication+Schemes%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23150-737045+19+Jan+2015+10%3A41+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Supported_Roles">
      ⁠</a>6.4. The Standard Roles</h1></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		JBoss EAP 6 provides seven predefined user roles: Monitor, Operator, Maintainer, Deployer, Auditor, Administrator, and SuperUser. Each of these roles has a different set of permissions and is designed for specific use cases. The Monitor, Operator, Maintainer, Administrator, and SuperUser role each build upon each other, with each having more permissions than the previous. The Auditor and Deployer roles are similar to the Monitor and Maintainer roles respectively but have some additional special permissions and restrictions.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Monitor</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Users of the Monitor role have the fewest permissions and can only read the current configuration and state of the server. This role is intended for users who need to track and report on the performance of the server.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Monitors cannot modify server configuration nor can they access sensitive data or operations.
				</div></dd><dt><span class="term">Operator</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The Operator role extends the Monitor role by adding the ability to modify the runtime state of the server. This means that Operators can reload and shutdown the server as well as pause and resume JMS destinations. The Operator role is ideal for users who are responsible for the physical or virtual hosts of the application server so they can ensure that servers can be shutdown and restarted corrected when needed.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Operators cannot modify server configuration or access sensitive data or operations.
				</div></dd><dt><span class="term">Maintainer</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The Maintainer role has access to view and modify runtime state and all configuration except sensitive data and operations. The Maintainer role is the general purpose role that doesn't have access to sensitive data and operation. The Maintainer role allows users to be granted almost complete access to administer the server without giving those users access to passwords and other sensitive information.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Maintainers cannot access sensitive data or operations.
				</div></dd><dt><span class="term">Administrator</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The Administrator role has unrestricted access to all resources and operations on the server except the audit logging system. The Administrator role has access to sensitive data and operations. This role can also configure the access control system. The Administrator role is only required when handling sensitive data or configuring users and roles.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Administrators cannot access the audit logging system and cannot change themselves to the Auditor or SuperUser role.
				</div></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">SuperUser</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The SuperUser role has no restrictions and has complete access to all resources and operations of the server including the audit logging system. This role is equivalent to the administrator users of earlier versions of JBoss EAP 6 (6.0 and 6.1). If RBAC is disabled, all management users have permissions equivalent to the SuperUser role.
				</div></dd><dt><span class="term">Deployer</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The Deployer role has the same permissions as the Monitor, but can modify configuration and state for deployments and any other resource type enabled as an application resource.
				</div></dd><dt><span class="term">Auditor</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The Auditor role has all the permissions of the Monitor role and can also view (but not modify) sensitive data, and has full access to the audit logging system. The Auditor role is the only role other than SuperUser that can access the audit logging system.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Auditors cannot modify sensitive data or resources. Only read access is permitted.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23151-675491+%5BLatest%5D&amp;comment=Title%3A+The+Standard+Roles%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23151-675491+23+Jun+2014+14%3A22+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Role_Permissions_Matrix">
      ⁠</a>6.5. About Role Permissions</h1></div></div></div><div class="para">
		What each role is allowed to do is defined by what permissions it has. Not every role has every permission. Notably SuperUser has every permission and Monitor has the least.
	</div><div class="para">
		Each permission can grant read and/or write access for a single category of resources.
	</div><div class="para">
		The categories are: runtime state, server configuration, sensitive data, the audit log, and the access control system.
	</div><div class="para">
		<a class="xref" href="chap-Secure_the_Management_Interfaces_with_Role-Based_Access_Control.html#table-role-permission-matrix">Table 6.1, “Role Permissions Matrix”</a> summarizes the permissions of each role.
	</div><div class="table"><a id="table-role-permission-matrix">
      ⁠</a><p class="title"><strong>Table 6.1. Role Permissions Matrix</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="gt-4-cols gt-7-rows" summary="Role Permissions Matrix"><colgroup><col width="22%" class="col_1"/><col width="11%" class="col_2"/><col width="11%" class="col_3"/><col width="11%" class="col_4"/><col width="11%" class="col_5"/><col width="11%" class="col_6"/><col width="11%" class="col_7"/><col width="11%" class="col_8"/></colgroup><tbody><tr><td> </td><td> <div class="para"><p/>
						Monitor
					</div>
					 </td><td> <div class="para"><p/>
						Operator
					</div>
					 </td><td> <div class="para"><p/>
						Maintainer
					</div>
					 </td><td> <div class="para"><p/>
						Deployer
					</div>
					 </td><td> <div class="para"><p/>
						Auditor
					</div>
					 </td><td> <div class="para"><p/>
						Administrator
					</div>
					 </td><td> <div class="para"><p/>
						SuperUser
					</div>
					 </td></tr><tr><td> <div class="para"><p/>
						Read Config and State
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td></tr><tr><td> <div class="para"><p/>
						Read Sensitive Data [2]
					</div>
					 </td><td> </td><td> </td><td> </td><td> </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td></tr><tr><td> <div class="para"><p/>
						Modify Sensitive Data [2]
					</div>
					 </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td></tr><tr><td> <div class="para"><p/>
						Read/Modify Audit Log
					</div>
					 </td><td> </td><td> </td><td> </td><td> </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> </td><td> <div class="para"><p/>
						X
					</div>
					 </td></tr><tr><td> <div class="para"><p/>
						Modify Runtime State
					</div>
					 </td><td> </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X[1]
					</div>
					 </td><td> </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td></tr><tr><td> <div class="para"><p/>
						Modify Persistent Config
					</div>
					 </td><td> </td><td> </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X[1]
					</div>
					 </td><td> </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td></tr><tr><td> <div class="para"><p/>
						Read/Modify Access Control
					</div>
					 </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> <div class="para"><p/>
						X
					</div>
					 </td><td> <div class="para"><p/>
						X
					</div>
					 </td></tr></tbody></table></div></div><div class="para">
		[1] permissions are restricted to application resources.
	</div><div class="para">
		[2] What resources are considered to be "sensitive data" are configured using Sensitivity Constraints.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23154-592499+%5BLatest%5D&amp;comment=Title%3A+About+Role+Permissions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23154-592499+23+Feb+2014+16%3A58+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Application_Resources">
      ⁠</a>6.6. About Constraints</h1></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Constraints are named sets of access-control configuration for a specified list of resources. The RBAC system uses the combination of constraints and role permissions to determine if any specific user can perform a management action.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Constraints are divided into three classifications: application, sensitivity and vault expression.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Application Constraints</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Application Constraints define sets of resources and attributes that can be accessed by users of the Deployer role. By default the only enabled Application Constraint is core which includes deployments, deployment overlays. Application Constraints are also included (but not enabled by default) for datasources, logging, mail, messaging, naming, resource-adapters and security. These constraints allow Deployer users to not only deploy applications but also configure and maintain the resources that are required by those applications.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Application constraint configuration is in the Management API at <code class="code">/core-service=management/access=authorization/constraint=application-classification</code>.
				</div></dd><dt><span class="term">Sensitivity Constraints</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Sensitivity Constraints define sets of resources that are considered "sensitive". A sensitive resource is generally one that is either secret, like a password, or one that will have serious impact on the operation of the server, like networking, JVM configuration, or system properties. The access control system itself is also considered sensitive.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The only roles permitted to write to sensitive resources are Administrator and SuperUser. The Auditor role is only able to read sensitive resources. No other roles have access.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Sensitivity constraint configuration is in the Management API at <code class="code">/core-service=management/access=authorization/constraint=sensitivity-classification</code>.
				</div></dd><dt><span class="term">Vault Expression Constraint</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The Vault Expression constraint defines if reading or writing vault expressions is consider a sensitive operation. By default both reading and writing vault expressions is a sensitive operation.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					Vault Expression constraint configuration is in the Management API at <code class="code">/core-service=management/access=authorization/constraint=vault-expression</code>.
				</div></dd></dl></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Constraints can not be configured in the Management Console at this time.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23146-623213+%5BLatest%5D&amp;comment=Title%3A+About+Constraints%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23146-623213+21+Mar+2014+05%3A34+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="About_JMX_and_Role-Based_Access_Control">
      ⁠</a>6.7. About JMX and Role-Based Access Control</h1></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Role-Based Access Control applies to JMX in three ways:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para"><p/>
				The Management API of JBoss EAP 6 is exposed as JMX Management Beans. These Management Beans are referred to as "core mbeans" and access to them is controlled and filtered exactly the same as the underlying Management API itself.
			</div></li><li class="listitem"><div class="para"><p/>
				The JMX subsystem is configured with write permissions being "sensitive". This means only users of the Administrator and SuperUser roles can make changes to that subsystem. Users of the Auditor role can also read this subsystem configuration.
			</div></li><li class="listitem"><div class="para"><p/>
				By default Management Beans registered by deployed applications and services (non-core mbeans) can be accessed by all management users, but only users of the Maintainer, Operator, Administrator, SuperUser roles can write to them.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			Users can receive JMX notifications from a JMX client, such as jconsole. This feature is limited to local JMX connections. The JMX client must be connected either inside the same JVM as the application server, or on the same machine and use the Attach agent to connect to the application server (as jconsole does). JMX notifications for MBean registration/unregistration and attribute value changes are now also generated for MBeans in jboss.as and jboss.as.expr domains.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+24168-727511+%5BLatest%5D&amp;comment=Title%3A+About+JMX+and+Role-Based+Access+Control%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=24168-727511+25+Nov+2014+03%3A42+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Configuring_Role-Based_Access_Control">
      ⁠</a>6.8. Configuring Role-Based Access Control</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Overview_of_RBAC_Configuration_Tasks">
      ⁠</a>6.8.1. Overview of RBAC Configuration Tasks</h2></div></div></div><div class="para">
		When RBAC is enabled only users of the Administration or SuperUser role can view and make changes to the Access Control system.
	</div><div class="para">
		The management console provides an interface for the following common RBAC tasks:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				View and configure what roles are assigned to (or excluded from) each user
			</div></li><li class="listitem"><div class="para">
				View and configure what roles are assigned to (or excluded from) each group
			</div></li><li class="listitem"><div class="para">
				View group and user membership per role.
			</div></li><li class="listitem"><div class="para">
				Configure default membership per role.
			</div></li><li class="listitem"><div class="para">
				Create a scoped role
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The Management Console <span class="bold bold"><strong>cannot</strong></span> be used to enable or disable RBAC. Those settings are not exposed in the UI. Use the command line interface to perform these tasks.
		</div></div></div><div class="para">
		The management CLI provides access to the complete access control system. This means that everything that can be done in the management console can be done there, but a number of additional tasks can be performed with the management CLI that cannot be done with the management console.
	</div><div class="para">
		The following additional tasks can be performed in the CLI:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Enable and disable RBAC
			</div></li><li class="listitem"><div class="para">
				Change permission combination policy
			</div></li><li class="listitem"><div class="para">
				Configuring Application Resource and Resource Sensitivity Constraints
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23748-743141+%5BLatest%5D&amp;comment=Title%3A+Overview+of+RBAC+Configuration+Tasks%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23748-743141+15+Feb+2015+19%3A23+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Enabling_Role-Based_Access_Control">
      ⁠</a>6.8.2. Enabling Role-Based Access Control</h2></div></div></div><div class="para">
		By default the Role-Based Access Control (RBAC) system is disabled. It is enabled by changing the provider attribute from <code class="literal">simple</code> to <code class="literal">rbac</code>. This can be done using the Management CLI or by editing the server configuration XML file if the server is offline. When RBAC is disabled or enabled on a running server, the server configuration must be reloaded before it takes effect.
	</div><div class="para">
		Once enabled it can only be disabled by a user of the Administrator or SuperUser roles. By default the Management CLI runs as the <code class="literal">SuperUser</code> role if it is run on the same machine as the server.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772552065808">
      ⁠</a><p class="title"><strong>Procedure 6.1. Enabling RBAC</strong></p><ul><li class="step"><div class="para">
				To enable RBAC with the Management CLI, use the <code class="command">write-attribute</code> operation of the access authorization resource to set the provider attribute to <code class="literal">rbac</code>.
			</div><pre class="synopsis">/core-service=management/access=authorization:write-attribute(name=provider, value=rbac)</pre><pre class="screen">[standalone@localhost:9999 /] /core-service=management/access=authorization:write-attribute(name=provider, value=rbac)
{
    "outcome" =&gt; "success",
    "response-headers" =&gt; {
        "operation-requires-reload" =&gt; true,
        "process-state" =&gt; "reload-required"
    }
}
[standalone@localhost:9999 /] /:reload
{
    "outcome" =&gt; "success",
    "result" =&gt; undefined
}
</pre></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772554318944">
      ⁠</a><p class="title"><strong>Procedure 6.2. Disabling RBAC</strong></p><ul><li class="step"><div class="para">
				To disable RBAC with the Management CLI, use the <code class="command">write-attribute</code> operation of the access authorization resource to set the provider attribute to <code class="literal">simple</code>.
			</div><pre class="synopsis">/core-service=management/access=authorization:write-attribute(name=provider, value=simple)</pre><pre class="screen">[standalone@localhost:9999 /] /core-service=management/access=authorization:write-attribute(name=provider, value=simple)
{
    "outcome" =&gt; "success",
    "response-headers" =&gt; {
        "operation-requires-reload" =&gt; true,
        "process-state" =&gt; "reload-required"
    }
}
[standalone@localhost:9999 /] /:reload
{
    "outcome" =&gt; "success",
    "result" =&gt; undefined
}
</pre></li></ul></div><div class="para">
		If the server is offline the XML configuration can be edited to enabled or disable RBAC. To do this, edit the <code class="code">provider</code> attribute of the <code class="code">access-control</code> element of the management element. Set the value to <code class="literal">rbac</code> to enable, and <code class="literal">simple</code> to disable.
	</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;management&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;access-control</span><span xmlns="" class="perl_Others"> provider=</span><span xmlns="" class="perl_String">"rbac"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;role-mapping&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;role</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"SuperUser"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;include&gt;</span>
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_Keyword">&lt;user</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"$local"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;/include&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/role&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/role-mapping&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/access-control&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/management&gt;</span>
</pre><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23749-712537+%5BLatest%5D&amp;comment=Title%3A+Enabling+Role-Based+Access+Control%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23749-712537+24+Sep+2014+01%3A11+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Changing_the_Permission_Combination_Policy">
      ⁠</a>6.8.3. Changing the Permission Combination Policy</h2></div></div></div><div class="para">
		The Permission Combination Policy determines how permissions are determined if a user is assigned more than one role. This can be set to <code class="literal">permissive</code> or <code class="literal">rejecting</code>. The default is <code class="literal">permissive</code>.
	</div><div class="para">
		When set to <code class="literal">permissive</code>, if any role is assigned to the user that permits an action, then the action is allowed.
	</div><div class="para">
		When set to <code class="literal">rejecting</code>, if multiple roles are assigned to a user, then no action is allowed. This means that when the policy is set to <code class="literal">rejecting</code> each user should only be assigned one role. Users with multiple roles will not be able to use the Management Console or the Management CLI when the policy is set to <code class="literal">rejecting</code>.
	</div><div class="para">
		The Permission Combination Policy is configured by setting the <code class="code">permission-combination-policy</code> attribute to either <code class="literal">permissive</code> or <code class="literal">rejecting</code>. This can be done using the Management CLI or by editing the server configuration XML file if the server is offline.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772496870352">
      ⁠</a><p class="title"><strong>Procedure 6.3. Set the Permission Combination Policy</strong></p><ul><li class="step"><div class="para">
				Use the <code class="code">write-attribute</code> operation of the access authorization resource to set the <code class="code">permission-combination-policy</code> attribute to the required policy name.
			</div><pre class="synopsis">/core-service=management/access=authorization:write-attribute(name=permission-combination-policy, value=<em class="replaceable">POLICYNAME</em>)</pre><div class="para">
				The valid policy names are rejecting and permissive.
			</div><pre class="screen">[standalone@localhost:9999 /] /core-service=management/access=authorization:write-attribute(name=permission-combination-policy, value=rejecting)
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization] 

</pre></li></ul></div><div class="para">
		If the server is offline the XML configuration can be edited to change the permission combination policy value. To do this, edit the <code class="code">permission-combination-policy</code> attribute of the access-control element.
	</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;access-control</span><span xmlns="" class="perl_Others"> provider=</span><span xmlns="" class="perl_String">"rbac"</span><span xmlns="" class="perl_Others"> permission-combination-policy=</span><span xmlns="" class="perl_String">"rejecting"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;role-mapping&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;role</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"SuperUser"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;include&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;user</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"$local"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/include&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/role&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/role-mapping&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/access-control&gt;</span>
</pre><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23750-712534+%5BLatest%5D&amp;comment=Title%3A+Changing+the+Permission+Combination+Policy%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23750-712534+24+Sep+2014+01%3A08+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Managing_Roles">
      ⁠</a>6.9. Managing Roles</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="About_Role_Membership">
      ⁠</a>6.9.1. About Role Membership</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		When Role-Based Access Control (RBAC) is enabled, what a management user is permitted to do is determined by the roles to which the user is assigned. JBoss EAP 6 uses a system of includes and excludes based on both the user and group membership to determine to which role a user belongs.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		A user is considered to be assigned to a role if:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para"><p/>
				The user is:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
						listed as a user to be included in the role, or
					</div></li><li class="listitem"><div class="para"><p/>
						a member of a group that is listed to be included in the role.
					</div></li></ul></div></li><li class="listitem"><div class="para"><p/>
				The user is not:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
						listed as a user to exclude from the role, or
					</div></li><li class="listitem"><div class="para"><p/>
						a member of a group that is listed to be excluded from the role.
					</div></li></ul></div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Exclusions take priority over inclusions.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Role include and exclude settings for users and groups can be configured using both the management console and the management CLI.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Only users of the SuperUser or Administrator roles can perform this configuration.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23751-736838+%5BLatest%5D&amp;comment=Title%3A+About+Role+Membership%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23751-736838+19+Jan+2015+03%3A44+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_User_Role_Assignment_using_the_Management_Console">
      ⁠</a>6.9.2. Configure User Role Assignment</h2></div></div></div><div class="para">
		Roles for a user to be included in and excluded from can be configured in the Management Console and the Management CLI. This topic only shows using the Management Console.
	</div><div class="para">
		Only users in the <code class="literal">SuperUser</code> or <code class="literal">Administrator</code> roles can perform this configuration.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		The User roles configuration in the management console can be found by following these steps:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para"><p/>
				Login to the Management Console.
			</div></li><li class="listitem"><div class="para"><p/>
				Click on the <span class="guimenu"><strong>Administration</strong></span> tab.
			</div></li><li class="listitem"><div class="para"><p/>
				Expand the <span class="guilabel"><strong>Access Control</strong></span> menu and select <span class="guimenu"><strong>Role Assignment</strong></span>.
			</div></li><li class="listitem"><div class="para"><p/>
				Select the <span class="guimenu"><strong>USERS</strong></span> tab.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772487253424">
      ⁠</a><p class="title"><strong>Procedure 6.4. Create a new role assignment for a user</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the Management console.
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guimenu"><strong>Users</strong></span> tab of the <span class="guilabel"><strong>Role Assignment</strong></span> section.
			</div></li><li class="step"><div class="para">
				Click the <span class="guibutton"><strong>Add</strong></span> button at the top right of the user list. <span class="guilabel"><strong>Add User</strong></span> dialog appears.
			</div><div class="figure"><a id="idm139772558245584">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/4215.png" alt="Screenshot of Add User Dialog"/></div></div><p class="title"><strong>Figure 6.1. Add User Dialog</strong></p></div></li><li class="step"><div class="para">
				Specify user name, and optionally realm.
			</div></li><li class="step"><div class="para">
				Set the type menu to include or exclude.
			</div></li><li class="step"><div class="para">
				Click the checkbox of the roles to include or exclude. To check multiple items, hold down the Control key (Command key on OSX).
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Save</strong></span> to finish.
			</div><div class="para">
				When successful, the <span class="guilabel"><strong>Add User</strong></span> dialog closes, and the list of users is updated to reflect the changes made. If unsuccessful a <code class="literal">Failed to save role assignment</code> message is displayed.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772534200912">
      ⁠</a><p class="title"><strong>Procedure 6.5. Update the role assignment for a user</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the Management console.
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guimenu"><strong>Users</strong></span> tab of the <span class="guilabel"><strong>Role Assignment</strong></span> section.
			</div></li><li class="step"><div class="para">
				Select user from the list.
			</div></li><li class="step"><div class="para">
				Click <span class="guimenu"><strong>Edit</strong></span>. The selection panel enters edit mode.
			</div><div class="figure"><a id="idm139772542219728">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/4216.png" alt="Screenshot of Selection Edit View"/></div></div><p class="title"><strong>Figure 6.2. Selection Edit View</strong></p></div><div class="para">
				Here you can add and remove assigned and excluded roles for the user.
			</div><div class="orderedlist"><ol><li class="listitem"><div class="para"><p/>
						To add an assigned role, select the required role from the list of available roles on the left and click button with the right-facing arrow next to the assigned roles list. The role moves from the available list to the assigned list.
					</div></li><li class="listitem"><div class="para"><p/>
						To remove an assigned role, selected the required role from the assigned roles list on the right and click the button with the left-facing arrow next to the assigned roles list. The role moves from the assigned list to the available list.
					</div></li><li class="listitem"><div class="para"><p/>
						To add an excluded role, select the required role from the list of available roles on the left and click button with the right-facing arrow next to the excluded roles list. The role moves from the available list to the excluded list.
					</div></li><li class="listitem"><div class="para"><p/>
						To remove an excluded role, selected the required role from the excluded roles list on the right and click the button with the left-facing arrow next to the excluded roles list. The role moves from the excluded list to the available list.
					</div></li></ol></div></li><li class="step"><div class="para">
				Click <span class="guimenu"><strong>Save</strong></span> to finish.
			</div><div class="para">
				When successful, the edit view closes, and the list of users is updated to reflect the changes made. If unsuccessful a <code class="literal">Failed to save role assignment</code> message is displayed.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772548559984">
      ⁠</a><p class="title"><strong>Procedure 6.6. Remove role assignment for a user</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the Management console.
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guimenu"><strong>Users</strong></span> tab of the Role Assignment section.
			</div></li><li class="step"><div class="para">
				Select the user from the list.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Remove</strong></span>. The <span class="guilabel"><strong>Remove Role Assignment</strong></span> confirmation prompt appears.
			</div></li><li class="step"><div class="para">
				Click <span class="guimenu"><strong>Confirm</strong></span>.
			</div><div class="para">
				When successful, the user will no longer appear in the list of user role assignments.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Removing the user from the list of role assignments does not remove the user from the system, nor does it guarantee that no roles will be assigned to the user. Roles might still be assigned from group membership.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23745-712530+%5BLatest%5D&amp;comment=Title%3A+Configure+User+Role+Assignment%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23745-712530+24+Sep+2014+01%3A03+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_User_Role_Assignment_using_jboss-cli.sh">
      ⁠</a>6.9.3. Configure User Role Assignment using the Management CLI</h2></div></div></div><div class="para">
		Roles for a user to be included in and excluded from can be configured in the Management Console and the Management CLI. This topic only shows using the Management CLI.
	</div><div class="para">
		The configuration of mapping users and groups to roles is located in the management API at: <code class="code">/core-service=management/access=authorization</code> as <code class="code">role-mapping</code> elements.
	</div><div class="para">
		Only users of the SuperUser or Administrator roles can perform this configuration.
	</div><div class="para">
		For easier access to the commands, in the Management CLI change to the <code class="code">/core-service=management/access=authorization</code> location:
	</div><pre class="screen">[standalone@localhost:9999] cd /core-service=management/access=authorization</pre><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772549158560">
      ⁠</a><p class="title"><strong>Procedure 6.7. Viewing Role Assignment Configuration</strong></p><ol class="1"><li class="step"><div class="para">
				Use the :read-children-names operation to get a complete list of the configured roles:
			</div><pre class="synopsis">/core-service=management/access=authorization:read-children-names(child-type=role-mapping)</pre><pre class="screen">[standalone@localhost:9999 access=authorization] :read-children-names(child-type=role-mapping)
{
    "outcome" =&gt; "success",
    "result" =&gt; [
        "Administrator",
        "Deployer",
        "Maintainer",
        "Monitor",
        "Operator",
        "SuperUser"
    ]
}
</pre></li><li class="step"><div class="para">
				Use the <code class="code">read-resource</code> operation of a specified role-mapping to get the full details of a specific role:
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>:read-resource(recursive=true)</pre><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Administrator:read-resource(recursive=true)
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "include-all" =&gt; false,
        "exclude" =&gt; undefined,
        "include" =&gt; {
            "user-theboss" =&gt; {
                "name" =&gt; "theboss",
                "realm" =&gt; undefined,
                "type" =&gt; "USER"
            },
            "user-harold" =&gt; {
                "name" =&gt; "harold",
                "realm" =&gt; undefined,
                "type" =&gt; "USER"
            },
            "group-SysOps" =&gt; {
                "name" =&gt; "SysOps",
                "realm" =&gt; undefined,
                "type" =&gt; "GROUP"
            }
        }
    }
}
[standalone@localhost:9999 access=authorization]
</pre></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772555403536">
      ⁠</a><p class="title"><strong>Procedure 6.8. Add a new role</strong></p><div class="para">
			This procedure shows how to add a role-mapping entry for a role. This must be done before the role can be configured.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">add</code> operation to add a new role configuration.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>:add</pre><div class="para">
				<em class="replaceable">ROLENAME</em> is the name of the role that the new mapping is for.
			</div><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Auditor:add             
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772548687840">
      ⁠</a><p class="title"><strong>Procedure 6.9. Add a user as included in a role</strong></p><div class="para">
			This procedure shows how to add a user to the included list of a role.
		</div><div class="para">
			If no configuration for a role has been done, then a role-mapping entry for it must be done first.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">add</code> operation to add a user entry to the includes list of the role.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>/include=<em class="replaceable">ALIAS</em>:add(name=<em class="replaceable">USERNAME</em>, type=USER)</pre><div class="para">
				<em class="replaceable">ROLENAME</em> is the name of the role being configured.
			</div><div class="para">
				<code class="code">ALIAS</code> is a unique name for this mapping. Red Hat recommends that you use a naming convention for your aliases such as <code class="code">user-<em class="replaceable">USERNAME</em></code>.
			</div><div class="para">
				<em class="replaceable">USERNAME</em> is the name of the user being added to the include list.
			</div><pre class="screen"> [standalone@localhost:9999 access=authorization] ./role-mapping=Auditor/include=user-max:add(name=max, type=USER)
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772545473552">
      ⁠</a><p class="title"><strong>Procedure 6.10. Add a user as excluded in a role</strong></p><div class="para">
			This procedure shows how to add a user to the excluded list of a role.
		</div><div class="para">
			If no configuration for a role has been done, then a role-mapping entry for it must be done first.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">add</code> operation to add a user entry to the excludes list of the role.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>/exclude=<em class="replaceable">ALIAS</em>:add(name=<em class="replaceable">USERNAME</em>, type=USER)</pre><div class="para">
				<em class="replaceable">ROLENAME</em> is the name of the role being configured.
			</div><div class="para">
				<em class="replaceable">USERNAME</em> is the name of the user being added to the exclude list.
			</div><div class="para">
				<code class="code">ALIAS</code> is a unique name for this mapping. Red Hat recommends that you use a naming convention for your aliases such as <code class="code">user-<em class="replaceable">USERNAME</em></code>.
			</div><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Auditor/exclude=user-max:add(name=max, type=USER)
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772487669728">
      ⁠</a><p class="title"><strong>Procedure 6.11. Remove user role include configuration</strong></p><div class="para">
			This procedure shows how to remove a user include entry from a role mapping.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">remove</code> operation to remove the entry.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>/include=<em class="replaceable">ALIAS</em>:remove</pre><div class="para">
				<em class="replaceable">ROLENAME</em> is the name of the role being configured
			</div><div class="para">
				<code class="code">ALIAS</code> is a unique name for this mapping. Red Hat recommends that you use a naming convention for your aliases such as <code class="code">user-<em class="replaceable">USERNAME</em></code>.
			</div><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Auditor/include=user-max:remove
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre><div class="para">
				Removing the user from the list of includes does not remove the user from the system, nor does it guarantee that the role won't be assigned to the user. The role might still be assigned based on group membership.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772543824848">
      ⁠</a><p class="title"><strong>Procedure 6.12. Remove user role exclude configuration</strong></p><div class="para">
			This procedure shows how to remove an user exclude entry from a role mapping.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">remove</code> operation to remove the entry.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>/exclude=<em class="replaceable">ALIAS</em>:remove</pre><div class="para">
				<em class="replaceable">ROLENAME</em> is the name of the role being configured.
			</div><div class="para">
				<code class="code">ALIAS</code> is a unique name for this mapping. Red Hat recommends that you use a naming convention for your aliases such as <code class="code">user-<em class="replaceable">USERNAME</em></code>.
			</div><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Auditor/exclude=user-max:remove
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre><div class="para">
				Removing the user from the list of excludes does not remove the user from the system, nor does it guarantee the role will be assigned to the user. Roles might still be excluded based on group membership.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23746-712526+%5BLatest%5D&amp;comment=Title%3A+Configure+User+Role+Assignment+using+the+Management+CLI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23746-712526+24+Sep+2014+00%3A49+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="About_Roles_and_User_Groups">
      ⁠</a>6.9.4. About Roles and User Groups</h2></div></div></div><div class="para">
		Users authenticated using either the <code class="filename">mgmt-users.properties</code> file or an LDAP server, can be members of user groups. A user group is an arbitrary label that can be assigned to one or more users.
	</div><div class="para">
		The RBAC system can be configured to automatically assign roles to users depending on what user groups they are members of. It can also exclude users from roles based on group membership.
	</div><div class="para">
		When using the <code class="filename">mgmt-users.properties</code> file, group information is stored in the <code class="filename">mgmt-groups.properties</code> file. When using LDAP the group information is stored in the LDAP sever and maintained by those responsible for the LDAP server.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+24191-592548+%5BLatest%5D&amp;comment=Title%3A+About+Roles+and+User+Groups%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=24191-592548+23+Feb+2014+16%3A59+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_Group_Role_Assignment_with_the_Management_Console">
      ⁠</a>6.9.5. Configure Group Role Assignment</h2></div></div></div><div class="para">
		Roles can be assigned to a user based on the user's membership of a user group.
	</div><div class="para">
		Groups to be included or excluded from a role can be configured in the Management Console and the Management CLI. This topic only shows using the Management Console.
	</div><div class="para">
		Only users in the <code class="literal">SuperUser</code> or <code class="literal">Administrator</code> roles can perform this configuration.
	</div><div class="para">
		The Group roles configuration in the management console can be found by following these steps:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				Login to the Management Console.
			</div></li><li class="listitem"><div class="para">
				Click on the <span class="guimenu"><strong>Administration</strong></span> tab.
			</div></li><li class="listitem"><div class="para">
				Expand the <span class="guimenu"><strong>Access Control</strong></span> menu and select <span class="guimenu"><strong>Role Assignment</strong></span>.
			</div></li><li class="listitem"><div class="para">
				Select the <span class="guimenu"><strong>GROUPS</strong></span> tab.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772484570560">
      ⁠</a><p class="title"><strong>Procedure 6.13. Create a new role assignment for a group</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the Management console
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guimenu"><strong>GROUPS</strong></span> tab of the <span class="guilabel"><strong>Role Assignment</strong></span> section.
			</div></li><li class="step"><div class="para">
				Click the <span class="guimenu"><strong>Add</strong></span> button at the top right of the user list. <span class="guilabel"><strong>Add Group</strong></span> dialog appears.
			</div><div class="figure"><a id="idm139772531558912">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/4218.png" alt="Screenshot of Add Group dialog"/></div></div><p class="title"><strong>Figure 6.3. Add Group Dialog</strong></p></div></li><li class="step"><div class="para">
				Specify the group name, and optionally the realm.
			</div></li><li class="step"><div class="para">
				Set the type menu to include or exclude.
			</div></li><li class="step"><div class="para">
				Click the checkbox of the roles to include or exclude. To check multiple items, hold down the Control key (Command key on OSX).
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Save</strong></span> to finish.
			</div><div class="para">
				When successful, the <span class="guilabel"><strong>Add Group</strong></span> dialog closes, and the list of groups is updated to reflect the changes made. If unsuccessful a <code class="literal">Failed to save role assignment</code> message is displayed.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772568800944">
      ⁠</a><p class="title"><strong>Procedure 6.14. Update a role assignment for a group</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the Management console.
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guimenu"><strong>GROUPS</strong></span> tab of the Role Assignment section.
			</div></li><li class="step"><div class="para">
				Select the group from the list.
			</div></li><li class="step"><div class="para">
				Click Edit. The Selection view enters Edit mode.
			</div><div class="figure"><a id="idm139772547399376">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/4219.png" alt="Screenshot of Selection View in Edit Mode"/></div></div><p class="title"><strong>Figure 6.4. Selection View Edit Mode</strong></p></div><div class="para">
				Here you can add and remove assigned and excluded roles from the group:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						To add assigned role, select the required role from the list of available roles on the left and click button with the right-facing arrow next to the assigned roles list. The role moves from the available list to the assigned list.
					</div></li><li class="listitem"><div class="para">
						To remove an assigned role, selected the required role from the assigned roles list on the right and click the button with the left-facing arrow next to the assigned roles list. The role moves from the assigned list to the available list.
					</div></li><li class="listitem"><div class="para">
						To add an excluded role, select the required role from the list of available roles on the left and click button with the right-facing arrow next to the excluded roles list. The role moves from the available list to the excluded list.
					</div></li><li class="listitem"><div class="para">
						To remove an excluded role, selected the required role from the excluded roles list on the right and click the button with the left-facing arrow next to the excluded roles list. The role moves from the excluded list to the available list.
					</div></li></ul></div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Save</strong></span> to finish.
			</div><div class="para">
				When successful, the edit view closes, and the list of groups is updated to reflect the changes made. If unsuccessful a <span class="guimenu"><strong>Failed to save role assignment</strong></span> message is displayed.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772485721344">
      ⁠</a><p class="title"><strong>Procedure 6.15. Remove role assignment for a group</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the Management console.
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guimenu"><strong>GROUPS</strong></span> tab of the <span class="guimenu"><strong>Role Assignment</strong></span> section.
			</div></li><li class="step"><div class="para">
				Select the group from the list.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Remove</strong></span>. The <span class="guilabel"><strong>Remove Role Assignment</strong></span> confirmation prompt appears.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Confirm</strong></span>.
			</div><div class="para">
				When successful, the role will no longer appear in the list of group role assignments.
			</div><div class="para">
				Removing the group from the list of role assignments does not remove the user group from the system, nor does it guarantee that no roles will be assigned to members of that group. Each group member might still have a role assigned to them directly.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23747-712531+%5BLatest%5D&amp;comment=Title%3A+Configure+Group+Role+Assignment%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23747-712531+24+Sep+2014+01%3A03+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_Group_Role_Assignment_with_jboss-cli.sh">
      ⁠</a>6.9.6. Configure Group Role Assignment using the Management CLI</h2></div></div></div><div class="para">
		Groups to be included or excluded from a role can be configured in the Management Console and the Management CLI. This topic only shows using the Management CLI.
	</div><div class="para">
		The configuration of mapping users and groups to roles is located in the management API at: <code class="code">/core-service=management/access=authorization</code> as role-mapping elements.
	</div><div class="para">
		Only users in the SuperUser or Administrator roles can perform this configuration.
	</div><div class="para">
		For easier access to the commands, in the Management CLI change to the <code class="code">/core-service=management/access=authorization</code> location:
	</div><pre class="screen">[standalone@localhost:9999] cd /core-service=management/access=authorization</pre><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772489116928">
      ⁠</a><p class="title"><strong>Procedure 6.16. Viewing Group Role Assignment Configuration</strong></p><ol class="1"><li class="step"><div class="para">
				Use the <code class="code">read-children-names</code> operation to get a complete list of the configured roles:
			</div><pre class="synopsis">/core-service=management/access=authorization:read-children-names(child-type=role-mapping)</pre><pre class="screen">[standalone@localhost:9999 access=authorization] :read-children-names(child-type=role-mapping)
{
    "outcome" =&gt; "success",
    "result" =&gt; [
        "Administrator",
        "Deployer",
        "Maintainer",
        "Monitor",
        "Operator",
        "SuperUser"
    ]
}
</pre></li><li class="step"><div class="para">
				Use the <code class="code">read-resource</code> operation of a specified role-mapping to get the full details of a specific role:
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>:read-resource(recursive=true)</pre><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Administrator:read-resource(recursive=true)
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "include-all" =&gt; false,
        "exclude" =&gt; undefined,
        "include" =&gt; {
            "user-theboss" =&gt; {
                "name" =&gt; "theboss",
                "realm" =&gt; undefined,
                "type" =&gt; "USER"
            },
            "user-harold" =&gt; {
                "name" =&gt; "harold",
                "realm" =&gt; undefined,
                "type" =&gt; "USER"
            },
            "group-SysOps" =&gt; {
                "name" =&gt; "SysOps",
                "realm" =&gt; undefined,
                "type" =&gt; "GROUP"
            }
        }
    }
}
[standalone@localhost:9999 access=authorization]
</pre></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772549712240">
      ⁠</a><p class="title"><strong>Procedure 6.17. Add a new role</strong></p><div class="para">
			This procedure shows how to add a role-mapping entry for a role. This must be done before the role can be configured.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">add</code> operation to add a new role configuration.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>:add</pre><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Auditor:add             
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772555024704">
      ⁠</a><p class="title"><strong>Procedure 6.18. Add a Group as included in a role</strong></p><div class="para">
			This procedure shows how to add a Group to the included list of a role.
		</div><div class="para">
			If no configuration for a role has been done, then a role-mapping entry for it must be done first.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">add</code> operation to add a Group entry to the includes list of the role.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>/include=<em class="replaceable">ALIAS</em>:add(name=<em class="replaceable">GROUPNAME</em>, type=GROUP)</pre><div class="para">
				<em class="replaceable">ROLENAME</em> is the name of the role being configured.
			</div><div class="para">
				<em class="replaceable">GROUPNAME</em> is the name of the group being added to the include list.
			</div><div class="para">
				<code class="code">ALIAS</code> is a unique name for this mapping. Red Hat recommends that you use a naming convention for your aliases such as <code class="code">group-<em class="replaceable">GROUPNAME</em></code>.
			</div><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Auditor/include=group-investigators:add(name=investigators, type=GROUP)
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772545523872">
      ⁠</a><p class="title"><strong>Procedure 6.19. Add a group as excluded in a role</strong></p><div class="para">
			This procedure shows how to add a group to the excluded list of a role.
		</div><div class="para">
			If no configuration for a role has been done, then a role-mapping entry for it must be created first.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">add</code> operation to add a group entry to the excludes list of the role.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>/exclude=<em class="replaceable">ALIAS</em>:add(name=<em class="replaceable">GROUPNAME</em>, type=GROUP)</pre><div class="para">
				<em class="replaceable">ROLENAME</em> is the name of the role being configured
			</div><div class="para">
				<em class="replaceable">GROUPNAME</em> is the name of the group being added to the include list
			</div><div class="para">
				<code class="code">ALIAS</code> is a unique name for this mapping. Red Hat recommends that you use a naming convention for your aliases such as <code class="code">group-<em class="replaceable">GROUPNAME</em></code>.
			</div><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Auditor/exclude=group-supervisors:add(name=supervisors, type=GROUP)
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772526255056">
      ⁠</a><p class="title"><strong>Procedure 6.20. Remove group role include configuration</strong></p><div class="para">
			This procedure shows how to remove a group include entry from a role mapping.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">remove</code> operation to remove the entry.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>/include=<em class="replaceable">ALIAS</em>:remove</pre><div class="para">
				<em class="replaceable">ROLENAME</em> is the name of the role being configured
			</div><div class="para">
				<code class="code">ALIAS</code> is a unique name for this mapping. Red Hat recommends that you use a naming convention for your aliases such as <code class="code">group-<em class="replaceable">GROUPNAME</em></code>.
			</div><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Auditor/include=group-investigators:remove
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre><div class="para">
				Removing the group from the list of includes does not remove the group from the system, nor does it guarantee that the role won't be assigned to users in this group. The role might still be assigned to users in the group individually.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772489757856">
      ⁠</a><p class="title"><strong>Procedure 6.21. Remove a user group exclude entry</strong></p><div class="para">
			This procedure shows how to remove a group exclude entry from a role mapping.
		</div><ul><li class="step"><div class="para">
				Use the <code class="command">remove</code> operation to remove the entry.
			</div><pre class="synopsis">/core-service=management/access=authorization/role-mapping=<em class="replaceable">ROLENAME</em>/exclude=<em class="replaceable">ALIAS</em>:remove</pre><div class="para">
				<em class="replaceable">ROLENAME</em> is the name of the role being configured.
			</div><div class="para">
				<code class="code">ALIAS</code> is a unique name for this mapping. Red Hat recommends that you use a naming convention for your aliases such as <code class="code">group-<em class="replaceable">GROUPNAME</em></code>.
			</div><pre class="screen">[standalone@localhost:9999 access=authorization] ./role-mapping=Auditor/exclude=group-supervisors:remove
{"outcome" =&gt; "success"}
[standalone@localhost:9999 access=authorization]
</pre><div class="para">
				Removing the group from the list of excludes does not remove the group from the system. It also does not guarantee the role will be assigned to members of the group. Roles might still be excluded based on group membership.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23744-712533+%5BLatest%5D&amp;comment=Title%3A+Configure+Group+Role+Assignment+using+the+Management+CLI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23744-712533+24+Sep+2014+01%3A05+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="About_Authorization_and_Group_Loading_with_LDAP">
      ⁠</a>6.9.7. About Authorization and Group Loading with LDAP</h2></div></div></div><div class="para">
		An LDAP directory contains entries for user accounts and groups, cross referenced by attributes. Depending on the LDAP server configuration, a user entity may map the groups the user belongs to through <code class="literal">memberOf</code> attributes; a group entity may map which users belong to it through <code class="literal">uniqueMember</code> attributes; or both mappings may be maintained by the LDAP server.
	</div><div class="para">
		Users generally authenticate against the server using a simple user name. When searching for group membership information, depending on the directory server in use, searches could be performed using this simple name or using the distinguished name of the user's entry in the directory.
	</div><div class="para">
		The authentication step of a user connecting to the server always happens first. Once the user is successfully authenticated the server loads the user's groups. The authentication step and the authorization step each require a connection to the LDAP server. The realm optimizes this process by reusing the authentication connection for the group loading step. As will be shown within the configuration steps below it is possible to define rules within the authorization section to convert a user's simple user name to their distinguished name. The result of a "user name to distinguished name mapping" search during authentication is cached and reused during the authorization query when the <code class="literal">force</code> attribute is set to "false". When <code class="literal">force</code> is true, the search is performed again during authorization (while loading groups). This is typically done when different servers perform authentication and authorization.
	</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;authorization&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;ldap</span><span xmlns="" class="perl_Others"> connection=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    	<span xmlns="" class="perl_Comment">&lt;!-- OPTIONAL --&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;username-to-dn</span><span xmlns="" class="perl_Others"> force=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">&gt;</span> 
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Comment">&lt;!-- Only one of the following. --&gt;</span>
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">&lt;username-is-dn</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">&lt;username-filter</span><span xmlns="" class="perl_Others"> base-dn=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> recursive=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> user-dn-attribute=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> attribute=</span><span xmlns="" class="perl_String">"..."</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">&lt;advanced-filter</span><span xmlns="" class="perl_Others"> base-dn=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> recursive=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> user-dn-attribute=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> filter=</span><span xmlns="" class="perl_String">"..."</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/username-to-dn&gt;</span>
<span xmlns="" class="line">​</span>        
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;group-search</span><span xmlns="" class="perl_Others"> group-name=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> iterative=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> group-dn-attribute=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> group-name-attribute=</span><span xmlns="" class="perl_String">"..."</span> <span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Comment">&lt;!-- One of the following --&gt;</span>
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">&lt;group-to-principal</span><span xmlns="" class="perl_Others"> base-dn=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> recursive=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> search-by=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;membership-filter</span><span xmlns="" class="perl_Others"> principal-attribute=</span><span xmlns="" class="perl_String">"..."</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">&lt;/group-to-principal&gt;</span>
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">&lt;principal-to-group</span><span xmlns="" class="perl_Others"> group-attribute=</span><span xmlns="" class="perl_String">"..."</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;/group-search&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/ldap&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/authorization&gt;</span>
</pre><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			These examples specify some attributes with their default values. This is done for demonstration. Attributes that specify their default values are removed from the configuration when it is persisted by the server. The exception is the <code class="literal">force</code> attribute. It is required, even when set to the default value of <code class="literal">false</code>.
		</div></div></div><h4><a id="idm139772554538992">
      ⁠</a> username-to-dn </h4><div class="para">
		The <code class="code">username-to-dn</code> element specifies how to map the user name to the distinguished name of their entry in the LDAP directory. This element is only required when <span class="emphasis"><em>both</em></span> of the following are true:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				The authentication and authorization steps are against different LDAP servers.
			</div></li><li class="listitem"><div class="para">
				The group search uses the distinguished name.
			</div></li></ul></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">1:1 username-to-dn</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					This specifies that the user name entered by the remote user is the user's distinguished name.
				</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;username-to-dn</span><span xmlns="" class="perl_Others"> force=</span><span xmlns="" class="perl_String">"false"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;username-is-dn</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/username-to-dn&gt;</span>
</pre><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					This defines a 1:1 mapping and there is no additional configuration.
				</div></dd><dt><span class="term">username-filter</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The next option is very similar to the simple option described above for the authentication step. A specified attribute is searched for a match against the supplied user name.
				</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;username-to-dn</span><span xmlns="" class="perl_Others"> force=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;username-filter</span><span xmlns="" class="perl_Others"> base-dn=</span><span xmlns="" class="perl_String">"dc=people,dc=harold,dc=example,dc=com"</span><span xmlns="" class="perl_Others"> recursive=</span><span xmlns="" class="perl_String">"false"</span><span xmlns="" class="perl_Others"> attribute=</span><span xmlns="" class="perl_String">"sn"</span><span xmlns="" class="perl_Others"> user-dn-attribute=</span><span xmlns="" class="perl_String">"dn"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/username-to-dn&gt;</span>
</pre><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The attributes that can be set here are:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							<code class="code">base-dn</code>: The distinguished name of the context to begin the search.
						</div></li><li class="listitem"><div class="para"><p/>
							<code class="code">recursive</code>: Whether the search will extend to sub contexts. Defaults to <code class="literal">false</code>.
						</div></li><li class="listitem"><div class="para"><p/>
							<code class="code">attribute</code>: The attribute of the users entry to try and match against the supplied user name. Defaults to <code class="literal">uid</code>.
						</div></li><li class="listitem"><div class="para"><p/>
							<code class="code">user-dn-attribute</code>: The attribute to read to obtain the users distinguished name. Defaults to <code class="literal">dn</code>.
						</div></li></ul></div></dd><dt><span class="term">advanced-filter</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					The final option is to specify an advanced filter, as in the authentication section this is an opportunity to use a custom filter to locate the users distinguished name.
				</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;username-to-dn</span><span xmlns="" class="perl_Others"> force=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;advanced-filter</span><span xmlns="" class="perl_Others"> base-dn=</span><span xmlns="" class="perl_String">"dc=people,dc=harold,dc=example,dc=com"</span><span xmlns="" class="perl_Others"> recursive=</span><span xmlns="" class="perl_String">"false"</span><span xmlns="" class="perl_Others"> filter=</span><span xmlns="" class="perl_String">"sAMAccountName={0}"</span><span xmlns="" class="perl_Others"> user-dn-attribute=</span><span xmlns="" class="perl_String">"dn"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/username-to-dn&gt;</span>
</pre><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					For the attributes that match those in the <span class="emphasis"><em>username-filter</em></span> example, the meaning and default values are the same. There is one new attribute:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							<code class="code">filter</code>: Custom filter used to search for a user's entry where the user name will be substituted in the <code class="literal">{0}</code> place holder.
						</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para"><p/>
						The XML must remain valid after the filter is defined so if any special characters are used such as <code class="code">&amp;</code> ensure the proper form is used. For example <code class="code">&amp;amp;</code> for the <code class="code">&amp;</code> character.
					</div></div></div></dd></dl></div><h4><a id="idm139772549970736">
      ⁠</a> The Group Search </h4><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		There are two different styles that can be used when searching for group membership information. The first style is where the user's entry contains an attribute that references the groups the user is a member of. The second style is where the group contains an attribute referencing the users entry.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		When there is a choice of which style to use Red Hat recommends that the configuration for a user's entry referencing the group is used. This is because with this method group information can be loaded by reading attributes of known distinguished names without having to perform any searches. The other approach requires extensive searches to identify the groups that reference the user.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Before describing the configuration here are some LDIF examples to illustrate this.
	</div><div class="example"><a id="idm139772529260128">
      ⁠</a><p class="title"><strong>Example 6.1. Principal to Group - LDIF example.</strong></p><div class="example-contents"><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
			This example illustrates where we have a user <code class="literal">TestUserOne</code> who is a member of <code class="literal">GroupOne</code>, <code class="literal">GroupOne</code> is in turn a member of <code class="literal">GroupFive</code>. The group membership is shown by the use of a <code class="code">memberOf</code> attribute which is set to the distinguished name of the group of which the user (or group) is a member.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
			It is not shown here but a user could potentially have multiple <code class="code">memberOf</code> attributes set, one for each group of which the user is directly a member.
		</div><pre class="programlisting">dn: uid=TestUserOne,ou=users,dc=principal-to-group,dc=example,dc=org
objectClass: extensibleObject
objectClass: top
objectClass: groupMember
objectClass: inetOrgPerson
objectClass: uidObject
objectClass: person
objectClass: organizationalPerson
cn: Test User One
sn: Test User One
uid: TestUserOne
distinguishedName: uid=TestUserOne,ou=users,dc=principal-to-group,dc=example,dc=org
memberOf: uid=GroupOne,ou=groups,dc=principal-to-group,dc=example,dc=org
memberOf: uid=Slashy/Group,ou=groups,dc=principal-to-group,dc=example,dc=org
userPassword:: e1NTSEF9WFpURzhLVjc4WVZBQUJNbEI3Ym96UVAva0RTNlFNWUpLOTdTMUE9PQ==

dn: uid=GroupOne,ou=groups,dc=principal-to-group,dc=example,dc=org
objectClass: extensibleObject
objectClass: top
objectClass: groupMember
objectClass: group
objectClass: uidObject
uid: GroupOne
distinguishedName: uid=GroupOne,ou=groups,dc=principal-to-group,dc=example,dc=org
memberOf: uid=GroupFive,ou=subgroups,ou=groups,dc=principal-to-group,dc=example,dc=org

dn: uid=GroupFive,ou=subgroups,ou=groups,dc=principal-to-group,dc=example,dc=org
objectClass: extensibleObject
objectClass: top
objectClass: groupMember
objectClass: group
objectClass: uidObject
uid: GroupFive
distinguishedName: uid=GroupFive,ou=subgroups,ou=groups,dc=principal-to-group,dc=example,dc=org
</pre></div></div><div class="example"><a id="idm139772487336768">
      ⁠</a><p class="title"><strong>Example 6.2. Group to Principal - LDIF Example</strong></p><div class="example-contents"><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
			This example shows the same user <code class="literal">TestUserOne</code> who is a member of <code class="literal">GroupOne</code> which is in turn a member of <code class="literal">GroupFive</code> - however in this case it is an attribute <code class="code">uniqueMember</code> from the group to the user being used for the cross reference.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
			Again the attribute used for the group membership cross reference can be repeated, if you look at <span class="emphasis"><em>GroupFive</em></span> there is also a reference to another user <span class="emphasis"><em>TestUserFive</em></span> which is not shown here.
		</div><pre class="programlisting">dn: uid=TestUserOne,ou=users,dc=group-to-principal,dc=example,dc=org
objectClass: top
objectClass: inetOrgPerson
objectClass: uidObject
objectClass: person
objectClass: organizationalPerson
cn: Test User One
sn: Test User One
uid: TestUserOne
userPassword:: e1NTSEF9SjR0OTRDR1ltaHc1VVZQOEJvbXhUYjl1dkFVd1lQTmRLSEdzaWc9PQ==

dn: uid=GroupOne,ou=groups,dc=group-to-principal,dc=example,dc=org
objectClass: top
objectClass: groupOfUniqueNames
objectClass: uidObject
cn: Group One
uid: GroupOne
uniqueMember: uid=TestUserOne,ou=users,dc=group-to-principal,dc=example,dc=org

dn: uid=GroupFive,ou=subgroups,ou=groups,dc=group-to-principal,dc=example,dc=org
objectClass: top
objectClass: groupOfUniqueNames
objectClass: uidObject
cn: Group Five
uid: GroupFive
uniqueMember: uid=TestUserFive,ou=users,dc=group-to-principal,dc=example,dc=org
uniqueMember: uid=GroupOne,ou=groups,dc=group-to-principal,dc=example,dc=org
</pre></div></div><h4><a id="idm139772485756304">
      ⁠</a> General Group Searching </h4><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Before looking at the examples for the two approaches shown above we first need to define the attributes common to both of these.
	</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;group-search</span><span xmlns="" class="perl_Others"> group-name=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> iterative=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> group-dn-attribute=</span><span xmlns="" class="perl_String">"..."</span><span xmlns="" class="perl_Others"> group-name-attribute=</span><span xmlns="" class="perl_String">"..."</span> <span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/group-search&gt;</span>
</pre><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
				<code class="code">group-name</code>: This attribute is used to specify the form that should be used for the group name returned as the list of groups of which the user is a member. This can either be the simple form of the group name or the group's distinguished name. If the distinguished name is required this attribute can be set to <code class="literal">DISTINGUISHED_NAME</code>. Defaults to <code class="literal">SIMPLE</code>.
			</div></li><li class="listitem"><div class="para"><p/>
				<code class="code">iterative</code>: This attribute is used to indicate if, after identifying the groups a user is a member of, we should also iteratively search based on the groups to identify which groups the groups are a member of. If iterative searching is enabled we keep going until either we reach a group that is not a member if any other groups or a cycle is detected. Defaults to <code class="literal">false</code>.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Cyclic group membership is not a problem. A record of each search is kept to prevent groups that have already been searched from being searched again.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para"><p/>
			For iterative searching to work the group entries need to look the same as user entries. The same approach used to identify the groups a user is a member of is then used to identify the groups of which the group is a member. This would not be possible if for group to group membership the name of the attribute used for the cross reference changes or if the direction of the reference changes.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
				<code class="code">group-dn-attribute</code>: On an entry for a group which attribute is its distinguished name. Defaults to <code class="literal">dn</code>.
			</div></li><li class="listitem"><div class="para"><p/>
				<code class="code">group-name-attribute</code>: On an entry for a group which attribute is its simple name. Defaults to <code class="literal">uid</code>.
			</div></li></ul></div><div class="example"><a id="idm139772486701280">
      ⁠</a><p class="title"><strong>Example 6.3. Principal to Group Example Configuration</strong></p><div class="example-contents"><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
			Based on the example LDIF from above here is an example configuration iteratively loading a user's groups where the attribute used to cross reference is the <code class="code">memberOf</code> attribute on the user.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;authorization&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;ldap</span><span xmlns="" class="perl_Others"> connection=</span><span xmlns="" class="perl_String">"LocalLdap"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;username-to-dn&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;username-filter</span><span xmlns="" class="perl_Others"> base-dn=</span><span xmlns="" class="perl_String">"ou=users,dc=principal-to-group,dc=example,dc=org"</span><span xmlns="" class="perl_Others"> recursive=</span><span xmlns="" class="perl_String">"false"</span><span xmlns="" class="perl_Others"> attribute=</span><span xmlns="" class="perl_String">"uid"</span><span xmlns="" class="perl_Others"> user-dn-attribute=</span><span xmlns="" class="perl_String">"dn"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/username-to-dn&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;group-search</span><span xmlns="" class="perl_Others"> group-name=</span><span xmlns="" class="perl_String">"SIMPLE"</span><span xmlns="" class="perl_Others"> iterative=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Others"> group-dn-attribute=</span><span xmlns="" class="perl_String">"dn"</span><span xmlns="" class="perl_Others"> group-name-attribute=</span><span xmlns="" class="perl_String">"uid"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;principal-to-group</span><span xmlns="" class="perl_Others"> group-attribute=</span><span xmlns="" class="perl_String">"memberOf"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/group-search&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/ldap&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/authorization&gt;</span>
</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		The most important aspect of this configuration is that the <code class="code">principal-to-group</code> element has been added with a single attribute.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
				<code class="code">group-attribute</code>: The name of the attribute on the user entry that matches the distinguished name of the group the user is a member of. Defaults to <code class="literal">memberOf</code>.
			</div></li></ul></div><div class="example"><a id="idm139772525817888">
      ⁠</a><p class="title"><strong>Example 6.4. Group to Principal Example Configuration</strong></p><div class="example-contents"><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
			This example shows an iterative search for the group to principal LDIF example shown above.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;authorization&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;ldap</span><span xmlns="" class="perl_Others"> connection=</span><span xmlns="" class="perl_String">"LocalLdap"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;username-to-dn&gt;</span>
<span xmlns="" class="line">​</span>              <span xmlns="" class="perl_Keyword">&lt;username-filter</span><span xmlns="" class="perl_Others"> base-dn=</span><span xmlns="" class="perl_String">"ou=users,dc=group-to-principal,dc=example,dc=org"</span><span xmlns="" class="perl_Others"> recursive=</span><span xmlns="" class="perl_String">"false"</span><span xmlns="" class="perl_Others"> attribute=</span><span xmlns="" class="perl_String">"uid"</span><span xmlns="" class="perl_Others"> user-dn-attribute=</span><span xmlns="" class="perl_String">"dn"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;/username-to-dn&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;group-search</span><span xmlns="" class="perl_Others"> group-name=</span><span xmlns="" class="perl_String">"SIMPLE"</span><span xmlns="" class="perl_Others"> iterative=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Others"> group-dn-attribute=</span><span xmlns="" class="perl_String">"dn"</span><span xmlns="" class="perl_Others"> group-name-attribute=</span><span xmlns="" class="perl_String">"uid"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>              <span xmlns="" class="perl_Keyword">&lt;group-to-principal</span><span xmlns="" class="perl_Others"> base-dn=</span><span xmlns="" class="perl_String">"ou=groups,dc=group-to-principal,dc=example,dc=org"</span><span xmlns="" class="perl_Others"> recursive=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Others"> search-by=</span><span xmlns="" class="perl_String">"DISTINGUISHED_NAME"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>                  <span xmlns="" class="perl_Keyword">&lt;membership-filter</span><span xmlns="" class="perl_Others"> principal-attribute=</span><span xmlns="" class="perl_String">"uniqueMember"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>              <span xmlns="" class="perl_Keyword">&lt;/group-to-principal&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;/group-search&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/ldap&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/authorization&gt;</span>
</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Here an element <code class="code">group-to-principal</code> is added. This element is used to define how searches for groups that reference the user entry will be performed. The following attributes are set:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
				<code class="code">base-dn</code>: The distinguished name of the context to use to begin the search.
			</div></li><li class="listitem"><div class="para"><p/>
				<code class="code">recursive</code>: Whether sub-contexts also be searched. Defaults to <code class="literal">false</code>.
			</div></li><li class="listitem"><div class="para"><p/>
				<code class="code">search-by</code>: The form of the role name used in searches. Valid values are <code class="literal">SIMPLE</code> and <code class="literal">DISTINGUISHED_NAME</code>. Defaults to <code class="literal">DISTINGUISHED_NAME</code>.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Within the <span class="emphasis"><em>group-to-principal</em></span> element there is a <span class="emphasis"><em>membership-filter</em></span> element to define the cross reference.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
				<code class="code">principal-attribute</code>: The name of the attribute on the group entry that references the user entry. Defaults to <code class="literal">member</code>.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+24484-685962+%5BLatest%5D&amp;comment=Title%3A+About+Authorization+and+Group+Loading+with+LDAP%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=24484-685962+18+Jul+2014+03%3A24+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Scoped_Roles">
      ⁠</a>6.9.8. About Scoped Roles</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Scoped Roles are user-defined roles that grant the permissions of one of the standard roles but only for one or more specified server groups or hosts. Scoped roles allow for management users to be granted permissions that are limited to only those server groups or hosts that are required.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Scoped roles can be created by users assigned the Administrator or SuperUser roles.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		They are defined by five characteristics:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol class="arabic"><li class="listitem"><div class="para"><p/>
				A unique name.
			</div></li><li class="listitem"><div class="para"><p/>
				Which of the standard roles it is based on.
			</div></li><li class="listitem"><div class="para"><p/>
				If it applies to Server Groups or Hosts
			</div></li><li class="listitem"><div class="para"><p/>
				The list of server groups or hosts that it is restricted to.
			</div></li><li class="listitem"><div class="para"><p/>
				If all users are automatically include. This defaults to false.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Once created a scoped role can be assigned to users and groups the same way that the standard roles are.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Creating a scoped role does not let you define new permissions. Scoped roles can only be used to apply the permissions of an existing role in a limited scope. For example, you could create a scoped role based on the Deployer role which is restricted to a single server group.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		There are only two scopes that roles can be limited to, host and server group.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Host-scoped roles</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					A role that is host-scoped restricts the permissions of that role to one or more hosts. This means access is provided to the relevant <code class="code">/host=*/</code> resource trees but resources that are specific to other hosts are hidden.
				</div></dd><dt><span class="term">Server-Group-scoped roles</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
					A role that is server-group-scoped restricts the permissions of that role to one or more server groups. Additionally the role permissions will also apply to the profile, socket binding group, server config and server resources that are associated with the specified server-groups. Any sub-resources within any of those that are not logically related to the server-group will not be visible to the user.
				</div></dd></dl></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Both host and server-group scoped roles have permissions of the Monitor role for the remainder of the managed domain configuration.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+23149-592499+%5BLatest%5D&amp;comment=Title%3A+About+Scoped+Roles%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=23149-592499+23+Feb+2014+16%3A58+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Creating_Scoped_Roles">
      ⁠</a>6.9.9. Creating Scoped Roles</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Scoped Roles are user-defined roles that grant the permissions of one of the standard roles but only for one or more specified server groups or hosts. This topic shows how to create scoped roles.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Only users in the <code class="literal">SuperUser</code> or <code class="literal">Administrator</code> roles can perform this configuration.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Scoped Role configuration in the management console can be found by following these steps:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para"><p/>
				Login to the Management Console
			</div></li><li class="listitem"><div class="para"><p/>
				Click on the <span class="guimenu"><strong>Administration</strong></span> tab
			</div></li><li class="listitem"><div class="para"><p/>
				Expand the <span class="guimenu"><strong>Access Control</strong></span> menu and select <span class="guimenu"><strong>Role Assignment</strong></span>.
			</div></li><li class="listitem"><div class="para"><p/>
				Select <span class="guimenu"><strong>ROLES</strong></span> tab, and then the <span class="guimenu"><strong>Scoped Roles</strong></span> tab within it.
			</div></li></ol></div><div class="para">
		The <span class="guilabel"><strong>Scoped Roles</strong></span> section of the Management Console consists of two main areas, a table containing a list of the currently configured scoped roles, and the <span class="guilabel"><strong>Selection</strong></span> panel which displays the details of the role currently selected in the table.
	</div><div class="para">
		The following procedures show how to perform configuration tasks for Scoped Roles.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772525399104">
      ⁠</a><p class="title"><strong>Procedure 6.22. Add a New Scoped Role</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the Management Console
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guimenu"><strong>Scoped Roles</strong></span> area of the <span class="guimenu"><strong>Roles</strong></span> tab.
			</div></li><li class="step"><div class="para">
				Click <span class="guimenu"><strong>Add</strong></span>. The <span class="guilabel"><strong>Add Scoped Role</strong></span> dialog appears.
			</div></li><li class="step"><div class="para">
				Specify the following details:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
						<span class="guilabel"><strong>Name</strong></span>, the unique name for the new scoped role.
					</div></li><li class="listitem"><div class="para"><p/>
						<span class="guilabel"><strong>Base Role</strong></span>, the role which this role will base its permissions on.
					</div></li><li class="listitem"><div class="para"><p/>
						<span class="guilabel"><strong>Type</strong></span>, whether this role will be restricted to hosts or server groups.
					</div></li><li class="listitem"><div class="para"><p/>
						<span class="guilabel"><strong>Scope</strong></span>, the list of hosts or server groups that the role is restricted to. Multiple entries can be selected.
					</div></li><li class="listitem"><div class="para"><p/>
						<span class="guilabel"><strong>Include All</strong></span>, should this role automatically include all users. Defaults to no.
					</div></li></ul></div></li><li class="step"><div class="para">
				Click <span class="guimenu"><strong>Save</strong></span> and the dialog will close and the newly created role will appear in the table.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772534201952">
      ⁠</a><p class="title"><strong>Procedure 6.23. Edit a Scoped Role</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the Management Console
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guimenu"><strong>Scoped Roles</strong></span> area of the <span class="guimenu"><strong>Roles</strong></span> tab.
			</div></li><li class="step"><div class="para">
				Click on the scoped role you want to edit in the table. The details of that role appears in the <span class="guilabel"><strong>Selection</strong></span> panel below the table.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Edit</strong></span> in the <span class="guilabel"><strong>Selection</strong></span> panel. The <span class="guilabel"><strong>Selection</strong></span> panel enters edit mode.
			</div></li><li class="step"><div class="para">
				Update the details you need to change and click the <span class="guibutton"><strong>Save</strong></span> button. The <span class="guilabel"><strong>Selection</strong></span> panel returns to its previous state. Both the <span class="guilabel"><strong>Selection</strong></span> panel and table show the newly updated details.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772524698288">
      ⁠</a><p class="title"><strong>Procedure 6.24. View Scoped Role Members</strong></p><ol class="1"><li class="step"><div class="para">
				Login to the Management Console
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guilabel"><strong>Scoped Roles</strong></span> area of the <span class="guimenu"><strong>Roles</strong></span> tab.
			</div></li><li class="step"><div class="para">
				Click on the scoped role in the table that you want to view the <span class="guimenu"><strong>Members</strong></span> of, then click <span class="guimenu"><strong>Members</strong></span>. The <span class="guimenu"><strong>Members of role </strong></span> dialog appears. It shows users and groups that are included or excluded from the role.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Done</strong></span> when you have finished reviewing this information.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139772489830400">
      ⁠</a><p class="title"><strong>Procedure 6.25. Delete a Scoped Role</strong></p><div class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
				A <span class="guimenu"><strong>Scoped Role</strong></span> cannot be deleted if users or groups are assigned to it. Remove the role assignments first, and then delete it.
			</div></div></div><ol class="1"><li class="step"><div class="para">
				Login to the Management Console
			</div></li><li class="step"><div class="para">
				Navigate to the <span class="guimenu"><strong>Scoped Roles</strong></span> area of the <span class="guimenu"><strong>Roles</strong></span> tab.
			</div></li><li class="step"><div class="para">
				Select the scoped role to be removed in the table.
			</div></li><li class="step"><div class="para">
				Click the <span class="guimenu"><strong>Remove</strong></span> button. The <span class="guilabel"><strong>Remove Scoped Role</strong></span> dialog appears.
			</div></li><li class="step"><div class="para">
				Click <span class="guimenu"><strong>Confirm</strong></span>.The dialog closes and the role is removed.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+24152-632248+%5BLatest%5D&amp;comment=Title%3A+Creating+Scoped+Roles%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=24152-632248+17+Apr+2014+01%3A11+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Configuring_Constraints">
      ⁠</a>6.10. Configuring Constraints</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_Sensitivity_Constraints">
      ⁠</a>6.10.1. Configure Sensitivity Constraints</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Each Sensitivity Constraint defines a set of resources that are considered "sensitive". A sensitive resource is generally one that either should be secret, like passwords, or one that will have serious impact on the server, like networking, JVM configuration, or system properties. The access control system itself is also considered sensitive. Resource sensitivity limits which roles are able to read, write or address a specific resource.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Sensitivity constraint configuration is in the Management API at <code class="code">/core-service=management/access=authorization/constraint=sensitivity-classification</code>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Within the management model each Sensitivity Constraint is identified as a <code class="code">classification</code>. The classifications are then grouped into <code class="code">types</code>. There are 39 included classifications that are arranged into 13 types.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		To configure a sensitivity constraint, use the <code class="command">write-attribute</code> operation to set the <code class="code">configured-requires-read</code>, <code class="code">configured-requires-write</code>, or <code class="code">configured-requires-addressable</code> attribute. To make that type of operation sensitive set the value of the attribute to <code class="literal">true</code>, otherwise to make it nonsensitive set it to <code class="literal">false</code>. By default these attributes are not set and the values of <code class="code">default-requires-read</code>, <code class="code">default-requires-write</code>, and <code class="code">default-requires-addressable</code> are used. Once the configured attribute is set it is that value that is used instead of the default. The default values cannot be changed.
	</div><div class="example"><a id="idm139772549450432">
      ⁠</a><p class="title"><strong>Example 6.5. Make reading system properties a sensitive operation</strong></p><div class="example-contents"><pre class="screen">[domain@localhost:9999 /] cd /core-service=management/access=authorization/constraint=sensitivity-classification/type=core/classification=system-property
[domain@localhost:9999 classification=system-property] :write-attribute(name=configured-requires-read, value=true)
{
    "outcome" =&gt; "success",
    "result" =&gt; undefined,
    "server-groups" =&gt; {"main-server-group" =&gt; {"host" =&gt; {"master" =&gt; {
        "server-one" =&gt; {"response" =&gt; {"outcome" =&gt; "success"}},
        "server-two" =&gt; {"response" =&gt; {"outcome" =&gt; "success"}}
    }}}}
}
[domain@localhost:9999 classification=system-property] :read-resource
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "configured-requires-addressable" =&gt; undefined,
        "configured-requires-read" =&gt; true,
        "configured-requires-write" =&gt; undefined,
        "default-requires-addressable" =&gt; false,
        "default-requires-read" =&gt; false,
        "default-requires-write" =&gt; true,
        "applies-to" =&gt; {
            "/host=master/system-property=*" =&gt; undefined,
            "/host=master/core-service=platform-mbean/type=runtime" =&gt; undefined,
            "/server-group=*/system-property=*" =&gt; undefined,
            "/host=master/server-config=*/system-property=*" =&gt; undefined,
            "/host=master" =&gt; undefined,
            "/system-property=*" =&gt; undefined,
            "/" =&gt; undefined
        }
    }
}
[domain@localhost:9999 classification=system-property]
</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		What roles will be able to perform what operations depending on the configuration of these attributes is summarized in <a class="xref" href="chap-Secure_the_Management_Interfaces_with_Role-Based_Access_Control.html#table-sensitivity-constraint-outcomes">Table 6.2, “Sensitivity Constraint Configuration outcomes”</a>.
	</div><div class="table"><a id="table-sensitivity-constraint-outcomes">
      ⁠</a><p class="title"><strong>Table 6.2. Sensitivity Constraint Configuration outcomes</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="gt-4-cols lt-7-rows" summary="Sensitivity Constraint Configuration outcomes"><colgroup><col width="10%" class="col_1"/><col width="30%" class="col_2"/><col width="30%" class="col_3"/><col width="30%" class="col_4"/></colgroup><thead><tr><th valign="top"> Value </th><th style="text-align: left" valign="top"> <code class="code">requires-read</code> </th><th style="text-align: left" valign="top"> <code class="code">requires-write</code> </th><th style="text-align: left" valign="top"> <code class="code">requires-addressable</code> </th></tr></thead><tbody><tr><td valign="top"> <div class="para"><p/>
						<code class="literal">true</code>
					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Read is sensitive.
					</div>
					 <div class="para"><p/>
						Only <code class="literal">Auditor</code>, <code class="literal">Administrator</code>, <code class="literal">SuperUser</code> can read.
					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Write is sensitive.
					</div>
					 <div class="para"><p/>
						Only <code class="literal">Administrator</code> and <code class="literal">SuperUser</code> can write
					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Addressing is sensitive.
					</div>
					 <div class="para"><p/>
						Only <code class="literal">Auditor</code>, <code class="literal">Administrator</code>, <code class="literal">SuperUser</code> can address.
					</div>
					 </td></tr><tr><td valign="top"> <div class="para"><p/>
						<code class="literal">false</code>
					</div>
					 <div class="para"><p/>

					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Read is not sensitive.
					</div>
					 <div class="para"><p/>
						Any management user can read.
					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Write is not sensitive.
					</div>
					 <div class="para"><p/>
						Only <code class="literal">Maintainer</code>, <code class="literal">Administrator</code> and <code class="literal">SuperUser</code> can write. <code class="literal">Deployers</code> can also write the resource is an application resource.
					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Addressing is not sensitive.
					</div>
					 <div class="para"><p/>
						Any management user can address.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+24436-592560+%5BLatest%5D&amp;comment=Title%3A+Configure+Sensitivity+Constraints%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=24436-592560+23+Feb+2014+16%3A59+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_Application_Resource_Constraints">
      ⁠</a>6.10.2. Configure Application Resource Constraints</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Each Application Resource Constraint defines a set of resources, attributes and operations that are usually associated with the deployment of applications and services. When an application resource constraint is enabled management users of the Deployer role are granted access to the resources that it applies to.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Application constraint configuration is in the Management Model at <code class="code">/core-service=management/access=authorization/constraint=application-classification/</code>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		Within the management model each Application Resource Constraint is identified as a <code class="code">classification</code>. The classifications are then grouped into <code class="code">types</code>. There are 14 included classifications that are arranged into 8 types. Each classification has an <code class="code">applies-to</code> element which is a list of resource path patterns to which the classifications configuration applies.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		By default the only Application Resource classification that is enabled is <code class="systemitem">core</code>. Core includes deployments, deployment overlays, and the deployment operations.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		To enable an Application Resource, use the <code class="command">write-attribute</code> operation to set the <code class="code">configured-application attribute</code> of the classification to <code class="literal">true</code>. To disable an Application Resource, set this attribute to <code class="literal">false</code>. By default these attributes are not set and the value of <code class="code">default-application attribute</code> is used. The default value cannot be changed.
	</div><div class="example"><a id="idm139772561501008">
      ⁠</a><p class="title"><strong>Example 6.6. Enabling the logger-profile application resource classification</strong></p><div class="example-contents"><pre class="screen">[domain@localhost:9999 /] cd /core-service=management/access=authorization/constraint=application-classification/type=logging/classification=logging-profile
[domain@localhost:9999 classification=logging-profile] :write-attribute(name=configured-application, value=true)
{
    "outcome" =&gt; "success",
    "result" =&gt; undefined,
    "server-groups" =&gt; {"main-server-group" =&gt; {"host" =&gt; {"master" =&gt; {
        "server-one" =&gt; {"response" =&gt; {"outcome" =&gt; "success"}},
        "server-two" =&gt; {"response" =&gt; {"outcome" =&gt; "success"}}
    }}}}
}
[domain@localhost:9999 classification=logging-profile] :read-resource 
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "configured-application" =&gt; true,
        "default-application" =&gt; false,
        "applies-to" =&gt; {"/profile=*/subsystem=logging/logging-profile=*" =&gt; undefined}
    }
}
[domain@localhost:9999 classification=logging-profile]
</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Application Resource Constraints apply to all resources that match its configuration. For example, It is not possible to grant a <code class="literal">Deployer</code> user access to one datasource resource but not another. If this level of separation is required then it is recommended to configure the resources in different server groups and create different scoped <code class="literal">Deployer</code> roles for each group.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+24420-592560+%5BLatest%5D&amp;comment=Title%3A+Configure+Application+Resource+Constraints%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=24420-592560+23+Feb+2014+16%3A59+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_the_Vault_Expression_Constraint">
      ⁠</a>6.10.3. Configure the Vault Expression Constraint</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		By default, reading and writing vault expressions are sensitive operations. Configuring the Vault Expression Constraint allows you to set either or both of those operations to being nonsensitive. Changing this constraint allows a greater number of roles to read and write vault expressions.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		The vault expression constraint is found in the management model at <code class="code">/core-service=management/access=authorization/constraint=vault-expression</code>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		To configure the vault expression constraint, use the <code class="command">write-attribute</code> operation to set the attributes of <code class="code">configured-requires-write</code> and <code class="code">configured-requires-read</code> to <code class="literal">true</code> or <code class="literal">false</code>. By default these are not set and the values of <code class="code">default-requires-read</code> and <code class="code">default-requires-write</code> are used. The default values cannot be changed.
	</div><div class="example"><a id="idm139772544790928">
      ⁠</a><p class="title"><strong>Example 6.7. Making writing to vault expressions a nonsensitive operation</strong></p><div class="example-contents"><pre class="screen">[domain@localhost:9999 /] cd /core-service=management/access=authorization/constraint=vault-expression
[domain@localhost:9999 constraint=vault-expression] :write-attribute(name=configured-requires-write, value=false)
{
    "outcome" =&gt; "success",
    "result" =&gt; undefined,
    "server-groups" =&gt; {"main-server-group" =&gt; {"host" =&gt; {"master" =&gt; {
        "server-one" =&gt; {"response" =&gt; {"outcome" =&gt; "success"}},
        "server-two" =&gt; {"response" =&gt; {"outcome" =&gt; "success"}}
    }}}}
}
[domain@localhost:9999 constraint=vault-expression] :read-resource
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "configured-requires-read" =&gt; undefined,
        "configured-requires-write" =&gt; false,
        "default-requires-read" =&gt; true,
        "default-requires-write" =&gt; true
    }
}
[domain@localhost:9999 constraint=vault-expression]
</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p/>
		What roles will be able to read and write to vault expressions depending on this configuration is summarized in <a class="xref" href="chap-Secure_the_Management_Interfaces_with_Role-Based_Access_Control.html#table-vault-expression-outcomes">Table 6.3, “Vault Expression Constraint Configuration outcomes”</a>.
	</div><div class="table"><a id="table-vault-expression-outcomes">
      ⁠</a><p class="title"><strong>Table 6.3. Vault Expression Constraint Configuration outcomes</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Vault Expression Constraint Configuration outcomes"><colgroup><col width="11%" class="col_1"/><col width="44%" class="col_2"/><col width="44%" class="col_3"/></colgroup><thead><tr><th style="text-align: center" valign="top"> Value </th><th style="text-align: left" valign="top"> <code class="literal">requires-read</code> </th><th style="text-align: left" valign="top"> <code class="literal">requires-write</code> </th></tr></thead><tbody><tr><td style="text-align: center" valign="top"> <div class="para"><p/>
						<code class="literal">true</code>
					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Read operation is sensitive.
					</div>
					 <div class="para"><p/>
						Only <code class="literal">Auditor</code>, <code class="literal">Administrator</code>, and <code class="literal">SuperUser</code> can read.
					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Write operation is sensitive.
					</div>
					 <div class="para"><p/>
						Only <code class="literal">Administrator</code>, and <code class="literal">SuperUser</code> can write.
					</div>
					 </td></tr><tr><td style="text-align: center" valign="top"> <div class="para"><p/>
						<code class="literal">false</code>
					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Read operation is not sensitive.
					</div>
					 <div class="para"><p/>
						All management users can read.
					</div>
					 </td><td style="text-align: left" valign="top"> <div class="para"><p/>
						Write operation is not sensitive.
					</div>
					 <div class="para"><p/>
						<code class="literal">Monitor</code>, <code class="literal">Administrator</code>, and <code class="literal">SuperUser</code> can write. <code class="literal">Deployers</code> can also write if the vault expression is in an Application Resource.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+24406-592562+%5BLatest%5D&amp;comment=Title%3A+Configure+the+Vault+Expression+Constraint%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=24406-592562+23+Feb+2014+16%3A59+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-Constraints_Reference">
      ⁠</a>6.11. Constraints Reference</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Application_Resource_Constraints_Reference">
      ⁠</a>6.11.1. Application Resource Constraints Reference</h2></div></div></div><div class="variablelist"><p class="title"><strong>Type: core</strong></p><dl class="variablelist"><dt><span class="term">Classification: deployment-overlay</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /deployment-overlay=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /deployment=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /
						</div><div class="para">
							Operation:
						</div><div class="para">
							upload-deployment-stream, full-replace-deployment, upload-deployment-url, upload-deployment-bytes
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: datasources</strong></p><dl class="variablelist"><dt><span class="term">Classification: datasource</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /deployment=*/subdeployment=*/subsystem=datasources/data-source=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/data-source=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/data-source=ExampleDS
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /deployment=*/subsystem=datasources/data-source=*
						</div></li></ul></div></dd><dt><span class="term">Classification: jdbc-driver</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/jdbc-driver=*
						</div></li></ul></div></dd><dt><span class="term">Classification: xa-data-source</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/xa-data-source=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /deployment=*/subsystem=datasources/xa-data-source=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /deployment=*/subdeployment=*/subsystem=datasources/xa-data-source=*
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: logging</strong></p><dl class="variablelist"><dt><span class="term">Classification: logger</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=logging/logger=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=logging/logging-profile=*/logger=*
						</div></li></ul></div></dd><dt><span class="term">Classification: logging-profile</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=logging/logging-profile=*
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: mail</strong></p><dl class="variablelist"><dt><span class="term">Classification: mail-session</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: naming</strong></p><dl class="variablelist"><dt><span class="term">Classification: binding</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=naming/binding=*
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: resource-adapters</strong></p><dl class="variablelist"><dt><span class="term">Classification: resource-adapters</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=resource-adapters/resource-adapter=*
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: security</strong></p><dl class="variablelist"><dt><span class="term">Classification: security-domain</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							default: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=security/security-domain=*
						</div></li></ul></div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+24684-650937+%5BLatest%5D&amp;comment=Title%3A+Application+Resource+Constraints+Reference%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=24684-650937+04+Jun+2014+01%3A42+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Sensitivity_Constraints_Reference">
      ⁠</a>6.11.2. Sensitivity Constraints Reference</h2></div></div></div><div class="variablelist"><p class="title"><strong>Type: core</strong></p><dl class="variablelist"><dt><span class="term">Classification: access-control</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=management/access=authorization
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=jmx ATTRIBUTE: non-core-mbean-sensitivity
						</div></li></ul></div></dd><dt><span class="term">Classification: credential</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/server=pop3 ATTRIBUTE: username , password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/server=imap ATTRIBUTE: username , password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/xa-data-source=* ATTRIBUTE: user-name, recovery-username, password, recovery-password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/custom=* ATTRIBUTE: username, password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/data-source=*" ATTRIBUTE: user-name, password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=remoting/remote-outbound-connection=*" ATTRIBUTE: username
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/server=smtp ATTRIBUTE: username, password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=web/connector=*/configuration=ssl ATTRIBUTE: key-alias, password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=resource-adapters/resource-adapter=*/connection-definitions=*" ATTRIBUTE: recovery-username, recovery-password
						</div></li></ul></div></dd><dt><span class="term">Classification: domain-controller</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li></ul></div></dd><dt><span class="term">Classification: domain-names</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li></ul></div></dd><dt><span class="term">Classification: extensions</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /extension=*
						</div></li></ul></div></dd><dt><span class="term">Classification: jvm</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=platform-mbean/type=runtime ATTRIBUTE: input-arguments, boot-class-path, class-path, boot-class-path-supported, library-path
						</div></li></ul></div></dd><dt><span class="term">Classification: management-interfaces</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							/core-service=management/management-interface=native-interface
						</div></li><li class="listitem"><div class="para"><p/>
							/core-service=management/management-interface=http-interface
						</div></li></ul></div></dd><dt><span class="term">Classification: module-loading</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=module-loading
						</div></li></ul></div></dd><dt><span class="term">Classification: patching</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=patching/addon=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=patching/layer=*"
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=patching
						</div></li></ul></div></dd><dt><span class="term">Classification: read-whole-config</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: / OPERATION: read-config-as-xml
						</div></li></ul></div></dd><dt><span class="term">Classification: security-domain</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=security/security-domain=*
						</div></li></ul></div></dd><dt><span class="term">Classification: security-domain-ref</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/xa-data-source=* ATTRIBUTE: security-domain
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/data-source=* ATTRIBUTE: security-domain
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=ejb3 ATTRIBUTE: default-security-domain
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=resource-adapters/resource-adapter=*/connection-definitions=* ATTRIBUTE: security-domain, recovery-security-domain, security-application, security-domain-and-application
						</div></li></ul></div></dd><dt><span class="term">Classification: security-realm</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=management/security-realm=*
						</div></li></ul></div></dd><dt><span class="term">Classification: security-realm-ref</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=remoting/connector=* ATTRIBUTE: security-realm
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=management/management-interface=native-interface ATTRIBUTE: security-realm
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=management/management-interface=http-interface ATTRIBUTE: security-realm
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=remoting/remote-outbound-connection=* ATTRIBUTE: security-realm
						</div></li></ul></div></dd><dt><span class="term">Classification: security-vault</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=vault
						</div></li></ul></div></dd><dt><span class="term">Classification: service-container</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=service-container
						</div></li></ul></div></dd><dt><span class="term">Classification: snapshots</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: / ATTRIBUTE: take-snapshot, list-snapshots, delete-snapshot
						</div></li></ul></div></dd><dt><span class="term">Classification: socket-binding-ref</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/server=pop3 ATTRIBUTE: outbound-socket-binding-ref
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/server=imap ATTRIBUTE: outbound-socket-binding-ref
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=remoting/connector=* ATTRIBUTE: socket-binding
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=web/connector=* ATTRIBUTE: socket-binding
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=remoting/local-outbound-connection=* ATTRIBUTE: outbound-socket-binding-ref
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /socket-binding-group=*/local-destination-outbound-socket-binding=* ATTRIBUTE: socket-binding-ref
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=remoting/remote-outbound-connection=* ATTRIBUTE: outbound-socket-binding-ref
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/server=smtp ATTRIBUTE: outbound-socket-binding-ref
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=transactions ATTRIBUTE: process-id-socket-binding, status-socket-binding, socket-binding
						</div></li></ul></div></dd><dt><span class="term">Classification: socket-config</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /interface=* OPERATION: resolve-internet-address
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=management/management-interface=native-interface ATTRIBUTE: port, interface, socket-binding
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /socket-binding-group=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=management/management-interface=http-interface ATTRIBUTE: port, secure-port, interface, secure-socket-binding, socket-binding
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: / OPERATION: resolve-internet-address
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=transactions ATTRIBUTE: process-id-socket-max-ports
						</div></li></ul></div></dd><dt><span class="term">Classification: system-property</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /core-service=platform-mbean/type=runtime ATTRIBUTE: system-properties
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /system-property=*
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: / OPERATION: resolve-expression
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: datasources</strong></p><dl class="variablelist"><dt><span class="term">Classification: data-source-security</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/xa-data-source=* ATTRIBUTE: user-name, security-domain, password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=datasources/data-source=* ATTRIBUTE: user-name, security-domain, password
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: jdr</strong></p><dl class="variablelist"><dt><span class="term">Classification: jdr</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=jdr OPERATION: generate-jdr-report
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: jmx</strong></p><dl class="variablelist"><dt><span class="term">Classification: jmx</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=jmx
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: mail</strong></p><dl class="variablelist"><dt><span class="term">Classification: mail-server-security</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/server=pop3 ATTRIBUTE: username, tls, ssl, password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/server=imap ATTRIBUTE: username, tls, ssl, password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/custom=* ATTRIBUTE: username, tls, ssl, password
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=mail/mail-session=*/server=smtp ATTRIBUTE: username, tls, ssl, password
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: naming</strong></p><dl class="variablelist"><dt><span class="term">Classification: jndi-view</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=naming OPERATION: jndi-view
						</div></li></ul></div></dd><dt><span class="term">Classification: naming-binding</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=naming/binding=*
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: remoting</strong></p><dl class="variablelist"><dt><span class="term">Classification: remoting-security</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=remoting/connector=* ATTRIBUTE: authentication-provider, security-realm
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=remoting/remote-outbound-connection=* ATTRIBUTE: username, security-realm
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=remoting/connector=*/security=sasl
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: resource-adapters</strong></p><dl class="variablelist"><dt><span class="term">Classification: resource-adapter-security</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=resource-adapters/resource-adapter=*/connection-definitions=* ATTRIBUTE: security-domain, recovery-username, recovery-security-domain, security-application, security-domain-and-application, recovery-password
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: security</strong></p><dl class="variablelist"><dt><span class="term">Classification: misc-security</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=security ATTRIBUTE: deep-copy-subject-mode
						</div></li></ul></div></dd></dl></div><div class="variablelist"><p class="title"><strong>Type: web</strong></p><dl class="variablelist"><dt><span class="term">Classification: web-access-log</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=web/virtual-server=*/configuration=access-log
						</div></li></ul></div></dd><dt><span class="term">Classification: web-connector</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=web/connector=*
						</div></li></ul></div></dd><dt><span class="term">Classification: web-ssl</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=web/connector=*/configuration=ssl
						</div></li></ul></div></dd><dt><span class="term">Classification: web-sso</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: true
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: true
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=web/virtual-server=*/configuration=sso
						</div></li></ul></div></dd><dt><span class="term">Classification: web-valve</span></dt><dd><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><p/>
							requires-addressable: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-read: false
						</div></li><li class="listitem"><div class="para"><p/>
							requires-write: false
						</div></li><li class="listitem"><div class="para"><p/>
							PATH: /subsystem=web/valve=*
						</div></li></ul></div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22930%2C+Security+Guide-6.4-1%0ABuild+Date%3A+15-04-2015+13%3A57%3A35%0ATopic+ID%3A+24685-646748+%5BLatest%5D&amp;comment=Title%3A+Sensitivity+Constraints+Reference%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&amp;cf_build_id=24685-646748+29+May+2014+06%3A17+en-US+%5BLatest%5D&amp;product=JBoss+Enterprise+Application+Platform+6&amp;component=Documentation&amp;version=6.4.0">Report a bug</a>
	</div></div></div></div></body></html>