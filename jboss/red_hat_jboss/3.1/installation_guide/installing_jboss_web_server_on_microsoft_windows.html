<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 3. Installing JBoss Web Server on Microsoft Windows</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="installing_jboss_web_server_on_microsoft_windows"/>Chapter 3. Installing JBoss Web Server on Microsoft Windows</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="installing_a_java_development_kit_jdk"/>Installing a Java Development Kit (JDK)</h1></div></div></div><p>
				Before installing JBoss Web Server on Microsoft Windows, you must first install a supported Java Development Kit (JDK).
			</p><p>
				For a list of supported configurations, see the Red Hat Customer Portal article: <a class="link" href="https://access.redhat.com/articles/1377603">JBoss Web Server 3 Supported Configurations</a>.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					For instructions on installing the IBM JDK, visit: <a class="link" href="https://www.ibm.com/developerworks/java/jdk/">https://www.ibm.com/developerworks/java/jdk/</a>
				</p></div><p>
				To install the Oracle Java Development Kit:
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Download the Oracle JDK 1.7 or 1.8 for your operating system and architecture. You can download the JDK installation file from the Oracle website: <a class="link" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>.
					</li><li class="listitem">
						Double-click the downloaded file to start the installation.
					</li><li class="listitem">
						Proceed as instructed in the installation window.
					</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="downloading_and_extracting_jboss_web_server_2"/>Downloading and Extracting JBoss Web Server</h1></div></div></div><p>
				To install JBoss Web Server, download and extract the installation ZIP files.
			</p><div class="orderedlist"><p class="title"><strong>Downloading JBoss Web Server</strong></p><ol class="orderedlist"><li class="listitem">
						Open a browser and log in to the <a class="link" href="http://access.redhat.com">Red Hat Customer Portal</a>.
					</li><li class="listitem">
						Click <span class="strong"><strong>Downloads</strong></span>.
					</li><li class="listitem">
						Click <span class="strong"><strong>Red Hat JBoss Web Server</strong></span> in the <span class="strong"><strong>Product Downloads</strong></span> list.
					</li><li class="listitem">
						Select the correct JBoss Web Server version from the <span class="strong"><strong>Version</strong></span> drop-down menu.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong"><strong>Download</strong></span> for each of the following files, ensuring that you select the correct platform and architecture for your system:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								Red Hat JBoss Web Server 3.1 Application Server (<code class="literal">jws-application-servers-3.1.0-<span class="emphasis"><em>&lt;platform&gt;</em></span>-<span class="emphasis"><em>&lt;architecture&gt;</em></span>.zip</code>)
							</li></ul></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Extracting JBoss Web Server</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Unzip the downloaded ZIP files to your installation directory.
					</p><p class="simpara">
						The directory created by extracting the ZIP archives is the top-level directory for JBoss Web Server. This is referred to as <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span></code>.
					</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configuring_the_jboss_web_server_installation_2"/>Configuring the JBoss Web Server Installation</h1></div></div></div><p>
				Some configuration is required before running JBoss Web Server. This section includes the following configuration procedures:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<a class="link" href="installing_jboss_web_server_on_microsoft_windows.html#setting_environment_variables_win" title="Setting Environment Variables">Setting Environment Variables</a>
					</li><li class="listitem">
						<a class="link" href="installing_jboss_web_server_on_microsoft_windows.html#running_the_post_installation_scripts_win" title="Running the Post-Installation Scripts">Running the Post-Installation Scripts</a>
					</li><li class="listitem">
						<a class="link" href="installing_jboss_web_server_on_microsoft_windows.html#installing_tomcat_service_win" title="Installing the Tomcat Service">Installing the Tomcat Service</a>
					</li><li class="listitem">
						<a class="link" href="installing_jboss_web_server_on_microsoft_windows.html#configuring_log4j_win" title="Enabling log4j Logging for Tomcat">Enabling log4j Logging for Tomcat</a>
					</li><li class="listitem">
						<a class="link" href="installing_jboss_web_server_on_microsoft_windows.html#configuring_folder_perms_win" title="Configuring Folder Permissions for the JBoss Web Server Services">Configuring Folder Permissions for the JBoss Web Server Services</a>
					</li></ul></div><div class="orderedlist"><a id="setting_environment_variables_win"/><p class="title"><strong>Setting Environment Variables</strong></p><ol class="orderedlist"><li class="listitem">
						Log in to an account with local administrator permissions.
					</li><li class="listitem">
						Go to <span class="strong"><strong>Control Panel</strong></span> → <span class="strong"><strong>System</strong></span>.
					</li><li class="listitem">
						Click on the <span class="strong"><strong>Advanced</strong></span> tab.
					</li><li class="listitem">
						Click the <span class="strong"><strong>Environment Variables</strong></span> button.
					</li><li class="listitem">
						Click the <span class="strong"><strong>New</strong></span> button for <span class="strong"><strong>System Variables</strong></span>.
					</li><li class="listitem">
						For <code class="literal">JAVA_HOME</code>, <code class="literal">TMP</code>, and <code class="literal">TEMP</code>, enter the appropriate name-value pairs for your system.
					</li><li class="listitem">
						For the SSL Connector to work, you will also need to add <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>\bin</code> to the <code class="literal">PATH</code> environment variable of the user that the services will run under. This user is <code class="literal">SYSTEM</code> by default.
					</li></ol></div><div class="orderedlist"><a id="running_the_post_installation_scripts_win"/><p class="title"><strong>Running the Post-Installation Scripts</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Open a command prompt with administrator privileges and change to the <code class="literal">etc</code> folder of your JBoss Web Server installation:
					</p><pre class="screen">cd /D "<span class="emphasis"><em>JWS_HOME</em></span>\etc"</pre></li><li class="listitem"><p class="simpara">
						Run the Tomcat post-installation script using the following command:
					</p><pre class="screen">call postinstall.tomcat.bat</pre><p class="simpara">
						The script creates the required symbolic links (junction points) for temporary logging and configuration directories.
					</p></li></ol></div><div class="orderedlist"><a id="installing_tomcat_service_win"/><p class="title"><strong>Installing the Tomcat Service</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Open a command prompt with administrator privileges and change to the <code class="literal">bin</code> folder for your Tomcat version:
					</p><pre class="screen">cd /D "<span class="emphasis"><em>JWS_HOME</em></span>\share\tomcat<span class="emphasis"><em>&lt;VERSION&gt;</em></span>\bin"</pre></li><li class="listitem"><p class="simpara">
						Install the Tomcat service with the following command:
					</p><pre class="screen">call service.bat install</pre></li></ol></div><div class="orderedlist"><a id="configuring_log4j_win"/><p class="title"><strong>Enabling log4j Logging for Tomcat</strong></p><ol class="orderedlist"><li class="listitem">
						Open a command prompt with administrator privileges and change to <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>\share\extras\</code>.
					</li><li class="listitem"><p class="simpara">
						Copy the log4j files to the <code class="literal">lib</code> folder for your Tomcat version:
					</p><pre class="screen">copy log4j-eap6.jar log4j.properties tomcat-juli-adapters.jar ..\tomcat<span class="emphasis"><em>&lt;VERSION&gt;</em></span>\lib</pre></li><li class="listitem"><p class="simpara">
						Replace <code class="literal">tomcat-juli.jar</code> file in your Tomcat <code class="literal">bin</code> directory with the <code class="literal">tomcat-juli.jar</code> file from <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>\share\extras\</code>:
					</p><pre class="screen">copy tomcat-juli.jar ..\tomcat<span class="emphasis"><em>&lt;VERSION&gt;</em></span>\bin</pre></li></ol></div><p><a id="configuring_folder_perms_win"/></p><div class="title"><strong>Configuring Folder Permissions for the JBoss Web Server Services</strong></div><p>
					Follow this procedure to ensure that the account used to run the services has full control over the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span></code> folder and all of its subfolders:
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Right-click the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span></code> folder and click <span class="strong"><strong>Properties</strong></span>.
					</li><li class="listitem">
						Select the <span class="strong"><strong>Security</strong></span> tab.
					</li><li class="listitem">
						Click the <span class="strong"><strong>Edit</strong></span> button.
					</li><li class="listitem">
						Click the <span class="strong"><strong>Add</strong></span> button.
					</li><li class="listitem">
						In the text box, enter <code class="literal">LOCAL SERVICE</code>.
					</li><li class="listitem">
						Select the <span class="strong"><strong>Full Control</strong></span> check box for the <code class="literal">LOCAL SERVICE</code> account.
					</li><li class="listitem">
						Click <span class="strong"><strong>OK</strong></span>.
					</li><li class="listitem">
						Click the <span class="strong"><strong>Advanced</strong></span> button.
					</li><li class="listitem">
						Inside the <span class="strong"><strong>Advanced Security Settings</strong></span> dialog, select <code class="literal">LOCAL SERVICE</code> and click <span class="strong"><strong>Edit</strong></span>.
					</li><li class="listitem">
						Select the check box next to the <span class="strong"><strong>Replace all existing inheritable permissions on all descendants with inheritable permissions from this object</strong></span> option.
					</li><li class="listitem">
						Click <span class="strong"><strong>OK</strong></span> through all the open folder property windows to apply the settings.
					</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="starting_jboss_web_server_3"/>Starting JBoss Web Server</h1></div></div></div><p>
				To start JBoss Web Server, you must start the following:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Tomcat (7 or 8)
					</li></ul></div><p>
				You can start the services from a command prompt, or with the Computer Management tool.
			</p><div class="orderedlist"><p class="title"><strong>Starting JBoss Web Server from a Command Prompt</strong></p><ol class="orderedlist"><li class="listitem">
						Open a command prompt with administrator privileges.
					</li><li class="listitem"><p class="simpara">
						Start the Tomcat service:
					</p><pre class="screen">net start tomcat<span class="emphasis"><em>&lt;VERSION&gt;</em></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Starting JBoss Web Server from the Computer Management Tool</strong></p><ol class="orderedlist"><li class="listitem">
						Go to <span class="strong"><strong>Start</strong></span> → <span class="strong"><strong>Administrative Tools</strong></span> → <span class="strong"><strong>Services</strong></span>.
					</li><li class="listitem">
						In the <span class="strong"><strong>Services</strong></span> list, right-click the name of the service (<code class="literal">tomcat</code>) and click <span class="strong"><strong>Start</strong></span>.
					</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					Some third-party applications add libraries to the system directory in Windows. These take precedence over Tomcat libraries when looked-up. This means that if those third-party libraries have the same name as the those used by Tomcat native libraries, they are loaded instead of the libraries distributed with JBoss Web Server.
				</p><p>
					In this situation, Tomcat may not start, and does not log any error messages in the Windows Event Log, or Tomcat log files. Errors can only be seen by using <code class="literal">catalina.bat run</code>.
				</p><p>
					If this behavior occurs, inspect the contents of the <code class="literal">C:\windows\System32\</code> directory and other <code class="literal">PATH</code> directories, and ensure that there are no DLLs conflicting with those delivered with JBoss Web Server. In particular, look for <code class="literal">libeay32.dll</code>, <code class="literal">ssleay32.dll</code>, and <code class="literal">libssl32.dll</code>.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="stopping_jboss_web_server_3"/>Stopping JBoss Web Server</h1></div></div></div><p>
				To stop JBoss Web Server, you must stop the following:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Tomcat
					</li></ul></div><p>
				You can stop the services from a command prompt, or with the Computer Management tool.
			</p><div class="orderedlist"><p class="title"><strong>Stopping JBoss Web Server from a Command Prompt</strong></p><ol class="orderedlist"><li class="listitem">
						Open a command prompt with administrator privileges.
					</li><li class="listitem"><p class="simpara">
						Stop the Tomcat service:
					</p><pre class="screen">net stop tomcat<span class="emphasis"><em>&lt;VERSION&gt;</em></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Stopping JBoss Web Server from the Computer Management Tool</strong></p><ol class="orderedlist"><li class="listitem">
						Go to <span class="strong"><strong>Start</strong></span> → <span class="strong"><strong>Administrative Tools</strong></span> → <span class="strong"><strong>Services</strong></span>.
					</li><li class="listitem">
						In the <span class="strong"><strong>Services</strong></span> list, right-click the name of the service (<code class="literal">tomcat</code>) and click <span class="strong"><strong>Stop</strong></span>.
					</li></ol></div></div></div></body></html>