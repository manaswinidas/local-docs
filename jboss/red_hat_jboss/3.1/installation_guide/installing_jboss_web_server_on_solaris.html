<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 4. Installing JBoss Web Server on Solaris</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="installing_jboss_web_server_on_solaris"/>Chapter 4. Installing JBoss Web Server on Solaris</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="installing_a_java_development_kit_jdk_2"/>Installing a Java Development Kit (JDK)</h1></div></div></div><p>
				Before installing JBoss Web Server on Solaris, you must first install a supported Java Development Kit (JDK).
			</p><p>
				For a list of supported configurations, see the Red Hat Customer Portal article: <a class="link" href="https://access.redhat.com/articles/1377603">JBoss Web Server 3 Supported Configurations</a>.
			</p><div class="title"><strong>Installing a Java Development Kit (JDK)</strong></div><p>
					Install the Oracle JDK on a command line as the root user:
				</p><pre class="screen"># pkg install jdk-&lt;version&gt;</pre><p>
				Where &lt;version&gt; is the version of the JDK to install, such as <code class="literal">jdk-8</code>
			</p><div class="orderedlist"><p class="title"><strong>Alternative: Download and Install a Java Development Kit on Solaris</strong></p><ol class="orderedlist"><li class="listitem">
						Download the Oracle JDK for your operating system and architecture. You can download the JDK installation file from the Oracle website: <a class="link" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>.
					</li><li class="listitem">
						Run the JDK installation file.
					</li><li class="listitem"><p class="simpara">
						Open <code class="literal">/usr</code> at a shell prompt, and run the following command to display the current Java symbolic link:
					</p><pre class="screen">ls -lad java</pre></li><li class="listitem"><p class="simpara">
						Remove the link:
					</p><pre class="screen">rm java</pre></li><li class="listitem"><p class="simpara">
						Create a new Java symbolic link to the newly installed JDK:
					</p><pre class="screen">ln -sf /usr/jdk/<span class="emphasis"><em>&lt;JDK&gt;</em></span></pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="downloading_and_extracting_jboss_web_server_3"/>Downloading and Extracting JBoss Web Server</h1></div></div></div><p>
				To install JBoss Web Server, download and extract the installation ZIP files.
			</p><div class="orderedlist"><p class="title"><strong>Downloading JBoss Web Server</strong></p><ol class="orderedlist"><li class="listitem">
						Open a browser and log in to the <a class="link" href="http://access.redhat.com">Red Hat Customer Portal</a>.
					</li><li class="listitem">
						Click <span class="strong"><strong>Downloads</strong></span>.
					</li><li class="listitem">
						Click <span class="strong"><strong>Red Hat JBoss Web Server</strong></span> in the <span class="strong"><strong>Product Downloads</strong></span> list.
					</li><li class="listitem">
						Select the correct JBoss Web Server version from the <span class="strong"><strong>Version</strong></span> drop-down menu.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong"><strong>Download</strong></span> for each of the following files, ensuring that you select the correct platform and architecture for your system:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								Red Hat JBoss Web Server 3.1 Application Server (<code class="literal">jws-application-servers-3.1.0-<span class="emphasis"><em>&lt;platform&gt;</em></span>-<span class="emphasis"><em>&lt;architecture&gt;</em></span>.zip</code>)
							</li></ul></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Extracting JBoss Web Server</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Unzip the downloaded ZIP files to your installation directory.
					</p><p class="simpara">
						The directory created by extracting the ZIP archives is the top-level directory for JBoss Web Server. This is referred to as <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span></code>.
					</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configuring_the_jboss_web_server_installation_3"/>Configuring the JBoss Web Server Installation</h1></div></div></div><p>
				Some configuration is required before running JBoss Web Server. This section includes the following configuration procedures:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<a class="link" href="installing_jboss_web_server_on_solaris.html#post_install_scripts_sol" title="Running the Post-Installation Scripts">Running the Post-Installation Scripts</a>
					</li><li class="listitem">
						<a class="link" href="installing_jboss_web_server_on_solaris.html#setting_environ_vars_sol" title="Setting the JAVA_HOME Environment Variable">Setting the JAVA_HOME Environment Variable</a>
					</li><li class="listitem">
						<a class="link" href="installing_jboss_web_server_on_solaris.html#configuring_log4j_sol" title="Enabling log4j Logging for Tomcat">Enabling log4j Logging for Tomcat</a>
					</li></ul></div><div class="orderedlist"><a id="post_install_scripts_sol"/><p class="title"><strong>Running the Post-Installation Scripts</strong></p><ol class="orderedlist"><li class="listitem">
						Open a shell prompt, and change directory to <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/etc</code>.
					</li><li class="listitem"><p class="simpara">
						As the root user, run the post-installation scripts:
					</p><pre class="screen"># sh .postinstall.tomcat</pre><p class="simpara">
						The post-installation script creates the Tomcat user and group.
					</p></li></ol></div><p><a id="setting_environ_vars_sol"/></p><div class="title"><strong>Setting the JAVA_HOME Environment Variable</strong></div><p>
					You must set the <code class="literal">JAVA_HOME</code> environment variable for Tomcat before running JBoss Web Server.
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Open the Tomcat configuration file:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								For Tomcat 7: <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/etc/sysconfig/tomcat7</code>
							</li><li class="listitem">
								For Tomcat 8: <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/etc/sysconfig/tomcat8</code>
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Remove the hash (<code class="literal">#</code>) at the beginning of the following line:
					</p><pre class="screen"># JAVA_HOME="/usr/java"</pre></li></ol></div><p><a id="configuring_log4j_sol"/></p><div class="title"><strong>Enabling log4j Logging for Tomcat</strong></div><p>
					If required, follow this procedure to add log4j logging to Tomcat.
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Open a shell prompt and change directory to <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/share/extras/</code>.
					</li><li class="listitem"><p class="simpara">
						Copy the <code class="literal">log4j-eap6.jar</code>, <code class="literal">log4j.properties</code>, and <code class="literal">tomcat-juli-adapters.jar</code> files to the <code class="literal">lib</code> directory of the Tomcat directory.
					</p><p class="simpara">
						For example:
					</p><pre class="screen"># cp log4j.properties ../tomcat<span class="emphasis"><em>&lt;VERSION&gt;</em></span>/lib/</pre><pre class="screen"># cp log4j-eap6.jar ../tomcat<span class="emphasis"><em>&lt;VERSION&gt;</em></span>/lib/</pre><pre class="screen"># cp tomcat-juli-adapters.jar ../tomcat<span class="emphasis"><em>&lt;VERSION&gt;</em></span>/lib/</pre><p class="simpara">
						Replace <code class="literal"><span class="emphasis"><em>&lt;VERSION&gt;</em></span></code> with the respective Tomcat version number (<code class="literal">7</code> or <code class="literal">8</code>).
					</p></li><li class="listitem"><p class="simpara">
						Replace <code class="literal">tomcat-juli.jar</code> file in your Tomcat <code class="literal">bin</code> directory with the <code class="literal">tomcat-juli.jar</code> file from <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/share/extras/</code>:
					</p><pre class="screen"># cp tomcat-juli.jar ../tomcat<span class="emphasis"><em>&lt;VERSION&gt;</em></span>/bin/</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="starting_jboss_web_server_4"/>Starting JBoss Web Server</h1></div></div></div><p>
				To start JBoss Web Server, you must start the following:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Tomcat (7 or 8)
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Starting Tomcat</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">
						As the root user, run the following command with your respective Tomcat version (<code class="literal">7</code> or <code class="literal">8</code>):
					</p><pre class="screen"># sh <span class="emphasis"><em>JWS_HOME</em></span>/share/apache-tomcat-<span class="emphasis"><em>&lt;VERSION&gt;</em></span>/bin/daemon.sh start</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
							Although there are multiple methods of starting Tomcat, it is recommended that you use the <code class="literal">daemon.sh</code> script. To start Tomcat as a service using Jsvc, see <a class="link" href="using_jsvc_to_start_tomcat.html" title="Chapter 5. Using Jsvc to Start Tomcat">the Jsvc chapter</a>.
						</p></div></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="stopping_jboss_web_server_4"/>Stopping JBoss Web Server</h1></div></div></div><p>
				To stop JBoss Web Server, you must stop the following:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Tomcat (7 or 8)
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Stopping Tomcat</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">
						To stop Tomcat, in a shell prompt as the root user, run the following command with your respective Tomcat version (<code class="literal">7</code> or <code class="literal">8</code>):
					</p><pre class="screen"># sh <span class="emphasis"><em>JWS_HOME</em></span>/share/apache-tomcat-<span class="emphasis"><em>&lt;VERSION&gt;</em></span>/bin/daemon.sh stop</pre></li></ol></div></div></div></body></html>