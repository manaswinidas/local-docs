<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 2. New Features and Enhancements</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="release_notes_new_features"/>Chapter 2. New Features and Enhancements</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="apache_http_server_separated_from_tomcat"/>Apache HTTP Server Separated from Tomcat</h1></div></div></div><p>
				The Apache HTTP Server distribution is now shared between the JWS and JBoss Core Services entitlements. The shared distribution can be downloaded in ZIP from <a class="link" href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?downloadType=distributions&amp;product=core.service.apachehttp&amp;version=2.4.23">Apache HTTP Server</a> download page on the support portal. The RPM distribution of HTTP must be consumed from the JBCS channel, while the Tomcat servers will continue to be delivered in the JWS3 channel.
			</p><p>
				Installation instructions for the Apache HTTP Server are provided in the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_core_services_apache_http_server/2.4/html/apache_http_server_installation_guide/">Apache HTTP Server Installation Guide</a>. You should refer to that guide for instructions for ZIP and RPM setup on the set of supported operating systems.
			</p><p>
				Maintenance for the Apache HTTP Server and the Tomcat servers will no longer be coordinated in JWS minor and micro releases. The HTTP server and the Tomcat servers will receive independent updates intended to provide more timely fixes for security and other high priority defect fixes.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="transition_from_httpd24_jws3_channel_to_jbcs_httpd24_httpd_jbcs_channel"/>Transition from httpd24 (JWS3 Channel) to jbcs-httpd24-httpd (JBCS Channel)</h1></div></div></div><p>
				To install <code class="literal">httpd</code> with JWS 3.1.0, you need to subscribe and enable the JBCS channel. The <code class="literal">httpd</code> package has moved from the JWS channel to the JBCS channel. If you are using <code class="literal">httpd</code>, then migrate from the <code class="literal">httpd24</code> package in JWS to the JBCS software collections new <code class="literal">jbcs-httpd24-httpd</code> package.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="tomcat_native_dependencies_available_in_the_jbcs_channel"/>tomcat-native Dependencies Available in the JBCS Channel</h1></div></div></div><p>
				The <code class="literal">tomcat-native</code> package requires the <code class="literal">jbcs-httpd24-httpd-libs</code> and <code class="literal">jbcs-httpd24-openssl</code> packages, which are available only in the JBCS channel. To access them, you have to subscribe and enable the JBCS channel.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="tomcat"/>Tomcat</h1></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Inclusion of the latest available version of Tomcat 8.0.36.
					</li><li class="listitem">
						Inclusion of the latest available version of Tomcat 7.0.70.
					</li><li class="listitem">
						Replaced the existing <code class="literal">init</code> scripts for Tomcat 7 and Tomcat 8 with <code class="literal">systemd</code> units on Red Hat Enterprise Linux 7.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="using_a_password_vault_with_red_hat_jboss_web_server_3_1"/>Using a Password Vault with Red Hat JBoss Web Server 3.1</h1></div></div></div><p>
				A password vault is used to mask passwords and other sensitive strings, and store them in an encrypted Java keystore. This allows you to eliminate storing clear-text passwords in your Tomcat configuration files, as Tomcat can lookup passwords and other sensitive strings from a keystore using the vault.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					For more information about using password vault, see <a class="link" href="https://access.redhat.com/documentation/en/red-hat-jboss-web-server/3.1/single/installation-guide/#using_password_vault_with_JWS">Using a Password Vault with Red Hat JBoss Web Server 3.1</a>.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="selinux_policies_in_rhel_zip_for_tomcat"/>SELinux Policies in RHEL ZIP for Tomcat</h1></div></div></div><p>
				In this release, SELinux policies are provided in the ZIP packages. The SELinux security model is enforced by the kernel and ensures applications have limited access to resources such as file system locations and ports. This helps ensure that the errant processes (either compromised or poorly configured) are restricted and in some cases prevented from running. The <code class="literal">.postinstall.selinux</code> file is included in each <code class="literal">tomcat</code> folder. If required, you can run the <code class="literal">postinstall.selinux</code> script.
			</p><p>
				To install the SELinux policies using ZIP:
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Install the prerequisite packages:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<code class="literal">selinux-policy-devel</code>
							</li><li class="listitem">
								Tomcat 7 or 8
							</li></ul></div></li><li class="listitem">
						Download and unzip the JWS Tomcat distribution from the JWS channel.
					</li><li class="listitem"><p class="simpara">
						Execute the following commands:
					</p><pre class="screen">cd $JWS_HOME/tomcat7  OR cd $JWS_HOME/tomcat8
sh .postinstall.selinux
cd selinux
make -f /usr/share/selinux/devel/Makefile
semodule -i tomcat7.pp OR semodule -i tomcat8.pp
cd $JWS_HOME</pre></li><li class="listitem"><p class="simpara">
						Start the Tomcat service.
					</p><pre class="screen">bin/startup.sh</pre></li><li class="listitem"><p class="simpara">
						Check the context of the running process expecting <code class="literal">tomcat7_t</code>.
					</p><pre class="screen">ps -eZf | grep tomcat | head -n1</pre></li><li class="listitem"><p class="simpara">
						To verify the contexts of the Tomcat log directory and so on.
					</p><pre class="screen">ls -lZ tomcat7/logs/</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="selinux_policies_in_rhel_rpm_for_tomcat"/>SELinux Policies in RHEL RPM for Tomcat</h1></div></div></div><p>
				SELinux policies for each Tomcat are provided via their own Tomcat sub-packages: <code class="literal">tomcat7-selinux</code> and <code class="literal">tomcat8-selinux</code>. These packages are available in the JWS channel.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						To enable SELinux policies on Tomcat 7, install the <code class="literal">tomcat7-selinux</code> package.
					</li><li class="listitem">
						To enable SELinux policies on Tomcat 8, install the <code class="literal">tomcat8-selinux</code> package.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="hibernate"/>Hibernate</h1></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Upgraded to Hibernate version 4.2.23.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="microsoft_azure_testing_and_certification"/>Microsoft Azure Testing and Certification</h1></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						JBoss Web Server 3.1 has been tested and certified for Microsoft Azure.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="updated_cgiservlet_to_resolve_httpoxy_issue"/>Updated CGIServlet to Resolve httpoxy Issue</h1></div></div></div><p>
				In this release, a CGIServlet fix is provided for the httpoxy issue, see <a class="link" href="https://access.redhat.com/security/cve/cve-2016-5388">CVE-2016-5388</a>. The <code class="literal">envHttpHeaders</code> parameter is included in the CGIServlet to solve the httpoxy issue.
			</p><p>
				You can also configure the filter and valve to resolve the httpoxy issue. For more information about using the filter and valve, see <a class="link" href="https://access.redhat.com/solutions/2435491">HTTPoxy - Is my JBoss/tomcat affected?</a>.
			</p></div></div></body></html>