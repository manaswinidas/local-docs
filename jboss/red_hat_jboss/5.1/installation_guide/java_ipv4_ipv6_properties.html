<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Appendix A. Java IPv4/IPv6 Properties</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="java_ipv4_ipv6_properties"/>Appendix A. Java IPv4/IPv6 Properties</h1></div></div></div><h2><a id="configuring_java_properties"/>Configuring Java Properties</h2><p>
			In Java there are 2 properties that are used to configure IPv4 and IPv6. These are <code class="literal">java.net.preferIPv4Stack</code> and <code class="literal">java.net.preferIPv6Addresses</code>.
		</p><p>
			<span class="strong"><strong>java.net.preferIPv4Stack (default: false)</strong></span>
		</p><p>
			If IPv6 is available then the underlying native socket, by default, is an IPv6 socket. This socket lets applications connect and accept connections from IPv4 and IPv6 hosts. If application use only IPv4 sockets, then set this property to <code class="literal">true</code>. However, it will not be possible for the application to communicate with IPv6 only hosts.
		</p><p>
			<span class="strong"><strong>java.net.preferIPv6Addresses (default: false)</strong></span>
		</p><p>
			If a host has both IPv4 and IPv6 addresses, and IPv6 is available, then the default behavior is to use IPv4 addresses over IPv6. This allows backward compatibility. If applications that depend on an IPv4 address representation, for example: 192.168.1.1. Then, set this property to <code class="literal">true</code> to change the preference and use IPv6 addresses over IPv4 where possible.
		</p><p>
			To pass these properties to Tomcat, set <code class="literal">CATALINA_OPTS</code> in the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin/setenv.*</code> file.
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
				If the <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin/setenv.sh</code> or <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin/setenv.bat</code> file does not exist, then you need to create one.
			</p></div><p>
			<span class="strong"><strong>On Linux:</strong></span>
		</p><p>
			<code class="literal">export "CATALINA_OPTS=-Djava.net.preferIPv4Stack=<span class="emphasis"><em>YOUR_VALUE</em></span> -Djava.net.preferIPv6Addresses=<span class="emphasis"><em>YOUR_VALUE</em></span>"</code>
		</p><p>
			<span class="strong"><strong>On Windows:</strong></span>
		</p><p>
			<code class="literal">set "CATALINA_OPTS=-Djava.net.preferIPv4Stack=<span class="emphasis"><em>YOUR_VALUE</em></span> -Djava.net.preferIPv6Addresses=<span class="emphasis"><em>YOUR_VALUE</em></span>"</code>
		</p><h2><a id="configuring_tomcat_bindings"/>Configuring Tomcat Bindings</h2><p>
			The Tomcat bindings can be set in <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/conf/server.xml</code> with the IPv6 address:
		</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
					Specify the Tomcat binding address:
				</p><p class="simpara">
					<code class="literal">&lt;Server …​ address="<span class="emphasis"><em>TOMCAT_BINDING_ADDRESS</em></span>"&gt;</code>
				</p></li><li class="listitem"><p class="simpara">
					Specify the HTTP connector address:
				</p><p class="simpara">
					<code class="literal">&lt;Connector protocol="HTTP/1.1" …​ address="<span class="emphasis"><em>HTTP_CONNECTOR_ADDRESS</em></span>"&gt;</code>
				</p></li><li class="listitem"><p class="simpara">
					Specify the AJP connector address:
				</p><p class="simpara">
					<code class="literal">&lt;Connector protocol="AJP/1.3" …​ address="<span class="emphasis"><em>AJP_CONNECTOR_ADDRESS</em></span>"&gt;</code>
				</p></li></ul></div></div></body></html>