<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 5. Using Jsvc to Start Tomcat</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="using_jsvc_to_start_tomcat"/>Chapter 5. Using Jsvc to Start Tomcat</h1></div></div></div><p>
			Jsvc is a set of libraries and applications that facilitates running Java applications on Linux, UNIX, and similar operating systems. Using Jsvc with JBoss Web Server allows Tomcat to switch identities. Using Jsvc, Tomcat can perform root-level operations and then revert to a non-privileged user. Jsvc is primarily used for running Tomcat as a service.
		</p><p>
			Jsvc files are available at the following locations:
		</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
					<code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin/jsvc</code>
				</li><li class="listitem"><p class="simpara">
					<code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/jbcs-jsvc-1.0/sbin/jsvc</code>
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						<code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/bin/jsvc</code> is a symlink to <code class="literal"><span class="emphasis"><em>JWS_HOME</em></span>/jbcs-jsvc-1.0/sbin/jsvc</code>.
					</p></div></li></ul></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="starting_tomcat_using_jsvc"/>Starting Tomcat Using Jsvc</h1></div></div></div><div class="title"><strong>Start Tomcat Using Jsvc</strong></div><p>
					Run the following command to start Tomcat using Jsvc:
				</p><pre class="screen"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin/daemon.sh start</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="stopping_tomcat_using_jsvc"/>Stopping Tomcat Using Jsvc</h1></div></div></div><div class="title"><strong>Stop Tomcat Using Jsvc</strong></div><p>
					Run the following command to stop Tomcat that was started using Jsvc:
				</p><pre class="screen"><span class="emphasis"><em>JWS_HOME</em></span>/tomcat/bin/daemon.sh stop</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="jsvc_parameters"/>Jsvc Parameters</h1></div></div></div><p>
				The following parameters can be configured when running the <code class="literal">daemon.sh</code> script:
			</p><div class="table"><a id="idm140453690343056"/><p class="title"><strong>Table 5.1. daemon.sh Startup Parameters</strong></p><div class="table-contents"><table summary="daemon.sh Startup Parameters" border="1"><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/><col class="col_4"/></colgroup><thead><tr><th style="text-align: left" valign="top">Parameter Name</th><th style="text-align: left" valign="top">Environment Variable</th><th style="text-align: left" valign="top">Default Value</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								<code class="literal">--java-home</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								<code class="literal">JAVA_HOME</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Based on the value of the <code class="literal">PATH</code> variable.
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The Java home directory location.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								<code class="literal">--catalina-home</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								<code class="literal">CATALINA_HOME</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Determined by the location of the script.
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The Tomcat installation directory location.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								<code class="literal">--catalina-base</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								<code class="literal">CATALINA_BASE</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								Based on the value of the <code class="literal">PATH</code> variable.
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The directory that contains the specific configuration and setup information if multiple servers are using the same installation.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								<code class="literal">--catalina-pid</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								-
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								<code class="literal">$CATALINA_BASE/logs/catalina-daemon.pid</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The file where the process ID (PID) for the running instance of Tomcat is stored.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								<code class="literal">--tomcat-user</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								-
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								<code class="literal">tomcat</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								The user Tomcat uses.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								<code class="literal">--service-start-wait-time</code>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								-
							</p>
							 </td><td style="text-align: left" valign="top"> </td><td style="text-align: left" valign="top"> <p>
								This is a wrapper to the <code class="literal">--wait</code> parameter. The <code class="literal">--wait</code> parameter accepts values in seconds.
							</p>
							 </td></tr></tbody></table></div></div></div></div></body></html>