<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Release Notes 5.1.0</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/><meta name="description" content="These release notes contain important information related to JBoss Enterprise Application Platform 5.1.0 that may not be currently available in the product manuals. You should read these Release Notes in their entirety before installing JBoss Enterprise Application Platform 5.1.0."/></head><body><div class="article"><div class="titlepage"><div><div class="producttitle"><span xmlns:d="http://docbook.org/ns/docbook" class="productname">JBoss Enterprise Application Platform</span> <span xmlns:d="http://docbook.org/ns/docbook" class="productnumber">5</span></div><div><h1 class="title"><a id="JBEAP-Release-Notes">
      ⁠</a>Release Notes 5.1.0</h1></div><div><h3 class="subtitle"><em>for use with JBoss Enterprise Application Platform 5.1.0</em></h3></div><div><h3 class="corpauthor">
		<span class="inlinemediaobject"><object data="Common_Content/images/title_logo.svg" type="image/svg+xml"><img src="Common_Content/images/title_logo.png" alt=""/></object></span>

	</h3></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Laura</span> <span class="surname">Bailey</span></h3><code class="email"><a class="email" href="mailto:lbailey@redhat.com">lbailey@redhat.com</a></code></div><div class="author"><h3 class="author"><span class="firstname">Rebecca</span> <span class="surname">Newton</span></h3><code class="email"><a class="email" href="mailto:rnewton@redhat.com">rnewton@redhat.com</a></code></div><div class="author"><h3 class="author"><span class="firstname">Joshua</span> <span class="surname">Wulf</span></h3><code class="email"><a class="email" href="mailto:jwulf@redhat.com">jwulf@redhat.com</a></code></div></div></div><div><p class="copyright">Copyright © 2010 Red Hat, Inc</p></div><div><div class="legalnotice"><a id="idm140538655475952"/><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2010 Red Hat, Inc.
	</div><div class="para">
		This document is licensed by Red Hat under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. If you distribute this document, or a modified version of it, you must provide attribution to Red Hat, Inc. and provide a link to the original. If the document is modified, all Red Hat trademarks must be removed.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat Software Collections is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
			These release notes contain important information related to JBoss Enterprise Application Platform 5.1.0 that may not be currently available in the product manuals. You should read these Release Notes in their entirety before installing JBoss Enterprise Application Platform 5.1.0.
		</div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Introduction">
      ⁠</a>1. Introduction</h1></div></div></div><div class="para">
		These release notes contain important information related to JBoss Enterprise Application Platform 5.1.0. New features, issues fixed in this release, and other known issues are addressed here.
	</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Overview">
      ⁠</a>1.1. Overview</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">About JBoss Enterprise Application Platform</div>
				JBoss Enterprise Application Platform is the next evolutionary step in open source enterprise software. It is a powerful tool for developing rich, high performance Web 2.0 applications on a pure Java Platform.
			</div><div class="para">
			By integrating best-of-breed open source frameworks such as JBoss Seam, Hibernate, CXF Web Services, JBoss Cache, and JBoss Messaging, the Platform takes advantage of innovations in the open source community. As well, JBoss Enterprise Application Platform is fully tested and supported by Red Hat, and is certified to work on many leading enterprise hardware and software products.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">About this release</div>
				JBoss Enterprise Application Platform 5.1.0 is a <em class="firstterm">minor release</em>. Minor releases aggregate the contents of prior patches and Cumulative Patches (CPs), and may add additional new functionality. Subsequent patches and Cumulative Patches assume the installation of the minor update that preceded them. During the life cycle of a product's major version, Red Hat makes commercially reasonable efforts to maintain API-level compatibility across all minor releases and asynchronous patches, ensuring that, for example, JBoss Enterprise Application Platform 5.1.0 maintains API-level compatibility with JBoss Enterprise Application Platform 5.0.0, the initial release of JBoss Enterprise Application Platform 5. Possible exceptions to this rule include fixes addressing critical security issues.
			</div><div class="para">
			With the release of JBoss Enterprise Application Platform 5.1.0, JBoss Enterprise Application Platform 5.0.x customers should update to JBoss Enterprise Application Platform 5.1.0.
		</div><div class="para">
			Refer to the <a href="http://www.redhat.com/security/updates/jboss_notes/">JBoss Enterprise Middleware Product Update and Support Policy</a> for further information.
		</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="New_Features_5.1">
      ⁠</a>2. Features introduced with JBoss Enterprise Application Platform 5.1.0</h1></div></div></div><div class="para">
		JBoss Enterprise Application Platform 5.0.x contained many updated and new components. JBoss Enterprise Application Platform 5.1.0 adds performance enhancements,  JBoss Web Services CXF Stack, and support for JDBC 4, and introduces PicketLink Federation as a Technology Preview. These components are detailed in this section.
	</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538680080832">
      ⁠</a>2.1. Red Hat Enterprise Linux 6 Support</h2></div></div></div><div class="para">
			The ZIP distribution of JBoss Enterprise Application Platform 5.1 is fully tested for use with Red Hat Enterprise Linux 6. The appropriate Native packages are available from <a href="http://access.redhat.com">http://access.redhat.com</a>.
		</div><div class="para">
			The RPM distribution of JBoss Enterprise Application Platform 5.1 for Red Hat Enterprise Linux 6 is not yet available.
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538659488320">
      ⁠</a>2.2. The Native Package</h2></div></div></div><div class="para">
			The Native Package has been renamed following the pattern <code class="filename">jboss-ep-native-5.1.0*.zip</code>. This new consolidated Native Package can be used with JBoss Enterprise Application Platform or with JBoss Enterprise Web Platform.
		</div><div class="para">
			The Native package has also been expanded to provide NSAPI for Solaris technology. NSAPI is a connector used to connect Sun Java System Web Server to JBoss Enterprise Application Platform.
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="JBoss_Web_Services-5.1">
      ⁠</a>2.3. JBoss Web Services</h2></div></div></div><div class="para">
			JBoss Enterprise Application Platform 5.0 introduced a pluggable architecture to provide choice of Web Services Stack, along with JBoss Web Services Native as the supported Web Services provider. JBoss Enterprise Platform 5.1.0 introduces an alternative Web Services stack, JBoss Web Services CXF.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
				The choice of Web Services stack used by the Platform must be made at the time of installation. Refer to the <em class="citetitle">Installation Guide</em> for further details.
			</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">JBoss Web Services Native</div>
				JBoss Web Services Native is the Java EE 5-compliant JBoss implementation of web services standards. It is the only web services stack for versions of JBoss Enterprise Application Platform prior to 5.1, and is the default web services stack in JBoss Enterprise Application Platform 5.1.0.
			</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">JBoss Web Services CXF</div>
				JBoss Web Services CXF provides most of the features available in Apache CXF (including WS-Security, WS-Policy, WS-Addressing, WS-ReliableMessaging, basic WS-Trust, MTOM), plus common JBoss Web Services stack features like endpoint metrics, record management and endpoint address rewrite. JBoss Enterprise Application Platform 5.1.0 introduces JBoss Web Services CXF stack as an optional Web Services stack.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538647255296">
      ⁠</a>2.4. Hibernate</h2></div></div></div><div class="para">
			Hibernate now offers full support for Java Database Connectivity 4 (JDBC 4), which enables greater Clob and Blob support, and more sophisticated exception handling.
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538655087776">
      ⁠</a>2.5. PicketLink Federation</h2></div></div></div><div class="para">
			PicketLink Federation is a security and identity framework providing support for SAML v2.0 and and WS-Trust. JBoss Enterprise Application Platform 5.1.0 introduces PicketLink as a Technology Preview.
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538655086144">
      ⁠</a>2.6. Features introduced in previous releases</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="New_Features_5.0.1">
      ⁠</a>2.6.1. Features introduced with JBoss Enterprise Application Platform 5.0.1</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="The_Native_Package">
      ⁠</a>2.6.1.1. The Native Package</h4></div></div></div><div class="para">
					The Native package has been expanded to provide mod_cluster and ISAPI for Windows technologies, in addition to JBoss Native and mod_jk. The added technologies are described as follows:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
							<span class="application"><strong>mod_cluster</strong></span> is an httpd-based load balancer. Like <span class="application"><strong>mod_jk</strong></span>, it uses a communication channel to forward requests from httpd to an application server node; however it also employs a communications channel from server nodes to the load balancer, providing real-time feedback and enabling more efficient load optimization and request routing. See the mod_cluster documentation available from <a href="http://docs.redhat.com/">http://docs.redhat.com/</a> for further details.
						</div></li><li class="listitem"><div class="para">
							<span class="application"><strong>ISAPI</strong></span> is a connector used to connect the Microsoft IIS web server to JBoss Enterprise Application Platform.
						</div></li></ul></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm140538683345584">
      ⁠</a>2.6.1.1.1. Native Solaris SPARC Packages</h5></div></div></div><div class="para">
						Native Solaris SPARC packages are provided from this release of JBoss Enterprise Application Platform onward. See the JBoss Enterprise Application Platform <em class="citetitle">Installation Guide</em> for native package installation instructions.
					</div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="New_Features_5.0">
      ⁠</a>2.6.2. Features introduced with JBoss Enterprise Application Platform 5.0</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="JBoss_AS">
      ⁠</a>2.6.2.1. JBoss AS</h4></div></div></div><div class="para">
					The JBoss AS 5 family represents the state of the art, second generation Microcontainer based enterprise Java run-time and the latest release of the world's most popular application server. In addition to supporting the latest Java EE specification (Java EE 5), it integrates many of the best enterprise class services for advanced messaging, persistence, transactions, caching and high-availability.
				</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="JBoss_Microcontainer">
      ⁠</a>2.6.2.2. JBoss Microcontainer</h4></div></div></div><div class="para">
					The JBoss Microcontainer is a refactoring of the modular JBoss JMX Microkernel. It is a lightweight kernel that manages the loading, lifecycle and dependencies between POJOs. Used to integrate enterprise services, the JBoss Microcontainer together with Servlet/JSP container, EJB container, deployers and management utilities, provides a standard Java EE 5 profile.
				</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="Messaging">
      ⁠</a>2.6.2.3. JBoss Messaging</h4></div></div></div><div class="para">
					JBoss Messaging is the default JMS provider in JBoss Enterprise Application Platform 5.1. It is a complete rewrite of JBossMQ, the legacy JBoss JMS provider, which compared to JBossMQ offers improved performance in both single-node and clustered environments.
				</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="JBoss_Cache">
      ⁠</a>2.6.2.4. JBoss Cache</h4></div></div></div><div class="para">
					JBoss Cache is used to replicate EJB and HTTP session state and supports distributed entity caching for JPA, while continuing to push the performance and scalability envelope with a new and more efficient locking scheme (MVCC – MultiVersion Concurrency Control).
				</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm140538674556144">
      ⁠</a>2.6.2.5. JBoss Web Services Native</h4></div></div></div><div class="para">
					JBoss Web Services Native is the Java EE 5-compliant JBoss implementation of web services standards. It is the only web services stack for versions of JBoss Enterprise Application Platform prior to 5.1, and is the default web services stack in JBoss Enterprise Application Platform 5.1.
				</div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="The_Native_Package-5.0">
      ⁠</a>2.6.2.6. The Native Package</h4></div></div></div><div class="para">
					The Native package is an optional component for the JBoss Enterprise Application Platform and incorporates JBoss Native and the mod_jk technologies. These technologies are described as follows:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
							JBoss Native consists of the Apache Portable Runtime (APR), OpenSSL and Tomcat Native (TC-native).
						</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
									<span class="application"><strong>Apache Portable Runtime (APR)</strong></span> provides superior scalability, performance, and improved integration with native server technologies. The Apache Portable Runtime is a highly portable library that is at the heart of Apache HTTP Server 2.x and contains many uses, including access to advanced IO functionality (for example: sendfile, epoll and OpenSSL), Operating System level functionality (for example: random number generation and system status), and native process handling (shared memory, NT pipes and Unix sockets).
								</div></li><li class="listitem"><div class="para">
									<span class="application"><strong>OpenSSL</strong></span> implements the Secure Sockets Layer (SSL) and Transport Layer Security (TLS) protocols and includes a basic crytographic library.
								</div></li><li class="listitem"><div class="para">
									<span class="application"><strong>Tomcat Native (TC-Native)</strong></span> is a Java Native Interface (JNI) that provides much of Tomcats core functionality in native code rather than Java. This allows for an overall increase in the speed of a server.
								</div></li></ul></div></li><li class="listitem"><div class="para">
							<span class="application"><strong>mod_jk</strong></span> is a connector that is used to connect the Tomcat JSP container and different web services such as Apache.
						</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
						The Red Hat Enterprise Linux 5 distribution of the Native package does not contain OpenSSL or the Apache Portable Runtime since these technologies are already included in the Operating System.
					</div></div></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Component_Versions">
      ⁠</a>3. Component Versions</h1></div></div></div><div class="para">
		This section details the versions of the components which create the Enterprise Application Platform 5.1.
	</div><div class="table"><a id="idm140538661286928">
      ⁠</a><p class="title"><strong>Table 1. Component version comparison between releases 5.1.0 and 5.0.1</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-14-rows" summary="Component version comparison between releases 5.1.0 and 5.0.1"><colgroup><col/><col/><col/></colgroup><thead><tr><th> Component </th><th> EAP 5.1 </th><th> EAP 5.0.1 </th></tr></thead><tbody><tr><td> JBoss Application Server </td><td> 5.1.0.GA </td><td> 5.1.0.GA </td></tr><tr><td> JBoss Microcontainer </td><td> 2.0.10.GA </td><td> 2.0.9.GA </td></tr><tr><td> JBoss Native </td><td> 2.0.9.GA </td><td> 2.0.9.GA </td></tr><tr><td> Hibernate Core </td><td> 3.3.2.GA_CP03 </td><td> 3.3.2.GA_CP01 </td></tr><tr><td> Hibernate Entity Manager </td><td> 3.4.0.GA_CP03 </td><td> 3.4.0.GA_CP01 </td></tr><tr><td> Hibernate Annotations </td><td> 3.4.0.GA_CP03 </td><td> 3.4.0.GA_CP01 </td></tr><tr><td> Hibernate Search </td><td> 3.1.1.GA_CP03 </td><td> 3.1.1.GA_CP01 </td></tr><tr><td> Hibernate Validator </td><td> 3.1.0.GA </td><td> 3.1.0.GA </td></tr><tr><td> Clustered Remote EJB3 Proxies </td><td> 1.3.6.GA </td><td> 1.1.22.GA </td></tr><tr><td> JBoss Cache </td><td> 3.2.5.GA </td><td> 3.2.1.GA </td></tr><tr><td> JBoss HA Server API </td><td> 1.1.3.Final </td><td> 1.1.1.GA </td></tr><tr><td> JBoss JAXR </td><td> 2.0.1 </td><td> 2.0.1 </td></tr><tr><td> JGroups </td><td> 2.6.16.GA </td><td> 2.6.13.GA </td></tr><tr><td> JBoss EJB3 </td><td> 1.3.6.GA </td><td> 1.1.22.GA </td></tr><tr><td> JBoss JTA </td><td> 4.6.1.GA_CP07 </td><td> 4.6.1.GA_CP03 </td></tr><tr><td> JBoss JTS </td><td> 4.6.1.GA_CP07 </td><td> 4.6.1.GA_CP03 </td></tr><tr><td> JBoss Negotiation </td><td> 2.0.3.SP3 </td><td> 2.0.3.SP1 </td></tr><tr><td> JBoss Managed </td><td> 2.1.1.GA </td><td> 2.1.1.GA </td></tr><tr><td> JBoss Messaging </td><td> 1.4.7.GA </td><td> 1.4.6.GA </td></tr><tr><td> JBoss Metadata </td><td> 1.0.6.GA </td><td> 1.0.2 </td></tr><tr><td> JBoss Web </td><td> 2.1.10.GA </td><td> 2.1.7.GA </td></tr><tr><td> JBoss Web Services - Native </td><td> 3.1.2.SP7 </td><td> 3.1.2.SP3 </td></tr><tr><td> JBoss Web Services - CXF </td><td> 3.1.2.SP7 </td><td> - </td></tr><tr><td> JBoss AOP </td><td> 2.1.6.CP01 </td><td> 2.1.6.GA </td></tr><tr><td> JBoss Remoting </td><td> 2.5.3.SP1 </td><td> 2.5.2 </td></tr><tr><td> JBoss Serialization </td><td> 1.0.4.FINAL </td><td> 1.0.3.GA </td></tr><tr><td> JBoss XB </td><td> 2.0.1.GA </td><td> 2.0.1.GA </td></tr><tr><td> JavaServer Faces </td><td> 1.2_13 </td><td> 1.2_13 </td></tr><tr><td> JacORB </td><td> 2.3.1.jboss.patch01 </td><td> 2.3.1.jboss.patch01 </td></tr><tr><td> JPA </td><td> 1.0.0 </td><td> 1.0.0 </td></tr><tr><td> JBoss Security </td><td> 2.0.4.SP4 </td><td> 2.0.4.SP1 </td></tr><tr><td> JBoss Profiler-jvmti </td><td> 1.0.0.CR5 </td><td> 1.0.0.CR5 </td></tr><tr><td> Admin Console </td><td> 1.3.4.SP1 </td><td> 1.3.2.GA </td></tr><tr><td> mod_jk </td><td> 1.2.30 </td><td> 1.2.28 </td></tr><tr><td> mod_cluster </td><td> 1.0.4.GA </td><td> 1.0.3.GA </td></tr><tr><td> Seam </td><td> 2.2.2.EAP5 </td><td> 2.2.1.EAP5 </td></tr><tr><td> RESTEasy </td><td> 1.2.GA_CP01 </td><td> 1.1.GA_CP01 </td></tr><tr><td> RichFaces (in Seam) </td><td> 3.3.1.SP2 </td><td> 3.3.1.GA </td></tr></tbody></table></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Technology Preview</strong></p></div><div class="admonition"><div class="para">
			JBoss Enterprise Application Platform 5.1 includes PicketLink Federation as a Technology Preview.
		</div><div class="para">
			Technology Preview features are not fully supported under Red Hat subscription level agreements (SLAs), may not be functionally complete, and are not intended for production use. However, these features provide early access to upcoming product innovations, enabling customers to test functionality and provide feedback during the development process. As Red Hat considers making future iterations of Technology Preview features generally available, we will provide commercially reasonable efforts to resolve any reported issues that customers experience when using these features.
		</div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Installation_Notes">
      ⁠</a>4. Installation Notes</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Supported_Configurations">
      ⁠</a>4.1. Supported Configurations</h2></div></div></div><div class="para">
			An up-to-date matrix of compatible and certified configurations is available at <a href="http://www.jboss.com/products/platforms/application/supportedconfigurations/">http://www.jboss.com/products/platforms/application/supportedconfigurations/</a>. Please refer to this list for information on tested and supported configurations.
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Installation_EAP">
      ⁠</a>4.2. Installing JBoss Enterprise Application Platform</h2></div></div></div><div class="para">
			Refer to the <em class="citetitle">Installation Guide</em> for instructions on installing and verifying the installation of the JBoss Enterprise Application Platform.
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Default_Startup_Profile">
      ⁠</a>4.3.  Default Startup Profile </h2></div></div></div><div class="para">
			The default startup profile is <code class="filename">default</code> which is a base Java EE 5 server profile containing a default set of services. It contains the most frequently used services required to deploy a Java EE 5 application. It does not include the JAXR service, the IIOP service, or any of the clustering services.
		</div><div class="para">
			The <code class="filename">default</code> profile is not intended for production use or for the running of load, stress, availability or performance tests. In addition, the performance of this beta release does not necessarily represent the final release.
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="source">
      ⁠</a>4.4. Source Files</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Source ZIP</div>
				<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
							<a href="ftp://ftp.redhat.com/pub/redhat/jbeap/5.1.0/en/source/jboss-eap-src-5.1.0.zip">ftp://ftp.redhat.com/pub/redhat/jbeap/5.1.0/en/source/jboss-eap-src-5.1.0.zip</a>
						</div></li></ul></div>

			</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Product-Support">
      ⁠</a>5.  Product Support </h1></div></div></div><div class="para">
		Bugs, potential bugs, and development issues and/or questions should be filed as JBoss support cases via the Customer Support Portal, <a href="http://access.redhat.com">http://access.redhat.com</a>.
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Documentation">
      ⁠</a>6.  Documentation </h1></div></div></div><div class="para">
		In this release the JBoss Transactions Documentation is restructured and consolidated into the <em class="citetitle">Transactions Development Quick Start Guide</em>, <em class="citetitle">Transactions Administrators Guide</em>, and <em class="citetitle">Transactions Development Guide</em>.
	</div><div class="para">
		This release also sees the addition of the <em class="citetitle">JBoss Security Guide</em>, which brings together the Platform's security-related information.
	</div><div class="para">
		 JBoss WS CXF, introduced in this release, contributes a User Guide to the Platform documentation set.
	</div><div class="para">
		All API documents, code examples and a link to the online release notes are distributed in a separate ZIP file, <code class="filename">jboss-eap-docs-&lt;version&gt;.zip</code>.
	</div><div class="para">
		All other guides and documentation are avaliable online at <a href="http://docs.redhat.com/">http://docs.redhat.com</a>. Select the appropriate product name (JBoss Enterprise Application Platform) and stream (5) from the sidebar, as shown in the image on the front page.
	</div><div class="para">
		Your feedback on our documentation is highly appreciated. You can directly contact the documentation team via <a href="https://jira.jboss.org/secure/CreateIssueDetails!init.jspa?pid=12310320&amp;issuetype=1&amp;components=12310916&amp;customfield_12310031=Documentation%20(Ref%20Guide,%20User%20Guide,%20etc.)&amp;assignee=-1&amp;versions=12314384&amp;fixVersions=12315037">http://jira.jboss.org</a>.
	</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Tech-previews">
      ⁠</a>7. Technology Previews</h1></div></div></div><div class="para">
		This section describes the Technology Preview features released alongside JBoss Enterprise Application Platform, their installation, and any known issues.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Technology Preview</strong></p></div><div class="admonition"><div class="para">
			Technology Preview features are not fully supported under Red Hat subscription level agreements (SLAs), may not be functionally complete, and are not intended for production use. However, these features provide early access to upcoming product innovations, enabling customers to test functionality and provide feedback during the development process. As Red Hat considers making future iterations of Technology Preview features generally available, we will provide commercially reasonable efforts to resolve any reported issues that customers experience when using these features.
		</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="TP-PicketLink">
      ⁠</a>7.1. PicketLink</h2></div></div></div><div class="para">
			PicketLink Federation brings Identity Federation and Single Sign-on to the Platform, with support for SAML 2.0, WS-Trust 1.3, XACML 2.0 (via JBossXACML), and OpenID 1.1 and 2.0. Refer to the <em class="citetitle">Installation Guide</em> for information about installing PicketLink.
		</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="excluded_removed_deprecated_items">
      ⁠</a>8. Excluded, Removed and Deprecated Items</h1></div></div></div><div class="variablelist"><p class="title"><strong>Excluded, Deprecated, and Removed Items</strong></p><dl class="variablelist"><dt><span class="term">Excluded</span></dt><dd><div class="para">
					An item that has never featured in a product release but is otherwise part of one of the open source components of the product, is an <em class="firstterm">excluded item</em>.
				</div></dd><dt><span class="term">Deprecated</span></dt><dd><div class="para">
					An item that will be removed from a future release, usually the next major version, is a <em class="firstterm">deprecated item</em>.
				</div></dd><dt><span class="term">Removed</span></dt><dd><div class="para">
					An item that was previously in a release of the product and is no longer included is a <em class="firstterm">removed item.</em>. Items will usually be deprecated before being removed.
				</div></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="excluded_items">
      ⁠</a>8.1. Excluded Items</h2></div></div></div><div class="para">
			No items are excluded in this release.
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="deprecated_items">
      ⁠</a>8.2. Deprecated Items</h2></div></div></div><div class="para">
			The following items are deprecated in this release.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					JBoss Cache <a href="https://jira.jboss.org/browse/JBAS-7837">JBAS-7837</a>
				</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
							Pojo Cache FIELD replication granularity <a href="https://jira.jboss.org/browse/JBAS-7560">JBAS-7560</a>
						</div></li></ul></div></li><li class="listitem"><div class="para">
					JMX Console <a href="https://jira.jboss.org/browse/JBAS-7509">JBAS-7509</a>
				</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
							JFreeChart <a href="https://jira.jboss.org/browse/JBAS-7716">JBAS-7716</a>
						</div></li></ul></div></li><li class="listitem"><div class="para">
					JMX Remoting <a href="https://jira.jboss.org/browse/JBAS-7510">JBAS-7510</a>
				</div></li><li class="listitem"><div class="para">
					org.jboss.jdo.castor.CastorJDOImpl MBean <a href="https://jira.jboss.org/browse/JBAS-7511">JBAS-7511</a>
				</div></li><li class="listitem"><div class="para">
					JDBC3 (JDK5) classes in the JDBC adaptor <a href="https://jira.jboss.org/browse/JBAS-7527">JBAS-7527</a>
				</div></li><li class="listitem"><div class="para">
					Java Remote Method Protocol Invoker and HA Invoker <a href="https://jira.jboss.org/browse/JBAS-7563">JBAS-7563</a>
				</div></li><li class="listitem"><div class="para">
					PooledInvoker and PooledInvokerHA <a href="https://jira.jboss.org/browse/JBAS-7564">JBAS-7564</a>
				</div></li><li class="listitem"><div class="para">
					HASessionStateTopologyComputer and HASessionStateTopologyComputerImpl <a href="https://jira.jboss.org/browse/JBAS-7992">JBAS-7992</a>
				</div></li><li class="listitem"><div class="para">
					SubPartitionsInfo and SubPartitionInfo interfaces <a href="https://jira.jboss.org/browse/JBAS-7992">JBAS-7992</a>
				</div></li><li class="listitem"><div class="para">
					cglib
				</div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="removed_items">
      ⁠</a>8.3. Removed Items</h2></div></div></div><div class="para">
			No items are removed in this release.
		</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Issues-fixed-in-this-release">
      ⁠</a>9.  Issues fixed in this release </h1></div></div></div><div class="para">
		Following are the issues fixed in this release:
	</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538670969968">
      ⁠</a>9.1. General Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-6987">JBPAPP-6987</a></span></dt><dd><div class="para">
						Microcontainer beans were being registered as MBeans on deployment. These MBeans are optional and provide some debugging information. This behavior has now been turned off by default. Microcontainer beans are no longer registered as MBeans on deployment by default.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4730">JBPAPP-4730</a></span></dt><dd><div class="para">
						The specific combination of JBoss Native, 64-bit hardware, and the <code class="command">-javaagent</code> Java option caused systems to hang when executing the <code class="command">run.sh</code> script. The script passed user supplied parameters to Java while making a call to check for the system architecture. The <code class="command">run.sh</code> script is now modified to ignore user supplied parameters when making this call, and the script no longer hangs under this condition.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4683">JBPAPP-4683</a></span></dt><dd><div class="para">
						When a management tool used the ProfileService management interface (as the embedded console does) to update the ServiceBindingManager service, the mapping of the received information was incorrect. The received value for a binding's "fixedHostName" property was applied as "fixedPort" and vice versa. In most cases, both properties are "false" so this was harmless. However, if either property were true, this led to an incorrect binding upon server restart when the updated values were applied. This has been corrected and the mappings are now applied as expected.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4471">JBPAPP-4471</a></span></dt><dd><div class="para">
						When user-type-mapped types were used in ejbql aggregate functions like MIN and MAX, a CCE exception was thrown. This is now fixed and CMP fields of types mapped with user-type-mapping can appear in aggregate functions in the SELECT clause of an EJB-QL query.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3942">JBPAPP-3942</a></span></dt><dd><div class="para">
						The <code class="filename">run.sh</code> script now creates a file to track processes and make it easier to obtain process IDs, <code class="filename">jboss.pidfile</code>. See the JIRA for further details.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3674">JBPAPP-3674</a></span></dt><dd><div class="para">
						A status servlet error existed for &lt;distributable&gt; web apps. The Cache session manager had different attributes from the Web manager, but was perceived as the same JMX object because of a lack of case sensitivity. StandardManager used 'activeSessions' while the clustered version was 'ActiveSessions'. The code used by the servlet to render the status information can now detect and handle upper and lower case letters in the JMX attribute names for a session manager.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3171">JBPAPP-3171</a></span></dt><dd><div class="para">
						<a href="https://jira.jboss.org/browse/JBPAPP-544">JBPAPP-544</a> fixed a security issue by removing the mapping for /status, leaving only the secure /web-console/status available. However, the unsecured /status was reincluded in <a href="https://jira.jboss.org/browse/JBPAPP-1146">JBPAPP-1146</a>. This has been fixed by configuring the <code class="filename">ROOT.war</code> webapp's security. It solves the original problem of securing, and leaves the /status intact.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2571">JBPAPP-2571</a></span></dt><dd><div class="para">
						Running the Microsoft SQL server with Microsoft JDBC drivers 2.0 causes unstable builds in JBoss Messaging. This issue is created by the <code class="literal">Adaptive Buffering</code> being the default behavior for the driver as this only allows for large values ot be read once by using the <code class="methodname">get&lt;Type&gt;Stream</code> method. The current workaround for this issue is to change the <em class="parameter"><code>responseBuffering</code></em> parameter of the JDBC connection URL from being <code class="literal">adaptive</code>, to being <code class="literal">full</code> (as it was for version 1.2 of the JDBC driver).
					</div><pre class="programlisting">&lt;url&gt;jdbc:sqlserver://[host];database=[database];responseBuffering=full;&lt;/url&gt;</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-1774">JBPAPP-1774</a></span></dt><dd><div class="para">
						Red Hat Enterprise Linux 5 users installing the JBoss Enterprise Application Platform rpm using <span class="application"><strong>yum</strong></span> must be subscribed to the Red Hat Enterprise Linux Extras channel in order to satisfy the Java requirement of JBoss Enterprise Application Platform with either the Sun or the IBM Java Development Kit.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538614924416">
      ⁠</a>9.2. Hibernate Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4579">JBPAPP-4579</a></span></dt><dd><div class="para">
						Using <code class="methodname">session.createSQLQuery</code> caused a memory leak because the <code class="methodname">equals</code> and <code class="methodname">hashCode</code> methods in <code class="classname">NativeSQLQuerySpecification </code> were incorrectly implemented, and concurrent use of <code class="methodname">LRUMap</code> caused the map to grow larger than its maximum limit. These issues have been corrected and the memory leak no longer occurs.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4326">JBPAPP-4326</a></span></dt><dd><div class="para">
						The changes for <a href="https://jira.jboss.org/browse/JBPAPP-4471">JBPAPP-4471</a> caused an issue when users mapped non-JDK Serializable classes with <code class="varname">SerializableType</code>, and attempted to cache those values into a second level cache. <code class="varname">SerializableType</code> reported the classloader of <code class="classname">java.io.Serializable</code> as the classloader to use for deserialization. However, this classloader could not see into the classloader, or non-JDK classes.
					</div><div class="para">
						The classloader from <code class="methodname">org.hibernate.util.SerializationHelper.deserialize(InputStream, ClassLoader)</code> now attempts to resolve the classloader that needs to be deserialized. If it cannot do this successfully, it uses the context classloader from the current thread and the classloader that loads the Hibernate class.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4224">JBPAPP-4224</a></span></dt><dd><div class="para">
						The Query Cache required the session or entity manager to be closed and reopened before it will become effective because Hibernate compares the timestamp of a cached query with the timestamp of the current session when it retrieves a query from the cache. This has now been fixed, and Hibernate uses <code class="methodname">nextTimestamp()</code> to fetch the current timestamp rather than the cached timestamp.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4183">JBPAPP-4183</a></span></dt><dd><div class="para">
						<code class="varname">@CollectionId</code> describes an identifier column for a bag (an idbag, for example). <code class="varname">nullable</code> should have been set to false explicitly. This has been corrected, and <code class="varname">nullable</code> is now set to <code class="literal">false</code> by default.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-4123">JBPAPP-4123</a></span></dt><dd><div class="para">
						PostgreSQL failed to drop <code class="literal">SchemaExport</code> if constraint names changed. Hibernate now issues a cascade when it tries to drop a table, fixing the issue.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4105">JBPAPP-4105</a></span></dt><dd><div class="para">
						Hibernate uses <code class="classname">StandardDialectResolver</code> to guess the Hibernate dialect if the <code class="varname">hibernate.dialect</code> property is not found in the Hibernate properties file, <code class="filename">hibernate.cfg.xml</code>, or <code class="filename">persistence.xml</code>. <code class="classname">StandardDialectResolver</code> returned <code class="literal">SybaseDialect</code> if the database name it extracted from database metadata is <code class="literal">Sybase SQL Server</code> or <code class="literal">Adaptive Server Enterprise</code>. However, because <code class="literal">SybaseDialect</code> is deprecated, this caused some problems. The <code class="literal">StandardDialectResolver</code> now guesses the correct dialect to use if <code class="varname">hibernate.dialect</code> is not configured.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-4095">JBPAPP-4095</a></span></dt><dd><div class="para">
						When scrolling a HQL query with join fetch on a collection, <code class="methodname">FetchingScrollableResultsImpl.last()</code> did not move to the last result if the cursor was positioned after the last result. Instead, the cursor stayed in position after the last result. This could cause <code class="exceptionname">org.hibernate.exception.GenericJDBCException</code>: <code class="literal">could not perform sequential read of results</code>. The fix for this issue ensures that the cursor moves to the last result, as expected.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4088">JBPAPP-4088</a></span></dt><dd><div class="para">
						When a column name was defined in backticks (`), <code class="varname">@JoinTable</code> and <code class="varname">@JoinColumn</code> mappings failed with <code class="exceptionname">AnnotationException</code> when the column name with backticks was referenced. Hibernate now compares the <code class="literal">referencedColumnName</code> with the column's quote name rather than the table column's name.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4022">JBPAPP-4022</a></span></dt><dd><div class="para">
						<code class="methodname">getColumnSpan</code> returned <code class="literal">0</code> when comparing entities with <code class="varname">OneToOne</code> mappings, even when comparing the same entity, which resulted in <code class="exceptionname">TypeMismatchException</code>s. The algorithm of <code class="methodname">getColumnSpan</code> has changed so that the column span can be identified by its identifier or unique key type.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3946">JBPAPP-3946</a></span></dt><dd><div class="para">
						<code class="classname">LikeExpression</code> did not handle the <code class="varname">ignoreCase</code> flag properly when <code class="varname">ignoreCase</code> was set to false. The correct SQL <code class="literal">property like ?</code> was built, but the flag inside <code class="classname">getTypedValues</code> was not used, and a lowercase value was always produced. This issue has been fixed, and lowercase or the original case is used when <code class="varname">ignoreCase</code> is set to false.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3737">JBPAPP-3737</a></span></dt><dd><div class="para">
						In a stateless session, queries load objects in a two-phase process: in the first phase, a temporary persistence context is populated with empty objects; in the second phase, the objects' member data is read from the database. If an object contains an association or a collection, the query performs a recursive call to the session's get() method. This clears the temporary persistence context.
					</div><div class="para">
						If the parent object contained any other associations to be read as part of the second phase, Hibernate threw an assertion because the associations cannot be found in the persistence context.
					</div><div class="para">
						This has been fixed by introducing a new method: <code class="literal">org.hibernate.engine.PersistenceContext.isLoadFinished()</code>. This method tells StatelessSession when to clean the temporary persistence context.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3565">JBPAPP-3565</a></span></dt><dd><div class="para">
						A bug in <code class="methodname">org.hibernate.cfg.OneToOneSecondPass</code> code sometimes caused an <code class="exceptionname">org.hibernate.PropertyValueException</code> when processing a one-to-one mapping. The exception occurred because when JOINs did not contain <code class="varname">otherSideProperty</code>, <code class="varname">otherSideJoin</code> retained old data instead of being null. The <code class="methodname">org.hibernate.cfg.OneToOneSecondPass</code> code has been corrected.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3487">JBPAPP-3487</a></span></dt><dd><div class="para">
						Hibernate generated the wrong alias in the table-pre-class inheritance strategy in some situations. (See the JIRA for examples.) <code class="literal">AbstractCollectionPersister</code> now uses the key column aliases generated by <code class="literal">Column.getAlias(Dialect,Table)</code>, so the table-pre-class inheritance strategy mapping is correct.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-2440">JBPAPP-2440</a></span></dt><dd><div class="para">
						When a cache provider could not be found, a <span class="errorname">NoClassDefFoundError</span> was thrown with the message:
					</div><pre class="screen">net/sf/ehcache/CacheException</pre><div class="para">
						When a connection provider could not be found, a <code class="exceptionname">HibernateException</code> was thrown with the following message:
					</div><pre class="screen">Could not instantiate connection provider: " + providerClass</pre><div class="para">
						More informative messages are now thrown when these errors occur.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-2276">JBPAPP-2276</a></span></dt><dd><div class="para">
						The iteration order of <code class="literal">HashMaps</code> and <code class="literal">HashSets</code> for JDK 6 caused the order of columns in union clauses or union subclasses to differ depending on whether JDK 5 or 6 was used. Since the change in column order is consistent across union clauses, the resulting queries were valid; however, this change could affect performance. The implementation of HashSet has been changed to LinkedHashSet, for identical performance between the different JDKs.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2275">JBPAPP-2275</a></span></dt><dd><div class="para">
						Hibernate could not previously be compiled under JDK 6 because the following classes did not fully implement JDK 6 interfaces:
					</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
								<code class="classname">org.hibernate.jdbc.ResultSetWrapper</code>
							</div></li><li class="listitem"><div class="para">
								<code class="classname">org.hibernate.lob.BlobImpl</code> to implement <code class="classname">java.sql.Blob</code>
							</div></li><li class="listitem"><div class="para">
								<code class="classname">org.hibernate.lob.ClobImpl</code>
							</div></li><li class="listitem"><div class="para">
								<code class="classname">org.hibernate.lob.SerializableBlob</code>
							</div></li><li class="listitem"><div class="para">
								<code class="classname">org.hibernate.lob.SerializableClob</code>
							</div></li></ul></div><div class="para">
						A <span class="errorname">NoSuchMethodError</span> occurred when an application required a method that was missing from these classes. The missing methods have now been implemented and this error no longer occurs.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538653699040">
      ⁠</a>9.3. Remoting Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3709">JBPAPP-3709</a></span></dt><dd><div class="para">
						When <code class="classname">org.jboss.remoting.marshal.MarshallerLoaderHandler</code> got a request for a class, it returned an instance of <code class="classname">org.jboss.remoting.loading.ClassBytes</code>. If <code class="classname">MarshallerLoaderHandler</code> was unable to find the desired class, then the returned <code class="classname">ClassBytes</code> object had a null value for the class byte array. However, <code class="classname">org.jboss.remoting.loading.ClassByteClassLoader</code> does not check for the possibility of a null byte array, so a <code class="exceptionname">NullPointerException</code> resulted. <a href="https://jira.jboss.org/browse/JBREM-1184">JBREM-1184</a>, which caused this issue, has been fixed.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538668867136">
      ⁠</a>9.4. Seam Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4876">JBPAPP-4876</a> </span></dt><dd><div class="para">
						On injection of a jBPM <code class="classname">ProcessInstance</code> to a Seam component, the process instance returned was registered for auto-save. This caused a performance issue, as the jBPM ManagedContext saves all instances in the <code class="classname">autoSaveProcessesList</code> when it closes. The code for returning a <code class="classname">ProcessInstance</code> on injection has been changed, and the process instance is no longer registered for auto-save.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4685">JBPAPP-4685</a> </span></dt><dd><div class="para">
						An input sanitization flaw was found in the way JBoss Seam processed certain parametrized JBoss Expression Language (EL) expressions. A remote attacker could use this flaw to execute arbitrary code via a URL, containing appended, specially-crafted expression language parameters, provided to certain applications based on the JBoss Seam framework. Note: A properly configured and enabled Java Security Manager would prevent exploitation of this flaw. (<a href="https://www.redhat.com/security/data/cve/CVE-2010-1871.html">CVE-2010-1871</a>)
					</div><div class="para">
						Red Hat would like to thank Meder Kydyraliev of the Google Security Team for responsibly reporting this issue.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4577">JBPAPP-4577</a></span></dt><dd><div class="para">
						A change to Seam's <code class="methodname">getInstanceFromFactory</code> method to fix a concurrency issue caused some applications to enter a deadlock situation in a very specific combination of circumstances. The original fix to <code class="methodname">getInstanceFromFactory</code> was revised, and the issue has not been observed since.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4568">JBPAPP-4568</a></span></dt><dd><div class="para">
						Seam was distributed with a copy of <code class="filename">activation.jar</code> in its <code class="filename">/lib</code> directory. This file is also supplied by JDK 6. The copy in Seam has been removed.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4509">JBPAPP-4509</a></span></dt><dd><div class="para">
						Rich:comboBox components in Seam apps created with <span class="application"><strong>seam-gen</strong></span> were missing the drop-down arrow graphic. This was fixed by modifying the cascading style sheet used to control the display of the component in a web browser. The arrow graphic is now displayed correctly.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4317">JBPAPP-4317</a></span></dt><dd><div class="para">
						Seam would fail if two components with the same class name were found on the classpath, with an error: "<code class="literal">java.lang.IllegalStateException: Two components with the same name and precedence -</code>", followed by the component and class names. Seam has been updated, and will now ignore any duplicate classes. When duplicate components are encountered with the same classname, the first one encountered will be loaded, and any subsequent components on the classpath with the same classname will be ignored.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4273">JBPAPP-4273</a></span></dt><dd><div class="para">
						<code class="classname">MockServletContext</code> was unaware that JBoss Enterprise Application Platform 5 used the Virtual File System. It therefore attempted to access URIs as files. <code class="classname">MockServletContext</code> now recognizes the web application root and fetches the path of the URL class, ensuring that the protocol does not form part of the <code class="literal">java.io.File</code> constructor parameter.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4259">JBPAPP-4259</a></span></dt><dd><div class="para">
						Seam-gen templates used <code class="literal">resource://</code> for objects that were not on the classpath. This resulted in an error when trying to transform a RichFaces template (XCSS) into a CSS file. Seam-gen no longer uses <code class="literal">resource://</code>, fixing the issue.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-4015">JBPAPP-4015</a></span></dt><dd><div class="para">
						When hot deployment was used for EARs that contained multiple WAR files, the first web application accessed worked correctly, but web requests to subsequent web applications caused a <code class="exceptionname">NullPointerException</code>. This occurred because the application context was not set up when the hot deployment filter ran. Each operation related to web application context now checks for the current <code class="classname">javax.servlet.ServletContext</code>, resolving the issue.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4013">JBPAPP-4013</a></span></dt><dd><div class="para">
						When using the web services page of the Seambay example in Internet Explorer 8, values entered in the username and password fields do not propagate to the request area because of an undefined JavaScript object. This has been corrected.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4012">JBPAPP-4012</a></span></dt><dd><div class="para">
						The Tasks example did not work correctly in Internet Explorer 8. When "Undo this Task" is selected on the Resolved Tasks page, the task returns to the Tasks page, but does not disappear from the Resolved Tasks page. This issue has been fixed by turning off Ajax request caching.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4010">JBPAPP-4010</a></span></dt><dd><div class="para">
						Resources from the resource servlet, such as CAPTCHA images, were cached by the browser and did not re-render correctly because of incorrect response headers in <code class="classname">org.jboss.seam.captcha.CaptchaImage</code>. The response headers have been corrected so that this no longer occurs.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4009">JBPAPP-4009</a></span></dt><dd><div class="para">
						In Seam mail, attachments were not always included inline, so attachments were not visible in some mail clients. The patch for this issue was backported from <a href="https://jira.jboss.org/browse/JBSEAM-4630">JBSEAM-4630</a>, and attachments should now be visible.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4008">JBPAPP-4008</a></span></dt><dd><div class="para">
						If <code class="methodname">ELSupport.coerceToType</code> was called with an <code class="classname">BigDecimal</code> instance as the first Parameter 'obj' and <code class="classname">BigDecimal.class</code> as type, the <code class="classname">BigDecimal</code> would be converted into a double and back into a <code class="classname">BigDecimal</code> which would lead to a different value being returned.
					</div><div class="para">
						This was addressed upstream, and was fixed in JBoss Enterprise Application Platform 5.1.0 by changing the Seam dependency on JBoss-EL to 1.0_02.CR5.
					</div><div class="para">
						ELSupport.coerceToType now returns an input value when it is assignable to the given type.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4007">JBPAPP-4007</a></span></dt><dd><div class="para">
						<code class="literal">org.jboss.seam.transaction.EjbSynchronizations</code> did not comply with Java specifications. As stated in <a href="http://java.sun.com/blueprints/guidelines/designing_enterprise_applications/transaction_management/qanda/index.html">http://java.sun.com/blueprints/guidelines/designing_enterprise_applications/transaction_management/qanda/index.html</a>, classes that implement SessionSynchronization may not have <code class="literal">TransactionsAttribute TransactionAttributeType.SUPPORTS</code>. <code class="literal">TransactionsAttributeType.SUPPORTS</code> has been replaced with <code class="literal">TransactionsAttributeType.REQUIRED</code>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4006">JBPAPP-4006</a></span></dt><dd><div class="para">
						<code class="literal">org.jboss.seam.core.Interpolator</code> did not report exceptions and printed warnings with limited information. Exceptions are now reported, and warnings are more informative.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-4005">JBPAPP-4005</a></span></dt><dd><div class="para">
						Seam JMS support did not work after failover to a slave node because the <code class="classname">topicConnection</code> field in the <code class="classname">SubscriptionRegistry</code> object became invalid when the connection to the master node failed. Subsequent calls to <code class="methodname">SubscriptionRegistry.subscribe()</code> failed with <code class="exceptionname">SpyJMSException</code>, and JMS subscriptions no longer worked even if the master node revived. This issue has been fixed.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4004">JBPAPP-4004</a></span></dt><dd><div class="para">
						A typographical error existed in the message logged by the <code class="literal">org.jboss.seam.async.AsynchronousExceptionHandler</code> when handling "Exeception thrown while executing asynchronous call". "Exeception" should be "Exception". This has been fixed.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-4003">JBPAPP-4003</a></span></dt><dd><div class="para">
						Requirements have changed between JBoss Enterprise Application Platform 4.x and JBoss Enterprise Application Platform 5.x such that page-level <code class="filename">messages.properties</code> in the <code class="classname">ResourceLoader</code> must be stored in <code class="filename">META-INF/classes</code> or they will not work. The documentation is not explicit about this. This issue has been fixed.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4002">JBPAPP-4002</a></span></dt><dd><div class="para">
						<code class="methodname">Initialization.redeploy</code> included code that created a new lock and then locked it immediately. This did not provide any level of protection, and could cause problems in debug mode. This has been fixed by removing the lock completely.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3855">JBPAPP-3855</a></span></dt><dd><div class="para">
						The SeamSpace <code class="classname">testCreateBlog</code> failed with a <code class="exceptionname">NullPointerException</code> on IBM JDK 1.6. The getIdentifier method now behaves correctly on JDK 1.6.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3769">JBPAPP-3769</a></span></dt><dd><div class="para">
						In profiles other than <code class="literal">production</code>, <code class="classname">MockResponseStateManager</code> did not override <code class="classname">ResponseStateManager#isPostback</code>. This meant that both Faces and non-Faces requests were evaluated as postbacks. A <code class="methodname">isPostback(FacesContext context)</code> method has been added into <code class="classname">org.jboss.seam.mock.MockResponseStateManager</code>, which overrides the old method and allows NonFacesRequest to recognize postback.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3713">JBPAPP-3713</a></span></dt><dd><div class="para">
						JAX-RS web services executed within an EJB transaction cannot use Seam HTTP authentication. HTTP requests to a web service protected by <code class="classname">AuthenticationFilter</code> split into two seperate <code class="classname">ContextualHttpRequests</code>. In the second one, it is not possible to look up EjbSynchronization beans, so <code class="methodname">Component.getInstance("org.jboss.seam.transaction.synchronizations", ScopeType.EVENT)</code> fails with <code class="exceptionname">NoSuchEjbException</code>.
					</div><div class="para">
						This issue has been fixed.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3525">JBPAPP-3525</a></span></dt><dd><div class="para">
						<code class="filename">s.tld</code> in <code class="filename">jboss-seam.ui.jar/MANIFEST.MF</code> contained attribute entries that were defined incorrectly according to the XML Schema for the JSP Taglibrary descriptor. This has been fixed with the upgrade to Richfaces 3.3.1.SP1.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2384">JBPAPP-2384</a></span></dt><dd><div class="para">
						The Seam Chatroom example threw an <code class="exceptionname">EJBTransactionRolledbackException</code> when a user attempted to log in. This exception did not influence the application's functionality, and has been fixed with an update to JBoss Cache.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538675886496">
      ⁠</a>9.5. Security Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4144">JBPAPP-4144</a></span></dt><dd><div class="para">
						The /status servlet was accessible from <code class="filename">http://localhost:8080/status?full=true</code> without authentication. (<a href="https://www.redhat.com/security/data/cve/CVE-2008-3273.html">CVE-2008-3273</a>)
					</div><div class="para">
						This issue has been fixed and the servlet now requires authentication.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538675881120">
      ⁠</a>9.6. Application Server Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4244">JBPAPP-4244</a></span></dt><dd><div class="para">
						The parsing and deploying mechanism for <code class="filename">hibernate.cfg.xml</code> was unstable. This resulted in an inability to use regular Hibernate property names, because properties had to be mapped to the <code class="classname">org.jboss.hibernate.jmx.Hibernate class</code>. The original set of parsed key/value pairs is now inserted into the <code class="literal">o.j.h.hmx.Hibernate</code> objects via a new <code class="methodname">setProperties(Set&lt;BaseNamedElement&gt;)</code> method. The <code class="methodname">start()</code> method then builds the configuration from that set of properties.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538651649600">
      ⁠</a>9.7. Documentation Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-5036">JBPAPP-5036</a></span></dt><dd><div class="para">
						Several typographical errors in the Seam Reference Guide have been corrected.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4849">JBPAPP-4849</a></span></dt><dd><div class="para">
						The section on <span class="emphasis"><em>Running as a Service on Windows</em></span> in the <em class="citetitle">Installation Guide</em> listed incorrect long and short service names, and an incorrect location for the <code class="filename">service.bat</code> script. This has been corrected.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4391">JBPAPP-4391</a></span></dt><dd><div class="para">
						The RuleBasedPermissionResolver requirements for Drools 5 were out of date. This resulted in incorrect information being presented in the documentation. The out of date information has been replaced with up-to-date, accurate content.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4390">JBPAPP-4390</a></span></dt><dd><div class="para">
						The Seam Reference Guide contained some duplicate information, which has been removed.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4389">JBPAPP-4389</a></span></dt><dd><div class="para">
						The 'Charting' section in the Seam Reference Guide was missing information on &lt;p:chart&gt; tags. This has been corrected with a description; 'displays a chart already created in Java by a Seam component.'
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4387">JBPAPP-4387</a></span></dt><dd><div class="para">
						Seam reference documentation source code blocks did not have syntax highlighting, which made the source code difficult to read. This code has all been updated with the correct highlighting.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4386">JBPAPP-4386</a></span></dt><dd><div class="para">
						The Seam Reference Guide was missing callout numbers in example code blocks. This made it difficult to connect the code and the accompanying explanatory notes. This has been fixed by introducing callouts.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3818">JBPAPP-3818</a></span></dt><dd><div class="para">
						"Using Seam with JBoss Tools" in the <em class="citetitle">Seam Reference Guide</em> has not been revised for use with JBoss Enterprise Application Platform and should be considered obsolete.
					</div><div class="para">
						The documentation how now been fixed and updated.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538668428592">
      ⁠</a>9.8. Messaging Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4135">JBPAPP-4135</a></span></dt><dd><div class="para">
						<code class="methodname">ServerConsumerEndpoint.localClose()</code> threw a <code class="exceptionname">NullPointerException</code> during shutdown. This has been corrected with an updated version of JBoss Messaging.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3157">JBPAPP-3157</a></span></dt><dd><div class="para">
						When unicode multibyte characters are used in a message Selector, JBoss Messaging throws a <span class="errorname">TokenMgrError</span>.
					</div><div class="para">
						This issue has been fixed, and multibyte characters are now allowed.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3003">JBPAPP-3003</a></span></dt><dd><div class="para">
						When JBoss Transactions is upgraded from version 4.4.0 to version 4.6.1, the JBoss Messaging <code class="literal">XAResourceRecoveryTest</code> fails. The test is meant to simulate a failure during the commit process to prompt the Recovery Manager to recover the transaction, but with JBoss Transactions 4.6.1, the transaction is not recovered.
					</div><div class="para">
						This issue has been fixed and a new test has been created to work with the change in transactions behaviour.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538673067664">
      ⁠</a>9.9. Web Services Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4501">JBPAPP-4501</a></span></dt><dd><div class="para">
						Testing has revealed issues with the way Enterprise Application Platform 5.1.0 handles the transfer of many large files without MTOM enabled. Customers should note that MTOM should be enabled to transfer large files, and this kind of service consumes a high amount of memory. However, if you choose not to use MTOM, you can implement the following to stop your Application Server crashing:
					</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
								Configure the limited listener for this service
							</div></li><li class="listitem"><div class="para">
								Allocate more memory and configure the right garbage collection (GC) policy for a Java Virtual Machine
							</div></li></ul></div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4243">JBPAPP-4243</a></span></dt><dd><div class="para">
						The web services context example did not work, and threw a <code class="exceptionname">ClassCastException</code>. The example has been patched and now works as expected. 
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3785">JBPAPP-3785</a></span></dt><dd><div class="para">
						When a method with an additional namespace for a header parameter was invoked after a method that did not have this additional namespace, the wrong namespace was used in the SOAP operation when the method was serialized. The issue has been fixed by correcting the way transitions are made between Java Objects and XML, so that the final SOAP Message is generated with correct namespaces.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3019">JBPAPP-3019</a></span></dt><dd><div class="para">
						The doc/examples/jboss-web-services-examples context caused a number of exceptions to occur. This context error meant that the JBoss Web Services examples would not work correctly. The example code was modified as per <a href="http://jira.jboss.org/browse/JBPAPP-2995"> JBPAPP-2995</a>, and the examples now run correctly.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2162">JBPAPP-2162</a></span></dt><dd><div class="para">
						Sun JAXB silently accepts messages with non-fatal errors where they should be rejected. The fix for <a href="https://jira.jboss.org/jira/browse/JBPAPP-2114">JBPAPP-2114</a> corrects this, so that badly-formed messages are rejected.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538677002128">
      ⁠</a>9.10. RESTEasy Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4061">JBPAPP-4061</a></span></dt><dd><div class="para">
						An <code class="exceptionname">IndexOutOfBoundsException</code> occurred in the <code class="classname">POJOResourceFactory</code> because the interface was annotated instead of the implementation. Support has been added for annotated interfaces.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538676997296">
      ⁠</a>9.11. Clustering Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4887">JBPAPP-4887</a></span></dt><dd><div class="para">
						When an application that uses JPA or Hibernate is configured to use a clustered Hibernate second-level cache, it introduces an explicit dependency on the application server's CacheManager Service. This dependency is not recorded in the application server's service dependency system, so when the Platform is stopped, the CacheManager may shut down before the application. This causes a WARN message in the log when the application shuts down. This issue leads only to warnings in the error log and has been fixed with a HA Server Cache upgrade.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538665390864">
      ⁠</a>9.12. Cache Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4254">JBPAPP-4254</a></span></dt><dd><div class="para">
						ha-server-cache-jbc has been upgraded to 2.0.3.Final.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538665387024">
      ⁠</a>9.13. Connector Fixed Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4307">JBPAPP-4307</a></span></dt><dd><div class="para">
						When using <code class="varname">SystemMemoryUsageLoadMetric</code>, mod_cluster prioritizes dispatching requests to a machine that is using system memory higher than other machines. The metric returned its 'load' as 'free memory' instead of the expected 'used memory'. This has been corrected and the error no longer occurs.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/MODCLUSTER-113">MODCLUSTER-113</a></span></dt><dd><div class="para">
						<code class="classname">org.jboss.modcluster.demo.servlet.ThreadCountLoadServlet</code> has been removed from mod_cluster but is still specified in the <code class="filename">web.xml</code> file belonging to <code class="filename">load-demo.war</code>. This results in deployment errors. This issue has been fixed and the non-existent servlet has been removed.
					</div></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Known_Issues_with_this_release">
      ⁠</a>10.  Known Issues with this release </h1></div></div></div><div class="para">
		Following is a list of known issues at the time of release.
	</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538679371552">
      ⁠</a>10.1. Unsupported JARs</h2></div></div></div><div class="para">
			The following libraries are included, but not supported, in this version of JBoss Enterprise Application Platform.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<code class="filename">client/hornetq-core-client.jar</code>
				</div></li><li class="listitem"><div class="para">
					<code class="filename">client/hornetq-jms-client.jar</code>
				</div></li></ul></div><div class="para">
			The <code class="literal">hornetq</code> RPM is likewise unsupported in this release.
		</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538658202944">
      ⁠</a>10.2. General Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-5110">JBPAPP-5110</a></span></dt><dd><div class="para">
						The graphical installer allows the user to specify a custom JAAS security domain for securing consoles and invokers, but always secures the Tomcat console with the JAAS security domain "jmx-console", even if it does not exist. To use a custom JAAS security domain, specify the name in the "JMX Security" screen during installation. When the installer completes, edit the <code class="filename">jboss-as/server/$PROFILE/deploy/ROOT.war/WEB-INF/jboss-web.xml</code> file. In the <code class="literal">&lt;security-domain&gt;</code> element, replace the name "jmx-console" with the name of the security domain you used during installation. This secures the Tomcat console with the same custom JAAS security domain that secures the Admin console and any other consoles and invokers you elected during installation.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-5014">JBPAPP-5014</a></span></dt><dd><div class="para">
						The web profile incorrectly includes a recovery setting for JBoss Messaging, which is not part of the web profile. This results in <code class="exceptionname">ClassNotFoundException</code>s in <code class="filename">server.log</code>.
					</div><div class="para">
						To work around this issue, remove the following lines from <code class="filename">jbossts-properties.xml</code>:
					</div><pre class="screen">&lt;property name="com.arjuna.ats.jta.recovery.XAResourceRecovery.JBMESSAGING1"
            value="org.jboss.jms.server.recovery.MessagingXAResourceRecovery;java:/DefaultJMSProvider"/&gt;</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-4542">JBPAPP-4542</a></span></dt><dd><div class="para">
						The locations of <code class="filename">jbosssx.jar</code>, <code class="filename">jboss-javaee.jar</code>, <code class="filename">jboss-security-spi.jar</code>, and <code class="filename">jbosssx-server.jar</code> have changed in this release due to a security fix. In this release they have been relocated to <code class="filename">jboss-as/lib/</code>. Any scripts that rely on the location of <code class="filename">jbosssx.jar</code> should be updated to reflect this change.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4665">JBPAPP-4665</a></span></dt><dd><div class="para">
						Resteasy-guice applications fail to deploy because of a java.lang.SecurityException. An error message similar to the following is displayed: java.lang.SecurityException: class "org.jboss.resteasy.examples.guice.hello.DefaultGreeter$$FastClassByGuice$$70fd68d0"'s signer information does not match signer information of other classes in the same package"
					</div><div class="para">
						This occurs because the cglib.jar in JBoss Enterprise Application Platform is signed, and the cglib- instrumented proxy uses the cglib.jar signer information instead of the signer information of the application target class. The patch for this issue has been released alongside JBoss Enterprise Application Platform 5.1.0 and can be downloaded from <a href="https://access.redhat.com/jbossnetwork/restricted/softwareDetail.html?softwareId=1012&amp;product=appplatform&amp;version=5.0.0&amp;downloadType=patches"> Red Hat Support</a>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4456">JBPAPP-4456</a></span></dt><dd><div class="para">
						Other agent-enabled tools may run into a class that contains a field, method, constructor, or other that was not loaded by Javassist. In this case, when the Advisor tries to manipulate that method, a <code class="exceptionname">javassist.NotFoundException</code> is thrown. This exception should be ignored and the field considered non-existent.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4130">JBPAPP-4130</a></span></dt><dd><div class="para">
						An <code class="classname">org.jboss.ejb3.stateless.StatelessDelegateWrapper</code> cannot be assigned to an <code class="classname">org.jboss.system.ServiceMBean</code> when creating a monitor with <code class="classname">org.jboss.console.plugins.monitor.CreateThresholdMonitorServlet</code>. The monitor is created as an attribute rather than a &lt;depends&gt;, so it fails to deploy upon restart. The workaround for this issue is to manually alter the created <code class="filename">*-service.xml</code> to allow the monitor to deploy correctly on restarting.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4041">JBPAPP-4041</a></span></dt><dd><div class="para">
						The <code class="methodname">ServiceMetaDataParser.parseValueFactoryParameter()</code> only considers the first child of the <code class="varname">&lt;parameter&gt;</code> element. Therefore if the <code class="literal">&lt;null/&gt;</code> child element is surrounded by carriage returns ('enter' or white space) the node is treated as a text value and the parameter is not correctly substituted later on. The following will cause an error:
					</div><pre class="screen">&lt;parameter&gt;
      &lt;null/&gt;
      &lt;/parameter&gt;</pre><div class="para">
						The workaround is to ensure there is no whitespace in <code class="varname">&lt;parameter&gt;</code> elements, like so:
					</div><pre class="screen">
      &lt;parameter&gt;&lt;null/&gt;&lt;/parameter&gt;
</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3929">JBPAPP-3929</a></span></dt><dd><div class="para">
						When <code class="methodname">java.sql.Date.valueOf</code> attemps to parse dates of the format yyyy-mm-dd, the TCK test threw a <code class="exceptionname">java.lang.IllegalArgumentException</code>. This was due to a regression in the latest Sun JVM, Sun JDK 1.6.0_18-b07 (see <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6898593">http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6898593</a> for more information). The workaround for this issue is to downgrade to Sun JDK 1.6.0_17-b04.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3766">JBPAPP-3766</a></span></dt><dd><div class="para">
						Each time a <code class="classname">org.jboss.mail.MailService</code> is configured and bound to JNDI, the <code class="classname">SessionObjectFactories</code> properties are overwritten. This means that when multiple <code class="classname">MailService</code> configurations exist, all <code class="classname">MailService</code>s bound to JNDI will have the properties of the most recently configured <code class="classname">MailService</code> in their Session.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3308">JBPAPP-3308</a></span></dt><dd><div class="para">
						In isolated deployments, a <code class="exceptionname">ClassNotFoundException</code> is thrown when the application server tries to deserialize an <code class="classname">info</code> object associated with the <code class="classname">Timer</code>. This occurs because the wrong classloader (<code class="classname">threadContextClassLoader</code>) is used to deserialize the object.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3280">JBPAPP-3280</a></span></dt><dd><div class="para">
						When accessing the admin console <code class="literal">WARN</code> messages are generated in the logs, stating "<code class="literal">Cannot get the process table information without native support</code>". These messages can be safely ignored. In a future release of the admin console these messages will be changed to <code class="literal">INFO</code> .
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3133">JBPAPP-3133</a></span></dt><dd><div class="para">
						A bug in JVM implementations means that the JVM may crash when an incomplete deployment is overwritten by a new version of the deployment during hot deployment. For example, a deployment may contain a formatting error in a deployment descriptor. When deployed, the error is encountered and the deployment fails. If a corrected deployment is copied over the top of the erroneous deployment to replace it, the JVM may crash during hot deployment of the new version. The workaround for this issue is to remove the old, incompletely deployed archive before copying the new corrected deployment into the <code class="filename">deploy</code> directory.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3036">JBPAPP-3036</a></span></dt><dd><div class="para">
						The <code class="filename">jboss_init_hpux</code> script does not pick up environment variables when executed in the GNU bash shell. This is related to JBPAPP-2036: <a href="https://jira.jboss.org/jira/browse/JBPAPP-2306">https://jira.jboss.org/jira/browse/JBPAPP-2306</a>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3035">JBPAPP-3035</a></span></dt><dd><div class="para">
						The <code class="code">-e</code> and <code class="code">-H</code> arguments of the <code class="filename">shutdown.sh</code> script cannot be used to directly terminate the JVM.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2998">JBPAPP-2998</a></span></dt><dd><div class="para">
						When the server is started via a desktop icon, the machine's default Java set is used. This can cause exceptions when a Java version other than JDK 1.6 is set as the default. Users should ensure that JDK 1.6 is set as the default Java version before attempting to start JBoss Enterprise Application Platform via the desktop icon.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2894">JBPAPP-2894</a></span></dt><dd><div class="para">
						Setting the <code class="literal">hibernate.bytecode.provider</code> system property in <code class="filename">jpa-deployers-jboss-beans.xml</code> is unreliable. The workaround for this issue is to add <code class="code">-Dhibernate.bytecode.provider=cglib</code> to <code class="literal">$JAVA_OPTS</code> in <code class="filename">jboss-as/bin/run.conf</code>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2871">JBPAPP-2871</a></span></dt><dd><div class="para">
						High CPU utilization and reduced performance and transaction throughput has been observed when MySQL 5.0.41 when optimized settings are in use, as described in <a href="https://jira.jboss.org/jira/browse/JBQA-2610">JBQA-2610</a>. We recommend upgrading to MySQL 5.0.86 and applying optimized settings as described in <a href="https://jira.jboss.org/jira/browse/JBQA-2610">JBQA-2610</a> to reduce CPU utilization and increase performance.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2598">JBPAPP-2598</a></span></dt><dd><div class="para">
						Once the workaround for the <a href="https://jira.jboss.org/jira/browse/JBAS-7049">JBAS-7049</a> issue is applied a new issue presents itself. A server running the security manager using OpenJDK 6 still fails to start, now with an access denied error. There is no currently known workaround for this issue.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2590">JBPAPP-2590</a></span></dt><dd><div class="para">
						An issue exists in the <code class="filename">policy.provider</code> defined in <code class="filename">${JAVA_HOME}/jre/lib/security/java.security</code> when IBM JDK 6 is used. By default <code class="filename">org.apache.harmony.security.fortress.DefaultPolicy</code> is used and this should be <code class="filename">policy.provider=sun.security.provider.PolicyFile</code>. The workaround for this issue is to manually make this adjustment.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2576">JBPAPP-2576</a></span></dt><dd><div class="para">
						The MySQL JDBC driver does not currently implement XA Recovery correctly.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2027">JBPAPP-2027</a></span></dt><dd><div class="para">
						The server manager does not function correctly when OpenJDK 6 is used because a <code class="exceptionname">NullPointerException</code> check is missing in OpenJDK 6. The workaround is to comment out the <span class="property">java.security.debug</span> statement in the <code class="filename">imports/server-config.xml</code> file.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2027">JBPAPP-2027</a></span></dt><dd><div class="para">
						The IBM distribution of JDK 6 does not support the <code class="classname">SSLv2Hello</code> protocol and generates a <span class="errorname">ERROR [AbstractKernelController]</span> when used. It is currently recommended not to use this protocol.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538674067360">
      ⁠</a>10.3. Installer Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-5116">JBPAPP-5116</a></span></dt><dd><div class="para">
						When a custom JAAS security domain is created during the graphical installation process, the custom JAAS security domain continues to use <code class="filename">jmx-console-users.properties</code> and <code class="filename">jmx-console-roles.properties</code> instead of creating its own named users and roles properties files.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4262">JBPAPP-4262</a></span></dt><dd><div class="para">
						After all files have been extracted during installation on Solaris 10 (both 32-bit and 64-bit architectures), the console displays an unnecessary request for a password. Installation will not proceed until the user presses <span class="guibutton"><strong>Enter</strong></span>.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538674059760">
      ⁠</a>10.4. Hibernate Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4926">JBPAPP-4926</a></span></dt><dd><div class="para">
						Cascading tables containing auto-incremented primary keys were not saving correctly because tables were not being processed in the correct order in the save queue.
					</div><div class="para">
						One table (A) has an assigned primary key. A second table (B) is linked to Table A, has cascading enabled, and uses an auto-incremented primary key. When attempting to save Table B, Hibernate detects that Table A should be saved first and adds it to a save queue. Hibernate then attempts to save Table B immediately. This save operation fails, because to succeed Table B must obtain a primary key reference from Table A, which is null while it remains in the save queue.
					</div><div class="para">
						To work around this issue, disable table cascade and ensure that the table with the assigned primary key is saved before attempting to save a table with an auto-incremented primary key.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4895">JBPAPP-4895</a></span></dt><dd><div class="para">
						When a <code class="methodname">refresh()</code> method is invoked immediately prior to an <code class="methodname">insert()</code>, and second-level caching is enabled, the entity is inserted into the second-level cache. If the <code class="methodname">refresh()</code> does not commit successfully, however, the cached data will not be automatically evicted. This occurs because <code class="methodname">refresh()</code> does not track entity state. Since the <code class="methodname">refresh()</code> operation is usually used for generated properties, one workaround for this issue is to use the <code class="varname">@Generated</code> annotation. Another workaround is to manually evict the cache entry.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4738">JBPAPP-4738</a> </span></dt><dd><div class="para">
						The updated JDBC 3.0 driver for MS SQL Server 2008 now supports the following data types:
					</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
								time
							</div></li><li class="listitem"><div class="para">
								date
							</div></li><li class="listitem"><div class="para">
								datetime2
							</div></li><li class="listitem"><div class="para">
								datetimeoffset
							</div></li></ul></div><div class="para">
						For more information about these SQL Server types, see <a href="http://go.microsoft.com/fwlink/?LinkId=183664">Date and Time Data Types and Functions (Transact-SQL)</a>.
					</div><div class="para">
						This type change causes the <code class="methodname">org.hibernate.test.hql.ASTParserLoadingTest</code> test and the <code class="methodname">org.hibernate.test.stateless.StatelessSessionTest</code> test to fail. The workaround for this issue is to define a new dialect, like so:  
					</div><pre class="programlisting">public class SQLServer2008Dialect extends SQLServerDialect 
{
   public SQLServer2008Dialect()
   {
      registerColumnType( Types.DATE, "date" );
      registerColumnType( Types.TIME, "time" );
      registerColumnType( Types.TIMESTAMP, "datetime2" );
      registerFunction( "current_timestamp", 
                        new NoArgSQLFunction("current_timestamp", 
                                             Hibernate.TIMESTAMP,false) );
   }
}</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4731">JBPAPP-4731</a></span></dt><dd><div class="para">
						When an insert operation was performed using <code class="filename">jconn3.jar</code>, null bit values were converted to <code class="literal">0</code>, so no exception was thrown. Sybase does not allow a null value for the bit datatype, so null bit values should result in exceptions. 
					</div><div class="para">
						To work around this issue within Hibernate and persist the value as a null as intended, map type to <code class="code">org.hibernate.test.where.NumericTrueFalseType</code> instead of <code class="code">boolean</code>, like so:
					</div><pre class="programlisting">type="org.hibernate.test.where.NumericTrueFalseType"</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4334">JBPAPP-4334</a> </span></dt><dd><div class="para">
						A bug in jConnect means that the <code class="methodname">FetchingScrollableResultsImpl.isResultSetEmpty()</code> method returns the following to determine if a ResultSet is empty:
					</div><pre class="screen">currentPosition == 0 &amp;&amp; ! getResultSet().isBeforeFirst() &amp;&amp; ! getResultSet().isAfterLast();</pre><div class="para">
						When the ResultSet is empty, <code class="methodname">FetchingScrollableResultsImpl.isResultSetEmpty()</code> should return false but Sybase JDBC returns true. There is currently no workaround for this issue.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-4175">JBPAPP-4175</a></span></dt><dd><div class="para">
						When Hibernate executes a cacheable query using a <code class="classname">ResultTransformer</code>, it will attempt to cache the results after applying the <code class="classname">ResultTransformer</code>. However, the data may be modified so that Hibernate cannot read it. In this case, a <code class="exceptionname">ClassCastException</code> will occur when attempting to cache the results.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3913">JBPAPP-3913</a></span></dt><dd><div class="para">
						From Oracle 11g R2 (RAC), the behavior of the CREATE TABLE statement changed such that when creating a conventional table in a database created with the default options, the initial segment is not created until the first row is inserted into the table (see <a href="http://download.oracle.com/docs/cd/E11882_01/server.112/e10595/tables002.htm#ADMIN13319">http://download.oracle.com/docs/cd/E11882_01/server.112/e10595/tables002.htm#ADMIN13319</a> for details).
					</div><div class="para">
						As a result of this change, if the ID generator class is <code class="classname">sequence-identity</code>, sequences created as default start with 2 or 4 instead of 1. To work around this issue:
					</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
								Use a different ID generator class, or
							</div></li><li class="listitem"><div class="para">
								Disable deferred segment creation on Oracle by setting the initialization parameter <code class="varname">DEFERRED_SEGMENT_CREATION</code> to <code class="literal">FALSE</code>. The CREATE TABLE statement has two new clauses (SEGMENT CREATION DEFERRED and SEGMENT CREATION IMMEDIATE), which override the value of the <code class="varname">DEFERRED_SEGMENT_CREATION</code> parameter.
							</div></li></ul></div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3911">JBPAPP-3911</a></span></dt><dd><div class="para">
						In Oracle 11g R2 (both RAC and standalone), a complex query with <code class="literal">LockMode.UPGRADE</code> (that is, "for update") may cause a "No more data to read from socket" error. This is not a Hibernate bug, and is related to database configuration. See <a href="http://oracledoug.com/serendipity/index.php?/archives/1555-Bug-Hunting.html">Bug Hunting</a> for more information. The workaround for this issue is to avoid using <code class="literal">LockMode.UPGRADE</code> on such queries.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3483">JBPAPP-3483</a></span></dt><dd><div class="para">
						Hibernate does not currently log the execution time for each query. This is expected in future versions of JBoss Enterprise Application Platform.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3284">JBPAPP-3284</a></span></dt><dd><div class="para">
						This is an issue with cglib, which is deprecated in this release of JBoss Enterprise Application Platform. See <code class="code">http://sourceforge.net/tracker/index.php?func=detail&amp;aid=2796998&amp;group_id=56933&amp;atid=482368</code> for more details. cglib removes field annotations when transforming a class with <code class="classname">TransformingClassGenerator</code> because of a problem with the <code class="methodname">visitField</code> method. It is possible to work around this issue by annotating getters instead of fields, but this may not be possible for heavy applications ported to JBoss Enterprise Application Platform 5.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3223">JBPAPP-3223</a></span></dt><dd><div class="para">
						Hibernate does not currently support tuple syntax in HQL or Criteria on databases which do not support tuple syntax. For example, if a database does not support tuple syntax:
					</div><pre class="screen">where (a,b) in ( (1,2), (3,4) )</pre><div class="para">
						Hibernate should translate to:
					</div><pre class="screen">where ( (a=1 AND b=2) OR ( (a=3 AND b=4) )</pre><div class="para">
						There is currently no workaround for this issue except to avoid using this syntax query on databases that do not support tuple syntax.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3075">JBPAPP-3075</a></span></dt><dd><div class="para">
						If a database reserved keyword is used as a property name with a Hibernate Validator annotation (for example, <code class="literal">@Min</code> or <code class="literal">@Max</code>), it will cause exceptions in <code class="classname">SchemaExport</code>, even if you specify a column name. This is because Hibernate ignores the name specified. The workaround is to map the property name to something that is not a database reserved keyword with the <code class="literal">@Column</code> annotation. The fix for this issue is expected in Hibernate 4.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3069">JBPAPP-3069</a></span></dt><dd><div class="para">
						The <code class="classname">QueryByExampleTest.testJunctionNotExpressionQBE</code> test fails in Sybase because ansinull is set to off by default. This test builds a disjunction predicate such as <code class="code">( OR^ (ex) (NOT ex) )</code>. This should match everything in the database, but because ANSI SQL evaluates all comparisons involving NULL values as UNKNOWN, not all matches are returned. To work around this problem, append the following string to the JDBC URL:
					</div><pre class="screen">?SQLINITSTRING=set ansinull on</pre><div class="para">
						If this is not possible, an alternative is to execute the following Java code (or similar) after obtaining a Hibernate session <code class="literal">s</code>:
					</div><pre class="screen">s.connection().createStatement().execute("set ansinull on");</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3034">JBPAPP-3034</a></span></dt><dd><div class="para">
						When batch insert statements are ordered, embedded classes are not taken into account. There are two possible workarounds for this issue. The first is to set <code class="varname">ORDER_INSERTS</code> to <code class="literal">FALSE</code> when embedded classes are used. The second option is to explicitly call <code class="literal">session.save()</code> on child objects to enforce their SQL insertion orders.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3032">JBPAPP-3032</a></span></dt><dd><div class="para">
						MySQL does not currently support millisecond and microsecond measurements when returning database values such as <code class="literal">TIME</code> and <code class="literal">TIMESTAMP</code>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3031">JBPAPP-3031</a></span></dt><dd><div class="para">
						On Sybase, the <code class="literal">current_timestamp</code> text is not being recognized by the translator as a <span class="emphasis"><em>method mode</em></span>. There is currently no way to work around this issue except to avoid relying upon function replacement for <code class="literal">current_timestamp</code>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3030">JBPAPP-3030</a></span></dt><dd><div class="para">
						On Sybase, <code class="literal">SchemaExport</code> cannot be used to create stored procedures while in while in chained transaction mode. The workaround for this case is to add the following code immediately after the definition of the new stored prodecure:
					</div><pre class="programlisting">&lt;database-object&gt;
      &lt;create&gt;
      sp_procxmode paramHandling, 'chained'
      &lt;/create&gt;
      &lt;drop/&gt;
      &lt;/database-object&gt;</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3010">JBPAPP-3010</a></span></dt><dd><div class="para">
						The <code class="code">evict(Object)</code> method in <code class="classname">EntityRegionAccessStrategy</code> and <code class="classname">CollectionRegionAccessStrategy</code> attempts to remove objects from the cache without regard for transaction isolation. This is currently unsupported because JBoss Cache's <code class="code">removeNode</code> method does not deal with transactions.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2945">JBPAPP-2945</a></span></dt><dd><div class="para">
						Setting the query timeout for a PreparedStatement is not supported by PostgreSQL 8.3.7. This limitation means that queries will fail if they use an annotation like the following:
					</div><pre class="programlisting">
        @QueryHint(name = "org.hibernate.timeout", value = "100")
</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2971">JBPAPP-2971</a></span></dt><dd><div class="para">
						Applications that map Hibernate to use <code class="classname">cglib</code> as a byte provider fail to deploy because of a <code class="exceptionname">java.lang.SecurityException</code>. An error message similar to the following is displayed:
					</div><pre class="screen">Deployment "persistence.unit:unitName=lobtest.ear/
      lobtest-ejb-1.0-SNAPSHOT.jar#lobtest-jpa-jndi" is in error due to the following reason(s):
      java.lang.SecurityException: class
      "com.redhat.gss.lobtest.jpa.Item$$EnhancerByCGLIB$$defd1a7f"'s signer information does not
      match signer information of other classes in the same package</pre><div class="para">
						This occurs because the <code class="filename">cglib.jar</code> in JBoss Enterprise Application Platform is signed, and the cglib-instrumented proxy uses the <code class="filename">cglib.jar</code> signer information instead of the signer information of the application target class.
					</div><div class="para">
						<span class="application"><strong>cglib</strong></span> is deprecated in the 5.1 release of JBoss Enterprise Application Platform.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2867">JBPAPP-2867</a></span></dt><dd><div class="para">
						Sybase does not currently support Hibernate <code class="literal">Blob</code>s or <code class="literal">Clob</code>s, and Hibernate does not support Sybase <code class="literal">text</code> or <code class="literal">image</code> data types. The workaround for this issue is to create user-defined types that map to the Sybase <code class="literal">text</code> and <code class="literal">image</code> types.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2792">JBPAPP-2792</a></span></dt><dd><div class="para">
						Sybase fails to insert a new entity if it overflows its column. However, it does not throw an exception, so Hibernate cannot tell that the insert failed. One workaround for this issue is to use the <code class="filename">jconn3.jar</code> with <code class="code">DYNAMIC_PREPARE=true</code> set in the Hibernate configuration file.
					</div><pre class="screen XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"connection.url"</span><span xmlns="" class="perl_Keyword">&gt;</span>jdbc:sybase:Tds:aurum:1503/masterDb?
<span xmlns="" class="line">​</span>  DYNAMIC_PREPARE=true<span xmlns="" class="perl_Keyword">&lt;/property&gt;</span></pre><div class="para">
						Another workaround is to use the <code class="filename">jconn4.jar</code>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2789">JBPAPP-2789</a></span></dt><dd><div class="para">
						<code class="literal">SchemaExport</code> fails on Oracle and Sybase when a redundant <code class="code">@Column(unique=true)</code> or <code class="code">UniqueContraint(columnnames={...})</code> annotation is used on a column that is implicitly defined as unique by the declared model. The workaround is to remove the redundant <code class="code">@Column(unique=true)</code> or <code class="code">UniqueContraint(columnnames={...})</code> annotation.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2613">JBPAPP-2613</a></span></dt><dd><div class="para">
						When the DB2 version 9.7 driver is used with progressive streaming (the default), operations on <code class="literal">Blob</code> and <code class="literal">Clob</code> locators fail. There are two possible workarounds to this issue:
					</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
								Create a property file named <code class="filename">DB2JccConfiguration.properties</code>, either on your class path or in a JAR on your class path. Add the following line to this file to disable progressive streaming on DB2:
							</div><pre class="programlisting">db2.jcc.override.progressiveStreaming=2</pre></li><li class="listitem"><div class="para">
								Use the DB2 version 9.1 driver instead of DB2 version 9.7.
							</div></li></ul></div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2408">JBPAPP-2408</a></span></dt><dd><div class="para">
						An issue exists with the DB2 v9.7 driver when using an identity or native ID generator with Hibernate. The <code class="methodname">Statement.getGeneratedKeys()</code> driver method in DB2 returns an empty <span class="emphasis"><em>resultset</em></span> instead of the generated keys, which causes Hibernate to throw an exception that states that the database returned no natively generated identity value. This issue has been fixed in the version of DB2 9.7 JDBC driver released with Data Studio 2.2 and is available for download from the DB2 website. This is the recommended version for use with Hibernate.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2278">JBPAPP-2278</a></span></dt><dd><div class="para">
						The <code class="literal">Save</code> operation may fail when a transient entity is reachable by multiple paths and at least one of those paths does not cascade for the <code class="literal">Save</code> opperation. The current workaround for this is to save the transient entity before executing the save that had previously failed. If this is not possible, another workaround is to modify either or both cascade and entity mappings to change the order of the cascade paths so that the transient entity is saved before it cascades to the entity that requires it to be non-transient.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-1895">JBPAPP-1895</a></span></dt><dd><div class="para">
						The Hibernate tests <code class="filename">JoinTest.java</code> and <code class="filename">QueryAndSQLTest.java</code> fail when testing queries with untyped parameters for DB2, which does not support untyped parameters. You can work around this issue by modifying the queries so that the parameters are cast to an appropriate data type, as described on the JIRA.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-1613">JBPAPP-1613</a></span></dt><dd><div class="para">
						Null values for columns mapped as <code class="literal">Boolean</code> in Sybase are persisted as <code class="literal">0</code> instead of <code class="literal">null</code>. The workaround for this issue is to map <code class="code">type="org.hibernate.test.where.NumericTrueFalseType"</code> instead of <code class="code">type="boolean"</code>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-1554">JBPAPP-1554</a></span></dt><dd><div class="para">
						Sybase only allows only one entry (for example, column name or '*') in a subquery select list. The HQL function, <code class="literal">elements()</code>, fails when the collection elements have a composite ID, because the generated SQL contains a subquery select list with multiple entries. The workaround is to avoid using HQL <code class="literal">elements()</code> if the elements have a composite key. Instead, reformulate the HQL so that no subquery has multiple entries in its select list.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-1545">JBPAPP-1545</a></span></dt><dd><div class="para">
						On Sybase, when a query has an ANSI join with three or more joins, and one join involves a union subclass, the query may fail with <code class="exceptionname">SybSQLException</code> because a column is not within the scope of the joined table expression. The current recommendation is to avoid using join fetches that involve union subclasses.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-1230">JBPAPP-1230</a></span></dt><dd><div class="para">
						When a <code class="literal">DetachedCriteria</code> is used as a subquery, the generated SQL contains a column alias in the subquery. On Sybase, a <code class="exceptionname">SybSQLException</code> is thrown because Sybase does not allow column aliases in subqueries. The workaround for this issue is to use an HQL query instead of a <code class="literal">DetachedCriteria</code> in a subquery.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-1123">JBPAPP-1123</a></span></dt><dd><div class="para">
						When <code class="literal">@OrderBy</code> is used on joined classes (using a join table), the generated SQL is invalid on MySQL, PostgreSQL, Oracle, and MSSQL because the "order by" clause qualifies the columns using the actual table name. The "order by" clause should use the table alias instead.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-1082">JBPAPP-1082</a></span></dt><dd><div class="para">
						When a <code class="varname">char</code> property is used and it is not initialized, then Hibernate initializes it to <code class="literal">0</code> and persists a string containing the character <code class="literal">\u0000</code>. PostgreSQL throws an exception because it does not allow the character <code class="literal">\u0000</code> embedded in a string. There is currently no workaround for persisting <code class="literal">\u0000</code> in a <code class="varname">char</code> column using PostgreSQL.
					</div><div class="para">
						To persist a NULL for an uninitialized <code class="varname">char</code> property instead of <code class="literal">\u0000</code>, use <code class="varname">java.lang.Character</code> instead of the primitive <code class="varname">char</code> type. This avoids the exception when the property is initialized. Attempting to persist a <code class="varname">java.lang.Character</code> property that is set to <code class="literal">\u0000</code> still results in an exception.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-1071">JBPAPP-1071</a></span></dt><dd><div class="para">
						In some cases, when there are foreign key constraints defined on columns in a primary key, <code class="literal">SchemaExport</code> incorrectly declares them as nullable when it generates <code class="code">CREATE TABLE</code> statements. This fails on MSSQL, DB2, and Sybase because those databases require primary key columns to be non-nullable.
					</div><div class="para">
						The workaround for this issue is to explicitly indicate which columns should be non-nullable, such as:
					</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
								Add <code class="code">nullable=false</code> to <code class="literal">@JoinColumn</code>
							</div></li><li class="listitem"><div class="para">
								Add <code class="code">optional=false</code> to <code class="literal">@ManyToOne</code>
							</div></li><li class="listitem"><div class="para">
								Add an <code class="literal">@AttributeOverride</code> with <code class="code">@Column(name="mapkey", nullable=false)</code> in case of a <code class="literal">@CollectionOfElements</code> using a Map
							</div></li><li class="listitem"><div class="para">
								Add <code class="code">nullable=false</code> in <code class="literal">@Column</code> when inside a <code class="literal">@CollectionId</code> or inside <code class="literal">@MapKey</code>
							</div></li></ul></div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538676930992">
      ⁠</a>10.5. JBoss Messaging Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-5124">JBPAPP-5124</a></span></dt><dd><div class="para">
						When using Sybase database with the JDBC driver Sybase jConnect JDBC driver v7 (Build 26502), a <code class="varname">MaxParams</code> attribute in the <code class="filename">sybase-persistence-service.xml</code> configuration file cannot be set higher than <code class="literal">481</code> due to a limitation of the <code class="classname">PreparedStatement</code> class in this driver. Unexpected failures can occur when the <code class="varname">MaxParams</code> attribute is set to a value higher than <code class="literal">481</code>. To avoid this issue, set <code class="varname">MaxParams</code> to a smaller value than <code class="literal">481</code>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4668">JBPAPP-4668</a> (previously <a href="https://jira.jboss.org/browse/JBPAPP-3965">JBPAPP-3965</a>)</span></dt><dd><div class="para">
						Two JBoss Messaging Test Suite tests fail on Oracle 11g R1, R2 and RAC with the latest JDBC driver, version 11.2.0.1.0:
					</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
								QueueManagementTest.testDestroyDestinationProgrammatically
							</div></li><li class="listitem"><div class="para">
								QueueManagementTest.testDestroyDestinationProgrammaticallyWithParams
							</div></li></ul></div><div class="para">
						These tests use a large value for the fullSize queue configuration parameter, which is passed to the <code class="methodname">setFetchSize</code> method on the <code class="classname">java.sql.PreparedStatement</code>. A problem with the JDBC driver means that more than the usual amount of memory is consumed when <code class="classname">executeQuery()</code> is called, which results in a <code class="classname">java.lang.OutOfMemoryError</code>, causing the test to fail.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3904">JBPAPP-3904</a></span></dt><dd><div class="para">
						Oracle JDBC driver version 11.1.0.7.0 causes the JBoss Messaging Test Suite to fail with a <code class="exceptionname">SQLException</code> ("Bigger type length than Maximum") on Oracle 11g R1. This is caused by a regression in Oracle JDBC driver 11.1.0.7.0. We recommend Oracle JDBC driver version 11.2.0.1.0 for use with Oracle 11g R1, Oracle 11g R2, Oracle RAC 11g R1 and Oracle RAC 11g R2.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3352">JBPAPP-3352</a></span></dt><dd><div class="para">
						If a message-driven bean is deployed with the default settings ((useDLQ=true, DLQMaxResent=5) and message redelivery is prompted, messages remain in the queue in a "delivering" state even after the message is delivered to the dead letter queue. The workaround for this issue is to disable the use of the dead letter queue: useDLQ=false.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2033">JBPAPP-2033</a></span></dt><dd><div class="para">
						<code class="varname">EnableMessageCounters</code> on the <code class="classname">jboss.messaging.ServerPeer</code> JMX interface, cannot be set to <code class="literal">true</code>. A workaround to enable message counters is to invoke the <code class="classname">enableMessageCounters()</code> operation on the same JMX interface.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538677496080">
      ⁠</a>10.6. JBoss Web Services Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-5021">JBPAPP-5021</a></span></dt><dd><div class="para">
						The <code class="filename">jbossws-cxf-installer/docs/Install.txt</code> file in the JBoss WS CXF installer incorrectly calls JBoss WS CXF a Technology Preview. The text of <code class="filename">Install.txt</code> should be as follows:
					</div><pre class="screen">Simply run "ant" from the jbossws-cxf-installer directory
extracted from the jbossws-cxf-installer.zip into your JBOSS_HOME for
your JBoss Enterprise Platform.</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4561">JBPAPP-4561</a></span></dt><dd><div class="para">
						With JBoss Web Services Native, when MTOM is enabled and the DataHandler getter signature of a return-type class does not match the JavaBean getter signature, the response will be sent as an inline string instead of using XOP. This occurs because scanning for attachment annotations is based on the JavaBean getter signature.
					</div></dd><dt><span class="term"> <a href="https://jira.jboss.org/browse/JBPAPP-4506">JBPAPP-4506</a></span></dt><dd><div class="para">
						When services are deployed to JBoss Web Services Native, any XML Schema Declaration (XSD) imports with relative URLs are rewritten as absolute URLs relative to the WSDL service contract. If an imported XSD imports a second XSD using a relative path, this path is incorrectly rewritten to be relative to the XSD instead of the WSDL service contract. The workaround for this issue is to move all XSD and WSDL files into the same directory and change all the imports.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3028">JBPAPP-3028</a></span></dt><dd><div class="para">
						The upgrade from JBoss Web Services 2.0.1.SP to JBoss Web Services Native 3.1.2.SP incorporated many changes and new features. The additional processing time required for several new features (resource injection, support for <code class="literal">@PostConstruct</code> and <code class="literal">@PreDestroy</code>, etc.) has resulted in a slight degradation in overall performance.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538670208864">
      ⁠</a>10.7. Remoting Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3392">JBPAPP-3392</a></span></dt><dd><div class="para">
						EJB3 clients do not reuse existing socket connections on subsequent invocations; a new connection is created per invocation.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538670204944">
      ⁠</a>10.8. RESTEasy Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-5038">JBPAPP-5038</a></span></dt><dd><div class="para">
						The <code class="filename">jettison.jar</code> file is not included in the <code class="filename">jboss-eap-5.1/resteasy/lib</code> directory of <code class="filename">jboss-eap-noauth-5.1.0.zip</code>. To work around this issue, use the <code class="filename">jettison.jar</code> file included in the Seam distribution, <code class="filename">jboss-eap-5.1/seam/lib/jettison.jar</code>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2993">JBPAPP-2993</a></span></dt><dd><div class="para">
						The <code class="literal">spring-hibernate-contacts</code> example fails with the error <code class="literal"> java.lang.IllegalArgumentException: object is not an instance of declaring class</code>. This occurs because the <code class="methodname">getContactById(@PathParam("id") Long id)</code> method in the <code class="classname">ContactServiceImpl</code> class is missing the @GET annotation.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538620350608">
      ⁠</a>10.9. Seam Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4808">JBPAPP-4808</a></span></dt><dd><div class="para">
						Seam applications backed by POJO Cache with field-level session replication turned on can fail with an <code class="classname">InstantiationException</code>. This is due to architectural features of POJO Cache, which requires specific functionality and behavior from clients in order to provide field-level session replication.
					</div><div class="para">
						A workaround exists. Add the following code to the JSF configuration (<code class="filename">faces-config.xml</code>)
					</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;context-param&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;param-name&gt;</span>javax.faces.STATE_SAVING_METHOD<span xmlns="" class="perl_Keyword">&lt;/param-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;param-value&gt;</span>client<span xmlns="" class="perl_Keyword">&lt;/param-value&gt;</span>
<span xmlns="" class="line">​</span> <span xmlns="" class="perl_Keyword">&lt;/context-param&gt;</span>&gt;
</pre></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4508">JBPAPP-4508</a></span></dt><dd><div class="para">
						When uploading files with &lt;s:fileUpload&gt; inside &lt;h:dataTable&gt;, errors occur which lead to identical filenames and incorrect content. This occurs because the local value is not returned by the <code class="methodname">getLocalValue()</code> method.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4231">JBPAPP-4231</a></span></dt><dd><div class="para">
						A <code class="exceptionname">NullPointerException</code> occurs when undeploying or uninstalling Seam examples. It does not cause any application to shutdown, but this error should not occur. The issue is seen in the nestedbooking, dvdstore, itext and excel examples, but does not appear in ui example.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3546">JBPAPP-3546</a></span></dt><dd><div class="para">
						The iText example contains a "Programming Skills" section. Items selected in the multi-select list are supposed to be included in the generated PDF. Due to a bug in iText, when multiple items are selected, only the first item is included in the generated PDF.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2385">JBPAPP-2385</a></span></dt><dd><div class="para">
						Seam's Spring example fails with an <code class="exceptionname">IllegalStateException</code> when the login form is submitted on the IBM virtual machine. This is due to a defect in the IBM virtual machine. The fix for this issue has been deferred until the IBM virtual machine has been fixed.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-2377">JBPAPP-2377</a></span></dt><dd><div class="para">
						The Seamspace example fails with a <code class="exceptionname">NullPointerException</code> when submitting a new blog entry on the IBM virtual machine. This is due to a defect in the IBM virtual machine. The fix for this issue has been deferred until the IBM virtual machine has been fixed.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538670132816">
      ⁠</a>10.10. EJB3 Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4308">JBPAPP-4308</a> </span></dt><dd><div class="para">
						The following classes have been added to the jboss-ejb3-deployer.jar:
					</div><pre class="programlisting">
        org/jboss/ejb3/iiop/
        org/jboss/ejb3/iiop/BeanCorbaServant.class
        org/jboss/ejb3/iiop/EJB3IIOPWebClassLoader.class
        org/jboss/ejb3/iiop/IORFactory$1.class
        org/jboss/ejb3/iiop/IORFactory$2.class
        org/jboss/ejb3/iiop/IORFactory.class
        org/jboss/as/ejb3/deployers/IORDeployer.class
</pre><div class="para">
						However, the @Remote* annotations in Enterprise Application Platform 'web' configuration and Enterprise Web Platform throw a NullPointerException. This is because <code class="filename">jboss-iiop.jar</code> is not included in the web configuration, which is essentially the Enterprise Web Platform.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4692">JBPAPP-4692</a> </span></dt><dd><div class="para">
						The deployment of a persistence unit into an EAR will fail when the unit is outside of the EAR and the bean attempting to inject the persistence unit is within the EAR. The injection fails because the persistence unit cannot be found. This is expected behavior of the EJB3 spec. For strict EJB3-spec compliance, the persistence unit should be packaged within the EAR.
					</div><div class="para">
						A JBoss-specific behavior allows persistence units to exist outside EARs. This is configured in the file <code class="filename">deployers/ejb3.deployer/META-INF/jpa-deployer-jboss-beans.xml</code> under a JBoss AS server profile. The relevant section is:
					</div><pre class="programlisting">&lt;!--
     Can be DefaultPersistenceUnitDependencyResolver for spec compliant resolving,
     InterApplicationPersistenceUnitDependencyResolver for resolving beyond EARs,
     or DynamicPersistencePersistenceUnitDependencyResolver which allows configuration via JMX.
  --&gt;
  &lt;bean name="PersistenceUnitDependencyResolver" class="org.jboss.jpa.resolvers.DynamicPersistenceUnitDependencyResolver"/&gt;&gt;</pre><div class="para">
						By default, the <code class="classname">DynamicPersistenceUnitDependencyResolver</code> (<a href="https://svn.jboss.org/repos/jbossas/projects/jpa/trunk/deployers/src/main/java/org/jboss/jpa/resolvers/DynamicPersistenceUnitDependencyResolver.java">https://svn.jboss.org/repos/jbossas/projects/jpa/trunk/deployers/src/main/java/org/jboss/jpa/resolvers/DynamicPersistenceUnitDependencyResolver.java</a>) is used, which allows the spec-compliant behavior to be controlled through the MBean in the JMX Console. The spec-noncompliant JBoss variant search strategy can be found at <a href="https://svn.jboss.org/repos/jbossas/projects/jpa/trunk/deployers/src/main/java/org/jboss/jpa/resolvers/strategy/JBossSearchStrategy.java">https://svn.jboss.org/repos/jbossas/projects/jpa/trunk/deployers/src/main/java/org/jboss/jpa/resolvers/strategy/JBossSearchStrategy.java</a>.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538677059280">
      ⁠</a>10.11. Clustering Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-3795">JBPAPP-3795</a> </span></dt><dd><div class="para">
						When an exploded archive that contains a 0-byte file (among other files) is deployed, a NullPointerException is thrown on the remote node. This aborts the farm deployment process. No workaround currently exists.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140538653285984">
      ⁠</a>10.12. Connector Known Issues</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-5048">JBPAPP-5048</a></span></dt><dd><div class="para">
						The mod_cluster manager module's status page is not updated upon worker node failover. This means that the worker is listed as active and available after it has failed.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/browse/JBPAPP-4767">JBPAPP-4767</a></span></dt><dd><div class="para">
						The following error log messages are produced when the client unexpectedly closes the connection in AJP:
					</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>              [error] [client <span xmlns="" class="perl_Keyword">&lt;ip&gt;</span>] proxy: error processing body
<span xmlns="" class="line">​</span>              [error] proxy: dialog to 192.168.0.1:8009 (192.168.0.1) failed
</pre><div class="para">
						These errors should be logged as warn or debug rather than error.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/JBPAPP-3463">JBPAPP-3463</a></span></dt><dd><div class="para">
						When an application is undeployed, sessions that were forwarded to the application server by mod_cluster before undeploy notification was received may result in an error <span class="errorname">503 - This application is not currently available</span>.
					</div></dd><dt><span class="term"><a href="https://jira.jboss.org/jira/browse/MODCLUSTER-123">MODCLUSTER-123</a></span></dt><dd><div class="para">
						If the <code class="literal">root</code> context ("<code class="filename">/</code>") is deployed and enabled, other contexts cannot be disabled. It is also impossible to specify that other contexts not be forwarded to the <code class="literal">root</code> context.
					</div></dd></dl></div></div></div></div></body></html>