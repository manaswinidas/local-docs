<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 5. Overview</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="chap-HTTP_Connector_Guide-JBoss_HTTP_Overview">
      ⁠</a>Chapter 5. Overview</h1></div></div></div><div class="para">
		The JBoss HTTP Connector <span class="application"><strong>mod_cluster</strong></span> is a reduced-configuration, intelligent load-balancing solution for JBoss Enterprise Application Platform, based on technology originally developed by the JBoss mod_cluster community project.
	</div><div class="para">
		The JBoss HTTP connector load-balances HTTP requests to JBoss Enterprise Application Platform and JBoss Enterprise Web Server worker nodes, using Apache HTTP Server as the proxy server.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sect-HTTP_Connector_Guide-JBoss_HTTP_Overview-key-features">
      ⁠</a>5.1. Key features</h1></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Apache HTTP Server-based</span></dt><dd><div class="para">
						The JBoss HTTP Connector <span class="application"><strong>mod-cluster</strong></span> uses Apache HTTP Server as the proxy server.
					</div></dd><dt><span class="term">Real-time load-balancing calculation</span></dt><dd><div class="para">
						The JBoss HTTP Connector <span class="application"><strong>mod_cluster</strong></span> creates a feedback network between the worker nodes and the proxy server. The <span class="application"><strong>mod_cluster</strong></span> service is deployed on each of the worker nodes. This service feeds real-time load information to the proxy server. The proxy server then makes intelligent decisions about where to allocate work, based on the current load on each worker node. This real-time adaptive load distribution results in increased optimization of resources.
					</div><div class="para">
						The information that is reported by the worker nodes and the load-balancing policy used by the proxy are both customizable.
					</div></dd><dt><span class="term">Routing based on real-time application life-cycle</span></dt><dd><div class="para">
						The JBoss HTTP Connector <span class="application"><strong>mod_cluster</strong></span> service deployed on the worker nodes relays application life-cycle events to the proxy server. This allows the server to dynamically update its routing table. When an application is undeployed on a node, the proxy server no longer routes traffic for that application to that node.
					</div></dd><dt><a id="Automatic_Proxy_Discovery">
      ⁠</a><span class="term">Automatic Proxy Discovery</span></dt><dd><div class="para">
						The proxy server can be configured to announce its presence via UDP multicast. New worker nodes discover the proxy server and add themselves to the load-balancing cluster automatically. This greatly reduces the configuration and maintenance needed. When UDP multicast is not available or is undesirable, worker nodes are configured with a static list of proxies.
					</div></dd><dt><span class="term">Multiple Protocol Support</span></dt><dd><div class="para">
						The JBoss HTTP Connector <span class="application"><strong>mod_cluster</strong></span> can use HTTP, HTTPS, or Apache JServ Protocol (AJP) for communication between the proxy and the worker nodes.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Components">
      ⁠</a>5.2. Components</h1></div></div></div><div class="variablelist"><a id="var-Proxy_Server_Modules">
      ⁠</a><p class="title"><strong>Proxy Server</strong></p><div class="para">
				On the proxy server, the JBoss HTTP Connector, <span class="application"><strong>mod-cluster</strong></span>, consists of four Apache HTTP Server modules.
			</div><dl class="variablelist"><dt><span class="term">Shared Memory Manager module: <code class="filename">mod_slotmem.so</code></span></dt><dd><div class="para">
						The Shared Memory Manager module, <span class="application"><strong>mod_slotmem</strong></span>, makes the real-time worker node information available to multiple Apache HTTP Server server processes.
					</div></dd><dt><span class="term">Cluster Manager module: <code class="filename">mod_manager.so</code></span></dt><dd><div class="para">
						The Cluster Manager module, <span class="application"><strong>mod_manager</strong></span>, receives and acknowledges messages from nodes, including worker node registrations, worker node load data, and worker node application life-cycle events.
					</div></dd><dt><span class="term">Proxy Balancer module: <code class="filename">mod_proxy_cluster.so</code></span></dt><dd><div class="para">
						The Proxy Balancer module, <span class="application"><strong>mod_proxy_cluster</strong></span>, handles the routing of requests to cluster nodes. The Proxy Balancer selects the appropriate node to forward the request to, based on application location in the cluster, current state of each of the cluster nodes, and the Session ID (if a request is part of an established session).
					</div></dd><dt><span class="term">Proxy Advertisement module: <code class="filename">mod_advertise.so</code></span></dt><dd><div class="para">
						The Proxy Advertisement module, <span class="application"><strong>mod_advertise.so</strong></span>, broadcasts the existence of the proxy server via UDP multicast messages. The server advertisement messages contain the IP address and port number on which the proxy is listening for responses from nodes that wish to join the load-balancing cluster.
					</div></dd></dl></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
				Refer to <a class="xref" href="chap-HTTP_Connector_Guide-JBoss_HTTP_Server_Install.html#Apache_Modules">Section 6.1, “Apache HTTP Server modules”</a> for detailed information about the available modules including user-configurable parameters.
			</div></div></div><div class="variablelist"><p class="title"><strong>Worker Node Components</strong></p><div class="para">
				The JBoss HTTP Connector client service, <code class="filename">mod-cluster.sar</code>, is deployed on each worker node.
			</div><dl class="variablelist"><dt><span class="term">Worker node service: <code class="filename">mod-cluster.sar</code></span></dt><dd><div class="para">
						This service provides the proxy with real-time information on the worker node's state and sends notification of application life-cycle events; as well as allowing the node to discover and register itself with any proxies running on the same network.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Limitations">
      ⁠</a>5.3. Limitations</h1></div></div></div><div class="para">
			The JBoss HTTP Connector <span class="application"><strong>mod_cluster</strong></span> uses shared memory to keep the nodes description, the shared memory is created at the startup of <code class="systemitem">httpd</code> and the structure of each item is fixed. Therefore, when defining proxy server and worker node properties, make sure to follow these character limits:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					Maximum Alias length: 100 characters (Alias corresponds to the network <span class="property">name</span> of the respective virtual host; the <span class="property">name</span> is defined in the <span class="property">Host</span> element)
				</div></li><li class="listitem"><div class="para">
					Maximum context length: 40 characters (for example, if myapp.war is deployed in <code class="filename">/myapp</code>, then <code class="literal">/myapp</code> is the context)
				</div></li><li class="listitem"><div class="para">
					Maximum balancer name length: 40 characters (the <span class="property">balancer</span> property in MBean)
				</div></li><li class="listitem"><div class="para">
					Maximum JVMRoute string length: 80 character (JVMRoute in the &lt;Engine&gt; element)
				</div></li><li class="listitem"><div class="para">
					Maximum domain name length: 20 characters (the <span class="property">domain</span> property in MBean)
				</div></li><li class="listitem"><div class="para">
					Maximum hostname length for a node: 64 characters (hostname address in the &lt;Connector&gt; element)
				</div></li><li class="listitem"><div class="para">
					Maximum port length for a node: 7 characters (<code class="literal">8009</code> is 4 characters, the <span class="property">port</span> property in the &lt;Connector&gt; element)
				</div></li><li class="listitem"><div class="para">
					Maximum scheme length for a node: 6 characters (possible values are <code class="literal">http</code>, <code class="literal">https</code>, <code class="literal">ajp</code>, the protocol of the connector)
				</div></li><li class="listitem"><div class="para">
					Maximum cookie name length: 30 characters (the header cookie name for session ID default value: JSESSIONID from org.apache.catalina.Globals.SESSION_COOKIE_NAME)
				</div></li><li class="listitem"><div class="para">
					Maximum path name length: 30 characters (the parameter name for the session ID default value: JSESSIONID from org.apache.catalina.Globals.SESSION_PARAMETER_NAME)
				</div></li><li class="listitem"><div class="para">
					Maximum length of a session ID: 120 characters (session ID resembles the following: <code class="literal">BE81FAA969BF64C8EC2B6600457EAAAA.node01</code>)
				</div></li></ul></div></div></div></body></html>