<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 3. Starting and Stopping the Server</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="Starting_and_Stopping_the_Server">
      ⁠</a>Chapter 3. Starting and Stopping the Server</h1></div></div></div><div class="para">
		The simplest way to start and stop the server is to run the server instance using the run.sh or run.bat script and run the instance as a program in foreground. For information on other ways of running the server refer to the <em class="citetitle">Administration and Configuration Guide</em>.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Starting_and_Stopping_the_Server-Start_the_Server">
      ⁠</a>3.1. Starting the Server</h1></div></div></div><div class="para">
			To start the JBoss Enterprise Application Server as a process in foreground,  move to <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/jboss-as/bin</code> directory and execute the  <code class="filename">run.sh</code> (on Red Hat Enterprise Linux) or <code class="filename">run.bat</code> (on Microsoft Windows) script. The server instance is run with the configuration set in the <code class="literal">default</code> profile as no other profile was specified.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Remote connection to the JBoss Enterprise Application Platform server</strong></p></div><div class="admonition"><div class="para">
				JBoss Enterprise Application Platform binds its services to localhost (127.0.0.1) by default, instead of binding to all available interfaces (0.0.0.0). This is to prevent remote access before a server is configured and secured correctly. To enable remote access by binding JBoss services to a particular interface, run JBoss with the <code class="command">-b</code> option. To bind to all available interfaces and re-enable the legacy behavior use <code class="command">./run.sh -b 0.0.0.0</code> on Linux  . Make sure you secure your server properly.
			</div><div class="para">
				Using <code class="command">-b</code> as part of the server's command line is equivalent to setting these individual properties: <span class="property">-Djboss.bind.address</span>, <span class="property">-Djava.rmi.server.hostname</span>, <span class="property">-Djgroups.bind_addr</span> and <span class="property">-Dbind.address</span>. Passing <span class="property">-Djboss.bind.address</span> to the Java process as part of the <code class="varname"> JAVA_OPTS </code> variable in the run scripts will not work as it is a JBoss property not a JVM property.
			</div></div></div><div class="para">
			For more information including setting up multiple server instances on one machine and hosting multiple domains with JBoss, please refer to the <em class="citetitle">Administration and Configuration Guide</em>.
		</div><div class="para">
			On starting your server, your screen output should look like the following (accounting for the highlighted installation directory differences) and contain no error or exception messages:
		</div><pre class="screen">[user@mypc bin]$ ./run.sh 
=========================================================================
  JBoss Bootstrap Environment
  JBOSS_HOME: <em class="replaceable">&lt;JBOSS_HOME&gt;</em>/jboss-as
  JAVA: java
  JAVA_OPTS: -Dprogram.name=run.sh -server -Xms1503m -Xmx1503m -Dsun.rmi.dgc.client.
gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Djava.net.preferIPv4Stack=true
  CLASSPATH: <em class="replaceable">&lt;JBOSS_HOME&gt;</em>/jboss-as/bin/run.jar
=========================================================================
</pre><div class="para">
			More options for the JBoss Enterprise Application Platform <code class="literal">run</code> script are discussed in <a class="xref" href="Starting_and_Stopping_the_Server.html#Starting_and_Stopping_the_Server-Start_the_Server_With_Alternate_Configuration">Section 3.1.1, “Starting the Server with Alternate Configuration”</a> below.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
				There is no <span class="emphasis"><em>Server Started</em></span> message shown at the console when the server is started using the <code class="literal">production</code> profile. This message may be observed in the <code class="filename">server.log</code> file located in the <code class="filename">server/production/log</code> subdirectory.
			</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Starting_and_Stopping_the_Server-Start_the_Server_With_Alternate_Configuration">
      ⁠</a>3.1.1. Starting the Server with Alternate Configuration</h2></div></div></div><div class="para">
				Using <code class="literal">run.sh</code> without any arguments starts the server using the <code class="literal">default</code> server profile file set. To start with an alternate profile file set, pass the name of the server configuration file set (same as the name of the server configuration directory under <code class="literal"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/jboss-as/server/<em class="replaceable">&lt;PROFILE&gt;</em>/</code>) that you want to use, as the value to the <code class="literal">-c</code> command line option. For example, to start with the <code class="literal">minimal</code> profile file set you should specify:
			</div><pre class="programlisting">[bin]$ ./run.sh -c minimal
  ...
  ...
  ...
  15:05:40,301 INFO  [Server] JBoss (MX MicroKernel) [5.0.0 (build: SVNTag=JBoss_5_0_0 date=200801092200)] Started in 5s:75ms
</pre></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Starting_and_Stopping_the_Server-Stopping_the_Server">
      ⁠</a>3.2. Stopping the Server</h1></div></div></div><div class="para">
			To shut down the server, issue a <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>C</strong></span> sequence in the console in which JBoss was started. Alternatively, you can use the <code class="filename">shutdown.sh</code> command.
		</div><pre class="programlisting">[bin]$ ./shutdown.sh -S</pre><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>The shutdown Command Limitation</strong></p></div><div class="admonition"><div class="para">
				The <code class="command">shutdown</code> command can be only used for servers that contain the <code class="literal">jmx-invoker-service.xml</code> service. Hence you cannot use the <code class="command">shutdown</code> command with the <code class="literal">minimal</code> profile.
			</div></div></div></div></div></body></html>