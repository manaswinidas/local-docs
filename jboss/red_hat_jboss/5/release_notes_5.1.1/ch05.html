<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 5. Known Issues</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idm140708998571808">
      ⁠</a>Chapter 5. Known Issues</h1></div></div></div><div class="para">
		Known issues in Enterprise Application Platform 5.1.1 are listed by component.
	</div><div class="variablelist"><p class="title"><strong>Clustering</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-4541">JBPAPP-4541</a> </span></dt><dd><div class="para">
					If you use the <span class="property">partitionName</span> property on the <code class="code">MCBean:ServerConfig</code> Profile Service managed component, it returns a <code class="literal">null</code> value. Instead, use the <span class="property">partionName</span> from the <code class="code">MCBean:HAPartition</code> managed component, which is the correct property.
				</div></dd><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-5464">JBPAPP-5464</a> </span></dt><dd><div class="para">
					Using the Hibernate SecondLevel Cache at the <code class="literal">InitialState</code> phase causes a <code class="code">NullPointerException</code>. To work around this issue, disable the query cache. To disable the query cache, edit <code class="filename">persistence.xml</code> to either explicitly set the <code class="varname">query_cache</code> to <code class="literal">false</code>, as follows, or remove the line altogether, since the query cache is disabled by default.
				</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"hibernate.cache.use_query_cache"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre></dd></dl></div><div class="variablelist"><p class="title"><strong>Consoles</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-5285">JBPAPP-5285</a> </span></dt><dd><div class="para">
					If you change the database properties via the Admin Console, the changes are persistent. However, if you undo the changes, the old values still persist when you restart the Application Server. This problem is not yet resolved, but you can work around it by editing the associated attachments file in <code class="filename">server/<em class="replaceable">PROFILE</em>/data/attachments</code>, to force the datasource configuration to use the new settings.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong>EJB</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-4899">JBPAPP-4899</a> </span></dt><dd><div class="para">
					Compiling <code class="systemitem">jboss-ejb3-core-1.3.5</code> with default setting <code class="literal">LANG=C</code> causes an unmappable character for encoding ASCII error. Use <code class="literal">LANG=en_US.UTF-8</code> to work around this issue.
				</div></dd><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-5121">JBPAPP-5121</a> </span></dt><dd><div class="para">
					The deployment of a persistence unit into an EAR will fail when the unit is outside of the EAR and the bean attempting to inject the persistence unit is within the EAR. The injection fails because the persistence unit cannot be found. This is expected behavior of the EJB3 spec. For strict EJB3-spec compliance, the persistence unit should be packaged within the EAR. A JBoss-specific behavior allows persistence units to exist outside EARs. This is configured in the file <code class="filename">deployers/ejb3.deployer/META-INF/jpa-deployer-jboss-beans.xml</code> under a JBoss AS server profile. The relevant section is:
				</div><pre class="programlisting">&lt;bean name="PersistenceUnitDependencyResolver" class="org.jboss.jpa.resolvers.DynamicPersistenceUnitDependencyResolver"/&gt;</pre><div class="para">
					By default, the <a href="https://svn.jboss.org/repos/jbossas/projects/jpa/trunk/deployers/src/main/java/org/jboss/jpa/resolvers/DynamicPersistenceUnitDependencyResolver.java">DynamicPersistenceUnitDependencyResolver</a> is used, which allows the spec-compliant behavior to be controlled through the MBean in the JMX Console. The spec-noncompliant JBoss variant search strategy can be found <a href="https://svn.jboss.org/repos/jbossas/projects/jpa/trunk/deployers/src/main/java/org/jboss/jpa/resolvers/strategy/JBossSearchStrategy.java">here</a>.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong>Hibernate</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-6395">JBPAPP-6395</a> </span></dt><dd><div class="para">
					When using the Criteria API with LEFT OUTER JOIN to add criteria to children, the child collections will only contain those children matching the criteria. This behavior also applies when not using any Filters. For example:
				</div><pre class="programlisting">criteria.createCriteria("children", JoinFragment.LEFT_OUTER_JOIN)</pre><div class="para">
					There is no workaround for this issue.
				</div></dd><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-6475">JBPAPP-6475</a> </span></dt><dd><div class="para">
					org.hibernate.PropertyAccessException may be thrown if an Entity contains the following conditions:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
							Uses @EmbeddedId
						</div></li><li class="listitem"><div class="para">
							Uses @JoinTable on a collection or association property/field, which references another property/field of the entity.
						</div></li></ol></div><div class="para">
					For example:
				</div><pre class="programlisting"><span xmlns="" class="line">​</span>@EmbeddedId
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">private</span> MyPk id;
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">Long</span> name;
<span xmlns="" class="line">​</span>@CollectionOfElements
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">JoinTable</span>(
<span xmlns="" class="line">​</span>name=<span xmlns="" class="perl_String">"GLOBAL_NOTES"</span>,
<span xmlns="" class="line">​</span>joinColumns=@<span xmlns="" class="perl_Function">JoinColumn</span>(name=<span xmlns="" class="perl_String">"text_id"</span>, referencedColumnName=<span xmlns="" class="perl_String">"name"</span>))
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">private</span> Set&lt;String&gt; globalNotes = <span xmlns="" class="perl_Keyword">new</span> HashSet&lt;String&gt;();</pre><div class="para">
					There is no workaround for this issue, other than not using @EmbeddedId.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong>Messaging</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://jira.jboss.org/browse/JBPAPP-3904">JBPAPP-3904</a> </span></dt><dd><div class="para">
					Oracle JDBC driver version 11.1.0.7.0 causes the JBoss Messaging Transaction Service to fail with a <code class="exceptionname">SQLException</code> ("Bigger type length than Maximum") on Oracle 11g R1.
				</div><div class="para">
					This is caused by a regression in Oracle JDBC driver 11.1.0.7.0.
				</div><div class="para">
					We recommend Oracle JDBC driver version 11.2.0.1.0 for use with Oracle 11g R1, Oracle 11g R2, Oracle RAC 11g R1 and Oracle RAC 11g R2.
				</div></dd><dt><span class="term"> <a href="https://jira.jboss.org/browse/JBPAPP-4668">JBPAPP-4668</a> </span></dt><dd><div class="para">
					Two JBoss Messaging Test Suite tests fail on Oracle 11g R1, R2 and RAC with the latest JDBC driver, version 11.2.0.2.0:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
							QueueManagementTest.testDestroyDestinationProgrammatically
						</div></li><li class="listitem"><div class="para">
							QueueManagementTest.testDestroyDestinationProgrammaticallyWithParams
						</div></li></ul></div><div class="para">
					These tests use a large value for the fullSize queue configuration parameter, which is passed to the <code class="methodname">setFetchSize</code> method on the <code class="classname">java.sql.PreparedStatement</code>. A problem with the JDBC driver means that more than the usual amount of memory is consumed when <code class="classname">executeQuery()</code> is called, which results in a <code class="classname">java.lang.OutOfMemoryError</code>, causing the test to fail.
				</div></dd><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-5124">JBPAPP-5124</a> </span></dt><dd><div class="para">
					When using Sybase database with the JDBC driver Sybase jConnect JDBC driver v7 (Build 26502), a <code class="varname">MaxParams</code> attribute in the <code class="filename">sybase-persistence-service.xml</code> configuration file cannot be set higher than <code class="literal">481</code> due to a limitation of the <code class="classname">PreparedStatement</code> class in this driver. Unexpected failures can occur when the <code class="varname">MaxParams</code> attribute is set to a value higher than <code class="literal">481</code>. To avoid this issue, set <code class="varname">MaxParams</code> to a smaller value than <code class="literal">481</code>.
				</div></dd><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-5537">JBPAPP-5537</a> </span></dt><dd><div class="para">
					If a message-driven bean is deployed with the default settings <code class="literal">useDLQ=true, DLQMaxResent=5</code> and message redelivery is prompted, a message remains in the queue in a <code class="literal">delivering</code> state even after the message is delivered to the dead letter queue. The workaround for this issue is to disable the dead letter queue handling on the MDB side by setting <code class="literal">useDLQ=false</code>.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong>Networking</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-5591">JBPAPP-5591</a> </span></dt><dd><div class="para">
					IPv6 is not supported in version 5 of the Enterprise Platform.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong>RESTEasy</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-4665">JBPAPP-4665</a> </span></dt><dd><div class="para">
					Resteasy-guice applications fail to deploy because of a <code class="code">java.lang.SecurityException</code>. An error message similar to the following is displayed:
				</div><pre class="screen">
java.lang.SecurityException: class "org.jboss.resteasy.examples.guice.hello.DefaultGreeter$$FastClassByGuice$$70fd68d0"'s signer information does not match signer information of other classes in the same package
</pre><div class="para">
					This occurs because the <code class="filename">cglib.jar</code> in JBoss Enterprise Application Platform is signed, and the <code class="code">cglib-instrumented</code> proxy uses the <code class="filename">cglib.jar</code> signer information instead of the signer information of the application target class.
				</div></dd><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-4995">JBPAPP-4995</a> </span></dt><dd><div class="para">
					The TwitterClient example is deprecated in RESTEasy 1.2.x due to Twitter deprecating the Basic Authentication method in August 2010. All applications must now use OAuth. RESTEasy 2.x contains a reworked TwitterClient example that includes OAuth. Download the example from <a href="http://www.jboss.org/resteasy">RESTEasy 2.x</a> for testing purposes.
				</div></dd><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-5038">JBPAPP-5038</a> </span></dt><dd><div class="para">
					The <code class="filename">jettison.jar</code> file is not included in the <code class="filename">jboss-eap-5.1/resteasy/lib</code> directory of <code class="filename">jboss-eap-noauth-5.1.0.CR3.zip</code>. To work around this issue, use the <code class="filename">jettison.jar</code> file included in the Seam distribution, <code class="filename">jboss-eap-5.1.1/seam/lib/jettison.jar</code>.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong>Scripts</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-5003">JBPAPP-5003</a> </span></dt><dd><div class="para">
					The script <code class="filename">jboss_init_redhat.sh</code> has been removed from distribution. Instead, use your own script to customize start-up of the Enterprise Platform.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong>Seam</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-5039">JBPAPP-5039</a> </span></dt><dd><div class="para">
					An incompatibility with Microsoft Internet Explorer 8 and the Seam Tasks Example resulted in text appended to a task being represented as a blank line in the task list. There is no work-around to this issue.
				</div></dd><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-6366">JBPAPP-6366</a> </span></dt><dd><div class="para">
					Some examples included in the <code class="literal">jboss-seam2-examples</code> distribution are designed to showcase functionality of the JBoss Enterprise Application Platform server. Those examples that require a full Application Platform server will not run on a JBoss Enterprise Web Platform server.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong>TCK</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-3929">JBPAPP-3929</a> </span></dt><dd><div class="para">
					When <code class="function">java.sql.Date.valueOf</code> attempts to parse dates of the format yyyy-mm-dd, the TCK test threw a <span class="errorcode">java.lang.IllegalArgumentException</span>. This was due to a regression in the latest Sun JVM, Sun JDK 1.6.0_24 (see <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6898593">http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6898593</a> for more information). The workaround for this issue is to downgrade to Sun JDK 1.6.0_17.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong>Varia</strong></p><dl class="variablelist"><dt><span class="term"> <a href="https://issues.jboss.org/browse/JBPAPP-4912">JBPAPP-4912</a> </span></dt><dd><div class="para">
					A NullPointerException was thrown when a datasource depended upon by a webapp was restarted. The error has been changed to an IllegalStateException, which returns "WebModules cannot be restarted, and must be redeployed".
				</div></dd></dl></div></div></body></html>