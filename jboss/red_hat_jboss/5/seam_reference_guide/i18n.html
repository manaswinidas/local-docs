<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 16. Internationalization, localization and themes</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="i18n">
      ⁠</a>Chapter 16. Internationalization, localization and themes</h1></div></div></div><div class="para">
		There are several stages required to internationalize and localize your application.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			Internationalization features are available only in the JSF context.
		</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139690515536544">
      ⁠</a>16.1. Internationalizing your application</h1></div></div></div><div class="para">
			A Java EE 5 application involves many components, all of which must be configured properly to localize your application.
		</div><div class="para">
			Before you begin, ensure that your database server and client use the correct character encoding for your locale. Normally, you will want UTF-8 encoding. (Setting the correct encoding falls outside the scope of this tutorial.)
		</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm139690453305712">
      ⁠</a>16.1.1. Application server configuration</h2></div></div></div><div class="para">
				You will need to configure the Tomcat connector to ensure that the application server receives the request parameters from client requests in the correct encoding. Add the <code class="literal">URIEncoding="UTF-8"</code> attribute to the connector configuration in <code class="filename">$JBOSS_HOME/server/$PROFILE/deploy/jboss-web.deployer/server.xml</code>:
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;Connector</span><span xmlns="" class="perl_Others"> port=</span><span xmlns="" class="perl_String">"8080"</span><span xmlns="" class="perl_Others"> URIEncoding=</span><span xmlns="" class="perl_String">"UTF-8"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre><div class="para">
				Alternatively, you can tell JBoss Enterprise Application Platform that the correct encoding for the request parameters will be taken from the request:
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;Connector</span><span xmlns="" class="perl_Others"> port=</span><span xmlns="" class="perl_String">"8080"</span><span xmlns="" class="perl_Others"> useBodyEncodingForURI=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm139690455741088">
      ⁠</a>16.1.2. Translated application strings</h2></div></div></div><div class="para">
				You will also need localized strings for all of the <span class="emphasis"><em>messages</em></span> in your application (for example, field labels on your views). First, ensure that your resource bundle is encoded with the desired character encoding. ASCII is used by default. Although ASCII is enough for many languages, it does not provide characters for all languages.
			</div><div class="para">
				Resource bundles must either be created in ASCII, or use Unicode escape codes to represent Unicode characters. Since you do not compile a property file to byte code, there is no way to tell JVM which character set to use. Therefore, you must use either ASCII characters or escape characters not in the ASCII character set. You can represent a Unicode character in any Java file with <code class="literal">\uXXXX</code>, where <em class="replaceable">XXXX</em> is the hexadecimal representation of the character.
			</div><div class="para">
				You can write your translation of labels (<a class="xref" href="i18n.html#labels">Section 16.3, “Labels”</a>) to your message resource bundle in the native coding. The <code class="literal">native2ascii</code> tool provided in the JDK lets you convert the contents of a file written in your native encoding into one that represents non-ASCII characters as Unicode escape sequences.
			</div><div class="para">
				Usage of this tool is described <a href="http://java.sun.com/javase/6/docs/technotes/tools/#intl">here for Java 6</a>. For example, to convert a file from UTF-8:
			</div><pre class="screen">
<code class="command"> $ native2ascii -encoding UTF-8 messages_cs.properties &gt; messages_cs_escaped.properties </code></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm139690525162848">
      ⁠</a>16.1.3. Other encoding settings</h2></div></div></div><div class="para">
				We need to make sure that the view displays your localized data and messages in the correct character set, and that any data submitted uses the correct encoding.
			</div><div class="para">
				Use the <code class="literal">&lt;f:view locale="cs_CZ"/&gt;</code> tag to set the display character encoding. (Note that this <code class="literal">locale</code> value sets JSF to use the Czech locale.) If you want to embed localized strings in the XML, you may want to change the XML document's encoding. To do so, alter the <code class="literal">encoding</code> attribute value in the XML declaration <code class="literal">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</code>.
			</div><div class="para">
				JSF/Facelets should submit any requests with the specified character encoding, but to ensure that requests that do not specify an encoding are submitted, you can force the request encoding using a servlet filter. Configure this in <code class="filename">components.xml</code>:
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;web:character-encoding-filter</span><span xmlns="" class="perl_Others"> encoding=</span><span xmlns="" class="perl_String">"UTF-8"</span><span xmlns="" class="perl_Others"> override-client=</span><span xmlns="" class="perl_String">"true"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">     url-pattern=</span><span xmlns="" class="perl_String">"*.seam"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
</pre></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="locales">
      ⁠</a>16.2. Locales</h1></div></div></div><div class="para">
			Each user log in session has an associated instance of <code class="literal">java.util.Locale</code>, which is available to the application as a component named <code class="literal">locale</code>. Under normal circumstances, setting the locale requires no special configuration. Seam delegates to JSF to determine the active locale as follows:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					If a locale is associated with the HTTP request (the browser locale), and that locale is in the list of supported locales from <code class="filename">faces-config.xml</code>, use that locale for the rest of the session.
				</div></li><li class="listitem"><div class="para">
					Otherwise, if a default locale was specified in the <code class="filename">faces-config.xml</code>, use that locale for the rest of the session.
				</div></li><li class="listitem"><div class="para">
					Otherwise, use the default locale of the server.
				</div></li></ul></div><div class="para">
			You <span class="emphasis"><em>can</em></span> set the locale manually through the Seam configuration properties <code class="literal">org.jboss.seam.international.localeSelector.language</code>, <code class="literal">org.jboss.seam.international.localeSelector.country</code> and <code class="literal">org.jboss.seam.international.localeSelector.variant</code>, but there is no good reason to use this method over those described above.
		</div><div class="para">
			It is useful to allow the user to set the locale manually via the application user interface. Seam provides built-in functionality to override the locale determined by the default algorithm. Do this by adding the following fragment to a form in your JSP or Facelets page:
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:selectOneMenu</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"#{localeSelector.language}"</span><span xmlns="" class="perl_Keyword">&gt;</span> 
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;f:selectItem</span><span xmlns="" class="perl_Others"> itemLabel=</span><span xmlns="" class="perl_String">"English"</span><span xmlns="" class="perl_Others"> itemValue=</span><span xmlns="" class="perl_String">"en"</span><span xmlns="" class="perl_Keyword">/&gt;</span> 
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;f:selectItem</span><span xmlns="" class="perl_Others"> itemLabel=</span><span xmlns="" class="perl_String">"Deutsch"</span><span xmlns="" class="perl_Others"> itemValue=</span><span xmlns="" class="perl_String">"de"</span><span xmlns="" class="perl_Keyword">/&gt;</span> 
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;f:selectItem</span><span xmlns="" class="perl_Others"> itemLabel=</span><span xmlns="" class="perl_String">"Francais"</span><span xmlns="" class="perl_Others"> itemValue=</span><span xmlns="" class="perl_String">"fr"</span><span xmlns="" class="perl_Keyword">/&gt;</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/h:selectOneMenu&gt;</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:commandButton</span><span xmlns="" class="perl_Others"> action=</span><span xmlns="" class="perl_String">"#{localeSelector.select}"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                 value=</span><span xmlns="" class="perl_String">"#{messages['ChangeLanguage']}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre><div class="para">
			Or, if you want a list of all supported locales from <code class="filename">faces-config.xml</code>, use:
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:selectOneMenu</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"#{localeSelector.localeString}"</span><span xmlns="" class="perl_Keyword">&gt;</span> 
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;f:selectItems</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"#{localeSelector.supportedLocales}"</span><span xmlns="" class="perl_Keyword">/&gt;</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/h:selectOneMenu&gt;</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:commandButton</span><span xmlns="" class="perl_Others"> action=</span><span xmlns="" class="perl_String">"#{localeSelector.select}"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                 value=</span><span xmlns="" class="perl_String">"#{messages['ChangeLanguage']}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre><div class="para">
			When the user selects an item from the drop-down, then clicks the command button, the Seam and JSF locales will be overridden for the rest of the session.
		</div><div class="para">
			You can configure the supported locales and the default locale of the server with the built-in <code class="literal">org.jboss.seam.international.localeConfig</code> component. First, declare an XML namespace for Seam's international package in the Seam component descriptor. Then, define the default locale and supported locales as follows:
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;international:locale-config</span><span xmlns="" class="perl_Others"> default-locale=</span><span xmlns="" class="perl_String">"fr_CA"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">               supported-locales=</span><span xmlns="" class="perl_String">"en fr_CA fr_FR"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre><div class="para">
			Remember that supported locales must have matching resource bundles. Next, define your language-specific labels.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="labels">
      ⁠</a>16.3. Labels</h1></div></div></div><div class="para">
			JSF supports the internationalization of user interface labels and descriptive text with the <code class="literal">&lt;f:loadBundle /&gt;</code>. In Seam applications, you can either take this approach, or use the Seam <code class="literal"> messages</code> component to display templated labels with embedded EL expressions.
		</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm139690493718512">
      ⁠</a>16.3.1. Defining labels</h2></div></div></div><div class="para">
				Make your internationalized labels available with Seam's <code class="literal">java.util.ResourceBundle</code>, available to the application as a <code class="literal">org.jboss.seam.core.resourceBundle</code>. By default, Seam uses a resource bundle named <code class="literal">messages</code>, so you will need to define your labels in files named <code class="filename"> messages.properties</code>, <code class="filename">messages_en.properties</code>, <code class="filename">messages_en_AU.properties</code>, etc. These files usually belong in the <code class="literal">WEB-INF/classes</code> directory.
			</div><div class="para">
				So, in <code class="filename">messages_en.properties</code>:
			</div><pre class="screen">Hello=Hello</pre><div class="para">
				And in <code class="filename">messages_en_AU.properties</code>:
			</div><pre class="screen">Hello=G'day</pre><div class="para">
				You can select a different name for the resource bundle by setting the Seam configuration property named <code class="literal">org.jboss.seam.core.resourceLoader.bundleNames</code>. You can even specify a list of resource bundle names to be searched (depth first) for messages.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;core:resource-loader&gt;</span> 
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;core:bundle-names&gt;</span> 
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>mycompany_messages<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span> 
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>standard_messages<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span>       
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/core:bundle-names&gt;</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/core:resource-loader&gt;</span>
</pre><div class="para">
				To define a message for one particular page, specify it in a resource bundle with the same name as the JSF view ID, with the leading <code class="literal">/</code> and trailing file extension removed. So, we could put our message in <code class="filename">welcome/hello_en.properties</code> if we only needed to display the message on <code class="filename"> /welcome/hello.jsp</code>.
			</div><div class="para">
				You can even specify an explicit bundle name in <code class="filename"> pages.xml</code>:
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;page</span><span xmlns="" class="perl_Others"> view-id=</span><span xmlns="" class="perl_String">"/welcome/hello.jsp"</span><span xmlns="" class="perl_Others"> bundle=</span><span xmlns="" class="perl_String">"HelloMessages"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre><div class="para">
				Then we could use messages defined in <code class="filename">HelloMessages.properties</code> on <code class="filename">/welcome/hello.jsp</code>.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm139690508192752">
      ⁠</a>16.3.2. Displaying labels</h2></div></div></div><div class="para">
				If you define your labels with the Seam resource bundle, you can use them without having to type <code class="literal">&lt;f:loadBundle... /&gt;</code> on each page. Instead, you can type:
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:outputText</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"#{messages['Hello']}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre><div class="para">
				or:
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:outputText</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"#{messages.Hello}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre><div class="para">
				Even better, the messages themselves may contain EL expressions:
			</div><pre class="screen">Hello=Hello, #{user.firstName} #{user.lastName}</pre><pre class="screen">Hello=G'day, #{user.firstName}</pre><div class="para">
				You can even use the messages in your code:
			</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>@In <span xmlns="" class="perl_Keyword">private</span> Map&lt;String, String&gt; messages;</pre><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">In</span>(<span xmlns="" class="perl_String">"#{messages['Hello']}"</span>) <span xmlns="" class="perl_Keyword">private</span> String helloMessage;</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm139690502499616">
      ⁠</a>16.3.3. Faces messages</h2></div></div></div><div class="para">
				The <code class="literal">facesMessages</code> component is a convenient way to display success or failure messages to the user. The functionality we just described also works for Faces messages:
			</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Name</span>(<span xmlns="" class="perl_String">"hello"</span>) 
<span xmlns="" class="line">​</span>@Stateless 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> HelloBean <span xmlns="" class="perl_Keyword">implements</span> Hello { 
<span xmlns="" class="line">​</span>  @In FacesMessages facesMessages; 
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">sayIt</span>() { 
<span xmlns="" class="line">​</span>    facesMessages.<span xmlns="" class="perl_Function">addFromResourceBundle</span>(<span xmlns="" class="perl_String">"Hello"</span>); 
<span xmlns="" class="line">​</span>  } 
<span xmlns="" class="line">​</span>}
</pre><div class="para">
				This will display <code class="literal">Hello, Gavin King</code> or <code class="literal">G'day, Gavin</code>, depending upon the user's locale.
			</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139690467332560">
      ⁠</a>16.4. Timezones</h1></div></div></div><div class="para">
			There is also a session-scoped instance of <code class="literal">java.util.Timezone</code>, named <code class="literal">org.jboss.seam.international.timezone</code>, and a Seam component for changing the timezone named <code class="literal">org.jboss.seam.international.timezoneSelector</code>. By default, the timezone is the default timezone of the server. Unfortunately, the JSF specification assumes all dates and times are UTC, and displayed as UTC, unless a different timezone is explicitly specified with <code class="literal">&lt;f:convertDateTime&gt;</code>.
		</div><div class="para">
			Seam overrides this behavior, and defaults all dates and times to the Seam timezone. In addition, Seam provides the <code class="literal">&lt;s:convertDateTime&gt;</code> tag, which always performs conversions in the Seam timezone.
		</div><div class="para">
			Seam also provides a default date converter to convert a string value to a date. This saves you from having to specify a converter on input fields that capture dates. The pattern is selected according to the user's locale and the time zone is selected as described above.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139690465396176">
      ⁠</a>16.5. Themes</h1></div></div></div><div class="para">
			Seam applications are also very easily skinnable. The theme API is very similar to the localization API, but of course these two concerns are orthogonal, and some applications support both localization and themes.
		</div><div class="para">
			First, configure the set of supported themes:
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;theme:theme-selector</span><span xmlns="" class="perl_Others"> cookie-enabled=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;theme:available-themes&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>default<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>accessible<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>printable<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/theme:available-themes&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/theme:theme-selector&gt;</span>
</pre><div class="para">
			The first theme listed is the default theme.
		</div><div class="para">
			Themes are defined in a properties file with the same name as the theme. For example, the <code class="literal">default</code> theme is defined as a set of entries in <code class="filename"> default.properties</code>, which might define:
		</div><pre class="screen">
css ../screen.css template /template.xhtml
</pre><div class="para">
			The entries in a theme resource bundle are usually paths to CSS styles or images and names of Facelets templates (unlike localization resource bundles which are usually text).
		</div><div class="para">
			Now we can use these entries in our JSP or Facelets pages. For example, to theme the stylesheet in a Facelets page:
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;link</span><span xmlns="" class="perl_Others"> href=</span><span xmlns="" class="perl_String">"#{theme.css}"</span><span xmlns="" class="perl_Others"> rel=</span><span xmlns="" class="perl_String">"stylesheet"</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">"text/css"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
</pre><div class="para">
			Or, where the page definition resides in a subdirectory:
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;link</span><span xmlns="" class="perl_Others"> href=</span><span xmlns="" class="perl_String">"#{facesContext.externalContext.requestContextPath}#{theme.css}"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">      rel=</span><span xmlns="" class="perl_String">"stylesheet"</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">"text/css"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
</pre><div class="para">
			Most powerfully, Facelets lets us theme the template used by a <code class="literal">&lt;ui:composition&gt;</code>:
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;ui:composition</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"http://www.w3.org/1999/xhtml"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    xmlns:ui=</span><span xmlns="" class="perl_String">"http://java.sun.com/jsf/facelets"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    xmlns:h=</span><span xmlns="" class="perl_String">"http://java.sun.com/jsf/html"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    xmlns:f=</span><span xmlns="" class="perl_String">"http://java.sun.com/jsf/core"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    template=</span><span xmlns="" class="perl_String">"#{theme.template}"</span><span xmlns="" class="perl_Keyword">&gt;</span>
</pre><div class="para">
			Just like the locale selector, there is a built-in theme selector to allow the user to freely switch themes:
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:selectOneMenu</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"#{themeSelector.theme}"</span><span xmlns="" class="perl_Keyword">&gt;</span> 
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;f:selectItems</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"#{themeSelector.themes}"</span><span xmlns="" class="perl_Keyword">/&gt;</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/h:selectOneMenu&gt;</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:commandButton</span><span xmlns="" class="perl_Others"> action=</span><span xmlns="" class="perl_String">"#{themeSelector.select}"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Select Theme"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139690512135904">
      ⁠</a>16.6. Persisting locale and theme preferences via cookies</h1></div></div></div><div class="para">
			The locale selector, theme selector and timezone selector all support persistence of locale and theme preference to a cookie. Simply set the <code class="literal">cookie-enabled</code> property in <code class="filename">components.xml</code>:
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;theme:theme-selector</span><span xmlns="" class="perl_Others"> cookie-enabled=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;theme:available-themes&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>default<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>accessible<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>printable<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/theme:available-themes&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/theme:theme-selector&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;international:locale-selector</span><span xmlns="" class="perl_Others"> cookie-enabled=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
</pre></div></div></body></html>