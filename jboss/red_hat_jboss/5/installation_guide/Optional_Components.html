<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 8. Optional Components</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="Optional_Components">
      ⁠</a>Chapter 8. Optional Components</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm140281222822144">
      ⁠</a>8.1. Web Services Stack</h1></div></div></div><div class="para">
			This release provides two options for the Web Services stack:
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">JBoss Web Services Native</span></dt><dd><div class="para">
						JBoss Web Services Native is the Java EE 5-compliant JBoss implementation of web services standards. It is the only web services stack for versions of JBoss Enterprise Application Platform prior to 5.1, and is the default web services stack in JBoss Enterprise Application Platform 5.
					</div></dd><dt><span class="term">JBoss Web Services CXF</span></dt><dd><div class="para">
						JBoss Web Services CXF provides most of the features available in Apache CXF (including WS-Security, WS-Policy, WS-Addressing, WS-ReliableMessaging, basic WS-Trust, MTOM), plus common JBoss Web Services stack features like endpoint metrics, record management and endpoint address rewrite. JBoss Enterprise Application Platform 5 introduces JBoss Web Services CXF stack as an optional Web Services stack.
					</div></dd></dl></div><div class="para">
			Select which Web Services stack to use during installation. To change the Web Services stack at a later date, reinstall the Platform.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm140281208568624">
      ⁠</a>8.2. PicketLink Federation</h1></div></div></div><div class="para">
			This release includes PicketLink Federation as a supported product.
		</div><div class="para">
			PicketLink Federation brings Identity Federation and Single Sign-on to the Platform, with support for SAML 2.0, WS-Trust 1.3, and XACML 2.0 (via JBossXACML).
		</div><div class="para">
			Refer to the installation sections for PicketLink installation instructions.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Install_Native_Components">
      ⁠</a>8.3. Native Components</h1></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">The Native Components Package</div>
				The Native Components package is an optional component for the JBoss Enterprise Application Platform that incorporates native operating system components and connectors for web servers, including JBoss Native, mod_jk, mod_cluster, NSAPI for Solaris, NSAPI for Oracle iPlanet Web Server, ISAPI for Windows and HornetQ LibAIO Native for Red Hat Enterprise Linux.
			</div><div class="para">
			Installing JBoss Native results in higher server performance, as native operating system code becomes available for the server to optimize tasks.
		</div><div class="para">
			For more information on configuring the web server connectors, refer to the <em class="citetitle">HTTP Connectors Load Balancing Guide</em>.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Native Components Manifest</strong></p><ul><li class="listitem"><div class="para">
					JBoss Native consists of the Apache Portable Runtime (APR), OpenSSL and Tomcat Native (TC-native);
				</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
							<code class="literal">Apache Portable Runtime (APR)</code> provides superior scalability, performance, and improved integration with native server technologies. APR is a highly portable library that is at the heart of Apache HTTP Server 2.x. It enables access to advanced IO functionality (for example: sendfile, epoll and OpenSSL), Operating System level functionality (for example: random number generation and system status), and native process handling (shared memory, NT pipes and Unix sockets).
						</div></li><li class="listitem"><div class="para">
							<code class="literal">OpenSSL</code> implements the Secure Sockets Layer (SSL) and Transport Layer Security (TLS) protocols and includes a basic cryptographic library.
						</div></li><li class="listitem"><div class="para">
							<code class="literal">Tomcat Native (TC-Native)</code> is a Java Native Interface (JNI) that provides much of Tomcat's core functionality in native code rather than Java. This allows for an overall increase in the speed of a server.
						</div></li></ul></div></li><li class="listitem"><div class="para">
					<code class="literal">mod_jk</code> connects the Tomcat JSP container to the Apache webserver, providing load-balancing.
				</div></li><li class="listitem"><div class="para">
					<code class="literal">mod_cluster</code> is an httpd-based load balancer. In contrast to mod_jk, mod_cluster creates a feedback loop between the proxy server and the worker nodes, enabling intelligent load distribution and routing within a load-balancing cluster.
				</div></li><li class="listitem"><div class="para">
					<code class="literal">ISAPI</code> is a connector for the Microsoft IIS web server.
				</div></li><li class="listitem"><div class="para">
					<code class="literal">HornetQ LibAIO</code> is used as a bridge between HornetQ and Linux LibAIO. It is used in HornetQ's high performance journal, when configured.
				</div></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140281199585312">
      ⁠</a>8.3.1. Red Hat Enterprise Linux-specific notes</h2></div></div></div><div class="para">
				Red Hat Enterprise Linux includes some of the Native Components in the base operating system. These include OpenSSL and the Apache Portable Runtime (APR). The Apache Portable Runtime is provided by the packages <code class="filename">apr</code> and <code class="filename">apr-util</code>.
			</div><div class="para">
				If the server is started without the <code class="filename">apr</code> and <code class="filename">apr-util</code> packages installed, a message similar to the following will appear in logs:
			</div><pre class="programlisting">WARN [AprLifecycleListener] The Apache Tomcat Native library which allows optimal performance
  in production environments was not found on the java.library.path:
  /home/eapuser/jboss-eap-5.2/native/lib.
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140281162831104">
      ⁠</a>8.3.2. Hewlett Packard HP-UX-specific notes</h2></div></div></div><div class="para">
				OpenSSL libraries are not provided in the Natives package. Instead the library provided with the operating system is used.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140281162829584">
      ⁠</a>8.3.3. Solaris-specific notes</h2></div></div></div><div class="para">
				Both the 32-bit and 64-bit versions of <code class="filename">jboss-ep-native</code> can be installed on the same machine. The libraries for each are separated by the directories <code class="filename">lib</code> and <code class="filename">lib64</code> respectively and each is automatically loaded depending on the JVM version that is used.
			</div><div class="para">
				To install both 32-bit and 64-bit versions of <code class="filename">jboss-ep-native</code>, use <code class="command">unzip -qo</code>. The <code class="code">-o</code> option ensures that one version of the package does not replace another during the installation.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140281201427040">
      ⁠</a>8.3.4. Native Components Installation</h2></div></div></div><div class="para">
				The following procedure describes installing either the mod_cluster or mod_jk load-balancing modules into JBoss Enterprise Application Platform.
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm140281201425648">
      ⁠</a><p class="title"><strong>Procedure 8.1. Install Native Components from RPM</strong></p><ol class="1"><li class="step"><p class="title"><strong>Subscribe to the JBOSS EAP5 RHN channel</strong></p><div class="orderedlist"><ol><li class="listitem"><div class="para">
								Using a web browser, navigate to <a href="http://access.redhat.com">http://access.redhat.com</a> and log in with your credentials.
							</div></li><li class="listitem"><div class="para">
								View the list of all systems, and find the system on which you have installed the Enterprise Platform. Click to view its subscriptions.
							</div></li><li class="listitem"><div class="para">
								Add the JBoss Application Platform or JBoss EWP channel appropriate to your version of Red Hat Enterprise Linux.
							</div></li></ol></div></li><li class="step"><p class="title"><strong>Install the jboss-eap5-native package</strong></p><div class="para">
						Log into the application server's host system as the root user.
					</div><div class="para">
						Execute the command <code class="code">yum install jboss-eap5-native</code>
					</div></li><li class="step"><p class="title"><strong>Install the mod_cluster-jbossas package</strong></p><div class="para">
						Log into the application server's host system as the root user.
					</div><div class="para">
						Execute the command <code class="code">yum install mod_cluster-jbossas</code>
					</div></li><li class="step"><p class="title"><strong>Optional: Install the mod_jk-ap20 package</strong></p><div class="para">
						Follow this step if you need to use mod_jk instead of mod_cluster.
					</div><div class="para">
						Log into the application server's host system as the root user.
					</div><div class="para">
						Execute the command <code class="code">yum install mod_jk-ap20</code>.
					</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm140281221692992">
      ⁠</a><p class="title"><strong>Procedure 8.2. Install Native Components from ZIP archives</strong></p><div class="para">
					This procedure installs the Native Components for JBoss Enterprise Application Platform.
				</div><div class="para"><div class="title">Prerequisite:</div>
						Install JBoss Enterprise Application Platform via ZIP, RPM, or the Graphical installer before carrying out this procedure. See <a class="xref" href="Installation_Methods.html">Chapter 3, <em>Installation Methods</em></a> for more details.
					</div><ol class="1"><li class="step"><p class="title"><strong>Download software</strong></p><div class="para">
						Refer to <a class="xref" href="Accessing_the_Customer_Service_Portal.html">Appendix A, <em>The Red Hat Customer Portal</em></a> for file download instructions.
					</div><div class="para">
						To install Native Components, choose the Native Components download that corresponds to your operating system and the architecture of your Java Virtual Machine.
					</div></li><li class="step"><p class="title"><strong>Unzip components</strong></p><div class="para">
						Extract the <code class="filename">native</code> directory from the zip file into the <code class="filename">jboss-eap-5.x</code> directory, so that the native directory is at the same directory level as the <code class="filename">jboss-as</code> directory.
					</div><div class="para"><div class="title">Result:</div>
							The Native Components are installed.
						</div></li><li class="step"><p class="title"><strong>Verify installation</strong></p><div class="para">
						During server start up the server will report the presence of the Native libraries:
					</div><pre class="screen">12:12:29,826 INFO [ServerInfo] VM arguments: -Dprogram.name=run.sh -Xms1303m -Xmx1303m
	   -XX:MaxPermSize=256m -Dorg.jboss.resolver.warning=true -Dsun.rmi.dgc.client.gcInterval=3600000
	   -Dsun.rmi.dgc.server.gcInterval=3600000 -Dsun.lang.ClassLoader.allowArraySyntax=true
	   -Djava.protocol.handler.pkgs=org.jboss.handlers.stub -Djava.net.preferIPv4Stack=true
	   -Djava.library.path=/home/eapuser/jboss-eap-5.2/native/lib64
	   -Djava.endorsed.dirs=/home/eapuser/jboss-eap-5.2/jboss-as/lib/endorsed
</pre><div class="para">
						The option <code class="literal">-Djava.library.path=/home/eapuser/jboss-eap-5.2/native/lib64</code> shows that the server is detecting and loading the Native libraries.
					</div></li></ol></div></div></div></div></body></html>