<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 10. Security Configuration</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idm140038254659488">
      ⁠</a>Chapter 10. Security Configuration</h1></div></div></div><div class="para">
		JBoss Messaging makes internal connections between nodes in order to redistribute messages between clustered destinations. These connections are made with the user name of a special reserved user whose password is specified in the property <code class="literal">suckerPassword</code> in the messaging and server configuration files.
	</div><div class="para">
		The suckerPassword used by JBoss Messaging in a clustered environment is contained in the <code class="filename">jboss-as/server/$PROFILE/deploy/messaging/messaging-jboss-beans.xml</code> file and the <code class="filename">messaging-service.xml</code> file. These files contain directives that specify the encrypted <code class="literal">suckerPassword</code>.
	</div><div class="task"><a id="task-Set_SuckerPassword">
      ⁠</a><p class="title"><strong>Changing the Password in <code class="filename">messaging-jboss-beans.xml</code></strong></p><div class="tasksummary"> <div class="para">
		Complete this task to change the distribution placeholder password in <code class="filename">messaging-jboss-beans.xml</code>.
	</div>
	 </div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm140038244350720">
      ⁠</a><p class="title"><strong>Procedure 10.1. Setting suckerPassword for JBoss Messaging</strong></p><ol class="1"><li class="step"><div class="para">
				Navigate to the <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/server/<em class="replaceable">&lt;PROFILE&gt;</em>/deploy/messaging/</code> directory.
			</div></li><li class="step"><div class="para">
				Open the <code class="filename">messaging-jboss-beans.xml</code> file in your preferred text editor.
			</div></li><li class="step"><div class="para">
				Change the <em class="parameter"><code>suckerPassword</code></em> placeholder value from <code class="literal">"CHANGE ME!!"</code> to a plain text password:
			</div><pre class="programlisting">&lt;property name="suckerPassword"&gt;CHANGE ME!!&lt;/property&gt;
</pre><div class="para">
				Make note of the new password; it will be used in the next task.
			</div></li><li class="step"><div class="para">
				Save the file.
			</div></li></ol></div></div><div class="task"><a id="task-Generate_suckerPassword_Encrypted">
      ⁠</a><p class="title"><strong>Creating the encrypted JBoss Messaging suckerPassword</strong></p><div class="tasksummary"> <div class="para">
		Complete this task to create an encrypted suckerPassword using the JBoss Messaging SecurityUtil tool.
	</div>
	 </div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><div class="para">
				In a terminal, change to <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/server/<em class="replaceable">&lt;PROFILE&gt;</em>/deploy/messaging/</code>.
			</div></li><li class="step"><div class="para">
				Run the following command:
			</div><pre class="programlisting"><em class="replaceable">/path/to/java/executable</em> -cp <em class="replaceable">JBOSS_HOME</em>/client/jboss-messaging-client.jar org.jboss.messaging.util.SecurityUtil <em class="replaceable">PLAIN_TEXT_PASSWORD</em></pre></li><li class="step"><div class="para">
				<em class="replaceable">PLAIN_TEXT_PASSWORD</em> is the password you set in <code class="filename">messaging-jboss-beans.xml</code> in the previous task.
			</div><div class="para">
				As an example:
			</div><div class="example"><a id="idm140038192614912">
      ⁠</a><p class="title"><strong>Example 10.1. Test Encrypted Password</strong></p><div class="example-contents"><div class="para">
					Running the following command (from the <code class="filename"><em class="replaceable">JBOSS_HOME</em>/jboss-as/server/$PROFILE/deploy/messaging/</code> directory) ...
				</div><pre class="programlisting"><code class="command">/usr/bin/java -cp ../../../../client/jboss-messaging-client.jar org.jboss.messaging.util.SecurityUtil test</code></pre><div class="para">
					...produced the following encrypted password:
				</div><pre class="screen">key len: 14 length max: 2147483647
Encoded password: 5e2c1ae5a618317
</pre></div></div></li><li class="step"><div class="para">
				Make note of the encrypted password output; it will be used in the next task.
			</div></li></ol></div></div><div class="task"><a id="task-Set_suckerPassword">
      ⁠</a><p class="title"><strong>Specifying an encrypted suckerPassword for JBoss Messaging</strong></p><div class="tasksummary"> <div class="para">
		Complete this task to add an encrypted suckerPassword value to JBoss Messaging configuration files.
	</div>
	 </div><div class="taskprerequisites"><a id="idm140038239225952">
      ⁠</a><p class="title"><strong>Prerequisites</strong></p><div class="taskprerequisites-contents"> 
	 <div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<a class="xref" href="ch10.html#task-Generate_suckerPassword_Encrypted">Creating the encrypted JBoss Messaging suckerPassword</a>
			</div></li><li class="listitem"><div class="para">
				You have a terminal open at the <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/server/<em class="replaceable">&lt;PROFILE&gt;</em>/deploy/messaging/</code> directory.
			</div></li></ul></div>
	 </div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><div class="para">
				In a text editor, open the <code class="filename">messaging-service.xml</code> file.
			</div></li><li class="step"><div class="para">
				Paste the encrypted password from the previous procedure into the <em class="parameter"><code>SuckerPassword</code></em> attribute:
			</div><pre class="programlisting">&lt;attribute name="SuckerPassword"&gt;<em class="replaceable">ENCRYPTED_PASSWORD</em>&lt;/attribute&gt;</pre></li><li class="step"><div class="para">
				Save the <code class="filename">messaging-service.xml</code> file.
			</div></li></ol></div></div></div></body></html>