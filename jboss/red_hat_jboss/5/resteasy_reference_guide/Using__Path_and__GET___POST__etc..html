<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 3. Using @Path and @GET, @POST, etc.</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="Using__Path_and__GET___POST__etc.">
      ⁠</a>Chapter 3. Using @Path and @GET, @POST, etc.</h1></div></div></div><div class="para">
		
<pre class="programlisting">
@Path("/library")
public class Library {

   @GET
   @Path("/books")
   public String getBooks() {...}

   @GET
   @Path("/book/{isbn}")
   public String getBook(@PathParam("isbn") String id) {
      // search my database and get a string representation and return it
   }

   @PUT
   @Path("/book/{isbn}")
   public void addBook(@PathParam("isbn") String id, @QueryParam("name") String name) {...}

   @DELETE
   @Path("/book/{id}")
   public void removeBook(@PathParam("id") String id {...}

   
}
</pre>

	</div><div class="para">
		If you have the RESTEasy Servlet configured and reachable at a root path of <code class="literal">http://myhost.com/services</code>, the requests would be handled by the <code class="literal">Library</code> class:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				GET http://myhost.com/services/library/books
			</div></li><li class="listitem"><div class="para">
				GET http://myhost.com/services/library/book/333
			</div></li><li class="listitem"><div class="para">
				PUT http://myhost.com/services/library/book/333
			</div></li><li class="listitem"><div class="para">
				DELETE http://myhost.com/services/library/book/333
			</div></li></ul></div><div class="para">
		The <code class="literal">@javax.ws.rs.Path</code> annotation must exist on either the class or a resource method, or both. If it exists on both the class and method, the relative path to the resource method is a concatenation of the class and method.
	</div><div class="para">
		The <code class="literal">@javax.ws.rs package</code> contains annotations for each HTTP method. <code class="literal">@GET</code>, <code class="literal">@POST</code>, <code class="literal">@PUT</code>, <code class="literal">@DELETE</code>, and <code class="literal">@HEAD</code>. Place these annotations on public methods that you want to map to the annotation's HTTP method. If a <code class="literal">@Path</code> annotation exists on the class, you do not need to annotate the method you wish to map with <code class="literal">@Path</code>. Multiple HTTP methods can be used, as long as they can be distinguished from other methods.
	</div><div class="para">
		When a method is annotated with <code class="literal">@Path</code> without a HTTP method being applied, the annotated method is referred to as a <code class="literal">JAXRSResourceLocator</code>.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="_Path_and_regular_expression_mappings">
      ⁠</a>3.1. @Path and regular expression mappings</h1></div></div></div><div class="para">
			The <code class="literal">@Path</code> annotation is not limited to simple path expressions. You can also insert regular expressions into the value of <code class="literal">@Path</code>. For example:
		</div><pre class="programlisting">
@Path("/resources)
public class MyResource {

   @GET
   @Path("{var:.*}/stuff")
   public String get() {...}
}
</pre><div class="para">
			The following GETs will route to the <code class="literal">getResource()</code> method:
		</div><pre class="programlisting">
GET /resources/stuff
GET /resources/foo/stuff
GET /resources/on/and/on/stuff
</pre><div class="para">
			The format of the expression is:
		</div><pre class="programlisting">
"{" variable-name [ ":" regular-expression ] "}"
</pre><div class="para">
			Here, <code class="literal">regular-expression</code> is optional. Where this is not provided, the expression defaults to a wildcard matching of one particular segment, like so:
		</div><pre class="programlisting">
"([]*)"
</pre><div class="para">
			For example:
		</div><pre class="programlisting">

@Path("/resources/{var}/stuff")
</pre><div class="para">
			will match these:
		</div><pre class="programlisting">
GET /resources/foo/stuff
GET /resources/bar/stuff
</pre><div class="para">
			but will not match:
		</div><pre class="programlisting">
GET /resources/a/bunch/of/stuff
</pre></div></div></body></html>