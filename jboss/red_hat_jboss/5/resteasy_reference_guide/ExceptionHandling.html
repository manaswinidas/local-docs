<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 24. Exception Handling</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="ExceptionHandling">
      ⁠</a>Chapter 24. Exception Handling</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="ExceptionMappers">
      ⁠</a>24.1. Exception Mappers</h1></div></div></div><div class="para">
			<code class="literal">ExceptionMapper</code>s are custom, application-provided components that can catch application exceptions and write specific HTTP responses. They are associated with <code class="literal">@Provider</code>, and implement the following interface:
		</div><pre class="programlisting">
         package javax.ws.rs.ext;

         import javax.ws.rs.core.Response;

         /**
         * Contract for a provider that maps Java exceptions to
         * {@link javax.ws.rs.core.Response}. An implementation of this interface must
         * be annotated with {@link Provider}.
         *
         * @see Provider
         * @see javax.ws.rs.core.Response
         */
         public interface ExceptionMapper&lt;E&gt;
         {

         /**
         * Map an exception to a {@link javax.ws.rs.core.Response}.
         *
         * @param exception the exception to map to a response
         * @return a response mapped from the supplied exception
         */
         Response toResponse(E exception);
         }
</pre><div class="para">
			When an application throws an exception, the exception is caught by the JAX-RS runtime. JAX-RS then scans registered <code class="literal">ExceptionMapper</code>s to locate one which supports marshalling the exception type thrown. An example <code class="literal">ExceptionMapper</code> follows:
		</div><pre class="programlisting">

         @Provider
         public class EJBExceptionMapper implements ExceptionMapper&lt;javax.ejb.EJBException&gt;
         {

         Response toResponse(EJBException exception) {
         return Response.status(500).build();
         }

         }
</pre><div class="para">
			<code class="literal">ExceptionMapper</code>s are registered in the same way as <code class="literal">MessageBodyReader</code>s and <code class="literal">MessageBodyWriter</code>s: by scanning through the RESTEasy provider <code class="literal">context-param</code> (if you are deploying in a <code class="filename">WAR</code> file), or programmatically through the <code class="literal">ResteasyProviderFactory</code> class.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="builtinException">
      ⁠</a>24.2. RESTEasy Built-in Internally-Thrown Exceptions</h1></div></div></div><div class="para">
			RESTEasy has a set of built-in exceptions that are thrown when an error is encountered during dispatching or marshalling. Each exception matches a specific HTTP error code. The full list is available in the RESTEasy Java Documentation, under the <code class="literal">org.jboss.resteasy.spi</code> package. The following table lists the most common exceptions:
		</div><div class="table"><a id="idm140379131814768">
      ⁠</a><p class="title"><strong>Table 24.1. Common Exceptions</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Common Exceptions"><colgroup><col/><col/><col/></colgroup><thead><tr><th> Exception </th><th> HTTP Code </th><th> Description </th></tr></thead><tbody><tr><td> <code class="exceptionname">BadRequestException</code> </td><td> 400 </td><td> Bad Request. Request was not formatted correctly or there was a problem processing request input. </td></tr><tr><td> <code class="exceptionname">UnauthorizedException</code> </td><td> 401 </td><td> Unauthorized. Security exception thrown if you use RESTEasy's simple annotation- and role-based security. </td></tr><tr><td> <code class="exceptionname">InternalServerError</code> <code class="exceptionname">Exception</code> </td><td> 500 </td><td> Internal Server Error. </td></tr><tr><td> <code class="exceptionname">MethodNotAllowed</code> <code class="exceptionname">Exception</code> </td><td> 405 </td><td> Method Not Allowed. There is no JAX-RS method for the resource that can handle the invoked HTTP operation. </td></tr><tr><td> <code class="exceptionname">NotAcceptableException</code> </td><td> 406 </td><td> Not Acceptable. There is no JAX-RS method that can produce the media types listed in the Accept header. </td></tr><tr><td> <code class="exceptionname">NotFoundException</code> </td><td> 404 </td><td> Not Found. There is no JAX-RS method that serves the request path/resource. </td></tr><tr><td> <code class="exceptionname">Failure</code> </td><td> N/A </td><td> Internal RESTEasy. Not logged. </td></tr><tr><td> <code class="exceptionname">LoggableFailure</code> </td><td> N/A </td><td> Internal RESTEasy error. Logged. </td></tr><tr><td> <code class="exceptionname">DefaultOptionsMethod</code> <code class="exceptionname">Exception</code> </td><td> N/A </td><td> If the user invokes HTTP OPTIONS without a JAX-RS method, RESTEasy provides a default behavior by throwing this exception. </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="overring_resteasy_exceptions">
      ⁠</a>24.3. Overriding Resteasy Builtin Exceptions</h1></div></div></div><div class="para">
			You can override RESTEasy built-in exceptions by writing an <code class="literal">ExceptionMapper</code> for the exception. You can also write an <code class="literal">ExceptionMapper</code> for any exception thrown, including <code class="literal">WebApplicationException</code>.
		</div></div></div></body></html>