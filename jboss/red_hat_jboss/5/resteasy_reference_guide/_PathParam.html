<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 4. @PathParam</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="_PathParam">
      ⁠</a>Chapter 4. @PathParam</h1></div></div></div><div class="para">
		<code class="literal">@PathParam</code> is a parameter annotation which allows you to map variable URI path fragments into your method call.
	</div><pre class="programlisting">
@Path("/library")
public class Library {

   @GET
   @Path("/book/{isbn}")
   public String getBook(@PathParam("isbn") String id) {
      // search my database and get a string representation and return it
   }
}
</pre><div class="para">
		This lets you embed variable identification in the URIs of your resources. The previous example shows an <code class="literal">isbn</code> URI parameter passing information about a particular book we want to access. You can inject into any primitive parameter type, a String, any Java object that takes a String parameter, or a static <code class="literal">valueOf</code> method that takes a String parameter. For example, if we wanted <code class="literal">isbn</code> to be a real object, we could write:
	</div><pre class="programlisting">

   @GET
   @Path("/book/{isbn}")
   public String getBook(@PathParam("isbn") ISBN id) {...}


   public class ISBN {
      public ISBN(String str) {...}
   }

</pre><div class="para">
		Or instead of a public String constructor, we could have a <code class="literal">valueOf</code> method:
	</div><pre class="programlisting">
  public class ISBN {
     
     public static ISBN valueOf(String isbn) {...}
  }
</pre><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Advanced__PathParam_and_Regular_Expressions">
      ⁠</a>4.1. Advanced @PathParam and Regular Expressions</h1></div></div></div><div class="para">
			There are several more complicated uses of <code class="literal">@PathParam</code>s.
		</div><div class="para">
			You are allowed to specify one or more <code class="literal">@PathParam</code>s embedded in one URI segment. For example:
		</div><div class="para">
			
<pre class="programlisting">
1. @Path("/aaa{param}bbb")
2. @Path("/{name}-{zip}")
3. @Path("/foo{name}-{zip}bar")
</pre>

		</div><div class="para">
			So, a URI of the form "/aaa111bbb" would match the first specified parameter. "/bill-02115" would match the second, and "foobill-02115bar" would match the third.
		</div><div class="para">
			In <a class="xref" href="Using__Path_and__GET___POST__etc..html#_Path_and_regular_expression_mappings">Section 3.1, “@Path and regular expression mappings”</a>, we mentioned that regular expressions can be used within <code class="literal">@Path</code> values, like so:
		</div><pre class="programlisting">

@GET
@Path("/aaa{param:b+}/{many:.*}/stuff")
public String getIt(@PathParam("param") String bs, @PathParam("many") String many) {...}

</pre><div class="para">
			With the <code class="literal">@Path</code> defined here, the request <code class="literal">GET /aaabb/some/stuff</code> would have a <code class="literal">"param"</code> value of <code class="literal">bb</code>, and a <code class="literal">"many"</code> value of <code class="literal">some</code>. The request <code class="literal">GET /aaab/a/lot/of/stuff</code> would have a <code class="literal">"param"</code> value of <code class="literal">b</code>, and a <code class="literal">"many"</code> value of <code class="literal">a/lot/of</code>.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="_PathParam_and_PathSegment">
      ⁠</a>4.2. @PathParam and PathSegment</h1></div></div></div><div class="para">
			The specification has a very simple abstraction for examining a fragment of the URI path being invoked on <code class="literal">javax.ws.rs.core.PathSegment</code>:
		</div><pre class="programlisting">

public interface PathSegment {

    /**
     * Get the path segment.
     * &lt;p&gt;
     * @return the path segment
     */
    String getPath();
    /**
     * Get a map of the matrix parameters associated with the path segment
     * @return the map of matrix parameters
     */
    MultivaluedMap&lt;String, String&gt; getMatrixParameters();
    
}

</pre><div class="para">
			RESTEasy can inject a <code class="literal">PathSegment</code> instead of a value with your <code class="literal">@PathParam</code>.
		</div><pre class="programlisting">
   @GET
   @Path("/book/{id}")
   public String getBook(@PathParam("id") PathSegment id) {...}

</pre><div class="para">
			This is particularly useful when you have multiple <code class="literal">@PathParam</code>s that use <span class="emphasis"><em>matrix parameters</em></span>. Matrix parameters are an arbitrary set of name-value pairs embedded in a URI path segment. The <code class="literal">PathSegment</code> object fives you access to these parameters. See <a class="xref" href="_MatrixParam.html">Chapter 7, <em>@MatrixParam</em></a> for further information.
		</div><div class="para">
			An example of a matrix parameter:
		</div><pre class="programlisting">
  GET http://host.com/library/book;name=EJB 3.0;author=Bill Burke
</pre><div class="para">
			A matrix parameter represents a resource that can be addressed by its attributes as well as its raw ID.
		</div></div></div></body></html>