<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 19. JSON Support via Jackson</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="json">
      ⁠</a>Chapter 19. JSON Support via Jackson</h1></div></div></div><div class="para">
		Apart from the Jettison JAXB adapter for JSON, RESTEasy also supports integration with the Jackson project. Many users find Jackson's output format more intuitive than the format provided by either BadgerFish or Jettison.
	</div><div class="para">
		Jackson is available from <a href="http://jackson.codehaus.org">http://jackson.codehaus.org</a>. It lets you easily marshal Java objects to and from JSON. Jackson has a JavaBean-based model and JAXB-like APIs. RESTEasy integrates with the JavaBean model as described <a href="http://jackson.codehaus.org/Tutorial">in the Jackson Tutorial</a>.
	</div><div class="para">
		To include Jackson in your project, add the following Maven dependency to your build:
	</div><pre class="programlisting">
    &lt;repository&gt;
       &lt;id&gt;jboss&lt;/id&gt;
       &lt;url&gt;http://repository.jboss.org/maven2&lt;/url&gt;
    &lt;/repository&gt;

       ...
    &lt;dependency&gt;
       &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;
       &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt;
       &lt;version&gt;1.1.GA&lt;/version&gt;
    &lt;/dependency&gt;
</pre><div class="para">
		RESTEasy expands the JAX-RS integration built into Jackson in several ways. The first expansion provided support for <code class="literal">application/*+json</code>. Previously, Jackson accepted only <code class="literal">application/json</code> and <code class="literal">text/json</code> as valid media types. <code class="literal">application/*+json</code> support lets you marshal your JSON-based media types with Jackson. For example:
	</div><pre class="programlisting">
@Path("/customers")
public class MyService {

   @GET
   @Produces("application/vnd.customer+json")
   public Customer[] getCustomers() {}
}
</pre><div class="para">
		Using RESTEasy JAXB providers alongside Jackson is also problematic. Rather than use Jackson to output your JSON, you can use Jettison and JAXB. To do so, you must either not install the Jackson provider, or use the <code class="literal">@org.jboss.resteasy.annotations.providers.NoJackson</code> annotation on your JAXB annotated classes, like so:
	</div><pre class="programlisting">
    @XmlRootElement
    @NoJackson
    public class Customer {...}

    @Path("/customers")
    public class MyService {

       @GET
       @Produces("application/vnd.customer+json")
       public Customer[] getCustomers() {}
    }
</pre><div class="para">
		If you cannot annotate the JAXB class with <code class="literal">@NoJackson</code>, then you can annotate a method parameter instead:
	</div><pre class="programlisting">

        @XmlRootElement
        public class Customer {...}

        @Path("/customers")
        public class MyService {

           @GET
           @Produces("application/vnd.customer+json")
           @NoJackson
           public Customer[] getCustomers() {}

           @POST
           @Consumes("application/vnd.customer+json")
           public void createCustomer(@NoJackson Customer[] customers) {...}
        }
</pre><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Possible_Jackson_Problems">
      ⁠</a>19.1. Possible Conflict With JAXB Provider</h1></div></div></div><div class="para">
			If your Jackson classes are annotated with JAXB annotations and the <code class="literal">resteasy-jaxb-provider</code> is on your classpath, you can trigger the Jettison JAXB marshalling code. To disable the JAXB JSON Marshaller, annotate your classes with <code class="literal">@org.jboss.resteasy.annotations.providers.jaxb.IgnoreMediaTypes("application/*+json")</code>.
		</div></div></div></body></html>