<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 12. @Encoded and encoding</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="_Encoded_and_encoding">
      ⁠</a>Chapter 12. @Encoded and encoding</h1></div></div></div><div class="para">
		JAX-RS allows you to get encoded or decoded <code class="literal">@<em class="replaceable">*</em>Param</code>s and specify path definitions and parameter names using encoded or decoded strings.
	</div><div class="para">
		The <code class="literal">@javax.ws.rs.Encoded</code> annotation can be used on a class, method, or parameter. By default, injected <code class="literal">@PathParam</code> and <code class="literal">@QueryParam</code> are decoded. Adding the <code class="literal">@Encoded</code> annotation means that the value of these parameters will be provided in encoded form.
	</div><pre class="programlisting">
@Path("/")
public class MyResource {

  @Path("/{param}")
  @GET
  public String get(@PathParam("param") @Encoded String param) {...}
</pre><div class="para">
		In the previous example, the value of the <code class="literal">@PathParam</code> injected into the <code class="literal">param</code> of the <code class="literal">get()</code> method will be URL encoded. Adding the <code class="literal">@Encoded</code> annotation as a parameter annotation triggers this effect.
	</div><div class="para">
		You can also use the <code class="literal">@Encoded</code> annotation on the entire method and any combination of <code class="literal">@QueryParam</code> or <code class="literal">@PathParam</code>'s values will be encoded.
	</div><pre class="programlisting">
@Path("/")
public class MyResource {
  
   @Path("/{param}")
   @GET
   @Encoded
   public String get(@QueryParam("foo") String foo, @PathParam("param") String param) {}
}
</pre><div class="para">
		In this example, the values of the <code class="literal">foo</code> query parameter and the <code class="literal">param</code> path parameter will be injected as encoded values.
	</div><div class="para">
		You can also set the default to be encoded for the entire class.
	</div><pre class="programlisting">
@Path("/")
@Encoded
public class ClassEncoded {
  
   @GET
   public String get(@QueryParam("foo") String foo) {}
}
</pre><div class="para">
		The <code class="literal">@Path</code> annotation has an attribute called <span class="emphasis"><em>encode</em></span>. This controls whether the literal part of the value supplied (that is, the characters that are not part of a template variable) are URL-encoded. If <code class="literal">true</code>, any characters in the URI template that are not valid will be automatically encoded. If <code class="literal">false</code>, then all characters must be valid URI characters. By default, the <code class="literal">encode</code> attribute is set to <code class="literal">true</code>. (You can also encode the characters by hand.)
	</div><pre class="programlisting">
@Path(value="hello%20world", encode=false)
</pre><div class="para">
		As with <code class="literal">@Path.encode()</code>, this controls whether the specified query parameter name should be encoded by the container before it tries to find the query parameter in the request.
	</div><pre class="programlisting">
@QueryParam(value="hello%20world", encode=false)
</pre></div></body></html>