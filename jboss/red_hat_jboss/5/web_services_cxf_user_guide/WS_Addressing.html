<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 4.  WS Addressing</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="WS_Addressing">
      ⁠</a>Chapter 4.  WS Addressing </h1></div></div></div><div class="para">
		CXF provides support for the 2004-08 and 1.0 versions of WS-Addressing. Users can enable WS-Addressing either using the standard JAX-WS approach or using the Apache CXF WS Addressing Feature on their service.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139976639810080">
      ⁠</a>4.1. Using JAX-WS for enabling WS-Addressing</h1></div></div></div><div class="para">
			As per JAX-WS 2.1 specification, users can enable WS-Addressing on a web service endpoint by simply adding the @javax.xml.soap.Addressing annotation.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">test</span>.<span xmlns="" class="perl_Function">ws</span>.<span xmlns="" class="perl_Function">jaxws</span>.<span xmlns="" class="perl_Function">samples</span>.<span xmlns="" class="perl_Function">wsa</span>; 
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.jws.WebService;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.ws.soap.Addressing;</span>
<span xmlns="" class="line">​</span>@WebService
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Addressing</span>(enabled=<span xmlns="" class="perl_Keyword">true</span>, required=<span xmlns="" class="perl_Keyword">true</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> ServiceImpl <span xmlns="" class="perl_Keyword">implements</span> ServiceIface
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">sayHello</span>()
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_String">"Hello World!"</span>;
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>}</pre><div class="para">
			On the client side, WS-Addressing can be explicitly enabled by providing <code class="classname">org.apache.cxf.ws.addressing.WSAddressingFeature</code> when getting the proxy instance from the service:
		</div><pre class="programlisting">
  ServiceIface proxy = (ServiceIface)service.getPort(ServiceIface.class, new AddressingFeature());
proxy.sayHello());
</pre><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm139976640707024">
      ⁠</a>4.1.1. Using CXF proprietary WSAddressingFeature</h2></div></div></div><div class="para">
				To enable WS-Addressing, enable the WSAddressingFeature on your service. If you wish to use XML to configure this, use the following syntax:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jaxws:endpoint</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"{your.service.namespace}YourPortName"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;jaxws:features&gt;</span>
<span xmlns="" class="line">​</span>     <span xmlns="" class="perl_Keyword">&lt;wsa:addressing</span><span xmlns="" class="perl_Others"> xmlns:wsa=</span><span xmlns="" class="perl_String">"http://cxf.apache.org/ws/addressing"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/jaxws:features&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jaxws:endpoint&gt;</span>
</pre><div class="para">
				You can also use the same exact syntax with a &lt;jaxws:client&gt;:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jaxws:client</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"{your.service.namespace}YourPortName"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;jaxws:features&gt;</span>
<span xmlns="" class="line">​</span>     <span xmlns="" class="perl_Keyword">&lt;wsa:addressing</span><span xmlns="" class="perl_Others"> xmlns:wsa=</span><span xmlns="" class="perl_String">"http://cxf.apache.org/ws/addressing"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/jaxws:features&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jaxws:client&gt;</span></pre></div></div></div></body></html>