<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Appendix A. User Script Parameters</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="sid-14352972">
      ⁠</a>Appendix A. User Script Parameters</h1></div></div></div><div class="para">
		Deploying and configuring JBoss Enterprise Application Platform using the User Data field provides for flexibility and ease of management of multiple configurations. The flexibility comes from the use of various parameters which can be used to configure the platform or in the deployment of your custom application.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sid-14352972_AppendixI-UserScriptParameters-PermanentConfigurationParameters">
      ⁠</a>A.1. Permanent Configuration Parameters</h1></div></div></div><div class="para">
			The following parameters can be used to influence the configuration and operation of JBoss Enterprise Application Platform. Their contents are written to /etc/sysconfig/jbossas and /etc/sysconfig/jon-agent-ec2.
		</div><div class="informaltable"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-14-rows"><colgroup><col/><col/><col/></colgroup><thead><tr><th> <div class="para">
							Name
						</div>
						 </th><th> <div class="para">
							Description
						</div>
						 </th><th> <div class="para">
							Default
						</div>
						 </th></tr></thead><tbody><tr><td> <div class="para">
							JBOSS_JGROUPS_S3_PING_ACCESS_KEY
						</div>
						 </td><td> <div class="para">
							Amazon AWS user account access key for S3_PING discovery if clustering is used.
						</div>
						 </td><td> <div class="para">
							N/A
						</div>
						 </td></tr><tr><td> <div class="para">
							JBOSS_JGROUPS_S3_PING_SECRET_ACCESS_KEY
						</div>
						 </td><td> <div class="para">
							Amazon AWS user account secret access key.
						</div>
						 </td><td> <div class="para">
							N/A
						</div>
						 </td></tr><tr><td> <div class="para">
							JBOSS_JGROUPS_S3_PING_BUCKET
						</div>
						 </td><td> <div class="para">
							Amazon S3 bucket to be used for S3_PING discovery.
						</div>
						 </td><td> <div class="para">
							N/A
						</div>
						 </td></tr><tr><td> <div class="para">
							JBOSS_CLUSTER_ID
						</div>
						 </td><td> <div class="para">
							ID of cluster member nodes. Only used for clustering. Accepted values are (in order):
						</div>
						 <div class="itemizedlist"><ul><li class="listitem"><div class="para">
									a valid cluster ID number in the range 0-1023
								</div></li><li class="listitem"><div class="para">
									a network interface name who's IP last octet is used as the value
								</div></li><li class="listitem"><div class="para">
									"S3" as a value would coordinate ID usage through the S3 bucket used for jgroups' S3_PING It's recommended to use the last octet of IP (i.e. the default) when all cluster nodes are located in the same 24 or more bits subnet (for example in a VPC subnet).
								</div></li></ul></div>
						 </td><td> <div class="para">
							Last octet of eth0's IP address.
						</div>
						 </td></tr><tr><td> <div class="para">
							MOD_CLUSTER_PROXY_LIST
						</div>
						 </td><td> <div class="para">
							Comma-delimited list of IPs/hostnames of mod_cluster proxies if mod_cluster is to be used.
						</div>
						 </td><td> <div class="para">
							N/A
						</div>
						 </td></tr><tr><td> <div class="para">
							PORTS_ALLOWED
						</div>
						 </td><td> <div class="para">
							List of incoming ports to be allowed by firewall in addition to the default ones.
						</div>
						 </td><td> <div class="para">
							N/A
						</div>
						 </td></tr><tr><td> <div class="para">
							JBOSSAS_ADMIN_PASSWORD
						</div>
						 </td><td> <div class="para">
							JBoss EAP password for "admin" user.
						</div>
						 </td><td> <div class="para">
							N/A
						</div>
						 </td></tr><tr><td> <div class="para">
							JON_SERVER_ADDR
						</div>
						 </td><td> <div class="para">
							JON server hostname or IP with which to register. This is only used for registration, after that agent may communicate with other servers in the JON cluster.
						</div>
						 </td><td> <div class="para">
							N/A
						</div>
						 </td></tr><tr><td> <div class="para">
							JON_SERVER_PORT
						</div>
						 </td><td> <div class="para">
							Port used by the agent to communicate with the server.
						</div>
						 </td><td> <div class="para">
							7080
						</div>
						 </td></tr><tr><td> <div class="para">
							JON_AGENT_NAME
						</div>
						 </td><td> <div class="para">
							Name of JON agent, must be unique.
						</div>
						 </td><td> <div class="para">
							Instance's ID
						</div>
						 </td></tr><tr><td> <div class="para">
							JON_AGENT_PORT
						</div>
						 </td><td> <div class="para">
							Port that the agent listens on.
						</div>
						 </td><td> <div class="para">
							16163
						</div>
						 </td></tr><tr><td> <div class="para">
							JON_AGENT_ADDR
						</div>
						 </td><td> <div class="para">
							IP address to which the JON agent is to be bound. This is used when the server has more than one public address, e.g. VPN.
						</div>
						 </td><td> <div class="para">
							JON agent chooses the IP of local hostname by default.
						</div>
						 </td></tr><tr><td> <div class="para">
							JON_AGENT_OPTS
						</div>
						 </td><td> <div class="para">
							Additional JON agent system properties which can be used for configuring SSL, NAT and other advanced settings.
						</div>
						 </td><td> <div class="para">
							N/A
						</div>
						 </td></tr><tr><td> <div class="para">
							JBOSSCONF
						</div>
						 </td><td> <div class="para">
							Name of JBoss EAP profile to start. If S3 config is present, then cluster-ec2 profile is used. If MOD_CLUSTER_PROXY_LIST is specified, the mod_cluster-ec2 profile is selected me. If neither of these options are used then the 'default' profile is used.
						</div>
						 </td><td> <div class="para">
							<code class="literal">default</code>, <code class="literal">cluster-ec2</code> or <code class="literal">mod_cluster-ec2</code> depending on the other parameters.
						</div>
						 </td></tr><tr><td> <div class="para">
							JAVA_OPTS
						</div>
						 </td><td> <div class="para">
							Custom values to be added to the variable before JBoss Enterprise Application Platform starts.
						</div>
						 </td><td> <div class="para">
							JAVA_OPTS is built from values of other parameters.
						</div>
						 </td></tr><tr><td> <div class="para">
							JBOSS_IP
						</div>
						 </td><td> <div class="para">
							IP address to which server is to be bound.
						</div>
						 </td><td> <div class="para">
							127.0.0.1
						</div>
						 </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sid-14352972_AppendixI-UserScriptParameters-CustomScript">
      ⁠</a>A.2. Custom Script</h1></div></div></div><div class="para">
			The following parameters can be used in the user customization section of the <span class="guilabel"><strong>User Data:</strong></span> field.
		</div><div class="informaltable"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows"><colgroup><col/><col/></colgroup><tbody><tr><td> <div class="para">
							JBOSS_DEPLOY_DIR
						</div>
						 </td><td> <div class="para">
							Deploy directory of the active profile (e.g. /usr/lib/jbossas/server/cluster-ec2/conf)
						</div>
						 </td></tr><tr><td> <div class="para">
							JBOSS_CONFIG_DIR
						</div>
						 </td><td> <div class="para">
							Config directory of the active profile (e.g. /usr/lib/jbossas/server/cluster-ec2/conf)
						</div>
						 </td></tr><tr><td> <div class="para">
							JBOSSCONF
						</div>
						 </td><td> <div class="para">
							Name of EAP active profile
						</div>
						 </td></tr><tr><td> <div class="para">
							USER_SCRIPT
						</div>
						 </td><td> <div class="para">
							Path to the custom configuration script, which is available prior to sourcing user-data configuration
						</div>
						 </td></tr></tbody></table></div></div></div></body></html>