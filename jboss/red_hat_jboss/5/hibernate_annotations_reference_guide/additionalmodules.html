<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 4. Additional modules</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="additionalmodules">
      ⁠</a>Chapter 4. Additional modules</h1></div></div></div><div class="para">
		Hibernate Annotations mainly focus on persistence metadata. The project also have a nice integration with two Hibernate modules.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm140398633105888">
      ⁠</a>4.1. Hibernate Validator</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140398637767616">
      ⁠</a>4.1.1. Description</h2></div></div></div><div class="para">
				Annotations are a very convenient and elegant way to specify invariant constraints for a domain model. You can, for example, express that a property should never be null, that the account balance should be strictly positive, etc. These domain model constraints are declared in the bean itself by annotating its properties. A validator can then read them and check for constraint violations. The validation mechanism can be executed in different layers in your application without having to duplicate any of these rules (presentation layer, data access layer). Following the DRY principle, Hibernate Validator has been designed for that purpose.
			</div><div class="para">
				Hibernate Validator works at two levels. First, it is able to check in-memory instances of a class for constraint violations. Second, it can apply the constraints to the Hibernate metamodel and incorporate them into the generated database schema.
			</div><div class="para">
				Each constraint annotation is associated to a validator implementation responsible for checking the constraint on the entity instance. A validator can also (optionally) apply the constraint to the Hibernate metamodel, allowing Hibernate to generate DDL that expresses the constraint. With the appropriate event listener, you can execute the checking operation on inserts and updates done by Hibernate. Hibernate Validator is not limited to use with Hibernate. You can easily use it anywhere in your application.
			</div><div class="para">
				When checking instances at runtime, Hibernate Validator returns information about constraint violations in an array of <code class="classname">InvalidValue</code> s. Among other information, the <code class="classname">InvalidValue</code> contains an error description message that can embed the parameter values bundle with the annotation (length limit, for example), and message strings that may be externalized to a <code class="classname">ResourceBundle</code> .
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140398595876720">
      ⁠</a>4.1.2. Integration with Hibernate Annotations</h2></div></div></div><div class="para">
				If Hibernate Validator (<code class="filename">hibernate-validator.jar</code>) is available in the classpath, Hibernate Annotations will integrate in two ways:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						Constraints will be applied to the Data Definition Language. In other words, the database schema will reflect the constraints (provided that you use the hbm2ddl tool).
					</div></li><li class="listitem"><div class="para">
						Before an entity change is applied to the database (insert or update), the entity is validated. Validation errors, if any, will be carried over through an <code class="classname">InvalidStateException</code>.
					</div></li></ul></div><div class="para">
				For entities free of validation rules, the runtime performance cost is null.
			</div><div class="para">
				To disable constraint propagation to DDL, set up <code class="literal">hibernate.validator.apply_to_ddl</code> to false in the configuration file. Such a need is very uncommon and not recommended.
			</div><div class="para">
				To disable pre-entity change validation, set up <code class="literal">hibernate.validator.autoregister_listeners</code> to false in the configuration file. Such a need is very uncommon and not recommended.
			</div><div class="para">
				Check the Hibernate Validator reference documentation for more information.
			</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm140398656812800">
      ⁠</a>4.2. Hibernate Search</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140398644903744">
      ⁠</a>4.2.1. Description</h2></div></div></div><div class="para">
				Full text search engines like <span class="productname">Apache Lucene</span> are a very powerful technology to bring free text/efficient queries to applications. If suffers several mismatches when dealing with a object domain model (keeping the index up to date, mismatch between the index structure and the domain model, querying mismatch...) Hibernate Search indexes your domain model thanks to a few annotations, takes care of the database / index synchronization and brings you back regular managed objects from free text queries. Hibernate Search is using <a href="http://lucene.apache.org">Apache Lucene</a> under the cover.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140398633021376">
      ⁠</a>4.2.2. Integration with Hibernate Annotations</h2></div></div></div><div class="para">
				Hibernate Search integrates with Hibernate Annotations transparently provided that hibernate-search.jar is present in the classpath. If you do not wish to automatically register Hibernate Search event listeners, you can set <code class="literal">hibernate.search.autoregister_listeners</code> to false. Such a need is very uncommon and not recommended.
			</div><div class="para">
				Check the Hibernate Search reference documentation for more information.
			</div></div></div></div></body></html>