<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 20. Toolset Guide</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="toolsetguide">
      ⁠</a>Chapter 20. Toolset Guide</h1></div></div></div><div class="para">
		Roundtrip engineering with Hibernate is possible using a set of Eclipse plug-ins, command line tools, and Ant tasks.
	</div><div class="para">
		<span class="emphasis"><em>Hibernate Tools</em></span> currently include plug-ins for the Eclipse IDE as well as Ant tasks for reverse engineering of existing databases:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<span class="emphasis"><em>Mapping Editor:</em></span> an editor for Hibernate XML mapping files that supports auto-completion and syntax highlighting. It also supports semantic auto-completion for class names and property/field names, making it more versatile than a normal XML editor.
			</div></li><li class="listitem"><div class="para">
				<span class="emphasis"><em>Console:</em></span> the console is a new view in Eclipse. In addition to a tree overview of your console configurations, you are also provided with an interactive view of your persistent classes and their relationships. The console allows you to execute HQL queries against your database and browse the result directly in Eclipse.
			</div></li><li class="listitem"><div class="para">
				<span class="emphasis"><em>Development Wizards:</em></span> several wizards are provided with the Hibernate Eclipse tools. You can use a wizard to quickly generate Hibernate configuration (cfg.xml) files, or to reverse engineer an existing database schema into POJO source files and Hibernate mapping files. The reverse engineering wizard supports customizable templates.
			</div></li><li class="listitem"><div class="para">
				
			</div></li></ul></div><div class="para">
		Please refer to the <span class="emphasis"><em>Hibernate Tools</em></span> package documentation for more information.
	</div><div class="para">
		However, the Hibernate main package comes bundled with an integrated tool: <span class="emphasis"><em>SchemaExport</em></span> aka <code class="literal">hbm2ddl</code>. It can even be used from "inside" Hibernate.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="toolsetguide-s1">
      ⁠</a>20.1. Automatic schema generation</h1></div></div></div><div class="para">
			DDL can be generated from your mapping files by a Hibernate utility. The generated schema includes referential integrity constraints, primary and foreign keys, for entity and collection tables. Tables and sequences are also created for mapped identifier generators.
		</div><div class="para">
			You <span class="emphasis"><em>must</em></span> specify a SQL <code class="literal">Dialect</code> via the <code class="literal">hibernate.dialect</code> property when using this tool, as DDL is highly vendor-specific.
		</div><div class="para">
			First, you must customize your mapping files to improve the generated schema. The next section covers schema customization.
		</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="toolsetguide-s1-2">
      ⁠</a>20.1.1. Customizing the schema</h2></div></div></div><div class="para">
				Many Hibernate mapping elements define optional attributes named <code class="literal">length</code>, <code class="literal">precision</code> and <code class="literal">scale</code>. You can set the length, precision and scale of a column with this attribute.
			</div><pre class="programlisting">&lt;property name="zip" length="5"/&gt;</pre><pre class="programlisting">&lt;property name="balance" precision="12" scale="2"/&gt;</pre><div class="para">
				Some tags also accept a <code class="literal">not-null</code> attribute for generating a <code class="literal">NOT NULL</code> constraint on table columns, and a <code class="literal">unique</code> attribute for generating <code class="literal">UNIQUE</code> constraint on table columns.
			</div><pre class="programlisting">&lt;many-to-one name="bar" column="barId" not-null="true"/&gt;</pre><pre class="programlisting">&lt;element column="serialNumber" type="long" not-null="true" unique="true"/&gt;</pre><div class="para">
				A <code class="literal">unique-key</code> attribute can be used to group columns in a single, unique key constraint. Currently, the specified value of the <code class="literal">unique-key</code> attribute is <span class="emphasis"><em>not</em></span> used to name the constraint in the generated DDL. It is only used to group the columns in the mapping file.
			</div><pre class="programlisting">&lt;many-to-one name="org" column="orgId" unique-key="OrgEmployeeId"/&gt;
&lt;property name="employeeId" unique-key="OrgEmployee"/&gt;</pre><div class="para">
				An <code class="literal">index</code> attribute specifies the name of an index that will be created using the mapped column or columns. Multiple columns can be grouped into the same index by simply specifying the same index name.
			</div><pre class="programlisting">&lt;property name="lastName" index="CustName"/&gt;
&lt;property name="firstName" index="CustName"/&gt;</pre><div class="para">
				A <code class="literal">foreign-key</code> attribute can be used to override the name of any generated foreign key constraint.
			</div><pre class="programlisting">&lt;many-to-one name="bar" column="barId" foreign-key="FKFooBar"/&gt;</pre><div class="para">
				Many mapping elements also accept a child <code class="literal">&lt;column&gt;</code> element. This is particularly useful for mapping multi-column types:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"name"</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">"my.customtypes.Name"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;column</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"last"</span><span xmlns="" class="perl_Others"> not-null=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Others"> index=</span><span xmlns="" class="perl_String">"bar_idx"</span><span xmlns="" class="perl_Others"> length=</span><span xmlns="" class="perl_String">"30"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;column</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"first"</span><span xmlns="" class="perl_Others"> not-null=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Others"> index=</span><span xmlns="" class="perl_String">"bar_idx"</span><span xmlns="" class="perl_Others"> length=</span><span xmlns="" class="perl_String">"20"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;column</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"initial"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">&lt;</span>/property&gt;</pre><div class="para">
				The <code class="literal">default</code> attribute allows you to specify a default value for a column.You should assign the same value to the mapped property before saving a new instance of the mapped class.
			</div><pre class="programlisting">&lt;property name="credits" type="integer" insert="false"&gt;
    &lt;column name="credits" default="10"/&gt;
&lt;/property&gt;</pre><pre class="programlisting">&lt;version name="version" type="integer" insert="false"&gt;
    &lt;column name="version" default="0"/&gt;
&lt;/property&gt;</pre><div class="para">
				The <code class="literal">sql-type</code> attribute allows the user to override the default mapping of a Hibernate type to SQL datatype.
			</div><pre class="programlisting">&lt;property name="balance" type="float"&gt;
    &lt;column name="balance" sql-type="decimal(13,3)"/&gt;
&lt;/property&gt;</pre><div class="para">
				The <code class="literal">check</code> attribute allows you to specify a check constraint.
			</div><pre class="programlisting">&lt;property name="foo" type="integer"&gt;
    &lt;column name="foo" check="foo &gt; 10"/&gt;
&lt;/property&gt;</pre><pre class="programlisting">&lt;class name="Foo" table="foos" check="bar &lt; 100.0"&gt;
    ...
    &lt;property name="bar" type="float"/&gt;
&lt;/class&gt;</pre><div class="para">
				The following table summarizes these optional attributes.
			</div><div class="table"><a id="schemattributes-summary">
      ⁠</a><p class="title"><strong>Table 20.1. Summary</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Summary"><colgroup><col width="33%"/><col width="33%"/><col width="33%"/></colgroup><thead><tr><th> Attribute </th><th> Values </th><th> Interpretation </th></tr></thead><tbody><tr><td> <code class="literal">length</code> </td><td> number </td><td> column length </td></tr><tr><td> <code class="literal">precision</code> </td><td> number </td><td> column decimal precision </td></tr><tr><td> <code class="literal">scale</code> </td><td> number </td><td> column decimal scale </td></tr><tr><td> <code class="literal">not-null</code> </td><td> <code class="literal">true|false</code> </td><td> specifies that the column should be non-nullable </td></tr><tr><td> <code class="literal">unique</code> </td><td> <code class="literal">true|false</code> </td><td> specifies that the column should have a unique constraint </td></tr><tr><td> <code class="literal">index</code> </td><td> <code class="literal">index_name</code> </td><td> specifies the name of a (multi-column) index </td></tr><tr><td> <code class="literal">unique-key</code> </td><td> <code class="literal">unique_key_name</code> </td><td> specifies the name of a multi-column unique constraint </td></tr><tr><td> <code class="literal">foreign-key</code> </td><td> <code class="literal">foreign_key_name</code> </td><td> specifies the name of the foreign key constraint generated for an association, for a <code class="literal">&lt;one-to-one&gt;</code>, <code class="literal">&lt;many-to-one&gt;</code>, <code class="literal">&lt;key&gt;</code>, or <code class="literal">&lt;many-to-many&gt;</code> mapping element. Note that <code class="literal">inverse="true"</code> sides will not be considered by <code class="literal">SchemaExport</code>. </td></tr><tr><td> <code class="literal">sql-type</code> </td><td> <code class="literal">SQL column type</code> </td><td> overrides the default column type (attribute of <code class="literal">&lt;column&gt;</code> element only) </td></tr><tr><td> <code class="literal">default</code> </td><td> SQL expression </td><td> specify a default value for the column </td></tr><tr><td> <code class="literal">check</code> </td><td> SQL expression </td><td> create an SQL check constraint on either column or table </td></tr></tbody></table></div></div><div class="para">
				The <code class="literal">&lt;comment&gt;</code> element allows you to specify comments for the generated schema.
			</div><pre class="programlisting">&lt;class name="Customer" table="CurCust"&gt;
    &lt;comment&gt;Current customers only&lt;/comment&gt;
    ...
&lt;/class&gt;</pre><pre class="programlisting">&lt;property name="balance"&gt;
    &lt;column name="bal"&gt;
        &lt;comment&gt;Balance in USD&lt;/comment&gt;
    &lt;/column&gt;
&lt;/property&gt;</pre><div class="para">
				This results in a <code class="literal">comment on table</code> or <code class="literal">comment on column</code> statement in the generated DDL where supported.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="toolsetguide-s1-3">
      ⁠</a>20.1.2. Running the tool</h2></div></div></div><div class="para">
				The <code class="literal">SchemaExport</code> tool writes a DDL script to standard out and/or executes the DDL statements.
			</div><div class="para">
				The following table displays the <code class="literal">SchemaExport</code> command line options
			</div><div class="para">
				<code class="literal">java -cp </code><span class="emphasis"><em>hibernate_classpaths</em></span> <code class="literal">org.hibernate.tool.hbm2ddl.SchemaExport</code> <span class="emphasis"><em>options mapping_files</em></span>
			</div><div class="table"><a id="idm140554830384384">
      ⁠</a><p class="title"><strong>Table 20.2. <code class="literal">SchemaExport</code> Command Line Options</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="SchemaExport Command Line Options"><colgroup><col width="33%"/><col width="67%"/></colgroup><thead><tr><th> Option </th><th> Description </th></tr></thead><tbody><tr><td> <code class="literal">--quiet</code> </td><td> do not output the script to stdout </td></tr><tr><td> <code class="literal">--drop</code> </td><td> only drop the tables </td></tr><tr><td> <code class="literal">--create</code> </td><td> only create the tables </td></tr><tr><td> <code class="literal">--text</code> </td><td> do not export to the database </td></tr><tr><td> <code class="literal">--output=my_schema.ddl</code> </td><td> output the ddl script to a file </td></tr><tr><td> <code class="literal">--naming=eg.MyNamingStrategy</code> </td><td> select a <code class="literal">NamingStrategy</code> </td></tr><tr><td> <code class="literal">--config=hibernate.cfg.xml</code> </td><td> read Hibernate configuration from an XML file </td></tr><tr><td> <code class="literal">--properties=hibernate.properties</code> </td><td> read database properties from a file </td></tr><tr><td> <code class="literal">--format</code> </td><td> format the generated SQL nicely in the script </td></tr><tr><td> <code class="literal">--delimiter=;</code> </td><td> set an end of line delimiter for the script </td></tr></tbody></table></div></div><div class="para">
				You can even embed <code class="literal">SchemaExport</code> in your application:
			</div><pre class="programlisting">Configuration cfg = ....;
new SchemaExport(cfg).create(false, true);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="toolsetguide-s1-4">
      ⁠</a>20.1.3. Properties</h2></div></div></div><div class="para">
				Database properties can be specified:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						as system properties with <code class="literal">-D</code><span class="emphasis"><em>&lt;property&gt;</em></span>
					</div></li><li class="listitem"><div class="para">
						in <code class="literal">hibernate.properties</code>
					</div></li><li class="listitem"><div class="para">
						in a named properties file with <code class="literal">--properties</code>
					</div></li></ul></div><div class="para">
				The needed properties are:
			</div><div class="table"><a id="idm140554770453216">
      ⁠</a><p class="title"><strong>Table 20.3. SchemaExport Connection Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="SchemaExport Connection Properties"><colgroup><col width="33%"/><col width="67%"/></colgroup><thead><tr><th> Property Name </th><th> Description </th></tr></thead><tbody><tr><td> <code class="literal">hibernate.connection.driver_class</code> </td><td> jdbc driver class </td></tr><tr><td> <code class="literal">hibernate.connection.url</code> </td><td> jdbc url </td></tr><tr><td> <code class="literal">hibernate.connection.username</code> </td><td> database user </td></tr><tr><td> <code class="literal">hibernate.connection.password</code> </td><td> user password </td></tr><tr><td> <code class="literal">hibernate.dialect</code> </td><td> dialect </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="toolsetguide-s1-5">
      ⁠</a>20.1.4. Using Ant</h2></div></div></div><div class="para">
				You can call <code class="literal">SchemaExport</code> from your Ant build script:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;target</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"schemaexport"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;taskdef</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"schemaexport"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        classname=</span><span xmlns="" class="perl_String">"org.hibernate.tool.hbm2ddl.SchemaExportTask"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        classpathref=</span><span xmlns="" class="perl_String">"class.path"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;schemaexport</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        properties=</span><span xmlns="" class="perl_String">"hibernate.properties"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        quiet=</span><span xmlns="" class="perl_String">"no"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        text=</span><span xmlns="" class="perl_String">"no"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        drop=</span><span xmlns="" class="perl_String">"no"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        delimiter=</span><span xmlns="" class="perl_String">";"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        output=</span><span xmlns="" class="perl_String">"schema-export.sql"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;fileset</span><span xmlns="" class="perl_Others"> dir=</span><span xmlns="" class="perl_String">"src"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;include</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"**/*.hbm.xml"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/fileset&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/schemaexport&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/target&gt;</span></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="toolsetguide-s1-6">
      ⁠</a>20.1.5. Incremental schema updates</h2></div></div></div><div class="para">
				The <code class="literal">SchemaUpdate</code> tool will update an existing schema with "incremental" changes. The <code class="literal">SchemaUpdate</code> depends upon the JDBC metadata API and, as such, will not work with all JDBC drivers.
			</div><div class="para">
				<code class="literal">java -cp </code><span class="emphasis"><em>hibernate_classpaths</em></span> <code class="literal">org.hibernate.tool.hbm2ddl.SchemaUpdate</code> <span class="emphasis"><em>options mapping_files</em></span>
			</div><div class="table"><a id="idm140554839773136">
      ⁠</a><p class="title"><strong>Table 20.4. <code class="literal">SchemaUpdate</code> Command Line Options</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="SchemaUpdate Command Line Options"><colgroup><col width="33%"/><col width="67%"/></colgroup><thead><tr><th> Option </th><th> Description </th></tr></thead><tbody><tr><td> <code class="literal">--quiet</code> </td><td> do not output the script to stdout </td></tr><tr><td> <code class="literal">--text</code> </td><td> do not export the script to the database </td></tr><tr><td> <code class="literal">--naming=eg.MyNamingStrategy</code> </td><td> select a <code class="literal">NamingStrategy</code> </td></tr><tr><td> <code class="literal">--properties=hibernate.properties</code> </td><td> read database properties from a file </td></tr><tr><td> <code class="literal">--config=hibernate.cfg.xml</code> </td><td> specify a <code class="literal">.cfg.xml</code> file </td></tr></tbody></table></div></div><div class="para">
				You can embed <code class="literal">SchemaUpdate</code> in your application:
			</div><pre class="programlisting">Configuration cfg = ....;
new SchemaUpdate(cfg).execute(false);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="toolsetguide-s1-7">
      ⁠</a>20.1.6. Using Ant for incremental schema updates</h2></div></div></div><div class="para">
				You can call <code class="literal">SchemaUpdate</code> from the Ant script:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;target</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"schemaupdate"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;taskdef</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"schemaupdate"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        classname=</span><span xmlns="" class="perl_String">"org.hibernate.tool.hbm2ddl.SchemaUpdateTask"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        classpathref=</span><span xmlns="" class="perl_String">"class.path"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;schemaupdate</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        properties=</span><span xmlns="" class="perl_String">"hibernate.properties"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        quiet=</span><span xmlns="" class="perl_String">"no"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;fileset</span><span xmlns="" class="perl_Others"> dir=</span><span xmlns="" class="perl_String">"src"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;include</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"**/*.hbm.xml"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/fileset&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/schemaupdate&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/target&gt;</span></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="toolsetguide-s1-8">
      ⁠</a>20.1.7. Schema validation</h2></div></div></div><div class="para">
				The <code class="literal">SchemaValidator</code> tool will validate that the existing database schema "matches" your mapping documents. The <code class="literal">SchemaValidator</code> depends heavily upon the JDBC metadata API and, as such, will not work with all JDBC drivers. This tool is extremely useful for testing.
			</div><div class="para">
				<code class="literal">java -cp </code><span class="emphasis"><em>hibernate_classpaths</em></span> <code class="literal">org.hibernate.tool.hbm2ddl.SchemaValidator</code> <span class="emphasis"><em>options mapping_files</em></span>
			</div><div class="para">
				The following table displays the <code class="literal">SchemaValidator</code> command line options:
			</div><div class="table"><a id="idm140554825925168">
      ⁠</a><p class="title"><strong>Table 20.5. <code class="literal">SchemaValidator</code> Command Line Options</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="SchemaValidator Command Line Options"><colgroup><col width="33%"/><col width="67%"/></colgroup><thead><tr><th> Option </th><th> Description </th></tr></thead><tbody><tr><td> <code class="literal">--naming=eg.MyNamingStrategy</code> </td><td> select a <code class="literal">NamingStrategy</code> </td></tr><tr><td> <code class="literal">--properties=hibernate.properties</code> </td><td> read database properties from a file </td></tr><tr><td> <code class="literal">--config=hibernate.cfg.xml</code> </td><td> specify a <code class="literal">.cfg.xml</code> file </td></tr></tbody></table></div></div><div class="para">
				You can embed <code class="literal">SchemaValidator</code> in your application:
			</div><pre class="programlisting">Configuration cfg = ....;
new SchemaValidator(cfg).validate();</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="toolsetguide-s1-9">
      ⁠</a>20.1.8. Using Ant for schema validation</h2></div></div></div><div class="para">
				You can call <code class="literal">SchemaValidator</code> from the Ant script:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;target</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"schemavalidate"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;taskdef</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"schemavalidator"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        classname=</span><span xmlns="" class="perl_String">"org.hibernate.tool.hbm2ddl.SchemaValidatorTask"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        classpathref=</span><span xmlns="" class="perl_String">"class.path"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;schemavalidator</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        properties=</span><span xmlns="" class="perl_String">"hibernate.properties"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;fileset</span><span xmlns="" class="perl_Others"> dir=</span><span xmlns="" class="perl_String">"src"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;include</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"**/*.hbm.xml"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/fileset&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/schemavalidator&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/target&gt;</span></pre></div></div></div></body></html>