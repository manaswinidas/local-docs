<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 13. Tools</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idm140019147051136">
      ⁠</a>Chapter 13. Tools</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm140019149940224">
      ⁠</a>13.1. Introduction</h1></div></div></div><div class="para">
			This chapter explains how to start and use the tools framework and discusses the available tools.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm140019146080800">
      ⁠</a>13.2. Starting the Transaction Service tools</h1></div></div></div><div class="para">
			To start the JBoss Transaction Service tools, refer to the section below for your operating system.
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Windows</span></dt><dd><div class="para">
						Double-click the <span class="guilabel"><strong>Start Tools</strong></span> link in the JBoss Transaction Service program group in the <span class="guilabel"><strong>Start</strong></span> menu.
					</div></dd><dt><span class="term">Linux and UNIX-like Operating Systems</span></dt><dd><div class="para">
						At the command line, type <strong class="userinput"><code><em class="replaceable">$JBOSS_HOME</em>/run-tools.sh</code></strong>
					</div></dd></dl></div><div class="para">
			The Tools window which appears is the launch area for all of the tools shipped with the JBoss Transaction Service. A menu bar is at the top of the Tools window, and contains the following four items:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="ch13.html#file-menu">Section 13.2.1, “<span class="guimenu"><strong>File</strong></span> Menu”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="ch13.html#performance-menu">Section 13.2.2, “<span class="guimenu"><strong>Performance</strong></span> Menu”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="ch13.html#window-menu">Section 13.2.3, “<span class="guimenu"><strong>Window</strong></span> Menu”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="ch13.html#help-menu">Section 13.2.4, “<span class="guimenu"><strong>Help</strong></span> Menu”</a>
				</div></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="file-menu">
      ⁠</a>13.2.1. <span class="guimenu"><strong>File</strong></span> Menu</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Open JMX Browser</span></dt><dd><div class="para">
							Displays the JMX browser window 

						</div></dd><dt><span class="term">Open Object Store Browser </span></dt><dd><div class="para">
							Displays the Object Store browser window 

						</div></dd><dt><span class="term">Settings</span></dt><dd><div class="para">
							Displays the settings dialog used to configure JBoss Transaction Service tools
						</div></dd><dt><span class="term">Exit</span></dt><dd><div class="para">
							Exits the JBoss Transaction Service Tools application, discarding any unsaved changes.
						</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="performance-menu">
      ⁠</a>13.2.2. <span class="guimenu"><strong>Performance</strong></span> Menu</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Open</span></dt><dd><div class="para">
							Opens a performance window. Refer to <a class="xref" href="ch13.html#Performance_Tool">Section 13.3, “Using the Performance Tool”</a> for more information on the performance tool.
						</div></dd><dt><span class="term">Close All</span></dt><dd><div class="para">
							Closes all open performance windows.
						</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="window-menu">
      ⁠</a>13.2.3. <span class="guimenu"><strong>Window</strong></span> Menu</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Cascade Windows</span></dt><dd><div class="para">
							Arranges the windows in a diagonal stack, leaving all the title bars visible.
						</div></dd><dt><span class="term">List of Individual Windows</span></dt><dd><div class="para">
							For each window currently visible, an extra menu option is shown When selected, it focuses the associated window.
						</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="help-menu">
      ⁠</a>13.2.4. <span class="guimenu"><strong>Help</strong></span> Menu</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">About</span></dt><dd><div class="para">
							Displays information about the product, version, authors, and licensing.
						</div></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Performance_Tool">
      ⁠</a>13.3. Using the Performance Tool</h1></div></div></div><div class="para">
			The performance tool displays performance information about the transaction service. This information is gathered using the Performance JMX bean, so the transaction service needs to be integrated into an Application Server to give any performance information.
		</div><div class="para">
			The information is displayed using a multi-series graph. To view this graph, open a performance window by selecting <span class="guimenu"><strong>Performance</strong></span><span class="guimenuitem"><strong>Open</strong></span>.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Items Displayed in the Performance Tool Graph</strong></p><ul><li class="listitem"><div class="para">
					Number of transactions.
				</div></li><li class="listitem"><div class="para">
					Number of committed transactions.
				</div></li><li class="listitem"><div class="para">
					Number of aborted transactions.
				</div></li><li class="listitem"><div class="para">
					Number of nested transactions.
				</div></li><li class="listitem"><div class="para">
					Number of heuristics raised.
				</div></li></ul></div><div class="para">
			To toggle these series on and off, select the menu option from the <span class="guilabel"><strong>Series</strong></span> menu.
		</div><div class="para">
			If a series is active, it appears in the legend at the bottom of the graph, along with its color in the graph.
		</div><div class="para">
			The Y-axis represents the number of transactions and the X-axis represents time.
		</div><div class="para">
			At any point the sampling of data can be stopped and restarted using the <span class="guimenu"><strong>Sampling</strong></span> menu and the data currently visible in the graph can be saved to a Comma Separate Values (CSV) file for importing the data into a spreadsheet application using the <span class="guimenu"><strong>Save to .csv</strong></span> menu option from the <span class="guimenu"><strong>Data</strong></span> menu.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="JMX_Browser">
      ⁠</a>13.4. Using the JMX Browser</h1></div></div></div><div class="para">
			To open the JMX browser window, choose <span class="guimenu"><strong>File</strong></span><span class="guimenu"><strong>Open JMX Browser</strong></span> option.
		</div><div class="para">
			The window consists of the MBean panel and the Details panel. The MBean panel displays the MBeans exposed by the MBean server, grouped by domain name. The Details panel displays information about the currently selected MBean. To select an MBean, click it with the mouse.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Information Displayed in the Details Panel</strong></p><ul><li class="listitem"><div class="para">
					The total number of MBeans registered on this server.
				</div></li><li class="listitem"><div class="para">
					The number of constructors exposed by this MBean.
				</div></li><li class="listitem"><div class="para">
					The number of attributes exposed by this MBean.
				</div></li><li class="listitem"><div class="para">
					The number of operations exposed by this MBean.
				</div></li><li class="listitem"><div class="para">
					The number of notifications exposed by this MBean.
				</div></li><li class="listitem"><div class="para">
					A brief description of the MBean.
				</div></li></ul></div><div class="para">
			A link to the <span class="guimenu"><strong>View</strong></span> menu enables display of the attributes and operations exposed by the MBean. You can view readable attributes, alter writeable attributes and invoke operations.
		</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Using_Attributes_and_Operations">
      ⁠</a>13.4.1. Using Attributes and Operations</h2></div></div></div><div class="para">
				Clicking the <span class="guimenu"><strong>View</strong></span> link displays the View JMX Attributes and Operations window. Use this window to view all readable attributes exposed by the selected MBean, and alter writeable attributes. To alter an attribute's value, double-click the current value and enter the new value. If the <span class="guibutton"><strong>...</strong></span> button is enabled, click it to enable an advanced editor. If the attribute is a JMX object name, clicking this button displays the JMX attributes and operations for that object.
			</div><div class="para">
				At any point, you can click the <span class="guibutton"><strong>Refresh</strong></span> button to refresh the attribute values. If an exception occurs while retrieving the value of an attribute, the exception is displayed in place of the attributes value.
			</div><div class="para">
				You can also invoke operations upon an MBean, by selecting them from the list of operations, which is displayed below the attributes list, and clicking the <span class="guibutton"><strong>Invoke</strong></span> button. If the operation requires parameters a further window will be displayed, from this window you must specify values for each of the parameters required. You specify parameter values in the same way as you specify JMX attribute values. Once you have specified a value for each of the parameters click the <span class="guibutton"><strong>Invoke</strong></span> button to perform the invocation. After the invocation has completed, its return value is displayed.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Using_the_Object_Store_Browser">
      ⁠</a>13.4.2. Using the Object Store Browser</h2></div></div></div><div class="para">
				To open the Object Store browser window, click the <span class="guimenu"><strong>File</strong></span><span class="guimenu"><strong>Open Object Store Browser</strong></span> option.
			</div><div class="para">
				The object store browser window is split into four sections:
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Object Store Roots</span></dt><dd><div class="para">
							A drop-down list of the currently-available object store roots. Selecting an option from the list repopulates the hierarchy view with the contents of the selected root.
						</div></dd><dt><span class="term">Object Store Hierarchy</span></dt><dd><div class="para">
							A tree showing the current object store hierarchy. Selecting a node from this tree displays the objects stored in that location.
						</div></dd><dt><span class="term">Objects</span></dt><dd><div class="para">
							A list of icons representing the objects stored in the selected location.
						</div></dd><dt><span class="term">Object Details</span></dt><dd><div class="para">
							Information about the currently selected object, only displayed if the object’s type is known to the state viewer repository. Refer to <a class="xref" href="ch13.html#writing-an-osv">Section 13.4.3.1, “Writing an OSV”</a> to ensure that your object will be displayed properly.
						</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Object_State_Viewers">
      ⁠</a>13.4.3. Object State Viewers (OSV)</h2></div></div></div><div class="para">
				When an object is selected in the <span class="guilabel"><strong>Objects</strong></span> pane of the main window, the registered <em class="firstterm">Object State Viewer (OSV)</em> for the object's type is invoked. An OSV makes information about the selected object available via the user interface. An OSV for Atomic Actions (transactions) is distributed with the standard tools. It displays information on the Abstract Records in its lists of methods, such as heuristic, failed, read-only, and others. You can write your own OSVs to display information about object types you have defined.
			</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="writing-an-osv">
      ⁠</a>13.4.3.1. Writing an OSV</h3></div></div></div><div class="para">
					You can write an OSV plug-in so that the Object Store browser can show the state of user-defined abstract records. An OSV plug-in is a class which implements the <code class="interfacename">com.arjuna.ats.tools.objectstorebrowser.stateviewers.StateViewerInterface</code> interface.
				</div><div class="para">
					It must be packaged in a JAR within the <code class="filename">plugins/</code> directory. The example at <a class="xref" href="ch13.html#example-create-osv-plugin">Example 13.1, “<code class="classname">AbstractRecord</code> Class”</a> creates an OSV plug-in for the <code class="classname">AbstractRecord</code> class.
				</div><div class="example"><a id="example-create-osv-plugin">
      ⁠</a><p class="title"><strong>Example 13.1. <code class="classname">AbstractRecord</code> Class</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> SimpleRecord <span xmlns="" class="perl_Keyword">extends</span> AbstractRecord
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">int</span> _value = <span xmlns="" class="perl_Float">0</span>;
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  .....
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">increase</span>()
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  _value++;
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">int</span> <span xmlns="" class="perl_Function">get</span>()
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">return</span> _value;
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> String type()
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">return</span> “/StateManager/AbstractRecord/SimpleRecord”;
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">restore_state</span>(InputObjectState os, <span xmlns="" class="perl_DataType">int</span> i)
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_DataType">boolean</span> returnValue = <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">try</span>
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  _value = os.<span xmlns="" class="perl_Function">unpackInt</span>();
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">catch</span> (java.<span xmlns="" class="perl_Function">io</span>.<span xmlns="" class="perl_Function">IOException</span> e)
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  returnValue = <span xmlns="" class="perl_Keyword">false</span>;
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">return</span> returnValue;
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">save_state</span>(OutputObjectState os, <span xmlns="" class="perl_DataType">int</span> i)
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_DataType">boolean</span> returnValue = <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">try</span>
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  os.<span xmlns="" class="perl_Function">packInt</span>(_value);
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">catch</span> (java.<span xmlns="" class="perl_Function">io</span>.<span xmlns="" class="perl_Function">IOException</span> e)
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  returnValue = <span xmlns="" class="perl_Keyword">false</span>;
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">return</span> returnValue;
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  }
</pre></div></div><div class="para">
					The goal is to show the current value of the abstract record when it is viewed in the object store browser. You can read the state into an instance of your abstract record, and call the <code class="methodname">getValue()</code> method to accomplish this easily.
				</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> SimpleRecordOSVPlugin <span xmlns="" class="perl_Keyword">implements</span> StateViewerInterface
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * A uid node of the type this viewer is registered against has been expanded.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@param os</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@param </span><span xmlns="" class="perl_Comment">t</span><span xmlns="" class="perl_Keyword">ype</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@param manipulator</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@param node</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@throws ObjectStoreException</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  */</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">uidNodeExpanded</span>(ObjectStore os,
<span xmlns="" class="line">​</span>	  String type,
<span xmlns="" class="line">​</span>	  ObjectStoreBrowserTreeManipulationInterface 
<span xmlns="" class="line">​</span>	  manipulator,
<span xmlns="" class="line">​</span>	  UidNode node,
<span xmlns="" class="line">​</span>	  StatePanel infoPanel)
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">throws</span> ObjectStoreException
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Comment">// Do nothing</span>
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * An entry has been selected of the type this viewer is registered against.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  *</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@param os</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@param </span><span xmlns="" class="perl_Comment">t</span><span xmlns="" class="perl_Keyword">ype</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@param uid</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@param entry</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@param statePanel</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * </span><span xmlns="" class="perl_Keyword">@throws ObjectStoreException</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  */</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">entrySelected</span>(ObjectStore os,
<span xmlns="" class="line">​</span>	  String type,
<span xmlns="" class="line">​</span>	  Uid uid,
<span xmlns="" class="line">​</span>	  ObjectStoreViewEntry entry,
<span xmlns="" class="line">​</span>	  StatePanel statePanel) 
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">throws</span> ObjectStoreException
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  SimpleRecord rec = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">SimpleRecord</span>();
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">if</span> ( rec.<span xmlns="" class="perl_Function">restore_state</span>( os.<span xmlns="" class="perl_Function">read_committed</span>(uid, type), ObjectType.<span xmlns="" class="perl_Function">ANDPERSISTENT</span> ) )
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  statePanel.<span xmlns="" class="perl_Function">setData</span>( “Value”, rec.<span xmlns="" class="perl_Function">getValue</span>() );
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * Get the type this state viewer is intended to be registered against.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  * @return</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">	  */</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">getType</span>()
<span xmlns="" class="line">​</span>	  {
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">return</span> “/StateManager/AbstractRecord/SimpleRecord”;
<span xmlns="" class="line">​</span>	  }
<span xmlns="" class="line">​</span>	  }
</pre><div class="para">
					The <code class="methodname">uidNodeExpanded</code> method is invoked when a <em class="firstterm">Unique Identification (UID)</em> representing the given type is expanded in the object store hierarchy tree. This abstract record is not visible in the object store directly. It is only viewable via one of the lists in an atomic action. The <code class="methodname">entrySelected</code> method is invoked when an entry is selected from the Object view, which represents an object with the given type. In both methods, the StatePanel is used to display information regarding the state of the object. The StatePanel includes the methods listed in <a class="xref" href="ch13.html#StatePanel-method-list">StatePanel Methods</a> to assist in display this information.
				</div><div class="variablelist"><a id="StatePanel-method-list">
      ⁠</a><p class="title"><strong>StatePanel Methods</strong></p><dl class="variablelist"><dt><span class="term"><code class="methodname">setInfo</code>(<span class="type">String</span> <em class="parameter"><code>info</code></em>)</span></dt><dd><div class="para">
								Shows general information.
							</div></dd><dt><span class="term"><code class="methodname">setData</code>(<span class="type">String</span> <em class="parameter"><code>name</code></em>, <span class="type">String</span> <em class="parameter"><code>value</code></em>)</span></dt><dd><div class="para">
								Puts information into the table which is displayed by the object store browser tool.
							</div></dd><dt><span class="term"><code class="methodname">enableDetailsButton</code>(<span class="type">DetailsButtonListener</span> <em class="parameter"><code>listener</code></em>)</span></dt><dd><div class="para">
								Enable the <span class="guilabel"><strong>Details</strong></span> button. The listener interface allows a plug-in to be informed when the button is pressed. You, as the developer, control how to display this information.
							</div></dd></dl></div><div class="para">
					In this example, the state is read from the object store and the value returned by the <code class="methodname">getValue()</code> method is used to put an entry into the state panel table. The <code class="methodname">getType()</code> method returns the type of this plug-in for registration.
				</div><div class="para">
					To add this plug-in to the object store browser, package it into a JAR file with a name that is prefixed with <em class="wordasword">osbv-</em>. The JAR file must contain certain information within the manifest file, to inform the object store browser which classes are plug-ins. Refer to <a class="xref" href="ch13.html#example-ant-script">Example 13.2, “Packing the Plug-In with Ant”</a> to do this using an Apache Ant script.
				</div><div class="example"><a id="example-ant-script">
      ⁠</a><p class="title"><strong>Example 13.2. Packing the Plug-In with Ant</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">&lt;jar</span><span xmlns="" class="perl_Others"> jarfile=</span><span xmlns="" class="perl_String">"osbv-simplerecord.jar"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">&lt;fileset</span><span xmlns="" class="perl_Others"> dir=</span><span xmlns="" class="perl_String">"build"</span><span xmlns="" class="perl_Others"> includes=</span><span xmlns="" class="perl_String">"*.class”/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_String">	  </span><span xmlns="" class="perl_Error">&lt;</span><span xmlns="" class="perl_String">manifest&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_String">	  </span><span xmlns="" class="perl_Error">&lt;</span><span xmlns="" class="perl_String">section name="</span><span xmlns="" class="perl_Error">arjuna-tools-objectstorebrowser"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">&lt;attribute</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"plugin-classname-1"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">" SimpleRecordOSVPlugin "</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">&lt;/section&gt;</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">&lt;/manifest&gt;</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Error">&lt;</span>/jar&gt;
</pre></div></div><div class="para">
					After you have created the JAR with the correct information in the manifest file, place it in the <code class="filename">bin/tools/plugins</code> directory.
				</div></div></div></div></div></body></html>