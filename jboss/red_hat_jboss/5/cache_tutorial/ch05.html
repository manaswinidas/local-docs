<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 5. Tutorials</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idm139657203751472">
      ⁠</a>Chapter 5. Tutorials</h1></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
				It is recommended that you shut down and restart the GUI for each of the following tutorials, to ensure clean caches every time.
			</div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139657203749584">
      ⁠</a>5.1. Caches and Nodes</h1></div></div></div><div class="para">
				For this tutorial, start a single instance of the GUI. In this tutorial, we will:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						Create nodes under the root node.
					</div></li><li class="listitem"><div class="para">
						Remove nodes under the root node, both individually and recursively.
					</div></li><li class="listitem"><div class="para">
						Add and remove data from nodes.
					</div></li></ul></div><div class="para">
				1. Set up the Fqns you need. In the BeanShell pane, create 3 Fqn variables:
			</div><pre class="programlisting JAVA">
   childFqn1 = Fqn.fromString("/child1");
   childFqn2 = Fqn.fromString("/child2");
   childFqn3 = Fqn.fromString("/child2/child3");
</pre><div class="para">
				2. Create child nodes under the root node.
			</div><pre class="programlisting JAVA">
   child1 = root.addChild(childFqn1);
   child2 = root.addChild(childFqn2);
   child3 = root.addChild(childFqn3);
</pre><div class="para">
				3. Query the nodes.
			</div><pre class="programlisting JAVA">
   root.hasChild(childFqn1); // should return true
   child2.hasChild(childFqn3.getLastElement()); // should return true
   child3.getParent(); // should return child2
   child2.getParent(); // should return root
</pre><div class="para">
				4. Put some data in the nodes. By selecting the nodes in the tree view, you should see the contents of each node.
			</div><pre class="programlisting JAVA">
   child1.put("key1", "value1");
   child1.put("key2", "value2");
   child2.put("key3", "value3");
   child2.put("key4", "value4");
   child3.put("key5", "value5");
   child3.put("key6", "value6");
</pre><div class="para">
				5. Query some of the data.
			</div><pre class="programlisting JAVA">
   child1.getKeys();
   child2.getData();
</pre><div class="para">
				6. Remove some data in the nodes.
			</div><pre class="programlisting JAVA">
   child1.remove("key1");
   child2.remove("key3");
   child3.clearData();
</pre><div class="para">
				7. Delete nodes
			</div><pre class="programlisting JAVA">
root.removeChild(childFqn1); // will also remove any data held under child1
root.removeChild(childFqn2); // will recursively remove child3 as well
</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139657251641088">
      ⁠</a>5.2. Replication</h1></div></div></div><div class="para">
				For this tutorial, start two instances of the GUI. Repeat the exercises in the previous tutorial, only alternating between the two GUI windows when creating/removing nodes or adding/removing data. This demonstrates how the two cache instances in the two GUIs are kept in sync.
			</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139657200783760">
      ⁠</a>5.3. Transactions</h1></div></div></div><div class="para">
				For this tutorial, start two instances of the GUI. Repeat the exercises in the previous tutorial, only starting transactions before creating/removing nodes or adding/removing data. This will depict how replication only occurs on transaction boundaries. Try rolling back a few transactions as well, to see how nothing gets replicated in these cases. Below is the sample code for managing transactions:
			</div><pre class="programlisting JAVA">
              tm = cache.getTransactionManager();
              tm.begin();
              // do operations here
              tm.commit(); // or tm.rollback();
</pre></div></div></body></html>