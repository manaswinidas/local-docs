<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 4. Basic concepts of the RichFaces Framework</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="ArchitectureOverview">
      ⁠</a>Chapter 4. Basic concepts of the RichFaces Framework</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="introToBasics">
      ⁠</a>4.1. Introduction</h1></div></div></div><div class="para">
			The RichFaces Framework is implemented as a component library that adds AJAX capabilities into existing pages. This means that you do not need to write any JavaScript code or replace existing components with new AJAX widgets. RichFaces enables page-wide AJAX support instead of the traditional component-wide support, so you can define areas of the page that will reflect changes made by AJAX events on the client.
		</div><div class="para">
			The diagram following shows the process in full:
		</div><div class="figure"><a id="idm140579046710448">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/newpic1.png" alt="Request Processing flow"/></div></div><p class="title"><strong>Figure 4.1. Request Processing flow</strong></p></div><div class="para">
			RichFaces lets you use JSF tags to define sections of a JSF page that you wish to update with the results of an AJAX request. It also provides you with several options for sending AJAX requests to the server. You do not need to write any JavaScript or <code class="literal">XMLHTTPRequest</code> objects by hand — everything is done automatically.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="RichFacesArchitectureOverview">
      ⁠</a>4.2. RichFaces Architecture Overview</h1></div></div></div><div class="para">
			The following figure lists several important elements of the RichFaces Framework.
		</div><div class="figure"><a id="idm140579068199920">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/newpic2.png" alt="Core AJAX component structure"/></div></div><p class="title"><strong>Figure 4.2. Core AJAX component structure</strong></p></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">AJAX Filter.</div>
				To make the most of RichFaces, you should register a <code class="literal">Filter</code> in your application's <code class="filename">web.xml</code>. The <code class="literal">Filter</code> recognizes multiple request types. The sequence diagram in Figure 5.3 shows the differences in processing between a <span class="emphasis"><em>regular</em></span> JSF request and an AJAX request.
			</div><div class="figure"><a id="idm140579054936640">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/newpic3.png" alt="Request processing sequence diagram"/></div></div><p class="title"><strong>Figure 4.3. Request processing sequence diagram</strong></p></div><div class="para">
			In either case, the required static or dynamic resource information that your application requests is registered in the <code class="literal">ResourceBuilder</code> class.
		</div><div class="para">
			When a resource request is issued, the RichFaces filter checks the <code class="literal">Resource Cache</code> for this resource. If it is present, the resource is returned to the client. Otherwise, the filter searches for the resource among those registered in the <code class="literal">ResourceBuilder</code>. If the resource is registered, the RichFaces filter requests that the <code class="literal">ResourceBuilder</code> creates (delivers) the resource.
		</div><div class="para">
			The diagram that follows illustrates the process of requesting a resource.
		</div><div class="figure"><a id="idm140579009866736">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/newpic4.png" alt="Resource request sequence diagram"/></div></div><p class="title"><strong>Figure 4.4. Resource request sequence diagram</strong></p></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">AJAX Action Components</div>
				AJAX Action components are used to send AJAX requests from the client side. There are a number of AJAX Action components, including <code class="literal">&lt;a4j:commandButton&gt;</code>, <code class="literal">&lt;a4j:commandLink&gt;</code>, <code class="literal">&lt;a4j:poll&gt;</code>, and <code class="literal">&lt;a4j:support&gt;</code>.
			</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">AJAX Containers</div>
				<code class="literal">AjaxContainer</code> is an interface that defines an area on your JSF page that should be decoded during an AJAX request. <code class="literal">AjaxViewRoot</code> and <code class="literal">AjaxRegion</code> are both implementations of this interface.
			</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">JavaScript Engine</div>
				The RichFaces JavaScript Engine runs on the client side, and updates different areas of your JSF page based on information from the AJAX response. This JavaScript code operates automatically, so there is no need to use it directly.
			</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="RequestErrorsAndSessionExpirationHandling">
      ⁠</a>4.3. Request Errors and Session Expiration Handling</h1></div></div></div><div class="para">
			RichFaces lets you redefine the standard handlers responsible for processing exceptions. We recommend defining your own JavaScript, which will be executed when exceptional situations occur.
		</div><div class="para">
			Add the following code to <code class="filename">web.xml</code>:
		</div><pre class="programlisting XML">&lt;context-param&gt;
	&lt;param-name&gt;org.ajax4jsf.handleViewExpiredOnClient&lt;/param-name&gt;
	&lt;param-value&gt;true&lt;/param-value&gt;
&lt;/context-param&gt;
</pre><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="RequestErrorsHandling">
      ⁠</a>4.3.1. Request Errors Handling</h2></div></div></div><div class="para">
				To execute your own code on the client in the event of an error during an AJAX request, you must redefine the standard <code class="literal">A4J.AJAX.onError</code> method like so:
			</div><pre class="programlisting JAVA"> A4J.AJAX.onError = function(req, status, message){
    window.alert("Custom onError handler "+message);
}</pre><div class="para">
				This function accepts the following as parameters:
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">req</code></span></dt><dd><div class="para">
							a parameter string of a request that calls an error
						</div></dd><dt><span class="term"><code class="literal">status</code></span></dt><dd><div class="para">
							the number of an error returned by the server
						</div></dd><dt><span class="term"><code class="literal">message</code></span></dt><dd><div class="para">
							a default message for the given error
						</div></dd></dl></div><div class="para">
				Therefore, you can create your own handler that is called when timeouts, internal server errors, etc. occur.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="SessionExpiredHandling">
      ⁠</a>4.3.2. Session Expired Handling</h2></div></div></div><div class="para">
				You can also redefine the <code class="literal">onExpired</code> framework method that is called on the <code class="literal">SessionExpiration</code> event.
			</div><div class="para">
				<span class="emphasis"><em>Example:</em></span>
			</div><pre class="programlisting JAVA">
A4J.AJAX.onExpired = function(loc, expiredMsg){
    if(window.confirm("Custom onExpired handler "+expiredMsg+" for a location: "+loc)){
      return loc;
    } else {
     return false;
    }
}</pre><div class="para">
				This function can take the following parameters:
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">loc</code></span></dt><dd><div class="para">
							the URL of the current page (can be updated on demand)
						</div></dd><dt><span class="term"><code class="literal">expiredMsg</code></span></dt><dd><div class="para">
							a default message for display in the event of <code class="literal">SessionExpiration</code>.
						</div></dd></dl></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					Customized <code class="literal">onExpire</code> handlers do not work under MyFaces. MyFaces handles exceptions by internally generating a debug page. To prevent this behavior, use the following:
				</div><pre class="programlisting XML">...
&lt;context-param&gt;
	&lt;param-name&gt;org.apache.myfaces.ERROR_HANDLING&lt;/param-name&gt;
	&lt;param-value&gt;false&lt;/param-value&gt;
&lt;/context-param&gt; 
...</pre></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Skinnability">
      ⁠</a>4.4. Skinnability</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="WhySkinnability">
      ⁠</a>4.4.1. Why Skinnability</h2></div></div></div><div class="para">
				If you look at any CSS (Cascading Style Sheets) file in an enterprise application, you will notice how often the same color is noted. Standard CSS cannot define a particular color abstractly as a panel header color, the background color of an active pop-up menu item, a separator color, etc. To define common interface styles, you must copy the same value multiple times, and the more interfaces you have, the more repetition is required.
			</div><div class="para">
				Therefore, if you want to change the palette of an application, you must change all interrelating values, or your interface can appear clumsy. If a customer wants to be able to adjust their interface's look and feel in real time, you must be able to alter several CSS files, each of which will contain the same value multiple times.
			</div><div class="para">
				You can solve these problems with the <span class="emphasis"><em>skins</em></span> that are built into and fully implemented in RichFaces. Every named skin has <span class="emphasis"><em>skin parameters</em></span> that define a palette and other attributes of the user interface. By changing a few skin parameters, you can alter the appearance of dozens of components simultaneously, without interfering with interface consistency.
			</div><div class="para">
				The <code class="literal">skinnability</code> feature cannot completely replace standard CSS, and does not eliminate its usage. Instead, it is a high-level extension of standard CSS that can be used in combination with regular CSS declarations. You can also refer to skin parameters in CSS through the JSF Expression Language. This lets you completely synchronize the appearance of all elements in your pages.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="UsingSkinnability">
      ⁠</a>4.4.2. Using Skinnability</h2></div></div></div><div class="para">
				RichFaces <span class="emphasis"><em>skinnability</em></span> is designed for use alongside:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						skin parameters defined in the RichFaces framework,
					</div></li><li class="listitem"><div class="para">
						predefined CSS classes for components, and
					</div></li><li class="listitem"><div class="para">
						user style classes.
					</div></li></ul></div><div class="para">
				A component's color scheme can be applied to its elements using any of three style classes:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para"><div class="title">A default style class inserted into the framework </div>
							This contains style parameters that are linked to some constants from a skin. It is defined for every component and specifies a default level of representation. You can modify an application interface by changing the values of the skin parameters.
						</div></li><li class="listitem"><div class="para"><div class="title">A style class of skin extension</div>
							This class name is defined for every component element, and inserted into the framework to let you define a class with the same name in your CSS files. This lets you easily extend the appearance of all components that use this class.
						</div></li><li class="listitem"><div class="para"><div class="title">User style class</div>
							You can use one of the <code class="literal">styleClass</code> parameters to define your own class for component elements. As a result, the appearance of one particular component is changed according to a CSS style parameter specified in the class.
						</div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Example">
      ⁠</a>4.4.3. Example</h2></div></div></div><div class="para">
				The following is an example of a simple <span class="emphasis"><em>panel</em></span> component:
			</div><pre class="programlisting XML">&lt;rich:panel&gt; ... &lt;/rich:panel&gt;
</pre><div class="para">
				This code generates a panel component on a page, which consists of two elements: a wrapper <code class="literal">&lt;div&gt;</code> element and a <code class="literal">&lt;div&gt;</code> element for the panel body with the specified style properties. The wrapper <code class="literal">&lt;div&gt;</code> element will look like this:
			</div><pre class="programlisting XML">&lt;div class="dr-pnl rich-panel"&gt;
     ...
&lt;/div&gt;</pre><div class="para">
				<code class="literal">dr-pnl</code> is a CSS class that is specified in the framework via skin parameters:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						<code class="varname">background-color</code> is defined with <code class="literal">generalBackgroundColor</code>
					</div></li><li class="listitem"><div class="para">
						<code class="varname">border-color</code> is defined with <code class="literal">panelBorderColor</code>
					</div></li></ul></div><div class="para">
				You can change all colors for all panels on all pages by changing these skin parameter values. However, if you specify a <code class="literal">&lt;rich:panel&gt;</code> class on the page, its parameters are also acquired by all panels on this page.
			</div><div class="para">
				Developers can also change the style properties for panel. For example:
			</div><pre class="programlisting XML">&lt;rich:panel styleClass="customClass" /&gt;</pre><div class="para">
				The previous definition could add some style properties from <code class="literal">customClass</code> to one particular panel. As a result, we will get three styles:
			</div><pre class="programlisting XML">
&lt;div class="dr_pnl rich-panel customClass"&gt; 
	...
&lt;/div&gt;
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="SkinParametersTablesInRichFaces">
      ⁠</a>4.4.4. Skin Parameters Tables in RichFaces</h2></div></div></div><div class="para">
				RichFaces provides eight predefined skin parameters (skins) at the simplest level of common customization:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						DEFAULT
					</div></li><li class="listitem"><div class="para">
						plain
					</div></li><li class="listitem"><div class="para">
						emeraldTown
					</div></li><li class="listitem"><div class="para">
						blueSky
					</div></li><li class="listitem"><div class="para">
						wine
					</div></li><li class="listitem"><div class="para">
						japanCherry
					</div></li><li class="listitem"><div class="para">
						ruby
					</div></li><li class="listitem"><div class="para">
						classic
					</div></li><li class="listitem"><div class="para">
						deepMarine
					</div></li></ul></div><div class="para">
				To apply a skin, you must specify a skin name in the <code class="varname">org.richfaces.SKIN</code> context parameter.
			</div><div class="para">
				The following table shows the values for each parameter in the <code class="literal">blueSky</code> skin:
			</div><div class="table"><a id="idm140579068868768">
      ⁠</a><p class="title"><strong>Table 4.1. Colors</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-14-rows" summary="Colors"><colgroup><col/><col/></colgroup><thead><tr><th> Parameter name </th><th> Default value </th></tr></thead><tbody><tr><td> headerBackgroundColor </td><td> #BED6F8 </td></tr><tr><td> headerGradientColor </td><td> #F2F7FF </td></tr><tr><td> headTextColor </td><td> #000000 </td></tr><tr><td> headerWeightFont </td><td> bold </td></tr><tr><td> generalBackgroundColor </td><td> #FFFFFF </td></tr><tr><td> generalTextColor </td><td> #000000 </td></tr><tr><td> generalSizeFont </td><td> 11px </td></tr><tr><td> generalFamilyFont </td><td> Arial, Verdana, sans-serif </td></tr><tr><td> controlTextColor </td><td> #000000 </td></tr><tr><td> controlBackgroundColor </td><td> #FFFFFF </td></tr><tr><td> additionalBackgroundColor </td><td> #ECF4FE </td></tr><tr><td> shadowBackgroundColor </td><td> #000000 </td></tr><tr><td> shadowOpacity </td><td> 1 </td></tr><tr><td> panelBorderColor </td><td> #BED6F8 </td></tr><tr><td> subBorderColor </td><td> #FFFFFF </td></tr><tr><td> tabBackgroundColor </td><td> #C6DEFF </td></tr><tr><td> tabDisabledTextColor </td><td> #8DB7F3 </td></tr><tr><td> trimColor </td><td> #D6E6FB </td></tr><tr><td> tipBackgroundColor </td><td> #FAE6B0 </td></tr><tr><td> tipBorderColor </td><td> #E5973E </td></tr><tr><td> selectControlColor </td><td> #E79A00 </td></tr><tr><td> generalLinkColor </td><td> #0078D0 </td></tr><tr><td> hoverLinkColor </td><td> #0090FF </td></tr><tr><td> visitedLinkColor </td><td> #0090FF </td></tr></tbody></table></div></div><div class="table"><a id="idm140579042588320">
      ⁠</a><p class="title"><strong>Table 4.2. Fonts</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Fonts"><colgroup><col/><col/></colgroup><thead><tr><th> Parameter name </th><th> Default value </th></tr></thead><tbody><tr><td> headerSizeFont </td><td> 11px </td></tr><tr><td> headerFamilyFont </td><td> Arial, Verdana, sans-serif </td></tr><tr><td> tabSizeFont </td><td> 11px </td></tr><tr><td> tabFamilyFont </td><td> Arial, Verdana, sans-serif </td></tr><tr><td> buttonSizeFont </td><td> 11px </td></tr><tr><td> buttonFamilyFont </td><td> Arial, Verdana, sans-serif </td></tr><tr><td> tableBackgroundColor </td><td> #FFFFFF </td></tr><tr><td> tableFooterBackgroundColor </td><td> #cccccc </td></tr><tr><td> tableSubfooterBackgroundColor </td><td> #f1f1f1 </td></tr><tr><td> tableBorderColor </td><td> #C0C0C0 </td></tr></tbody></table></div></div><div class="para">
				The <code class="literal">plain</code> skin was added in version 3.0.2. It has no parameters, and is important when embedding RichFaces components into existing projects with their own styles.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="CreatingAndUsingYourOwnSkinFile">
      ⁠</a>4.4.5. Creating and Using Your Own Skin File</h2></div></div></div><div class="para">
				To create your own skin file:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						Create a file. In it, define skin constants to be used by style classes (see <a class="xref" href="ArchitectureOverview.html#SkinParametersTablesInRichFaces">Section 4.4.4, “Skin Parameters Tables in RichFaces”</a>). The name of the skin file should follow this format: <code class="literal">&lt;name&gt;.skin.properties</code>. (For examples of this file, see the RichFaces predefined skin parameters: <code class="literal">blueSky</code>, <code class="literal">classic</code>, <code class="literal">deepMarine</code>, etc. These files are located in the <code class="filename">richfaces-impl-xxxxx.jar</code> archive in the <code class="filename">/META-INF/skins</code> folder.
					</div></li><li class="listitem"><div class="para">
						Add the skin definition <code class="literal">&lt;contex-param&gt;</code> to the <code class="filename">web.xml</code> of your application, like so:
					</div><pre class="programlisting XML">...
&lt;context-param&gt;
     &lt;param-name&gt;org.richfaces.SKIN&lt;/param-name&gt;
     &lt;param-value&gt;name&lt;/param-value&gt;
&lt;/context-param&gt;
...</pre></li><li class="listitem"><div class="para">
						Place your <code class="literal">&lt;name&gt;.skin.properties</code> file in either your <code class="filename">/META-INF/skins</code> or <code class="filename">/WEB-INF/classes</code> directory.
					</div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="BuiltInSkinnability">
      ⁠</a>4.4.6. Built-in Skinnability in RichFaces</h2></div></div></div><div class="para">
				RichFaces lets you incorporate skins into your user interface (UI) design. This framework lets you use named skin parameters in your properties files to control skin appearance consistently across a set of components. You can see examples of predefined skins at: <a href="http://livedemo.exadel.com/richfaces-demo/">http://livedemo.exadel.com/richfaces-demo/ </a>
			</div><div class="para">
				Skins let you define a style in which to render standard JSF components and custom JSF components built with RichFaces. You can experiment with skins by following these steps:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						Create a custom render kit and register it in the <code class="filename">faces-config.xml</code> like so:
					</div><pre class="programlisting XML">&lt;render-kit&gt;
     &lt;render-kit-id&gt;NEW_SKIN&lt;/render-kit-id&gt;
     &lt;render-kit-class&gt;org.ajax4jsf.framework.renderer.ChameleonRenderKitImpl&lt;/render-kit-class&gt;
&lt;/render-kit&gt;</pre></li><li class="listitem"><div class="para">
						Next, create and register custom renderers for the component based on the look-and-feel predefined variables:
					</div><pre class="programlisting XML">&lt;renderer&gt;
	&lt;component-family&gt;javax.faces.Command&lt;/component-family&gt;
    &lt;renderer-type&gt;javax.faces.Link&lt;/renderer-type&gt;
    &lt;renderer-class&gt;newskin.HtmlCommandLinkRenderer&lt;/renderer-class&gt;
&lt;/renderer&gt;</pre></li><li class="listitem"><div class="para">
						Finally, place a properties file with skin parameters into the class path root. There are two requirements for the properties file:
					</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
								The file must be named <code class="filename"><em class="replaceable">skinName</em>.skin.properties</code>. In this case, we would call it <code class="literal">newskin.skin.properties</code>.
							</div></li><li class="listitem"><div class="para">
								The first line in this file should be <code class="literal">render.kit=<em class="replaceable">render-kit-id</em></code>. In this case, we would use <code class="literal">render.kit=NEW_SKIN</code>.
							</div></li></ul></div></li></ul></div><div class="para">
				More information about creating custom renderers can be found at: <a href="http://java.sun.com/javaee/javaserverfaces/reference/docs/index.html">http://java.sun.com/javaee/javaserverfaces/reference/docs/index.html</a>.
			</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ChangeAndModifySkin">
      ⁠</a>4.4.7. Changing skin in runtime</h2></div></div></div><div class="para">
				You can change skins during runtime by defining the following EL-expression in your <code class="filename">web.xml</code>.
			</div><pre class="programlisting XML">&lt;context-param&gt;
	&lt;param-name&gt;org.richfaces.SKIN&lt;/param-name&gt;
	&lt;param-value&gt;#{skinBean.skin}&lt;/param-value&gt;
&lt;/context-param&gt;
</pre><div class="para">
				The <code class="literal">skinBean</code> code looks like this:
			</div><pre class="programlisting JAVA">public class SkinBean {

	private String skin;

	public String getSkin() {
		return skin;
	}
	public void setSkin(String skin) {
		this.skin = skin;
	}
}</pre><div class="para">
				You must also set the <code class="varname">skin</code> property's initial value in the configuration file. To set <code class="literal">classic</code>:
			</div><pre class="programlisting XML">&lt;managed-bean&gt;
	&lt;managed-bean-name&gt;skinBean&lt;/managed-bean-name&gt;
	&lt;managed-bean-class&gt;SkinBean&lt;/managed-bean-class&gt;
	&lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;
	&lt;managed-property&gt;
		&lt;property-name&gt;skin&lt;/property-name&gt;
		&lt;value&gt;classic&lt;/value&gt;
  	&lt;/managed-property&gt;
&lt;/managed-bean&gt;
</pre><div class="para">
				You can also change the properties of the default skin. To do so, edit the properties of the default skin. The following shows you example page code:
			</div><pre class="programlisting XML">&lt;h:form&gt;
     &lt;div style="display: block; float: left"&gt;
          &lt;h:selectOneRadio value="#{skinBean.skin}" border="0" layout="pageDirection" title="Changing skin" style="font-size: 8; font-family: comic" onchange="submit()"&gt;
               	&lt;f:selectItem itemLabel="plain" itemValue="plain" /&gt;
		&lt;f:selectItem itemLabel="emeraldTown" itemValue="emeraldTown" /&gt;
		&lt;f:selectItem itemLabel="blueSky" itemValue="blueSky" /&gt;
		&lt;f:selectItem itemLabel="wine" itemValue="wine" /&gt;
		&lt;f:selectItem itemLabel="japanCherry" itemValue="japanCherry" /&gt;
		&lt;f:selectItem itemLabel="ruby" itemValue="ruby" /&gt;
		&lt;f:selectItem itemLabel="classic" itemValue="classic" /&gt;
		&lt;f:selectItem itemLabel="laguna" itemValue="laguna" /&gt;
		&lt;f:selectItem itemLabel="deepMarine" itemValue="deepMarine" /&gt;
		&lt;f:selectItem itemLabel="blueSky Modified" itemValue="blueSkyModify" /&gt;
          &lt;/h:selectOneRadio&gt;
     &lt;/div&gt;
     &lt;div style="display: block; float: left"&gt;
          &lt;rich:panelBar height="100" width="200"&gt;
               &lt;rich:panelBarItem label="Item 1" style="font-family: monospace; font-size: 12;"&gt;
	     Changing skin in runtime
	&lt;/rich:panelBarItem&gt;
	
	&lt;rich:panelBarItem label="Item 2" style="font-family: monospace; font-size: 12;"&gt;
	     This is a result of the modification "blueSky" skin
	&lt;/rich:panelBarItem&gt;
          &lt;/rich:panelBar&gt;
     &lt;/div&gt;
&lt;/h:form&gt;</pre><div class="para">
				The above code will generate the following list of options:
			</div><div class="figure"><a id="idm140579058784032">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/ChangeSkinInRuntime.png" alt="Changing skin in runtime"/></div></div><p class="title"><strong>Figure 4.5. Changing skin in runtime</strong></p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="StControlsSkinning">
      ⁠</a>4.4.8. Standard Controls Skinning</h2></div></div></div><div class="para">
				This feature is designed to unify the look and feel of standard HTML elements and RichFaces components. Skinning can be applied to all controls on a page based on element names and attribute types (where applicable). This feature also provides a set of CSS styles that let skins be applied by assigning <code class="literal">rich-*</code> classes to particular elements, or to a container of elements that nests controls.
			</div><div class="para">
				Standard Controls Skinning provides two levels of skinning: <span class="emphasis"><em>Basic</em></span> and <span class="emphasis"><em>Extended</em></span>. The level used depends on the browser type detected. If the browser type cannot be detected, <code class="literal">Extended</code> is used. However, if you want to explicitly specify the level to be applied, add a <code class="varname">org.richfaces.CONTROL_SKINNING_LEVEL</code> context parameter to your <code class="filename">web.xml</code> and set the value to either <code class="literal">basic</code> or <code class="literal">extended</code>.
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						The <span class="emphasis"><em>Basic</em></span> level provides customization for only basic style properties. Basic skinning is applied to the following browsers:
					</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
								Internet Explorer 6
							</div></li><li class="listitem"><div class="para">
								Internet Explorer 7 in BackCompat mode (see <a href="http://msdn2.microsoft.com/en-us/library/ms533687(VS.85).aspx">document.compatMode property in MSDN</a>)
							</div></li><li class="listitem"><div class="para">
								Opera
							</div></li><li class="listitem"><div class="para">
								Safari
							</div></li></ul></div></li><li class="listitem"><div class="para">
						The <span class="emphasis"><em>Extended</em></span> level introduces a broader number of style properties on top of basic skinning, and is applied to browsers with rich visual styling control capabilities. The following browsers support Extended skinning:
					</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
								Mozilla Firefox
							</div></li><li class="listitem"><div class="para">
								Internet Explorer 7 in Standards-compliant mode (CSS1Compat mode)
							</div></li></ul></div></li></ul></div><div class="para">
				The following elements can be modified with skins:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						<code class="literal">input</code>
					</div></li><li class="listitem"><div class="para">
						<code class="literal">select</code>
					</div></li><li class="listitem"><div class="para">
						<code class="literal">textarea</code>
					</div></li><li class="listitem"><div class="para">
						<code class="literal">keygen</code>
					</div></li><li class="listitem"><div class="para">
						<code class="literal">isindex</code>
					</div></li><li class="listitem"><div class="para">
						<code class="literal">legend</code>
					</div></li><li class="listitem"><div class="para">
						<code class="literal">fieldset</code>
					</div></li><li class="listitem"><div class="para">
						<code class="literal">hr</code>
					</div></li><li class="listitem"><div class="para">
						<code class="literal">a</code> (together with the <code class="literal">a:hover</code>, <code class="literal">a:visited</code> pseudo-elements)
					</div></li></ul></div><div class="para">
				There are two ways to initialize skinning for standard HTML controls:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						add the <code class="varname">org.richfaces.CONTROL_SKINNING</code> parameter to <code class="filename">web.xml</code>. <code class="varname">org.richfaces.CONTROL_SKINNING</code> takes <code class="literal">enable</code> and <code class="literal">disable</code> as parameters. This method implies that skinning style properties are applied per-element and attribute type (where applicable). No additional steps are required. See the <a class="xref" href="ArchitectureOverview.html#BasicLevel">Section 4.4.8.1, “Standard Level”</a> and <a class="xref" href="ArchitectureOverview.html#ExtendedLevel">Section 4.4.8.2, “Extended level”</a> tables for elements to which skinning can be applied.
					</div></li><li class="listitem"><div class="para">
						add the <code class="varname">org.richfaces.CONTROL_SKINNING_CLASSES</code> parameter to <code class="filename">web.xml</code>. <code class="varname">org.richfaces.CONTROL_SKINNING_CLASSES</code> takes <code class="literal">enable</code> and <code class="literal">disable</code> as parameters. When enabled, you are provided with a set of predefined CSS classes to apply skins to your HTML components.
					</div></li></ul></div><div class="para">
				Enabling <code class="varname">org.richfaces.CONTROL_SKINNING_CLASSES</code> provides you style classes that can be applied to:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						basic elements nested within elements with a <span class="emphasis"><em>rich-container</em></span> class. For example:
					</div><pre class="programlisting CSS">...
.rich-container select {
   //class content
}
...</pre></li><li class="listitem"><div class="para">
						Elements with a class name that corresponds to one of the basic element names or types are mapped with the <code class="literal">rich-&lt;elementName&gt;[-&lt;elementType&gt;]</code> scheme, as in the following example:
					</div><pre class="programlisting CSS">...
.rich-select {
  //class content
}

.rich-input-text {
  //class content
}

...</pre><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
							Elements are given classes depending upon their <code class="literal">link</code> type and pseudo-class name, for example, <code class="literal">rich-link</code>, <code class="literal">rich-link-hover</code>, <code class="literal">rich-link-visited</code>
						</div></div></div></li></ul></div><div class="para">
				The predefined rich CSS classes provided can be used as classes for both basic and complex HTML elements.
			</div><div class="para">
				The following code snippet shows several elements as an example:
			</div><pre class="programlisting XML">...
&lt;u:selector name=".rich-box-bgcolor-header"&gt;
     &lt;u:style name="background-color" skin="headerBackgroundColor" /&gt;
&lt;/u:selector&gt;
&lt;u:selector name=".rich-box-bgcolor-general"&gt;
     &lt;u:style name="background-color" skin="generalBackgroundColor" /&gt;
&lt;/u:selector&gt;
...
//gradient elements
...
&lt;u:selector name=".rich-gradient-menu"&gt;
     &lt;u:style name="background-image"&gt;
          &lt;f:resource f:key="org.richfaces.renderkit.html.gradientimages.MenuGradientImage"/&gt;
     &lt;/u:style&gt;
     &lt;u:style name="background-repeat" value="repeat-x" /&gt;
&lt;/u:selector&gt;
&lt;u:selector name=".rich-gradient-tab"&gt;
     &lt;u:style name="background-image"&gt;
          &lt;f:resource f:key="org.richfaces.renderkit.html.gradientimages.TabGradientImage"/&gt;
     &lt;/u:style&gt;
     &lt;u:style name="background-repeat" value="repeat-x" /&gt;
&lt;/u:selector&gt;
...</pre><div class="para">
				For a more thorough look at standard component skinning, we recommend exploring the CSS files located in the <code class="filename">ui/core/src/main/resources/org/richfaces/</code> directory of the RichFaces SVN repository.
			</div><div class="section NotInToc"><div class="titlepage"><div><div><h3 class="title"><a id="BasicLevel">
      ⁠</a>4.4.8.1. Standard Level</h3></div></div></div><div class="table"><a id="idm140579066990992">
      ⁠</a><p class="title"><strong>Table 4.3. HTML Element Skin Bindings for input, select, textarea, button, keygen, isindex and legend</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="HTML Element Skin Bindings for input, select, textarea, button, keygen, isindex and legend"><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> font-size </td><td> generalSizeFont </td></tr><tr><td> font-family </td><td> generalFamilyFont </td></tr><tr><td> color </td><td> controlTextColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579070376272">
      ⁠</a><p class="title"><strong>Table 4.4. HTML Element Skin Bindings for fieldset</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="HTML Element Skin Bindings for fieldset"><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-color </td><td> panelBorderColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579060290224">
      ⁠</a><p class="title"><strong>Table 4.5. HTML Element Skin Bindings for hr</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="HTML Element Skin Bindings for hr"><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-color </td><td> panelBorderColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579023321376">
      ⁠</a><p class="title"><strong>Table 4.6. HTML Element Skin Bindings for a</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="HTML Element Skin Bindings for a"><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> generalLinkColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579023315824">
      ⁠</a><p class="title"><strong>Table 4.7. HTML Element Skin Bindings for a:hover </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="HTML Element Skin Bindings for a:hover "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> hoverLinkColorgeneralLinkColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579070395408">
      ⁠</a><p class="title"><strong>Table 4.8. HTML Element Skin Bindings for a:visited </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="HTML Element Skin Bindings for a:visited "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> visitedLinkColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579073367936">
      ⁠</a><p class="title"><strong>Table 4.9.  Rich Elements Skin Bindings for .rich-input, .rich-select, .rich-textarea, .rich-keygen, .rich-isindex, .rich-link </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Elements Skin Bindings for .rich-input, .rich-select, .rich-textarea, .rich-keygen, .rich-isindex, .rich-link "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> font-size </td><td> generalSizeFont </td></tr><tr><td> font-family </td><td> generalFamilyFont </td></tr><tr><td> color </td><td> controlTextColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579015736320">
      ⁠</a><p class="title"><strong>Table 4.10.  Rich Element Skin Bindings for .rich-fieldset </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-fieldset "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-color </td><td> panelBorderColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579050016080">
      ⁠</a><p class="title"><strong>Table 4.11.  Rich Element Skin Bindings for .rich-hr </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-hr "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> border-width </td><td> 1px </td></tr><tr><td> border-style </td><td> solid </td></tr></tbody></table></div></div><div class="table"><a id="idm140579015214496">
      ⁠</a><p class="title"><strong>Table 4.12.  Rich Element Skin Bindings for .rich-link </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-link "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> generalLinkColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579015208944">
      ⁠</a><p class="title"><strong>Table 4.13.  Rich Element Skin Bindings for .rich-link:hover </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-link:hover "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> hoverLinkColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579015325840">
      ⁠</a><p class="title"><strong>Table 4.14.  Rich Element Skin Bindings for .rich-link:visited </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-link:visited "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> visitedLinkColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579052515600">
      ⁠</a><p class="title"><strong>Table 4.15.  Rich Element Skin Bindings for .rich-field </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-field "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin parameters/Value </th></tr></thead><tbody><tr><td> border-width </td><td> 1px </td></tr><tr><td> border-style </td><td> inset </td></tr><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> background-color </td><td> controlBackgroundColor </td></tr><tr><td> background-repeat </td><td> no-repeat </td></tr><tr><td> background-position </td><td> 1px 1px </td></tr></tbody></table></div></div><div class="table"><a id="idm140579062179232">
      ⁠</a><p class="title"><strong>Table 4.16.  Rich Element Skin Bindings for .rich-field-edit </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-field-edit "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-width </td><td> 1px </td></tr><tr><td> border-style </td><td> inset </td></tr><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> background-color </td><td> editBackgroundColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579013861648">
      ⁠</a><p class="title"><strong>Table 4.17.  Rich Element Skin Bindings for .rich-field-error </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary=" Rich Element Skin Bindings for .rich-field-error "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-width </td><td> 1px </td></tr><tr><td> border-style </td><td> inset </td></tr><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> background-color </td><td> warningBackgroundColor </td></tr><tr><td> background-repeat </td><td> no-repeat </td></tr><tr><td> background-position </td><td> center left </td></tr><tr><td> padding-left </td><td> 7px </td></tr></tbody></table></div></div><div class="table"><a id="idm140579047294688">
      ⁠</a><p class="title"><strong>Table 4.18.  Rich Element Skin Bindings for .rich-button, .rich-button-disabled, .rich-button-over </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary=" Rich Element Skin Bindings for .rich-button, .rich-button-disabled, .rich-button-over "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-width </td><td> 1px </td></tr><tr><td> border-style </td><td> solid </td></tr><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> background-color </td><td> trimColor </td></tr><tr><td> padding </td><td> 2px 10px 2px 10px </td></tr><tr><td> text-align </td><td> center </td></tr><tr><td> cursor </td><td> pointer </td></tr><tr><td> background-repeat </td><td> repeat-x </td></tr><tr><td> background-position </td><td> top left </td></tr></tbody></table></div></div><div class="table"><a id="idm140579064493920">
      ⁠</a><p class="title"><strong>Table 4.19.  Rich Element Skin Bindings for .rich-button-press </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-button-press "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> background-position </td><td> bottom left </td></tr></tbody></table></div></div><div class="table"><a id="idm140579064488368">
      ⁠</a><p class="title"><strong>Table 4.20.  Rich Element Skin Bindings for .rich-container fieldset, .rich-fieldset </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-container fieldset, .rich-fieldset "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> border-width </td><td> 1px </td></tr><tr><td> border-style </td><td> solid </td></tr><tr><td> padding </td><td> 10px </td></tr><tr><td> padding </td><td> 10px </td></tr></tbody></table></div></div><div class="table"><a id="idm140579015574048">
      ⁠</a><p class="title"><strong>Table 4.21.  Rich Element Skin Bindings for .rich-legend </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-legend "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> font-size </td><td> generalSizeFont </td></tr><tr><td> font-family </td><td> generalFamilyFont </td></tr><tr><td> color </td><td> controlTextColor </td></tr><tr><td> font-weight </td><td> bold </td></tr></tbody></table></div></div><div class="table"><a id="idm140579054662048">
      ⁠</a><p class="title"><strong>Table 4.22.  Rich Element Skin Bindings for .rich-form </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" Rich Element Skin Bindings for .rich-form "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> padding </td><td> 0px </td></tr><tr><td> margin </td><td> 0px </td></tr></tbody></table></div></div></div><div class="section NotInToc"><div class="titlepage"><div><div><h3 class="title"><a id="ExtendedLevel">
      ⁠</a>4.4.8.2. Extended level</h3></div></div></div><div class="table"><a id="idm140579015642496">
      ⁠</a><p class="title"><strong>Table 4.23.  HTML Element Skin Bindings for input, select, textarea, button, keygen, isindex </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" HTML Element Skin Bindings for input, select, textarea, button, keygen, isindex "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-width </td><td> 1px </td></tr><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> color </td><td> controlTextColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579049079328">
      ⁠</a><p class="title"><strong>Table 4.24.  HTML Element Skin Bindings for *|button </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" HTML Element Skin Bindings for *|button "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> font-size </td><td> generalSizeFont </td></tr><tr><td> font-family </td><td> generalFamilyFont </td></tr><tr><td> color </td><td> headerTextColor </td></tr><tr><td> background-color </td><td> headerBackgroundColor </td></tr><tr><td> background-image </td><td> org.richfaces.renderkit.html.images.ButtonBackgroundImage </td></tr></tbody></table></div></div><div class="table"><a id="idm140579023395664">
      ⁠</a><p class="title"><strong>Table 4.25.  HTML Element Skin Bindings for button[type=button], button[type=reset], button[type=submit], input[type=reset], input[type=submit], input[type=button] </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" HTML Element Skin Bindings for button[type=button], button[type=reset], button[type=submit], input[type=reset], input[type=submit], input[type=button] "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> font-size </td><td> generalSizeFont </td></tr><tr><td> font-family </td><td> generalFamilyFont </td></tr><tr><td> color </td><td> headerTextColor </td></tr><tr><td> background-color </td><td> headerBackgroundColor </td></tr><tr><td> background-image </td><td> org.richfaces.renderkit.html.images.ButtonBackgroundImage </td></tr></tbody></table></div></div><div class="table"><a id="idm140579070787280">
      ⁠</a><p class="title"><strong>Table 4.26.  HTML Element Skin Bindings for *|button[disabled], .rich-container *|button[disabled], .rich-button-disabled </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" HTML Element Skin Bindings for *|button[disabled], .rich-container *|button[disabled], .rich-button-disabled "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> tabDisabledTextColor </td></tr><tr><td> border-color </td><td> tableFooterBackgroundColor </td></tr><tr><td> background-color </td><td> tableFooterBackgroundColor </td></tr><tr><td> background-image </td><td> org.richfaces.renderkit.html.images.ButtonDisabledBackgroundImage </td></tr></tbody></table></div></div><div class="table"><a id="idm140579065980160">
      ⁠</a><p class="title"><strong>Table 4.27.  HTML Element Skin Bindings for .rich-button-disabled, .rich-container button[type="button"][disabled], .rich-button-button-disabled, .rich-container button[type="reset"][disabled], .rich-button-reset-disabled, .rich-container button[type="submit"][disabled], .rich-button-submit-disabled, .rich-container input[type="reset"][disabled], .rich-input-reset-disabled, .rich-container input[type="submit"][disabled], .rich-input-submit-disabled, .rich-container input[type="button"][disabled], .rich-input-button-disabled </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" HTML Element Skin Bindings for .rich-button-disabled, .rich-container button[type=&quot;button&quot;][disabled], .rich-button-button-disabled, .rich-container button[type=&quot;reset&quot;][disabled], .rich-button-reset-disabled, .rich-container button[type=&quot;submit&quot;][disabled], .rich-button-submit-disabled, .rich-container input[type=&quot;reset&quot;][disabled], .rich-input-reset-disabled, .rich-container input[type=&quot;submit&quot;][disabled], .rich-input-submit-disabled, .rich-container input[type=&quot;button&quot;][disabled], .rich-input-button-disabled "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> tabDisabledTextColor </td></tr><tr><td> background-color </td><td> tableFooterBackgroundColor </td></tr><tr><td> border-color </td><td> tableFooterBackgroundColor </td></tr><tr><td> background-image </td><td> org.richfaces.renderkit.html.images.ButtonDisabledBackgroundImage </td></tr></tbody></table></div></div><div class="table"><a id="idm140579050737120">
      ⁠</a><p class="title"><strong>Table 4.28.  HTML Element Skin Bindings for *button[type="button"][disabled], button[type="reset"][disabled], button[type="submit"][disabled], input[type="reset"][disabled], input[type="submit"][disabled], input[type="button"][disabled] </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" HTML Element Skin Bindings for *button[type=&quot;button&quot;][disabled], button[type=&quot;reset&quot;][disabled], button[type=&quot;submit&quot;][disabled], input[type=&quot;reset&quot;][disabled], input[type=&quot;submit&quot;][disabled], input[type=&quot;button&quot;][disabled] "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> tabDisabledTextColor </td></tr><tr><td> border-color </td><td> tableFooterBackgroundColor </td></tr><tr><td> background-color </td><td> tableFooterBackgroundColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579050915120">
      ⁠</a><p class="title"><strong>Table 4.29.  HTML Element Skin Bindings for *|textarea </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" HTML Element Skin Bindings for *|textarea "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> font-size </td><td> generalSizeFont </td></tr><tr><td> font-family </td><td> generalFamilyFont </td></tr><tr><td> color </td><td> controlTextColor </td></tr><tr><td> background-color </td><td> controlBackgroundColor </td></tr><tr><td> background-image </td><td> org.richfaces.renderkit.html.images.InputBackgroundImage </td></tr></tbody></table></div></div><div class="table"><a id="idm140579077067584">
      ⁠</a><p class="title"><strong>Table 4.30.  HTML Element Skin Bindings for textarea[type=textarea], input[type=text], input[type=password], select </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" HTML Element Skin Bindings for textarea[type=textarea], input[type=text], input[type=password], select "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> border-color </td><td> panelBorderColor </td></tr><tr><td> font-size </td><td> generalSizeFont </td></tr><tr><td> font-family </td><td> generalFamilyFont </td></tr><tr><td> color </td><td> controlTextColor </td></tr><tr><td> background-color </td><td> controlBackgroundColor </td></tr><tr><td> background-image </td><td> org.richfaces.renderkit.html.images.InputBackgroundImage </td></tr></tbody></table></div></div><div class="table"><a id="idm140579066568576">
      ⁠</a><p class="title"><strong>Table 4.31.  HTML Element Skin Bindings for *|textarea[disabled], .rich-container *|textarea[disabled] </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" HTML Element Skin Bindings for *|textarea[disabled], .rich-container *|textarea[disabled] "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> tableBorderColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579070887792">
      ⁠</a><p class="title"><strong>Table 4.32.  textarea[type="textarea"][disabled], input[type="text"][disabled], input[type="password"][disabled] </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" textarea[type=&quot;textarea&quot;][disabled], input[type=&quot;text&quot;][disabled], input[type=&quot;password&quot;][disabled] "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> tableBorderColor </td></tr></tbody></table></div></div><div class="table"><a id="idm140579046536720">
      ⁠</a><p class="title"><strong>Table 4.33.  textarea[type="textarea"][disabled], input[type="text"][disabled], input[type="password"][disabled] </strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary=" textarea[type=&quot;textarea&quot;][disabled], input[type=&quot;text&quot;][disabled], input[type=&quot;password&quot;][disabled] "><colgroup><col/><col/></colgroup><thead><tr><th> CSS Properties </th><th> Skin Parameters </th></tr></thead><tbody><tr><td> color </td><td> tableBorderColor </td></tr></tbody></table></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
						The basic skinning level can fail if the <code class="literal">ajaxPortlet</code> is configured as follows:
					</div><pre class="programlisting XML">...
&lt;portlet&gt;
   &lt;portlet-name&gt;ajaxPortlet&lt;/portlet-name&gt;
   &lt;header-content&gt;
      &lt;script src="/faces/rfRes/org/ajax4jsf/framework.pack.js" type="text/javascript" /&gt;
      &lt;script src="/faces/rfRes/org/richfaces/ui.pack.js" type="text/javascript" /&gt;
      &lt;link rel="stylesheet" type="text/css" href="/faces/rfRes/org/richfaces/skin.xcss" /&gt;
   &lt;/header-content&gt;
&lt;/portlet&gt;
...</pre></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140579015254688">
      ⁠</a>4.4.9. Client-side Script for Extended Skinning Support</h2></div></div></div><div class="para">
				Extended skinning of standard HTML controls is applied automatically: the browser type is detected, and if a browser does not fully support extended skinning, only basic skinning is applied.
			</div><div class="para">
				There are some problems with standard HTML controls in certain browsers (Opera and Safari) that may cause problems if you wish to skin your RichFaces components and standard HTML controls manually.
			</div><div class="para">
				To disable skinnability, set the <code class="varname">org.richfaces.LoadStyleStrategy</code> parameter to <code class="literal">NONE</code> in your <code class="filename">web.xml</code> file, like so:
			</div><pre class="programlisting XML">...
&lt;context-param&gt;
	&lt;param-name&gt;org.richfaces.LoadStyleStrategy&lt;/param-name&gt;
	&lt;param-value&gt;NONE&lt;/param-value&gt;
&lt;/context-param&gt;
...</pre><div class="para">
				You should also include the style sheets that apply skins to RichFaces components and standard HTML controls.
			</div><div class="para">
				To work around the problem of extended skinning in Opera and Safari, the <code class="filename">skinning.js</code> client script is added to the RichFaces library. This detects the browser type and enables extended skinning only for browsers that fully support it.
			</div><div class="para">
				Activate the script by inserting the following JavaScript into your page:
			</div><pre class="programlisting XML">&lt;script type="text/javascript"&gt;
	window.RICH_FACES_EXTENDED_SKINNING_ON = true;
&lt;/script&gt;</pre><div class="para">
				When no script-loading strategy is used and extended skinning is enabled, a warning message appears in the console.
			</div><div class="para">
				You must also specify the <code class="varname">media</code> attribute in the <code class="literal">link</code> tag. This adds the <code class="filename">extended_both.xcss</code> style sheet to <code class="literal">rich-extended-skinning</code>.
			</div><div class="para">
				To include your style sheets to the page when automatic skinnability is disabled, add the following:
			</div><pre class="programlisting XML">&lt;link href='/YOUR_PROJECT_NAME/a4j_3_2_2-SNAPSHOTorg/richfaces/renderkit/html/css/basic_both.xcss/DATB/eAF7sqpgb-jyGdIAFrMEaw__.jsf' type='text/css' rel='stylesheet' class='component' /&gt;
&lt;link media='rich-extended-skinning' href='/ YOUR_PROJECT_NAME /a4j_3_2_2-SNAPSHOTorg/richfaces/renderkit/html/css/extended_both.xcss/DATB/eAF7sqpgb-jyGdIAFrMEaw__.jsf' type='text/css' rel='stylesheet' class='component' /&gt;
&lt;link href='/ YOUR_PROJECT_NAME /a4j_3_2_2-SNAPSHOT/org/richfaces/skin.xcss/DATB/eAF7sqpgb-jyGdIAFrMEaw__.jsf' type='text/css' rel='stylesheet' class='component' /&gt;</pre><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					The Base64 encoder now uses <code class="literal">!</code> instead of <code class="literal">.</code>, so remember to use the <code class="literal">a4j/versionXXX</code> resources prefix instead of <code class="literal">a4j_versionXXX</code>.
				</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="XCSSfileformat">
      ⁠</a>4.4.10. XCSS File Format</h2></div></div></div><div class="para">
				Cross-site Cascading Style Sheet (XCSS) files are the core of RichFaces component skinnability. XCSS is XML-formatted CSS that extends the skinning process. RichFaces parses the XCSS file containing all look and feel parameters of a particular component and compiles the information into a standard CSS file that can be recognized by a web browser.
			</div><div class="para">
				The XCSS file contains CSS properties and skin parameter mappings. Mapping a CSS selector to a skin parameter can be done with <code class="literal">&lt; u:selector &gt;</code> and <code class="literal">&lt; u:style&gt;</code> XML tags, which define the mapping structure, as in the following example:
			</div><pre class="programlisting XML">...
&lt;u:selector name=".rich-component-name"&gt;
	&lt;u:style name="background-color" skin="additionalBackgroundColor" /&gt;
	&lt;u:style name="border-color" skin="tableBorderColor" /&gt;
	&lt;u:style name="border-width" skin="tableBorderWidth" /&gt;
	&lt;u:style name="border-style" value="solid" /&gt;
&lt;/u:selector&gt;
...</pre><div class="para">
				During processing, this code will be parsed and assembled into a standard CSS format, like so:
			</div><pre class="programlisting CSS">...
.rich-component-name {
     background-color: additionalBackgroundColor; /*the value of the constant defined by your skin*/
     border-color: tableBorderColor; /*the value of the constant defined by your skin*/
     border-width: tableBorderWidth; /*the value of the constant defined by your skin*/
     border-style: solid;
}
...</pre><div class="para">
				The <code class="varname">name</code> attribute of <code class="literal">&lt;u:selector&gt;</code> defines the CSS selector, while the <code class="varname">name</code> attribute of the <code class="literal">&lt;u:style&gt;</code> tag defines the skin constant that is mapped to a CSS property. You can also use the <code class="varname">value</code> attribute of the <code class="literal">&lt;u:style&gt;</code> tag to assign a value to a CSS property.
			</div><div class="para">
				CSS selectors with identical skin properties can be included in a comma-separated list:
			</div><pre class="programlisting XML">...
&lt;u:selector name=".rich-ordering-control-disabled, .rich-ordering-control-top, .rich-ordering-control-bottom, .rich-ordering-control-up, .rich-ordering-control-down"&gt;
	&lt;u:style name="border-color" skin="tableBorderColor" /&gt;
&lt;/u:selector&gt;
...</pre></div><div class="section new"><div class="titlepage"><div><div><h2 class="title"><a id="PlugnSkin">
      ⁠</a>4.4.11. Plug-n-Skin</h2></div></div></div><div class="para">
				<span class="emphasis"><em>Plug-n-Skin</em></span> lets you easily create, customize, and plug in a custom skin to your project. You can create skins based on the parameters of predefined RichFaces skins. Plug-n-Skin also lets you unify the appearance of rich controls with standard HTML elements. This section contains step-by-step instructions for creating your own skin with Plug-n-Skin.
			</div><div class="para">
				First, use Maven to create a template for your new skin. (You can find more information about configuring Maven for RichFaces in the <a href="http://community.jboss.org/wiki/HowToConfigureMavenForRichFaces">JBoss wiki article</a>. These Maven instructions can be copied and pasted into the command line interface to execute them.
			</div><pre class="programlisting XML">...
mvn archetype:create
-DarchetypeGroupId=org.richfaces.cdk
-DarchetypeArtifactId=maven-archetype-plug-n-skin
-DarchetypeVersion=RF-VERSION
-DartifactId=ARTIFACT-ID
-DgroupId=GROUP-ID
-Dversion=VERSION
...</pre><div class="para">
				Primary keys for the command:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						<code class="varname">archetypeVersion</code> — indicates the RichFaces version; for example, <code class="literal">3.3.1.GA</code>
					</div></li><li class="listitem"><div class="para">
						<code class="varname">artifactId</code> — the artifact ID of the project
					</div></li><li class="listitem"><div class="para">
						<code class="varname">groupId</code> — the group ID of the project
					</div></li><li class="listitem"><div class="para">
						<code class="varname">version</code> — the version of the project you create. By default, this is set to <code class="literal">1.0.-SNAPSHOT</code>
					</div></li></ul></div><div class="para">
				This operation creates a directory named after your <code class="literal">ARTIFACT-ID</code>. The directory contains a template of the Maven project.
			</div><div class="para">
				The following steps will guide you though creating of the skin itself.
			</div><div class="para">
				Run the following command from the root directory of the Maven project. (This directory will contain your <code class="filename">pom.xml</code> file.)
			</div><pre class="programlisting XML">...
mvn cdk:add-skin -Dname=SKIN-NAME -Dpackage=SKIN-PACKAGE
...
</pre><div class="para">
				Primary keys for the command:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						<code class="varname">name</code> — defines the name of the new skin
					</div></li><li class="listitem"><div class="para">
						<code class="varname">package</code> — the base package of the skin. By default, the project's <code class="literal">groupId</code> is used.
					</div></li></ul></div><div class="para">
				Additional optional keys for the command:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						<code class="varname">baseSkin</code> — defines the name of the base skin.
					</div></li><li class="listitem"><div class="para">
						<code class="varname">createExt</code> — if set to <code class="literal">true</code>, extended CSS classes are added. For more information, please, see <a class="xref" href="ArchitectureOverview.html#StControlsSkinning">Section 4.4.8, “Standard Controls Skinning”</a>.
					</div></li></ul></div><div class="para">
				Refer to <a class="xref" href="ArchitectureOverview.html#table-filenames-created-by-mvn_add-skin_command">Table 4.34, “Files and Folders Created By the <code class="command">mvn cdk:add-skin -Dname=SKIN-NAME -Dpackage=SKIN-PACKAGE</code> Command”</a> for which files are created by the command.
			</div><div class="table"><a id="table-filenames-created-by-mvn_add-skin_command">
      ⁠</a><p class="title"><strong>Table 4.34. Files and Folders Created By the <code class="command">mvn cdk:add-skin -Dname=SKIN-NAME -Dpackage=SKIN-PACKAGE</code> Command</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Files and Folders Created By the mvn cdk:add-skin -Dname=SKIN-NAME -Dpackage=SKIN-PACKAGE Command"><colgroup><col/><col/><col/></colgroup><thead><tr><th> <div class="para">
								File Name
							</div>
							 </th><th> <div class="para">
								Location
							</div>
							 </th><th> <div class="para">
								Description
							</div>
							 </th></tr></thead><tbody><tr><td> <div class="para">
								<code class="filename">BaseImage.java</code>
							</div>
							 </td><td> <div class="para">
								<code class="filename">\src\main\java\SKIN-PACKAGE\SKIN-NAME\images\</code>
							</div>
							 </td><td> <div class="para">
								the base class used to store images.
							</div>
							 </td></tr><tr><td> <div class="para">
								BaseImageTest.java
							</div>
							 </td><td> <div class="para">
								<code class="filename">\src\test\java\SKIN-PACKAGE\SKIN-NAME\images\</code>
							</div>
							 </td><td> <div class="para">
								a test version of a class that stores images.
							</div>
							 </td></tr><tr><td> <div class="para">
								XCSS files
							</div>
							 </td><td> <div class="para">
								<code class="filename">\src\main\resources\SKIN-PACKAGE\SKIN-NAME\css\</code>
							</div>
							 </td><td> <div class="para">
								define the new look of RichFaces components affected by the new skin.
							</div>
							 </td></tr><tr><td> <div class="para">
								<code class="filename"><em class="replaceable">SKIN-NAME</em>.properties</code>
							</div>
							 </td><td> <div class="para">
								<code class="filename">\src\main\resources\SKIN-PACKAGE\SKIN-NAME\css\</code>
							</div>
							 </td><td> <div class="para">
								a file that contains the new skin's properties.
							</div>
							 <div class="para">
								The following properties are used to configure the <code class="filename">SKIN-NAME.properties</code> file:
							</div>
							 <div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="varname">baseSkin</code></span></dt><dd><div class="para">
											the name of the skin to be used as a basis for your own skin. The look of the skin you define will be affected by the new style properties.
										</div></dd><dt><span class="term"><code class="varname">generalStyleSheet</code></span></dt><dd><div class="para">
											a path to the style sheet (<code class="filename"><em class="replaceable">SKIN-NAME</em>.xcss</code>) that imports your component's style sheets to be modified by the new skin.
										</div></dd><dt><span class="term"><code class="varname">extendedStyleSheet</code></span></dt><dd><div class="para">
											the path to a style sheet that is used to unify the appearance of RichFaces components and standard HTML controls. For additional information, read <a class="xref" href="ArchitectureOverview.html#StControlsSkinning">Section 4.4.8, “Standard Controls Skinning”</a>.
										</div></dd><dt><span class="term"><code class="varname">gradientType</code></span></dt><dd><div class="para">
											a predefined property to set the type of gradient applied to the new skin. Possible values are <code class="literal">glass</code>, <code class="literal">plastic</code>, <code class="literal">plain</code>. More information on gradient implementation you can find further in this chapter.
										</div></dd></dl></div>
							 </td></tr><tr><td> <div class="para">
								<code class="filename">SKIN-NAME.xcss</code>
							</div>
							 </td><td> <div class="para">
								<code class="filename">src\main\resources\META-INF\skins</code>
							</div>
							 </td><td> <div class="para">
								an XCSS file that imports the component's XCSS files to be modified by the new skin.
							</div>
							 </td></tr><tr><td> <div class="para">
								XCSS files
							</div>
							 </td><td> <div class="para">
								<code class="filename">\src\main\resources\SKIN-PACKAGE\SKIN-NAME\css\</code>
							</div>
							 </td><td> <div class="para">
								determine styles for standard controls (<code class="filename">extended_classes.xcss</code> and <code class="filename">extended.xcss</code>), if the <code class="varname">createExt</code> key is set to <code class="literal">true</code>.
							</div>
							 </td></tr><tr><td> <div class="para">
								<code class="filename">SKIN-NAME-ext.xcss</code>
							</div>
							 </td><td> <div class="para">
								<code class="filename">src\main\resources\META-INF\skins</code>.
							</div>
							 </td><td> <div class="para">
								imports defining styles for standard controls if <code class="varname">createExt</code> is set to <code class="literal">true</code>.
							</div>
							 </td></tr><tr><td> <div class="para">
								<code class="filename">SKIN-NAME-resources.xml</code>
							</div>
							 </td><td> <div class="para">
								<code class="filename">src\main\config\resources</code>.
							</div>
							 </td><td> <div class="para">
								contains descriptions of all files listed previously.
							</div>
							 </td></tr></tbody></table></div></div><div class="para">
				You can now start editing the XCSS files located in <code class="filename">\src\main\resources\SKIN-PACKAGE\SKIN-NAME\css\</code>. Assign new style properties to your selectors (listed in the XCSS files) in either of the following ways:
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						Standard CSS coding approach (that is, add CSS properties to the selectors). Remember that the selectors must be within <code class="literal">&lt;f:verbatim&gt; &lt;/f:verbatim&gt;</code> tags. For example:
					</div><pre class="programlisting XML">...
.rich-calendar-cell {
     background: #537df8;
}
...</pre></li><li class="listitem"><div class="para">
						XCSS coding approach (the usual method of creating XCSS files in RichFaces). XCSS tags must be placed <span class="emphasis"><em>outside</em></span> <code class="literal">&lt;f:verbatim&gt; &lt;/f:verbatim&gt;</code> tags.
					</div><pre class="programlisting XML">...
&lt;u:selector name=".rich-calendar-cell"&gt;
     &lt;u:style name="border-bottom-color" skin="panelBorderColor"/&gt;
     &lt;u:style name="border-right-color" skin="panelBorderColor"/&gt;
     &lt;u:style name="background-color" skin="tableBackgroundColor"/&gt;
     &lt;u:style name="font-size" skin="generalSizeFont"/&gt;
     &lt;u:style name="font-family" skin="generalFamilyFont"/&gt;
&lt;/u:selector&gt;
...</pre></li></ul></div><div class="para">
				Once you have performed these steps and edited the XCSS files, build the new skin and plug it into the project. To build the skin, execute the following command from the root directory of your skin project (the directory that contains your <code class="filename">pom.xml</code> file):
			</div><pre class="programlisting XML">...
mvn clean install
...</pre><div class="para">
				The Plug-n-skin feature also has a number of predefined gradients. The following code can be used to apply a gradient:
			</div><pre class="programlisting XML">...
&lt;u:selector name=".rich-combobox-item-selected"&gt;
	&lt;u:style name="border-width" value="1px" /&gt;
	&lt;u:style name="border-style" value="solid" /&gt;
	&lt;u:style name="border-color" skin="newBorder" /&gt;
	&lt;u:style name="background-position" value="0% 50%" /&gt;
	&lt;u:style name="background-image"&gt;
		&lt;f:resource f:key="org.richfaces.renderkit.html.CustomizeableGradient"&gt;
			&lt;f:attribute name="valign" value="middle" /&gt;
			&lt;f:attribute name="gradientHeight" value="17px" /&gt;
			&lt;f:attribute name="baseColor" skin="headerBackgroundColor" /&gt;
		 &lt;/f:resource&gt;
	&lt;/u:style&gt;
&lt;/u:selector&gt;
...</pre><div class="para">
				The <code class="varname">background-image</code> CSS property is defined with <code class="literal">&lt;f:resource f:key="org.richfaces.renderkit.html.CustomizeableGradient"&gt;</code>, which sets the gradient. The gradient type can be specified in the <code class="filename">SKIN-NAME.properties</code> with the <code class="varname">gradientType</code> property, which can be set to <code class="literal">glass</code>, <code class="literal">plastic</code>, or <code class="literal">plain</code>. The gradient can then be adjusted with the <code class="varname">baseColor</code>, <code class="varname">gradientColor</code>, <code class="varname">gradientHeight</code>, <code class="varname">valign</code> attributes, as seen in the previous code snippet.
			</div><div class="para">
				You can now use your newly-created skin in your project by adding your new skin parameters to the <code class="filename">web.xml</code> file, and placing the JAR file containing your skin (located in the <code class="filename">target</code> directory of your skin project) in the <code class="filename">\WebContent\WEB-INF\lib\</code>.
			</div><pre class="programlisting XML">...
&lt;context-param&gt;
    &lt;param-name&gt;org.ajax4jsf.SKIN&lt;/param-name&gt;
    &lt;param-value&gt;SKIN-NAME&lt;/param-value&gt;
&lt;/context-param&gt;
...</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm140579049994480">
      ⁠</a>4.4.11.1. Details of Usage</h3></div></div></div><div class="para">
					This section covers some practical aspects of Plug-n-Skin implementation. We assume that you have read the section of the guide describing the Plug-n-Skin prototype creation process.
				</div><div class="para">
					First, we must create a new skin (as described in the previous section). The following creates a template of the new skin project:
				</div><pre class="programlisting XML">
mvn archetype:create
-DarchetypeGroupId=org.richfaces.cdk
-DarchetypeArtifactId=maven-archetype-plug-n-skin
-DarchetypeVersion=3.3.1.GA
-DartifactId=P-n-S
-DgroupId=GROUPID
-Dversion=1.0.-SNAPSHOT
</pre><div class="para">
					You can now browse the <code class="filename">P-n-S</code> directory to view the files and folders created.
				</div><div class="para">
					Next, use Maven to add all required files to the skin project, like so:
				</div><pre class="programlisting XML">mvn cdk:add-skin -DbaseSkin=blueSky  -DcreateExt=true -Dname=PlugnSkinDemo -Dpackage=SKINPACKAGE</pre><div class="para">
					As mentioned in the previous section, <code class="literal">-DbaseSkin</code> defines the RichFaces built-in skin to use as a base, and <code class="literal">-DcreateExt=true</code>, which determines that the new skin will include XCSS files that unify the appearance of the rich components and the standard HTML controls.
				</div><div class="para">
					Once your resources have been created, you can begin refining the newly-created skin. Begin by editing the rich components' XCSS files.
				</div><div class="para">
					As an example of the Plug-n-Skin feature, we will edit some <code class="literal">&lt;rich:calendar&gt;</code> style attributes and some basic HTML controls. We will show you how to:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
							Recolor the background of the current day in the <code class="literal">&lt;rich:calendar&gt;</code>;
						</div></li><li class="listitem"><div class="para">
							Recolor a standard HTML submit button;
						</div></li></ul></div><div class="para">
					To edit <code class="literal">&lt;rich:properties&gt;</code>'s style properties, you must open the <code class="filename">calendar.xcss</code> file, located in <code class="filename">P-n-S\src\main\resources\skinpackage\plugnskindemo\css\</code>.
				</div><div class="para">
					In the <code class="filename">calendar.xcss</code> file, find the <code class="literal">.rich-calendar-today</code> selector and amend it as follows:<code class="literal">background-color: #075ad1;</code>. This will change the background color of the current day.
				</div><div class="para">
					Next we will change the font style of a standard HTML <span class="emphasis"><em>submit</em></span> button. Open the <code class="filename">extended.xcss</code> file from the <code class="filename">P-n-S\src\main\resources\skinpackage\plugnskindemo\css\</code> directory and insert <code class="literal">font-weight: bold;</code> between the curly braces of these selectors, like so:
				</div><pre class="programlisting XML">
button[type="button"], button[type="reset"], button[type="submit"], input[type="reset"], input[type="submit"], input[type="button"] {
	font-weight: bold;
}</pre><div class="para">
					The desired changes have now been made, and you can proceed to building the new <code class="literal">PlugnSkinDemo</code> skin and importing it into the project.
				</div><div class="para">
					Build the skin by executing <code class="command">mvn clean install</code> from the <code class="filename">P-n-S</code> directory. This creates a <code class="filename">target</code> directory containing a JAR file with a newly-compiled skin. In our case, the file is named <code class="filename">P-n-S-1.0.-SNAPSHOT.jar</code>.
				</div><div class="para">
					Next, import the new <code class="literal">PlugnSkinDemo</code> skin into your project:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
							Copy the <code class="filename">P-n-S-1.0.-SNAPSHOT.jar</code> file to the <code class="filename">\WebContent\WEB-INF\lib\</code> directory.
						</div></li><li class="listitem"><div class="para">
							Add the name of the new skin to the <code class="filename">web.xml</code> file, like so:
						</div><pre class="programlisting XML"> &lt;context-param&gt;
	&lt;param-name&gt;org.ajax4jsf.SKIN&lt;/param-name&gt;
	&lt;param-value&gt;PlugnSkinDemo&lt;/param-value&gt;
&lt;/context-param&gt;</pre></li></ul></div><div class="para">
					Remember, standard controls skinning must be enabled in <code class="filename">web.xml</code>. Add the following to enable standard controls skinning:
				</div><pre class="programlisting XML">&lt;context-param&gt;
	&lt;param-name&gt;org.richfaces.CONTROL_SKINNING&lt;/param-name&gt;
	&lt;param-value&gt;enable&lt;/param-value&gt;
&lt;/context-param&gt;</pre><div class="para">
					The results of each alteration to the skin are shown in the figures that follow:
				</div><div class="figure"><a id="idm140579011028832">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/PlugnSkinDemo.png" alt="Plug-n-Skin feature in action."/></div></div><p class="title"><strong>Figure 4.6. Plug-n-Skin feature in action. </strong></p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="statemanagerapi">
      ⁠</a>4.5. State Manager API</h1></div></div></div><div class="para">
			JSF has an advanced navigation mechanism that lets you define <span class="emphasis"><em>navigation</em></span> from view to view. In a web application, navigation occurs when a user changes from one page to another by clicking on a button, a hyperlink, or another command component. There is no switch mechanism between some logical states of the same view. For example, in <span class="emphasis"><em>Login/Register dialog</em></span>, an existing user signs in with his user name and password, but if a new user attempts to register, an additional field (<code class="literal">Confirm</code>) is displayed, and button labels and methods are changed when the user clicks the <span class="guilabel"><strong>To register</strong></span> link:
		</div><div class="figure"><a id="idm140579074042272">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/stateapi1.png" alt="Login Dialog"/></div></div><p class="title"><strong>Figure 4.7.  Login Dialog </strong></p></div><div class="figure"><a id="idm140579043182928">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/stateapi2.png" alt="Register Dialog"/></div></div><p class="title"><strong>Figure 4.8.  Register Dialog </strong></p></div><div class="para">
			<span class="emphasis"><em>RichFaces State API</em></span> lets you easily define a set of states for pages, and properties for these states.
		</div><div class="para">
			The <code class="varname">States</code> class interfaces with a <span class="property">map</span>, where the <code class="methodname">keySet</code> defines the State name and the <code class="methodname">entrySet</code> is a <code class="varname">State</code> <span class="property">map</span>. The <code class="varname">State</code> <span class="property">map</span> defines the properties, method bindings, or constant state variables of a key or object, where these values may change depending on the active State.
		</div><div class="figure"><a id="idm140579043016976">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/stateapi3.png" alt="RichFaces State API"/></div></div><p class="title"><strong>Figure 4.9.  RichFaces State API </strong></p></div><div class="para">
			One of the most convenient features of the RichFaces State API is the ability to navigate between <code class="varname">State</code>s. The API implements changes in <code class="varname">State</code> through standard JSF navigation. When the action component returns an outcome, the JSF navigation handler (extended through the RichFaces State API) checks whether the outcome is registered as a <span class="emphasis"><em><code class="varname">State</code> change outcome</em></span>. If <code class="literal">true</code>, the corresponding <code class="varname">State</code> is activated. If <code class="literal">false</code>, standard navigation handling is called.
		</div><div class="para">
			Implement the RichFaces State API like so:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					Register the State Navigation Handler and the EL Resolver in your <code class="filename">faces-config.xml</code> file:
				</div><pre class="programlisting XML">...
&lt;application&gt;
	&lt;navigation-handler&gt;org.richfaces.ui.application.StateNavigationHandler&lt;/navigation-handler&gt;
	&lt;el-resolver&gt;org.richfaces.el.StateELResolver&lt;/el-resolver&gt;
&lt;/application&gt;
...</pre></li><li class="listitem"><div class="para">
					Register an additional application factory in the <code class="filename">faces-config.xml</code>:
				</div><pre class="programlisting XML">...
&lt;factory&gt;
	&lt;application-factory&gt;org.richfaces.ui.application.StateApplicationFactory&lt;/application-factory&gt;
&lt;/factory&gt;
...</pre></li><li class="listitem"><div class="para">
					Register two managed beans in the <code class="filename">faces-config.xml</code>:
				</div><pre class="programlisting XML">...
&lt;managed-bean&gt;
	&lt;managed-bean-name&gt;state&lt;/managed-bean-name&gt;
	&lt;managed-bean-class&gt;org.richfaces.ui.model.States&lt;/managed-bean-class&gt;
	&lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;
	&lt;managed-property&gt;
		&lt;property-name&gt;states&lt;/property-name&gt;
		&lt;property-class&gt;org.richfaces.ui.model.States&lt;/property-class&gt;
		&lt;value&gt;#{config.states}&lt;/value&gt;
	&lt;/managed-property&gt;
&lt;/managed-bean&gt;
&lt;managed-bean&gt;
	&lt;managed-bean-name&gt;config&lt;/managed-bean-name&gt;
	&lt;managed-bean-class&gt;org.richfaces.demo.stateApi.Config&lt;/managed-bean-class&gt;
	&lt;managed-bean-scope&gt;none&lt;/managed-bean-scope&gt;
&lt;/managed-bean&gt;
...</pre><div class="para">
					One bean (<code class="literal">config</code>) defines and stores <code class="varname">State</code> as seen in the following example:
				</div><pre class="programlisting JAVA">...
public class Config {

	/**
	 * @return States
	 */
	public States getStates() {
		FacesContext facesContext = FacesContext.getCurrentInstance();
		States states = new States();

		// Registering new User State definition
		states.setCurrentState("register"); // Name of the new state

		// Text labels, properties and Labels for controls in "register" state
		states.put("showConfirm", Boolean.TRUE); // confirm field rendering
		states.put("link", "(To login)"); // Switch State link label
		states.put("okBtn", "Register"); // Login/Register button label
		states.put("stateTitle", "Register New User"); // Panel title

		ExpressionFactory expressionFactory = facesContext.getApplication()
				.getExpressionFactory();

		// Define "registerbean" available under "bean" EL binding on the page
		ValueExpression beanExpression = expressionFactory
				.createValueExpression(facesContext.getELContext(),
						"#{registerbean}", Bean.class);
		states.put("bean", beanExpression);

		// Define "registeraction" available under "action" EL binding on the
		// page
		beanExpression = expressionFactory.createValueExpression(facesContext
				.getELContext(), "#{registeraction}", RegisterAction.class);
		states.put("action", beanExpression);

		// Define method expression inside registeraction binding for this state
		MethodExpression methodExpression = expressionFactory.createMethodExpression(
				facesContext.getELContext(), "#{registeraction.ok}",
				String.class, new Class[] {});
		states.put("ok", methodExpression);

		// Outcome for switching to login state definition
		states.setNavigation("switch", "login");

		// Login Existent User State analogous definition
		states.setCurrentState("login");
		states.put("showConfirm", Boolean.FALSE);
		states.put("link", "(To register)");
		states.put("okBtn", "Login");
		states.put("stateTitle", "Login Existing User");

		beanExpression = expressionFactory.createValueExpression(facesContext
				.getELContext(), "#{loginbean}", Bean.class);
		states.put("bean", beanExpression);

		beanExpression = expressionFactory.createValueExpression(facesContext
				.getELContext(), "#{loginaction}", LoginAction.class);
		states.put("action", beanExpression);

		methodExpression = expressionFactory.createMethodExpression(
				facesContext.getELContext(), "#{loginaction.ok}",
				String.class, new Class[] {});
		states.put("ok", methodExpression);

		states.setNavigation("switch", "register");

		return states;
	}
}
...</pre><div class="para">
					The second bean, with the <code class="literal">org.richfaces.ui.model.States</code> type (<code class="literal">state</code>), contains the managed property <span class="property">states</span>, which is bound to the first <code class="literal">config</code> bean.
				</div></li><li class="listitem"><div class="para">
					Next, use <span class="property">state</span> bindings on the page, as in the following example:
				</div><pre class="programlisting XML">...
&lt;h:panelGrid columns="3"&gt;
	&lt;h:outputText value="username" /&gt;
	&lt;h:inputText value="#{state.bean.name}" id="name" required="true" /&gt;
	&lt;h:outputText value="password" /&gt;
	&lt;h:inputSecret value="#{state.bean.password}" id="password" required="true" /&gt;
	&lt;h:outputText value="confirm" rendered="#{state.showConfirm}" /&gt;
	&lt;h:inputSecret value="#{state.bean.confirmPassword}" rendered="#{state.showConfirm}" id="confirm" required="true" /&gt;
&lt;/h:panelGrid&gt;
&lt;a4j:commandButton actionListener="#{state.action.listener}" action="#{state.ok}" value="#{state.okBtn}" id="action"/&gt;
...</pre></li></ul></div><div class="para">
			To see complete example of the Login/Register dialog, see the <a href="http://livedemo.exadel.com/richfaces-demo/richfaces/stateAPI.jsf?c=stateAPI">RichFaces Live Demo</a>.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm140579076285776">
      ⁠</a>4.6. Identifying User Roles</h1></div></div></div><div class="para">
			RichFaces also lets you check whether the logged-in user belongs to a certain <span class="property">user role</span> with the <code class="literal">rich:isUserInRole(Object)</code> function. This function takes a String or a comma-delineated list of Strings, a Collection, etc. as arguments and returns a Boolean value.
		</div><div class="para">
			As an example, imagine that you need to render some controls only for administrators. To do so, create an administrator role (<code class="literal">admin</code>) in your <code class="filename">web.xml</code> file. Then implement authorization that assigns the <code class="literal">admin</code> role to the user that has logged in as an administrator. Once this has been done, you can use the <code class="literal">rich:isUserInRole(Object)</code> function with the <code class="varname">rendered</code> attribute of any component. For example:
		</div><pre class="programlisting XML">...
&lt;rich:editor value="#{bean.text}"  rendered="#{rich:isUserInRole('admin')}" /&gt;
...</pre><div class="para">
			Here, only a logged-in user with an <code class="literal">admin</code> role can see the text editor, which will not be rendered for users with other roles.
		</div></div></div></body></html>