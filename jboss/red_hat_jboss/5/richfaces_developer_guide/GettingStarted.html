<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 2. Getting Started with RichFaces</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="GettingStarted">
      ⁠</a>Chapter 2. Getting Started with RichFaces</h1></div></div></div><div class="para">
		This chapter tells you how to plug RichFaces components into a JSF application. The instructions are based on a simple <span class="emphasis"><em>JSF with RichFaces</em></span> creation process, from downloading the required libraries to running the application in a browser. These instructions do not depend on the integrated development environment that is in use.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="SimpleJSFapplicationwithRichFaces">
      ⁠</a>2.1. Simple JSF application with RichFaces</h1></div></div></div><div class="para">
			<span class="application"><strong>RichFaces Greeter</strong></span> — the simple application — is similar to a typical <span class="emphasis"><em>hello world</em></span> application, with one exception: the world of RichFaces will say "Hello!" to the user first.
		</div><div class="para">
			Create a standard JSF 1.2 project named <code class="literal">Greeter</code>. Include all required libraries, and continue with the instructions that follow.
		</div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="AddingRichFaceslibrariesintotheproject">
      ⁠</a>2.1.1. Adding RichFaces libraries into the project</h2></div></div></div><div class="para">
				From the <code class="filename">RichFaces</code> folder where you unzipped the RichFaces binary files, open the <code class="filename">lib</code>. This folder contains three <code class="filename">*.jar</code> files with API, UI, and implementation libraries. Copy these JARs from <code class="filename">lib</code> to the <code class="filename">WEB-INF/lib</code> directory of your <span class="application"><strong>Greeter</strong></span> JSF application.
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
					A JSF application with RichFaces assumes that the following JARs are available in the project:
				</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
							<code class="filename">commons-beanutils-1.7.0.jar</code>
						</div></li><li class="listitem"><div class="para">
							<code class="filename">commons-collections-3.2.jar</code>
						</div></li><li class="listitem"><div class="para">
							<code class="filename">commons-digester-1.8.jar</code>
						</div></li><li class="listitem"><div class="para">
							<code class="filename">commons-logging-1.0.4.jar</code>
						</div></li><li class="listitem"><div class="para">
							<code class="filename">jhighlight-1.0.jar</code>
						</div></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="RegisteringRichFacesinwebxml">
      ⁠</a>2.1.2. Registering RichFaces in <code class="filename">web.xml</code></h2></div></div></div><div class="para">
				After you add the RichFaces libraries to the project, you must register them in the project <code class="filename">web.xml</code> file. Add the following to <code class="filename">web.xml</code>:
			</div><pre class="programlisting XML">
...
&lt;!-- Plugging the "Blue Sky" skin into the project --&gt;
&lt;context-param&gt;
   &lt;param-name&gt;org.richfaces.SKIN&lt;/param-name&gt;
   &lt;param-value&gt;blueSky&lt;/param-value&gt;
&lt;/context-param&gt;

&lt;!-- Making the RichFaces skin spread to standard HTML controls --&gt;
&lt;context-param&gt;
      &lt;param-name&gt;org.richfaces.CONTROL_SKINNING&lt;/param-name&gt;
      &lt;param-value&gt;enable&lt;/param-value&gt;
&lt;/context-param&gt;
 
&lt;!-- Defining and mapping the RichFaces filter --&gt;
&lt;filter&gt; 
   &lt;display-name&gt;RichFaces Filter&lt;/display-name&gt; 
   &lt;filter-name&gt;richfaces&lt;/filter-name&gt; 
   &lt;filter-class&gt;org.ajax4jsf.Filter&lt;/filter-class&gt; 
&lt;/filter&gt; 
  
&lt;filter-mapping&gt; 
   &lt;filter-name&gt;richfaces&lt;/filter-name&gt; 
   &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
   &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;
   &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;
   &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;
&lt;/filter-mapping&gt;
...
</pre><div class="para">
				For more information about RichFaces skins, read <a class="xref" href="ArchitectureOverview.html#Skinnability">Section 4.4, “Skinnability”</a>.
			</div><div class="para">
				Finally, your <code class="filename">web.xml</code> should look like this:
			</div><pre class="programlisting XML">
&lt;?xml version="1.0"?&gt;
&lt;web-app version="2.5" 
                xmlns="http://java.sun.com/xml/ns/javaee"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"&gt;
&lt;display-name&gt;Greeter&lt;/display-name&gt;
  
&lt;context-param&gt;
   &lt;param-name&gt;javax.faces.STATE_SAVING_METHOD&lt;/param-name&gt;
   &lt;param-value&gt;server&lt;/param-value&gt;
&lt;/context-param&gt;
  
&lt;context-param&gt;
   &lt;param-name&gt;org.richfaces.SKIN&lt;/param-name&gt;
   &lt;param-value&gt;blueSky&lt;/param-value&gt;
&lt;/context-param&gt;

&lt;context-param&gt;
      &lt;param-name&gt;org.richfaces.CONTROL_SKINNING&lt;/param-name&gt;
      &lt;param-value&gt;enable&lt;/param-value&gt;
&lt;/context-param&gt;
 
&lt;filter&gt; 
   &lt;display-name&gt;RichFaces Filter&lt;/display-name&gt; 
   &lt;filter-name&gt;richfaces&lt;/filter-name&gt; 
   &lt;filter-class&gt;org.ajax4jsf.Filter&lt;/filter-class&gt; 
&lt;/filter&gt; 

&lt;filter-mapping&gt; 
   &lt;filter-name&gt;richfaces&lt;/filter-name&gt; 
   &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
   &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;
   &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;
   &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;
&lt;/filter-mapping&gt;
  
&lt;listener&gt;
   &lt;listener-class&gt;com.sun.faces.config.ConfigureListener&lt;/listener-class&gt;
&lt;/listener&gt;
  
&lt;!-- Faces Servlet --&gt;
&lt;servlet&gt;
   &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
   &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;
   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
 
&lt;!-- Faces Servlet Mapping --&gt;
&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;
   &lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
  
&lt;login-config&gt;
   &lt;auth-method&gt;BASIC&lt;/auth-method&gt;
   &lt;/login-config&gt;
&lt;/web-app&gt;
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Managedbean">
      ⁠</a>2.1.3. Managed bean</h2></div></div></div><div class="para">
				The <span class="application"><strong>RichFaces Greeter</strong></span> application needs a managed bean. In the project's <code class="filename">JavaSource</code> directory, create a new managed bean named <code class="literal">user</code> in the <code class="literal">demo</code> package. Place the following code in <code class="filename">user</code>:
			</div><pre class="programlisting JAVA">package demo;

public class user {
   private String name="";
   public String getName() {
      return name;
   }
   public void setName(String name) {
      this.name = name;
   }
}</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Registeringbeaninfacesconfig">
      ⁠</a>2.1.4. Registering the bean in <code class="filename">faces-config.xml</code></h2></div></div></div><div class="para">
				To register the <code class="literal">user</code> bean, add the following to the <code class="filename">faces-config.xml</code> file:
			</div><pre class="programlisting XML">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;faces-config version="1.2" 
                    xmlns="http://java.sun.com/xml/ns/javaee"
                    xmlns:xi="http://www.w3.org/2001/XInclude"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd"&gt;
   &lt;managed-bean&gt;
      &lt;description&gt;UsernName Bean&lt;/description&gt;
      &lt;managed-bean-name&gt;user&lt;/managed-bean-name&gt;
      &lt;managed-bean-class&gt;demo.user&lt;/managed-bean-class&gt;
      &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;
      &lt;managed-property&gt;
         &lt;property-name&gt;name&lt;/property-name&gt;
         &lt;property-class&gt;java.lang.String&lt;/property-class&gt;
         &lt;value/&gt;
      &lt;/managed-property&gt;
   &lt;/managed-bean&gt;
&lt;/faces-config&gt;
</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="RichFacesGreeterindex">
      ⁠</a>2.1.5. RichFaces Greeter index.jsp</h2></div></div></div><div class="para">
				<span class="application"><strong>RichFaces Greeter</strong></span> has only one JSP page. Create <code class="filename">index.jsp</code> in the root of <code class="literal">WEB CONTENT</code> folder and add the following to the JSP file:
			</div><pre class="programlisting XML">&lt;!doctype html public "-//w3c//dtd html 4.0 transitional//en"&gt;
&lt;%@ taglib uri="http://java.sun.com/jsf/core" prefix="f" %&gt;
&lt;%@ taglib uri="http://java.sun.com/jsf/html" prefix="h" %&gt;
&lt;!-- RichFaces tag library declaration --&gt;
&lt;%@ taglib uri="http://richfaces.org/a4j" prefix="a4j"%&gt;
&lt;%@ taglib uri="http://richfaces.org/rich" prefix="rich"%&gt;
 
&lt;html&gt;
      &lt;head&gt;
            &lt;title&gt;RichFaces Greeter&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
            &lt;f:view&gt;
                  &lt;a4j:form&gt;
                        &lt;rich:panel header="RichFaces Greeter" style="width: 315px"&gt;
                              &lt;h:outputText value="Your name: " /&gt;
                              &lt;h:inputText value="#{user.name}" &gt;
                                    &lt;f:validateLength minimum="1" maximum="30" /&gt;
                              &lt;/h:inputText&gt;
                              
                              &lt;a4j:commandButton value="Get greeting" reRender="greeting" /&gt;
                              
                              &lt;h:panelGroup id="greeting" &gt;
                                    &lt;h:outputText value="Hello, " rendered="#{not empty user.name}" /&gt;
                                    &lt;h:outputText value="#{user.name}" /&gt;
                                    &lt;h:outputText value="!" rendered="#{not empty user.name}" /&gt;
                              &lt;/h:panelGroup&gt;
                        &lt;/rich:panel&gt;
                  &lt;/a4j:form&gt;
            &lt;/f:view&gt;
      &lt;/body&gt;
&lt;/html&gt;
</pre><div class="para">
				The application uses three RichFaces components: <span class="bold bold"><strong><span class="property">&lt;rich:panel&gt;</span></strong></span> is used as visual container for information; <span class="bold bold"><strong><span class="property">&lt;a4j:commandButton&gt;</span></strong></span> with built-in AJAX support lets a greeting be rendered dynamically after a response returns; and <span class="bold bold"><strong><span class="property">&lt;a4j:form&gt;</span></strong></span> helps the button to perform the action.
			</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					The RichFaces tag library should be declared on each JSP page. For XHTML pages, add the following lines to declare your tag libraries:
				</div><pre class="programlisting XML">&lt;xmlns:a4j="http://richfaces.org/a4j"&gt;
&lt;xmlns:rich="http://richfaces.org/rich"&gt;</pre><div class="para">
					Now, run the application on the server by pointing your browser to the <code class="filename">index.jsp</code> page: <code class="literal">http://localhost:8080/Greeter/index.jsf</code>
				</div><div class="figure"><a id="idm140579054576688">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/GettingStarted_RFGreeterApp.png" alt="&quot;RichFaces Greeter&quot; application"/></div></div><p class="title"><strong>Figure 2.1. "RichFaces Greeter" application</strong></p></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="RelevantResourcesLinks">
      ⁠</a>2.2. Relevant Resources Links</h1></div></div></div><div class="para">
			<a href="https://www.redhat.com/apps/store/developers/jboss_developer_studio.html">JBoss Developer Studio</a> includes tight integration with the RichFaces component framework. 
		</div></div></div></body></html>