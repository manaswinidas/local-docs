<?xml version="1.0" encoding="utf-8" standalone="no"?>
<ncx xmlns="http://www.daisy.org/z3986/2005/ncx/" version="2005-1"><head><meta name="dtb:uid" content="5_idm139921684181488"/></head><docTitle><text>Security Guide</text></docTitle><navMap><navPoint id="idm139921684181488" playOrder="1"><navLabel><text>Security Guide</text></navLabel><content src="index.html"/><navPoint id="idm139921684424352" playOrder="2"><navLabel><text>I. Security Overview</text></navLabel><content src="part-Security_Overview.html"/><navPoint id="idm139921680765120" playOrder="3"><navLabel><text>1. Java EE Declarative Security Overview</text></navLabel><content src="chap-Java_EE_Declarative_Security_Overview.html"/><navPoint id="idm139921633019936" playOrder="4"><navLabel><text>1.1. Security References</text></navLabel><content src="chap-Java_EE_Declarative_Security_Overview.html#J2EE_Declarative_Security_Overview-Security_References"/></navPoint><navPoint id="idm139921630428832" playOrder="5"><navLabel><text>1.2. Security Identity</text></navLabel><content src="chap-Java_EE_Declarative_Security_Overview.html#J2EE_Declarative_Security_Overview-Security_Identity"/></navPoint><navPoint id="idm139921699306416" playOrder="6"><navLabel><text>1.3. Security Roles</text></navLabel><content src="chap-Java_EE_Declarative_Security_Overview.html#J2EE_Declarative_Security_Overview-Security_roles"/></navPoint><navPoint id="idm139921666705728" playOrder="7"><navLabel><text>1.4. EJB method permissions</text></navLabel><content src="chap-Java_EE_Declarative_Security_Overview.html#J2EE_Declarative_Security_Overview-EJB_method_permissions"/></navPoint><navPoint id="idm139921632478560" playOrder="8"><navLabel><text>1.5. Enterprise Bean Security Annotations</text></navLabel><content src="chap-Java_EE_Declarative_Security_Overview.html#idm139921632478560"/></navPoint><navPoint id="idm139921694221312" playOrder="9"><navLabel><text>1.6. Web Content Security Constraints</text></navLabel><content src="chap-Java_EE_Declarative_Security_Overview.html#J2EE_Declarative_Security_Overview-Web_Content_Security_Constraints"/></navPoint><navPoint id="idm139921684527296" playOrder="10"><navLabel><text>1.7. Enabling Form-based Authentication</text></navLabel><content src="chap-Java_EE_Declarative_Security_Overview.html#Enabling_FORM_Authentication"/></navPoint><navPoint id="idm139921695042960" playOrder="11"><navLabel><text>1.8. Enabling Declarative Security</text></navLabel><content src="chap-Java_EE_Declarative_Security_Overview.html#J2EE_Declarative_Security_Overview-Enabling_Declarative_Security_in_JBoss"/></navPoint></navPoint><navPoint id="idm139921665311104" playOrder="12"><navLabel><text>2. Introduction to JAAS</text></navLabel><content src="Introduction_to_JAAS.html"/><navPoint id="idm139921625749872" playOrder="13"><navLabel><text>2.1. JAAS Core Classes</text></navLabel><content src="Introduction_to_JAAS.html#What_is_JAAS-The_JAAS_Core_Classes"/><navPoint id="idm139921692340992" playOrder="14"><navLabel><text>2.1.1. Subject and Principal Classes</text></navLabel><content src="Introduction_to_JAAS.html#sect-The_Subject_and_Principal_Classes"/></navPoint><navPoint id="idm139921689519040" playOrder="15"><navLabel><text>2.1.2. Subject Authentication</text></navLabel><content src="Introduction_to_JAAS.html#sect-Subject_Authentication"/></navPoint></navPoint></navPoint><navPoint id="idm139921630393760" playOrder="16"><navLabel><text>3. JBoss Security Model</text></navLabel><content src="The_JBoss_Security_Model.html"/><navPoint id="idm139921627757936" playOrder="17"><navLabel><text>3.1. Enabling Declarative Security Revisited</text></navLabel><content src="The_JBoss_Security_Model.html#The_JBoss_Security_Model-Enabling_Declarative_Security_in_JBoss_Revisited"/></navPoint></navPoint><navPoint id="idm139921691028336" playOrder="18"><navLabel><text>4. The JBoss Security Extension Architecture</text></navLabel><content src="JBoss_Security_Extension_Architecture.html"/><navPoint id="idm139921626296560" playOrder="19"><navLabel><text>4.1. How the JaasSecurityManager Uses JAAS</text></navLabel><content src="JBoss_Security_Extension_Architecture.html#The_JBoss_Security_Extension_Architecture-How_the_JaasSecurityManager_Uses_JAAS"/></navPoint><navPoint id="idm139921668081440" playOrder="20"><navLabel><text>4.2. The JaasSecurityManagerService MBean</text></navLabel><content src="JBoss_Security_Extension_Architecture.html#sect-JaasSecurityManagerService_MBean"/></navPoint><navPoint id="idm139921679929136" playOrder="21"><navLabel><text>4.3. The JaasSecurityDomain MBean</text></navLabel><content src="JBoss_Security_Extension_Architecture.html#sect-JaasSecurityDomain_MBean"/></navPoint></navPoint></navPoint><navPoint id="idm139921678668592" playOrder="22"><navLabel><text>II. Application Security</text></navLabel><content src="pt02.html"/><navPoint id="idm139921674900112" playOrder="23"><navLabel><text>5. Overview</text></navLabel><content src="Application_Security_Overview.html"/></navPoint><navPoint id="idm139921679235472" playOrder="24"><navLabel><text>6. Security Domain Schema</text></navLabel><content src="Security_Domain_Schema_Construction.html"/><navPoint id="idm139921666049664" playOrder="25"><navLabel><text>6.1. Security Domain Elements</text></navLabel><content src="Security_Domain_Schema_Construction.html#Security_Domain_Elements"/><navPoint id="idm139921680823632" playOrder="26"><navLabel><text>6.1.1. &lt;authentication&gt;</text></navLabel><content src="Security_Domain_Schema_Construction.html#Security_Domain_Schema_Authentication_Element"/></navPoint><navPoint id="idm139921632864256" playOrder="27"><navLabel><text>6.1.2. &lt;authorization&gt;</text></navLabel><content src="Security_Domain_Schema_Construction.html#Security_Domain_Schema_Authorization_Element"/></navPoint><navPoint id="idm139921695143504" playOrder="28"><navLabel><text>6.1.3. &lt;mapping&gt;</text></navLabel><content src="Security_Domain_Schema_Construction.html#Security_Domain_Schema_Mapping_Element"/></navPoint></navPoint></navPoint><navPoint id="idm139921662916784" playOrder="29"><navLabel><text>7. Authentication</text></navLabel><content src="Security_Domain_Authentication.html"/><navPoint id="idm139921689927792" playOrder="30"><navLabel><text>7.1. Custom Callback Handlers</text></navLabel><content src="Security_Domain_Authentication.html#Custom_Callback_Handlers"/></navPoint></navPoint><navPoint id="idm139921683606464" playOrder="31"><navLabel><text>8. Authorization</text></navLabel><content src="Security_Domain_Authorization.html"/><navPoint id="idm139921670193888" playOrder="32"><navLabel><text>8.1. Module Delegation</text></navLabel><content src="Security_Domain_Authorization.html#Authorization_Policy_Module_Delegation"/></navPoint></navPoint><navPoint id="idm139921682868896" playOrder="33"><navLabel><text>9. Mapping</text></navLabel><content src="Security_Domain_Mapping.html"/></navPoint><navPoint id="idm139921699152656" playOrder="34"><navLabel><text>10. Auditing</text></navLabel><content src="chap-Security_Event_Auditing.html"/></navPoint><navPoint id="idm139921628602800" playOrder="35"><navLabel><text>11. Deploying Security Domains</text></navLabel><content src="chap-Dynamic_Security_Domains.html"/></navPoint><navPoint id="idm139921684810688" playOrder="36"><navLabel><text>12. Login Modules</text></navLabel><content src="ch12.html"/><navPoint id="idm139921626498720" playOrder="37"><navLabel><text>12.1. Using Modules</text></navLabel><content src="ch12.html#chap-JBoss_Login_Modules"/><navPoint id="idm139921676121824" playOrder="38"><navLabel><text>12.1.1. LdapLoginModule</text></navLabel><content src="ch12.html#sect-LdapLoginModule"/></navPoint><navPoint id="idm139921663093568" playOrder="39"><navLabel><text>12.1.2. LdapExtLoginModule</text></navLabel><content src="ch12.html#sect-LdapExtLoginModule"/></navPoint><navPoint id="idm139921635822304" playOrder="40"><navLabel><text>12.1.3. Password Stacking</text></navLabel><content src="ch12.html#sect-Password_Stacking"/></navPoint><navPoint id="idm139921659634320" playOrder="41"><navLabel><text>12.1.4. Password Hashing</text></navLabel><content src="ch12.html#Using_JBoss_Login_Modules-Password_Hashing"/></navPoint><navPoint id="idm139921681775600" playOrder="42"><navLabel><text>12.1.5. Unauthenticated Identity</text></navLabel><content src="ch12.html#Using_JBoss_Login_Modules-Unauthenticated_Identity"/></navPoint><navPoint id="idm139921673267248" playOrder="43"><navLabel><text>12.1.6. UsersRolesLoginModule</text></navLabel><content src="ch12.html#sect-UsersRolesLoginModule"/></navPoint><navPoint id="idm139921677377360" playOrder="44"><navLabel><text>12.1.7. DatabaseServerLoginModule</text></navLabel><content src="ch12.html#sect-DatabaseServerLoginModule"/></navPoint><navPoint id="idm139921666530384" playOrder="45"><navLabel><text>12.1.8. BaseCertLoginModule</text></navLabel><content src="ch12.html#sect-BaseCertLoginModule"/></navPoint><navPoint id="idm139921678227264" playOrder="46"><navLabel><text>12.1.9. IdentityLoginModule</text></navLabel><content src="ch12.html#sect-IdentityLoginModule"/></navPoint><navPoint id="idm139921674867344" playOrder="47"><navLabel><text>12.1.10. RunAsLoginModule</text></navLabel><content src="ch12.html#sect-RunAsLoginModule"/></navPoint><navPoint id="idm139921686285152" playOrder="48"><navLabel><text>12.1.11. RunAsIdentity Creation</text></navLabel><content src="ch12.html#sect-RunAsIdentity_Creation"/></navPoint><navPoint id="idm139921670322016" playOrder="49"><navLabel><text>12.1.12. ClientLoginModule</text></navLabel><content src="ch12.html#sect-ClientLoginModule"/></navPoint><navPoint id="idm139921687030512" playOrder="50"><navLabel><text>12.1.13. SPNEGOLoginModule</text></navLabel><content src="ch12.html#sect-SPNEGOLoginModule"/></navPoint><navPoint id="idm139921692064848" playOrder="51"><navLabel><text>12.1.14. RoleMappingLoginModule</text></navLabel><content src="ch12.html#sect-RoleMappingLoginModule"/></navPoint></navPoint><navPoint id="idm139921681749152" playOrder="52"><navLabel><text>12.2. Custom Modules</text></navLabel><content src="ch12.html#sect-Custom_Modules"/><navPoint id="idm139921698911664" playOrder="53"><navLabel><text>12.2.1. Subject Usage Pattern Support</text></navLabel><content src="ch12.html#sect-Subject_Usage_Pattern_Support"/></navPoint><navPoint id="idm139921627719536" playOrder="54"><navLabel><text>12.2.2. Custom LoginModule Example</text></navLabel><content src="ch12.html#sect-Custom_LoginModule_Example"/></navPoint></navPoint></navPoint></navPoint><navPoint id="idm139921626522576" playOrder="55"><navLabel><text>III. Encryption and Security</text></navLabel><content src="pt03.html"/><navPoint id="idm139921667970064" playOrder="56"><navLabel><text>13. Secure Remote Password Protocol</text></navLabel><content src="chap-Secure_Remote_Password_Protocol.html"/><navPoint id="idm139921693963456" playOrder="57"><navLabel><text>13.1. Understanding the Algorithm</text></navLabel><content src="chap-Secure_Remote_Password_Protocol.html#sect-Understanding_The_Algorithm"/></navPoint><navPoint id="idm139921701894640" playOrder="58"><navLabel><text>13.2. Configure Secure Remote Password Information</text></navLabel><content src="chap-Secure_Remote_Password_Protocol.html#sect-Configure_Secure_Remote_Password_Information"/></navPoint><navPoint id="idm139921681146224" playOrder="59"><navLabel><text>13.3. Secure Remote Password Example</text></navLabel><content src="chap-Secure_Remote_Password_Protocol.html#sect-Secure_Remote_Password_Example"/></navPoint></navPoint><navPoint id="idm139921690550544" playOrder="60"><navLabel><text>14. Java Security Manager</text></navLabel><content src="chap-Java_EE_Security_Manager.html"/><navPoint id="idm139921631566544" playOrder="61"><navLabel><text>14.1. Using the Security Manager</text></navLabel><content src="chap-Java_EE_Security_Manager.html#sect-Activate_Security_Manager"/></navPoint><navPoint id="idm139921627436464" playOrder="62"><navLabel><text>14.2. Debugging Security Policy Issues</text></navLabel><content src="chap-Java_EE_Security_Manager.html#idm139921627436464"/><navPoint id="idm139921696817712" playOrder="63"><navLabel><text>14.2.1. Debugging Security Manager</text></navLabel><content src="chap-Java_EE_Security_Manager.html#idm139921696817712"/></navPoint></navPoint><navPoint id="idm139921627454912" playOrder="64"><navLabel><text>14.3. Writing Security Policy for JBoss Enterprise Application Platform</text></navLabel><content src="chap-Java_EE_Security_Manager.html#sect-Writing_Your_Own_Security_Policy"/></navPoint></navPoint><navPoint id="idm139921666309840" playOrder="65"><navLabel><text>15. Securing the EJB RMI transport layer</text></navLabel><content src="chap-Secure_Socket_Layer.html"/><navPoint id="idm139921677571568" playOrder="66"><navLabel><text>15.1. SSL Encryption overview</text></navLabel><content src="chap-Secure_Socket_Layer.html#sect-keystore-background"/><navPoint id="idm139921667720256" playOrder="67"><navLabel><text>15.1.1. Key pairs and Certificates</text></navLabel><content src="chap-Secure_Socket_Layer.html#sect-keypairs_and_certificates"/></navPoint></navPoint><navPoint id="idm139921662692256" playOrder="68"><navLabel><text>15.2. Generate encryption keys and certificate</text></navLabel><content src="chap-Secure_Socket_Layer.html#sect-generate-keys-and-cert"/><navPoint id="idm139921666948992" playOrder="69"><navLabel><text>15.2.1. Generate a self-signed certificate with keytool</text></navLabel><content src="chap-Secure_Socket_Layer.html#sect-generate-self-signed-cert"/><navPoint id="idm139921696448160" playOrder="70"><navLabel><text>15.2.1.1. Generate a key pair</text></navLabel><content src="chap-Secure_Socket_Layer.html#idm139921696448160"/></navPoint><navPoint id="idm139921685024288" playOrder="71"><navLabel><text>15.2.1.2. Export a self-signed certificate</text></navLabel><content src="chap-Secure_Socket_Layer.html#sect-export-self-signed-cert"/></navPoint></navPoint><navPoint id="idm139921628690544" playOrder="72"><navLabel><text>15.2.2. Configure a client to accept a self-signed server certificate</text></navLabel><content src="chap-Secure_Socket_Layer.html#idm139921628690544"/></navPoint></navPoint><navPoint id="idm139921662580864" playOrder="73"><navLabel><text>15.3. EJB3 RMI + SSL Configuration</text></navLabel><content src="chap-Secure_Socket_Layer.html#RMI_SSL_EJB3"/></navPoint><navPoint id="idm139921670803104" playOrder="74"><navLabel><text>15.4. EJB3 RMI via HTTPS Configuration</text></navLabel><content src="chap-Secure_Socket_Layer.html#EJB3_RMI_HTTPS"/></navPoint><navPoint id="idm139921666844672" playOrder="75"><navLabel><text>15.5. EJB2 RMI + SSL Configuration</text></navLabel><content src="chap-Secure_Socket_Layer.html#EJB2_SSL"/></navPoint></navPoint><navPoint id="idm139921687169680" playOrder="76"><navLabel><text>16. Masking Passwords in XML Configuration</text></navLabel><content src="Masking_Passwords.html"/><navPoint id="idm139921666359008" playOrder="77"><navLabel><text>16.1. Password Masking Overview</text></navLabel><content src="Masking_Passwords.html#idm139921666359008"/></navPoint><navPoint id="idm139921684679504" playOrder="78"><navLabel><text>16.2. Generate a key store and a masked password</text></navLabel><content src="Masking_Passwords.html#idm139921684679504"/></navPoint><navPoint id="idm139921689666688" playOrder="79"><navLabel><text>16.3. Encrypt the key store password</text></navLabel><content src="Masking_Passwords.html#sect-encrypt-key-store-password"/></navPoint><navPoint id="idm139921701385952" playOrder="80"><navLabel><text>16.4. Create password masks</text></navLabel><content src="Masking_Passwords.html#idm139921701385952"/></navPoint><navPoint id="idm139921697759920" playOrder="81"><navLabel><text>16.5. Replace clear text passwords with their password masks</text></navLabel><content src="Masking_Passwords.html#idm139921697759920"/></navPoint><navPoint id="idm139921684411168" playOrder="82"><navLabel><text>16.6. Changing the password masking defaults</text></navLabel><content src="Masking_Passwords.html#sect-changing-password-masking-keystore"/></navPoint></navPoint><navPoint id="idm139921694759904" playOrder="83"><navLabel><text>17. Encrypting Data Source Passwords</text></navLabel><content src="Encrypting_Data_Source_Passwords.html"/><navPoint id="idm139921680163440" playOrder="84"><navLabel><text>17.1. Secured Identity</text></navLabel><content src="Encrypting_Data_Source_Passwords.html#sect-Secured_Identity"/><navPoint id="idm139921634525952" playOrder="85"><navLabel><text>17.1.1. Encrypt the data source password</text></navLabel><content src="Encrypting_Data_Source_Passwords.html#sect-encrypt-data-source-password"/></navPoint><navPoint id="idm139921631291232" playOrder="86"><navLabel><text>17.1.2. Create an application authentication policy with the encrypted password</text></navLabel><content src="Encrypting_Data_Source_Passwords.html#sect-create-auth-policy-datasource"/></navPoint><navPoint id="idm139921680770672" playOrder="87"><navLabel><text>17.1.3. Configure the data source to use the application authentication policy</text></navLabel><content src="Encrypting_Data_Source_Passwords.html#idm139921680770672"/></navPoint></navPoint><navPoint id="idm139921669895856" playOrder="88"><navLabel><text>17.2. Configured Identity with Password Based Encryption (PBE)</text></navLabel><content src="Encrypting_Data_Source_Passwords.html#sect-PBE"/></navPoint></navPoint><navPoint id="idm139921696766544" playOrder="89"><navLabel><text>18. Encrypting the Keystore Password in a Tomcat Connector</text></navLabel><content src="Encrypting_The_Keystore_Password_In_Tomcat.html"/><navPoint id="idm139921675418208" playOrder="90"><navLabel><text>18.1. Medium Security Usecase</text></navLabel><content src="Encrypting_The_Keystore_Password_In_Tomcat.html#idm139921675418208"/></navPoint></navPoint><navPoint id="idm139921688895840" playOrder="91"><navLabel><text>19. Using LdapExtLoginModule with JaasSecurityDomain</text></navLabel><content src="Using_LdapExtLoginModule_with_JaasSecurityDomain.html"/></navPoint><navPoint id="idm139921626086688" playOrder="92"><navLabel><text>20. Firewalls</text></navLabel><content src="chap-Firewalls.html"/></navPoint><navPoint id="idm139921687591472" playOrder="93"><navLabel><text>21. Securing the Administrative Access Points</text></navLabel><content src="chap-Consoles_and_Invokers.html"/><navPoint id="idm139921690620192" playOrder="94"><navLabel><text>21.1. JMX Console</text></navLabel><content src="chap-Consoles_and_Invokers.html#sect-The_JMX_Console"/></navPoint><navPoint id="idm139921674818928" playOrder="95"><navLabel><text>21.2. Admin Console</text></navLabel><content src="chap-Consoles_and_Invokers.html#How_to_Secure_the_JBoss_Server-The_Web_Console"/></navPoint><navPoint id="idm139921679588224" playOrder="96"><navLabel><text>21.3. Web Console</text></navLabel><content src="chap-Consoles_and_Invokers.html#idm139921679588224"/></navPoint><navPoint id="idm139921694593312" playOrder="97"><navLabel><text>21.4. HTTP Invoker</text></navLabel><content src="chap-Consoles_and_Invokers.html#How_to_Secure_the_JBoss_Server-The_HTTP_Invokers"/></navPoint><navPoint id="idm139921696617184" playOrder="98"><navLabel><text>21.5. JMX Invoker</text></navLabel><content src="chap-Consoles_and_Invokers.html#How_to_Secure_the_JBoss_Server-The_JMX_Invoker"/></navPoint><navPoint id="idm139921685013072" playOrder="99"><navLabel><text>21.6. Remote Access to Services, Detached Invokers</text></navLabel><content src="chap-Consoles_and_Invokers.html#Remote_Access_to_Services_Detached_Invokers"/><navPoint id="idm139921687118320" playOrder="100"><navLabel><text>21.6.1. A Detached Invoker Example, the MBeanServer Invoker Adaptor Service</text></navLabel><content src="chap-Consoles_and_Invokers.html#Remote_Access_to_Services_Detached_Invokers-A_Detached_Invoker_Example_the_MBeanServer_Invoker_Adaptor_Service"/></navPoint></navPoint><navPoint id="idm139921684647312" playOrder="101"><navLabel><text>21.7. Disabling Authentication</text></navLabel><content src="chap-Consoles_and_Invokers.html#Disabling_Authentication"/><navPoint id="idm139921697763904" playOrder="102"><navLabel><text>21.7.1. JMX Console</text></navLabel><content src="chap-Consoles_and_Invokers.html#Disabling_Auth-JMXConsole"/></navPoint><navPoint id="idm139921689982352" playOrder="103"><navLabel><text>21.7.2. Web Console</text></navLabel><content src="chap-Consoles_and_Invokers.html#Disabling_Auth-WebConsole"/></navPoint><navPoint id="idm139921663405872" playOrder="104"><navLabel><text>21.7.3. JMX Invoker</text></navLabel><content src="chap-Consoles_and_Invokers.html#Disabling_Auth-HTTPInvoker"/></navPoint><navPoint id="idm139921696273376" playOrder="105"><navLabel><text>21.7.4. JMX Invoker</text></navLabel><content src="chap-Consoles_and_Invokers.html#idm139921696273376"/></navPoint><navPoint id="idm139921669731504" playOrder="106"><navLabel><text>21.7.5. ProfileService</text></navLabel><content src="chap-Consoles_and_Invokers.html#idm139921669731504"/></navPoint><navPoint id="idm139921686297616" playOrder="107"><navLabel><text>21.7.6. JBossWS</text></navLabel><content src="chap-Consoles_and_Invokers.html#idm139921686297616"/></navPoint></navPoint></navPoint></navPoint><navPoint id="idm139921690710848" playOrder="108"><navLabel><text>A. Setting the default JDK with the /usr/sbin/alternatives Utility</text></navLabel><content src="appendix-use_alternatives_to_set_default_JDK.html"/></navPoint><navPoint id="idm139921690806384" playOrder="109"><navLabel><text>B. Revision History</text></navLabel><content src="appe-JBoss_Security_Chapter-Revision_History.html"/></navPoint></navPoint></navMap></ncx>