<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 2. Introduction</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="JBoss_Enterprise_Application_Platform_5_Introduction">
      ⁠</a>Chapter 2. Introduction</h1></div></div></div><div class="para">
		<a id="idm139776732130736" class="indexterm"/> JBoss Enterprise Application Platform 5 is an open-source JEE-based middleware solution. It is built on top of the consolidated JBoss Application Server 5 called JBoss Enterprise Application Server, which introduces the new JBoss Microcontainer.
	</div><div class="para">
		The JBoss Microcontainer is a lightweight container that supports direct deployment, configuration, and lifecycle of plain old Java objects (POJOs). <a id="idm139776754931648" class="indexterm"/> It replaces the JBoss JMX Microkernel used in the 4.x JBoss Enterprise Application Platforms.
	</div><div class="para">
		JBoss Enterprise Application Platform also includes the following supported components:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				JBoss HTTP Connector for load balancing
			</div></li><li class="listitem"><div class="para">
				PicketLink framework for identity management
			</div></li><li class="listitem"><div class="para">
				RESTEasy framework for RESTful web services
			</div></li><li class="listitem"><div class="para">
				Seam framework for development
			</div></li></ul></div><div class="para">
		The JBoss Microcontainer integrates with the JBoss Aspect Oriented Programming framework (JBoss AOP, refer to <a class="xref" href="jboss_aop.html">Chapter 12, <em>JBoss AOP</em></a>). Support for JMX in JBoss Enterprise Application Platform 5 remains strong and MBean services written against the old Microkernel are expected to work.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Integrated_Projects">
      ⁠</a>2.1. Integrated Projects</h1></div></div></div><div class="para">
			JBoss Enterprise Application Platform 5 integrates the following standalone JBoss projects:
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">JBoss EJB</span></dt><dd><div class="para">
						JBoss EJB3 provides the implementation of the Enterprise Java Beans (EJB) specification. EJB 3.0 is a deep overhaul and simplification of the EJB specification.
					</div></dd><dt><span class="term">JBoss Transactions</span></dt><dd><div class="para">
						JBoss Transactions is the default transaction manager compliant with JTA, JTS and Web Services standards.
					</div></dd><dt><span class="term">JBoss Web</span></dt><dd><div class="para">
						JBoss Web is the Web container component based on Apache Tomcat that includes the Apache Portable Runtime (APR) and Tomcat native technologies.
					</div></dd><dt><span class="term">JBoss Messaging (JMS)</span></dt><dd><div class="para">
						JBoss Messaging is the default messaging provider. It is also the backbone of the JBoss enterprise service bus (ESB) infrastructure. JBoss Messaging substitutes JBossMQ, which is the default JMS provider for JBoss Enterprise Application Platform 4.2.
					</div></dd><dt><span class="term">JBoss Cache</span></dt><dd><div class="para">
						JBoss Cache provides two types of transactional cache: a traditional tree-structured node-based cache; and a PojoCache, an in-memory, transactional, and replicated cache system that allows users to operate on simple POJOs transparently without active user management of either replication or persistency aspects.
					</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>JBoss Cache is Deprecated</strong></p></div><div class="admonition"><div class="para">
							JBoss Cache is deprecated and substituted by Infinispan in the next major JBoss Enterprise Application Platform release.
						</div></div></div></dd><dt><span class="term">JBossWS 3.x</span></dt><dd><div class="para">
						JBossWS 3.x is the web service stack that provides Java EE compatible web services.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="JBoss_Enterprise_Application_Platform_5_Architecture">
      ⁠</a>2.2. Architecture</h1></div></div></div><a id="idm139776734281520" class="indexterm"/><div class="para">
			JBoss Enterprise Application Platform is a JBoss product based on the JBoss Enterprise Application Server with the following additional components:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					JBoss HTTP Connector for load balancing
				</div></li><li class="listitem"><div class="para">
					Picketlink framework for identity management
				</div></li><li class="listitem"><div class="para">
					RESTEasy framework for RESTful web services
				</div></li><li class="listitem"><div class="para">
					Seam framework for development of web application
				</div></li></ul></div><div class="para">
			The heart of JBoss Enterprise Application Platform is the JBoss Enterprise Application Server, which is a consolidated JBoss Application Server. <a class="xref" href="JBoss_Enterprise_Application_Platform_5_Introduction.html#EAP_Architecture">Figure 2.1, “Components”</a> contains a schema of the JBoss Enterprise Application Server and its components. The entire JBoss Enterprise Application Server rests on a JVM (Java Virtual Machine) to allow the execution of the Java code.
		</div><div class="figure"><a id="EAP_Architecture">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="images/jboss-as-components.png" width="594" alt="Components"/></div></div><p class="title"><strong>Figure 2.1. Components</strong></p></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">JBoss Microcontainer kernel</span></dt><dd><div class="para">
						is the execution core of JBoss Enterprise Application Platform. It loads the bootstrap beans so as to connect to the deployed services. JBoss Microcontainer substitutes JMX (Java Management Extension). However, MCBeans and legacy MBean deployments are still included so as to support legacy services.
					</div></dd><dt><span class="term">Component Deployers</span></dt><dd><div class="para">
						cover the loading of the deployed resources.
					</div></dd><dt><span class="term">Enterprise Services</span></dt><dd><div class="para">
						include all services of the JBoss Enterprise Application Platform.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sec-Directory_Structure">
      ⁠</a>2.3. Directory Structure</h1></div></div></div><div class="para">
			The directory structure resembles the architecture of the 4.x series with minor differences. Note that JBoss Enterprise Application Platform now contains the HTTP Connector (in the <code class="filename">mod_cluster</code> directory), Picketlink (in the <code class="filename">picketlink</code> directory) , and RESTeasy (in the <code class="filename">resteasy</code> directory).
		</div><div class="para">
			The JBoss Enterprise Application Server directory now contains the <code class="filename">common</code> directory, which has been added to accommodate the libraries common for all server profiles and prevent the library duplication in the directory structure.
		</div><div class="para">
			The JBoss Enterprise Application Platform basic directory structure is as follows:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<code class="filename">jboss-as</code> — JBoss Enterprise Application Server home directory
				</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
							<code class="filename">bin</code> — start and shutdown scripts, other useful scripts
						</div></li><li class="listitem"><div class="para">
							<code class="filename">client</code> — client JAR files
						</div></li><li class="listitem"><div class="para">
							<code class="filename">common</code> — static JAR files shared by all server profiles
						</div><div class="para">
							This directory has been added to prevent duplicated copying of common libraries into individual server profile directories.
						</div></li><li class="listitem"><div class="para">
							<code class="filename">docs</code> — schemas/dtds, examples
						</div></li><li class="listitem"><div class="para">
							<code class="filename">lib</code> — core bootstrap JAR files
						</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
									<code class="filename">endorsed</code> — directory on the server JVM java.endorsed.dirs path
								</div></li></ul></div></li><li class="listitem"><div class="para">
							<code class="filename">server</code> — server profile directories
						</div></li></ul></div></li><li class="listitem"><div class="para">
					<code class="filename">mod_cluster</code> — JBoss HTTP Connector
				</div></li><li class="listitem"><div class="para">
					<code class="filename">picketlink</code> — the PicketLink project
				</div></li><li class="listitem"><div class="para">
					<code class="filename">resteasy</code> — RESTEasy implementation (JSR-311, JAX-RS)
				</div></li><li class="listitem"><div class="para">
					<code class="filename">seam</code> — JBoss Seam application framework home directory
				</div><div class="para">
					Note that JBoss Enterprise Application Platform 4.3 contained two seam directories: <code class="filename">seam1</code> and <code class="filename">seam2</code>. The <code class="filename">seam1</code> directory contained Seam 1.2.1 that was delivered originally with JBoss Enterprise Application Platform 4. It contained the <code class="filename">drools</code>, <code class="filename">embedded-ejb</code>, and <code class="filename">hibernate</code> directories with libraries. Now, these are in the <code class="filename">lib</code> directory. Also, the mail resource adapter has been moved for the <code class="filename">mail</code> directory to <code class="filename">extras</code> and <code class="filename">buni-meldware</code>, external mail and groupware server intended for presentation purposes, has been removed.
				</div><div class="para">
					The <code class="filename">seam2</code> directory contained the 2.0.2FP version of the Seam delivered with JBoss Enterprise Application Platform Feature Pack and the structure has not undergone any significant changes.
				</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
							<code class="filename">bootstrap</code> — JBoss Embedded configuration for the Seam integration testsuite (refer to the S
						</div></li><li class="listitem"><div class="para">
							<code class="filename">lib</code> — library directory
						</div></li><li class="listitem"><div class="para">
							<code class="filename">seam-gen</code> — command-line utility for generating simple skeletal Seam project to allow a quick project start
						</div></li><li class="listitem"><div class="para">
							<code class="filename">build</code> — configuration and resources for building
						</div></li><li class="listitem"><div class="para">
							<code class="filename">examples</code> — examples demonstrating uses of Seam's features
						</div></li><li class="listitem"><div class="para">
							<code class="filename">extras</code> — mail resource adapter; JsUnit testing
						</div></li><li class="listitem"><div class="para">
							<code class="filename">ui</code> — sources for the Seam UI module
						</div></li></ul></div></li></ul></div><div class="para">
			Refer to <a class="xref" href="Deployment.html#Standard_Server_Profiles">Section 7.2, “Standard Server Profiles”</a> for details of the server profiles included in this release. Also refer to <a class="xref" href="Server_Directory_Structure.html">Appendix A, <em>Server Directory Structure</em></a>.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="JBossAS_Use_Cases">
      ⁠</a>2.4. JBoss Enterprise Application Platform Use Cases</h1></div></div></div><div class="para">
			JBoss Enterprise Application Platform is typically used for the following web application types and scenarios:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					Most web applications involving a database
				</div></li><li class="listitem"><div class="para">
					Web applications likely to be clustered
				</div></li><li class="listitem"><div class="para">
					Simple web applications with JSPs/Servlets upgrades to JBoss Enterprise Application Platform with Tomcat Embedded
				</div></li><li class="listitem"><div class="para">
					Intermediate web applications with JSPs/Servlets using a web framework such as Struts, Java Server Faces, Cocoon, Tapestry, Spring, Expresso, Avalon, Turbine
				</div></li><li class="listitem"><div class="para">
					Complex web applications with JSPs/Servlets, Seam, Enterprise Java Beans (EJB), Java Messaging (JMS), caching etc.
				</div></li><li class="listitem"><div class="para">
					Cross-application middleware (JMS, Corba, JMX, etc.)
				</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>JEE 5 Sample Application</strong></p></div><div class="admonition"><div class="para">
				This distribution comes with multiple sample applications including the Seam Booking Application located in <code class="filename"><em class="replaceable">$EAP_HOME</em>/seam/examples/booking/</code>. The application is a Java EE 5 application that makes use of the following technologies:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						EJB3
					</div></li><li class="listitem"><div class="para">
						Stateful Session Beans
					</div></li><li class="listitem"><div class="para">
						Stateless Session Beans
					</div></li><li class="listitem"><div class="para">
						JPA (w/ Hibernate validation)
					</div></li><li class="listitem"><div class="para">
						JSF
					</div></li><li class="listitem"><div class="para">
						Facelets
					</div></li><li class="listitem"><div class="para">
						Ajax4JSF
					</div></li><li class="listitem"><div class="para">
						Seam
					</div></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Architecture_Server_Bootstrap">
      ⁠</a>2.5. Bootstrap</h1></div></div></div><a id="idm139776688067152" class="indexterm"/><div class="para">
			The JBoss Enterprise Application Platform 5 bootstrap is similar to the bootstrap in JBoss Enterprise Application Platform 4 in that the <code class="classname">org.jboss.Main</code> entry point loads an <code class="classname">org.jboss.system.server.Server</code> implementation. In JBoss Enterprise Application Platform 4 this was a JMX-based microkernel. In JBoss Enterprise Application Platform 5, this is a JBoss Microcontainer.
		</div><a id="idm139776769182512" class="indexterm"/><div class="para">
			The default JBoss Enterprise Application Platform 5 <code class="classname">org.jboss.system.server.Server</code> implementation is <code class="classname">org.jboss.bootstrap.microcontainer.ServerImpl</code>. This implementation is an extension of the kernel basic bootstrap that boots the MC from the bootstrap beans declared in <code class="filename">{jboss.server.config.url}/bootstrap.xml</code> descriptors using a <code class="classname">BasicXMLDeployer</code>. In addition, the <code class="classname">ServerImpl</code> registers install callbacks for any beans that implement the <code class="classname">org.jboss.bootstrap.spi.Bootstrap</code> interface. The <code class="filename">bootstrap/profile*.xml</code> configurations include a <code class="classname">ProfileServiceBootstrap</code> bean that implements the Bootstrap interface.
		</div><a id="idm139776680088688" class="indexterm"/><div class="para">
			The <code class="classname">org.jboss.system.server.profileservice.ProfileServiceBootstrap</code> is an implementation of the <code class="classname">org.jboss.bootstrap.spi.Bootstrap</code> interface that loads the deployments associated with the current server profile. The <em class="replaceable">&lt;PROFILE&gt;</em> is the name of the server profile being loaded and corresponds to the <code class="code">server -c</code> command line argument. The default <em class="replaceable">&lt;PROFILE&gt;</em> is <code class="literal">default</code>.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Architecture_Hotdeployment">
      ⁠</a>2.6. Hot Deployment</h1></div></div></div><a id="idm139776684780752" class="indexterm"/><div class="para">
			Hot deployment in JBoss Enterprise Application Platform 5 is controlled by the <code class="classname">Profile</code> implementations associated with the <code class="classname">ProfileService</code>. The <code class="classname">HDScanner</code> bean deployed via the <code class="filename">deploy/hdscanner-jboss-beans.xml</code> MC deployment, queries the profile service for changes in application directory contents and redeploys updated content, undeploys removed content, and adds new deployment content to the current server profile via the <code class="classname">ProfileService</code>.
		</div><a id="idm139776687794784" class="indexterm"/><div class="para">
			If you want to disable hot deployment, temporarily or permanently, use either of the following methods. The second method is best used if you are disabling hot deployment only temporarily, since it's the easiest to undo.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					Remove the <code class="filename">hdscanner-jboss-beans.xml</code> file from deployment;
				</div></li><li class="listitem"><div class="para">
					Edit the <code class="filename">hdscanner-jboss-beans.xml</code> file, add the <code class="varname">scanEnabled</code> attribute (if it's not already present)and set its value to <code class="literal">false</code>.
				</div></li></ul></div><div class="para">
			Below is an extract of a <code class="filename">hdscanner-jboss-beans.xml</code> file in which hot deployment has been disabled.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">&lt;!--</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   Hot deployment scanning</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   $Id: hdscanner-jboss-beans.xml 98983 2010-01-04 13:35:41Z emuckenhuber $</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">--&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;deployment</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:bean-deployer:2.0"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Comment">&lt;!-- Hotdeployment of applications --&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;bean</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"HDScanner"</span><span xmlns="" class="perl_Others"> class=</span><span xmlns="" class="perl_String">"org.jboss.system.server.profileservice.hotdeploy.HDScanner"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"deployer"</span><span xmlns="" class="perl_Keyword">&gt;&lt;inject</span><span xmlns="" class="perl_Others"> bean=</span><span xmlns="" class="perl_String">"ProfileServiceDeployer"</span><span xmlns="" class="perl_Keyword">/&gt;&lt;/property&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"profileService"</span><span xmlns="" class="perl_Keyword">&gt;&lt;inject</span><span xmlns="" class="perl_Others"> bean=</span><span xmlns="" class="perl_String">"ProfileService"</span><span xmlns="" class="perl_Keyword">/&gt;&lt;/property&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"scanPeriod"</span><span xmlns="" class="perl_Keyword">&gt;</span>5000<span xmlns="" class="perl_Keyword">&lt;/property&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"scanThreadName"</span><span xmlns="" class="perl_Keyword">&gt;</span>HDScanner<span xmlns="" class="perl_Keyword">&lt;/property&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"scanEnabled"</span><span xmlns="" class="perl_Keyword">&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/property&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/bean&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   ...(snip)...
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/deployment&gt;</span>
</pre><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="The_JBoss_Server_Overview-Hot-deployment_of_services_in_JBoss-Adding_a_custom_deploy_folder">
      ⁠</a>2.6.1. Adding a Custom Deploy Folder</h2></div></div></div><div class="para">
				JBoss Enterprise Application Platform, by default, looks for deployments under the <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/jboss-as/server/<em class="replaceable">&lt;PROFILE&gt;</em>/deploy</code> folder. However you can configure the server to even include your custom folder for scanning deployments. This can be done by configuring the <code class="classname">BootstrapProfileFactory</code> MC bean in <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/jboss-as/server/<em class="replaceable">&lt;PROFILE&gt;</em>/conf/bootstrap/profile.xml</code> file. The <span class="property"> applicationURIs </span> property of the <code class="classname">BootstrapProfileFactory</code> accepts a list of URLs which will be scanned for applications. You can add your custom deploy folder to this list. For example, if you want <code class="filename">/home/me/myapps</code> to be scanned for deployments, then you can add the following:
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;bean</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"BootstrapProfileFactory"</span><span xmlns="" class="perl_Others"> class=</span><span xmlns="" class="perl_String">"org.jboss.system.server.profileservice.repository.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_String">StaticProfileFactory"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>   ...
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"applicationURIs"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;list</span><span xmlns="" class="perl_Others"> elementClass=</span><span xmlns="" class="perl_String">"java.net.URI"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>${jboss.server.home.url}deploy<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;value&gt;</span>file:///home/me/myapps<span xmlns="" class="perl_Keyword">&lt;/value&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/list&gt;</span>
<span xmlns="" class="line">​</span>   ...
</pre><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
					Modifying the <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/jboss-as/server/<em class="replaceable">&lt;PROFILE&gt;</em>/conf/bootstrap/profile.xml</code> requires a server restart, for the changes to take effect.
				</div></div></div><div class="para">
				For performance reasons, adding a new deployment folder to the <code class="classname">BootstrapProfileFactory</code> also requires the same URL to be added to the <code class="classname">VFSCache</code> MC bean configuration in <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/jboss-as/server/<em class="replaceable">&lt;PROFILE&gt;</em>/conf/bootstrap/vfs.xml</code>. For example:
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;bean</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"VFSCache"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>   ...
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"permanentRoots"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;map</span><span xmlns="" class="perl_Others"> keyClass=</span><span xmlns="" class="perl_String">"java.net.URL"</span><span xmlns="" class="perl_Others"> valueClass=</span><span xmlns="" class="perl_String">"org.jboss.virtual.spi.ExceptionHandler"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>         ...
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;entry&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;key&gt;</span>file:///home/me/myapps<span xmlns="" class="perl_Keyword">&lt;/key&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;value&gt;&lt;inject</span><span xmlns="" class="perl_Others"> bean=</span><span xmlns="" class="perl_String">"VfsNamesExceptionHandler"</span><span xmlns="" class="perl_Keyword">/&gt;&lt;/value&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;/entry&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/map&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/property&gt;</span>
<span xmlns="" class="line">​</span>   ...
</pre><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
					Not adding the custom deployment folder to <code class="classname">VFSCache</code> might result in growing disk space usage by the server, over a period of time.
				</div></div></div></div></div></div></body></html>