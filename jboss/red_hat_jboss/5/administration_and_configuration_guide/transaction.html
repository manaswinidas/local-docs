<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook">Chapter 13. Transaction Management</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta xmlns:d="http://docbook.org/ns/docbook" name="generator" content="publican v4.3.3"/><meta xmlns:d="http://docbook.org/ns/docbook" name="package" content=""/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="transaction">
      ⁠</a>Chapter 13. Transaction Management</h1></div></div></div><div class="para">
		This chapter presents a brief overview of the main configuration options for the JBoss Transaction Service. For more information, please refer to the <em class="citetitle">JBoss Transactions Administration Guide</em>.
	</div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139776751588304">
      ⁠</a>13.1. Overview</h1></div></div></div><div class="para">
			Transaction support in JBoss Enterprise Application Platform is provided by JBoss Transaction Service, a mature, modular,standards based, highly configurable transaction manager. By default, the server runs with the local-only JTA module of JBoss Transaction Service installed. This module provides an implementation of the standard JTA API for use by other internal components, such as the EJB container, as well as direct use by applications. It is suitable for coordinating ACID transactions that involve one or more XA Resource managers, such as relational databases or message queues.
		</div><div class="para">
			Two additional, optional, JBoss Transaction Service transaction modules are also shipped with JBoss Enterprise Application Platform and may be deployed to provide additional functionality if required.
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">JBoss Transaction Service JTS</span></dt><dd><div class="para">
						A Transaction Manager capable of distributing transaction context on remote IIOP method calls, creating a single distributed transaction which spans multiple Java Virtual Machines. This is useful for large-scale applications that span multiple servers, or for standards based interoperability with transactional business logic running in CORBA based systems. The functionality of this module can be accessed through the standard JTA API. In this way, it is a drop-in replacement and does not require changes to transactional business logic. To enable it, refer to <a class="xref" href="transaction.html#using-jts">Section 13.8, “Using the JTS Module”</a> for more information.
					</div></dd><dt><span class="term">JBoss Transaction Service XTS</span></dt><dd><div class="para">
						A Transaction Manager, based on XML, which implements the <em class="firstterm">WS-AtomicTransaction (WS-AT)</em> and <em class="firstterm">WS-BusinessActivity (WS-BA)</em> specifications. This additional module uses core transaction support provided by the JTA or JTS managers, along with web services functionality provided by JBossWS Native. It is deployed into the server as an application. Applications may use WS-AT to provide standards based, distributed ACID transactions in a manner similar to JTS but using a Web Services transport, instead of CORBA. The WS-BA implementation compliments this by providing an alternative, compensation-based transaction model, well suited to coordinating long-running, loosely coupled business processes. XTS also implements a <em class="firstterm">WS-Coordination (WS-C)</em> service which is usually accessed internally by the local WS-AT and WS-BA implementations. However, this WS-C service can also be used to provide remote coordination for WS-AT and WS-BA transactions created in other server instances or non-JBoss containers. Refer to the JBoss Transactions Web Services Programmer's Guide for more details. To enable XTS, refer to <a class="xref" href="transaction.html#using-xts">Section 13.9, “Using the XTS Module”</a>.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139776744104464">
      ⁠</a>13.2. Configuration Essentials</h1></div></div></div><div class="para">
			Configuration of the default JBossTS JTA is managed though a combination of the transaction manager's own properties file and the application server's deployment configuration. The configuration file resides at <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/server/<em class="replaceable">&lt;PROFILE&gt;</em>/conf/jbossts-properties.xml</code>. It contains defaults for the most commonly used properties. Many more are detailed in the accompanying JBoss Transaction Service Administration Guide. Each setting has a hard-coded default, but the system may not function properly if a configuration file does not exist. Additional configuration is also possible as part of the Microcontainer beans configuration found in the <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/server/<em class="replaceable">&lt;PROFILE&gt;</em>/deploy/transaction-jboss-beans.xml</code> file. This ties the transaction manager into the overall server profile, overriding the transaction configuration file settings with values specific to the application server where appropriate. In particular, it uses the Service Binding Manager to set port binding information, as well as overriding selected other properties. Configuration properties are read by the Transaction Service at server initialization, and the server must be restarted to incorporate any changes made to the configuration files.
		</div><div class="table"><a id="idm139776756606160">
      ⁠</a><p class="title"><strong>Table 13.1. Most Critical Properties for JBoss Transaction Service</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Most Critical Properties for JBoss Transaction Service"><colgroup><col/><col/><col/></colgroup><thead><tr><th> <div class="para">
							Property Name
						</div>
						 </th><th> <div class="para">
							Default Value
						</div>
						 </th><th> <div class="para">
							Description
						</div>
						 </th></tr></thead><tbody><tr><td> <div class="para">
							transactionTimeout
						</div>
						 </td><td> <div class="para">
							300 seconds
						</div>
						 </td><td> <div class="para">
							the default time, in seconds, after which a transaction will time out and be rolled back by. Adjust this to suit your environment and workload.
						</div>
						 <div class="para">
							It may come as a surprise that transactions are processed asynchronously. This was a design decision, and needs to be accounted for by your code.
						</div>
						 </td></tr><tr><td> <div class="para">
							objectStoreDir
						</div>
						 </td><td> <div class="para">

						</div>
						 </td><td> <div class="para">
							The directory where transaction data is logged. The transaction log is required to complete transactions in the case of system failure, and needs to be on reliable storage. Normally one file is generated per transaction, and each file is a few kilobytes in size. These are distributed over a directory tree for optimal performance. If a RAID controller is used, it should be configured for write through cache, in much the same manner as database storage devices. Writing of the transaction log is automatically skipped in the case of transactions that are rolling back or contain only a single resource.
						</div>
						 </td></tr><tr><td> <div class="para">
							max-pool-size
						</div>
						 </td><td> <div class="para">

						</div>
						 </td><td> <div class="para">
							The Java EE Connector Architecture container keeps a dedicated physical connection open against the EIS where recovery is performed. Therefore, set the <code class="code">max-pool-size</code> to the maximum number of connection possible minus 1.
						</div>
						 </td></tr></tbody></table></div></div><div class="table"><a id="jbossts-additional-properties">
      ⁠</a><p class="title"><strong>Table 13.2. Additional Properties for JBoss Transaction Service</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Additional Properties for JBoss Transaction Service"><colgroup><col/><col/><col/></colgroup><thead><tr><th> <div class="para">
							Property Name
						</div>
						 </th><th> <div class="para">
							Default Value
						</div>
						 </th><th> <div class="para">
							Description
						</div>
						 </th></tr></thead><tbody><tr><td> <div class="para">
							com.arjuna.common.util.logging.DebugLevel
						</div>
						 </td><td> <div class="para">
							<code class="literal">0x00000000</code>, which equates to no logging
						</div>
						 </td><td> <div class="para">
							determines the internal log threshold for the transaction manager codebase. It is independent of the overall server's <span class="application"><strong>log4j</strong></span> logging configuration, and acts to suppress extraneous log entries from being printed. When the default value is active, INFO and WARN messages are still printed, and this setting provides optimal performance. <code class="literal">0xffffffff</code> enables full debug logging. This setting results in large log files.
						</div>
						 <div class="para">
							Log messages that pass the internal <code class="systemitem">DebugLevel</code> check are passed to the server's logging system for further processing. In theory, full debugging may be left on and <span class="application"><strong>log4j</strong></span> can be used to turn logging on or off, but in reality this has a performance impact.
						</div>
						 </td></tr><tr><td> <div class="para">
							com.arjuna.ats.arjuna.coordinator.commitOnePhase
						</div>
						 </td><td> <div class="para">
							<code class="literal">YES</code>
						</div>
						 </td><td> <div class="para">
							Determines whether the transaction manager automatically applies the one-phase commit optimization to the transaction completion protocol, when only a single resource is registered with the transaction. Enabled by default to prevent writing transaction logs needlessly.
						</div>
						 </td></tr><tr><td> <div class="para">
							com.arjuna.ats.arjuna.objectstore.transactionSync
						</div>
						 </td><td> <div class="para">
							<code class="literal">ON</code>
						</div>
						 </td><td> <div class="para">
							Controls the flushing of transaction logs to disk during transaction termination. The default value results in a <code class="classname">FileDescriptor.sync</code> call for each committing transaction. This behavior is required to provide recovery and ACID properties. If these features are unimportant to the application in question, you can achieve better performance by disabling this property. This is discouraged, since it is usually better to write such applications in a way that avoids using transactions at all.
						</div>
						 </td></tr><tr><td> <div class="para">
							com.arjuna.ats.arjuna.xa.nodeIdentifier
						</div>
						 <div class="para">
							com.arjuna.ats.jta.xaRecoveryNode
						</div>
						 </td><td> <div class="para">

						</div>
						 </td><td> <div class="para">
							These properties determine the behavior of the transaction recovery system. They must be configured correctly to ensure that transactions are resolved correctly so that recovery can happen if the server crashes. Please refer to the Recovery chapter of the JBoss Transactions Administration Guide for more details.
						</div>
						 </td></tr><tr><td> <div class="para">
							com.arjuna.ats.arjuna.coordinator.enableStatistics
						</div>
						 </td><td> <div class="para">
							<code class="literal">NO</code>
						</div>
						 </td><td> <div class="para">
							Enables gathering of transaction statistics. The statistics can be viewed using methods on the <code class="interfacename">TransactionManagerService</code> bean or its corresponding JMX MBean. Disabled by default.
						</div>
						 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139776742161760">
      ⁠</a>13.3. Transactional Resources</h1></div></div></div><div class="para">
			The Transaction Service coordinates transaction state updates using <code class="classname">XAResource</code> implementations, which are provided by the various resource managers. Resource managers may include databases, message queues or third-party JCA resource adapters. The list of databases and JDBC drivers which have been certified on JBoss Enterprise Application Platform is located at <a href="http://www.jboss.com/products/platforms/application/supportedconfigurations/">http://www.jboss.com/products/platforms/application/supportedconfigurations/</a>. Most standards-compliant JDBC drivers should function correctly, but you should perform extensive testing when using an uncertified configuration, since interpretations of the XA specifications different from one vendor to another.
		</div><div class="para">
			Database connection pools are configured via the application server's Datasource files, which are files named like <code class="filename">-ds.xml</code>. Datasources which use the &lt;xa-datasource&gt; property automatically interact with the transaction manager. Connections obtained by looking up such datasource in JNDI and calling <code class="methodname">getConnection</code> automatically participate in ongoing transactions. This is the preferred use case when transactional guarantees for data access are required.
		</div><div class="para">
			If you are using a database which cannot support XA transactions, you can deploy a connection pool using &lt;local-xa-datasource&gt;. This type of datasource participates in the managed transaction using the <a class="xref" href="transaction.html#lrco-overview">Section 13.4, “Last Resource Commit Optimization (LRCO)”</a>, providing more limited transactional guarantees. Connections obtained from a &lt;no-tx-datasource&gt; do not interact with the transaction manager, and any work done on such connections must be explicitly committed or rolled back by the application, using the JDBC API.
		</div><div class="para">
			Many databases require additional configuration before they can function as XA resource managers. Vendor-specific information for configuring databases is presented in <a class="xref" href="appendix-db-specific-datasources.html">Appendix B, <em>Vendor-Specific Datasource Definitions</em></a>. Refer to your database administrator and the documentation which ships with your database for additional configuration directives. In addition, please consult the JBoss Transactions Administration Guide for information on setting up XA recovery properly.
		</div><div class="para">
			JBoss Messaging provides an XA-aware driver and can participate in XA transactions. Please consult the JBoss Messaging User Guide for more details.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="lrco-overview">
      ⁠</a>13.4. Last Resource Commit Optimization (LRCO)</h1></div></div></div><div class="para">
			Although the XA transaction protocol is designed to provide ACID properties by using a two-phase commit protocol, model may not always be appropriate. Sometimes it is necessary to allow a non-XA-aware resource manager to participate in a transaction. This is often the case with data stores that do not support distributed transactions.
		</div><div class="para">
			In this situation, you can use a technique known as <em class="firstterm">Last Resource Commit Optimization (LRCO)</em>. This is sometimes called the <em class="firstterm">Last Resource Gambit</em>. The one-phase-aware resource is processed last in the <code class="methodname">prepare</code> phase of the transaction, at which time an attempt is made to commit it. If the attempt is successful, the transaction log is written and the remaining resources go through the phase-two commit. If the last resource fails to commit, the transaction is rolled back. Although this protocol allows most transactions to complete normally, some errors can cause an inconsistent transaction outcome. For this reason, use LRCO as a last resort. When a single &lt;local-tx-datasource&gt; is used in a transaction, the LRCO is automatically applied to it. In other situations, you can designate a last resource by using a special marker interface. Refer to the JBoss Transactions Programmer's Guide for more details.
		</div><div class="para">
			Using more than a single one-phase resource in the same transaction is not transactionally safe, and is not recommended. JBoss Transaction Service sees an attempt to enlist a second such resource as an error and terminates the transaction. This type of error is most often found when migrating from a legacy version of JBoss Application Server. Whenever possible the &lt;local-tx-datasource&gt; should be converted to an &lt;xa-datasource&gt; to resolve the difficulty.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="transaction-timeout">
      ⁠</a>13.5. Transaction Timeout Handling</h1></div></div></div><div class="para">
			In order to prevent indefinite locking of resources, the transaction manager aborts in-flight transactions that have not completed after a specified interval, using a set of background processes coordinated by the <code class="systemitem">TransactionReaper</code>. The reaper rolls back transactions without interrupting any threads that may be operating within their scope. This prevents instability that results from interrupting threads executing arbitrary code. Furthermore, it allows for timely abort of transactions where the business logic thread may be executing non-interruptible operations such as network I/O operations. This approach may, cause unexpected behavior in code that is not designed to handle multithreaded transactions. Warning or error messages may be printed from transaction-aware components as a result of the unexpected change in transaction status. The transaction outcome should usually be unaffected. Any problems can be minimized by tuning the transaction timeout values. See <a class="xref" href="datasource-config.html">Chapter 17, <em>Datasource Configuration</em></a> for more information.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139776751003824">
      ⁠</a>13.6. Recovery Configuration</h1></div></div></div><div class="para">
			To ensure that your configuration is robust, it is important to configure JBoss Transaction Service properly for failure and recovery. This is covered in detail in the <em class="citetitle">JBoss Transactions Administration Guide</em>, in the "Resource Recovery in JBoss Transaction Service" chapter.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139776769429488">
      ⁠</a>13.7. Transaction Service FAQ</h1></div></div></div><div class="para">
			This section presents some of the most common configuration issues with JBoss Transaction Service.
		</div><div class="qandaset"><a id="idm139776752780720">
      ⁠</a><div xmlns:d="http://docbook.org/ns/docbook" class="qandaset"><div class="qandaentry"><div class="question"><a id="idm139776752780400">
      ⁠</a><div class="label">Q:</div><div class="data"><div class="para">
						I turned on debug logging, but nothing is logged.
					</div></div></div><div class="answer"><div class="label">A:</div><div class="data"><div class="para">
						JBossTS sends log statements though two levels of filters.
					</div><div class="procedure"><ol class="1"><li class="step"><div class="para">
								Logs go through JBoss Transaction Service's own logging abstraction layer.
							</div></li><li class="step"><div class="para">
								Logs go through JBoss Enterprise Application Platform's <code class="systemitem">log4j</code> logging system.
							</div></li></ol></div><div class="para">
						A log statement must pass both filters to be printed. A typical mistake is enabling only one or the other of the logging systems. See <a class="xref" href="transaction.html#jbossts-additional-properties">Table 13.2, “Additional Properties for JBoss Transaction Service”</a> for more information.
					</div></div></div></div><div class="qandaentry"><div class="question"><a id="idm139776724929504">
      ⁠</a><div class="label">Q:</div><div class="data"><div class="para">
						Why do server logs show <code class="code">WARN Adding multiple last resources is disallowed.</code>, and why are my transactions are aborted?
					</div></div></div><div class="answer"><div class="label">A:</div><div class="data"><div class="para">
						You are probably using a &lt;local-xa-datasource&gt; and trying to use more than one one-phase aware participant. This is a configuration to be avoided. See <a class="xref" href="transaction.html#lrco-overview">Section 13.4, “Last Resource Commit Optimization (LRCO)”</a> for more information. If you have further concerns, please contact Global Support Services.
					</div></div></div></div><div class="qandaentry"><div class="question"><a id="idm139776750997168">
      ⁠</a><div class="label">Q:</div><div class="data"><div class="para">
						My server terminated unexpectedly. It is running again, but my logs are filling with messages like <code class="code">WARN  [com.arjuna.ats.jta.logging.loggerI18N] [com.arjuna.ats.internal.jta.resources.arjunacore.norecoveryxa] Could not find new XAResource to use for recovering non-serializable XAResource</code>.
					</div></div></div><div class="answer"><div class="label">A:</div><div class="data"><div class="para">
						You may not have configured all resource managers for recovery. Refer to the Recovery chapter of the JBoss Transactions Administration Guide for more information on configuring resource managers for recovery.
					</div></div></div></div><div class="qandaentry"><div class="question"><a id="idm139776683986112">
      ⁠</a><div class="label">Q:</div><div class="data"><div class="para">
						My transactions take a long time and sometimes strange things happen. The server log contains <code class="code">WARN [arjLoggerI18N] [BasicAction_58] - Abort of action id ... invoked while multiple threads active within it.</code>
					</div></div></div><div class="answer"><div class="label">A:</div><div class="data"><div class="para">
						Transactions which exceed their timeout may be rolled back. This is done by a background thread, which can confuse some application code that may be expecting an interrupt. Refer to <a class="xref" href="transaction.html#transaction-timeout">Section 13.5, “Transaction Timeout Handling”</a> for more information.
					</div></div></div></div></div></div><div class="para">
			If you have questions besides the ones addressed above, please consult the other JBoss Transactions guides, or contact Global Support Services.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="using-jts">
      ⁠</a>13.8. Using the JTS Module</h1></div></div></div><div class="para">
			If you need transaction propagation between business logic in different servers, you can use the JTS API. Although you can use it directly, it is typical to access it via the standard JTA classes. It is a drop-in replacement for the default local-only JTA implementation. The necessary classes are already in place, and you only need to modify the <code class="filename">jbossts-properties.xml</code> file to move between the JTA and JTS modules.
		</div><div class="para">
			A sample <code class="filename">jbossts-properties.xml</code> file is located in the <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/docs/examples/transactions/</code> directory. Consult the <code class="filename">README.txt</code> file in the same directory for more information about changes that need to be made to other files, including the <code class="filename">transactions-jboss-beans.xml</code> file. An ANT script is provided to perform all of the steps automatically, but it is recommended to consult the <code class="filename">README.txt</code> carefully before running the script, as well as backing up your existing configuration.
		</div><div class="para">
			The JTS requires the server configuration to also contain the CORBA ORB service. The "all" server profile referenced in the examples is a good starting point. The choice of JTS or JTA impacts the entire server, and JTS does require additional resources. Therefore, only use it when it is needed.
		</div><div class="para">
			At application start-up, a server that is configured to use JTA outputs log files like this one:
		</div><pre class="screen">
      INFO [TransactionManagerService] JBossTS Transaction Service (JTA version - ...)
</pre><div class="para">
			If JTS is enabled, the message looks like this one:
		</div><pre class="screen">
      INFO [TransactionManagerService] JBossTS Transaction Service (JTS version - ...)
</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="using-xts">
      ⁠</a>13.9. Using the XTS Module</h1></div></div></div><div class="para">
			XTS, which is the Web Services component of JBoss Transaction Service, can be installed to provide WS-AT and WS-BA support for web services hosted on the Enterprise Application Platform. The module is packaged as a <em class="firstterm">Service Archive (.sar)</em> located in <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/docs/examples/transactions/</code>.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm139776681612640">
      ⁠</a><p class="title"><strong>Procedure 13.1. Installing the XTS Module</strong></p><ol class="1"><li class="step"><div class="para">
					Create a subdirectory in the <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/server/[<em class="replaceable">name</em>]/deploy/</code> directory, called <code class="filename">jbossxts.sar/</code>.
				</div></li><li class="step"><div class="para">
					Unpack the .sar, which is a ZIP archive, into this new directory.
				</div></li><li class="step"><div class="para">
					Restart JBoss Enterprise Application Platform for the module to be active.
				</div></li></ol></div><div class="para">
			The server must use either the JTA or JTS module, as well as JBossWS Native.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
				XTS is not currently expected to work with other JBossWS backends such as CXF. The default XTS configuration is suitable for most deployments. It automatically detects information about the network interfaces and port bindings from the EAP configuration. manual configuration changes are only necessary for deployments whose applications need to use a transaction coordinator on a separate host. Consult the JBoss Web Service Transactions Programmer's Guide for more information.
			</div></div></div><div class="para">
			Developers can link against the <code class="filename">jbossxts-api.jar</code> file included in the XTS Service Archive, but should avoid packaging it with their applications, to avoid classloading problems. All other JAR files contain internal implementation classes and should not be used directly.
		</div><div class="para">
			Consult <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/docs/examples/transactions/README.txt</code> for more configuration information. The JBoss Web Services Transactions User Guide contains information about using XTS in your applications.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139776683887376">
      ⁠</a>13.10. Transaction Management Console</h1></div></div></div><div class="para">
			The Transaction Management Console is a simple GUI tool that is included in <code class="filename"><em class="replaceable">&lt;JBOSS_HOME&gt;</em>/docs/example/transactions/</code>. It is provided as an unsupported, experimental prototype. Consult the <code class="filename">README.txt</code> file for its capabilities and information about its use.
		</div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm139776724828640">
      ⁠</a>13.11. Experimental Components</h1></div></div></div><div class="para">
			In addition to the supported components of JBoss Transaction Service which are included in JBoss Enterprise Application Platform, there is ongoing feature work that may eventually find its way into future releases of the product. In the meantime, these prototype components are available via from the <a href="http://jboss.org">http://jboss.org</a> Community website.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
				There is no guarantee these components will work correctly and they are not covered under the Enterprise Application Platform support agreement. However, some of the advanced functionality available may useful for projects in the early stages of development. Users downloading these prototypes must be aware of the limitations concerning module compatibility, in accordance with the <a class="xref" href="transaction.html#transactions-source-code">Section 13.12, “Source Code and Upgrading”</a>.
			</div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">txbridge</span></dt><dd><div class="para">
						Sometimes you may need the ability to invoke traditional transaction components, such as EJBs, within the scope of a Web Services transaction. Conversely, some traditional transactional applications may need to invoke transactional web services. The Transaction Bridge (txbridge) provides mechanisms for linking these two types of transactional services together.
					</div></dd><dt><span class="term">BA Framework</span></dt><dd><div class="para">
						The XTS API operates at a very low level, requiring the developer to undertake much of the transaction infrastructure work involved in WS-BA. The BA Framework provides high-level annotations that enable JBoss Transaction Service to handle this infrastructure. The developer can then focus more on business logic instead.
					</div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="transactions-source-code">
      ⁠</a>13.12. Source Code and Upgrading</h1></div></div></div><div class="para">
			Most problems relating to transactions can be diagnosed by Global Support Services, after you provide debug logging information from the server.
		</div><div class="para">
			However, you can debug or review the source code yourself, using your own tools. You can download the source code using the Subversion repository at <a href="http://anonsvn.jboss.org/repos/labs/labs/jbosstm/">http://anonsvn.jboss.org/repos/labs/labs/jbosstm/</a>. Enterprise Application Platform outputs the version of the Transaction Service at start up, using a string similar to this one:
		</div><pre class="screen">
      INFO [TransactionManagerService] JBossTS Transaction Service (JTA version - tag:JBOSSTS_4_6_1_GA_CP02) - JBoss Inc.
</pre><div class="para">
			The <code class="systemitem">tag</code> element corresponds to a tree under /tags/ in the Subversion repository. Note that the version refers to the version of the JBoss Transaction Service component used in the Enterprise Application Platform, not the version of EAP itself. If you build Enterprise Application Platform from source, you can also find the version by searching for the string <code class="varname">version.jboss.jbossts</code> in the <code class="filename">component-matrix/pom.xml</code> file.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
				Installing any version of JBossTS other than those provided with the Enterprise Application Platform you are using is not supported. While some JBoss Transaction Service components are packaged separately, it is unsupported to use different versions than the ones supplied with Enterprise Application Platform.
			</div></div></div></div></div></body></html>